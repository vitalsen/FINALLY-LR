<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="1">
  <HTTPTask id="1" hostname="www.advantageonlineshopping.com" path="/" url="https://www.advantageonlineshopping.com/" ip="54.227.55.203" port="443" client_ip="192.168.0.11" client_port="21440" connectionId="2288" origin="Primary" encodingType="ANSI" startDateTime="2023-05-24T16:05:41.425+03:00" startTime="301" endTime="852" blockedTime="-1" dnsTime="1" connectTime="271" sendTime="4294967295" waitTime="4294967295" receiveTime="4" sslNegotiateTime="138" responseBodySize="3067">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name=":method" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VU</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name=":scheme" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name=":path" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Lw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name=":authority" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>d3d3LmFkdmFudGFnZW9ubGluZXNob3BwaW5nLmNvbQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Site" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm9uZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Mode" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bmF2aWdhdGU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Dest" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZG9jdW1lbnQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-User" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>PzE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Upgrade-Insecure-Requests" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="sec-ch-ua" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ikdvb2dsZSBDaHJvbWUiO3Y9IjExMyIsICJDaHJvbWl1bSI7dj0iMTEzIiwgIk5vdC1BLkJyYW5kIjt2PSIyNCI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="sec-ch-ua-mobile" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>PzA=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="sec-ch-ua-platform" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IldpbmRvd3Mi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="12">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzExMy4wLjAuMCBTYWZhcmkvNTM3LjM2</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="13">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZSwgYnI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="14">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cnUtUlUscnU7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjc=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="15">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="cookie" index="16">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>X2dhPUdBMS4yLjUxODEzNzM3OC4xNjg0NzQyNjEwOyBfZ2lkPUdBMS4yLjE3NzgxMzUwMDMuMTY4NDc0MjYxMDsgdXNlckNhcnQ9JTdCJTIydXNlcklkJTIyJTNBLTElMkMlMjJwcm9kdWN0c0luQ2FydCUyMiUzQSU1QiU1RCU3RA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Om1ldGhvZDogR0VUDQo6c2NoZW1lOiBodHRwcw0KOnBhdGg6IC8NCjphdXRob3JpdHk6IHd3dy5hZHZhbnRhZ2VvbmxpbmVzaG9wcGluZy5jb20NClNlYy1GZXRjaC1TaXRlOiBub25lDQpTZWMtRmV0Y2gtTW9kZTogbmF2aWdhdGUNClNlYy1GZXRjaC1EZXN0OiBkb2N1bWVudA0KU2VjLUZldGNoLVVzZXI6ID8xDQpVcGdyYWRlLUluc2VjdXJlLVJlcXVlc3RzOiAxDQpzZWMtY2gtdWE6ICJHb29nbGUgQ2hyb21lIjt2PSIxMTMiLCAiQ2hyb21pdW0iO3Y9IjExMyIsICJOb3QtQS5CcmFuZCI7dj0iMjQiDQpzZWMtY2gtdWEtbW9iaWxlOiA/MA0Kc2VjLWNoLXVhLXBsYXRmb3JtOiAiV2luZG93cyINClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMTMuMC4wLjAgU2FmYXJpLzUzNy4zNg0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlLCBicg0KQWNjZXB0LUxhbmd1YWdlOiBydS1SVSxydTtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNw0KQWNjZXB0OiAqLyoNCmNvb2tpZTogX2dhPUdBMS4yLjUxODEzNzM3OC4xNjg0NzQyNjEwOyBfZ2lkPUdBMS4yLjE3NzgxMzUwMDMuMTY4NDc0MjYxMDsgdXNlckNhcnQ9JTdCJTIydXNlcklkJTIyJTNBLTElMkMlMjJwcm9kdWN0c0luQ2FydCUyMiUzQSU1QiU1RCU3RA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="_ga" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0ExLjIuNTE4MTM3Mzc4LjE2ODQ3NDI2MTA=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="_gid" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0ExLjIuMTc3ODEzNTAwMy4xNjg0NzQyNjEw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="userCart" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>JTdCJTIydXNlcklkJTIyJTNBLTElMkMlMjJwcm9kdWN0c0luQ2FydCUyMiUzQSU1QiU1RCU3RA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
      <HTTPPropertySet>
        <HTTPProperty name="StreamID">1</HTTPProperty>
        <HTTPProperty name="TotalHeadersSize">464</HTTPProperty>
      </HTTPPropertySet>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>0</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Status" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MjAw</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="server" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bmdpbngvMS4xOC4wIChVYnVudHUp</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="date" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>V2VkLCAyNCBNYXkgMjAyMyAxMzowNTo0MyBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="content-type" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>dGV4dC9odG1s</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="accept-ranges" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="etag" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Vy8iMTA4MjctMTY0MTgxMDUxMjAwMCI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="last-modified" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW9uLCAxMCBKYW4gMjAyMiAxMDoyODozMiBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="cache-control" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0w</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="expires" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>V2VkLCAyNCBNYXkgMjAyMyAxMzowNTo0MyBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="vary" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YWNjZXB0LWVuY29kaW5n</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="content-encoding" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="strict-transport-security" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0zMTUzNjAwMDsgaW5jbHVkZVN1YkRvbWFpbnM7IHByZWxvYWQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8yLjAgMjAwDQpTdGF0dXM6IDIwMA0Kc2VydmVyOiBuZ2lueC8xLjE4LjAgKFVidW50dSkNCmRhdGU6IFdlZCwgMjQgTWF5IDIwMjMgMTM6MDU6NDMgR01UDQpjb250ZW50LXR5cGU6IHRleHQvaHRtbA0KYWNjZXB0LXJhbmdlczogYnl0ZXMNCmV0YWc6IFcvIjEwODI3LTE2NDE4MTA1MTIwMDAiDQpsYXN0LW1vZGlmaWVkOiBNb24sIDEwIEphbiAyMDIyIDEwOjI4OjMyIEdNVA0KY2FjaGUtY29udHJvbDogbWF4LWFnZT0wDQpleHBpcmVzOiBXZWQsIDI0IE1heSAyMDIzIDEzOjA1OjQzIEdNVA0KdmFyeTogYWNjZXB0LWVuY29kaW5nDQpjb250ZW50LWVuY29kaW5nOiBnemlwDQpzdHJpY3QtdHJhbnNwb3J0LXNlY3VyaXR5OiBtYXgtYWdlPTMxNTM2MDAwOyBpbmNsdWRlU3ViRG9tYWluczsgcHJlbG9hZA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>PCFET0NUWVBFIGh0bWwgPgo8aHRtbCBsYW5nPSJlbiI+CjxoZWFkPgogICAgPG1ldGEgY2hhcnNldD0idXRmLTgiPgogICAgPG1ldGEgaHR0cC1lcXVpdj0iWC1VQS1Db21wYXRpYmxlIiBjb250ZW50PSJJRT1lZGdlIj4KICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSI+CiAgICA8bWV0YSBuYW1lPSJkZXNjcmlwdGlvbiIgY29udGVudD0iIj4KICAgIDxtZXRhIG5hbWU9ImF1dGhvciIgY29udGVudD0iIj4KICAgIDxsaW5rIHJlbD0ic2hvcnRjdXQgaWNvbiIgaHJlZj0iY3NzL2ltYWdlcy9mYXZpY29uLmljbyI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCAgaW5pdGlhbC1zY2FsZT0xLjAsIG1pbmltdW0tc2NhbGU9MS4wLCBtYXhpbXVtLXNjYWxlPTEuMCIvPgogICAgPHRpdGxlPiZuYnNwO0FkdmFudGFnZSBTaG9wcGluZzwvdGl0bGU+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9ImNzcy9tYWluLm1pbi5jc3MiPgogICAgPCEtLTxzY3JpcHQ+LS0+CiAgICAgICAgPCEtLShmdW5jdGlvbihpLHMsbyxnLHIsYSxtKXtpWydHb29nbGVBbmFseXRpY3NPYmplY3QnXT1yO2lbcl09aVtyXXx8ZnVuY3Rpb24oKXsoaVtyXS5xPWlbcl0ucXx8W10pLnB1c2goYXJndW1lbnRzKX0saVtyXS5sPTEqbmV3IERhdGUoKTthPXMuY3JlYXRlRWxlbWVudChvKSwtLT4KICAgICAgICAgICAgICAgIDwhLS1tPXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUobylbMF07YS5hc3luYz0xO2Euc3JjPWc7bS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLG0pfSkod2luZG93LGRvY3VtZW50LCdzY3JpcHQnLCdodHRwczovL3d3dy5nb29nbGUtYW5hbHl0aWNzLmNvbS9hbmFseXRpY3MuanMnLCdnYScpOy0tPgogICAgICAgIDwhLS1nYSgnY3JlYXRlJywgJ1VBLTgxMzM0MjI3LTEnLCAnYXV0bycpO2dhKCdzZW5kJywgJ3BhZ2V2aWV3Jyk7LS0+CiAgICA8IS0tPC9zY3JpcHQ+LS0+Cgo8L2hlYWQ+Cgo8Ym9keSBkYXRhLW5nLWNvbnRyb2xsZXI9Im1haW5DdHJsIGFzIG1haW5DdHJsIiBkYXRhLW5nLWNsb2FrPgo8IS0tPGRpdiBpZD0idGVhbSIgZGF0YS1uZy1jbGljaz0ibWFpbkN0cmwuY2xvc2VJbWdUZWFtKCkiPi0tPgogICAgPCEtLTxkaXYgY2xhc3M9ImNvbnRhaW5lciI+LS0+CiAgICAgICAgPCEtLTxkaXYgY2xhc3M9ImltZyI+LS0+CiAgICAgICAgICAgIDwhLS08ZGl2IGlkPSJ0ZWFtSWRUb0FuaW1hdGUiIGNsYXNzPSJhbmltYXRlZCI+LS0+CiAgICAgICAgICAgICAgICA8IS0tPGltZyBzcmM9Ii4uLy4uL2Nzcy9pbWFnZXMvQWR2YW50YWdlX29ubGluZV9zaG9wcGluZ190ZWFtLmpwZyIgYWx0PSJ0ZWFtIj4tLT4KICAgICAgICAgICAgPCEtLTwvZGl2Pi0tPgogICAgICAgIDwhLS08L2Rpdj4tLT4KICAgIDwhLS08L2Rpdj4tLT4KPCEtLTwvZGl2Pi0tPgoKPGRpdiBjbGFzcz0id2FpdEJhY2tncm91bmRfMiI+CiAgICA8ZGl2PgogICAgICAgIDwhLS0KICAgICAgICA8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiCiAgICAgICAgICAgICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgICAgICAgICAgICB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIKICAgICAgICAgICAgIHg9IjBweCIgeT0iMHB4IgogICAgICAgICAgICAgd2lkdGg9IjI1MHB4IiBoZWlnaHQ9IjI1MHB4IiB2aWV3Qm94PSIwIDAgMzAgNDUiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDQ1IDQ1IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KICAgICAgICAgICAgICAgIDxwYXRoIGZpbGw9IiM1NEIzQUQiIGQ9Ik0yMSwzM2gtNmMtMS4xLDAtMi0xLjEtMi0yLjJWN2gyLjljMC43LDAsMS4zLDAuNCwxLjYsMS4xbDEyLjksMzUuMmMwLjQsMSwxLjYsMS42LDIuNiwxLjZoNUwyMiwxLjgKICAgICAgICAgICAgICAgICAgICBDMjEuNiwwLjcsMjEuMSwwLDIwLDBINnYzNC4xYzAsMy4zLDEuNCw1LjksNSw1LjloMTRsLTEuMy01LjZDMjMuNCwzMy40LDIyLDMzLDIxLDMzeiIvPgogICAgICAgIDwvc3ZnPi0tPgogICAgPC9kaXY+CjwvZGl2PgoKPGRpdiBjbGFzcz0ibG9hZGVyIj4KICAgIDxkaXY+CiAgICAgICAgPHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgICAgICAgICAgPGRlZnM+CiAgICAgICAgICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjguMDQyJSIgeTE9IjAlIiB4Mj0iNjUuNjgyJSIgeTI9IjIzLjg2NSUiIGlkPSJhIj4KICAgICAgICAgICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjNTRCM0FEIiBzdG9wLW9wYWNpdHk9IjAiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjNTRCM0FEIiBzdG9wLW9wYWNpdHk9Ii42MzEiIG9mZnNldD0iNjMuMTQ2JSIvPgogICAgICAgICAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM1NEIzQUQiIG9mZnNldD0iMTAwJSIvPgogICAgICAgICAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICAgICAgPC9kZWZzPgogICAgICAgICAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMSAxKSI+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTM2IDE4YzAtOS45NC04LjA2LTE4LTE4LTE4IiBpZD0iT3ZhbC0yIiBzdHJva2U9InVybCgjYSkiIHN0cm9rZS13aWR0aD0iMiI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9InJvdGF0ZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tPSIwIDE4IDE4IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvPSIzNjAgMTggMTgiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyPSIwLjlzIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIi8+CiAgICAgICAgICAgICAgICAgICAgPC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgZmlsbD0iIzU0QjNBRCIgY3g9IjM2IiBjeT0iMTgiIHI9IjEiPgogICAgICAgICAgICAgICAgICAgICAgICA8YW5pbWF0ZVRyYW5zZm9ybQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSJyb3RhdGUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbT0iMCAxOCAxOCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bz0iMzYwIDE4IDE4IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cj0iMC45cyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIvPgogICAgICAgICAgICAgICAgICAgIDwvY2lyY2xlPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9zdmc+CiAgICA8L2Rpdj4KPC9kaXY+Cgo8bG9naW4tbW9kYWw+PC9sb2dpbi1tb2RhbD4KCjxzcGFuIGNsYXNzPSJtb2JpbGVUaXRsZSI+CiAgICA8ZGl2IGNsYXNzPSJtaW5pLXRpdGxlIiBpZD0ibG9naW5Nb2JpbGVNaW5pVGl0bGUiPgogICAgICAgIDxsYWJlbCBjbGFzcz0ib3B0aW9uIiB0cmFuc2xhdGU9Ik15X2FjY291bnQiIG5nLWNsaWNrPSJhY2NvdW50U2VjdGlvbigpIj48L2xhYmVsPgogICAgICAgIDxsYWJlbCBjbGFzcz0ib3B0aW9uIiB0cmFuc2xhdGU9Ik15X09yZGVycyIgbmctY2xpY2s9Im1vYmlsZVJlZGlyZWN0KCdNeU9yZGVycycpIj48L2xhYmVsPgogICAgICAgIDxsYWJlbCBjbGFzcz0ib3B0aW9uIiB0cmFuc2xhdGU9IlNpZ25fb3V0IiBuZy1jbGljaz0ic2lnbk91dCgpIj48L2xhYmVsPgogICAgPC9kaXY+Cjwvc3Bhbj4KCjxzcGFuIGNsYXNzPSJtb2JpbGVUaXRsZSI+CiAgICA8ZGl2IGNsYXNzPSJtaW5pLXRpdGxlLWhlbHAgbWluaS10aXRsZS1oZWxwLW1vYmlsZSIgaWQ9ImhlbHBNb2JpbGVNaW5pVGl0bGUiPgogICAgICAgIDxsYWJlbCBjbGFzcz0ib3B0aW9uIiB0cmFuc2xhdGU9IkFCT1VUIiBuZy1jbGljaz0ibW9iaWxlUmVkaXJlY3RIZWxwKCdhYm91dCcpIj48L2xhYmVsPgogICAgICAgIDxsYWJlbCBjbGFzcz0ib3B0aW9uIiB0cmFuc2xhdGU9IkFPU19WRVJTSU9OUyIgbmctY2xpY2s9Im1vYmlsZVJlZGlyZWN0SGVscCgndmVyc2lvbicpIj48L2xhYmVsPgogICAgICAgIDxsYWJlbCBjbGFzcz0ib3B0aW9uIiB0cmFuc2xhdGU9IkNPTkZJR19UT09MIiBuZy1jbGljaz0ib3BlbkFkbWluQ2xpZW50KCkiPjwvbGFiZWw+CiAgICA8L2Rpdj4KPC9zcGFuPgoKPGFzaWRlIGlkPSJtb2JpbGUtc2VjdGlvbiIgZGF0YS1uZy1jbG9haz4KICAgIDx1bD4KICAgICAgICA8bGkgZGF0YS1uZy1jbGljaz0ibW9iaWxlUmVkaXJlY3QoJ2RlZmF1bHQnKSI+CiAgICAgICAgICAgIDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgcm9sZT0ibGluayIgY2xhc3M9ImltZyI+CiAgICAgICAgICAgICAgICA8ZGl2IGljb24taG9tZS1zdmctbW9iaWxlPjwvZGl2PgogICAgICAgICAgICA8L2E+CiAgICAgICAgPC9saT4KICAgICAgICA8bGkgZGF0YS1uZy1jbGljaz0ibW9iaWxlUmVkaXJlY3QoJ3Nob3BwaW5nQ2FydCcpIj4KICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiByb2xlPSJsaW5rIiBjbGFzcz0iaW1nIj4KICAgICAgICAgICAgICAgIDxkaXYgaWNvbi1jYXJ0LXN2Zy1tb2JpbGU+PC9kaXY+CiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iY2FydCIgbmctc2hvdz0iKGNhcnQgfCBwcm9kdWN0c0NhcnRDb3VudCkgPiAwIj57eyBjYXJ0IHwgcHJvZHVjdHNDYXJ0Q291bnQgfX08L3NwYW4+CiAgICAgICAgICAgIDwvYT4KICAgICAgICA8L2xpPgogICAgICAgIDxsaSBjbGFzcz0icG9pbnRlciIgZGF0YS1uZy1jbGljaz0ibG9naW4oJ2xvZ2luTW9iaWxlTWluaVRpdGxlJykiPgogICAgICAgICAgICA8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIHJvbGU9ImxpbmsiIGNsYXNzPSJpbWcgY2VudGVyIj4KICAgICAgICAgICAgICAgIDxkaXYgaWNvbi11c2VyLXN2Zy1tb2JpbGU+PC9kaXY+CiAgICAgICAgICAgICAgICA8c3BhbiBkYXRhLW5nLXNob3c9InVzZXJDb29raWUucmVzcG9uc2UiIGNsYXNzPSJoaS11c2VyIj57e3VzZXJDb29raWUubmFtZX19PC9zcGFuPgogICAgICAgICAgICA8L2E+CiAgICAgICAgPC9saT4KICAgIDwvdWw+CjwvYXNpZGU+Cgo8IS0tIGVuZCBtb2JpbGUgc2xpZGVyIC0tPgoKCgoKPCEtLSBuYXZpZ2F0aW9uIC0tPgoKPGhlYWRlciBuZy1zaG93PSJ3ZWxjb21lIiBkYXRhLW5nLWNsb2FrPgogICAgPG5hdj4KICAgICAgICA8dWwgY2xhc3M9InJvYm90by1saWdodCBkZXNrdG9wLWhhbmRsZXIiID4KICAgICAgICAgICAgPGxpPgogICAgICAgICAgICAgICAgPGEgaWQ9ImhlbHBMaW5rIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIHJvbGU9ImxpbmsiIGNsYXNzPSJpbWciIGRhdGEtbmctY2xpY2s9ImhlbHAoJ2hlbHBNaW5pVGl0bGUnKSIKICAgICAgICAgICAgICAgICAgIGRhdGEtbmctbW91c2VlbnRlcj0ibWluaVRpdGxlSW4oJ2hlbHBNaW5pVGl0bGUnKSIKICAgICAgICAgICAgICAgICAgIGRhdGEtbmctbW91c2VsZWF2ZT0ibWluaVRpdGxlT3V0KCdoZWxwTWluaVRpdGxlJykiPgoKICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz0iLi4vLi4vY3NzL2ltYWdlcy9Eb3duX2Fycm93LnN2ZyIgd2lkdGg9IjEycHgiOyBoZWlnaHQ9IjdweCI7PgogICAgICAgICAgICAgICAgICAgIDxkaXYgaWNvbi1oZWxwLXN2Zz48L2Rpdj4KCiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iaGVscE1pbmlUaXRsZSIgY2xhc3M9Im1pbmktdGl0bGUtaGVscCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0ib3B0aW9uIHJvYm90by1tZWRpdW0iIHRyYW5zbGF0ZT0iQUJPVVQiIG5nLWNsaWNrPSJtb2JpbGVSZWRpcmVjdEhlbHAoJ2Fib3V0JykiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgcm9sZT0ibGluayI+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJvcHRpb24iIHRyYW5zbGF0ZT0iQU9TX1ZFUlNJT05TIiBuZy1jbGljaz0ibW9iaWxlUmVkaXJlY3RIZWxwKCd2ZXJzaW9uJykiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgcm9sZT0ibGluayI+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJvcHRpb24iIHRyYW5zbGF0ZT0iQ09ORklHX1RPT0wiIG5nLWNsaWNrPSJvcGVuQWRtaW5DbGllbnQoKSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiByb2xlPSJsaW5rIj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICA8L2xpPgogICAgICAgICAgICA8bGkgZGF0YS1uZy1tb3VzZWVudGVyPSJlbnRlckNhcnQoKSIgZGF0YS1uZy1tb3VzZWxlYXZlPSJsZWF2ZUNhcnQoKSI+CiAgICAgICAgICAgICAgICA8YSBpZD0ic2hvcHBpbmdDYXJ0TGluayIgYXJpYS1sYWJlbD0iU2hvcHBpbmdDYXJ0IiBjbGFzcz0iaW1nIiBocmVmPSIjL3Nob3BwaW5nQ2FydCIgcm9sZT0ibGluayI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBpY29uLWNhcnQtc3ZnPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJjYXJ0IiBuZy1zaG93PSIoY2FydCB8IHByb2R1Y3RzQ2FydENvdW50KSA+IDAiPnt7IGNhcnQgfCBwcm9kdWN0c0NhcnRDb3VudCB9fTwvc3Bhbj4KICAgICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICAgIDx1bD4KICAgICAgICAgICAgICAgICAgICA8bGkgc3R5bGU9InBvc2l0aW9uOiByZWxhdGl2ZTsgYmFja2dyb3VuZC1jb2xvcjogd2hpdGUiPgogICAgICAgICAgICAgICAgICAgICAgICA8dG9vbC10aXAtY2FydCBpZD0idG9vbFRpcENhcnQiPjwvdG9vbC10aXAtY2FydD4KICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgPC91bD4KICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgPGxpPgogICAgICAgICAgICAgICAgPGEgaWQ9Im1lbnVVc2VyTGluayIgYXJpYS1sYWJlbD0iVXNlck1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgcm9sZT0ibGluayIgY2xhc3M9ImltZyIgZGF0YS1uZy1jbGljaz0ibG9naW4oJ2xvZ2luTWluaVRpdGxlJykiCiAgICAgICAgICAgICAgICAgICBkYXRhLW5nLW1vdXNlZW50ZXI9Im1pbmlUaXRsZUluKCdsb2dpbk1pbmlUaXRsZScpIgogICAgICAgICAgICAgICAgICAgZGF0YS1uZy1tb3VzZWxlYXZlPSJtaW5pVGl0bGVPdXQoJ2xvZ2luTWluaVRpdGxlJykiPgogICAgICAgICAgICAgICAgICAgIDxzcGFuIGRhdGEtbmctc2hvdz0idXNlckNvb2tpZS5yZXNwb25zZSIgY2xhc3M9ImhpLXVzZXIgY29udGFpbk1pbmlUaXRsZSI+e3t1c2VyQ29va2llLm5hbWV9fTwvc3Bhbj48ZGl2IGljb24tdXNlci1zdmc+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWluaS10aXRsZSIgaWQ9ImxvZ2luTWluaVRpdGxlIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJvcHRpb24gcm9ib3RvLW1lZGl1bSIgdHJhbnNsYXRlPSJNeV9hY2NvdW50IiBuZy1jbGljaz0iYWNjb3VudFNlY3Rpb24oKSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiByb2xlPSJsaW5rIj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9Im9wdGlvbiIgdHJhbnNsYXRlPSJNeV9PcmRlcnMiIG5nLWNsaWNrPSJtb2JpbGVSZWRpcmVjdCgnTXlPcmRlcnMnKSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiByb2xlPSJsaW5rIj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9Im9wdGlvbiByb2JvdG8tbWVkaXVtIiB0cmFuc2xhdGU9IlNpZ25fb3V0IiBuZy1jbGljaz0ic2lnbk91dCgkZXZlbnQpIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIHJvbGU9ImxpbmsiPjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgIDxsaT4KICAgICAgICAgICAgICAgIDxhIGNsYXNzPSJpbWciPgogICAgICAgICAgICAgICAgICAgIDxzZWFyY2ggdG9vbC10aXAtc2VhcmNoPjwvc2VhcmNoPgogICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICA8L2xpPgogICAgICAgICAgICA8bGkgY2xhc3M9Im5hdi1saS1MaW5rcyI+CiAgICAgICAgICAgICAgICA8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIHJvbGU9ImxpbmsiIG5nLWNsaWNrPSJnb3RvRWxlbWVudCgnY29udGFjdF91cycpIiBjbGFzcz0ibWVudSBuYXZMaW5rcyByb2JvdG8tcmVndWxhciIgdHJhbnNsYXRlPSJDT05UQUNUX1VTIj48L2E+CiAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgIDxsaSBjbGFzcz0ibmF2LWxpLUxpbmtzIj4KICAgICAgICAgICAgICAgIDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgcm9sZT0ibGluayIgY2xhc3M9Im1lbnUgbmF2TGlua3Mgcm9ib3RvLXJlZ3VsYXIiIG5nLWNsaWNrPSJnb3RvRWxlbWVudCgncG9wdWxhcl9pdGVtcycpIgogICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlPSJQT1BVTEFSX0lURU1TIj48L2E+CiAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgIDxsaSBjbGFzcz0ibmF2LWxpLUxpbmtzIj4KICAgICAgICAgICAgICAgIDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgcm9sZT0ibGluayIgY2xhc3M9Im1lbnUgbmF2TGlua3Mgcm9ib3RvLXJlZ3VsYXIiIG5nLWNsaWNrPSJnb3RvRWxlbWVudCgnc3BlY2lhbF9vZmZlcl9pdGVtcycpIgogICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlPSJTUEFDSUFMX09GRkVSIj48L2E+CiAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgIDxsaSBjbGFzcz0ibmF2LWxpLUxpbmtzIj4KICAgICAgICAgICAgICAgIDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgcm9sZT0ibGluayIgY2xhc3M9Im1lbnUgbmF2TGlua3Mgcm9ib3RvLXJlZ3VsYXIiIG5nLWNsaWNrPSJnb3RvRWxlbWVudCgnb3VyX3Byb2R1Y3RzJykiCiAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGU9Ik9VUl9QUk9EVUNUUyI+PC9hPgogICAgICAgICAgICA8L2xpPgoKICAgICAgICA8L3VsPgogICAgICAgIDxkaXYgY2xhc3M9ImxvZ28iPgogICAgICAgICAgICA8YSBocmVmPSIjLyIgcm9sZT0ibGluayIgbmctY2xpY2s9ImdvX3VwKCkiPgogICAgICAgICAgICAgICAgPCEtLTxpbWcgc3JjPSJjc3MvaW1hZ2VzL2xvZ28ucG5nIi8+LS0+CiAgICAgICAgICAgICAgICA8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgogICAgICAgICAgICAgICAgICAgICB3aWR0aD0iNDVweCIgaGVpZ2h0PSI0NXB4IiB2aWV3Qm94PSIwIDAgMzAgNDUiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDQ1IDQ1IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBmaWxsPSIjNTRCM0FEIiBkPSJNMjEsMzNoLTZjLTEuMSwwLTItMS4xLTItMi4yVjdoMi45YzAuNywwLDEuMywwLjQsMS42LDEuMWwxMi45LDM1LjJjMC40LDEsMS42LDEuNiwyLjYsMS42aDVMMjIsMS44CiAgICAgICAgICAgICAgICAgICAgICAgIEMyMS42LDAuNywyMS4xLDAsMjAsMEg2djM0LjFjMCwzLjMsMS40LDUuOSw1LDUuOWgxNGwtMS4zLTUuNkMyMy40LDMzLjQsMjIsMzMsMjEsMzN6Ii8+CiAgICAgICAgICAgICAgICA8L3N2Zz4KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJyb2JvdG8tbWVkaXVtIj57eydkdmFudGFnZScgfCB0cmFuc2xhdGV9fTwvc3Bhbj4KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsb2dvRGVtbyByb2JvdG8tbGlnaHQiPnt7J0RFTU8nIHwgdHJhbnNsYXRlfX08L3NwYW4+CiAgICAgICAgICAgIDwvYT4KCiAgICAgICAgICAgIDxkaXYgaWQ9Im1vYmlsZS1idG4iIGNsYXNzPSJtb2JpbGUtYnRuLWhhbmRsZXIiIG5nLWNsaWNrPSJvcGVuTW9iaWxlU2VjdGlvbigpIj4KICAgICAgICAgICAgICAgIDxzcGFuPjwvc3Bhbj48c3Bhbj48L3NwYW4+PHNwYW4+PC9zcGFuPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvbmF2PgogICAgPHRvYXN0ZXItY29udGFpbmVyIHRvYXN0ZXItb3B0aW9ucz0ieyd0aW1lLW91dCc6IDUwMDAsIH0iIHRvYXN0ZXItb3B0aW9ucz0ie30iPjwvdG9hc3Rlci1jb250YWluZXI+CjwvaGVhZGVyPgoKPCEtLSBlbmQgbmF2aWdhdGlvbiAiIG5nLXNob3c9ImNhcnRDb3VudCAhPSAwIC0tPgoKPGRpdiBjbGFzcz0idWl2aWV3IiB1aS12aWV3PjwvZGl2PgoKPGRpdiB2aXJ0dWFsLWZvb3Rlcj48L2Rpdj4KCgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgZGF0YS1tYWluPSJtYWluLm1pbiIgc3JjPSJ2ZW5kb3IvcmVxdWlyZWpzL3JlcXVpcmUuanMiPjwvc2NyaXB0PgoKPGRpdiBpZD0idG9hc3QiPgogICAgPGE+UHJvZHVjdCBBZGRlZCBTdWNjZXNzZnVsbHk8L2E+CjwvZGl2PgoKPC9ib2R5Pgo8L2h0bWw+</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <HTTPPropertySet>
        <HTTPProperty name="StreamID">1</HTTPProperty>
        <HTTPProperty name="TotalHeadersSize">262</HTTPProperty>
      </HTTPPropertySet>
    </HTTPResponse>
    <HTTPTask id="2" hostname="www.advantageonlineshopping.com" path="/css/main.min.css" url="https://www.advantageonlineshopping.com/css/main.min.css" ip="54.227.55.203" port="443" client_ip="192.168.0.11" client_port="21440" connectionId="2288" origin="HTML" encodingType="ANSI" ordinal="1" startDateTime="2023-05-24T16:05:41.975+03:00" startTime="851" endTime="1423" blockedTime="-1" dnsTime="-1" connectTime="-2" sendTime="4294967295" waitTime="4294967295" receiveTime="107" sslNegotiateTime="-1" responseBodySize="30365">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name=":method" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VU</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name=":scheme" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cHM=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name=":path" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>L2Nzcy9tYWluLm1pbi5jc3M=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name=":authority" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>d3d3LmFkdmFudGFnZW9ubGluZXNob3BwaW5nLmNvbQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cHM6Ly93d3cuYWR2YW50YWdlb25saW5lc2hvcHBpbmcuY29tLw==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Sec-Fetch-Site" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>bm9uZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Sec-Fetch-Mode" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>bmF2aWdhdGU=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Sec-Fetch-Dest" index="7">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZG9jdW1lbnQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Sec-Fetch-User" index="8">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>PzE=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Upgrade-Insecure-Requests" index="9">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="sec-ch-ua" index="10">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ikdvb2dsZSBDaHJvbWUiO3Y9IjExMyIsICJDaHJvbWl1bSI7dj0iMTEzIiwgIk5vdC1BLkJyYW5kIjt2PSIyNCI=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="sec-ch-ua-mobile" index="11">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>PzA=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="sec-ch-ua-platform" index="12">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>IldpbmRvd3Mi</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="13">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzExMy4wLjAuMCBTYWZhcmkvNTM3LjM2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="14">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZSwgYnI=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="15">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>cnUtUlUscnU7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjc=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept" index="16">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ki8q</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="cookie" index="17">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>X2dhPUdBMS4yLjUxODEzNzM3OC4xNjg0NzQyNjEwOyBfZ2lkPUdBMS4yLjE3NzgxMzUwMDMuMTY4NDc0MjYxMDsgdXNlckNhcnQ9JTdCJTIydXNlcklkJTIyJTNBLTElMkMlMjJwcm9kdWN0c0luQ2FydCUyMiUzQSU1QiU1RCU3RA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Om1ldGhvZDogR0VUDQo6c2NoZW1lOiBodHRwcw0KOnBhdGg6IC9jc3MvbWFpbi5taW4uY3NzDQo6YXV0aG9yaXR5OiB3d3cuYWR2YW50YWdlb25saW5lc2hvcHBpbmcuY29tDQpSZWZlcmVyOiBodHRwczovL3d3dy5hZHZhbnRhZ2VvbmxpbmVzaG9wcGluZy5jb20vDQpTZWMtRmV0Y2gtU2l0ZTogbm9uZQ0KU2VjLUZldGNoLU1vZGU6IG5hdmlnYXRlDQpTZWMtRmV0Y2gtRGVzdDogZG9jdW1lbnQNClNlYy1GZXRjaC1Vc2VyOiA/MQ0KVXBncmFkZS1JbnNlY3VyZS1SZXF1ZXN0czogMQ0Kc2VjLWNoLXVhOiAiR29vZ2xlIENocm9tZSI7dj0iMTEzIiwgIkNocm9taXVtIjt2PSIxMTMiLCAiTm90LUEuQnJhbmQiO3Y9IjI0Ig0Kc2VjLWNoLXVhLW1vYmlsZTogPzANCnNlYy1jaC11YS1wbGF0Zm9ybTogIldpbmRvd3MiDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTEzLjAuMC4wIFNhZmFyaS81MzcuMzYNCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZSwgYnINCkFjY2VwdC1MYW5ndWFnZTogcnUtUlUscnU7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcNCkFjY2VwdDogKi8qDQpjb29raWU6IF9nYT1HQTEuMi41MTgxMzczNzguMTY4NDc0MjYxMDsgX2dpZD1HQTEuMi4xNzc4MTM1MDAzLjE2ODQ3NDI2MTA7IHVzZXJDYXJ0PSU3QiUyMnVzZXJJZCUyMiUzQS0xJTJDJTIycHJvZHVjdHNJbkNhcnQlMjIlM0ElNUIlNUQlN0QNCg0K</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
          <HTTPCookies>
            <HTTPHeaderEntity name="_ga" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0ExLjIuNTE4MTM3Mzc4LjE2ODQ3NDI2MTA=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="_gid" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0ExLjIuMTc3ODEzNTAwMy4xNjg0NzQyNjEw</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="userCart" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>JTdCJTIydXNlcklkJTIyJTNBLTElMkMlMjJwcm9kdWN0c0luQ2FydCUyMiUzQSU1QiU1RCU3RA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
          </HTTPCookies>
        </HTTPHeaders>
        <HTTPPropertySet>
          <HTTPProperty name="StreamID">3</HTTPProperty>
          <HTTPProperty name="TotalHeadersSize">66</HTTPProperty>
        </HTTPPropertySet>
      </HTTPRequest>
      <HTTPResponse>
        <contentLenght>0</contentLenght>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Status" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MjAw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="server" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>bmdpbngvMS4xOC4wIChVYnVudHUp</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="date" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>V2VkLCAyNCBNYXkgMjAyMyAxMzowNTo0MyBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="content-type" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>dGV4dC9jc3M=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="accept-ranges" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ynl0ZXM=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="etag" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Vy8iMTcwNzAwLTE2NDE4MTA1MTIwMDAi</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="last-modified" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAxMCBKYW4gMjAyMiAxMDoyODozMiBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="cache-control" index="7">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>bWF4LWFnZT0zNjAwMA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="expires" index="8">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>V2VkLCAyNCBNYXkgMjAyMyAyMzowNTo0MyBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="vary" index="9">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>YWNjZXB0LWVuY29kaW5n</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="content-encoding" index="10">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="strict-transport-security" index="11">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>bWF4LWFnZT0zMTUzNjAwMDsgaW5jbHVkZVN1YkRvbWFpbnM7IHByZWxvYWQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8yLjAgMjAwDQpTdGF0dXM6IDIwMA0Kc2VydmVyOiBuZ2lueC8xLjE4LjAgKFVidW50dSkNCmRhdGU6IFdlZCwgMjQgTWF5IDIwMjMgMTM6MDU6NDMgR01UDQpjb250ZW50LXR5cGU6IHRleHQvY3NzDQphY2NlcHQtcmFuZ2VzOiBieXRlcw0KZXRhZzogVy8iMTcwNzAwLTE2NDE4MTA1MTIwMDAiDQpsYXN0LW1vZGlmaWVkOiBNb24sIDEwIEphbiAyMDIyIDEwOjI4OjMyIEdNVA0KY2FjaGUtY29udHJvbDogbWF4LWFnZT0zNjAwMA0KZXhwaXJlczogV2VkLCAyNCBNYXkgMjAyMyAyMzowNTo0MyBHTVQNCnZhcnk6IGFjY2VwdC1lbmNvZGluZw0KY29udGVudC1lbmNvZGluZzogZ3ppcA0Kc3RyaWN0LXRyYW5zcG9ydC1zZWN1cml0eTogbWF4LWFnZT0zMTUzNjAwMDsgaW5jbHVkZVN1YkRvbWFpbnM7IHByZWxvYWQNCg0K</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QGNoYXJzZXQgIlVURi04IjsgLm5vVWktdGFyZ2V0LC5ub1VpLXRhcmdldCAqey13ZWJraXQtdG91Y2gtY2FsbG91dDpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbXMtdG91Y2gtYWN0aW9uOm5vbmU7dG91Y2gtYWN0aW9uOm5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveH0ubm9VaS10YXJnZXR7cG9zaXRpb246cmVsYXRpdmU7ZGlyZWN0aW9uOmx0cn0ubm9VaS1iYXNle3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7cG9zaXRpb246cmVsYXRpdmU7ei1pbmRleDoxfS5ub1VpLW9yaWdpbntwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDowO3RvcDowO2xlZnQ6MDtib3R0b206MH0ubm9VaS1oYW5kbGV7cG9zaXRpb246cmVsYXRpdmU7ei1pbmRleDoxfS5ub1VpLXN0YWNraW5nIC5ub1VpLWhhbmRsZXt6LWluZGV4OjEwfS5ub1VpLXN0YXRlLXRhcCAubm9VaS1vcmlnaW57LXdlYmtpdC10cmFuc2l0aW9uOmxlZnQgLjNzLHRvcCAuM3M7dHJhbnNpdGlvbjpsZWZ0IC4zcyx0b3AgLjNzfS5ub1VpLXN0YXRlLWRyYWcgKntjdXJzb3I6aW5oZXJpdCFpbXBvcnRhbnR9Lm5vVWktYmFzZXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKX0ubm9VaS1ob3Jpem9udGFse2hlaWdodDo0cHh9Lm5vVWktaG9yaXpvbnRhbCAubm9VaS1oYW5kbGV7d2lkdGg6MTVweDtoZWlnaHQ6MTVweDtib3JkZXItcmFkaXVzOjUwJTtsZWZ0OjA7dG9wOi01cHh9Lm5vVWktaG9yaXpvbnRhbCAubm9VaS1vcmlnaW46bnRoLWNoaWxkKDIpIC5ub1VpLWhhbmRsZXtsZWZ0Oi0xMHB4fS5ub1VpLXZlcnRpY2Fse3dpZHRoOjE4cHh9Lm5vVWktdmVydGljYWwgLm5vVWktaGFuZGxle3dpZHRoOjI4cHg7aGVpZ2h0OjM0cHg7bGVmdDotNnB4O3RvcDotMTdweH0ubm9VaS1iYWNrZ3JvdW5ke2JhY2tncm91bmQ6I0UxRTFFMX0ubm9VaS1jb25uZWN0e2JhY2tncm91bmQ6IzUxNTE1MTstd2Via2l0LXRyYW5zaXRpb246YmFja2dyb3VuZCA0NTBtczt0cmFuc2l0aW9uOmJhY2tncm91bmQgNDUwbXN9Lm5vVWktdGFyZ2V0e30ubm9VaS10YXJnZXQubm9VaS1jb25uZWN0e30ubm9VaS1kcmFnZ2FibGV7Y3Vyc29yOnctcmVzaXplfS5ub1VpLXZlcnRpY2FsIC5ub1VpLWRyYWdnYWJsZXtjdXJzb3I6bi1yZXNpemV9Lm5vVWktaGFuZGxle2JvcmRlcjoxcHggc29saWQgI0I5QTdBNztiYWNrZ3JvdW5kOiNGRkY7Y3Vyc29yOmRlZmF1bHR9Lm5vVWktYWN0aXZle2JveC1zaGFkb3c6aW5zZXQgMCAwIDFweCAjRkZGLGluc2V0IDAgMXB4IDdweCAjRERELDAgM3B4IDZweCAtM3B4ICNCQkJ9W2Rpc2FibGVkXS5ub1VpLWNvbm5lY3QsW2Rpc2FibGVkXSAubm9VaS1jb25uZWN0e2JhY2tncm91bmQ6I0I4QjhCOH1bZGlzYWJsZWRdLm5vVWktb3JpZ2luLFtkaXNhYmxlZF0gLm5vVWktaGFuZGxle2N1cnNvcjpub3QtYWxsb3dlZH0udG9hc3QtdGl0bGV7Zm9udC13ZWlnaHQ6NzAwfS50b2FzdC1tZXNzYWdley1tcy13b3JkLXdyYXA6YnJlYWstd29yZDt3b3JkLXdyYXA6YnJlYWstd29yZH0udG9hc3QtbWVzc2FnZSBhLC50b2FzdC1tZXNzYWdlIGxhYmVse2NvbG9yOiNmZmZ9LnRvYXN0LW1lc3NhZ2UgYTpob3Zlcntjb2xvcjojY2NjO3RleHQtZGVjb3JhdGlvbjpub25lfS50b2FzdC1jbG9zZS1idXR0b257cG9zaXRpb246cmVsYXRpdmU7cmlnaHQ6LS4zZW07dG9wOi0uM2VtO2Zsb2F0OnJpZ2h0O2ZvbnQtc2l6ZToyMHB4O2ZvbnQtd2VpZ2h0OjcwMDtjb2xvcjojZmZmOy13ZWJraXQtdGV4dC1zaGFkb3c6MCAxcHggMCAjZmZmO3RleHQtc2hhZG93OjAgMXB4IDAgI2ZmZjtvcGFjaXR5Oi44Oy1tcy1maWx0ZXI6YWxwaGEoT3BhY2l0eT04MCk7ZmlsdGVyOmFscGhhKG9wYWNpdHk9ODApfS50b2FzdC1jbG9zZS1idXR0b246aG92ZXIsLnRvYXN0LWNsb3NlLWJ1dHRvbjpmb2N1c3tjb2xvcjojMDAwO3RleHQtZGVjb3JhdGlvbjpub25lO2N1cnNvcjpwb2ludGVyO29wYWNpdHk6LjQ7LW1zLWZpbHRlcjphbHBoYShPcGFjaXR5PTQwKTtmaWx0ZXI6YWxwaGEob3BhY2l0eT00MCl9YnV0dG9uLnRvYXN0LWNsb3NlLWJ1dHRvbntwYWRkaW5nOjA7Y3Vyc29yOnBvaW50ZXI7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtib3JkZXI6MDstd2Via2l0LWFwcGVhcmFuY2U6bm9uZX0udG9hc3QtdG9wLWZ1bGwtd2lkdGh7dG9wOjA7cmlnaHQ6MDt3aWR0aDoxMDAlfS50b2FzdC1ib3R0b20tZnVsbC13aWR0aHtib3R0b206MDtyaWdodDowO3dpZHRoOjEwMCV9LnRvYXN0LXRvcC1sZWZ0e3RvcDoxMDBweDtsZWZ0OjEycHh9LnRvYXN0LXRvcC1jZW50ZXJ7dG9wOjEwMHB4fS50b2FzdC10b3AtcmlnaHR7dG9wOjEwMHB4O3JpZ2h0OjEycHh9LnRvYXN0LWJvdHRvbS1yaWdodHtyaWdodDoxMnB4O2JvdHRvbToxMnB4fS50b2FzdC1ib3R0b20tY2VudGVye2JvdHRvbToxMnB4fS50b2FzdC1ib3R0b20tbGVmdHtib3R0b206MTJweDtsZWZ0OjEycHh9LnRvYXN0LWNlbnRlcnt0b3A6NDUlfSN0b2FzdC1jb250YWluZXJ7cG9zaXRpb246Zml4ZWQ7ei1pbmRleDo5OTk5OTl9I3RvYXN0LWNvbnRhaW5lci50b2FzdC1jZW50ZXIsI3RvYXN0LWNvbnRhaW5lci50b2FzdC10b3AtY2VudGVyLCN0b2FzdC1jb250YWluZXIudG9hc3QtYm90dG9tLWNlbnRlcnt3aWR0aDoxMDAlO3BvaW50ZXItZXZlbnRzOm5vbmV9I3RvYXN0LWNvbnRhaW5lci50b2FzdC1jZW50ZXI+ZGl2LCN0b2FzdC1jb250YWluZXIudG9hc3QtdG9wLWNlbnRlcj5kaXYsI3RvYXN0LWNvbnRhaW5lci50b2FzdC1ib3R0b20tY2VudGVyPmRpdnttYXJnaW4tbGVmdDphdXRvO21hcmdpbi1yaWdodDphdXRvO3BvaW50ZXItZXZlbnRzOmF1dG99I3RvYXN0LWNvbnRhaW5lci50b2FzdC1jZW50ZXI+YnV0dG9uLCN0b2FzdC1jb250YWluZXIudG9hc3QtdG9wLWNlbnRlcj5idXR0b24sI3RvYXN0LWNvbnRhaW5lci50b2FzdC1ib3R0b20tY2VudGVyPmJ1dHRvbntwb2ludGVyLWV2ZW50czphdXRvfSN0b2FzdC1jb250YWluZXIgKnstbW96LWJveC1zaXppbmc6Ym9yZGVyLWJveDstd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3h9I3RvYXN0LWNvbnRhaW5lcj5kaXZ7bWFyZ2luOjAgMCA2cHg7cGFkZGluZzoxNXB4IDE1cHggMTVweCA1MHB4O3dpZHRoOjMwMHB4Oy1tb3otYm9yZGVyLXJhZGl1czozcHg7LXdlYmtpdC1ib3JkZXItcmFkaXVzOjNweDtib3JkZXItcmFkaXVzOjNweDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjE1cHggY2VudGVyO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDstbW96LWJveC1zaGFkb3c6MCAwIDEycHggIzk5OTstd2Via2l0LWJveC1zaGFkb3c6MCAwIDEycHggIzk5OTtib3gtc2hhZG93OjAgMCAxMnB4ICM5OTk7Y29sb3I6I2ZmZjtvcGFjaXR5Oi44Oy1tcy1maWx0ZXI6YWxwaGEoT3BhY2l0eT04MCk7ZmlsdGVyOmFscGhhKG9wYWNpdHk9ODApfSN0b2FzdC1jb250YWluZXI+OmhvdmVyey1tb3otYm94LXNoYWRvdzowIDAgMTJweCAjMDAwOy13ZWJraXQtYm94LXNoYWRvdzowIDAgMTJweCAjMDAwO2JveC1zaGFkb3c6MCAwIDEycHggIzAwMDtvcGFjaXR5OjE7LW1zLWZpbHRlcjphbHBoYShPcGFjaXR5PTEwMCk7ZmlsdGVyOmFscGhhKG9wYWNpdHk9MTAwKTtjdXJzb3I6cG9pbnRlcn0jdG9hc3QtY29udGFpbmVyPi50b2FzdC1pbmZve2JhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQmdBQUFBWUNBWUFBQURnZHozNEFBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQUFKY0VoWmN3QUFEc01BQUE3REFjZHZxR1FBQUFHd1NVUkJWRWhMdFphOVNnTkJFTWM5c1V4eFJjb1VLU3pTV0loWHBGTWhoWVdGaGFCZzR5UFlpV0NYWnhCTEVSc0xSUzNFUWtFZndDS2RqV0pBd1NLQ2dvS0NjdWR2NE81WUxydDdFemdYaGlVMy80K2IyY2ttd1ZqSlNwS2tRNndBaTRnd2hUK3ozd1JCY0V6MHlqU3NlVVRyY1J5ZnNIc1htRDBBbWJIT0M5SWk4VkltbnVYQlBnbEhwUTV3d1NWTTdzTm5URzdaYTRKd0RkQ2p4eUFpSDNueUEybXRhVEp1ZmlEWjVkQ2FxbEl0SUxoMU5IYXRmTjVza3ZqeDlaMzhtNjlDZ3p1WG1aZ1ZyUElHRTc2M0p4OXFLc1JveldZdzZ4T0hkRVIrbm4yS2tPK0JiK1VWNUNCTjZXQzZRdEJnYlJWb3pyYWhBYm1tNkh0VXNndFBDMTl0RmR4WFpZQk9ma2JtRkoxVmFIQTFWQUhqZDBwcDcwb1RaenZSK0VWcngyWWdmZHNxNmV1NTVCSFlSOGhsY2tpK24ra0VSVUZHOEJyQTBCd2plQXYyTThXTFFCdGN5K1NENmZOc21uQjNBbEJMcmdUdFZXMWMyUU40YlZXTEFUYUlTNjBKMkR1NXkxVGlKZ2pTQnZGVlpnVG13Q1UrZEFaRm9QeEdFRXM4bnlIQzlCd2UyR3ZFSnYyV1haYjB2amR5RlQ0Q3hrM2Uva0lxbE9Hb1ZMd3dQZXZwWUhUKzAwVCtoV3dYRGY0QUpBT1VxV2NEaGJ3QUFBQUFTVVZPUks1Q1lJST0pIWltcG9ydGFudH0jdG9hc3QtY29udGFpbmVyPi50b2FzdC13YWl0e2JhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaElBQWdBSVFBQUFRQ0JJU0doTXpLekVSQ1JPVG01Q1FpSkt5dXJIeCtmUHorL0V4T1RPenU3RHcrUEl5T2pDd3FMRlJXVkF3S0RJeUtqTXpPek96cTdDUW1KTHk2dkZSU1ZQVHk5QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQ0gvQzA1RlZGTkRRVkJGTWk0d0F3RUFBQUFoK1FRSkNRQVhBQ3dBQUFBQUlBQWdBQUFGM2VBbGptUnBubWg2VlJTVnFMRHBJRFRpeE9kVWxGU05VRGhTUVVBVDdFUzlHbkQwU0ZRQUtXSXRNcXI0YnFLSFZQREkrV2lUa2FPRkZWbHJGZTgzckRyVDBxZUlqd3JUMGlMZFUwR09pQnhoQUE0VmVTazZRWWVJT0FzUUVBdUpLZ3crRUk4bkExOElBNDhKQkFRdkZ4Q1hESThTTkFRaWtWK2lpYVFJcGhlV1g1bUpteEtlRjZnMHFwUW1BNHlPdThDN0V3WVdDZ1pzd1JjVEZqNEt5TUFHbHdZeER3Y0hoQ1hNWHhZeEJ6UUhLTm8rM0REZUNPQW4wVi9UZGRiWUpBMEs0OGdBRUFGUWljTVdGc2Z3TkEzSlNnQUlBQUZmd0lNSUw0UUFBQ0g1QkFrSkFCb0FMQUFBQUFBZ0FDQUFoQVFDQkl5S2pFUkNSTXpPekNRaUpQVHk5RFF5TkdSbVpNVEN4T1RtNUN3cUxIeCtmQlFXRkp5ZW5OVFcxUHo2L0R3NlBHeHViQXdLREl5T2pOVFMxQ1FtSkN3dUxQeisvRHcrUEhSeWRBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBWGJvQ2FPWkdtZWFLb3hXY1Nvc01razE1VzhjWjdWZFphWGtjRWdRdHJ4ZkQ5UmhIY2hpbWExR3dsQ0dVQlNGQ2FGeE1yZ1J0bkxGaFd1aldIaHMybkpjOEtvVmxXR1FuRW43L2k4WGdPd1dBQjdKd29PTlE0S2dTUUFaUmNPZ0hnU0N3c1NJaFpNTlJaNUN6VUxJZ2FXRjVoNG1oZWNmSVE4alhtUWtpT0RoWWVJaVJZR2pyRzJQeGdCQVJpM0loTk1BYmNDbndJNUJBUXBBWjhUSXdLNnZDUVZEd1VWS0wrV3pBQU5UQTIxMGcvVko4T1d4UWVmQnlRRTRkWk16Qm9JbndoNHpydGduMnA3MjVZTnRoVUZUTlJ1R1lCM0FZR0JIQ0VBQUNINUJBa0pBQjBBTEFBQUFBQWdBQ0FBaEFRQ0JJU0NoRlJXVk16S3pDUWlKT1RtNUd4cWJDd3VMSlNXbFB6Ni9OVFcxQXdPREpTU2xHUm1aQ3dxTE96dTdIUjJkRFEyTkFRR0JJU0doRnhhWE5UUzFDUW1KT3pxN0d4dWJEUXlOS1NtcFB6Ky9OemEzQUFBQUFBQUFBQUFBQVhmWUNlT1pHbWVhS3F1ckhCZEFpdVAxN1pkYzBsTUFWSFd0OXlJOExBOWZDUEI0eEVqQVJvTlNXcGlzMDFrQnBzaEZhaHVycXpzWm9zaUdwRXJTY01BVU8wbWFLRjhUcS9iVFFDSVFnRnAzMGNRWGhCMUJIRWNYaHgwRmdrSkZpT0hWWWx6aTQyQWdvUnhlUng4Zm4rZW4zVUFCd2VkS2dzQkF3TUJDeWdPQ2pZS0Rpc0xGVjRWckNVQXRWVUtwU1pkWGw4bUI4RWJCeVFXY1FQRkF5WVp4Y2NkQjdzVjBjdkJ6Ym12dkcwTEJWNEZyRlRCWUNXdU5oeXlIUlRGRkIyMHRyaDRCeG1kWWw0WUlxZXBxMElSeFJFK0lmRENBRlFIQVJvME5HRVJBZ0FoK1FRSkNRQWdBQ3dBQUFBQUlBQWdBSVVFQWdTRWdvUk1Ua3pNeXN3Y0hoems1dVIwY25RVUZoUmNYbHdzS2l6MDl2UU1DZ3lNaW96VTF0UWtKaVI4Zm54a1ptVDgvdndFQmdTRWhvUmNXbHpVMHRRa0lpVDA4dlIwZG5RY0doeGtZbVEwTWpUOCt2d01EZ3lNam96YzJ0d0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBRytVQ1FjRWdzR28vSXBITEpYRHdlQzZaMCtJaEVIbE9qUkdJTVdMSFpvVVp4MFJRbEFhanhrRkZLRkZZRmw1bTVLTnBJeVNVK1gyYklCRW9RWkJCWkdRZE1FbEZoakkyT2o1QWdIUUVEQXc4ZFF4WWVEQmFOSFJWV1ZoV1lDWHNSRndtTVhxRldFeUFlckI2TUE2eFdBNit4czdVUnQ2VldxSXdUdTY0Z0RoNGVEcDZnb2FPUlE1T1ZBWmpPMUVnRUdoQjRSd0FZRFEwWUFFd0ljQkVLRkVnWXJCaExCT1J4Z1VZZnJCOUxFTHVGOGZOREFBYVZCdUVnN05YQ1Z5UmRxSFZDR0xCaUlJUUFCMVljNEJYaDl1RWJ3QVh1eWkyaVFJN0R1U3dIZGlGcUNFR0R0aXpMUkZVRHNhR0FsUUliVm9KWUlFREFJaVpCQUFBaCtRUUpDUUFiQUN3QUFBQUFJQUFnQUlRRUFnU01pb3hjV2x6MDh2UWNIaHlzcXF3TURneDhlbndzS2l5a29xUmtabVQ4K3Z6RXdzUU1DZ3lVbHBRa0ppUzBzclFFQmdTTWpveGNYbHowOXZRa0lpU3NycXdVRWhRME1qUnNhbXo4L3Z3QUFBQUFBQUFBQUFBQUFBQUFBQUFGNytBbWptUnBubWlxcnV6MlBHMHNJc3NDajRDUUpBSWdqNC9hYlJOSmFJNmFndTlrQ0FRYXBoZEpnRVFLVUlGamdHV3NhaEpZTGRmN1JUV2ZMS3IzK2pzQkNsVmxHNVhiOWViNGZJbWdVQkJLRFZCNEV4UkhGR3diR1JRTEdYTUVoVWdVZncyUUM0SXlDbVNORFF0SGxtMlpYZ29pR1FzVWpXMEVuVWdMZnlLQmVZU2VpSG9qZkg2MXVTMEdCaXNWRWdFVkxSY1dSeEFYS0FnRFJ3TUlMTVZJRUNnU1ZSSXJCbVM5SnRSSTFpTVZCd2V1R3hlclNOb2x5c3pPSWhqTEdzMGpFRlhTS0E4U0VrTWJjRWdXSXhmek5CeHJ3NkFLZ3hJR2tNMDVVT1dBTGhFUkhKaHlzT1RoQmdBVldZUUFBQ0g1QkFrSkFCa0FMQUFBQUFBZ0FDQUFoQVFHQkl5S2pFUkNSTXpPekN3dUxHUmlaUHo2L09UbTVBd09ETFN5dEZSU1ZOVFcxRHc2UEh4NmZBd0tESlNTbEVSR1JOVFMxRFF5Tkd4cWJQeisvQlFTRkx5NnZGUldWTnphM0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBWHFZQ2FPNUZnRnd4QlVaZXU2MVVMTkZNYStlQnZRZEpEL293RnZGaGtCQkF3SHNCUVpVb29aeVdGMllPUWtCTkp1NkFOTWFRZWxpMEF4U0V3eW1pMERjVUplRWdQbGJFSkZBZ2hSZS9oK0VlZy9EbDlVWWtzNURGOVZoa3NPQWdLRmk1R1NTd2g1a3pnVkNYSUpOeGtuRDVhU0NUd0pJdzh6RDVNSVRwYW5GS21TQ0hJOE54VVBvSmVqTktXWExaa3puTDB2Q0ozQ3hzY2tEcEEvQ2hZSkZ6a1RCZ1lUU3hjODBDNE9zd2JMTGhZOEZpL2JNd1lBSlZnbDREVGlMOUxVSkFEckZ1Y2kxelRaTHdEMUl3VThCU1F1V0xDUWIxRURIZzJRaVNEQUxZdkNEQUlTSkxEeThGSUlBQ0g1QkFrSkFCNEFMQUFBQUFBZ0FDQUFoQVFHQklTR2hGUlNWTlRXMUNRaUpLeXFyR1JtWk96dTdDd3VMSXlPakd4dWJQejYvQlFTRkdSaVpPVGk1Q3dxTEx5NnZEUTJOSXlLakZSV1ZDUW1KS3l1ckd4cWJQVDI5RFF5TkpTU2xIUnlkUHorL0JRV0ZPenE3QUFBQUFBQUFBWGhvQ2VPSkVsWUNsR3ViT3MxMTdZdGpXdXZ4Q0xMaTNxYmhjNmg0RlBzZG9yZmlOSTVkaWdlNDNHVDlBQWtIVWNDd0NwTU54VlA3dGdUSlk0SjF1RjdFQmwwTThPb3VldW8yU09DSWtWYTExa1ZYMkUyRW1nc0ZINHlCejR1QUFrZEhWc3RCQVVIUTR4S21acWJuSjJiQWhBUUFpVVJHSjRlRTBjVEl4Z3pwcDBRUnhDc3JwNnhPN01qcGFlcE82dW5LeE9odjhERnhzZklKQndhQ2h3MkRBa1pERW9jRGpJT3ppMFpNaGxLVWpJYUx0c2IzVDhhUitFdERCa0oweVFVQlFWUUk5WFgyWnNETWdNbHl4cjNtekUyWEVnbW90Q0dBQVJGSUhpUTBGTUlBQ0g1QkFrSkFCZ0FMQUFBQUFBZ0FDQUFoQVFDQklTR2hEdytQT1RpNUN3dUxMUzJ0UFR5OUJRU0ZKeWVuR1JpWkRRMk5JeU9qTHkrdlB6Ni9Cd2VISXlLakZSU1ZPenE3RFF5Tkx5NnZCUVdGSFJ5ZER3NlBQeisvQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBWFhJQ2FPWkhrY1phcXVJalZkMTBTeHRGckFjRkdyVmhCWUl3b09OOXVOQXNPQTZEQ0VGVEVLQkVLeEVqUXZBdEVMTnhrcEdyQUdOZlc0UGxwYjJRZ3hSS2pLemZQb1ZHTGozQ25MTlV2N2hzY3BTRGhLT3hKU2dEd1BQMFpHQUFDTWpBUUZEUVlGQkpBMEJBWkRCcGVZR0JRVkZVVTNUVjJZRkFNd0F6TmdUUTJQa0JWREZSaXVRN0NZc3ppMXBVT25rS21yTTVxY25xaWlUd1FURFEyV245RFIwdFBVZlJLUUVCRVJFRFFTRnczWFJoRXdFZDNmNFR2akYrWFdLZ0o4Sk5uYjBRa3dDZFVsQ3pBTCtDUU9EQXdjOUJ0SU1BUUFPdz09KSFpbXBvcnRhbnR9I3RvYXN0LWNvbnRhaW5lcj4udG9hc3QtZXJyb3J7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCZ0FBQUFZQ0FZQUFBRGdkejM0QUFBQUFYTlNSMElBcnM0YzZRQUFBQVJuUVUxQkFBQ3hqd3Y4WVFVQUFBQUpjRWhaY3dBQURzTUFBQTdEQWNkdnFHUUFBQUhPU1VSQlZFaExyWmEvU2dOQkVNWnpoMFdLQ0NsU0NLYUlZT0VEK0FBS2VRUUxHOEhXenRMQ0ltQnJZYWRnSWRZK2dJS05Za0JGU3d1N0NBb3FDZ2trb0dCSS9FMjhQZGJMWm1lRExnelp6Y3g4My96WjJTU1hDMWo5ZnIrSTFIcTkzZzJ5eEg0aXdNMXZrb0JXQWR4Q21welR4ZmtOMlJjeVpOYUhGSWtTbzEwKzhrZ3hrWElVUlY1SEd4VG1GdWM3NUIyUmZRa3B4SEc4YUFnYUFGYTB0QUhxWUZmUTdJd2UyeWhPRGs4K0o0Qzd5QW9SVFdJM3cvNGtsR1JnUjRsTzdScG45K2d2TXlXcCt1eEZoOCtIK0FSbGdOMW5KdUp1UUFZdk5rRW53R0ZjazE4RXI0cTNlZ0VjL29PK21oTGRLZ1J5aGRORmlhY0MwcmxPQ2JoTlZ6NEg5Rm5BWWdEQnZVM1FJaW9abEpGTEp0c29IWVJEZmlab1V5SXhxQ3RScFZsQU5xMEVVNGRBcGpydGdlelBGYWQ1UzE5V2dqa2MwaE5WbnVGNEhqVkE2QzdRclNJYnlsQitvWmUzYUhnQnNxbE5xS1lINDhqWHlKS011QWJpeVZKOEt6YUIzZVJjMHBnOVZ3UTRuaUZyeUk2OHFpT2kzQWJqd2RzZm5BdGswYkNqVExKS3I2bXJEOWc4aXEvUy9CODFoZ3VPTWxRVG5WeUc0MHdBY2pubWdzQ05FU0Ryam1lN3dmZnRQNFA3U1A0TjNDSlpkdnpvTnlHcTJjL0hXT1hKR3N2VmcrUkEvazJNQy93TjZJMllBMlB0OEdrQUFBQUFTVVZPUks1Q1lJST0pIWltcG9ydGFudH0jdG9hc3QtY29udGFpbmVyPi50b2FzdC1zdWNjZXNze2JhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQmdBQUFBWUNBWUFBQURnZHozNEFBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQUFKY0VoWmN3QUFEc01BQUE3REFjZHZxR1FBQUFEc1NVUkJWRWhMWTJBWUJmUU1nZi8vLzNQOCsvZXZBSWd2QS9Gc0lGK0JhdllERFdNQkdyb2FTTU1CaUU4VkM3QVpEcklGYU1GbmlpM0FaVGpVZ3NVVVdVREE4T2RBSDZpUWJRRWh3NEh5R3NQRWNLQlhCSUM0QVJoZXg0RzRCc2ptd2VVMXNvSUZhR2cvV3RvRlpSSVpkRXZJTWh4a0NDalhJVnNBVFY2Z0ZHQUNzNFJzdzBFR2dJSUgzUUpZSmdIU0FSUVpEcldBQitqYXd6Z3MrUTJVTzQ5RDdqblJTUkdvRUZSSUxjZG1FTVdHSTBjbTBKSjJRcFlBMVJEdmNtekpFV2hBQmhEL3BxckwwUzBDV3VBQktnblJraTlsTHNlUzdnMkFscXdIV1FTS0g0b0tMcklMcFJHaEVRQ3cyTGlSVUlhNGx3QUFBQUJKUlU1RXJrSmdnZz09KSFpbXBvcnRhbnR9I3RvYXN0LWNvbnRhaW5lcj4udG9hc3Qtd2FybmluZ3tiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJnQUFBQVlDQVlBQUFEZ2R6MzRBQUFBQVhOU1IwSUFyczRjNlFBQUFBUm5RVTFCQUFDeGp3djhZUVVBQUFBSmNFaFpjd0FBRHNNQUFBN0RBY2R2cUdRQUFBR1lTVVJCVkVoTDVaU3ZUc05RRk1iWFpHSUNNWUdZbUpoQVFJSkFJQ1lRUEFBQ2lTREI4QWlJQ1FRSlQ0Q3FRRXdnSnZZQVNBUUNpWmlZbUpoQUlCQVRDQVJKeSs5clRzbGRkOHNLdTFNMCtkTGIwNTd2Ni9sYnEvMnJLMG1TL1RSTmo5Y1dOQUtQWUlKSUk3Z0l4Q2NRNTFjdnFJRCtHSUVYOEFTRzRCMWJLNWdJWkZlUWZvSmRFWE9mZ1g0UUFRZzdrSDJBNjV5UTg3bHl4YjI3c2dna0F6QXVGaGJiZzFLMmtnQ2tCMWJWd3lJUjltMkw3UFJQSWhEVUlYZ0d0eUt3NTc1eXozbFROczZYNEpYbmpWK0xLTS9tM015ZG5UYnRPS0lqdHo2VmhDQnE0dlNtM25jZHJEMmxrMFZnVVhTVktqVkRKWEp6aWpXMVJRZHNVN0Y3N0hlOHU2OGtvTlpUejhPejV5R2E2SjNIM2xaMHhZZ1hCSzJReW1sV1dBK1JXblloc2tMQnYydm1FK2hCTUN0YkE3S1g1ZHJXeVJULzJKc3FaMkl2ZkI5WTRiV0ROTUZiSlJGbUM5RTc0U29TMENxdWx3amtDMCs1YnBjVjFDWjhOTWVqNHBqeTBVK2RvRFFzR3lvMWh6Vkp0dElqaFE3R25CdFJGTjFVYXJVbEg4RjN4aWN0K0hZMDdyRXpvVUdQbFdjalJGUnI0L2dDaFpnYzNaTDJkOG9BQUFBQVNVVk9SSzVDWUlJPSkhaW1wb3J0YW50fSN0b2FzdC1jb250YWluZXIudG9hc3QtdG9wLWZ1bGwtd2lkdGg+ZGl2LCN0b2FzdC1jb250YWluZXIudG9hc3QtYm90dG9tLWZ1bGwtd2lkdGg+ZGl2e3dpZHRoOjk2JTttYXJnaW4tbGVmdDphdXRvO21hcmdpbi1yaWdodDphdXRvfS50b2FzdHtiYWNrZ3JvdW5kLWNvbG9yOiMwMzAzMDN9LnRvYXN0LXN1Y2Nlc3N7YmFja2dyb3VuZC1jb2xvcjojNTFhMzUxfS50b2FzdC1lcnJvcntiYWNrZ3JvdW5kLWNvbG9yOiNiZDM2MmZ9LnRvYXN0LWluZm8sLnRvYXN0LXdhaXR7YmFja2dyb3VuZC1jb2xvcjojMmY5NmI0fS50b2FzdC13YXJuaW5ne2JhY2tncm91bmQtY29sb3I6I2Y4OTQwNn1AbWVkaWEgYWxsIGFuZCAobWF4LXdpZHRoOjI0MHB4KXsjdG9hc3QtY29udGFpbmVyPmRpdntwYWRkaW5nOjhweCA4cHggOHB4IDUwcHg7d2lkdGg6MTFlbX0jdG9hc3QtY29udGFpbmVyIC50b2FzdC1jbG9zZS1idXR0b257cmlnaHQ6LS4yZW07dG9wOi0uMmVtfX1AbWVkaWEgYWxsIGFuZCAobWluLXdpZHRoOjI0MXB4KWFuZCAobWF4LXdpZHRoOjQ4MHB4KXsjdG9hc3QtY29udGFpbmVyPmRpdntwYWRkaW5nOjhweCA4cHggOHB4IDUwcHg7d2lkdGg6MThlbX0jdG9hc3QtY29udGFpbmVyIC50b2FzdC1jbG9zZS1idXR0b257cmlnaHQ6LS4yZW07dG9wOi0uMmVtfX1AbWVkaWEgYWxsIGFuZCAobWluLXdpZHRoOjQ4MXB4KWFuZCAobWF4LXdpZHRoOjc2OHB4KXsjdG9hc3QtY29udGFpbmVyPmRpdntwYWRkaW5nOjE1cHggMTVweCAxNXB4IDUwcHg7d2lkdGg6MjVlbX19Om5vdCgubm8tZW50ZXIpI3RvYXN0LWNvbnRhaW5lcj5kaXYubmctZW50ZXIsOm5vdCgubm8tbGVhdmUpI3RvYXN0LWNvbnRhaW5lcj5kaXYubmctbGVhdmV7LXdlYmtpdC10cmFuc2l0aW9uOjEwMDBtcyBjdWJpYy1iZXppZXIoMC4yNSwuMjUsLjc1LC43NSkgYWxsOy1tb3otdHJhbnNpdGlvbjoxMDAwbXMgY3ViaWMtYmV6aWVyKDAuMjUsLjI1LC43NSwuNzUpIGFsbDstbXMtdHJhbnNpdGlvbjoxMDAwbXMgY3ViaWMtYmV6aWVyKDAuMjUsLjI1LC43NSwuNzUpIGFsbDstby10cmFuc2l0aW9uOjEwMDBtcyBjdWJpYy1iZXppZXIoMC4yNSwuMjUsLjc1LC43NSkgYWxsO3RyYW5zaXRpb246MTAwMG1zIGN1YmljLWJlemllcigwLjI1LC4yNSwuNzUsLjc1KSBhbGx9Om5vdCgubm8tZW50ZXIpI3RvYXN0LWNvbnRhaW5lcj5kaXYubmctZW50ZXIubmctZW50ZXItYWN0aXZle29wYWNpdHk6Ljh9Om5vdCgubm8tbGVhdmUpI3RvYXN0LWNvbnRhaW5lcj5kaXYubmctbGVhdmV7b3BhY2l0eTouOH06bm90KC5uby1sZWF2ZSkjdG9hc3QtY29udGFpbmVyPmRpdi5uZy1sZWF2ZS5uZy1sZWF2ZS1hY3RpdmV7b3BhY2l0eTowfTpub3QoLm5vLWVudGVyKSN0b2FzdC1jb250YWluZXI+ZGl2Lm5nLWVudGVye29wYWNpdHk6MH1AZm9udC1mYWNle2ZvbnQtZmFtaWx5OmxvY2FsUm9ib3RvVGhpbjtzcmM6dXJsKGZvbnRzL3JvYm90b190aGluX21hY3JvbWFuL1JvYm90by1UaGluLXdlYmZvbnQuZW90KTtzcmM6dXJsKGZvbnRzL3JvYm90b190aGluX21hY3JvbWFuL1JvYm90by1UaGluLXdlYmZvbnQuZW90PyNpZWZpeCkgZm9ybWF0KCdlbWJlZGRlZC1vcGVudHlwZScpLHVybChmb250cy9yb2JvdG9fdGhpbl9tYWNyb21hbi9Sb2JvdG8tVGhpbi13ZWJmb250LndvZmYpIGZvcm1hdCgnd29mZicpLHVybChmb250cy9yb2JvdG9fdGhpbl9tYWNyb21hbi9Sb2JvdG8tVGhpbi13ZWJmb250LnR0ZikgZm9ybWF0KCd0cnVldHlwZScpLHVybChmb250cy9yb2JvdG9fdGhpbl9tYWNyb21hbi9Sb2JvdG8tVGhpbi13ZWJmb250LnN2ZyNSb2JvdG9NZWRpdW1JdGFsaWMpIGZvcm1hdCgnc3ZnJyk7Zm9udC13ZWlnaHQ6MjAwO2ZvbnQtc3R5bGU6bm9ybWFsfUBmb250LWZhY2V7Zm9udC1mYW1pbHk6bG9jYWxSb2JvdG9MaWdodDtzcmM6dXJsKGZvbnRzL3JvYm90b19saWdodF9tYWNyb21hbi9Sb2JvdG8tTGlnaHQtd2ViZm9udC5lb3QpO3NyYzp1cmwoZm9udHMvcm9ib3RvX2xpZ2h0X21hY3JvbWFuL1JvYm90by1MaWdodC13ZWJmb250LmVvdD8jaWVmaXgpIGZvcm1hdCgnZW1iZWRkZWQtb3BlbnR5cGUnKSx1cmwoZm9udHMvcm9ib3RvX2xpZ2h0X21hY3JvbWFuL1JvYm90by1MaWdodC13ZWJmb250LndvZmYpIGZvcm1hdCgnd29mZicpLHVybChmb250cy9yb2JvdG9fbGlnaHRfbWFjcm9tYW4vUm9ib3RvLUxpZ2h0LXdlYmZvbnQudHRmKSBmb3JtYXQoJ3RydWV0eXBlJyksdXJsKGZvbnRzL3JvYm90b19saWdodF9tYWNyb21hbi9Sb2JvdG8tTGlnaHQtd2ViZm9udC5zdmcjUm9ib3RvTWVkaXVtSXRhbGljKSBmb3JtYXQoJ3N2ZycpO2ZvbnQtd2VpZ2h0OjIwMDtmb250LXN0eWxlOm5vcm1hbH1AZm9udC1mYWNle2ZvbnQtZmFtaWx5OmxvY2FsUm9ib3RvUmVndWxhcjtzcmM6dXJsKGZvbnRzL3JvYm90b19yZWd1bGFyX21hY3JvbWFuL1JvYm90by1SZWd1bGFyLXdlYmZvbnQuZW90KTtzcmM6dXJsKGZvbnRzL3JvYm90b19yZWd1bGFyX21hY3JvbWFuL1JvYm90by1SZWd1bGFyLXdlYmZvbnQuZW90PyNpZWZpeCkgZm9ybWF0KCdlbWJlZGRlZC1vcGVudHlwZScpLHVybChmb250cy9yb2JvdG9fcmVndWxhcl9tYWNyb21hbi9Sb2JvdG8tUmVndWxhci13ZWJmb250LndvZmYpIGZvcm1hdCgnd29mZicpLHVybChmb250cy9yb2JvdG9fcmVndWxhcl9tYWNyb21hbi9Sb2JvdG8tUmVndWxhci13ZWJmb250LnR0ZikgZm9ybWF0KCd0cnVldHlwZScpLHVybChmb250cy9yb2JvdG9fcmVndWxhcl9tYWNyb21hbi9Sb2JvdG8tUmVndWxhci13ZWJmb250LnN2ZyNSb2JvdG9NZWRpdW1JdGFsaWMpIGZvcm1hdCgnc3ZnJyk7Zm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6NDAwfUBmb250LWZhY2V7Zm9udC1mYW1pbHk6bG9jYWxSb2JvdG9NZWRpdW07c3JjOnVybChmb250cy9yb2JvdG9fbWVkaXVtX21hY3JvbWFuL1JvYm90by1NZWRpdW0td2ViZm9udC5lb3QpO3NyYzp1cmwoZm9udHMvcm9ib3RvX21lZGl1bV9tYWNyb21hbi9Sb2JvdG8tTWVkaXVtLXdlYmZvbnQuZW90PyNpZWZpeCkgZm9ybWF0KCdlbWJlZGRlZC1vcGVudHlwZScpLHVybChmb250cy9yb2JvdG9fbWVkaXVtX21hY3JvbWFuL1JvYm90by1NZWRpdW0td2ViZm9udC53b2ZmKSBmb3JtYXQoJ3dvZmYnKSx1cmwoZm9udHMvcm9ib3RvX21lZGl1bV9tYWNyb21hbi9Sb2JvdG8tTWVkaXVtLXdlYmZvbnQudHRmKSBmb3JtYXQoJ3RydWV0eXBlJyksdXJsKGZvbnRzL3JvYm90b19tZWRpdW1fbWFjcm9tYW4vUm9ib3RvLU1lZGl1bS13ZWJmb250LnN2ZyNSb2JvdG9NZWRpdW1JdGFsaWMpIGZvcm1hdCgnc3ZnJyk7Zm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6NTAwfUBmb250LWZhY2V7Zm9udC1mYW1pbHk6bG9jYWxSb2JvdG9Cb2xkO3NyYzp1cmwoZm9udHMvcm9ib3RvX2JvbGRfbWFjcm9tYW4vUm9ib3RvLUJvbGQtd2ViZm9udC5lb3QpO3NyYzp1cmwoZm9udHMvcm9ib3RvX2JvbGRfbWFjcm9tYW4vUm9ib3RvLUJvbGQtd2ViZm9udC5lb3Q/I2llZml4KSBmb3JtYXQoJ2VtYmVkZGVkLW9wZW50eXBlJyksdXJsKGZvbnRzL3JvYm90b19ib2xkX21hY3JvbWFuL1JvYm90by1Cb2xkLXdlYmZvbnQud29mZikgZm9ybWF0KCd3b2ZmJyksdXJsKGZvbnRzL3JvYm90b19ib2xkX21hY3JvbWFuL1JvYm90by1Cb2xkLXdlYmZvbnQudHRmKSBmb3JtYXQoJ3RydWV0eXBlJyksdXJsKGZvbnRzL3JvYm90b19ib2xkX21hY3JvbWFuL1JvYm90by1Cb2xkLXdlYmZvbnQuc3ZnI1JvYm90b01lZGl1bUl0YWxpYykgZm9ybWF0KCdzdmcnKTtmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDo4MDB9Kntmb250LWZhbWlseTpsb2NhbFJvYm90b1JlZ3VsYXJ9LnJvYm90by10aGlue2ZvbnQtZmFtaWx5OmxvY2FsUm9ib3RvVGhpbjtmb250LXdlaWdodDoxMDB9LnJvYm90by1saWdodHtmb250LWZhbWlseTpsb2NhbFJvYm90b0xpZ2h0O2ZvbnQtd2VpZ2h0OjMwMH0ucm9ib3RvLXJlZ3VsYXJ7Zm9udC1mYW1pbHk6bG9jYWxSb2JvdG9SZWd1bGFyO2ZvbnQtd2VpZ2h0OjQwMH0ucm9ib3RvLW1lZGl1bXtmb250LWZhbWlseTpsb2NhbFJvYm90b01lZGl1bTtmb250LXdlaWdodDo1MDB9LnJvYm90by1ib2xke2ZvbnQtZmFtaWx5OmxvY2FsUm9ib3RvQm9sZDtmb250LXdlaWdodDo3MDB9Lmljb25Dc3N7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfS53YWl0QmFja2dyb3VuZHtwb3NpdGlvbjpmaXhlZDt0b3A6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2JhY2tncm91bmQtY29sb3I6cmdiYSgyNTAsMjUwLDI1MCwxKTt6LWluZGV4OjEwMDA7ZGlzcGxheTpub25lfS53YWl0QmFja2dyb3VuZD5kaXZ7b3BhY2l0eTouODtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6Y2FsYyg1MCUgLSAxMzBweCk7bGVmdDpjYWxjKDUwJSAtIDEzMHB4KTtyaWdodDpjYWxjKDUwJSAtIDEzMHB4KTttYXJnaW46MCBhdXRvO2Rpc3BsYXk6aW5saW5lLWJsb2NrfWlucHV0LHNlbGVjdCxidXR0b24sI2ZvbGxvdyBpbWcsLnNsaWRlci1zdGVwcyBzcGFuLCNzY3JvbGxUb1RvcCBpbWd7Y3Vyc29yOnBvaW50ZXJ9LyohKmJ1dHRvbi5yb2JvdG8tbWVkaXVtLCohKi8uZml4ZWR7cG9zaXRpb246Zml4ZWQhaW1wb3J0YW50O3dpZHRoOjEwMCU7ei1pbmRleDo5MH1uYXYucGFnZXN7ZGlyZWN0aW9uOmx0cjtiYWNrZ3JvdW5kLWNvbG9yOiM0NTQ1NDU7cG9zaXRpb246cmVsYXRpdmU7cGFkZGluZzowIDIwcHh9bmF2LnBhZ2VzICp7dGV4dC1kZWNvcmF0aW9uOm5vbmV9LnBhZ2VzIGF7ZGlzcGxheTppbmxpbmUtYmxvY2s7cGFkZGluZzo4cHg7Y29sb3I6Z3JheTtmb250LXNpemU6MTZweH0ucGFnZXMgYTpob3Zlcntjb2xvcjojYzFjMWMxfS5wYWdlcyBhOmxhc3QtY2hpbGQ6aG92ZXJ7Y29sb3I6I2ZmZn0ucGFnZXMgYTphZnRlcntjb250ZW50OiIvIjtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3JpZ2h0Oi04cHg7dG9wOjA7ei1pbmRleDoxfS5wYWdlcyBhOmxhc3QtY2hpbGQ6YWZ0ZXJ7Y29udGVudDoiIn0ucHJvZHVjdENvbG9ye2Rpc3BsYXk6aW5saW5lLWJsb2NrO2JvcmRlcjpzb2xpZCAxcHggIzlkOWQ5ZDt3aWR0aDoxM3B4O2hlaWdodDoxM3B4O2JvcmRlci1yYWRpdXM6NTAlO21hcmdpbjo1cHggMTVweDtwYWRkaW5nOjAhaW1wb3J0YW50O2N1cnNvcjpwb2ludGVyO3RleHQtYWxpZ246Y2VudGVyfS5wcm9kdWN0Q29sb3I+bGFiZWx7ZGlzcGxheTpub25lO3BhZGRpbmc6NnB4O2JvcmRlcjpzb2xpZCAxcHggI0QxRDFEMTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTM1cHg7YmFja2dyb3VuZC1jb2xvcjojZmZmO21hcmdpbjowIGF1dG87bGVmdDowO3JpZ2h0OjA7ei1pbmRleDoyO3dpZHRoOjU5cHg7Zm9udC1zaXplOjEzcHh9LnByb2R1Y3RDb2xvcj5sYWJlbDpiZWZvcmV7Y29udGVudDoiIjtwb3NpdGlvbjphYnNvbHV0ZTtib3R0b206LTEwcHg7Ym9yZGVyLXJpZ2h0OnNvbGlkIDEwcHggdHJhbnNwYXJlbnQ7Ym9yZGVyLWxlZnQ6c29saWQgMTBweCB0cmFuc3BhcmVudDtib3JkZXItdG9wOnNvbGlkIDEwcHggI0QxRDFEMTtsZWZ0OjExcHh9LnByb2R1Y3RDb2xvcj5sYWJlbDphZnRlcntjb250ZW50OiIiO3Bvc2l0aW9uOmFic29sdXRlO2JvdHRvbTotOHB4O2JvcmRlci1yaWdodDpzb2xpZCAxMHB4IHRyYW5zcGFyZW50O2JvcmRlci1sZWZ0OnNvbGlkIDEwcHggdHJhbnNwYXJlbnQ7Ym9yZGVyLXRvcDpzb2xpZCAxMHB4ICNmZmY7bGVmdDoxMXB4fS5wcm9kdWN0Q29sb3I6aG92ZXI+bGFiZWx7ZGlzcGxheTpibG9ja30uY2VudGVye3RleHQtYWxpZ246Y2VudGVyO21hcmdpbjowIGF1dG99aDMucm9ib3RvLXJlZ3VsYXJ7Y29sb3I6IzJhMmEyYTtmb250LXNpemU6MzBweDtwYWRkaW5nOjMwcHggMDt0ZXh0LWFsaWduOmNlbnRlcn0ubGVmdHt0ZXh0LWFsaWduOmxlZnR9Lm9wdGlvbntwb3NpdGlvbjpyZWxhdGl2ZX0ub3B0aW9uLm1hcmdpblRvcHttYXJnaW4tdG9wOjEwcHh9aW5wdXRbdHlwZT1jaGVja2JveF17ZGlzcGxheTppbmxpbmUtYmxvY2s7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7b3V0bGluZTowO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOmNlbnRlciBjZW50ZXI7YmFja2dyb3VuZC1zaXplOmNvbnRhaW47cG9zaXRpb246YWJzb2x1dGU7dG9wOjVweDt2ZXJ0aWNhbC1hbGlnbjp0b3B9aW5wdXRbdHlwZT1jaGVja2JveF17d2lkdGg6MTZweDtoZWlnaHQ6MTZweDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym9yZGVyOnNvbGlkICM1NGIzYWQgMXB4fWlucHV0W3R5cGU9Y2hlY2tib3hdOm5vdCg6Y2hlY2tlZCl7YmFja2dyb3VuZC1pbWFnZTp1cmwoKTtib3JkZXI6c29saWQgI2QwZDBkMCAxcHh9aW5wdXRbdHlwZT1jaGVja2JveF06Y2hlY2tlZHtiYWNrZ3JvdW5kLWltYWdlOnVybChpbWFnZXMvQ2hlY2sucG5nKTtiYWNrZ3JvdW5kLXBvc2l0aW9uOjYwJSAzNiU7YmFja2dyb3VuZC1zaXplOjk1JTtiYWNrZ3JvdW5kLWNvbG9yOiM1NGIzYWR9Lm9wdGlvbiBzcGFue2ZvbnQtc2l6ZToxM3B4O3BhZGRpbmc6NXB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3BhZGRpbmctbGVmdDoyNXB4fS5vcHRpb24gbGFiZWx7Zm9udC1zaXplOjEzcHg7cGFkZGluZzo1cHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7cGFkZGluZy1sZWZ0OjI1cHh9LmNvbG9yU2VsZWN0ZWR7Ym94LXNoYWRvdzowIDAgMCAycHggd2hpdGUsMCAwIDAgNHB4ICNjMWMxYzEhaW1wb3J0YW50fS53b3Jke2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5ibG9ja3tkaXNwbGF5OmJsb2NrfS5taW5pLXRpdGxle3Bvc2l0aW9uOmFic29sdXRlO3RvcDo0NXB4O2xlZnQ6MDtyaWdodDotMjJweDttYXJnaW46MCBhdXRvO3otaW5kZXg6MTAwO2JhY2tncm91bmQtY29sb3I6I2ZmZjtwYWRkaW5nOjhweDt0ZXh0LWFsaWduOmxlZnQ7ZGlzcGxheTpub25lO3dpZHRoOjExNXB4O2JvcmRlcjpzb2xpZCAxcHggcmdiYSgxMDAsMTAwLDEwMCwuODIpfS5taW5pLXRpdGxlIC5vcHRpb257ZGlzcGxheTppbmxpbmUtYmxvY2s7Y29sb3I6IzJhMmEyYTtmb250LXNpemU6MTJweDt0ZXh0LWRlY29yYXRpb246bm9uZTtwYWRkaW5nOjdweDt3aWR0aDoxMDAlO2JveC1zaXppbmc6Ym9yZGVyLWJveDtjdXJzb3I6cG9pbnRlcn0ubWluaS10aXRsZSAub3B0aW9uOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2Y5ZjlmOX0ubWluaS10aXRsZS1oZWxwe3Bvc2l0aW9uOmFic29sdXRlO3RvcDo0N3B4O2xlZnQ6MDtyaWdodDoxMHB4O21hcmdpbjowIGF1dG87ei1pbmRleDoxMDA7YmFja2dyb3VuZC1jb2xvcjojZmZmO3BhZGRpbmc6OHB4O3RleHQtYWxpZ246bGVmdDtkaXNwbGF5Om5vbmU7d2lkdGg6MTE1cHg7Ym9yZGVyOnNvbGlkIDFweCByZ2JhKDEwMCwxMDAsMTAwLC44Mil9Lm1pbmktdGl0bGUtaGVscC1tb2JpbGV7dG9wOjEwMHB4fS5taW5pLXRpdGxlLWhlbHAgLm9wdGlvbntkaXNwbGF5OmlubGluZS1ibG9jaztjb2xvcjojMmEyYTJhO2ZvbnQtc2l6ZToxMnB4O3RleHQtZGVjb3JhdGlvbjpub25lO3BhZGRpbmc6N3B4O3dpZHRoOjEwMCU7Ym94LXNpemluZzpib3JkZXItYm94O2N1cnNvcjpwb2ludGVyfS5taW5pLXRpdGxlLWhlbHAgLm9wdGlvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNmOWY5Zjl9LmRpc3BsYXl7ZGlzcGxheTpibG9ja31idXR0b257dHJhbnNpdGlvbjphbGwgbGluZWFyIC4ycztib3JkZXI6c29saWQgMnB4ICMyYTJhMmE7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtjb2xvcjojMmEyYTJhfWJ1dHRvbjpob3Zlcntjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6IzJhMmEyYX0uYS1idXR0b24sLmEtbGlua3tib3JkZXI6c29saWQgMnB4ICMyYTJhMmE7Y29sb3I6IzJhMmEyYTtmb250LXNpemU6MTJweDtkaXNwbGF5OmlubGluZS1ibG9jaztiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O3RleHQtZGVjb3JhdGlvbjpub25lO3RyYW5zaXRpb246YWxsIC4zcyBlYXNlfS5hLWJ1dHRvbntib3JkZXI6c29saWQgMnB4ICMyYTJhMmE7cGFkZGluZzo4cHggMTNweDtsZXR0ZXItc3BhY2luZzouNXB4O2ZvbnQtd2VpZ2h0OjYwMH0uYS1saW5re2JvcmRlcjpzb2xpZCAxcHggdHJhbnNwYXJlbnQhaW1wb3J0YW50fS5hLWxpbmsuYnV0dG9uRGlzYWJsZXtib3JkZXI6c29saWQgMXB4IHRyYW5zcGFyZW50IWltcG9ydGFudH0uYS1saW5rLmJ1dHRvbkRpc2FibGU6aG92ZXJ7Ym9yZGVyOnNvbGlkIDFweCB0cmFuc3BhcmVudCFpbXBvcnRhbnR9LmEtYnV0dG9uOmhvdmVye2NvbG9yOiNmZmYhaW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6IzJhMmEyYSFpbXBvcnRhbnR9LmEtbGluazpob3Zlcntjb2xvcjojNTRiM2FkfWF7dGV4dC1kZWNvcmF0aW9uOm5vbmV9LmludmFsaWQ6bm90KGlucHV0KXtjb2xvcjojRkY0NTRGIWltcG9ydGFudH0uc21vbGxNYXJnaW57Zm9udC13ZWlnaHQ6NDAwIWltcG9ydGFudDtmb250LXNpemU6MTNweCFpbXBvcnRhbnQ7bWFyZ2luLWJvdHRvbToyMHB4fS5idXR0b25EaXNhYmxlLC5idXR0b25EaXNhYmxlOmhvdmVye2NvbG9yOiNiMmIyYjIhaW1wb3J0YW50O2JvcmRlcjpzb2xpZCAycHggI2QxZDFkMSFpbXBvcnRhbnQ7Y3Vyc29yOmRlZmF1bHQ7YmFja2dyb3VuZC1jb2xvcjojZmZmIWltcG9ydGFudH0uZGlyUmlnaHR7ZGlyZWN0aW9uOnJ0bH0ubm9QYWRkaW5ne3BhZGRpbmc6MCFpbXBvcnRhbnR9W25nXDpjbG9ha10sW25nLWNsb2FrXSxbZGF0YS1uZy1jbG9ha10sLm5nLWNsb2FrLFtuZ1w6Y2xvYWtdICosW25nLWNsb2FrXSAqLFtkYXRhLW5nLWNsb2FrXSAqLC5uZy1jbG9hayAqe2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9Lm1vYmlsZVRpdGxlIC5taW5pLXRpdGxlOmJlZm9yZXtjb250ZW50OiIiO3Bvc2l0aW9uOmFic29sdXRlO2JvcmRlci1ib3R0b206MTBweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItdG9wOjEwcHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLXJpZ2h0OjEwcHggc29saWQgcmdiYSgxMDAsMTAwLDEwMCwuODIpO3otaW5kZXg6MjAwO3RvcDpjYWxjKDUwJSAtIDEwcHgpO2xlZnQ6LTEwcHh9Lm1vYmlsZVRpdGxlIC5taW5pLXRpdGxlOmFmdGVye2NvbnRlbnQ6IiI7cG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyLWJvdHRvbToxMHB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci10b3A6MTBweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItcmlnaHQ6MTBweCBzb2xpZCAjZmZmO3otaW5kZXg6MjAwO3RvcDpjYWxjKDUwJSAtIDEwcHgpO2xlZnQ6LTlweH0ubW9iaWxlVGl0bGUgLm1pbmktdGl0bGUtaGVscDpiZWZvcmV7Y29udGVudDoiIjtwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXItYm90dG9tOjEwcHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLXRvcDoxMHB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1yaWdodDoxMHB4IHNvbGlkIHJnYmEoMTAwLDEwMCwxMDAsLjgyKTt6LWluZGV4OjIwMDt0b3A6Y2FsYyg1MCUgLSAxMHB4KTtsZWZ0Oi0xMHB4fS5tb2JpbGVUaXRsZSAubWluaS10aXRsZS1oZWxwOmFmdGVye2NvbnRlbnQ6IiI7cG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyLWJvdHRvbToxMHB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci10b3A6MTBweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItcmlnaHQ6MTBweCBzb2xpZCAjZmZmO3otaW5kZXg6MjAwO3RvcDpjYWxjKDUwJSAtIDEwcHgpO2xlZnQ6LTlweH0jbW9iaWxlU2VhcmNoe21hcmdpbjowIGF1dG99LmRlbGF5QW5pbTAxey13ZWJraXQtYW5pbWF0aW9uLWRlbGF5Oi4xczthbmltYXRpb24tZGVsYXk6LjFzfS5kZWxheUFuaW0wMnstd2Via2l0LWFuaW1hdGlvbi1kZWxheTouMnM7YW5pbWF0aW9uLWRlbGF5Oi4yc30uZGVsYXlBbmltMDN7LXdlYmtpdC1hbmltYXRpb24tZGVsYXk6LjNzO2FuaW1hdGlvbi1kZWxheTouM3N9LmRlbGF5QW5pbTA0ey13ZWJraXQtYW5pbWF0aW9uLWRlbGF5Oi40czthbmltYXRpb24tZGVsYXk6LjRzfS5hbmltYXRlZHstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjoxczthbmltYXRpb24tZHVyYXRpb246MXM7LXdlYmtpdC1hbmltYXRpb24tZmlsbC1tb2RlOmJvdGg7YW5pbWF0aW9uLWZpbGwtbW9kZTpib3RofS5hbmltYXRlZC5pbmZpbml0ZXstd2Via2l0LWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6aW5maW5pdGU7YW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDppbmZpbml0ZX0uYW5pbWF0ZWQuaGluZ2V7LXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246MnM7YW5pbWF0aW9uLWR1cmF0aW9uOjJzfS5hbmltYXRlZC5ib3VuY2VJbiwuYW5pbWF0ZWQuYm91bmNlT3V0ey13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOi43NXM7YW5pbWF0aW9uLWR1cmF0aW9uOi43NXN9LmFuaW1hdGVkLmZsaXBPdXRYLC5hbmltYXRlZC5mbGlwT3V0WXstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjouNzVzO2FuaW1hdGlvbi1kdXJhdGlvbjouNzVzfUAtd2Via2l0LWtleWZyYW1lcyBib3VuY2V7ZnJvbSwyMCUsNTMlLDgwJSx0b3std2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuMjE1LC42MSwuMzU1LDEpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuMjE1LC42MSwuMzU1LDEpOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApfTQwJSw0MyV7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjc1NSwuMDUwLC44NTUsLjA2MCk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC43NTUsLjA1MCwuODU1LC4wNjApOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTMwcHgsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTMwcHgsMCl9NzAley13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC43NTUsLjA1MCwuODU1LC4wNjApO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuNzU1LC4wNTAsLjg1NSwuMDYwKTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC0xNXB4LDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC0xNXB4LDApfTkwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC00cHgsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTRweCwwKX19QGtleWZyYW1lcyBib3VuY2V7ZnJvbSwyMCUsNTMlLDgwJSx0b3std2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuMjE1LC42MSwuMzU1LDEpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuMjE1LC42MSwuMzU1LDEpOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApfTQwJSw0MyV7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjc1NSwuMDUwLC44NTUsLjA2MCk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC43NTUsLjA1MCwuODU1LC4wNjApOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTMwcHgsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTMwcHgsMCl9NzAley13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC43NTUsLjA1MCwuODU1LC4wNjApO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuNzU1LC4wNTAsLjg1NSwuMDYwKTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC0xNXB4LDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC0xNXB4LDApfTkwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC00cHgsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTRweCwwKX19LmJvdW5jZXstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmJvdW5jZTthbmltYXRpb24tbmFtZTpib3VuY2U7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmNlbnRlciBib3R0b207dHJhbnNmb3JtLW9yaWdpbjpjZW50ZXIgYm90dG9tfUAtd2Via2l0LWtleWZyYW1lcyBmbGFzaHtmcm9tLDUwJSx0b3tvcGFjaXR5OjF9MjUlLDc1JXtvcGFjaXR5OjB9fUBrZXlmcmFtZXMgZmxhc2h7ZnJvbSw1MCUsdG97b3BhY2l0eToxfTI1JSw3NSV7b3BhY2l0eTowfX0uZmxhc2h7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpmbGFzaDthbmltYXRpb24tbmFtZTpmbGFzaH1ALXdlYmtpdC1rZXlmcmFtZXMgcHVsc2V7ZnJvbXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEsMSwxKTt0cmFuc2Zvcm06c2NhbGUzZCgxLDEsMSl9NTAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMS4wNSwxLjA1LDEuMDUpO3RyYW5zZm9ybTpzY2FsZTNkKDEuMDUsMS4wNSwxLjA1KX10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEsMSwxKTt0cmFuc2Zvcm06c2NhbGUzZCgxLDEsMSl9fUBrZXlmcmFtZXMgcHVsc2V7ZnJvbXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEsMSwxKTt0cmFuc2Zvcm06c2NhbGUzZCgxLDEsMSl9NTAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMS4wNSwxLjA1LDEuMDUpO3RyYW5zZm9ybTpzY2FsZTNkKDEuMDUsMS4wNSwxLjA1KX10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEsMSwxKTt0cmFuc2Zvcm06c2NhbGUzZCgxLDEsMSl9fS5wdWxzZXstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnB1bHNlO2FuaW1hdGlvbi1uYW1lOnB1bHNlfUAtd2Via2l0LWtleWZyYW1lcyBydWJiZXJCYW5ke2Zyb217LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLDEsMSk7dHJhbnNmb3JtOnNjYWxlM2QoMSwxLDEpfTMwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEuMjUsLjc1LDEpO3RyYW5zZm9ybTpzY2FsZTNkKDEuMjUsLjc1LDEpfTQwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDAuNzUsMS4yNSwxKTt0cmFuc2Zvcm06c2NhbGUzZCgwLjc1LDEuMjUsMSl9NTAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMS4xNSwuODUsMSk7dHJhbnNmb3JtOnNjYWxlM2QoMS4xNSwuODUsMSl9NjUley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjk1LDEuMDUsMSk7dHJhbnNmb3JtOnNjYWxlM2QoLjk1LDEuMDUsMSl9NzUley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMS4wNSwuOTUsMSk7dHJhbnNmb3JtOnNjYWxlM2QoMS4wNSwuOTUsMSl9dG97LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLDEsMSk7dHJhbnNmb3JtOnNjYWxlM2QoMSwxLDEpfX1Aa2V5ZnJhbWVzIHJ1YmJlckJhbmR7ZnJvbXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEsMSwxKTt0cmFuc2Zvcm06c2NhbGUzZCgxLDEsMSl9MzAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMS4yNSwuNzUsMSk7dHJhbnNmb3JtOnNjYWxlM2QoMS4yNSwuNzUsMSl9NDAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMC43NSwxLjI1LDEpO3RyYW5zZm9ybTpzY2FsZTNkKDAuNzUsMS4yNSwxKX01MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLjE1LC44NSwxKTt0cmFuc2Zvcm06c2NhbGUzZCgxLjE1LC44NSwxKX02NSV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguOTUsMS4wNSwxKTt0cmFuc2Zvcm06c2NhbGUzZCguOTUsMS4wNSwxKX03NSV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLjA1LC45NSwxKTt0cmFuc2Zvcm06c2NhbGUzZCgxLjA1LC45NSwxKX10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEsMSwxKTt0cmFuc2Zvcm06c2NhbGUzZCgxLDEsMSl9fS5ydWJiZXJCYW5key13ZWJraXQtYW5pbWF0aW9uLW5hbWU6cnViYmVyQmFuZDthbmltYXRpb24tbmFtZTpydWJiZXJCYW5kfUAtd2Via2l0LWtleWZyYW1lcyBzaGFrZXtmcm9tLHRvey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApfTEwJSwzMCUsNTAlLDcwJSw5MCV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTEwcHgsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTEwcHgsMCwwKX0yMCUsNDAlLDYwJSw4MCV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMTBweCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgxMHB4LDAsMCl9fUBrZXlmcmFtZXMgc2hha2V7ZnJvbSx0b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKX0xMCUsMzAlLDUwJSw3MCUsOTAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xMHB4LDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xMHB4LDAsMCl9MjAlLDQwJSw2MCUsODAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDEwcHgsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMTBweCwwLDApfX0uc2hha2V7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpzaGFrZTthbmltYXRpb24tbmFtZTpzaGFrZX1ALXdlYmtpdC1rZXlmcmFtZXMgc3dpbmd7MjAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZTNkKDAsMCwxLDE1ZGVnKTt0cmFuc2Zvcm06cm90YXRlM2QoMCwwLDEsMTVkZWcpfTQwJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSwtMTBkZWcpO3RyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSwtMTBkZWcpfTYwJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSw1ZGVnKTt0cmFuc2Zvcm06cm90YXRlM2QoMCwwLDEsNWRlZyl9ODAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZTNkKDAsMCwxLC01ZGVnKTt0cmFuc2Zvcm06cm90YXRlM2QoMCwwLDEsLTVkZWcpfXRvey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZTNkKDAsMCwxLDBkZWcpO3RyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSwwZGVnKX19QGtleWZyYW1lcyBzd2luZ3syMCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlM2QoMCwwLDEsMTVkZWcpO3RyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSwxNWRlZyl9NDAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZTNkKDAsMCwxLC0xMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZTNkKDAsMCwxLC0xMGRlZyl9NjAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZTNkKDAsMCwxLDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSw1ZGVnKX04MCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlM2QoMCwwLDEsLTVkZWcpO3RyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSwtNWRlZyl9dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlM2QoMCwwLDEsMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZTNkKDAsMCwxLDBkZWcpfX0uc3dpbmd7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOnRvcCBjZW50ZXI7dHJhbnNmb3JtLW9yaWdpbjp0b3AgY2VudGVyOy13ZWJraXQtYW5pbWF0aW9uLW5hbWU6c3dpbmc7YW5pbWF0aW9uLW5hbWU6c3dpbmd9QC13ZWJraXQta2V5ZnJhbWVzIHRhZGF7ZnJvbXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEsMSwxKTt0cmFuc2Zvcm06c2NhbGUzZCgxLDEsMSl9MTAlLDIwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC45LC45LC45KSByb3RhdGUzZCgwLDAsMSwtM2RlZyk7dHJhbnNmb3JtOnNjYWxlM2QoLjksLjksLjkpIHJvdGF0ZTNkKDAsMCwxLC0zZGVnKX0zMCUsNTAlLDcwJSw5MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLjEsMS4xLDEuMSkgcm90YXRlM2QoMCwwLDEsM2RlZyk7dHJhbnNmb3JtOnNjYWxlM2QoMS4xLDEuMSwxLjEpIHJvdGF0ZTNkKDAsMCwxLDNkZWcpfTQwJSw2MCUsODAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMS4xLDEuMSwxLjEpIHJvdGF0ZTNkKDAsMCwxLC0zZGVnKTt0cmFuc2Zvcm06c2NhbGUzZCgxLjEsMS4xLDEuMSkgcm90YXRlM2QoMCwwLDEsLTNkZWcpfXRvey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMSwxLDEpO3RyYW5zZm9ybTpzY2FsZTNkKDEsMSwxKX19QGtleWZyYW1lcyB0YWRhe2Zyb217LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLDEsMSk7dHJhbnNmb3JtOnNjYWxlM2QoMSwxLDEpfTEwJSwyMCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguOSwuOSwuOSkgcm90YXRlM2QoMCwwLDEsLTNkZWcpO3RyYW5zZm9ybTpzY2FsZTNkKC45LC45LC45KSByb3RhdGUzZCgwLDAsMSwtM2RlZyl9MzAlLDUwJSw3MCUsOTAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMS4xLDEuMSwxLjEpIHJvdGF0ZTNkKDAsMCwxLDNkZWcpO3RyYW5zZm9ybTpzY2FsZTNkKDEuMSwxLjEsMS4xKSByb3RhdGUzZCgwLDAsMSwzZGVnKX00MCUsNjAlLDgwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEuMSwxLjEsMS4xKSByb3RhdGUzZCgwLDAsMSwtM2RlZyk7dHJhbnNmb3JtOnNjYWxlM2QoMS4xLDEuMSwxLjEpIHJvdGF0ZTNkKDAsMCwxLC0zZGVnKX10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEsMSwxKTt0cmFuc2Zvcm06c2NhbGUzZCgxLDEsMSl9fS50YWRhey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6dGFkYTthbmltYXRpb24tbmFtZTp0YWRhfUAtd2Via2l0LWtleWZyYW1lcyB3b2JibGV7ZnJvbXstd2Via2l0LXRyYW5zZm9ybTpub25lO3RyYW5zZm9ybTpub25lfTE1JXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMjUlLDAsMCkgcm90YXRlM2QoMCwwLDEsLTVkZWcpO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMjUlLDAsMCkgcm90YXRlM2QoMCwwLDEsLTVkZWcpfTMwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgyMCUsMCwwKSByb3RhdGUzZCgwLDAsMSwzZGVnKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMjAlLDAsMCkgcm90YXRlM2QoMCwwLDEsM2RlZyl9NDUley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xNSUsMCwwKSByb3RhdGUzZCgwLDAsMSwtM2RlZyk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xNSUsMCwwKSByb3RhdGUzZCgwLDAsMSwtM2RlZyl9NjAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDEwJSwwLDApIHJvdGF0ZTNkKDAsMCwxLDJkZWcpO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgxMCUsMCwwKSByb3RhdGUzZCgwLDAsMSwyZGVnKX03NSV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTUlLDAsMCkgcm90YXRlM2QoMCwwLDEsLTFkZWcpO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtNSUsMCwwKSByb3RhdGUzZCgwLDAsMSwtMWRlZyl9dG97LXdlYmtpdC10cmFuc2Zvcm06bm9uZTt0cmFuc2Zvcm06bm9uZX19QGtleWZyYW1lcyB3b2JibGV7ZnJvbXstd2Via2l0LXRyYW5zZm9ybTpub25lO3RyYW5zZm9ybTpub25lfTE1JXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMjUlLDAsMCkgcm90YXRlM2QoMCwwLDEsLTVkZWcpO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMjUlLDAsMCkgcm90YXRlM2QoMCwwLDEsLTVkZWcpfTMwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgyMCUsMCwwKSByb3RhdGUzZCgwLDAsMSwzZGVnKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMjAlLDAsMCkgcm90YXRlM2QoMCwwLDEsM2RlZyl9NDUley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xNSUsMCwwKSByb3RhdGUzZCgwLDAsMSwtM2RlZyk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xNSUsMCwwKSByb3RhdGUzZCgwLDAsMSwtM2RlZyl9NjAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDEwJSwwLDApIHJvdGF0ZTNkKDAsMCwxLDJkZWcpO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgxMCUsMCwwKSByb3RhdGUzZCgwLDAsMSwyZGVnKX03NSV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTUlLDAsMCkgcm90YXRlM2QoMCwwLDEsLTFkZWcpO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtNSUsMCwwKSByb3RhdGUzZCgwLDAsMSwtMWRlZyl9dG97LXdlYmtpdC10cmFuc2Zvcm06bm9uZTt0cmFuc2Zvcm06bm9uZX19LndvYmJsZXstd2Via2l0LWFuaW1hdGlvbi1uYW1lOndvYmJsZTthbmltYXRpb24tbmFtZTp3b2JibGV9QC13ZWJraXQta2V5ZnJhbWVzIGplbGxve2Zyb20sMTEuMSUsdG97LXdlYmtpdC10cmFuc2Zvcm06bm9uZTt0cmFuc2Zvcm06bm9uZX0yMi4yJXstd2Via2l0LXRyYW5zZm9ybTpza2V3WCgtMTIuNWRlZykgc2tld1koLTEyLjVkZWcpO3RyYW5zZm9ybTpza2V3WCgtMTIuNWRlZykgc2tld1koLTEyLjVkZWcpfTMzLjMley13ZWJraXQtdHJhbnNmb3JtOnNrZXdYKDYuMjVkZWcpIHNrZXdZKDYuMjVkZWcpO3RyYW5zZm9ybTpza2V3WCg2LjI1ZGVnKSBza2V3WSg2LjI1ZGVnKX00NC40JXstd2Via2l0LXRyYW5zZm9ybTpza2V3WCgtMy4xMjVkZWcpIHNrZXdZKC0zLjEyNWRlZyk7dHJhbnNmb3JtOnNrZXdYKC0zLjEyNWRlZykgc2tld1koLTMuMTI1ZGVnKX01NS41JXstd2Via2l0LXRyYW5zZm9ybTpza2V3WCgxLjU2MjVkZWcpIHNrZXdZKDEuNTYyNWRlZyk7dHJhbnNmb3JtOnNrZXdYKDEuNTYyNWRlZykgc2tld1koMS41NjI1ZGVnKX02Ni42JXstd2Via2l0LXRyYW5zZm9ybTpza2V3WCgtLjc4MTI1ZGVnKSBza2V3WSgtLjc4MTI1ZGVnKTt0cmFuc2Zvcm06c2tld1goLS43ODEyNWRlZykgc2tld1koLS43ODEyNWRlZyl9NzcuNyV7LXdlYmtpdC10cmFuc2Zvcm06c2tld1goMC4zOTA2MjVkZWcpIHNrZXdZKDAuMzkwNjI1ZGVnKTt0cmFuc2Zvcm06c2tld1goMC4zOTA2MjVkZWcpIHNrZXdZKDAuMzkwNjI1ZGVnKX04OC44JXstd2Via2l0LXRyYW5zZm9ybTpza2V3WCgtLjE5NTMxMjVkZWcpIHNrZXdZKC0uMTk1MzEyNWRlZyk7dHJhbnNmb3JtOnNrZXdYKC0uMTk1MzEyNWRlZykgc2tld1koLS4xOTUzMTI1ZGVnKX19QGtleWZyYW1lcyBqZWxsb3tmcm9tLDExLjElLHRvey13ZWJraXQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmV9MjIuMiV7LXdlYmtpdC10cmFuc2Zvcm06c2tld1goLTEyLjVkZWcpIHNrZXdZKC0xMi41ZGVnKTt0cmFuc2Zvcm06c2tld1goLTEyLjVkZWcpIHNrZXdZKC0xMi41ZGVnKX0zMy4zJXstd2Via2l0LXRyYW5zZm9ybTpza2V3WCg2LjI1ZGVnKSBza2V3WSg2LjI1ZGVnKTt0cmFuc2Zvcm06c2tld1goNi4yNWRlZykgc2tld1koNi4yNWRlZyl9NDQuNCV7LXdlYmtpdC10cmFuc2Zvcm06c2tld1goLTMuMTI1ZGVnKSBza2V3WSgtMy4xMjVkZWcpO3RyYW5zZm9ybTpza2V3WCgtMy4xMjVkZWcpIHNrZXdZKC0zLjEyNWRlZyl9NTUuNSV7LXdlYmtpdC10cmFuc2Zvcm06c2tld1goMS41NjI1ZGVnKSBza2V3WSgxLjU2MjVkZWcpO3RyYW5zZm9ybTpza2V3WCgxLjU2MjVkZWcpIHNrZXdZKDEuNTYyNWRlZyl9NjYuNiV7LXdlYmtpdC10cmFuc2Zvcm06c2tld1goLS43ODEyNWRlZykgc2tld1koLS43ODEyNWRlZyk7dHJhbnNmb3JtOnNrZXdYKC0uNzgxMjVkZWcpIHNrZXdZKC0uNzgxMjVkZWcpfTc3Ljcley13ZWJraXQtdHJhbnNmb3JtOnNrZXdYKDAuMzkwNjI1ZGVnKSBza2V3WSgwLjM5MDYyNWRlZyk7dHJhbnNmb3JtOnNrZXdYKDAuMzkwNjI1ZGVnKSBza2V3WSgwLjM5MDYyNWRlZyl9ODguOCV7LXdlYmtpdC10cmFuc2Zvcm06c2tld1goLS4xOTUzMTI1ZGVnKSBza2V3WSgtLjE5NTMxMjVkZWcpO3RyYW5zZm9ybTpza2V3WCgtLjE5NTMxMjVkZWcpIHNrZXdZKC0uMTk1MzEyNWRlZyl9fS5qZWxsb3std2Via2l0LWFuaW1hdGlvbi1uYW1lOmplbGxvO2FuaW1hdGlvbi1uYW1lOmplbGxvOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpjZW50ZXI7dHJhbnNmb3JtLW9yaWdpbjpjZW50ZXJ9QC13ZWJraXQta2V5ZnJhbWVzIGJvdW5jZUlue2Zyb20sMjAlLDQwJSw2MCUsODAlLHRvey13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC4yMTUsLjYxLC4zNTUsMSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC4yMTUsLjYxLC4zNTUsMSl9MCV7b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjMsLjMsLjMpO3RyYW5zZm9ybTpzY2FsZTNkKC4zLC4zLC4zKX0yMCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLjEsMS4xLDEuMSk7dHJhbnNmb3JtOnNjYWxlM2QoMS4xLDEuMSwxLjEpfTQwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC45LC45LC45KTt0cmFuc2Zvcm06c2NhbGUzZCguOSwuOSwuOSl9NjAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEuMDMsMS4wMywxLjAzKTt0cmFuc2Zvcm06c2NhbGUzZCgxLjAzLDEuMDMsMS4wMyl9ODAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjk3LC45NywuOTcpO3RyYW5zZm9ybTpzY2FsZTNkKC45NywuOTcsLjk3KX10b3tvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLDEsMSk7dHJhbnNmb3JtOnNjYWxlM2QoMSwxLDEpfX1Aa2V5ZnJhbWVzIGJvdW5jZUlue2Zyb20sMjAlLDQwJSw2MCUsODAlLHRvey13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC4yMTUsLjYxLC4zNTUsMSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC4yMTUsLjYxLC4zNTUsMSl9MCV7b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjMsLjMsLjMpO3RyYW5zZm9ybTpzY2FsZTNkKC4zLC4zLC4zKX0yMCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLjEsMS4xLDEuMSk7dHJhbnNmb3JtOnNjYWxlM2QoMS4xLDEuMSwxLjEpfTQwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC45LC45LC45KTt0cmFuc2Zvcm06c2NhbGUzZCguOSwuOSwuOSl9NjAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEuMDMsMS4wMywxLjAzKTt0cmFuc2Zvcm06c2NhbGUzZCgxLjAzLDEuMDMsMS4wMyl9ODAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjk3LC45NywuOTcpO3RyYW5zZm9ybTpzY2FsZTNkKC45NywuOTcsLjk3KX10b3tvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLDEsMSk7dHJhbnNmb3JtOnNjYWxlM2QoMSwxLDEpfX0uYm91bmNlSW57LXdlYmtpdC1hbmltYXRpb24tbmFtZTpib3VuY2VJbjthbmltYXRpb24tbmFtZTpib3VuY2VJbn1ALXdlYmtpdC1rZXlmcmFtZXMgYm91bmNlSW5Eb3due2Zyb20sNjAlLDc1JSw5MCUsdG97LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjIxNSwuNjEsLjM1NSwxKTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjIxNSwuNjEsLjM1NSwxKX0wJXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMzAwMHB4LDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC0zMDAwcHgsMCl9NjAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDI1cHgsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMjVweCwwKX03NSV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMTBweCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMTBweCwwKX05MCV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCw1cHgsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsNXB4LDApfXRvey13ZWJraXQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmV9fUBrZXlmcmFtZXMgYm91bmNlSW5Eb3due2Zyb20sNjAlLDc1JSw5MCUsdG97LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjIxNSwuNjEsLjM1NSwxKTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjIxNSwuNjEsLjM1NSwxKX0wJXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMzAwMHB4LDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC0zMDAwcHgsMCl9NjAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDI1cHgsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMjVweCwwKX03NSV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMTBweCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMTBweCwwKX05MCV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCw1cHgsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsNXB4LDApfXRvey13ZWJraXQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmV9fS5ib3VuY2VJbkRvd257LXdlYmtpdC1hbmltYXRpb24tbmFtZTpib3VuY2VJbkRvd247YW5pbWF0aW9uLW5hbWU6Ym91bmNlSW5Eb3dufUAtd2Via2l0LWtleWZyYW1lcyBib3VuY2VJblVwe2Zyb20sNjAlLDc1JSw5MCUsdG97LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjIxNSwuNjEsLjM1NSwxKTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjIxNSwuNjEsLjM1NSwxKX1mcm9te29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDMwMDBweCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwzMDAwcHgsMCl9NjAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC0yMHB4LDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC0yMHB4LDApfTc1JXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDEwcHgsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMTBweCwwKX05MCV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtNXB4LDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC01cHgsMCl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCl9fUBrZXlmcmFtZXMgYm91bmNlSW5VcHtmcm9tLDYwJSw3NSUsOTAlLHRvey13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC4yMTUsLjYxLC4zNTUsMSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC4yMTUsLjYxLC4zNTUsMSl9ZnJvbXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwzMDAwcHgsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMzAwMHB4LDApfTYwJXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMjBweCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMjBweCwwKX03NSV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwxMHB4LDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDEwcHgsMCl9OTAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTVweCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtNXB4LDApfXRvey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApfX0uYm91bmNlSW5VcHstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmJvdW5jZUluVXA7YW5pbWF0aW9uLW5hbWU6Ym91bmNlSW5VcH1ALXdlYmtpdC1rZXlmcmFtZXMgYm91bmNlT3V0ezIwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC45LC45LC45KTt0cmFuc2Zvcm06c2NhbGUzZCguOSwuOSwuOSl9NTAlLDU1JXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLjEsMS4xLDEuMSk7dHJhbnNmb3JtOnNjYWxlM2QoMS4xLDEuMSwxLjEpfXRve29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC4zLC4zLC4zKTt0cmFuc2Zvcm06c2NhbGUzZCguMywuMywuMyl9fUBrZXlmcmFtZXMgYm91bmNlT3V0ezIwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC45LC45LC45KTt0cmFuc2Zvcm06c2NhbGUzZCguOSwuOSwuOSl9NTAlLDU1JXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLjEsMS4xLDEuMSk7dHJhbnNmb3JtOnNjYWxlM2QoMS4xLDEuMSwxLjEpfXRve29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC4zLC4zLC4zKTt0cmFuc2Zvcm06c2NhbGUzZCguMywuMywuMyl9fS5ib3VuY2VPdXR7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpib3VuY2VPdXQ7YW5pbWF0aW9uLW5hbWU6Ym91bmNlT3V0fUAtd2Via2l0LWtleWZyYW1lcyBib3VuY2VPdXREb3duezIwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDEwcHgsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMTBweCwwKX00MCUsNDUle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC0yMHB4LDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC0yMHB4LDApfXRve29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDIwMDBweCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwyMDAwcHgsMCl9fUBrZXlmcmFtZXMgYm91bmNlT3V0RG93bnsyMCV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwxMHB4LDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDEwcHgsMCl9NDAlLDQ1JXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMjBweCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMjBweCwwKX10b3tvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwyMDAwcHgsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMjAwMHB4LDApfX0uYm91bmNlT3V0RG93bnstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmJvdW5jZU91dERvd247YW5pbWF0aW9uLW5hbWU6Ym91bmNlT3V0RG93bn1ALXdlYmtpdC1rZXlmcmFtZXMgYm91bmNlT3V0VXB7MjAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTEwcHgsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTEwcHgsMCl9NDAlLDQ1JXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwyMHB4LDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDIwcHgsMCl9dG97b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTIwMDBweCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMjAwMHB4LDApfX1Aa2V5ZnJhbWVzIGJvdW5jZU91dFVwezIwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC0xMHB4LDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC0xMHB4LDApfTQwJSw0NSV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMjBweCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwyMHB4LDApfXRve29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC0yMDAwcHgsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTIwMDBweCwwKX19LmJvdW5jZU91dFVwey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6Ym91bmNlT3V0VXA7YW5pbWF0aW9uLW5hbWU6Ym91bmNlT3V0VXB9QC13ZWJraXQta2V5ZnJhbWVzIGZhZGVJbntmcm9te29wYWNpdHk6MH10b3tvcGFjaXR5OjF9fUBrZXlmcmFtZXMgZmFkZUlue2Zyb217b3BhY2l0eTowfXRve29wYWNpdHk6MX19LmZhZGVJbnstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmZhZGVJbjthbmltYXRpb24tbmFtZTpmYWRlSW59QC13ZWJraXQta2V5ZnJhbWVzIGZhZGVJbkRvd257ZnJvbXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMTAwJSwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMTAwJSwwKX10b3tvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06bm9uZTt0cmFuc2Zvcm06bm9uZX19QGtleWZyYW1lcyBmYWRlSW5Eb3due2Zyb217b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTEwMCUsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTEwMCUsMCl9dG97b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmV9fS5mYWRlSW5Eb3duey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6ZmFkZUluRG93bjthbmltYXRpb24tbmFtZTpmYWRlSW5Eb3dufUAtd2Via2l0LWtleWZyYW1lcyBmYWRlSW5Eb3duQmlne2Zyb217b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTIwMDBweCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMjAwMHB4LDApfXRve29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTpub25lO3RyYW5zZm9ybTpub25lfX1Aa2V5ZnJhbWVzIGZhZGVJbkRvd25CaWd7ZnJvbXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMjAwMHB4LDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC0yMDAwcHgsMCl9dG97b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmV9fS5mYWRlSW5Eb3duQmlney13ZWJraXQtYW5pbWF0aW9uLW5hbWU6ZmFkZUluRG93bkJpZzthbmltYXRpb24tbmFtZTpmYWRlSW5Eb3duQmlnfUAtd2Via2l0LWtleWZyYW1lcyBmYWRlSW5MZWZ0e2Zyb217b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xMDAlLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xMDAlLDAsMCl9dG97b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmV9fUBrZXlmcmFtZXMgZmFkZUluTGVmdHtmcm9te29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMTAwJSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMTAwJSwwLDApfXRve29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTpub25lO3RyYW5zZm9ybTpub25lfX0uZmFkZUluTGVmdHstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmZhZGVJbkxlZnQ7YW5pbWF0aW9uLW5hbWU6ZmFkZUluTGVmdH1ALXdlYmtpdC1rZXlmcmFtZXMgZmFkZUluTGVmdEJpZ3tmcm9te29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMjAwMHB4LDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0yMDAwcHgsMCwwKX10b3tvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06bm9uZTt0cmFuc2Zvcm06bm9uZX19QGtleWZyYW1lcyBmYWRlSW5MZWZ0Qmlne2Zyb217b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0yMDAwcHgsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTIwMDBweCwwLDApfXRve29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTpub25lO3RyYW5zZm9ybTpub25lfX0uZmFkZUluTGVmdEJpZ3std2Via2l0LWFuaW1hdGlvbi1uYW1lOmZhZGVJbkxlZnRCaWc7YW5pbWF0aW9uLW5hbWU6ZmFkZUluTGVmdEJpZ31ALXdlYmtpdC1rZXlmcmFtZXMgZmFkZUluUmlnaHR7ZnJvbXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMTAwJSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgxMDAlLDAsMCl9dG97b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmV9fUBrZXlmcmFtZXMgZmFkZUluUmlnaHR7ZnJvbXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMTAwJSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgxMDAlLDAsMCl9dG97b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmV9fS5mYWRlSW5SaWdodHstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmZhZGVJblJpZ2h0O2FuaW1hdGlvbi1uYW1lOmZhZGVJblJpZ2h0fUAtd2Via2l0LWtleWZyYW1lcyBmYWRlSW5SaWdodEJpZ3tmcm9te29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgyMDAwcHgsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMjAwMHB4LDAsMCl9dG97b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmV9fUBrZXlmcmFtZXMgZmFkZUluUmlnaHRCaWd7ZnJvbXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMjAwMHB4LDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDIwMDBweCwwLDApfXRve29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTpub25lO3RyYW5zZm9ybTpub25lfX0uZmFkZUluUmlnaHRCaWd7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpmYWRlSW5SaWdodEJpZzthbmltYXRpb24tbmFtZTpmYWRlSW5SaWdodEJpZ31ALXdlYmtpdC1rZXlmcmFtZXMgZmFkZUluVXB7ZnJvbXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwxMDAlLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDEwMCUsMCl9dG97b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmV9fUBrZXlmcmFtZXMgZmFkZUluVXB7ZnJvbXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwxMDAlLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDEwMCUsMCl9dG97b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmV9fS5mYWRlSW5VcHstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmZhZGVJblVwO2FuaW1hdGlvbi1uYW1lOmZhZGVJblVwfUAtd2Via2l0LWtleWZyYW1lcyBmYWRlSW5VcEJpZ3tmcm9te29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDIwMDBweCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwyMDAwcHgsMCl9dG97b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmV9fUBrZXlmcmFtZXMgZmFkZUluVXBCaWd7ZnJvbXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwyMDAwcHgsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMjAwMHB4LDApfXRve29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTpub25lO3RyYW5zZm9ybTpub25lfX0uZmFkZUluVXBCaWd7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpmYWRlSW5VcEJpZzthbmltYXRpb24tbmFtZTpmYWRlSW5VcEJpZ31ALXdlYmtpdC1rZXlmcmFtZXMgZmFkZU91dHtmcm9te29wYWNpdHk6MX10b3tvcGFjaXR5OjB9fUBrZXlmcmFtZXMgZmFkZU91dHtmcm9te29wYWNpdHk6MX10b3tvcGFjaXR5OjB9fS5mYWRlT3V0ey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6ZmFkZU91dDthbmltYXRpb24tbmFtZTpmYWRlT3V0fUAtd2Via2l0LWtleWZyYW1lcyBmYWRlT3V0RG93bntmcm9te29wYWNpdHk6MX10b3tvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwxMDAlLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDEwMCUsMCl9fUBrZXlmcmFtZXMgZmFkZU91dERvd257ZnJvbXtvcGFjaXR5OjF9dG97b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMTAwJSwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwxMDAlLDApfX0uZmFkZU91dERvd257LXdlYmtpdC1hbmltYXRpb24tbmFtZTpmYWRlT3V0RG93bjthbmltYXRpb24tbmFtZTpmYWRlT3V0RG93bn1ALXdlYmtpdC1rZXlmcmFtZXMgZmFkZU91dERvd25CaWd7ZnJvbXtvcGFjaXR5OjF9dG97b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMjAwMHB4LDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDIwMDBweCwwKX19QGtleWZyYW1lcyBmYWRlT3V0RG93bkJpZ3tmcm9te29wYWNpdHk6MX10b3tvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwyMDAwcHgsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMjAwMHB4LDApfX0uZmFkZU91dERvd25CaWd7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpmYWRlT3V0RG93bkJpZzthbmltYXRpb24tbmFtZTpmYWRlT3V0RG93bkJpZ31ALXdlYmtpdC1rZXlmcmFtZXMgZmFkZU91dExlZnR7ZnJvbXtvcGFjaXR5OjF9dG97b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xMDAlLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xMDAlLDAsMCl9fUBrZXlmcmFtZXMgZmFkZU91dExlZnR7ZnJvbXtvcGFjaXR5OjF9dG97b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xMDAlLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xMDAlLDAsMCl9fS5mYWRlT3V0TGVmdHstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmZhZGVPdXRMZWZ0O2FuaW1hdGlvbi1uYW1lOmZhZGVPdXRMZWZ0fUAtd2Via2l0LWtleWZyYW1lcyBmYWRlT3V0TGVmdEJpZ3tmcm9te29wYWNpdHk6MX10b3tvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTIwMDBweCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMjAwMHB4LDAsMCl9fUBrZXlmcmFtZXMgZmFkZU91dExlZnRCaWd7ZnJvbXtvcGFjaXR5OjF9dG97b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0yMDAwcHgsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTIwMDBweCwwLDApfX0uZmFkZU91dExlZnRCaWd7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpmYWRlT3V0TGVmdEJpZzthbmltYXRpb24tbmFtZTpmYWRlT3V0TGVmdEJpZ31ALXdlYmtpdC1rZXlmcmFtZXMgZmFkZU91dFJpZ2h0e2Zyb217b3BhY2l0eToxfXRve29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgxMDAlLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDEwMCUsMCwwKX19QGtleWZyYW1lcyBmYWRlT3V0UmlnaHR7ZnJvbXtvcGFjaXR5OjF9dG97b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDEwMCUsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMTAwJSwwLDApfX0uZmFkZU91dFJpZ2h0ey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6ZmFkZU91dFJpZ2h0O2FuaW1hdGlvbi1uYW1lOmZhZGVPdXRSaWdodH1ALXdlYmtpdC1rZXlmcmFtZXMgZmFkZU91dFJpZ2h0Qmlne2Zyb217b3BhY2l0eToxfXRve29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgyMDAwcHgsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMjAwMHB4LDAsMCl9fUBrZXlmcmFtZXMgZmFkZU91dFJpZ2h0Qmlne2Zyb217b3BhY2l0eToxfXRve29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgyMDAwcHgsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMjAwMHB4LDAsMCl9fS5mYWRlT3V0UmlnaHRCaWd7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpmYWRlT3V0UmlnaHRCaWc7YW5pbWF0aW9uLW5hbWU6ZmFkZU91dFJpZ2h0QmlnfUAtd2Via2l0LWtleWZyYW1lcyBmYWRlT3V0VXB7ZnJvbXtvcGFjaXR5OjF9dG97b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTEwMCUsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTEwMCUsMCl9fUBrZXlmcmFtZXMgZmFkZU91dFVwe2Zyb217b3BhY2l0eToxfXRve29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC0xMDAlLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC0xMDAlLDApfX0uZmFkZU91dFVwey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6ZmFkZU91dFVwO2FuaW1hdGlvbi1uYW1lOmZhZGVPdXRVcH1ALXdlYmtpdC1rZXlmcmFtZXMgZmFkZU91dFVwQmlne2Zyb217b3BhY2l0eToxfXRve29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC0yMDAwcHgsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTIwMDBweCwwKX19QGtleWZyYW1lcyBmYWRlT3V0VXBCaWd7ZnJvbXtvcGFjaXR5OjF9dG97b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTIwMDBweCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMjAwMHB4LDApfX0uZmFkZU91dFVwQmlney13ZWJraXQtYW5pbWF0aW9uLW5hbWU6ZmFkZU91dFVwQmlnO2FuaW1hdGlvbi1uYW1lOmZhZGVPdXRVcEJpZ31ALXdlYmtpdC1rZXlmcmFtZXMgZmxpcHtmcm9tey13ZWJraXQtdHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLDEsMCwtMzYwZGVnKTt0cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsMSwwLC0zNjBkZWcpOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLW91dDthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2Utb3V0fTQwJXstd2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgdHJhbnNsYXRlM2QoMCwwLDE1MHB4KSByb3RhdGUzZCgwLDEsMCwtMTkwZGVnKTt0cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHRyYW5zbGF0ZTNkKDAsMCwxNTBweCkgcm90YXRlM2QoMCwxLDAsLTE5MGRlZyk7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2Utb3V0O2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1vdXR9NTAley13ZWJraXQtdHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSB0cmFuc2xhdGUzZCgwLDAsMTUwcHgpIHJvdGF0ZTNkKDAsMSwwLC0xNzBkZWcpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgdHJhbnNsYXRlM2QoMCwwLDE1MHB4KSByb3RhdGUzZCgwLDEsMCwtMTcwZGVnKTstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbjthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW59ODAley13ZWJraXQtdHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSBzY2FsZTNkKC45NSwuOTUsLjk1KTt0cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHNjYWxlM2QoLjk1LC45NSwuOTUpOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbn10b3std2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KTstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbjthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW59fUBrZXlmcmFtZXMgZmxpcHtmcm9tey13ZWJraXQtdHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLDEsMCwtMzYwZGVnKTt0cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsMSwwLC0zNjBkZWcpOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLW91dDthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2Utb3V0fTQwJXstd2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgdHJhbnNsYXRlM2QoMCwwLDE1MHB4KSByb3RhdGUzZCgwLDEsMCwtMTkwZGVnKTt0cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHRyYW5zbGF0ZTNkKDAsMCwxNTBweCkgcm90YXRlM2QoMCwxLDAsLTE5MGRlZyk7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2Utb3V0O2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1vdXR9NTAley13ZWJraXQtdHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSB0cmFuc2xhdGUzZCgwLDAsMTUwcHgpIHJvdGF0ZTNkKDAsMSwwLC0xNzBkZWcpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgdHJhbnNsYXRlM2QoMCwwLDE1MHB4KSByb3RhdGUzZCgwLDEsMCwtMTcwZGVnKTstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbjthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW59ODAley13ZWJraXQtdHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSBzY2FsZTNkKC45NSwuOTUsLjk1KTt0cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHNjYWxlM2QoLjk1LC45NSwuOTUpOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbn10b3std2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KTstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbjthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW59fS5hbmltYXRlZC5mbGlwey13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTp2aXNpYmxlO2JhY2tmYWNlLXZpc2liaWxpdHk6dmlzaWJsZTstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmZsaXA7YW5pbWF0aW9uLW5hbWU6ZmxpcH1ALXdlYmtpdC1rZXlmcmFtZXMgZmxpcEluWHtmcm9tey13ZWJraXQtdHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLDAsMCw5MGRlZyk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLDAsMCw5MGRlZyk7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW47YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluO29wYWNpdHk6MH00MCV7LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDEsMCwwLC0yMGRlZyk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLDAsMCwtMjBkZWcpOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbn02MCV7LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDEsMCwwLDEwZGVnKTt0cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDEsMCwwLDEwZGVnKTtvcGFjaXR5OjF9ODAley13ZWJraXQtdHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLDAsMCwtNWRlZyk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLDAsMCwtNWRlZyl9dG97LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCl9fUBrZXlmcmFtZXMgZmxpcEluWHtmcm9tey13ZWJraXQtdHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLDAsMCw5MGRlZyk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLDAsMCw5MGRlZyk7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW47YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluO29wYWNpdHk6MH00MCV7LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDEsMCwwLC0yMGRlZyk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLDAsMCwtMjBkZWcpOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbn02MCV7LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDEsMCwwLDEwZGVnKTt0cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDEsMCwwLDEwZGVnKTtvcGFjaXR5OjF9ODAley13ZWJraXQtdHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLDAsMCwtNWRlZyk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLDAsMCwtNWRlZyl9dG97LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCl9fS5mbGlwSW5Yey13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTp2aXNpYmxlIWltcG9ydGFudDtiYWNrZmFjZS12aXNpYmlsaXR5OnZpc2libGUhaW1wb3J0YW50Oy13ZWJraXQtYW5pbWF0aW9uLW5hbWU6ZmxpcEluWDthbmltYXRpb24tbmFtZTpmbGlwSW5YfUAtd2Via2l0LWtleWZyYW1lcyBmbGlwSW5Ze2Zyb217LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsMSwwLDkwZGVnKTt0cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsMSwwLDkwZGVnKTstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbjthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW47b3BhY2l0eTowfTQwJXstd2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwxLDAsLTIwZGVnKTt0cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsMSwwLC0yMGRlZyk7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW47YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWlufTYwJXstd2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwxLDAsMTBkZWcpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwxLDAsMTBkZWcpO29wYWNpdHk6MX04MCV7LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsMSwwLC01ZGVnKTt0cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsMSwwLC01ZGVnKX10b3std2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KX19QGtleWZyYW1lcyBmbGlwSW5Ze2Zyb217LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsMSwwLDkwZGVnKTt0cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsMSwwLDkwZGVnKTstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbjthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW47b3BhY2l0eTowfTQwJXstd2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwxLDAsLTIwZGVnKTt0cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsMSwwLC0yMGRlZyk7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW47YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWlufTYwJXstd2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwxLDAsMTBkZWcpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwxLDAsMTBkZWcpO29wYWNpdHk6MX04MCV7LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsMSwwLC01ZGVnKTt0cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsMSwwLC01ZGVnKX10b3std2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KX19LmZsaXBJbll7LXdlYmtpdC1iYWNrZmFjZS12aXNpYmlsaXR5OnZpc2libGUhaW1wb3J0YW50O2JhY2tmYWNlLXZpc2liaWxpdHk6dmlzaWJsZSFpbXBvcnRhbnQ7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpmbGlwSW5ZO2FuaW1hdGlvbi1uYW1lOmZsaXBJbll9QC13ZWJraXQta2V5ZnJhbWVzIGZsaXBPdXRYe2Zyb217LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCl9MzAley13ZWJraXQtdHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLDAsMCwtMjBkZWcpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwwLDAsLTIwZGVnKTtvcGFjaXR5OjF9dG97LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDEsMCwwLDkwZGVnKTt0cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDEsMCwwLDkwZGVnKTtvcGFjaXR5OjB9fUBrZXlmcmFtZXMgZmxpcE91dFh7ZnJvbXstd2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KX0zMCV7LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDEsMCwwLC0yMGRlZyk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgxLDAsMCwtMjBkZWcpO29wYWNpdHk6MX10b3std2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwwLDAsOTBkZWcpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMSwwLDAsOTBkZWcpO29wYWNpdHk6MH19LmZsaXBPdXRYey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6ZmxpcE91dFg7YW5pbWF0aW9uLW5hbWU6ZmxpcE91dFg7LXdlYmtpdC1iYWNrZmFjZS12aXNpYmlsaXR5OnZpc2libGUhaW1wb3J0YW50O2JhY2tmYWNlLXZpc2liaWxpdHk6dmlzaWJsZSFpbXBvcnRhbnR9QC13ZWJraXQta2V5ZnJhbWVzIGZsaXBPdXRZe2Zyb217LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCl9MzAley13ZWJraXQtdHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLDEsMCwtMTVkZWcpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwxLDAsLTE1ZGVnKTtvcGFjaXR5OjF9dG97LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsMSwwLDkwZGVnKTt0cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsMSwwLDkwZGVnKTtvcGFjaXR5OjB9fUBrZXlmcmFtZXMgZmxpcE91dFl7ZnJvbXstd2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KX0zMCV7LXdlYmtpdC10cmFuc2Zvcm06cGVyc3BlY3RpdmUoNDAwcHgpIHJvdGF0ZTNkKDAsMSwwLC0xNWRlZyk7dHJhbnNmb3JtOnBlcnNwZWN0aXZlKDQwMHB4KSByb3RhdGUzZCgwLDEsMCwtMTVkZWcpO29wYWNpdHk6MX10b3std2Via2l0LXRyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwxLDAsOTBkZWcpO3RyYW5zZm9ybTpwZXJzcGVjdGl2ZSg0MDBweCkgcm90YXRlM2QoMCwxLDAsOTBkZWcpO29wYWNpdHk6MH19LmZsaXBPdXRZey13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTp2aXNpYmxlIWltcG9ydGFudDtiYWNrZmFjZS12aXNpYmlsaXR5OnZpc2libGUhaW1wb3J0YW50Oy13ZWJraXQtYW5pbWF0aW9uLW5hbWU6ZmxpcE91dFk7YW5pbWF0aW9uLW5hbWU6ZmxpcE91dFl9QC13ZWJraXQta2V5ZnJhbWVzIGxpZ2h0U3BlZWRJbntmcm9tey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDEwMCUsMCwwKSBza2V3WCgtMzBkZWcpO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgxMDAlLDAsMCkgc2tld1goLTMwZGVnKTtvcGFjaXR5OjB9NjAley13ZWJraXQtdHJhbnNmb3JtOnNrZXdYKDIwZGVnKTt0cmFuc2Zvcm06c2tld1goMjBkZWcpO29wYWNpdHk6MX04MCV7LXdlYmtpdC10cmFuc2Zvcm06c2tld1goLTVkZWcpO3RyYW5zZm9ybTpza2V3WCgtNWRlZyk7b3BhY2l0eToxfXRvey13ZWJraXQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmU7b3BhY2l0eToxfX1Aa2V5ZnJhbWVzIGxpZ2h0U3BlZWRJbntmcm9tey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDEwMCUsMCwwKSBza2V3WCgtMzBkZWcpO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgxMDAlLDAsMCkgc2tld1goLTMwZGVnKTtvcGFjaXR5OjB9NjAley13ZWJraXQtdHJhbnNmb3JtOnNrZXdYKDIwZGVnKTt0cmFuc2Zvcm06c2tld1goMjBkZWcpO29wYWNpdHk6MX04MCV7LXdlYmtpdC10cmFuc2Zvcm06c2tld1goLTVkZWcpO3RyYW5zZm9ybTpza2V3WCgtNWRlZyk7b3BhY2l0eToxfXRvey13ZWJraXQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmU7b3BhY2l0eToxfX0ubGlnaHRTcGVlZEluey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6bGlnaHRTcGVlZEluO2FuaW1hdGlvbi1uYW1lOmxpZ2h0U3BlZWRJbjstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1vdXQ7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLW91dH1ALXdlYmtpdC1rZXlmcmFtZXMgbGlnaHRTcGVlZE91dHtmcm9te29wYWNpdHk6MX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgxMDAlLDAsMCkgc2tld1goMzBkZWcpO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgxMDAlLDAsMCkgc2tld1goMzBkZWcpO29wYWNpdHk6MH19QGtleWZyYW1lcyBsaWdodFNwZWVkT3V0e2Zyb217b3BhY2l0eToxfXRvey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDEwMCUsMCwwKSBza2V3WCgzMGRlZyk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDEwMCUsMCwwKSBza2V3WCgzMGRlZyk7b3BhY2l0eTowfX0ubGlnaHRTcGVlZE91dHstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmxpZ2h0U3BlZWRPdXQ7YW5pbWF0aW9uLW5hbWU6bGlnaHRTcGVlZE91dDstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbjthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW59QC13ZWJraXQta2V5ZnJhbWVzIHJvdGF0ZUlue2Zyb217LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmNlbnRlcjt0cmFuc2Zvcm0tb3JpZ2luOmNlbnRlcjstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSwtMjAwZGVnKTt0cmFuc2Zvcm06cm90YXRlM2QoMCwwLDEsLTIwMGRlZyk7b3BhY2l0eTowfXRvey13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpjZW50ZXI7dHJhbnNmb3JtLW9yaWdpbjpjZW50ZXI7LXdlYmtpdC10cmFuc2Zvcm06bm9uZTt0cmFuc2Zvcm06bm9uZTtvcGFjaXR5OjF9fUBrZXlmcmFtZXMgcm90YXRlSW57ZnJvbXstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46Y2VudGVyO3RyYW5zZm9ybS1vcmlnaW46Y2VudGVyOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZTNkKDAsMCwxLC0yMDBkZWcpO3RyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSwtMjAwZGVnKTtvcGFjaXR5OjB9dG97LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmNlbnRlcjt0cmFuc2Zvcm0tb3JpZ2luOmNlbnRlcjstd2Via2l0LXRyYW5zZm9ybTpub25lO3RyYW5zZm9ybTpub25lO29wYWNpdHk6MX19LnJvdGF0ZUluey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6cm90YXRlSW47YW5pbWF0aW9uLW5hbWU6cm90YXRlSW59QC13ZWJraXQta2V5ZnJhbWVzIHJvdGF0ZUluRG93bkxlZnR7ZnJvbXstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46bGVmdCBib3R0b207dHJhbnNmb3JtLW9yaWdpbjpsZWZ0IGJvdHRvbTstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSwtNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSwtNDVkZWcpO29wYWNpdHk6MH10b3std2Via2l0LXRyYW5zZm9ybS1vcmlnaW46bGVmdCBib3R0b207dHJhbnNmb3JtLW9yaWdpbjpsZWZ0IGJvdHRvbTstd2Via2l0LXRyYW5zZm9ybTpub25lO3RyYW5zZm9ybTpub25lO29wYWNpdHk6MX19QGtleWZyYW1lcyByb3RhdGVJbkRvd25MZWZ0e2Zyb217LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmxlZnQgYm90dG9tO3RyYW5zZm9ybS1vcmlnaW46bGVmdCBib3R0b207LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlM2QoMCwwLDEsLTQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlM2QoMCwwLDEsLTQ1ZGVnKTtvcGFjaXR5OjB9dG97LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmxlZnQgYm90dG9tO3RyYW5zZm9ybS1vcmlnaW46bGVmdCBib3R0b207LXdlYmtpdC10cmFuc2Zvcm06bm9uZTt0cmFuc2Zvcm06bm9uZTtvcGFjaXR5OjF9fS5yb3RhdGVJbkRvd25MZWZ0ey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6cm90YXRlSW5Eb3duTGVmdDthbmltYXRpb24tbmFtZTpyb3RhdGVJbkRvd25MZWZ0fUAtd2Via2l0LWtleWZyYW1lcyByb3RhdGVJbkRvd25SaWdodHtmcm9tey13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpyaWdodCBib3R0b207dHJhbnNmb3JtLW9yaWdpbjpyaWdodCBib3R0b207LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlM2QoMCwwLDEsNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSw0NWRlZyk7b3BhY2l0eTowfXRvey13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpyaWdodCBib3R0b207dHJhbnNmb3JtLW9yaWdpbjpyaWdodCBib3R0b207LXdlYmtpdC10cmFuc2Zvcm06bm9uZTt0cmFuc2Zvcm06bm9uZTtvcGFjaXR5OjF9fUBrZXlmcmFtZXMgcm90YXRlSW5Eb3duUmlnaHR7ZnJvbXstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46cmlnaHQgYm90dG9tO3RyYW5zZm9ybS1vcmlnaW46cmlnaHQgYm90dG9tOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZTNkKDAsMCwxLDQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlM2QoMCwwLDEsNDVkZWcpO29wYWNpdHk6MH10b3std2Via2l0LXRyYW5zZm9ybS1vcmlnaW46cmlnaHQgYm90dG9tO3RyYW5zZm9ybS1vcmlnaW46cmlnaHQgYm90dG9tOy13ZWJraXQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmU7b3BhY2l0eToxfX0ucm90YXRlSW5Eb3duUmlnaHR7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpyb3RhdGVJbkRvd25SaWdodDthbmltYXRpb24tbmFtZTpyb3RhdGVJbkRvd25SaWdodH1ALXdlYmtpdC1rZXlmcmFtZXMgcm90YXRlSW5VcExlZnR7ZnJvbXstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46bGVmdCBib3R0b207dHJhbnNmb3JtLW9yaWdpbjpsZWZ0IGJvdHRvbTstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSw0NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZTNkKDAsMCwxLDQ1ZGVnKTtvcGFjaXR5OjB9dG97LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmxlZnQgYm90dG9tO3RyYW5zZm9ybS1vcmlnaW46bGVmdCBib3R0b207LXdlYmtpdC10cmFuc2Zvcm06bm9uZTt0cmFuc2Zvcm06bm9uZTtvcGFjaXR5OjF9fUBrZXlmcmFtZXMgcm90YXRlSW5VcExlZnR7ZnJvbXstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46bGVmdCBib3R0b207dHJhbnNmb3JtLW9yaWdpbjpsZWZ0IGJvdHRvbTstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSw0NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZTNkKDAsMCwxLDQ1ZGVnKTtvcGFjaXR5OjB9dG97LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmxlZnQgYm90dG9tO3RyYW5zZm9ybS1vcmlnaW46bGVmdCBib3R0b207LXdlYmtpdC10cmFuc2Zvcm06bm9uZTt0cmFuc2Zvcm06bm9uZTtvcGFjaXR5OjF9fS5yb3RhdGVJblVwTGVmdHstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnJvdGF0ZUluVXBMZWZ0O2FuaW1hdGlvbi1uYW1lOnJvdGF0ZUluVXBMZWZ0fUAtd2Via2l0LWtleWZyYW1lcyByb3RhdGVJblVwUmlnaHR7ZnJvbXstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46cmlnaHQgYm90dG9tO3RyYW5zZm9ybS1vcmlnaW46cmlnaHQgYm90dG9tOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZTNkKDAsMCwxLC05MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZTNkKDAsMCwxLC05MGRlZyk7b3BhY2l0eTowfXRvey13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpyaWdodCBib3R0b207dHJhbnNmb3JtLW9yaWdpbjpyaWdodCBib3R0b207LXdlYmtpdC10cmFuc2Zvcm06bm9uZTt0cmFuc2Zvcm06bm9uZTtvcGFjaXR5OjF9fUBrZXlmcmFtZXMgcm90YXRlSW5VcFJpZ2h0e2Zyb217LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOnJpZ2h0IGJvdHRvbTt0cmFuc2Zvcm0tb3JpZ2luOnJpZ2h0IGJvdHRvbTstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSwtOTBkZWcpO3RyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSwtOTBkZWcpO29wYWNpdHk6MH10b3std2Via2l0LXRyYW5zZm9ybS1vcmlnaW46cmlnaHQgYm90dG9tO3RyYW5zZm9ybS1vcmlnaW46cmlnaHQgYm90dG9tOy13ZWJraXQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmU7b3BhY2l0eToxfX0ucm90YXRlSW5VcFJpZ2h0ey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6cm90YXRlSW5VcFJpZ2h0O2FuaW1hdGlvbi1uYW1lOnJvdGF0ZUluVXBSaWdodH1ALXdlYmtpdC1rZXlmcmFtZXMgcm90YXRlT3V0e2Zyb217LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmNlbnRlcjt0cmFuc2Zvcm0tb3JpZ2luOmNlbnRlcjtvcGFjaXR5OjF9dG97LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmNlbnRlcjt0cmFuc2Zvcm0tb3JpZ2luOmNlbnRlcjstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSwyMDBkZWcpO3RyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSwyMDBkZWcpO29wYWNpdHk6MH19QGtleWZyYW1lcyByb3RhdGVPdXR7ZnJvbXstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46Y2VudGVyO3RyYW5zZm9ybS1vcmlnaW46Y2VudGVyO29wYWNpdHk6MX10b3std2Via2l0LXRyYW5zZm9ybS1vcmlnaW46Y2VudGVyO3RyYW5zZm9ybS1vcmlnaW46Y2VudGVyOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZTNkKDAsMCwxLDIwMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZTNkKDAsMCwxLDIwMGRlZyk7b3BhY2l0eTowfX0ucm90YXRlT3V0ey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6cm90YXRlT3V0O2FuaW1hdGlvbi1uYW1lOnJvdGF0ZU91dH1ALXdlYmtpdC1rZXlmcmFtZXMgcm90YXRlT3V0RG93bkxlZnR7ZnJvbXstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46bGVmdCBib3R0b207dHJhbnNmb3JtLW9yaWdpbjpsZWZ0IGJvdHRvbTtvcGFjaXR5OjF9dG97LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmxlZnQgYm90dG9tO3RyYW5zZm9ybS1vcmlnaW46bGVmdCBib3R0b207LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlM2QoMCwwLDEsNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSw0NWRlZyk7b3BhY2l0eTowfX1Aa2V5ZnJhbWVzIHJvdGF0ZU91dERvd25MZWZ0e2Zyb217LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmxlZnQgYm90dG9tO3RyYW5zZm9ybS1vcmlnaW46bGVmdCBib3R0b207b3BhY2l0eToxfXRvey13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpsZWZ0IGJvdHRvbTt0cmFuc2Zvcm0tb3JpZ2luOmxlZnQgYm90dG9tOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZTNkKDAsMCwxLDQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlM2QoMCwwLDEsNDVkZWcpO29wYWNpdHk6MH19LnJvdGF0ZU91dERvd25MZWZ0ey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6cm90YXRlT3V0RG93bkxlZnQ7YW5pbWF0aW9uLW5hbWU6cm90YXRlT3V0RG93bkxlZnR9QC13ZWJraXQta2V5ZnJhbWVzIHJvdGF0ZU91dERvd25SaWdodHtmcm9tey13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpyaWdodCBib3R0b207dHJhbnNmb3JtLW9yaWdpbjpyaWdodCBib3R0b207b3BhY2l0eToxfXRvey13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpyaWdodCBib3R0b207dHJhbnNmb3JtLW9yaWdpbjpyaWdodCBib3R0b207LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlM2QoMCwwLDEsLTQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlM2QoMCwwLDEsLTQ1ZGVnKTtvcGFjaXR5OjB9fUBrZXlmcmFtZXMgcm90YXRlT3V0RG93blJpZ2h0e2Zyb217LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOnJpZ2h0IGJvdHRvbTt0cmFuc2Zvcm0tb3JpZ2luOnJpZ2h0IGJvdHRvbTtvcGFjaXR5OjF9dG97LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOnJpZ2h0IGJvdHRvbTt0cmFuc2Zvcm0tb3JpZ2luOnJpZ2h0IGJvdHRvbTstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSwtNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSwtNDVkZWcpO29wYWNpdHk6MH19LnJvdGF0ZU91dERvd25SaWdodHstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnJvdGF0ZU91dERvd25SaWdodDthbmltYXRpb24tbmFtZTpyb3RhdGVPdXREb3duUmlnaHR9QC13ZWJraXQta2V5ZnJhbWVzIHJvdGF0ZU91dFVwTGVmdHtmcm9tey13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpsZWZ0IGJvdHRvbTt0cmFuc2Zvcm0tb3JpZ2luOmxlZnQgYm90dG9tO29wYWNpdHk6MX10b3std2Via2l0LXRyYW5zZm9ybS1vcmlnaW46bGVmdCBib3R0b207dHJhbnNmb3JtLW9yaWdpbjpsZWZ0IGJvdHRvbTstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSwtNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSwtNDVkZWcpO29wYWNpdHk6MH19QGtleWZyYW1lcyByb3RhdGVPdXRVcExlZnR7ZnJvbXstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46bGVmdCBib3R0b207dHJhbnNmb3JtLW9yaWdpbjpsZWZ0IGJvdHRvbTtvcGFjaXR5OjF9dG97LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmxlZnQgYm90dG9tO3RyYW5zZm9ybS1vcmlnaW46bGVmdCBib3R0b207LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlM2QoMCwwLDEsLTQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlM2QoMCwwLDEsLTQ1ZGVnKTtvcGFjaXR5OjB9fS5yb3RhdGVPdXRVcExlZnR7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpyb3RhdGVPdXRVcExlZnQ7YW5pbWF0aW9uLW5hbWU6cm90YXRlT3V0VXBMZWZ0fUAtd2Via2l0LWtleWZyYW1lcyByb3RhdGVPdXRVcFJpZ2h0e2Zyb217LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOnJpZ2h0IGJvdHRvbTt0cmFuc2Zvcm0tb3JpZ2luOnJpZ2h0IGJvdHRvbTtvcGFjaXR5OjF9dG97LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOnJpZ2h0IGJvdHRvbTt0cmFuc2Zvcm0tb3JpZ2luOnJpZ2h0IGJvdHRvbTstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSw5MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZTNkKDAsMCwxLDkwZGVnKTtvcGFjaXR5OjB9fUBrZXlmcmFtZXMgcm90YXRlT3V0VXBSaWdodHtmcm9tey13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpyaWdodCBib3R0b207dHJhbnNmb3JtLW9yaWdpbjpyaWdodCBib3R0b207b3BhY2l0eToxfXRvey13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpyaWdodCBib3R0b207dHJhbnNmb3JtLW9yaWdpbjpyaWdodCBib3R0b207LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlM2QoMCwwLDEsOTBkZWcpO3RyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSw5MGRlZyk7b3BhY2l0eTowfX0ucm90YXRlT3V0VXBSaWdodHstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnJvdGF0ZU91dFVwUmlnaHQ7YW5pbWF0aW9uLW5hbWU6cm90YXRlT3V0VXBSaWdodH1ALXdlYmtpdC1rZXlmcmFtZXMgaGluZ2V7MCV7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOnRvcCBsZWZ0O3RyYW5zZm9ybS1vcmlnaW46dG9wIGxlZnQ7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW4tb3V0O2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbi1vdXR9MjAlLDYwJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSw4MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZTNkKDAsMCwxLDgwZGVnKTstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46dG9wIGxlZnQ7dHJhbnNmb3JtLW9yaWdpbjp0b3AgbGVmdDstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbi1vdXQ7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluLW91dH00MCUsODAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZTNkKDAsMCwxLDYwZGVnKTt0cmFuc2Zvcm06cm90YXRlM2QoMCwwLDEsNjBkZWcpOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjp0b3AgbGVmdDt0cmFuc2Zvcm0tb3JpZ2luOnRvcCBsZWZ0Oy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluLW91dDthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW4tb3V0O29wYWNpdHk6MX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDcwMHB4LDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDcwMHB4LDApO29wYWNpdHk6MH19QGtleWZyYW1lcyBoaW5nZXswJXstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46dG9wIGxlZnQ7dHJhbnNmb3JtLW9yaWdpbjp0b3AgbGVmdDstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbi1vdXQ7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluLW91dH0yMCUsNjAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZTNkKDAsMCwxLDgwZGVnKTt0cmFuc2Zvcm06cm90YXRlM2QoMCwwLDEsODBkZWcpOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjp0b3AgbGVmdDt0cmFuc2Zvcm0tb3JpZ2luOnRvcCBsZWZ0Oy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluLW91dDthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW4tb3V0fTQwJSw4MCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlM2QoMCwwLDEsNjBkZWcpO3RyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSw2MGRlZyk7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOnRvcCBsZWZ0O3RyYW5zZm9ybS1vcmlnaW46dG9wIGxlZnQ7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW4tb3V0O2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbi1vdXQ7b3BhY2l0eToxfXRvey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsNzAwcHgsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsNzAwcHgsMCk7b3BhY2l0eTowfX0uaGluZ2V7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpoaW5nZTthbmltYXRpb24tbmFtZTpoaW5nZX1ALXdlYmtpdC1rZXlmcmFtZXMgcm9sbElue2Zyb217b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xMDAlLDAsMCkgcm90YXRlM2QoMCwwLDEsLTEyMGRlZyk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xMDAlLDAsMCkgcm90YXRlM2QoMCwwLDEsLTEyMGRlZyl9dG97b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmV9fUBrZXlmcmFtZXMgcm9sbElue2Zyb217b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xMDAlLDAsMCkgcm90YXRlM2QoMCwwLDEsLTEyMGRlZyk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xMDAlLDAsMCkgcm90YXRlM2QoMCwwLDEsLTEyMGRlZyl9dG97b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmV9fS5yb2xsSW57LXdlYmtpdC1hbmltYXRpb24tbmFtZTpyb2xsSW47YW5pbWF0aW9uLW5hbWU6cm9sbElufUAtd2Via2l0LWtleWZyYW1lcyByb2xsT3V0e2Zyb217b3BhY2l0eToxfXRve29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgxMDAlLDAsMCkgcm90YXRlM2QoMCwwLDEsMTIwZGVnKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMTAwJSwwLDApIHJvdGF0ZTNkKDAsMCwxLDEyMGRlZyl9fUBrZXlmcmFtZXMgcm9sbE91dHtmcm9te29wYWNpdHk6MX10b3tvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMTAwJSwwLDApIHJvdGF0ZTNkKDAsMCwxLDEyMGRlZyk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDEwMCUsMCwwKSByb3RhdGUzZCgwLDAsMSwxMjBkZWcpfX0ucm9sbE91dHstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnJvbGxPdXQ7YW5pbWF0aW9uLW5hbWU6cm9sbE91dH1ALXdlYmtpdC1rZXlmcmFtZXMgem9vbUlue2Zyb217b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjMsLjMsLjMpO3RyYW5zZm9ybTpzY2FsZTNkKC4zLC4zLC4zKX01MCV7b3BhY2l0eToxfX1Aa2V5ZnJhbWVzIHpvb21Jbntmcm9te29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC4zLC4zLC4zKTt0cmFuc2Zvcm06c2NhbGUzZCguMywuMywuMyl9NTAle29wYWNpdHk6MX19Lnpvb21Jbnstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnpvb21JbjthbmltYXRpb24tbmFtZTp6b29tSW59QC13ZWJraXQta2V5ZnJhbWVzIHpvb21JbkRvd257ZnJvbXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguMSwuMSwuMSkgdHJhbnNsYXRlM2QoMCwtMTAwMHB4LDApO3RyYW5zZm9ybTpzY2FsZTNkKC4xLC4xLC4xKSB0cmFuc2xhdGUzZCgwLC0xMDAwcHgsMCk7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjU1LC4wNTUsLjY3NSwuMTkpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuNTUsLjA1NSwuNjc1LC4xOSl9NjAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC40NzUsLjQ3NSwuNDc1KSB0cmFuc2xhdGUzZCgwLDYwcHgsMCk7dHJhbnNmb3JtOnNjYWxlM2QoLjQ3NSwuNDc1LC40NzUpIHRyYW5zbGF0ZTNkKDAsNjBweCwwKTstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuMTc1LC44ODUsLjMyLDEpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuMTc1LC44ODUsLjMyLDEpfX1Aa2V5ZnJhbWVzIHpvb21JbkRvd257ZnJvbXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguMSwuMSwuMSkgdHJhbnNsYXRlM2QoMCwtMTAwMHB4LDApO3RyYW5zZm9ybTpzY2FsZTNkKC4xLC4xLC4xKSB0cmFuc2xhdGUzZCgwLC0xMDAwcHgsMCk7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjU1LC4wNTUsLjY3NSwuMTkpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuNTUsLjA1NSwuNjc1LC4xOSl9NjAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC40NzUsLjQ3NSwuNDc1KSB0cmFuc2xhdGUzZCgwLDYwcHgsMCk7dHJhbnNmb3JtOnNjYWxlM2QoLjQ3NSwuNDc1LC40NzUpIHRyYW5zbGF0ZTNkKDAsNjBweCwwKTstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuMTc1LC44ODUsLjMyLDEpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuMTc1LC44ODUsLjMyLDEpfX0uem9vbUluRG93bnstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnpvb21JbkRvd247YW5pbWF0aW9uLW5hbWU6em9vbUluRG93bn1ALXdlYmtpdC1rZXlmcmFtZXMgem9vbUluTGVmdHtmcm9te29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC4xLC4xLC4xKSB0cmFuc2xhdGUzZCgtMTAwMHB4LDAsMCk7dHJhbnNmb3JtOnNjYWxlM2QoLjEsLjEsLjEpIHRyYW5zbGF0ZTNkKC0xMDAwcHgsMCwwKTstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuNTUsLjA1NSwuNjc1LC4xOSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC41NSwuMDU1LC42NzUsLjE5KX02MCV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjQ3NSwuNDc1LC40NzUpIHRyYW5zbGF0ZTNkKDEwcHgsMCwwKTt0cmFuc2Zvcm06c2NhbGUzZCguNDc1LC40NzUsLjQ3NSkgdHJhbnNsYXRlM2QoMTBweCwwLDApOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC4xNzUsLjg4NSwuMzIsMSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC4xNzUsLjg4NSwuMzIsMSl9fUBrZXlmcmFtZXMgem9vbUluTGVmdHtmcm9te29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC4xLC4xLC4xKSB0cmFuc2xhdGUzZCgtMTAwMHB4LDAsMCk7dHJhbnNmb3JtOnNjYWxlM2QoLjEsLjEsLjEpIHRyYW5zbGF0ZTNkKC0xMDAwcHgsMCwwKTstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuNTUsLjA1NSwuNjc1LC4xOSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC41NSwuMDU1LC42NzUsLjE5KX02MCV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjQ3NSwuNDc1LC40NzUpIHRyYW5zbGF0ZTNkKDEwcHgsMCwwKTt0cmFuc2Zvcm06c2NhbGUzZCguNDc1LC40NzUsLjQ3NSkgdHJhbnNsYXRlM2QoMTBweCwwLDApOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC4xNzUsLjg4NSwuMzIsMSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC4xNzUsLjg4NSwuMzIsMSl9fS56b29tSW5MZWZ0ey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6em9vbUluTGVmdDthbmltYXRpb24tbmFtZTp6b29tSW5MZWZ0fUAtd2Via2l0LWtleWZyYW1lcyB6b29tSW5SaWdodHtmcm9te29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC4xLC4xLC4xKSB0cmFuc2xhdGUzZCgxMDAwcHgsMCwwKTt0cmFuc2Zvcm06c2NhbGUzZCguMSwuMSwuMSkgdHJhbnNsYXRlM2QoMTAwMHB4LDAsMCk7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjU1LC4wNTUsLjY3NSwuMTkpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuNTUsLjA1NSwuNjc1LC4xOSl9NjAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC40NzUsLjQ3NSwuNDc1KSB0cmFuc2xhdGUzZCgtMTBweCwwLDApO3RyYW5zZm9ybTpzY2FsZTNkKC40NzUsLjQ3NSwuNDc1KSB0cmFuc2xhdGUzZCgtMTBweCwwLDApOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC4xNzUsLjg4NSwuMzIsMSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC4xNzUsLjg4NSwuMzIsMSl9fUBrZXlmcmFtZXMgem9vbUluUmlnaHR7ZnJvbXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguMSwuMSwuMSkgdHJhbnNsYXRlM2QoMTAwMHB4LDAsMCk7dHJhbnNmb3JtOnNjYWxlM2QoLjEsLjEsLjEpIHRyYW5zbGF0ZTNkKDEwMDBweCwwLDApOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC41NSwuMDU1LC42NzUsLjE5KTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjU1LC4wNTUsLjY3NSwuMTkpfTYwJXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguNDc1LC40NzUsLjQ3NSkgdHJhbnNsYXRlM2QoLTEwcHgsMCwwKTt0cmFuc2Zvcm06c2NhbGUzZCguNDc1LC40NzUsLjQ3NSkgdHJhbnNsYXRlM2QoLTEwcHgsMCwwKTstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuMTc1LC44ODUsLjMyLDEpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuMTc1LC44ODUsLjMyLDEpfX0uem9vbUluUmlnaHR7LXdlYmtpdC1hbmltYXRpb24tbmFtZTp6b29tSW5SaWdodDthbmltYXRpb24tbmFtZTp6b29tSW5SaWdodH1ALXdlYmtpdC1rZXlmcmFtZXMgem9vbUluVXB7ZnJvbXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguMSwuMSwuMSkgdHJhbnNsYXRlM2QoMCwxMDAwcHgsMCk7dHJhbnNmb3JtOnNjYWxlM2QoLjEsLjEsLjEpIHRyYW5zbGF0ZTNkKDAsMTAwMHB4LDApOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC41NSwuMDU1LC42NzUsLjE5KTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjU1LC4wNTUsLjY3NSwuMTkpfTYwJXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguNDc1LC40NzUsLjQ3NSkgdHJhbnNsYXRlM2QoMCwtNjBweCwwKTt0cmFuc2Zvcm06c2NhbGUzZCguNDc1LC40NzUsLjQ3NSkgdHJhbnNsYXRlM2QoMCwtNjBweCwwKTstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuMTc1LC44ODUsLjMyLDEpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuMTc1LC44ODUsLjMyLDEpfX1Aa2V5ZnJhbWVzIHpvb21JblVwe2Zyb217b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjEsLjEsLjEpIHRyYW5zbGF0ZTNkKDAsMTAwMHB4LDApO3RyYW5zZm9ybTpzY2FsZTNkKC4xLC4xLC4xKSB0cmFuc2xhdGUzZCgwLDEwMDBweCwwKTstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuNTUsLjA1NSwuNjc1LC4xOSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC41NSwuMDU1LC42NzUsLjE5KX02MCV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjQ3NSwuNDc1LC40NzUpIHRyYW5zbGF0ZTNkKDAsLTYwcHgsMCk7dHJhbnNmb3JtOnNjYWxlM2QoLjQ3NSwuNDc1LC40NzUpIHRyYW5zbGF0ZTNkKDAsLTYwcHgsMCk7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjE3NSwuODg1LC4zMiwxKTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjE3NSwuODg1LC4zMiwxKX19Lnpvb21JblVwey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6em9vbUluVXA7YW5pbWF0aW9uLW5hbWU6em9vbUluVXB9QC13ZWJraXQta2V5ZnJhbWVzIHpvb21PdXR7ZnJvbXtvcGFjaXR5OjF9NTAle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC4zLC4zLC4zKTt0cmFuc2Zvcm06c2NhbGUzZCguMywuMywuMyl9dG97b3BhY2l0eTowfX1Aa2V5ZnJhbWVzIHpvb21PdXR7ZnJvbXtvcGFjaXR5OjF9NTAle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC4zLC4zLC4zKTt0cmFuc2Zvcm06c2NhbGUzZCguMywuMywuMyl9dG97b3BhY2l0eTowfX0uem9vbU91dHstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnpvb21PdXQ7YW5pbWF0aW9uLW5hbWU6em9vbU91dH1ALXdlYmtpdC1rZXlmcmFtZXMgem9vbU91dERvd257NDAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC40NzUsLjQ3NSwuNDc1KSB0cmFuc2xhdGUzZCgwLC02MHB4LDApO3RyYW5zZm9ybTpzY2FsZTNkKC40NzUsLjQ3NSwuNDc1KSB0cmFuc2xhdGUzZCgwLC02MHB4LDApOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC41NSwuMDU1LC42NzUsLjE5KTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjU1LC4wNTUsLjY3NSwuMTkpfXRve29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC4xLC4xLC4xKSB0cmFuc2xhdGUzZCgwLDIwMDBweCwwKTt0cmFuc2Zvcm06c2NhbGUzZCguMSwuMSwuMSkgdHJhbnNsYXRlM2QoMCwyMDAwcHgsMCk7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmNlbnRlciBib3R0b207dHJhbnNmb3JtLW9yaWdpbjpjZW50ZXIgYm90dG9tOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC4xNzUsLjg4NSwuMzIsMSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC4xNzUsLjg4NSwuMzIsMSl9fUBrZXlmcmFtZXMgem9vbU91dERvd257NDAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC40NzUsLjQ3NSwuNDc1KSB0cmFuc2xhdGUzZCgwLC02MHB4LDApO3RyYW5zZm9ybTpzY2FsZTNkKC40NzUsLjQ3NSwuNDc1KSB0cmFuc2xhdGUzZCgwLC02MHB4LDApOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC41NSwuMDU1LC42NzUsLjE5KTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjU1LC4wNTUsLjY3NSwuMTkpfXRve29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC4xLC4xLC4xKSB0cmFuc2xhdGUzZCgwLDIwMDBweCwwKTt0cmFuc2Zvcm06c2NhbGUzZCguMSwuMSwuMSkgdHJhbnNsYXRlM2QoMCwyMDAwcHgsMCk7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmNlbnRlciBib3R0b207dHJhbnNmb3JtLW9yaWdpbjpjZW50ZXIgYm90dG9tOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC4xNzUsLjg4NSwuMzIsMSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC4xNzUsLjg4NSwuMzIsMSl9fS56b29tT3V0RG93bnstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnpvb21PdXREb3duO2FuaW1hdGlvbi1uYW1lOnpvb21PdXREb3dufUAtd2Via2l0LWtleWZyYW1lcyB6b29tT3V0TGVmdHs0MCV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjQ3NSwuNDc1LC40NzUpIHRyYW5zbGF0ZTNkKDQycHgsMCwwKTt0cmFuc2Zvcm06c2NhbGUzZCguNDc1LC40NzUsLjQ3NSkgdHJhbnNsYXRlM2QoNDJweCwwLDApfXRve29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSguMSkgdHJhbnNsYXRlM2QoLTIwMDBweCwwLDApO3RyYW5zZm9ybTpzY2FsZSguMSkgdHJhbnNsYXRlM2QoLTIwMDBweCwwLDApOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpsZWZ0IGNlbnRlcjt0cmFuc2Zvcm0tb3JpZ2luOmxlZnQgY2VudGVyfX1Aa2V5ZnJhbWVzIHpvb21PdXRMZWZ0ezQwJXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguNDc1LC40NzUsLjQ3NSkgdHJhbnNsYXRlM2QoNDJweCwwLDApO3RyYW5zZm9ybTpzY2FsZTNkKC40NzUsLjQ3NSwuNDc1KSB0cmFuc2xhdGUzZCg0MnB4LDAsMCl9dG97b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKC4xKSB0cmFuc2xhdGUzZCgtMjAwMHB4LDAsMCk7dHJhbnNmb3JtOnNjYWxlKC4xKSB0cmFuc2xhdGUzZCgtMjAwMHB4LDAsMCk7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmxlZnQgY2VudGVyO3RyYW5zZm9ybS1vcmlnaW46bGVmdCBjZW50ZXJ9fS56b29tT3V0TGVmdHstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnpvb21PdXRMZWZ0O2FuaW1hdGlvbi1uYW1lOnpvb21PdXRMZWZ0fUAtd2Via2l0LWtleWZyYW1lcyB6b29tT3V0UmlnaHR7NDAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC40NzUsLjQ3NSwuNDc1KSB0cmFuc2xhdGUzZCgtNDJweCwwLDApO3RyYW5zZm9ybTpzY2FsZTNkKC40NzUsLjQ3NSwuNDc1KSB0cmFuc2xhdGUzZCgtNDJweCwwLDApfXRve29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSguMSkgdHJhbnNsYXRlM2QoMjAwMHB4LDAsMCk7dHJhbnNmb3JtOnNjYWxlKC4xKSB0cmFuc2xhdGUzZCgyMDAwcHgsMCwwKTstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46cmlnaHQgY2VudGVyO3RyYW5zZm9ybS1vcmlnaW46cmlnaHQgY2VudGVyfX1Aa2V5ZnJhbWVzIHpvb21PdXRSaWdodHs0MCV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjQ3NSwuNDc1LC40NzUpIHRyYW5zbGF0ZTNkKC00MnB4LDAsMCk7dHJhbnNmb3JtOnNjYWxlM2QoLjQ3NSwuNDc1LC40NzUpIHRyYW5zbGF0ZTNkKC00MnB4LDAsMCl9dG97b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKC4xKSB0cmFuc2xhdGUzZCgyMDAwcHgsMCwwKTt0cmFuc2Zvcm06c2NhbGUoLjEpIHRyYW5zbGF0ZTNkKDIwMDBweCwwLDApOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpyaWdodCBjZW50ZXI7dHJhbnNmb3JtLW9yaWdpbjpyaWdodCBjZW50ZXJ9fS56b29tT3V0UmlnaHR7LXdlYmtpdC1hbmltYXRpb24tbmFtZTp6b29tT3V0UmlnaHQ7YW5pbWF0aW9uLW5hbWU6em9vbU91dFJpZ2h0fUAtd2Via2l0LWtleWZyYW1lcyB6b29tT3V0VXB7NDAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC40NzUsLjQ3NSwuNDc1KSB0cmFuc2xhdGUzZCgwLDYwcHgsMCk7dHJhbnNmb3JtOnNjYWxlM2QoLjQ3NSwuNDc1LC40NzUpIHRyYW5zbGF0ZTNkKDAsNjBweCwwKTstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuNTUsLjA1NSwuNjc1LC4xOSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC41NSwuMDU1LC42NzUsLjE5KX10b3tvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguMSwuMSwuMSkgdHJhbnNsYXRlM2QoMCwtMjAwMHB4LDApO3RyYW5zZm9ybTpzY2FsZTNkKC4xLC4xLC4xKSB0cmFuc2xhdGUzZCgwLC0yMDAwcHgsMCk7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmNlbnRlciBib3R0b207dHJhbnNmb3JtLW9yaWdpbjpjZW50ZXIgYm90dG9tOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC4xNzUsLjg4NSwuMzIsMSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC4xNzUsLjg4NSwuMzIsMSl9fUBrZXlmcmFtZXMgem9vbU91dFVwezQwJXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguNDc1LC40NzUsLjQ3NSkgdHJhbnNsYXRlM2QoMCw2MHB4LDApO3RyYW5zZm9ybTpzY2FsZTNkKC40NzUsLjQ3NSwuNDc1KSB0cmFuc2xhdGUzZCgwLDYwcHgsMCk7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjU1LC4wNTUsLjY3NSwuMTkpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuNTUsLjA1NSwuNjc1LC4xOSl9dG97b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjEsLjEsLjEpIHRyYW5zbGF0ZTNkKDAsLTIwMDBweCwwKTt0cmFuc2Zvcm06c2NhbGUzZCguMSwuMSwuMSkgdHJhbnNsYXRlM2QoMCwtMjAwMHB4LDApOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpjZW50ZXIgYm90dG9tO3RyYW5zZm9ybS1vcmlnaW46Y2VudGVyIGJvdHRvbTstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuMTc1LC44ODUsLjMyLDEpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuMTc1LC44ODUsLjMyLDEpfX0uem9vbU91dFVwey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6em9vbU91dFVwO2FuaW1hdGlvbi1uYW1lOnpvb21PdXRVcH1ALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGVJbkRvd257ZnJvbXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC0xMDAlLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC0xMDAlLDApO3Zpc2liaWxpdHk6dmlzaWJsZX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKX19QGtleWZyYW1lcyBzbGlkZUluRG93bntmcm9tey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTEwMCUsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTEwMCUsMCk7dmlzaWJpbGl0eTp2aXNpYmxlfXRvey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApfX0uc2xpZGVJbkRvd257LXdlYmtpdC1hbmltYXRpb24tbmFtZTpzbGlkZUluRG93bjthbmltYXRpb24tbmFtZTpzbGlkZUluRG93bn1ALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGVJbkxlZnR7ZnJvbXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMTAwJSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMTAwJSwwLDApO3Zpc2liaWxpdHk6dmlzaWJsZX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKX19QGtleWZyYW1lcyBzbGlkZUluTGVmdHtmcm9tey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xMDAlLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xMDAlLDAsMCk7dmlzaWJpbGl0eTp2aXNpYmxlfXRvey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApfX0uc2xpZGVJbkxlZnR7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpzbGlkZUluTGVmdDthbmltYXRpb24tbmFtZTpzbGlkZUluTGVmdH1ALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGVJblJpZ2h0e2Zyb217LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMTAwJSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgxMDAlLDAsMCk7dmlzaWJpbGl0eTp2aXNpYmxlfXRvey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApfX1Aa2V5ZnJhbWVzIHNsaWRlSW5SaWdodHtmcm9tey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDEwMCUsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMTAwJSwwLDApO3Zpc2liaWxpdHk6dmlzaWJsZX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKX19LnNsaWRlSW5SaWdodHstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnNsaWRlSW5SaWdodDthbmltYXRpb24tbmFtZTpzbGlkZUluUmlnaHR9QC13ZWJraXQta2V5ZnJhbWVzIHNsaWRlSW5VcHtmcm9tey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMTAwJSwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwxMDAlLDApO3Zpc2liaWxpdHk6dmlzaWJsZX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKX19QGtleWZyYW1lcyBzbGlkZUluVXB7ZnJvbXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDEwMCUsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMTAwJSwwKTt2aXNpYmlsaXR5OnZpc2libGV9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCl9fS5zbGlkZUluVXB7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpzbGlkZUluVXA7YW5pbWF0aW9uLW5hbWU6c2xpZGVJblVwfUAtd2Via2l0LWtleWZyYW1lcyBzbGlkZU91dERvd257ZnJvbXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKX10b3t2aXNpYmlsaXR5OmhpZGRlbjstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDEwMCUsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMTAwJSwwKX19QGtleWZyYW1lcyBzbGlkZU91dERvd257ZnJvbXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKX10b3t2aXNpYmlsaXR5OmhpZGRlbjstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDEwMCUsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMTAwJSwwKX19LnNsaWRlT3V0RG93bnstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnNsaWRlT3V0RG93bjthbmltYXRpb24tbmFtZTpzbGlkZU91dERvd259QC13ZWJraXQta2V5ZnJhbWVzIHNsaWRlT3V0TGVmdHtmcm9tey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApfXRve3Zpc2liaWxpdHk6aGlkZGVuOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xMDAlLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xMDAlLDAsMCl9fUBrZXlmcmFtZXMgc2xpZGVPdXRMZWZ0e2Zyb217LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCl9dG97dmlzaWJpbGl0eTpoaWRkZW47LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTEwMCUsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTEwMCUsMCwwKX19LnNsaWRlT3V0TGVmdHstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnNsaWRlT3V0TGVmdDthbmltYXRpb24tbmFtZTpzbGlkZU91dExlZnR9QC13ZWJraXQta2V5ZnJhbWVzIHNsaWRlT3V0UmlnaHR7ZnJvbXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKX10b3t2aXNpYmlsaXR5OmhpZGRlbjstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgxMDAlLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDEwMCUsMCwwKX19QGtleWZyYW1lcyBzbGlkZU91dFJpZ2h0e2Zyb217LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCl9dG97dmlzaWJpbGl0eTpoaWRkZW47LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMTAwJSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgxMDAlLDAsMCl9fS5zbGlkZU91dFJpZ2h0ey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6c2xpZGVPdXRSaWdodDthbmltYXRpb24tbmFtZTpzbGlkZU91dFJpZ2h0fUAtd2Via2l0LWtleWZyYW1lcyBzbGlkZU91dFVwe2Zyb217LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCl9dG97dmlzaWJpbGl0eTpoaWRkZW47LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMTAwJSwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMTAwJSwwKX19QGtleWZyYW1lcyBzbGlkZU91dFVwe2Zyb217LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCl9dG97dmlzaWJpbGl0eTpoaWRkZW47LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMTAwJSwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMTAwJSwwKX19LnNsaWRlT3V0VXB7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpzbGlkZU91dFVwO2FuaW1hdGlvbi1uYW1lOnNsaWRlT3V0VXB9QC13ZWJraXQta2V5ZnJhbWVzIGJvdW5jZU91dExlZnR7MjAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgyMHB4LDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDIwcHgsMCwwKX10b3tvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTIwMDBweCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMjAwMHB4LDAsMCl9fUBrZXlmcmFtZXMgYm91bmNlT3V0TGVmdHsyMCV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDBweCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwcHgsMCwwKX10b3tvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTEwMDBweCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMTAwMHB4LDAsMCl9fS5ib3VuY2VPdXRMZWZ0ey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6Ym91bmNlT3V0TGVmdDthbmltYXRpb24tbmFtZTpib3VuY2VPdXRMZWZ0Oy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjM0LC4wMywuNDMsLjk1KTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMzQsLjAzLC40MywuOTUpfUAtd2Via2l0LWtleWZyYW1lcyBib3VuY2VPdXRSaWdodHsyMCV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0yMHB4LDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0yMHB4LDAsMCl9dG97b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDIwMDBweCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgyMDAwcHgsMCwwKX19QGtleWZyYW1lcyBib3VuY2VPdXRSaWdodHsyMCV7b3BhY2l0eToxO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwcHgsMCwwKX10b3tvcGFjaXR5OjA7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDEwMDBweCwwLDApfX0uYm91bmNlT3V0UmlnaHR7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpib3VuY2VPdXRSaWdodDthbmltYXRpb24tbmFtZTpib3VuY2VPdXRSaWdodDstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4zNCwuMDMsLjQzLC45NSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjM0LC4wMywuNDMsLjk1KX1ALXdlYmtpdC1rZXlmcmFtZXMgYm91bmNlSW5SaWdodHtmcm9tLDYwJSw3NSUsOTAlLHRvey13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC4yMTUsLjYxLC4zNTUsMSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC4yMTUsLjYxLC4zNTUsMSl9ZnJvbXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMzAwMHB4LDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDMwMDBweCwwLDApfTYwJXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTI1cHgsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTI1cHgsMCwwKX03NSV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMTBweCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgxMHB4LDAsMCl9OTAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC01cHgsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTVweCwwLDApfXRvey13ZWJraXQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmV9fUBrZXlmcmFtZXMgYm91bmNlSW5SaWdodHtmcm9tLDYwJSw3NSUsOTAlLHRvey13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjM0LC4wMywuNDMsLjk1KTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMzQsLjAzLC40MywuOTUpfWZyb217b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDEwMDBweCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgxMDAwcHgsMCwwKX03NSV7b3BhY2l0eTouNn05MCV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCl9dG97b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmV9fS5ib3VuY2VJblJpZ2h0ey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6Ym91bmNlSW5SaWdodDthbmltYXRpb24tbmFtZTpib3VuY2VJblJpZ2h0fUAtd2Via2l0LWtleWZyYW1lcyBib3VuY2VJbkxlZnR7ZnJvbSw2MCUsNzUlLDkwJSx0b3std2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuMjE1LC42MSwuMzU1LDEpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuMjE1LC42MSwuMzU1LDEpfTAle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMzAwMHB4LDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0zMDAwcHgsMCwwKX02MCV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDI1cHgsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMjVweCwwLDApfTc1JXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMTBweCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMTBweCwwLDApfTkwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCg1cHgsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoNXB4LDAsMCl9dG97LXdlYmtpdC10cmFuc2Zvcm06bm9uZTt0cmFuc2Zvcm06bm9uZX19QGtleWZyYW1lcyBib3VuY2VJbkxlZnR7ZnJvbSw2MCUsNzUlLDkwJSx0b3std2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4zNCwuMDMsLjQzLC45NSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjM0LC4wMywuNDMsLjk1KX0wJXtvcGFjaXR5OjA7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xMDAwcHgsMCwwKX03NSV7b3BhY2l0eTouNH05MCV7b3BhY2l0eToxO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCl9dG97dHJhbnNmb3JtOm5vbmV9fS5ib3VuY2VJbkxlZnR7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpib3VuY2VJbkxlZnQ7YW5pbWF0aW9uLW5hbWU6Ym91bmNlSW5MZWZ0fS5pY29uQ2FydHtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoyNHB4O2hlaWdodDoyNHB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3RvcDoxcHg7cG9zaXRpb246cmVsYXRpdmU7cGVyc3BlY3RpdmU6OTZweDt0cmFuc2Zvcm0tc3R5bGU6cHJlc2VydmUtM2R9Lmljb25DYXJ0VG9we3RyYW5zZm9ybTpyb3RhdGVYKC02NGRlZykgc2tldygwZGVnKTtoZWlnaHQ6MTZweDt3aWR0aDoxNXB4O2JvcmRlci1sZWZ0OjAgMCB0cmFuc3BhcmVudDtib3JkZXItcmlnaHQ6c29saWQgMnB4ICMzMTMxMzE7Ym9yZGVyLXRvcDpzb2xpZCAzcHggIzMxMzEzMTtib3JkZXItYm90dG9tOnNvbGlkIDVweCAjMDAwO2xlZnQ6NHB4O3RvcDotMnB4fS5pY29uQ2FydFRvcDpiZWZvcmV7YmFja2dyb3VuZC1jb2xvcjojMzEzMTMxO2hlaWdodDoycHg7d2lkdGg6MTAwJTtjb250ZW50OiIiO3Bvc2l0aW9uOmFic29sdXRlO2JvdHRvbTowfS5pY29uQ2FydFRvcCwuaWNvbkNhcnRCb3R0b217cG9zaXRpb246YWJzb2x1dGV9Lmljb25DYXJ0VG9wOmJlZm9yZSwuaWNvbkNhcnRUb3A6YWZ0ZXIsLmljb25DYXJ0Qm90dG9tOmJlZm9yZSwuaWNvbkNhcnRCb3R0b206YWZ0ZXIsLmljb25DYXJ0SGFuZGxlOmJlZm9yZSwuaWNvbkNhcnRIYW5kbGU6YWZ0ZXJ7Y29udGVudDonJztwb3NpdGlvbjphYnNvbHV0ZTtkaXNwbGF5OmJsb2NrfS5pY29uQ2FydEhhbmRsZXtwb3NpdGlvbjphYnNvbHV0ZTtoZWlnaHQ6MTdweDt3aWR0aDoycHg7Ym9yZGVyLXRvcDpzb2xpZCAycHggIzMxMzEzMTtib3JkZXItcmlnaHQ6c29saWQgM3B4ICMzMTMxMzE7bGVmdDotMXB4O3RvcDowO3RyYW5zZm9ybTpza2V3KDE2ZGVnKX0uaWNvbkNhcnRCb3R0b217YmFja2dyb3VuZC1jb2xvcjojMzEzMTMxO3dpZHRoOjE1cHg7aGVpZ2h0OjJweDtib3R0b206NXB4O2xlZnQ6MDtyaWdodDowO21hcmdpbjowIGF1dG99Lmljb25DYXJ0Qm90dG9tOmJlZm9yZSwuaWNvbkNhcnRCb3R0b206YWZ0ZXJ7Ym90dG9tOi01cHg7d2lkdGg6NHB4O2hlaWdodDo0cHg7YmFja2dyb3VuZC1jb2xvcjojMzEzMTMxO2JvcmRlci1yYWRpdXM6NTAlfS5pY29uQ2FydEJvdHRvbTpiZWZvcmV7cmlnaHQ6MH0uaWNvbkNhcnRCb3R0b206YWZ0ZXJ7bGVmdDowfS5pY29uSG9tZXtwb3NpdGlvbjpyZWxhdGl2ZTt0cmFuc2Zvcm06dHJhbnNsYXRlWSg2cHgpIHNjYWxlKDAuOSk7d2lkdGg6MThweDtoZWlnaHQ6MTZweDtkaXNwbGF5OmlubGluZS1ibG9jaztib3JkZXI6MnB4IHNvbGlkICMzMTMxMzE7Ym9yZGVyLXRvcDowIG5vbmUgdHJhbnNwYXJlbnR9Lmljb25Ib21lOmFmdGVyLC5pY29uSG9tZTpiZWZvcmV7Y29udGVudDonJztwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7cmlnaHQ6MDtkaXNwbGF5OmJsb2NrfS5pY29uSG9tZTphZnRlcntib3JkZXI6MnB4IHNvbGlkICMzMTMxMzE7Ym90dG9tOjA7d2lkdGg6NXB4O2hlaWdodDo4cHg7bWFyZ2luOjAgYXV0bztib3JkZXItYm90dG9tOjAgMCB0cmFuc3BhcmVudH0uaWNvbkhvbWUuc2VsZWN0ZWQ6YmVmb3JlLC5pY29uSG9tZS5zZWxlY3RlZDphZnRlcntib3JkZXI6MnB4IHNvbGlkICM1NWYwMjR9Lmljb25Ib21lUm9vZntwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6LTlweDtib3JkZXItYm90dG9tOjlweCBzb2xpZCAjZmZmO2JvcmRlci1sZWZ0OjEzcHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLXJpZ2h0OjEzcHggc29saWQgdHJhbnNwYXJlbnQ7bWFyZ2luOjAgLTRweH0uaWNvbkhvbWU6YmVmb3Jle3RvcDotMTFweDtib3JkZXItYm90dG9tOjExcHggc29saWQgIzMxMzEzMTtib3JkZXItbGVmdDoxNnB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1yaWdodDoxNnB4IHNvbGlkIHRyYW5zcGFyZW50O21hcmdpbjowIC03cHh9Lmljb25Ib21lUm9vZjpiZWZvcmUsLmljb25Ib21lUm9vZjphZnRlcntjb250ZW50OicnO3Bvc2l0aW9uOmFic29sdXRlfS5pY29uSG9tZVJvb2Y6YmVmb3Jle3RvcDo1cHg7Ym9yZGVyLWJvdHRvbToycHggc29saWQgIzMxMzEzMTtib3JkZXItbGVmdDozcHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLXJpZ2h0OjNweCBzb2xpZCB0cmFuc3BhcmVudDttYXJnaW46MCAtMTZweDtoZWlnaHQ6MnB4O3dpZHRoOjI2cHh9Lmljb25Ib21lUm9vZjphZnRlcnt0b3A6NHB4O2hlaWdodDo1cHg7d2lkdGg6MThweDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7bWFyZ2luOjJweCAtOXB4fS5pY29uTWFnbmlmeWluZ0dsYXNze3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjI0cHg7aGVpZ2h0OjI0cHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7dG9wOjFweH0uaWNvbk1hZ25pZnlpbmdHbGFzczpiZWZvcmUsLmljb25NYWduaWZ5aW5nR2xhc3M6YWZ0ZXJ7Y29udGVudDonJztwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7ZGlzcGxheTpibG9ja30uaWNvbk1hZ25pZnlpbmdHbGFzczpiZWZvcmV7dG9wOjA7d2lkdGg6MTZweDtoZWlnaHQ6MTZweDtib3JkZXItcmFkaXVzOjUwJTt6LWluZGV4OjEwO2JvcmRlcjoycHggc29saWQgIzMxMzEzMX0uaWNvbk1hZ25pZnlpbmdHbGFzczphZnRlcntib3R0b206M3B4O2xlZnQ6MTRweDt3aWR0aDoxMXB4O2hlaWdodDoycHg7Ym9yZGVyLXJhZGl1czoycHg7ei1pbmRleDo5O2JhY2tncm91bmQtY29sb3I6IzMxMzEzMTt0cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKX0uaWNvbk1hZ25pZnlpbmdHbGFzcy5zZWxlY3RlZDphZnRlcntiYWNrZ3JvdW5kLWNvbG9yOiM1NWYwMjR9Lmljb25NYWduaWZ5aW5nR2xhc3Muc2VsZWN0ZWQ6YmVmb3Jle2JvcmRlcjoycHggc29saWQgIzU1ZjAyNH0uaWNvblBob25le3dpZHRoOjE2cHg7aGVpZ2h0OjI1cHg7Ym94LXNoYWRvdzowIDAgMCAycHggIzMxMzEzMSBpbnNldDtwb3NpdGlvbjpyZWxhdGl2ZX0uaWNvblBob25lOmJlZm9yZSwuaWNvblBob25lOmFmdGVye2NvbnRlbnQ6IiI7Y29sb3I6IzBmMDtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMDAlO2hlaWdodDoxcHg7YmFja2dyb3VuZDojMzEzMTMxO21hcmdpbjowIGF1dG87bGVmdDowO3JpZ2h0OjB9Lmljb25QaG9uZTpiZWZvcmV7dG9wOjNweDt3aWR0aDo0cHh9Lmljb25QaG9uZTphZnRlcntib3R0b206M3B4O3dpZHRoOjJweH0uaWNvblBob25lSW5zZXR7Y29udGVudDoiIjtjb2xvcjojMGYwO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwMCU7Ym94LXNpemluZzpib3JkZXItYm94O2hlaWdodDoxNXB4O3RvcDo1cHg7Ym9yZGVyOnNvbGlkIDFweCAjMzEzMTMxfS5pY29uVXNlcntwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoyNHB4O2hlaWdodDoyNHB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5pY29uVXNlcjpiZWZvcmUsLmljb25Vc2VyOmFmdGVye2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3JpZ2h0OjA7bWFyZ2luOjAgYXV0bztkaXNwbGF5OmJsb2NrO2JvcmRlcjoycHggc29saWQgIzMxMzEzMX0uaWNvblVzZXIuc2VsZWN0ZWQ6YmVmb3JlLC5pY29uVXNlci5zZWxlY3RlZDphZnRlcnt9Lmljb25Vc2VyOmJlZm9yZXt0b3A6MXB4O3dpZHRoOjdweDtoZWlnaHQ6OXB4O2JvcmRlci1yYWRpdXM6NTAlO2JveC1zaGFkb3c6MCAwIDAgNHB4ICNmZmY7ei1pbmRleDoxMH0uaWNvblVzZXI6YWZ0ZXJ7Ym90dG9tOjA7d2lkdGg6MTZweDtoZWlnaHQ6OHB4O2JvcmRlci1yYWRpdXM6MTBweDtib3JkZXItdG9wOjJweCBub25lICMzMTMxMzE7ei1pbmRleDo5fS5pY29uWHtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoxOXB4O2hlaWdodDoxOHB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO2N1cnNvcjpwb2ludGVyO292ZXJmbG93OmhpZGRlbn0uaWNvblg6YmVmb3JlLC5pY29uWDphZnRlcntjb250ZW50OicnO3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6YmxvY2s7YmFja2dyb3VuZC1jb2xvcjojOWM5YzljO3dpZHRoOjM2cHg7aGVpZ2h0OjJweDt0b3A6OHB4O3JpZ2h0Oi04cHg7dHJhbnNmb3JtLW9yaWdpbjpjZW50ZXIgY2VudGVyfS5pY29uWC5zZWxlY3RlZDpiZWZvcmUsLmljb25YLnNlbGVjdGVkOmFmdGVye2JvcmRlcjoycHggc29saWQgI2YwNWI0OX0uaWNvblg6YmVmb3Jle3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpfS5pY29uWDphZnRlcnt0b3A6OXB4O3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKX0uY29udGFpbmVye2Rpc3BsYXk6dGFibGU7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MTAwJX0ucm93U2VjdGlvbntkaXNwbGF5OnRhYmxlLXJvdztiYWNrZ3JvdW5kOiNlOGU3ZTI7YmFja2dyb3VuZDotbW96LWxpbmVhci1ncmFkaWVudCh0b3AsI2U4ZTdlMiAwLCNmMmYxZWQgMTAwJSk7YmFja2dyb3VuZDotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsI2U4ZTdlMiAwLCNmMmYxZWQgMTAwJSk7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCNlOGU3ZTIgMCwjZjJmMWVkIDEwMCUpO2ZpbHRlcjpwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoc3RhcnRDb2xvcnN0cj0nI2U4ZTdlMicsIGVuZENvbG9yc3RyPScjZjJmMWVkJywgR3JhZGllbnRUeXBlPTApfS5yb3dTZWN0aW9uPmRpdntkaXNwbGF5OnRhYmxlLWNlbGw7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MzQlO3BhZGRpbmctdG9wOjIyJTtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1zaXplOmNvdmVyO2JhY2tncm91bmQtcG9zaXRpb246Ym90dG9tIGNlbnRlcjtwb3NpdGlvbjpyZWxhdGl2ZTtjdXJzb3I6cG9pbnRlcn0ucm93U2VjdGlvbj5kaXYubGFwdG9wSW1ne2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXNpemU6MTQ2JTtiYWNrZ3JvdW5kLXBvc2l0aW9uOjE5JSAxMDAlfS5yb3dTZWN0aW9uIC5TcGVha2Vyc0ltZywucm93U2VjdGlvbiAubWljZUltZ3tiYWNrZ3JvdW5kLXNpemU6NTAlO2JhY2tncm91bmQtcG9zaXRpb246OTAlIDQ5JX0ucm93U2VjdGlvbj5kaXYuZW1wdHlDZWxsc3tib3JkZXI6MH0ucm93U2VjdGlvbj5kaXYudHdvUm93c3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtoZWlnaHQ6MTAwJTtwYWRkaW5nLXRvcDowO3dpZHRoOjMyJTtiYWNrZ3JvdW5kLXBvc2l0aW9uOnRvcCBjZW50ZXJ9LmNhdGVnb3J5Q2VsbHtvdmVyZmxvdzpoaWRkZW59LmNhdGVnb3J5Q2VsbDpob3ZlciAuc2hvcF9ub3dfc2xpZGVye2JvdHRvbTowfS5jYXRlZ29yeUNlbGw6aG92ZXIgLnNob3Bfbm93X3NsaWRlciAuc2hvcF9ub3d7cGFkZGluZzoyNnB4IDI4cHh9LmNhdGVnb3J5Q2VsbC5sYXB0b3BJbWc6aG92ZXIgLnNob3Bfbm93X3NsaWRlciAuc2hvcF9ub3d7Y29sb3I6IzJhMmEyYX0ucm93U2VjdGlvbj5kaXYudHdvUm93cyBzcGFuLC5jYXRlZ29yeUNlbGwubGFwdG9wSW1nIHNwYW57Y29sb3I6I2ZmZn0uc2hvcF9ub3dfc2xpZGVye3RyYW5zaXRpb246YWxsIGVhc2UgLjZzO3Bvc2l0aW9uOmFic29sdXRlO2JvdHRvbTotNjJweDtsZWZ0OjA7d2lkdGg6MTAwJX0uc2hvcF9ub3d7dHJhbnNpdGlvbjphbGwgZWFzZSAuNnM7Y29sb3I6IzJhMmEyYTtwb3NpdGlvbjpyZWxhdGl2ZTtib3R0b206MDtsZWZ0OjA7ZGlzcGxheTpibG9jaztmb250LXdlaWdodDo3MDA7Y3Vyc29yOnBvaW50ZXI7cGFkZGluZzoyNnB4IDI4cHggNjVweDtmb250LXNpemU6MjJweH0uc2hvcF9ub3dTdWJ7Y29sb3I6IzU0YjNhZDtwb3NpdGlvbjpyZWxhdGl2ZTtib3R0b206MjRweDtsZWZ0OjI4cHg7d2hpdGUtc3BhY2U6bm93cmFwO2ZvbnQtc2l6ZToxN3B4O2JhY2tncm91bmQtaW1hZ2U6dXJsKGltYWdlcy9hcnJvd19yaWdodC5wbmcpO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjk2JSA1MCU7cGFkZGluZy1yaWdodDoxN3B4O2N1cnNvcjpwb2ludGVyfWxhYmVsLnNob3Bfbm93e3Bvc2l0aW9uOmFic29sdXRlO2JvdHRvbTowO2xlZnQ6MDtyaWdodDowO3BhZGRpbmctbGVmdDowO3BhZGRpbmctcmlnaHQ6MDtkaXNwbGF5OmlubGluZS1ibG9jaztmb250LXNpemU6MTZweDttYXJnaW4tYm90dG9tOjM1cHh9bGFiZWwuc2hvcF9ub3c6YWZ0ZXJ7bGVmdDowO2JhY2tncm91bmQtcG9zaXRpb246NjMlIDUwJX0jc3BlY2lhbF9vZmZlcl9pdGVtcz5kaXZ7d2lkdGg6MTAwJTtkaXNwbGF5OnRhYmxlfSNpbWctc3BlY2lhbC1vZmZlcntkaXNwbGF5OnRhYmxlLWNlbGw7d2lkdGg6NjUlfSNpbWctc3BlY2lhbC1vZmZlciBpbWd7d2lkdGg6MTAwJX0jZGl2LXNwZWNpYWwtb2ZmZXJ7ZGlzcGxheTp0YWJsZS1jZWxsO3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjM1JTtjb2xvcjojMmEyYTJhfSNkaXYtc3BlY2lhbC1vZmZlciBzcGFue2Rpc3BsYXk6YmxvY2s7Zm9udC1zaXplOjMwcHh9I2Rpdi1zcGVjaWFsLW9mZmVyPmRpdntmb250LXNpemU6MzRweDtkaXNwbGF5OmJsb2NrO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MTIlO21hcmdpbjoxMCUgMTIlfSNkaXYtc3BlY2lhbC1vZmZlciBoMXtmb250LXNpemU6MjdweDtjb2xvcjojMmEyYTJhO3BhZGRpbmc6NXB4IDB9I2Rpdi1zcGVjaWFsLW9mZmVyIHB7Zm9udC1zaXplOjE2cHg7Y29sb3I6IzlkOWQ5ZDtwYWRkaW5nOjEzcHggMH0jZGl2LXNwZWNpYWwtb2ZmZXIgYnV0dG9ue2ZvbnQtc2l6ZToxNHB4O3BhZGRpbmc6OHB4O21hcmdpbjoxNnB4IDA7d2lkdGg6MTMzcHh9LnNsaWRlcnttYXJnaW4tdG9wOjQ0cHg7Zm9udC1zaXplOjA7d2hpdGUtc3BhY2U6bm93cmFwO3dpZHRoOjEwMCU7cG9zaXRpb246cmVsYXRpdmU7b3ZlcmZsb3c6aGlkZGVufS5zbGlkZXIgKntiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50Oy1tcy11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZX0uc2xpZGVyIGRpdi5zbGlkZXItbGVuZ3Roe3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6aW5saW5lO3JpZ2h0OjB9LnNsaWRlciBkaXYuc2xpZGVyLWxlbmd0aD5kaXYuaW1nU2VjdGlvbntkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDoxMDAlO3Bvc2l0aW9uOnJlbGF0aXZlO3otaW5kZXg6OTkwfS5zbGlkZXIgZGl2PmRpdi5pbWdDb250YWluZXJ7ei1pbmRleDotOTk5fS5zbGlkZXIgZGl2PmRpdiBpbWd7d2lkdGg6MTAwJX0uc2xpZGVyIC5jb250YWluZXJ7d2lkdGg6MTAwJTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7ei1pbmRleDoxMDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O3RleHQtYWxpZ246Y2VudGVyfS5zbGlkZXIgZGl2LnRyYW5zaXRpb257dHJhbnNpdGlvbjpyaWdodCAxLjVzIGN1YmljLWJlemllciguNjUsLjAxLC44LC40OCk7dHJhbnNpdGlvbi1kZWxheTouMnN9LnNsaWRlciAuY29udGFpbmVyIGgye2ZvbnQtc2l6ZTo1MHB4O3RleHQtYWxpZ246Y2VudGVyO21hcmdpbi10b3A6OCU7bWFyZ2luLWJvdHRvbTo0MXB4O2NvbG9yOiNmZmY7cG9zaXRpb246cmVsYXRpdmU7YW5pbWF0aW9uLWR1cmF0aW9uOjEuNnN9LnNsaWRlciAuY29udGFpbmVyIGJ1dHRvbntib3JkZXI6c29saWQgMnB4ICNmZmY7Y29sb3I6I2ZmZjtwYWRkaW5nOjE2cHggNDBweDtmb250LXNpemU6MjlweDtwb3NpdGlvbjpyZWxhdGl2ZTthbmltYXRpb24tZHVyYXRpb246MnN9LnNsaWRlci1sZW5ndGggZGl2IC5jb250YWluZXIgYnV0dG9uOmhvdmVye2NvbG9yOiMyYTJhMmE7YmFja2dyb3VuZC1jb2xvcjojZmZmfS5zbGlkZXItbGVuZ3RoIGRpdjpudGgtY2hpbGQoMikgLmNvbnRhaW5lciBoMntjb2xvcjojMDAwfS5zbGlkZXItbGVuZ3RoIGRpdjpudGgtY2hpbGQoMikgLmNvbnRhaW5lciBidXR0b257YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudCFpbXBvcnRhbnQ7Ym9yZGVyOnNvbGlkIDJweCAjMDAwIWltcG9ydGFudDtjb2xvcjojMmEyYTJhfS5zbGlkZXItbGVuZ3RoIGRpdjpudGgtY2hpbGQoMikgLmNvbnRhaW5lciBidXR0b246aG92ZXJ7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiMyYTJhMmEhaW1wb3J0YW50fS5zbGlkZXItc3RlcHN7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O2JvdHRvbToxMHB4O3dpZHRoOjEwMCU7ei1pbmRleDo5OTA7dGV4dC1hbGlnbjpjZW50ZXJ9LnNsaWRlci1zdGVwcyBzcGFue2Rpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbjowIDVweDtib3JkZXI6c29saWQgI2ZmZiAxcHg7Ym9yZGVyLXJhZGl1czo1MCU7aGVpZ2h0OjEwcHg7d2lkdGg6MTBweDt0cmFuc2l0aW9uOjFzIGFsbCBlYXNlO3RyYW5zaXRpb24tZGVsYXk6LjVzfS5zbGlkZXItc3RlcHMgc3Bhbi5zZWxlY3RlZHtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZ9LmdyaWQtdGFibGU+ZGl2e3dpZHRoOjMzLjMlO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbi1ib3R0b206NjBweH0uZ3JpZC10YWJsZT5kaXYgZmlndXJlIGltZ3t3aWR0aDo3NSU7cGFkZGluZzoxOHB4IDB9LmdyaWQtdGFibGUgLnByb2R1Y3ROYW1le3BhZGRpbmctYm90dG9tOjEwcHh9LmdyaWQtdGFibGUgLnZpZXdEZXRhaWx7Zm9udC1zaXplOjE1cHg7cG9zaXRpb246cmVsYXRpdmU7bGVmdDowO2JvdHRvbTowfSNzdXBwb3J0Q292ZXIgLnNlYy12aWV3IGRpdiBsYWJlbC5zZWxlY3QtdmFsdWV7Ym9yZGVyLWJvdHRvbTpzb2xpZCAxcHggI2ZmZn0jc3VwcG9ydENvdmVyIC5zZWMtdmlldyBkaXYgbGFiZWwuc2VsZWN0LXZhbHVlOmJlZm9yZXtib3JkZXItdG9wOnNvbGlkIDRweCAjZmZmfSNzdXBwb3J0Q292ZXIgbGFiZWwuU3ViamVjdHtwb3NpdGlvbjpyZWxhdGl2ZX0jc3VwcG9ydENvdmVyIGxhYmVsLlN1YmplY3QgLnN0YXJ7cG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTJweDt0b3A6MnB4fSNzdXBwb3J0Q292ZXIgLnNlYy12aWV3IGRpdiB0ZXh0YXJlYXtib3JkZXI6MXB4IHNvbGlkICNmZmY7YmFja2dyb3VuZC1jb2xvcjojNTRiM2FkO2NvbG9yOiNmZmY7cGFkZGluZzo4cHggMTBweH0jc3VwcG9ydENvdmVyIC5zZWMtc2VuZGVye21hcmdpbi10b3A6MjBweDtmbG9hdDpyaWdodH0jc3VwcG9ydENvdmVyIC5zZWMtc2VuZGVyIC5zZWMtc2VuZGVyLWF7cGFkZGluZzoxMHB4IDUwcHg7YmFja2dyb3VuZC1jb2xvcjojNTRiM2FkO2JvcmRlcjojZmZmIDJweCBzb2xpZDtjb2xvcjojZmZmfSNzdXBwb3J0Q292ZXIgLnNlYy1zZW5kZXIgLnNlYy1zZW5kZXItYS5pbnZhbGlke2JvcmRlcjpzb2xpZCAycHggIzgyYzhjMyFpbXBvcnRhbnQ7Y29sb3I6IzgyYzhjMyFpbXBvcnRhbnR9I3N1cHBvcnRDb3ZlciAuc2VjLXNlbmRlcjpob3ZlciAuc2VjLXNlbmRlci1hOm5vdCguaW52YWxpZCl7YmFja2dyb3VuZC1jb2xvcjojZmZmO2NvbG9yOiM1NGIzYWR9QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDoxNDAwcHgpeyNkaXYtc3BlY2lhbC1vZmZlcj5kaXZ7dG9wOjB9LmdyaWQtdGFibGU+ZGl2IGZpZ3VyZSBpbWd7d2lkdGg6NjUlfS5zbGlkZXIgLmNvbnRhaW5lciBoMntmb250LXNpemU6NDRweDttYXJnaW4tdG9wOjEwJX0uc2xpZGVyIC5jb250YWluZXIgYnV0dG9ue3BhZGRpbmc6MTJweCAzMXB4O2ZvbnQtc2l6ZToxOHB4fX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjEzMDBweCl7LnNsaWRlciAuY29udGFpbmVyIGgye2ZvbnQtc2l6ZTo0MHB4O21hcmdpbi10b3A6OCV9fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6MTIyMHB4KXsjc2VhcmNoU2VjdGlvbiAuc2VhcmNoUG9wVXA+ZGl2IC5wcm9kdWN0e3BhZGRpbmc6MjhweCAxNnB4fX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjEwNTBweCl7Zm9vdGVyPmRpdnt3aWR0aDoxMDAlfS5zaG9wX25vd3tmb250LXNpemU6MTZweDtwYWRkaW5nOjAgMCA1NnB4IDE4cHh9LmNhdGVnb3J5Q2VsbDpob3ZlciAuc2hvcF9ub3dfc2xpZGVyIC5zaG9wX25vd3tmb250LXNpemU6MjBweDtwYWRkaW5nOjAgMCAyMHB4IDE4cHh9LnNob3Bfbm93U3Vie2JvdHRvbToxN3B4O2xlZnQ6MThweDtmb250LXNpemU6MTNweH0jaW1nLXNwZWNpYWwtb2ZmZXJ7ZGlyZWN0aW9uOnJ0bDt3aWR0aDozMSV9I2Rpdi1zcGVjaWFsLW9mZmVye3dpZHRoOjM1JTtjb2xvcjojMmEyYTJhfSNkaXYtc3BlY2lhbC1vZmZlciBzcGFue2Rpc3BsYXk6YmxvY2s7Zm9udC1zaXplOjMwcHh9I2Rpdi1zcGVjaWFsLW9mZmVyPmRpdntmb250LXNpemU6MzRweDt0b3A6LTclO21hcmdpbjozJSA1JX0jc3BlY2lhbF9vZmZlcl9pdGVtcz5kaXZ7aGVpZ2h0OjE5MHB4fS5zbGlkZXItbGVuZ3RoIGRpdjpudGgtY2hpbGQoMikgLmNvbnRhaW5lciBoMnttYXJnaW4tYm90dG9tOjExcHh9I2Rpdi1zcGVjaWFsLW9mZmVyIGgxe2ZvbnQtc2l6ZToyNHB4fSNkaXYtc3BlY2lhbC1vZmZlciBwe3BhZGRpbmc6M3B4IDB9LmdyaWQtdGFibGU+ZGl2e3dpZHRoOjMxJX0uZ3JpZC10YWJsZT5kaXYgcHtmb250LXNpemU6MTJweDtoZWlnaHQ6MThweH0uZ3JpZC10YWJsZSAudmlld0RldGFpbHtmb250LXNpemU6MTJweH19QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo5MDBweCl7I2Rpdi1zcGVjaWFsLW9mZmVyPmRpdnttYXJnaW46MCAxMCV9LnNsaWRlciAuY29udGFpbmVyIGgye21hcmdpbi10b3A6NyU7Zm9udC1zaXplOjI0cHg7bWFyZ2luLWJvdHRvbToxOHB4fS5zbGlkZXIgLmNvbnRhaW5lciBidXR0b257cGFkZGluZzo4cHggMjFweDtmb250LXNpemU6MTRweH19QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo5NjBweCl7I2Rpdi1zcGVjaWFsLW9mZmVyIHNwYW57Zm9udC1zaXplOjI0cHh9I2Rpdi1zcGVjaWFsLW9mZmVyIGgxe2ZvbnQtc2l6ZToyMnB4fSNkaXYtc3BlY2lhbC1vZmZlciBwe2ZvbnQtc2l6ZToxNHB4fX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjc2OHB4KXsjc3BlY2lhbF9vZmZlcl9pdGVtcz5kaXZ7aGVpZ2h0OjE2MHB4fSNkaXYtc3BlY2lhbC1vZmZlciBzcGFue2ZvbnQtc2l6ZToxOXB4fSNkaXYtc3BlY2lhbC1vZmZlciBoMXtmb250LXNpemU6MTVweH0jZGl2LXNwZWNpYWwtb2ZmZXIgcHtmb250LXNpemU6MTBweH19QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo0ODBweCl7LmNvbnRhaW5lcntkaXNwbGF5OmJsb2NrfS5yb3dTZWN0aW9ue2Rpc3BsYXk6YmxvY2t9LnJvd1NlY3Rpb24+ZGl2e2Rpc3BsYXk6YmxvY2s7d2lkdGg6MTAwJTtwYWRkaW5nLXRvcDo2MiV9LnJvd1NlY3Rpb24+ZGl2LnR3b1Jvd3N7cG9zaXRpb246cmVsYXRpdmU7dG9wOmF1dG87Ym90dG9tOmF1dG87aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJTtiYWNrZ3JvdW5kLXBvc2l0aW9uOnRvcCBjZW50ZXJ9LnJvd1NlY3Rpb24+ZGl2e3BhZGRpbmctdG9wOjYyJX0ucm93U2VjdGlvbj5kaXYudHdvUm93c3twYWRkaW5nLXRvcDo3MyV9LnJvd1NlY3Rpb24+ZGl2LnR3b1Jvd3Mgc3Bhbntjb2xvcjojMmEyYTJhfS5yb3dTZWN0aW9uIC5lbXB0eUNlbGx7ZGlzcGxheTpub25lfSNpbWctc3BlY2lhbC1vZmZlcnt3aWR0aDozMCV9I2ltZy1zcGVjaWFsLW9mZmVyIGltZ3ttYXJnaW46NDBweCAwO3BhZGRpbmc6MzZweCAwfS5zbGlkZXIgZGl2LnNsaWRlci1sZW5ndGggLmltZ1NlY3Rpb24gLmltZ0NvbnRhaW5lcntvdmVyZmxvdzpoaWRkZW59LnNsaWRlciBkaXYuc2xpZGVyLWxlbmd0aCAuaW1nU2VjdGlvbiAuaW1nQ29udGFpbmVyIGltZ3toZWlnaHQ6NDQzcHg7d2lkdGg6YXV0bztwb3NpdGlvbjpyZWxhdGl2ZX0uc2xpZGVyLWxlbmd0aCBkaXY6bnRoLWNoaWxkKDEpIC5pbWdDb250YWluZXIgaW1ne2xlZnQ6LTIyMnB4fS5zbGlkZXItbGVuZ3RoIGRpdjpudGgtY2hpbGQoMikgLmltZ0NvbnRhaW5lciBpbWd7bGVmdDotNTY3cHh9LnNsaWRlci1sZW5ndGggZGl2Om50aC1jaGlsZCgzKSAuaW1nQ29udGFpbmVyIGltZ3tsZWZ0Oi01ODBweH0uc2xpZGVyIC5pbWdDb250YWluZXIgaW1nIGgye2xlZnQ6LTYxMHB4fS5zbGlkZXIgLmNvbnRhaW5lciBoMntmb250LXNpemU6MjVweDttYXJnaW4tdG9wOjMwJX0uc2xpZGVyLWxlbmd0aCBkaXY6bnRoLWNoaWxkKDIpIC5jb250YWluZXIgaDJ7Zm9udC1zaXplOjI1cHg7bWFyZ2luLXRvcDoyOCV9LmdyaWQtdGFibGU+ZGl2e3dpZHRoOjEwMCV9LmdyaWQtdGFibGU+ZGl2IGZpZ3VyZSBpbWd7d2lkdGg6ODAlfWZvb3Rlcj5kaXZ7d2lkdGg6MTAwJX0uc2hvcF9ub3d7Zm9udC1zaXplOjIycHg7cGFkZGluZzowIDAgMzJweCAxOHB4O2JvdHRvbTo0cHh9LnNob3Bfbm93U3Vie2JvdHRvbToxN3B4O2xlZnQ6MThweDtmb250LXNpemU6MTdweH19LnN0aWNreXt0b3A6MTAwcHg7YmFja2dyb3VuZC1jb2xvcjojZmZmfS5jYXRlZ29yeURhdGFGaXhlZE5hdi5maXhlZHt0b3A6NjVweH0uc3RpY2t5LmZpeGVkK2RpdiAuY2F0ZWdvcnktdHlwZS1wcm9kdWN0c3ttYXJnaW4tdG9wOjEzNXB4fS5jYXRlZ29yeURhdGF7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLXBvc2l0aW9uOnJpZ2h0O2JhY2tncm91bmQtc2l6ZTpjb3ZlcjtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7cGFkZGluZzo2JSA1JSA0LjU1JX0uY2F0ZWdvcnlEYXRhRml4ZWROYXYuZml4ZWRJbXBvcnRhbnR7dG9wOjY1cHh9Lm5vUHJvbW90ZWRQcm9kdWN0e3Bvc2l0aW9uOmZpeGVkO2JhY2tncm91bmQtY29sb3I6I2ZmZjt6LWluZGV4OjEwO3dpZHRoOjEwMCV9Lm5vUHJvbW90ZWRQcm9kdWN0RGl2e21hcmdpbi10b3A6MTUwcHh9LmNhdGVnb3J5RGF0YVBhZGRpbmd7cGFkZGluZzo2JSA1JSA0LjU1JX0uY2F0ZWdvcnlEYXRhIGgxe2ZvbnQtc2l6ZTo0MHB4O3Bvc2l0aW9uOnJlbGF0aXZlO3BhZGRpbmc6NnB4IDB9LmNhdGVnb3J5RGF0YSBoMntmb250LXNpemU6MjRweH0uY2F0ZWdvcnlEYXRhIGgze2ZvbnQtc2l6ZToxNXB4fS5jYXRlZ29yeURhdGEgaDN7cGFkZGluZzoyMXB4IDB9LmNhdGVnb3J5RGF0YSBidXR0b257Ym9yZGVyOnNvbGlkIDJweCAjZmZmO2NvbG9yOiNmZmY7cGFkZGluZzoxMnB4IDE1cHg7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDt3aWR0aDoxODNweDttYXJnaW46MjBweCA1cHg7Zm9udC1zaXplOjE4cHg7bGV0dGVyLXNwYWNpbmc6MnB4fS5jYXRlZ29yeURhdGEgYnV0dG9uOmhvdmVye2NvbG9yOiMzMTMxMzE7YmFja2dyb3VuZC1jb2xvcjojZmZmfWEuc2VsZWN0e2NvbG9yOiNmZmZ9LmNhdGVnb3J5VGl0bGV7Zm9udC1zaXplOjI4cHg7dGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzoxN3B4fS5jYXRlZ29yeS10eXBlLXByb2R1Y3Rze3dpZHRoOjEwMCV9LmNhdGVnb3J5TGVmdHt3aWR0aDoxODRweDt2ZXJ0aWNhbC1hbGlnbjp0b3A7cGFkZGluZzowIDI0cHh9LmNhdGVnb3J5TGVmdCAqLC5jYXRlZ29yeVJpZ2h0ICp7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfS5jYXRlZ29yeUxlZnQgLmZpbHRlckNvdW50e3BhZGRpbmc6M3B4IDA7Zm9udC1zaXplOjIwcHh9LmNhdGVnb3J5TGVmdCBsYWJlbHtmb250LXNpemU6MTNweDtkaXNwbGF5OmJsb2NrO3BhZGRpbmc6M3B4IDB9LmNhdGVnb3J5TGVmdCB1bHt3aWR0aDoxODRweH0uY2F0ZWdvcnlMZWZ0IHVsIGxpe2xpc3Qtc3R5bGU6bm9uZX0uY2F0ZWdvcnlMZWZ0IC5jbGVhcntjdXJzb3I6cG9pbnRlcjtmbG9hdDpyaWdodDtjb2xvcjojODI4MjgyO3Bvc2l0aW9uOnJlbGF0aXZlO3RvcDowO3BhZGRpbmc6MH0uY2F0ZWdvcnlMZWZ0IHVsIGxpIGg0e3BhZGRpbmc6NXB4IDA7Ym9yZGVyLXRvcDpzb2xpZCAjZDBkMGQwIDFweDtjb2xvcjojMmEyYTJhO3Bvc2l0aW9uOnJlbGF0aXZlO2N1cnNvcjpwb2ludGVyO2ZvbnQtc2l6ZToxM3B4fS5jYXRlZ29yeUxlZnQgdWwgbGk6Zmlyc3QtY2hpbGQgaDR7Ym9yZGVyLXRvcDowICNkMGQwZDAgMXB4O3BhZGRpbmctdG9wOjE4cHh9LmNhdGVnb3J5TGVmdCB1bCBsaTpsYXN0LWNoaWxkIGg0e30uY2F0ZWdvcnlMZWZ0IHVsIGxpIGg0OmJlZm9yZXtjb250ZW50OiIiO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjEwcHg7dG9wOjlweDt6LWluZGV4OjI7Ym9yZGVyLXJpZ2h0OnNvbGlkIDVweCB0cmFuc3BhcmVudDtib3JkZXItbGVmdDpzb2xpZCA1cHggdHJhbnNwYXJlbnQ7Ym9yZGVyLWJvdHRvbTpzb2xpZCA1cHggIzJhMmEyYTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuNXMgbGluZWFyLHRvcCAuNXMgbGluZWFyfS5jYXRlZ29yeUxlZnQgdWwgbGk6Zmlyc3QtY2hpbGQgaDQ6YmVmb3Jle3RvcDoyNHB4fS5hcnJvd0Rvd246YmVmb3Jle3RvcDoxMnB4O3RyYW5zZm9ybTpyb3RhdGUoMTgwZGVnKX0uYXJyb3dVcHt9LmFycm93VXA6YmVmb3Jle3RvcDoxMHB4O3RyYW5zZm9ybTpyb3RhdGUoMGRlZyl9LmNhdGVnb3J5TGVmdCAub3B0aW9ue3Bvc2l0aW9uOnJlbGF0aXZlO3BhZGRpbmc6MTBweCAwO3BhZGRpbmctdG9wOjA7ZGlzcGxheTpub25lfS5jYXRlZ29yeUxlZnQgLm9wdGlvbj5kaXYuaW5saW5lLWJsb2Nre2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5jYXRlZ29yeUxlZnQgLm9wdGlvbj5kaXZ7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9ja30uY2F0ZWdvcnlMZWZ0IC5vcHRpb24gLmZpbGx7ZGlzcGxheTpibG9jayFpbXBvcnRhbnR9LmNhdGVnb3J5TGVmdCAub3B0aW9uIC5maWxsIGxhYmVse2NvbG9yOiM4MjgyODI7Y3Vyc29yOnBvaW50ZXI7cGFkZGluZy1sZWZ0OjI1cHh9Lm9wdGlvbiAudW5rbm93Q29sb3J7YmFja2dyb3VuZDotbW96LWxpbmVhci1ncmFkaWVudCg0NWRlZyxyZ2JhKDI1NSwyNTUsMjU1LDApIDAscmdiYSgyNTUsMjU1LDI1NSwwKSAxMiUscmdiYSgyNTUsMjU1LDI1NSwxKSAxNCUscmdiYSgyNTUsMjU1LDI1NSwxKSAyNiUscmdiYSgyNTUsMjU1LDI1NSwwKSAyOSUscmdiYSgyNTUsMjU1LDI1NSwwKSA0MSUscmdiYSgyNTUsMjU1LDI1NSwxKSA0NCUscmdiYSgyNTUsMjU1LDI1NSwxKSA1NiUscmdiYSgyNTUsMjU1LDI1NSwwKSA1OCUscmdiYSgyNTUsMjU1LDI1NSwwKSA3MyUscmdiYSgyNTUsMjU1LDI1NSwxKSA3NiUscmdiYSgyNTUsMjU1LDI1NSwxKSA4NiUscmdiYSgyNTUsMjU1LDI1NSwwKSA4OSUscmdiYSgyNTUsMjU1LDI1NSwwKSAxMDAlKTtiYWNrZ3JvdW5kOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KDQ1ZGVnLHJnYmEoMjU1LDI1NSwyNTUsMCkgMCxyZ2JhKDI1NSwyNTUsMjU1LDApIDEyJSxyZ2JhKDI1NSwyNTUsMjU1LDEpIDE0JSxyZ2JhKDI1NSwyNTUsMjU1LDEpIDI2JSxyZ2JhKDI1NSwyNTUsMjU1LDApIDI5JSxyZ2JhKDI1NSwyNTUsMjU1LDApIDQxJSxyZ2JhKDI1NSwyNTUsMjU1LDEpIDQ0JSxyZ2JhKDI1NSwyNTUsMjU1LDEpIDU2JSxyZ2JhKDI1NSwyNTUsMjU1LDApIDU4JSxyZ2JhKDI1NSwyNTUsMjU1LDApIDczJSxyZ2JhKDI1NSwyNTUsMjU1LDEpIDc2JSxyZ2JhKDI1NSwyNTUsMjU1LDEpIDg2JSxyZ2JhKDI1NSwyNTUsMjU1LDApIDg5JSxyZ2JhKDI1NSwyNTUsMjU1LDApIDEwMCUpO2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDQ1ZGVnLHJnYmEoMjU1LDI1NSwyNTUsMCkgMCxyZ2JhKDI1NSwyNTUsMjU1LDApIDEyJSxyZ2JhKDI1NSwyNTUsMjU1LDEpIDE0JSxyZ2JhKDI1NSwyNTUsMjU1LDEpIDI2JSxyZ2JhKDI1NSwyNTUsMjU1LDApIDI5JSxyZ2JhKDI1NSwyNTUsMjU1LDApIDQxJSxyZ2JhKDI1NSwyNTUsMjU1LDEpIDQ0JSxyZ2JhKDI1NSwyNTUsMjU1LDEpIDU2JSxyZ2JhKDI1NSwyNTUsMjU1LDApIDU4JSxyZ2JhKDI1NSwyNTUsMjU1LDApIDczJSxyZ2JhKDI1NSwyNTUsMjU1LDEpIDc2JSxyZ2JhKDI1NSwyNTUsMjU1LDEpIDg2JSxyZ2JhKDI1NSwyNTUsMjU1LDApIDg5JSxyZ2JhKDI1NSwyNTUsMjU1LDApIDEwMCUpO2ZpbHRlcjpwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoc3RhcnRDb2xvcnN0cj0nIzAwZmZmZmZmJywgZW5kQ29sb3JzdHI9JyMwMGZmZmZmZicsIEdyYWRpZW50VHlwZT0xKX0uY2VsbC5jYXRlZ29yeVJpZ2h0e3dpZHRoOjEwMCV9LmNhdGVnb3J5UmlnaHQgdWx7ZGlzcGxheTpmbGV4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjEwMCV9LmNhdGVnb3J5UmlnaHQgdWwgbGl7dGV4dC1hbGlnbjpjZW50ZXI7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MjUwcHg7cGFkZGluZzoyMHB4IDMwcHg7bWFyZ2luOjIwcHg7Ym94LXNpemluZzpib3JkZXItYm94O2N1cnNvcjpwb2ludGVyO3ZlcnRpY2FsLWFsaWduOnRvcDtwb3NpdGlvbjpyZWxhdGl2ZTt0cmFuc2Zvcm06c2NhbGUoMS4xKTt0cmFuc2l0aW9uOmFsbCAuNXMgZWFzZX0uY2F0ZWdvcnlSaWdodCB1bCBsaSBwIGEucHJvZHVjdE5hbWV7ZGlzcGxheTpibG9jazttaW4taGVpZ2h0OjQycHh9LmNhdGVnb3J5UmlnaHQgdWwgbGk6aG92ZXJ7Ym94LXNoYWRvdzowIDAgMCAycHggcmdiYSgwLDAsMCwuMSl9LmNhdGVnb3J5UmlnaHQgdWwgbGkgLnNvdWxPdXR7d2lkdGg6NTZweDtoZWlnaHQ6NTZweDt6LWluZGV4OjEwO3Bvc2l0aW9uOmFic29sdXRlO3RvcDoyNXB4O2xlZnQ6MzZweDtib3JkZXItcmFkaXVzOjUwJTtiYWNrZ3JvdW5kLWNvbG9yOiM0NTQ1NDV9LmNhdGVnb3J5UmlnaHQgdWwgbGkgLnNvdWxPdXQgc3Bhbntwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6MTRweDtmb250LXNpemU6MTJweDt0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojZmZmO2Rpc3BsYXk6YmxvY2s7bGluZS1oZWlnaHQ6MS4yfS5jYXRlZ29yeVJpZ2h0IHVsIGxpIC5pbWdQcm9kdWN0e3dpZHRoOjEwMCU7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MjEwcHg7aGVpZ2h0OjE1OHB4fS5jYXRlZ29yeVJpZ2h0IHVsIGxpIC5BZGRUb0NhcmQub3V0T2ZTdG9jayAqe29wYWNpdHk6MH0uY2F0ZWdvcnlSaWdodCB1bCBsaSAuaW1nUHJvZHVjdC5vdXRPZlN0b2Nre29wYWNpdHk6LjM1fS5jYXRlZ29yeVJpZ2h0IHVsIGxpIC5BZGRUb0NhcmR7d2hpdGUtc3BhY2U6bm93cmFwO29wYWNpdHk6MDtmbG9hdDpyaWdodDtwYWRkaW5nOjAgMXB4fS5jYXRlZ29yeVJpZ2h0IHVsIGxpOmhvdmVyIC5BZGRUb0NhcmR7b3BhY2l0eToxfS5jYXRlZ29yeVJpZ2h0IHVsIGxpIC5BZGRUb0NhcmQgbGFiZWx7Y29sb3I6IzJhMmEyYTtmb250LXNpemU6MTFweDtwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6LTRweDtsZXR0ZXItc3BhY2luZzouNXB4fS5jYXRlZ29yeVJpZ2h0IHVsIGxpIC5BZGRUb0NhcmQ+aW1ne2N1cnNvcjpwb2ludGVyfS5jYXRlZ29yeVJpZ2h0IHVsIGxpIC5wcm9kdWN0UHJpY2V7Y29sb3I6IzU0YjNhZDtkaXNwbGF5OmlubGluZS1ibG9jaztwYWRkaW5nOjRweCAwfS5vcHRpb24+LnNsaWRlclN0ZXBze2ZvbnQtc2l6ZToxMnB4O2NvbG9yOiNiMGIwYjA7dG9wOjA7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTppbmxpbmUtYmxvY2s7cGFkZGluZzowO21hcmdpbjowO3dpZHRoOjQ3JTt0ZXh0LWFsaWduOnJpZ2h0fS5vcHRpb24+LnNsaWRlclN0ZXBzLmxlZnR7dGV4dC1hbGlnbjpsZWZ0fS5vcHRpb24+I3NsaWRlcnt3aWR0aDo5NSUhaW1wb3J0YW50O21hcmdpbjo2cHggMDttYXJnaW4tYm90dG9tOi02cHh9Lm9wdGlvbiAubm9VaS1ob3Jpem9udGFsIC5ub1VpLWhhbmRsZXtjdXJzb3I6cG9pbnRlcn0uY2F0ZWdvcnlMZWZ0IC5maWx0ZXJDb3VudCBzcGFue2Rpc3BsYXk6bm9uZX0ubm9Qcm9kdWN0c3tkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjpyZWxhdGl2ZTtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsLjUyKX0uY2F0ZWdvcnlSaWdodCAubm9Qcm9kdWN0c3ttYXJnaW46MTAlfS5ub1Byb2R1Y3RzIHNwYW57ZGlzcGxheTpibG9jaztwYWRkaW5nOjAgMTBweDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Zm9udC1zaXplOjIzcHg7Y29sb3I6IzMxMzEzMX0ubm9Qcm9kdWN0czphZnRlcntjb250ZW50OiIiO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTE4cHg7dG9wOjUwJTt3aWR0aDpjYWxjKDEwMCUgKyAzNnB4KTtoZWlnaHQ6M3B4O2JhY2tncm91bmQtY29sb3I6IzAwMDt6LWluZGV4Oi0yfS5jYXRlZ29yeVJpZ2h0IC5ub1Byb2R1Y3RzOmFmdGVye2xlZnQ6LTE0cHg7dG9wOjUwJTt3aWR0aDpjYWxjKDEwMCUgKyAyOHB4KTtoZWlnaHQ6M3B4fS50ZXh0QWxpZ25DZW50ZXJ7dGV4dC1hbGlnbjpjZW50ZXJ9QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDoxNTUwcHgpey5jYXRlZ29yeVJpZ2h0IHVsIGxpe3dpZHRoOjIxJX19QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDoxMjUwcHgpey5jYXRlZ29yeVJpZ2h0IHVsIGxpe3dpZHRoOjI5JX19QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDoxMTgwcHgpey5jYXRlZ29yeVJpZ2h0IHVsIGxpe3dpZHRoOjI3JX19QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDoxMDAwcHgpey5jYXRlZ29yeVJpZ2h0IHVsIGxpe3dpZHRoOjQzJX19QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo4NTBweCl7LmNhdGVnb3J5UmlnaHQgdWwgbGl7d2lkdGg6OTAlO21hcmdpbjoxMHB4IGF1dG99Lm5vUHJvZHVjdHMgc3Bhbntmb250LXNpemU6MTdweDttYXJnaW46MTIwcHggMH0uY2F0ZWdvcnlSaWdodCB1bCBsaXt3aWR0aDo4MCU7bWFyZ2luOjIwcHh9fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6NzY4cHgpe31AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjYwOHB4KXsub3B0aW9uPi5zbGlkZXJTdGVwc3t3aWR0aDo0OSV9LmNlbGwuY2F0ZWdvcnlMZWZ0LC5jZWxsLmNhdGVnb3J5UmlnaHR7ZGlzcGxheTpibG9ja30ub3B0aW9uPiNzbGlkZXJ7d2lkdGg6MTAwJSFpbXBvcnRhbnQ7bWFyZ2luOjZweCBhdXRvfS5jZWxsLmNhdGVnb3J5TGVmdHt3aWR0aDoxMDAlO21hcmdpbjowIGF1dG87Ym94LXNpemluZzpib3JkZXItYm94O3BhZGRpbmc6MH0uY2VsbC5jYXRlZ29yeUxlZnQgdWx7d2lkdGg6MTAwJX0uY2VsbC5jYXRlZ29yeUxlZnQgdWwgLmZpbGx7dmVydGljYWwtYWxpZ246dG9wO2Rpc3BsYXk6aW5saW5lLWJsb2NrIWltcG9ydGFudH0uY2F0ZWdvcnlMZWZ0IC5maWx0ZXJDb3VudHtwYWRkaW5nOjNweCAyM3B4O3Bvc2l0aW9uOnJlbGF0aXZlfS5jYXRlZ29yeUxlZnQgLmZpbHRlckNvdW50IHNwYW57ZGlzcGxheTpibG9jaztjdXJzb3I6cG9pbnRlcjt2ZXJ0aWNhbC1hbGlnbjp0b3B9LmNhdGVnb3J5TGVmdCAuZmlsdGVyQ291bnQgLnRpdGxlSXRlbXNDb3VudHtkaXNwbGF5Om5vbmV9LmNhdGVnb3J5TGVmdCAuZmlsdGVyQ291bnQgc3BhbiBpbWd7d2lkdGg6MjBweDt0b3A6M3B4O3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3BhZGRpbmctcmlnaHQ6M3B4fSNtb2JpbGVTbGlkZXtkaXNwbGF5Om5vbmV9LmNhdGVnb3J5TGVmdCBsYWJlbHtwYWRkaW5nOjNweCAyM3B4O3BhZGRpbmctdG9wOjE1cHh9LmNlbGwuY2F0ZWdvcnlSaWdodHt0ZXh0LWFsaWduOmNlbnRlcn0uY2F0ZWdvcnlMZWZ0IHVsIGxpIGg0e3BhZGRpbmc6MTFweCAyM3B4O2ZvbnQtc2l6ZToxNHB4fS5jYXRlZ29yeUxlZnQgdWwgbGkgaDQ6YmVmb3Jle3RvcDoxOHB4O3JpZ2h0OjIycHh9LmNhdGVnb3J5TGVmdCAub3B0aW9ue3BhZGRpbmc6MTBweCAyM3B4O3BhZGRpbmctdG9wOjB9LmNhdGVnb3J5UmlnaHQgdWwgbGk6aG92ZXIgLkFkZFRvQ2FyZHtvcGFjaXR5OjB9LmNhdGVnb3J5UmlnaHQgdWwgbGl7bWFyZ2luOjMwcHggYXV0bztwYWRkaW5nOjIwcHggNDBweH0uY2F0ZWdvcnlSaWdodCB1bCBsaSAuaW1nUHJvZHVjdHt9fS5zZWFyY2hQdW5jaG91dHt3aWR0aDo0MDBweDttYXJnaW46MCBhdXRvO2JvcmRlcjoxcHggc29saWQgIzAwMDttYXJnaW4tdG9wOjMwcHg7cGFkZGluZzoxNXB4O292ZXJmbG93OmhpZGRlbn0ubWF4LXdpZHRoe21heC13aWR0aDo5NjdweDttYXJnaW46MCBhdXRvfS5wcm9kdWN0SW1hZ2UuZml4ZWRJbXBvcnRhbnQrc2VjdGlvbntwYWRkaW5nLXRvcDozMHB4fSNwcm9kdWN0XzJ7bWFyZ2luLXRvcDoxMDBweH0jcHJvZHVjdF8yIC5yZXZpZXdze3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjIyNXB4O2hlaWdodDoyMjVweDtiYWNrZ3JvdW5kOnJnYmEoMjQ0LDI0NCwyNDIsLjk1KTtmb250LXNpemU6MDtvdmVyZmxvdzpoaWRkZW59I3Byb2R1Y3RfMiAucmV2aWV3cyAucmV2aWV3c0NvdmVye3doaXRlLXNwYWNlOm5vd3JhcDtwb3NpdGlvbjpyZWxhdGl2ZTtoZWlnaHQ6MTAwJTtsZWZ0OjA7dHJhbnNpdGlvbjphbGwgZWFzZSAuM3N9I3Byb2R1Y3RfMiAucmV2aWV3cyAucmV2aWV3c0NvdmVyPmRpdnttYXJnaW46MjBweCAyNXB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3doaXRlLXNwYWNlOm5vcm1hbDt2ZXJ0aWNhbC1hbGlnbjp0b3A7dGV4dC1hbGlnbjpsZWZ0O3Bvc2l0aW9uOnJlbGF0aXZlO2hlaWdodDoyMTBweH0jcHJvZHVjdF8yIC5yZXZpZXdzIC5yaWdodEFycm93LCNwcm9kdWN0XzIgLnJldmlld3MgLmxlZnRBcnJvd3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDttYXJnaW4tdG9wOmF1dG87bWFyZ2luLWJvdHRvbTphdXRvO2Rpc3BsYXk6dGFibGU7cGFkZGluZzo2cHg7Y3Vyc29yOnBvaW50ZXI7ei1pbmRleDoyfSNwcm9kdWN0XzIgLnJldmlld3MgLnJpZ2h0QXJyb3d7cmlnaHQ6MH0jcHJvZHVjdF8yIC5yZXZpZXdzIC5sZWZ0QXJyb3d7bGVmdDowfSNwcm9kdWN0XzIgLnJldmlld3MgLnNjb3Jle3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0Oi0yNXB4O3RvcDotMjBweDtiYWNrZ3JvdW5kLWNvbG9yOiM1NGIzYWQ7Zm9udC1zaXplOjIycHg7Y29sb3I6I2ZmZjtwYWRkaW5nOjEwcHh9I3Byb2R1Y3RfMiAucmV2aWV3cyAucmV2aWV3c1RpdGxle2NvbG9yOiMyYTJhMmE7Zm9udC1zaXplOjE4cHh9I3Byb2R1Y3RfMiAucmV2aWV3cyAucmV2aWV3c0NvdW50e2NvbG9yOiM4MjgyODI7Zm9udC1zaXplOjEycHh9I3Byb2R1Y3RfMiAucmV2aWV3cyAucmV2aWV3c0NvbW1lbnR7Y29sb3I6IzgyODI4Mjtmb250LXNpemU6MTRweDttYXJnaW4tdG9wOjE1cHh9I3Byb2R1Y3RfMiAucmV2aWV3cyAucmV2aWV3Qm90dG9te2NvbG9yOiMyYTJhMmE7Zm9udC1zaXplOjEycHg7cG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjIwcHg7d2lkdGg6MTAwJX0jcHJvZHVjdF8yIC5yZXZpZXdzIC5yZXZpZXdCb3R0b20+aW1ne3Bvc2l0aW9uOnJlbGF0aXZlO3RvcDo2cHh9I3Byb2R1Y3RfMiAucmV2aWV3cz5kaXZ7Zm9udC1zaXplOjE2cHh9LmhhbGZ7ZGlzcGxheTp0YWJsZS1jZWxsO3dpZHRoOjUwJTt2ZXJ0aWNhbC1hbGlnbjp0b3B9I3NlcGFyYXRvcntoZWlnaHQ6NTBweH0jRGVzY3JpcHRpb257cGFkZGluZy1sZWZ0OjYwcHh9I0Rlc2NyaXB0aW9uIGgxe2ZvbnQtc2l6ZToyNXB4O2NvbG9yOiMyYTJhMmF9I3Byb2R1Y3QtaW1hZ2V7d2lkdGg6NTYlO2Zsb2F0OmxlZnQ7bWFyZ2luOjUwcHggMCAwfS5zdGlja3l7dG9wOjEwM3B4O2JhY2tncm91bmQtY29sb3I6I2ZmZn0ucHJvZHVjdEltYWdlLnBhZ2VzLmZpeGVkK3NlY3Rpb257bWFyZ2luLXRvcDowfSNwcm9kdWN0LWltYWdlPmZpZ3VyZT5pbWd7d2lkdGg6MTAwJTttYXJnaW4tYm90dG9tOjIwcHh9I3Byb2R1Y3QtaW1hZ2UgI2NvdmVye3doaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdzpoaWRkZW59I2xlbmd0aHtkaXNwbGF5OmlubGluZTtmb250LXNpemU6MH0uaW1hZ2VBbGlhc3t3aWR0aDoyNSU7ZGlzcGxheTppbmxpbmUtYmxvY2s7Ym94LXNpemluZzpib3JkZXItYm94O2N1cnNvcjpwb2ludGVyfS5pbWFnZUFsaWFzIGltZ3twYWRkaW5nLXRvcDoyMHB4O21hcmdpbjowIDEwcHg7dGV4dC1hbGlnbjpjZW50ZXI7d2lkdGg6Y2FsYygxMDAlIC0gMTVweCk7Ym94LXNpemluZzpib3JkZXItYm94fSNzZWxlY3RvcnN7dGV4dC1hbGlnbjpjZW50ZXJ9I3NlbGVjdG9ycz5zcGFue2JhY2tncm91bmQ6cmVkO3dpZHRoOjlweDtoZWlnaHQ6OXB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbjoycHg7Ym9yZGVyLXJhZGl1czo5cHh9I3NlbGVjdG9ycyAuc2VsZWN0ZWR7YmFja2dyb3VuZC1jb2xvcjojMDAwfSNkZXNjcmlwdGlvbntkaXNwbGF5OmlubGluZS1ibG9jaztwYWRkaW5nOjUwcHggMCAwIDUwcHg7d2lkdGg6MzMuNiV9I3Byb2R1Y3Qtc2VjdGlvbiAjbWFpbkltZ3t3aWR0aDoxMDAlfSNEZXNjcmlwdGlvbiBoMntmb250LXNpemU6MjNweDtjb2xvcjojMmEyYTJhfSNEZXNjcmlwdGlvbiBoMiBzcGFuLCNtb2JpbGVEZXNjcmlwdGlvbiBoMiBzcGFue2NvbG9yOiNmZmY7Zm9udC1zaXplOjEycHg7YmFja2dyb3VuZC1jb2xvcjojNDU0NTQ1O3BhZGRpbmc6M3B4IDhweDttYXJnaW46MCAycHg7dmVydGljYWwtYWxpZ246bWlkZGxlfSNEZXNjcmlwdGlvbiBwe21hcmdpbjoxM3B4IDA7Zm9udC1zaXplOjE0cHg7Y29sb3I6IzgyODI4MjtsaW5lLWhlaWdodDoxLjV9I3Byb2R1Y3RQcm9wZXJ0aWVze2Rpc3BsYXk6aW5saW5lLWJsb2NrO3BhZGRpbmc6MTVweCAwfSNwcm9kdWN0UHJvcGVydGllcz5kaXZ7cGFkZGluZzo1cHggMDttYXJnaW4tYm90dG9tOjIwcHh9I3Byb2R1Y3RQcm9wZXJ0aWVzIC5jb2xvcnN7ZGlzcGxheTpibG9jaztmb250LXNpemU6MDtjb2xvcjojODI4MjgyO2JvcmRlci10b3A6MXB4IHNvbGlkICNkMGQwZDA7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2QwZDBkMDtwb3NpdGlvbjpyZWxhdGl2ZX0jcHJvZHVjdFByb3BlcnRpZXMgLmNvbG9ycz5kaXZ7ZGlzcGxheTppbmxpbmUtYmxvY2t9I3Byb2R1Y3RQcm9wZXJ0aWVzPmRpdj5oMntkaXNwbGF5OmlubGluZS1ibG9jaztjb2xvcjojMDIwMjAyO3doaXRlLXNwYWNlOm5vd3JhcDtmb250LXNpemU6MTZweDtwb3NpdGlvbjpyZWxhdGl2ZTtwYWRkaW5nLXJpZ2h0OjE4cHg7cG9zaXRpb246cmVsYXRpdmU7dG9wOi05cHh9I3Byb2R1Y3RQcm9wZXJ0aWVzIC5jb2xvcnMgc3Bhbnt3aWR0aDoyMHB4O2hlaWdodDoyMHB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO3RvcDowO21hcmdpbjo1cHggMTFweDtib3JkZXItcmFkaXVzOjUwJTtiYWNrZ3JvdW5kOiNmZmY7Ym9yZGVyOnNvbGlkIDFweCAjOWQ5ZDlkfSNwcm9kdWN0UHJvcGVydGllcyBzZWxlY3R7d2lkdGg6NDdweDtoZWlnaHQ6MzBweDt0ZXh0LWluZGVudDoxMHB4O2JvcmRlcjpzb2xpZCAxcHggI2QwZDBkMH0jcHJvZHVjdFByb3BlcnRpZXMgLlF1YW50aXR5e2ZvbnQtc2l6ZToxNnB4O2NvbG9yOiMwMjAyMDI7bWFyZ2luLXJpZ2h0OjVweDtwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6LTdweH0jcHJvZHVjdFByb3BlcnRpZXMgc2VsZWN0IG9wdGlvbntmb250LXNpemU6MTRweH0ubWF4LXdpZHRoIHZpZGVvLC5tYXgtd2lkdGggaWZyYW1le3dpZHRoOjEwMCU7bWFyZ2luOjIwcHggMH0ucHJvZHVjdF9zcGVjaWZpY2F0aW9uc3tmb250LXNpemU6MjNweDtjb2xvcjojMmEyYTJhO3BhZGRpbmctYm90dG9tOjI4cHh9I3Byb2R1Y3RQcm9wZXJ0aWVzIGJ1dHRvbntmb250LXNpemU6MTRweDtjb2xvcjojMmEyYTJhO2xpbmUtaGVpZ2h0OjQ4cHg7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDt3aWR0aDozMjBweDttYXJnaW46MzZweCAwfSNwcm9kdWN0UHJvcGVydGllcyBidXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojMmEyYTJhO2NvbG9yOiNmZmZ9I3Byb2R1Y3RQcm9wZXJ0aWVzIGJ1dHRvbi5kaXNhYmxle2JvcmRlcjpzb2xpZCAycHggI2QxZDFkMSFpbXBvcnRhbnQ7Y29sb3I6I2QxZDFkMSFpbXBvcnRhbnR9I3Byb2R1Y3RQcm9wZXJ0aWVzIGJ1dHRvbi5kaXNhYmxlOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXI6c29saWQgMnB4ICNkMWQxZDEhaW1wb3J0YW50O2NvbG9yOiNkMWQxZDEhaW1wb3J0YW50fS5saXN0e3BhZGRpbmc6MTNweCAwO2JvcmRlci1ib3R0b206c29saWQgMXB4ICNlOGU4ZTh9Lmxpc3QgbGFiZWx7d2lkdGg6Y2FsYygxMDAlIC0gMjIwcHgpO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOnRvcH0ubGlzdCBsYWJlbC5hdHRye2ZvbnQtc2l6ZToxNHB4O2NvbG9yOiM4MjgyODI7d2lkdGg6MjAwcHg7ZGlzcGxheTppbmxpbmUtYmxvY2t9LnByb2R1Y3Rfc3BlY2lmaWNhdGlvbnMgbGFiZWwudmFsdWV7Zm9udC1zaXplOjE2cHg7Y29sb3I6IzgyODI4Mn0udG9wU3BhY2V7cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luLXRvcDo5MHB4fSNwcm9kdWN0UHJvcGVydGllcz5kaXYuZml4ZWRCdG57cGFkZGluZzowO21hcmdpbjowO2JhY2tncm91bmQtY29sb3I6I2ZmZjt6LWluZGV4Ojk5OTtkaXNwbGF5OmJsb2NrfSNwcm9kdWN0UHJvcGVydGllcyAucHJvZHVjdENvbG9yPmxhYmVse3RvcDotNDNweDtsZWZ0Oi0xMXB4fS5zY3JlZW40ODB7ZGlzcGxheTpub25lfSNwcm9kdWN0UHJvcGVydGllcyAuc21vb2xNYXJnaW57cGFkZGluZzowfUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6OTUwcHgpeyNwcm9kdWN0XzJ7bWFyZ2luLXRvcDoyMHB4fSNwcm9kdWN0LXNlY3Rpb24gI21haW5JbWd7d2lkdGg6ODAlfS5oYWxme3dpZHRoOjEwMCU7ZGlzcGxheTpibG9ja30jcHJvZHVjdC1zZWN0aW9ue3RleHQtYWxpZ246Y2VudGVyfSNEZXNjcmlwdGlvbnttYXJnaW46MDttYXJnaW4tdG9wOjQwcHg7Ym94LXNpemluZzpib3JkZXItYm94O3BhZGRpbmctbGVmdDo0MHB4O3BhZGRpbmctcmlnaHQ6NDBweH0jcHJvZHVjdFByb3BlcnRpZXN7d2lkdGg6MTAwJX0jcHJvZHVjdFByb3BlcnRpZXMgYnV0dG9ue3dpZHRoOjI2MHB4O21hcmdpbjoyMHB4IDA7Zm9udC1zaXplOjE1cHh9LnRvcFNwYWNle3BhZGRpbmctdG9wOjB9LnByb2R1Y3Rfc3BlY2lmaWNhdGlvbnN7cGFkZGluZzoxMHB4IDQwcHggMzBweCA1MHB4fS5saXN0IGxhYmVse3dpZHRoOmNhbGMoMTAwJSAtIDgwcHgpO3BhZGRpbmc6MCA1MHB4O2NvbG9yOiM4MjgyODI7Zm9udC1zaXplOjE0cHh9Lmxpc3QgbGFiZWwuYXR0cntwYWRkaW5nOjAgNTBweDtjb2xvcjojMDAwO2ZvbnQtd2VpZ2h0OjQwMH0jbW9iaWxlRGVzY3JpcHRpb257ZGlzcGxheTppbmxpbmUtYmxvY2s7cGFkZGluZzowIDMwcHg7bWFyZ2luLXRvcDozMHB4fSNtb2JpbGVEZXNjcmlwdGlvbiBoMXtkaXNwbGF5OmlubGluZTtmb250LXNpemU6MjNweDtjb2xvcjojMmEyYTJhfSNtb2JpbGVEZXNjcmlwdGlvbiBoMntmb250LXNpemU6MjNweDtjb2xvcjojMmEyYTJhO3BhZGRpbmc6MDtkaXNwbGF5OmJsb2NrfX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjc1MHB4KXsjcHJvZHVjdC1pbWFnZXtmbG9hdDpub25lO21hcmdpbjowIGF1dG87bWFyZ2luLWJvdHRvbTowfS5wcm9kdWN0X3NwZWNpZmljYXRpb25ze21hcmdpbi10b3A6MTJweH0jZGVzY3JpcHRpb257bWF4LXdpZHRoOjE0MzRweDt3aWR0aDphdXRvO21hcmdpbjowIGF1dG87ZGlzcGxheTpibG9ja30jaW1hZ2VzRGVzY3JpcHRpb24gaDF7dGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZy1ib3R0b206MH0jcHJvZHVjdFByb3BlcnRpZXN7cGFkZGluZzowO3dpZHRoOjEwMCV9I3Byb2R1Y3RQcm9wZXJ0aWVzPmRpdntwYWRkaW5nOjE1cHggMzBweDttYXJnaW46MDtkaXNwbGF5OnRhYmxlLWNlbGx9LnByb2R1Y3Rfc3BlY2lmaWNhdGlvbnN7cGFkZGluZzoxMHB4IDQwcHggMzBweH0ubGlzdHtwYWRkaW5nOjEzcHggMTBweH0ubGlzdCBsYWJlbHtkaXNwbGF5OmJsb2NrO3BhZGRpbmctbGVmdDoyMHB4fS50b3BTcGFjZXtwYWRkaW5nLXRvcDowO3RvcDoxMnB4fS5pbWFnZUFsaWFzIGltZ3twYWRkaW5nLXRvcDowfSNwcm9kdWN0UHJvcGVydGllcz5kaXYgLnNlYy1wbHVzLW1pbnVze3RyYW5zZm9ybTpzY2FsZSgxLjUpO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3RyYW5zZm9ybS1vcmlnaW46bGVmdH0jcHJvZHVjdFByb3BlcnRpZXMgYnV0dG9uLmRpc2FibGV7bWFyZ2luOjAgMzBweH0uc2NyZWVuNDgwe2Rpc3BsYXk6YmxvY2t9LnNjcmVlbjc2OHtkaXNwbGF5Om5vbmV9I3Byb2R1Y3RQcm9wZXJ0aWVzIGJ1dHRvbnt3aWR0aDoxMDAlO21hcmdpbjoxMHB4IDB9I3Byb2R1Y3RQcm9wZXJ0aWVzIC5zbW9vbE1hcmdpbntwYWRkaW5nOjI5cHggMjZweH0ubGlzdCBsYWJlbHtwYWRkaW5nOjAgMzBweH0ubGlzdCBsYWJlbC5hdHRye3BhZGRpbmc6MCAzMHB4fX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjU4MHB4KXsjcHJvZHVjdFByb3BlcnRpZXM+ZGl2Pmgye3ZlcnRpY2FsLWFsaWduOnRvcH0ubGlzdCBsYWJlbHtwYWRkaW5nOjAgMTBweH0ubGlzdCBsYWJlbC5hdHRye3BhZGRpbmc6MCAxMHB4fS5wcm9kdWN0SW1hZ2UucGFnZXMuZml4ZWQrc2VjdGlvbnttYXJnaW46MH0ucHJvZHVjdEltYWdlLnBhZ2VzLmZpeGVkK3NlY3Rpb24sLnByb2R1Y3RJbWFnZS5maXhlZEltcG9ydGFudCtzZWN0aW9uLCNwcm9kdWN0LWltYWdlPmZpZ3VyZT5pbWd7bWFyZ2luLXRvcDowO21hcmdpbjowO3BhZGRpbmc6MH0jcHJvZHVjdC1pbWFnZXt3aWR0aDo5MCU7bWFyZ2luOjAgYXV0b30jcHJvZHVjdC1pbWFnZSAjY292ZXJ7bWFyZ2luLXRvcDoxNXB4fS5wcm9kdWN0X3NwZWNpZmljYXRpb25ze3BhZGRpbmc6MCAyM3B4fS5saXN0e3BhZGRpbmc6MTNweH0ubGlzdDpsYXN0LWNoaWxke2JvcmRlci1ib3R0b206MCAxcHggI2U4ZThlODttYXJnaW4tYm90dG9tOjMwcHh9I3Byb2R1Y3RQcm9wZXJ0aWVzIC5RdWFudGl0eXtjb2xvcjojMDIwMjAyO21hcmdpbjowIDhweCAwIDA7cG9zaXRpb246cmVsYXRpdmU7dG9wOi03cHh9I21vYmlsZURlc2NyaXB0aW9ue3RleHQtYWxpZ246bGVmdH0jcHJvZHVjdFByb3BlcnRpZXM+ZGl2Pmgye3RvcDoxMHB4fSNwcm9kdWN0UHJvcGVydGllcyAuY29sb3JzIHNwYW57d2lkdGg6MzBweDtoZWlnaHQ6MzBweH0jcHJvZHVjdFByb3BlcnRpZXM+ZGl2LmZpeGVkQnRue30udHJpY2tQcm9kdWN0QnRue2Rpc3BsYXk6YmxvY2t9I0Rlc2NyaXB0aW9ue3BhZGRpbmctcmlnaHQ6MjNweDtwYWRkaW5nLWxlZnQ6MjNweH19QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo0ODBweCl7LnByb2R1Y3Rfc3BlY2lmaWNhdGlvbnN7Zm9udC1zaXplOjE4cHh9I3Byb2R1Y3RfMiAucmV2aWV3c3tkaXNwbGF5Om5vbmV9fSN0b29sVGlwQ2FydHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTNweDtyaWdodDotOHB4O3otaW5kZXg6OTk5OTk7ZGlzcGxheTpub25lO2RpcmVjdGlvbjpsdHJ9I3Rvb2xUaXBDYXJ0IC5lbXB0eUNhcnR7Ym9yZGVyOnNvbGlkIDFweCAjZDBkMGQwO2JhY2tncm91bmQtY29sb3I6I2ZmZjt0ZXh0LWFsaWduOmNlbnRlcjt3aWR0aDoyNjZweDtwYWRkaW5nOjEycHggMH0jdG9vbFRpcENhcnQgLmVtcHR5Q2FydD5sYWJlbHtkaXNwbGF5OmJsb2NrO3BhZGRpbmc6M3B4IDA7Y29sb3I6IzJhMmEyYTtmb250LXNpemU6MTRweH0jdG9vbFRpcENhcnQgLmVtcHR5Q2FydD5sYWJlbC5pdGVtc3tmb250LXNpemU6MTZweH0jdG9vbFRpcENhcnQgLmVtcHR5Q2FydD5sYWJlbCBzcGFue3Bvc2l0aW9uOnJlbGF0aXZlO3RvcDotMnB4O2ZvbnQtc2l6ZToxMnB4O2xldHRlci1zcGFjaW5nOjFweH0jdG9vbFRpcENhcnQgdGFibGV7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlcjpzb2xpZCAxcHggI2QwZDBkMH0jdG9vbFRpcENhcnQgKnttYXJnaW46MDtwYWRkaW5nOjB9I3Rvb2xUaXBDYXJ0IHRhYmxle2Rpc3BsYXk6YmxvY2t9I3Rvb2xUaXBDYXJ0IHRib2R5e3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjB9I3Rvb2xUaXBDYXJ0ICp7Y3Vyc29yOnBvaW50ZXJ9I3Rvb2xUaXBDYXJ0IHRib2R5IHRye2Rpc3BsYXk6YmxvY2s7Ym9yZGVyLWJvdHRvbTpzb2xpZCAxcHggI2QwZDBkMDttYXJnaW46MCA1cHg7aGVpZ2h0OjEwNHB4fSN0b29sVGlwQ2FydCB0Ym9keSB0ZHtwYWRkaW5nOjE0cHggNXB4O3ZlcnRpY2FsLWFsaWduOnRvcDtwb3NpdGlvbjpyZWxhdGl2ZTt0ZXh0LWFsaWduOmxlZnQ7aGVpZ2h0OjY0cHh9I3Rvb2xUaXBDYXJ0IHRib2R5IHRkOm50aC1jaGlsZCgxKXt2ZXJ0aWNhbC1hbGlnbjptaWRkbGV9I3Rvb2xUaXBDYXJ0IHRmb290IHRkOm50aC1jaGlsZCgxKXt0ZXh0LWFsaWduOmxlZnR9I3Rvb2xUaXBDYXJ0IHRib2R5IHRkOm50aC1jaGlsZCgyKXt3aWR0aDoxMDAlfSN0b29sVGlwQ2FydCB0Ym9keSB0ZDpudGgtY2hpbGQoMyl7dGV4dC1hbGlnbjpjZW50ZXJ9I3Rvb2xUaXBDYXJ0IHRib2R5IGltZ3t3aWR0aDo1NnB4O3ZlcnRpY2FsLWFsaWduOm1pZGRsZX0jdG9vbFRpcENhcnQgdGJvZHkgYXt0ZXh0LWRlY29yYXRpb246bm9uZX0jdG9vbFRpcENhcnQgdGJvZHkgaDN7Zm9udC1zaXplOjEzcHg7cGFkZGluZy1ib3R0b206N3B4O21hcmdpbi1ib3R0b206OHB4O292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO21heC1oZWlnaHQ6MS45ZW07Zm9udC13ZWlnaHQ6NDAwO2NvbG9yOiMzMTMxMzF9I3Rvb2xUaXBDYXJ0IHRib2R5IGxhYmVse2ZvbnQtc2l6ZToxMXB4O2NvbG9yOiM4MjgyODI7ZGlzcGxheTpibG9jaztwb3NpdGlvbjpyZWxhdGl2ZTtsaW5lLWhlaWdodDoxNXB4fSN0b29sVGlwQ2FydCB0Ym9keSBzcGFuLnByb2R1Y3RDb2xvcntwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTJweDttYXJnaW46MCA0cHh9I3Rvb2xUaXBDYXJ0IHRib2R5IC5wcmljZXtmb250LXNpemU6MTNweDtjb2xvcjojMmEyYTJhfSN0b29sVGlwQ2FydCB0Ym9keSAucmVtb3ZlUHJvZHVjdHtwb3NpdGlvbjphYnNvbHV0ZTtib3R0b206MjBweDtyaWdodDoxNXB4O3dpZHRoOjE4cHg7aGVpZ2h0OjE4cHg7dHJhbnNmb3JtOnNjYWxlKDAuOCk7Y3Vyc29yOnBvaW50ZXJ9I3Rvb2xUaXBDYXJ0IHRmb290e2Rpc3BsYXk6YmxvY2s7Ym9yZGVyLXRvcDpzb2xpZCAxcHggI2QwZDBkMDtiYWNrZ3JvdW5kLWNvbG9yOiNmOWY5Zjl9I3Rvb2xUaXBDYXJ0IHRmb290IHNwYW57Zm9udC1zaXplOjE1cHg7Y29sb3I6IzJhMmEyYTttYXJnaW46MTBweCAxMHB4IDA7ZGlzcGxheTppbmxpbmUtYmxvY2t9I3Rvb2xUaXBDYXJ0IHRmb290IC5jYXJ0LXRvdGFse2Zsb2F0OnJpZ2h0fSN0b29sVGlwQ2FydCB0Zm9vdCBidXR0b257d2lkdGg6Mjg1cHg7Zm9udC1zaXplOjEzcHg7Y29sb3I6IzJhMmEyYTttYXJnaW46MTBweDtwYWRkaW5nOjEwcHg7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlcjpzb2xpZCAycHggIzJhMmEyYTtkaXNwbGF5OmJsb2NrfSN0b29sVGlwQ2FydCB0Zm9vdCBidXR0b246aG92ZXJ7Y29sb3I6I2ZmZjttYXJnaW46MTBweDtwYWRkaW5nOjEwcHg7YmFja2dyb3VuZC1jb2xvcjojMmEyYTJhO2JvcmRlcjpzb2xpZCAycHggI2ZmZn0jc2VhcmNoU2VjdGlvbntkaXJlY3Rpb246bHRyO3Bvc2l0aW9uOnJlbGF0aXZlO3RvcDoxcHg7ei1pbmRleDoxMDAwO3RleHQtYWxpZ246bGVmdDt3aGl0ZS1zcGFjZTpub3dyYXB9I3NlYXJjaFNlY3Rpb24gI3NlYXJjaD5kaXZ7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2hpdGUtc3BhY2U6bm93cmFwfSNzZWFyY2hTZWN0aW9uIC5hdXRvQ29tcGxldGVDb3ZlcntvdmVyZmxvdzpoaWRkZW47d2lkdGg6MDtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjp0b3A7b3BhY2l0eTouNTttYXJnaW46MDt0b3A6LTEwcHh9I3NlYXJjaFNlY3Rpb24gLmF1dG9Db21wbGV0ZUNvdmVyIC5pY29uQ3Nze3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7dG9wOjlweDtib3R0b206MDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7bWFyZ2luOjRweCAwO2Rpc3BsYXk6bm9uZTtjdXJzb3I6cG9pbnRlcn0jc2VhcmNoU2VjdGlvbiAuYXV0b0NvbXBsZXRlQ292ZXIgaW5wdXR7d2lkdGg6MTAwJTtmb250LXNpemU6MTZweDtjb2xvcjojMmEyYTJhO3BhZGRpbmc6N3B4IDExcHggN3B4IDA7bWFyZ2luOjA7b3V0bGluZTowO2N1cnNvcjp0ZXh0O2JvcmRlcjowO2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNDRUNDQ0M7ZGlzcGxheTpibG9ja30jc2VhcmNoU2VjdGlvbiAuYXV0b0NvbXBsZXRlQ292ZXIgOjotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVye2ZvbnQtd2VpZ2h0OjMwMH0jc2VhcmNoU2VjdGlvbiAuYXV0b0NvbXBsZXRlQ292ZXIgOi1tcy1pbnB1dC1wbGFjZWhvbGRlcntmb250LXdlaWdodDozMDB9I3NlYXJjaFNlY3Rpb24gLmF1dG9Db21wbGV0ZUNvdmVyIDotbW96LXBsYWNlaG9sZGVye2ZvbnQtd2VpZ2h0OjMwMH0jc2VhcmNoU2VjdGlvbiAuaWNvbk1hZ25pZnlpbmdHbGFzc3tjdXJzb3I6cG9pbnRlcn0jc2VhcmNoU2VjdGlvbiAjb3V0cHV0e3Bvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQtY29sb3I6cmdiYSgyNDYsMjQ2LDI0NiwuOTUpO3dpZHRoOjEwMCU7Ym94LXNpemluZzpib3JkZXItYm94O3RvcDo0MnB4fSNzZWFyY2hTZWN0aW9uIC5zZWFyY2hQb3BVcD5kaXYuY2F0ZWdvcmllc3t9I3NlYXJjaFNlY3Rpb24gI291dHB1dCAudG9wNlByb2R1Y3Rze3BhZGRpbmc6MTdweCAyMHB4O2JhY2tncm91bmQtY29sb3I6cmdiYSgyNTUsMjU1LDI1NSwxKTt3aWR0aDpjYWxjKDEwMCUgLSAxNzNweCl9I3NlYXJjaFNlY3Rpb24gI291dHB1dD5kaXY+ZGl2e3doaXRlLXNwYWNlOm5vcm1hbDtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjp0b3B9I3NlYXJjaFNlY3Rpb24gZGl2IC5hbmltUGxhY2Vob2xkZXJVcCBsYWJlbHtjb2xvcjojODI4MjgyO2ZvbnQtc2l6ZToxNnB4fSNzZWFyY2hTZWN0aW9uIC5zZWFyY2hQb3BVcHtwb3NpdGlvbjpyZWxhdGl2ZX0jc2VhcmNoU2VjdGlvbiAuc2VhcmNoUG9wVXA+ZGl2IGgze2ZvbnQtc2l6ZToxNHB4O2NvbG9yOiMyYTJhMmE7cGFkZGluZzo2cHggMH0jc2VhcmNoU2VjdGlvbiAuc2VhcmNoUG9wVXAgZGl2LmNhdGVnb3JpZXMgaDN7Zm9udC1zaXplOjE0cHg7Y29sb3I6IzJhMmEyYTtwYWRkaW5nOjIycHg7cGFkZGluZy1ib3R0b206MTBweH0jc2VhcmNoU2VjdGlvbiBkaXYuY2F0ZWdvcmllcyBsYWJlbHtmb250LXNpemU6MTRweDtjb2xvcjojMmEyYTJhO3BhZGRpbmc6NXB4IDIycHg7ZGlzcGxheTpibG9jaztjdXJzb3I6cG9pbnRlcn0jc2VhcmNoU2VjdGlvbiBkaXYuY2F0ZWdvcmllcyBsYWJlbDpmaXJzdC1sZXR0ZXJ7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlfSNzZWFyY2hTZWN0aW9uIC5zZWFyY2hQb3BVcD5kaXYgLnByb2R1Y3R7d2lkdGg6MzMuMzMzJTtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjp0b3A7Ym94LXNpemluZzpib3JkZXItYm94O3BhZGRpbmc6MTdweCAxMHB4O3RleHQtYWxpZ246Y2VudGVyO2N1cnNvcjpwb2ludGVyO3RleHQtZGVjb3JhdGlvbjpub25lfSNzZWFyY2hTZWN0aW9uIC5zZWFyY2hQb3BVcD5kaXYgLnByb2R1Y3QgaW1ne3dpZHRoOmNhbGMoMTAwJSAtIDEwcHgpO2JveC1zaXppbmc6Ym9yZGVyLWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowIGF1dG87bWFyZ2luLWJvdHRvbToxNXB4fSNzZWFyY2hTZWN0aW9uIC5zZWFyY2hQb3BVcD5kaXYgLnByb2R1Y3QgcHtmb250LXNpemU6MTFweDtjb2xvcjojMmEyYTJhO21hcmdpbjo0cHggMTBweDtoZWlnaHQ6MzNweDtvdmVyZmxvdzpoaWRkZW59I3NlYXJjaFNlY3Rpb24gLnNlYXJjaFBvcFVwIC52aWV3QWxse3Bvc2l0aW9uOmFic29sdXRlO3RvcDoyM3B4O3JpZ2h0OjM1cHg7Zm9udC1zaXplOjEzcHg7Y29sb3I6IzU0YjNhZDtjdXJzb3I6cG9pbnRlcn0jc2VhcmNoU2VjdGlvbiAuc2VhcmNoUG9wVXA+ZGl2IC5wcm9kdWN0IHNwYW57Zm9udC1zaXplOjE0cHg7ZGlzcGxheTpibG9jaztjb2xvcjojNTRiM2FkfSNvcmRlclNlYXJjaFNlY3Rpb257ZGlyZWN0aW9uOmx0cjtwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6NDhweDt6LWluZGV4OjEwMDA7dGV4dC1hbGlnbjpyaWdodDt3aGl0ZS1zcGFjZTpub3dyYXB9I29yZGVyU2VhcmNoU2VjdGlvbiAjb3JkZXJTZWFyY2g+ZGl2e2Rpc3BsYXk6aW5saW5lLWJsb2NrO3doaXRlLXNwYWNlOm5vd3JhcH0jb3JkZXJTZWFyY2hTZWN0aW9uIC5hdXRvQ29tcGxldGVDb3ZlcntvdmVyZmxvdzpoaWRkZW47d2lkdGg6MDtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjp0b3A7b3BhY2l0eTouNTttYXJnaW46MDt0b3A6LTEwcHh9I29yZGVyU2VhcmNoU2VjdGlvbiAuYXV0b0NvbXBsZXRlQ292ZXIgLmljb25Dc3N7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDt0b3A6OXB4O2JvdHRvbTowO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTttYXJnaW46NHB4IDA7ZGlzcGxheTpub25lO2N1cnNvcjpwb2ludGVyfSNvcmRlclNlYXJjaFNlY3Rpb24gLmF1dG9Db21wbGV0ZUNvdmVyIGlucHV0e3dpZHRoOjEwMCU7Zm9udC1zaXplOjE2cHg7Y29sb3I6IzJhMmEyYTtwYWRkaW5nOjdweCAxMXB4IDdweCAwO21hcmdpbjowO291dGxpbmU6MDtjdXJzb3I6dGV4dDtib3JkZXI6MDtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjQ0VDQ0NDO2Rpc3BsYXk6YmxvY2t9I29yZGVyU2VhcmNoU2VjdGlvbiAuYXV0b0NvbXBsZXRlQ292ZXIgOjotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVye2ZvbnQtd2VpZ2h0OjMwMH0jb3JkZXJTZWFyY2hTZWN0aW9uIC5hdXRvQ29tcGxldGVDb3ZlciA6LW1zLWlucHV0LXBsYWNlaG9sZGVye2ZvbnQtd2VpZ2h0OjMwMH0jb3JkZXJTZWFyY2hTZWN0aW9uIC5hdXRvQ29tcGxldGVDb3ZlciA6LW1vei1wbGFjZWhvbGRlcntmb250LXdlaWdodDozMDB9I29yZGVyU2VhcmNoU2VjdGlvbiAuaWNvbk1hZ25pZnlpbmdHbGFzc3tjdXJzb3I6cG9pbnRlcn0jb3JkZXJTZWFyY2hTZWN0aW9uICNvdXRwdXR7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDI0NiwyNDYsMjQ2LC45NSk7d2lkdGg6MTAwJTtib3gtc2l6aW5nOmJvcmRlci1ib3g7dG9wOjQycHh9I29yZGVyU2VhcmNoU2VjdGlvbiAuc2VhcmNoUG9wVXA+ZGl2LmNhdGVnb3JpZXN7fSNvcmRlclNlYXJjaFNlY3Rpb24gI291dHB1dCAudG9wNlByb2R1Y3Rze3BhZGRpbmc6MTdweCAyMHB4O2JhY2tncm91bmQtY29sb3I6cmdiYSgyNTUsMjU1LDI1NSwxKTt3aWR0aDpjYWxjKDEwMCUgLSAxNzNweCl9I29yZGVyU2VhcmNoU2VjdGlvbiAjb3V0cHV0PmRpdj5kaXZ7d2hpdGUtc3BhY2U6bm9ybWFsO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOnRvcH0jb3JkZXJTZWFyY2hTZWN0aW9uIGRpdiAuYW5pbVBsYWNlaG9sZGVyVXAgbGFiZWx7Y29sb3I6IzgyODI4Mjtmb250LXNpemU6MTZweH0jb3JkZXJTZWFyY2hTZWN0aW9uIC5zZWFyY2hQb3BVcHtwb3NpdGlvbjpyZWxhdGl2ZX0jb3JkZXJTZWFyY2hTZWN0aW9uIC5zZWFyY2hQb3BVcD5kaXYgaDN7Zm9udC1zaXplOjE0cHg7Y29sb3I6IzJhMmEyYTtwYWRkaW5nOjZweCAwfSNvcmRlclNlYXJjaFNlY3Rpb24gLnNlYXJjaFBvcFVwIGRpdi5jYXRlZ29yaWVzIGgze2ZvbnQtc2l6ZToxNHB4O2NvbG9yOiMyYTJhMmE7cGFkZGluZzoyMnB4O3BhZGRpbmctYm90dG9tOjEwcHh9I29yZGVyU2VhcmNoU2VjdGlvbiBkaXYuY2F0ZWdvcmllcyBsYWJlbHtmb250LXNpemU6MTRweDtjb2xvcjojMmEyYTJhO3BhZGRpbmc6NXB4IDIycHg7ZGlzcGxheTpibG9jaztjdXJzb3I6cG9pbnRlcn0jb3JkZXJTZWFyY2hTZWN0aW9uIGRpdi5jYXRlZ29yaWVzIGxhYmVsOmZpcnN0LWxldHRlcnt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2V9I29yZGVyU2VhcmNoU2VjdGlvbiAuc2VhcmNoUG9wVXA+ZGl2IC5wcm9kdWN0e3dpZHRoOjMzLjMzMyU7ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246dG9wO2JveC1zaXppbmc6Ym9yZGVyLWJveDtwYWRkaW5nOjE3cHggMTBweDt0ZXh0LWFsaWduOmNlbnRlcjtjdXJzb3I6cG9pbnRlcjt0ZXh0LWRlY29yYXRpb246bm9uZX0jb3JkZXJTZWFyY2hTZWN0aW9uIC5zZWFyY2hQb3BVcD5kaXYgLnByb2R1Y3QgaW1ne3dpZHRoOmNhbGMoMTAwJSAtIDEwcHgpO2JveC1zaXppbmc6Ym9yZGVyLWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowIGF1dG87bWFyZ2luLWJvdHRvbToxNXB4fSNvcmRlclNlYXJjaFNlY3Rpb24gLnNlYXJjaFBvcFVwPmRpdiAucHJvZHVjdCBwe2ZvbnQtc2l6ZToxMXB4O2NvbG9yOiMyYTJhMmE7bWFyZ2luOjRweCAxMHB4O2hlaWdodDozM3B4O292ZXJmbG93OmhpZGRlbn0jb3JkZXJTZWFyY2hTZWN0aW9uIC5zZWFyY2hQb3BVcCAudmlld0FsbHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MjNweDtyaWdodDozNXB4O2ZvbnQtc2l6ZToxM3B4O2NvbG9yOiM1NGIzYWQ7Y3Vyc29yOnBvaW50ZXJ9I29yZGVyU2VhcmNoU2VjdGlvbiAuc2VhcmNoUG9wVXA+ZGl2IC5wcm9kdWN0IHNwYW57Zm9udC1zaXplOjE0cHg7ZGlzcGxheTpibG9jaztjb2xvcjojNTRiM2FkfSNzaG9wcGluZ0NhcnR7bWF4LXdpZHRoOjEwOTBweDttYXJnaW46NDVweCBhdXRvfS5zdGlja3kuZml4ZWRJbXBvcnRhbnQrI3Nob3BwaW5nQ2FydHttYXJnaW4tdG9wOjEzMHB4O21hcmdpbi1ib3R0b206MH0jc2hvcHBpbmdDYXJ0IHRhYmxle3dpZHRoOjEwMCU7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlfS5maXhlZEltcG9ydGFudHtwb3NpdGlvbjpmaXhlZCFpbXBvcnRhbnQ7d2lkdGg6MTAwJTt6LWluZGV4OjkwMH0uZml4ZWRUYWJsZUVkZ2VDb21wYXRpYmlsaXR5e3RhYmxlLWxheW91dDpmaXhlZH0jc2hvcHBpbmdDYXJ0IHRhYmxlICp7cGFkZGluZzowO21hcmdpbjowfSNzaG9wcGluZ0NhcnQgdGh7dGV4dC1hbGlnbjpsZWZ0O3BhZGRpbmc6OHB4IDB9I3Nob3BwaW5nQ2FydCB0Ym9keSB0ZHtwYWRkaW5nOjIwcHggMDtib3JkZXItdG9wOiNkMGQwZDAgc29saWQgMXB4fSNzaG9wcGluZ0NhcnQgdGJvZHkgdHI6bGFzdC1jaGlsZCB0ZHtib3JkZXItYm90dG9tOiNkMGQwZDAgc29saWQgMXB4fSNzaG9wcGluZ0NhcnQgLmltZ0hlYWRlcnt3aWR0aDoxMDBweH0jc2hvcHBpbmdDYXJ0IGltZ3t3aWR0aDoxMDAlfSNzaG9wcGluZ0NhcnQgc2VsZWN0e3BhZGRpbmc6NHB4O2ZvbnQtc2l6ZToxLjJlbX0jc2hvcHBpbmdDYXJ0IHRoOm50aC1jaGlsZCgyKSwjc2hvcHBpbmdDYXJ0IHRkOm50aC1jaGlsZCgyKXtwYWRkaW5nLWxlZnQ6MjFweH0jc2hvcHBpbmdDYXJ0IC5zbW9sbENlbGx7d2lkdGg6MTAwcHg7dGV4dC1hbGlnbjpjZW50ZXJ9I3Nob3BwaW5nQ2FydCAuc21vbGxDZWxsLnF1YW50aXR5e3BhZGRpbmc6MCA0MXB4fSNzaG9wcGluZ0NhcnQgLnNtb2xsQ2VsbCBzcGFuIGF7Y29sb3I6IzJhMmEyYTt0ZXh0LWRlY29yYXRpb246bm9uZSFpbXBvcnRhbnR9I3Nob3BwaW5nQ2FydCB0ZCBidXR0b257Ym9yZGVyOnNvbGlkIDJweCAjMmEyYTJhO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7cGFkZGluZzoxNHB4IDMwcHg7ZmxvYXQ6cmlnaHR9I3Nob3BwaW5nQ2FydCB0ZCBidXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojMmEyYTJhO2NvbG9yOiNmZmZ9I3Nob3BwaW5nQ2FydCB0Zm9vdCB0ZDpsYXN0LWNoaWxke3RleHQtYWxpZ246cmlnaHR9I3Nob3BwaW5nQ2FydCB0Zm9vdCBzcGFue3BhZGRpbmc6MjBweCAwO2ZvbnQtc2l6ZToxOHB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrfSNzaG9wcGluZ0NhcnQgdGZvb3QgLmljb25zICp7Zm9udC1mYW1pbHk6QXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7ZGlzcGxheTppbmxpbmUtYmxvY2t9I3Nob3BwaW5nQ2FydCB0Zm9vdCAuaWNvbnMgdWx7bWFyZ2luOjAgM3B4fSNzaG9wcGluZ0NhcnQgdGZvb3QgLmljb25zIGltZ3twb3NpdGlvbjpyZWxhdGl2ZTt0b3A6LTZweDttYXJnaW46MCA2cHh9I3Nob3BwaW5nQ2FydCB0Zm9vdCAuaWNvbnM+bGFiZWx7Zm9udC1zaXplOjExcHg7bWFyZ2luOjIwcHggMnB4fSNzaG9wcGluZ0NhcnQgdGZvb3QgdWwgbGl7ZGlzcGxheTppbmxpbmUtYmxvY2s7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6NTBweDtoZWlnaHQ6MjBweDt2ZXJ0aWNhbC1hbGlnbjp0b3A7bWFyZ2luOjAgNnB4fSNzaG9wcGluZ0NhcnQgdGZvb3QgdWwgbGk6bnRoLWNoaWxkKDMpe3dpZHRoOjk1cHh9I3Nob3BwaW5nQ2FydCB0Zm9vdCB1bCBzcGFue3Bvc2l0aW9uOnJlbGF0aXZlO2xlZnQ6MDtyaWdodDowO21hcmdpbi1sZWZ0OmF1dG87bWFyZ2luLXJpZ2h0OmF1dG87ZGlzcGxheTpibG9ja30jc2hvcHBpbmdDYXJ0IHRmb290IC5pY29ucyAjbWFzdGVyQ2FyZHtwb3NpdGlvbjphYnNvbHV0ZTtwYWRkaW5nOjA7dG9wOjJweDtsZWZ0OjEycHg7ZGlzcGxheTpibG9jazt3aWR0aDoxNXB4O2hlaWdodDoxNXB4O2ZvbnQtc2l6ZTowO2JvcmRlci1yYWRpdXM6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01cHgpO2JhY2tncm91bmQtY29sb3I6cmdiYSgxMjcsMTI3LDEyNywuOCl9I3Nob3BwaW5nQ2FydCB0Zm9vdCAuaWNvbnMgI21hc3RlckNhcmQ6YWZ0ZXJ7Y29udGVudDonJztyaWdodDoxMnB4O2Rpc3BsYXk6YmxvY2s7d2lkdGg6MTVweDtoZWlnaHQ6MTVweDtwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXItcmFkaXVzOjUwJTtiYWNrZ3JvdW5kLWNvbG9yOiNiOGI1YTZ9I3Nob3BwaW5nQ2FydCB0Zm9vdCAuaWNvbnMgI3Zpc2F7cG9zaXRpb246YWJzb2x1dGU7cGFkZGluZzowO2ZvbnQtc2l6ZTouOTRlbTt0b3A6LTJweDtmb250LXdlaWdodDo4MDA7Y29sb3I6I2E0YTZhMTt0cmFuc2Zvcm06c2tld1goLTE5ZGVnKSBzY2FsZVkoMS4yKX0jc2hvcHBpbmdDYXJ0IHRmb290IC5pY29ucyAjdmlzYTphZnRlcntjb250ZW50OicnO3RvcDotMTNweDtsZWZ0Oi0yMXB4O21hcmdpbjoxOHB4O2Rpc3BsYXk6YmxvY2s7d2lkdGg6OHB4O2hlaWdodDo4cHg7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZDpyYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IDAgMTAwJSx0cmFuc3BhcmVudCA4cHgsI2RkZTNlOCAwKTtiYWNrZ3JvdW5kLXBvc2l0aW9uOnRvcCBsZWZ0O3otaW5kZXg6Mjt0cmFuc2Zvcm06c2tld1goMTJkZWcpfSNzaG9wcGluZ0NhcnQgdGZvb3QgLmljb25zICNkaXNjb3Zlcntwb3NpdGlvbjphYnNvbHV0ZTtwYWRkaW5nOjA7Zm9udC1zaXplOi45NGVtO3RvcDoxcHg7Zm9udC13ZWlnaHQ6NjAwO2NvbG9yOiNhNGE2YTE7dHJhbnNmb3JtOnNjYWxlWSgxLjIpfSNzaG9wcGluZ0NhcnQgdGZvb3QgLmljb25zICNkaXNjb3ZlcjphZnRlcntjb250ZW50OicnO3RvcDoycHg7bGVmdDozNXB4O2Rpc3BsYXk6YmxvY2s7d2lkdGg6MTNweDtoZWlnaHQ6MTJweDtwb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kLWNvbG9yOiNlMWUxZTE7Ym9yZGVyLXJhZGl1czo1MCV9I3Nob3BwaW5nQ2FydCB0Zm9vdCAuaWNvbnMgI3BheXBhbHtwb3NpdGlvbjphYnNvbHV0ZTtwYWRkaW5nOjA7Zm9udC1zaXplOi45NGVtO3RvcDozcHg7Zm9udC13ZWlnaHQ6NjAwO2NvbG9yOiNhNGE2YTE7dHJhbnNmb3JtOnNjYWxlWSgxLjIpO2ZvbnQtZmFtaWx5OkFoYXJvbmk7dHJhbnNmb3JtOnNrZXdYKC0xOWRlZykgc2NhbGUoMS4yKX0jc2hvcHBpbmdDYXJ0IHRmb290IC5pY29ucyAjcGF5cGFsOmFmdGVye2NvbnRlbnQ6J1BhbCc7dG9wOjA7bGVmdDoyN3B4O2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7Y29sb3I6I2UxZTFlMX0jc2hvcHBpbmdDYXJ0IHRkIC5tb2JpbGVWaWV3ZXJ7ZGlzcGxheTpub25lfSNzaG9wcGluZ0NhcnQgLnNtb2xsQ2VsbD5zcGFuIGEucmVtb3ZlLHNwYW4gYS5lZGl0e2ZvbnQtc2l6ZToxMHB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3BhZGRpbmc6MTBweCAwO2N1cnNvcjpwb2ludGVyfSNzaG9wcGluZ0NhcnQgLnNtb2xsQ2VsbD5zcGFuIGEucmVtb3ZlOmhvdmVyLCNzaG9wcGluZ0NhcnQgLnNtb2xsQ2VsbD5zcGFuIGEuZWRpdDpob3Zlcntjb2xvcjojNTRiM2FkfSNzaG9wcGluZ0NhcnQ+ZGl2LmJpZ0VtcHR5Q2FydHtwYWRkaW5nOjMwcHh9I3Nob3BwaW5nQ2FydD5kaXYuYmlnRW1wdHlDYXJ0IGxhYmVse2Rpc3BsYXk6YmxvY2s7d2lkdGg6MzgwcHg7YmFja2dyb3VuZC1jb2xvcjojZmZmO2ZvbnQtc2l6ZTozMHB4O2NvbG9yOiMyYTJhMmE7cGFkZGluZzoyMHB4IDEycHg7cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luOjAgYXV0b30jc2hvcHBpbmdDYXJ0PmRpdi5iaWdFbXB0eUNhcnQgbGFiZWw6YmVmb3Jle2NvbnRlbnQ6IiI7cG9zaXRpb246YWJzb2x1dGU7dG9wOjM2cHg7bGVmdDotMTRweDtoZWlnaHQ6M3B4O2JhY2tncm91bmQtY29sb3I6IzJhMmEyYTtkaXNwbGF5OmJsb2NrO3dpZHRoOjQyOXB4O2ZvbnQtc2l6ZTozMHB4O2NvbG9yOiMyYTJhMmE7ei1pbmRleDotMX0jc2hvcHBpbmdDYXJ0PmRpdi5iaWdFbXB0eUNhcnQgLmEtYnV0dG9ue21hcmdpbjo4cHggYXV0bztkaXNwbGF5OmlubGluZS1ibG9jaztmb250LXNpemU6MTRweDtwYWRkaW5nOjEzcHggMzBweDttYXJnaW4tYm90dG9tOjkwcHh9I21vYmlsZVNob3BwaW5nQ2FydHt3aWR0aDoxMDAlO2Rpc3BsYXk6bm9uZX0jc2hvcHBpbmdDYXJ0IC5wcm9kdWN0Q29sb3J7Y3Vyc29yOmRlZmF1bHR9QG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjc2OHB4KXsjc2hvcHBpbmdDYXJ0e2Rpc3BsYXk6bm9uZX0jbW9iaWxlU2hvcHBpbmdDYXJ0e2Rpc3BsYXk6YmxvY2t9I21vYmlsZVNob3BwaW5nQ2FydCAjdG9vbFRpcENhcnR7cG9zaXRpb246cmVsYXRpdmU7dG9wOjA7cmlnaHQ6MDt6LWluZGV4OjA7Ym94LXNpemluZzpib3JkZXItYm94fSNtb2JpbGVTaG9wcGluZ0NhcnQgI3Rvb2xUaXBDYXJ0IHRhYmxle2JvcmRlcjowfSNtb2JpbGVTaG9wcGluZ0NhcnQgI3Rvb2xUaXBDYXJ0IHRib2R5IHRye21hcmdpbjowfSNtb2JpbGVTaG9wcGluZ0NhcnQgI3Rvb2xUaXBDYXJ0IHRib2R5IGltZ3t3aWR0aDo4MHB4fSNtb2JpbGVTaG9wcGluZ0NhcnQgI3Rvb2xUaXBDYXJ0PmRpdnttYXJnaW4tYm90dG9tOjgwcHh9I21vYmlsZVNob3BwaW5nQ2FydCAjdG9vbFRpcENhcnQgLmVtcHR5Q2FydHt3aWR0aDoxMDAlO2JveC1zaXppbmc6Ym9yZGVyLWJveH0jbW9iaWxlU2hvcHBpbmdDYXJ0ICN0b29sVGlwQ2FydCB0Zm9vdHtwYWRkaW5nOjEwcHg7YmFja2dyb3VuZC1jb2xvcjojZmZmfSNtb2JpbGVTaG9wcGluZ0NhcnQgI3Rvb2xUaXBDYXJ0IHRmb290IHRkOm50aC1jaGlsZCgxKXt3aWR0aDoxMDAlfSNtb2JpbGVTaG9wcGluZ0NhcnQgI3Rvb2xUaXBDYXJ0IHRmb290IGJ1dHRvbnt3aWR0aDoxMDAlO2Rpc3BsYXk6YmxvY2s7d2lkdGg6MTAwJTttYXJnaW46MDttYXJnaW4tdG9wOjI2cHg7Ym94LXNpemluZzpib3JkZXItYm94O2xpbmUtaGVpZ2h0OjI4cHg7Zm9udC1zaXplOjE1cHh9fUBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDo0ODhweCl7I21vYmlsZVNob3BwaW5nQ2FydCAjdG9vbFRpcENhcnQ+ZGl2e21hcmdpbi1ib3R0b206MjBweH19LyohKmJhY2tncm91bmQ6ICNDQ0MqISovLyohKnBhZGRpbmc6IDEwcHggMjVweDsqISovLyohKmJvcmRlcjogc29saWQgMXB4OyohKi8vKiEqYm9yZGVyLXJhZGl1czogNHB4OyohKi8vKiEqZGlzcGxheTogYmxvY2s7KiEqLy8qISpjb2xvcjogd2hpdGU7KiEqLy8qISpiYWNrZ3JvdW5kLWNvbG9yOiAjMmEyYTJhOyohKi8jY29udGFjdF91c3tiYWNrZ3JvdW5kLWNvbG9yOiM1NGIzYWR9I3N1cHBvcnRDb3ZlcntwYWRkaW5nOjMwcHggMDttYXJnaW46MCBhdXRvO2Rpc3BsYXk6dGFibGU7d2lkdGg6MTM2NnB4fSNzdXBwb3J0Q292ZXIgLmlucHV0TWFyZ2luIC52YWxpZGF0ZS1kaXJlY3RpdmV7bWFyZ2luOjE4cHggMH0jc3VwcG9ydENvdmVyPmRpdnt3aWR0aDo3NSU7bWFyZ2luOjAgYXV0bzt0ZXh0LWFsaWduOmNlbnRlcjt2ZXJ0aWNhbC1hbGlnbjp0b3A7ZGlzcGxheTp0YWJsZS1jZWxsfSNzdXBwb3J0Q292ZXI+ZGl2OmZpcnN0LWNoaWxke3dpZHRoOjI1JTttYXJnaW46MCBhdXRvO3RleHQtYWxpZ246Y2VudGVyO3ZlcnRpY2FsLWFsaWduOm1pZGRsZX0jc3VwcG9ydENvdmVyPmRpdjpmaXJzdC1jaGlsZCAuY2hhdHstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7aGVpZ2h0OjI1NnB4O2JhY2tncm91bmQtY29sb3I6IzRhYTI5YzttYXJnaW46MCA1MHB4IDAgYXV0bzt0ZXh0LWFsaWduOmNlbnRlcjtkaXNwbGF5OnRhYmxlO2N1cnNvcjpwb2ludGVyfSNzdXBwb3J0Q292ZXI+ZGl2OmZpcnN0LWNoaWxkIC5jaGF0IGRpdntkaXNwbGF5OnRhYmxlLWNlbGw7dmVydGljYWwtYWxpZ246bWlkZGxlfSNzdXBwb3J0Q292ZXI+ZGl2OmZpcnN0LWNoaWxkIC5jaGF0IGRpdiBsYWJlbHtkaXNwbGF5OmJsb2NrO2NvbG9yOiNmZmY7cGFkZGluZzoxMHB4IDQwcHg7Y3Vyc29yOnBvaW50ZXJ9I3N1cHBvcnRDb3ZlciAuY29udGFjdF91c3tmb250LXNpemU6MzVweDt0ZXh0LWFsaWduOmxlZnQ7cGFkZGluZzozMHB4IGNhbGMoMjBweCArIDQlKTtwYWRkaW5nLWJvdHRvbToyMHB4O2NvbG9yOiNmZmY7bGV0dGVyLXNwYWNpbmc6MnB4fSNzdXBwb3J0Q292ZXIgLnNwbGl0dGVye3dpZHRoOjQ5JTtmb250LXNpemU6MDtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjp0b3B9I3N1cHBvcnRDb3ZlciAuc3BsaXR0ZXIgbGFiZWx7Zm9udC1zaXplOjE0cHg7Y29sb3I6I0ZGRiFpbXBvcnRhbnR9I3N1cHBvcnRDb3ZlciAuc3BsaXR0ZXI+ZGl2e21hcmdpbjowIDUwcHg7dGV4dC1hbGlnbjpsZWZ0fSNzdXBwb3J0Q292ZXIgLnNwbGl0dGVyPmRpdi5zbW9sbFBhZGRpbmd7cGFkZGluZy10b3A6MjBweH0jc3VwcG9ydENvdmVyIC5zcGxpdHRlcj5kaXYuc21vbGxQYWRkaW5nLm1hcmdpbi1yaWdodHttYXJnaW4tcmlnaHQ6MTE4cHh9I3N1cHBvcnRDb3ZlciAuc3BsaXR0ZXIgLnNlYy12aWV3IGRpdiAuc3Rhcntjb2xvcjojZmZmfSNzdXBwb3J0Q292ZXIgaW5wdXRbdHlwZT10ZXh0XSwjc3VwcG9ydENvdmVyIGlucHV0W3R5cGU9cGFzc3dvcmRdLCNzdXBwb3J0Q292ZXIgLmlucHV0dGV4dHt3aWR0aDoxMDAlO2JhY2tncm91bmQtY29sb3I6IzU0YjNhZDtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjZmZmO2NvbG9yOiNGRkZ9I3N1cHBvcnRDb3ZlciB0ZXh0YXJlYS5pbnB1dHRleHR7aGVpZ2h0OjEzNXB4O3BhZGRpbmc6MTBweCA1cHg7Ym9yZGVyOjFweCBzb2xpZCAjZmZmO2JveC1zaXppbmc6Ym9yZGVyLWJveDtyZXNpemU6bm9uZX0jc3VwcG9ydENvdmVyIG9wdGlvbntiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Y29sb3I6IzMxMzEzMTtmb250LXNpemU6MTJweH0jc3VwcG9ydENvdmVyIHNlbGVjdHtjdXJzb3I6cG9pbnRlcjtjb2xvcjojZmZmfSNzdXBwb3J0Q292ZXIgc2VsZWN0Pm9wdGlvbjpob3ZlcntiYWNrZ3JvdW5kOiNGNEY0RjIhaW1wb3J0YW50fSNzdXBwb3J0Q292ZXIgLmJ1dHRvbkNvdmVye2RpcmVjdGlvbjpydGw7cGFkZGluZzowIDI2cHh9I3N1cHBvcnRDb3ZlciBidXR0b257Zm9udC1zaXplOjE0cHg7bWFyZ2luOjEwcHggMzJweDtwYWRkaW5nOjhweCA0NnB4O2Rpc3BsYXk6YmxvY2s7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiM1NGIzYWQ7Ym9yZGVyOnNvbGlkIDJweCAjZmZmfSNzdXBwb3J0Q292ZXIgLnNlYy12YWxpZGF0ZS1pbnZhbGlkLC5zZWMtdmFsaWRhdGUtaW52YWxpZDpob3Zlcntjb2xvcjojODJjOGMzIWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOiM1NGIzYWQhaW1wb3J0YW50O2JvcmRlcjpzb2xpZCAycHggIzgyYzhjMyFpbXBvcnRhbnR9I3N1cHBvcnRDb3ZlciAudmFsaWRhdGUtZGlyZWN0aXZlIGlucHV0LnZhbGlkYXRlSW52YWxpZHtib3JkZXItYm90dG9tOnNvbGlkICNmZmYgMXB4IWltcG9ydGFudH0jc3VwcG9ydENvdmVyIGJ1dHRvbjpob3Zlcntjb2xvcjojNTRiM2FkO2JhY2tncm91bmQtY29sb3I6I2ZmZn0jc3VwcG9ydENvdmVyIGxhYmVsLmNlbnRlcntkaXNwbGF5OmJsb2NrO3BhZGRpbmc6MTBweCAwfUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6MTM2OHB4KXsjc3VwcG9ydENvdmVye3dpZHRoOjEwMCV9fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6MTE1MHB4KXsjc3VwcG9ydENvdmVyPmRpdjpmaXJzdC1jaGlsZCAuY2hhdHttYXJnaW46MCAxMHB4IDAgYXV0b30jc3VwcG9ydENvdmVyIC5zcGxpdHRlcj5kaXYuc21vbGxQYWRkaW5nLm1hcmdpbi1yaWdodHttYXJnaW4tcmlnaHQ6MzBweH19QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDoxMDAwcHgpeyNzdXBwb3J0Q292ZXI+ZGl2e3dpZHRoOjEwMCV9fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6NzY4cHgpeyNzZXBhcmF0b3J7aGVpZ2h0OjB9I3N1cHBvcnRDb3ZlcnttYXJnaW4tdG9wOjB9I3N1cHBvcnRDb3ZlciAuc3BsaXR0ZXJ7d2lkdGg6MTAwJX0jc3VwcG9ydENvdmVyIC5idXR0b25Db3ZlcntwYWRkaW5nOjIwcHggMCAwO2JveC1zaXppbmc6Ym9yZGVyLWJveDt3aWR0aDoxMDAlO21hcmdpbjowfSNzdXBwb3J0Q292ZXIgLnNwbGl0dGVyPmRpdnttYXJnaW46MCAyNnB4O3RleHQtYWxpZ246bGVmdH0jc3VwcG9ydENvdmVyPmRpdnt3aWR0aDoxMDAlO2Rpc3BsYXk6YmxvY2t9I3N1cHBvcnRDb3Zlcj5kaXY6Zmlyc3QtY2hpbGR7d2lkdGg6YXV0bztkaXNwbGF5OmluaGVyaXR9fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6NjAwcHgpeyNzdXBwb3J0Q292ZXI+ZGl2e21hcmdpbjowfSNzdXBwb3J0Q292ZXIgYnV0dG9ue3dpZHRoOjkwJTttYXJnaW4tcmlnaHQ6YXV0bzttYXJnaW4tbGVmdDphdXRvfSNzdXBwb3J0Q292ZXIgLmNvbnRhY3RfdXN7cGFkZGluZzoyMHB4IGNhbGMoMjBweCArIDQlKTtwYWRkaW5nLXRvcDo1MHB4fSNzdXBwb3J0Q292ZXIgLmJ1dHRvbkNvdmVye3dpZHRoOjEwMCV9fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6NDgwcHgpe30jc2VhcmNoUGFnZSAjbW9iaWxlU2VhcmNoe3Bvc2l0aW9uOmZpeGVkO3RvcDo2NXB4O3otaW5kZXg6OTk5O3dpZHRoOjEwMCV9QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo0ODBweCl7I3NlYXJjaFBhZ2UgI21vYmlsZVNlYXJjaHtwb3NpdGlvbjpzdGF0aWN9fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6MTE4OHB4KXsjc2VhcmNoUGFnZT4jc2VhcmNoUmVzdWx0TGFiZWx7ZGlzcGxheTpub25lfSNzZWFyY2hQYWdlPmRpdj5uYXYucGFnZXMuY2F0ZWdvcnlEYXRhRml4ZWROYXZ7dG9wOjQwcHh9I3NlYXJjaFBhZ2U+ZGl2PmRpdiBkaXYuY2F0ZWdvcnktdHlwZS1wcm9kdWN0c3ttYXJnaW4tdG9wOi0xMDBweH19QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo3NjhweCl7I3NlYXJjaFBhZ2U+I3NlYXJjaFJlc3VsdExhYmVse2Rpc3BsYXk6bm9uZX0jc2VhcmNoUGFnZT5kaXY+bmF2LnBhZ2VzLmNhdGVnb3J5RGF0YUZpeGVkTmF2e3RvcDo0MHB4fSNzZWFyY2hQYWdlPmRpdj5uYXYucGFnZXMuY2F0ZWdvcnlEYXRhRml4ZWROYXZ7cG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50fSNzZWFyY2hQYWdlPmRpdj5uYXYucGFnZXMuY2F0ZWdvcnlEYXRhRml4ZWROYXZ7dG9wOjQwcHh9I3NlYXJjaFBhZ2U+ZGl2PmRpdiBkaXYuY2F0ZWdvcnktdHlwZS1wcm9kdWN0c3twYWRkaW5nLXRvcDo0MHB4O21hcmdpbi10b3A6MH19LlBvcFVwe3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7cG9zaXRpb246Zml4ZWQ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC41KTt6LWluZGV4Ojk5OTk7ZGlzcGxheTpub25lfS5Qb3BVcD5kaXY6bnRoLWNoaWxkKDEpe3BhZGRpbmc6MjBweCA1MHB4O3dpZHRoOjM1MHB4O2JhY2tncm91bmQtY29sb3I6I2ZmZjtsZWZ0OjA7cmlnaHQ6MDttYXJnaW4tbGVmdDphdXRvO21hcmdpbi1yaWdodDphdXRvO3Bvc2l0aW9uOmFic29sdXRlO3RvcDotMTgwJX0uUG9wVXAuQmxvY2tQb3BVcD5kaXY6YmVmb3Jle2NvbnRlbnQ6IiI7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtwb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsLjYpO3otaW5kZXg6MTA7bGVmdDowO3RvcDowfS5Qb3BVcCBkaXYgLmxvYWRlcnt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3Bvc2l0aW9uOmFic29sdXRlO3RleHQtYWxpZ246Y2VudGVyO3otaW5kZXg6MTAwMDA7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC42KTtwYWRkaW5nOjA7bWFyZ2luOjA7dG9wOjA7bGVmdDowfS5sb2dpblBvcFVwQ2xvc2VCdG57cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZC1jb2xvcjojZmZmO3RvcDoxNnB4O3JpZ2h0OjE2cHh9LmNsb3NlQnRue2hlaWdodDoxNnB4O3dpZHRoOjE2cHg7YmFja2dyb3VuZC1pbWFnZTp1cmwoaW1hZ2VzL2Nsb3NlRGFyay5wbmcpO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXNpemU6MTAwJTtjdXJzb3I6cG9pbnRlcn1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjQ4MHB4KXsuUG9wVXB7dG9wOjA7b3ZlcmZsb3cteTpzY3JvbGx9LlBvcFVwPmRpdjpudGgtY2hpbGQoMSl7d2lkdGg6MTAwJTtib3gtc2l6aW5nOmJvcmRlci1ib3h9fS5lLXNlYy1wbHVzLW1pbnVze2JvcmRlcjpzb2xpZCAxcHggI2QwZDBkMDtkaXNwbGF5OmlubGluZS1ibG9jaztoZWlnaHQ6MjRweDtmb250LXNpemU6MDstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7cG9zaXRpb246cmVsYXRpdmV9LnNlYy1wbHVzLW1pbnVzLWRpc2FibGV7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTppbmxpbmUtYmxvY2s7aGVpZ2h0OjI0cHh9LnNlYy1wbHVzLW1pbnVzLWRpc2FibGU6YmVmb3Jle2NvbnRlbnQ6IiI7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDI0NSwyMDAsMTkyLC4zKTt6LWluZGV4OjkwfS5zZWMtcGx1cy1taW51cy1kaXNhYmxlIGlucHV0e2NvbG9yOiNiMmIyYjJ9LmUtc2VjLXBsdXMtbWludXMsLmUtc2VjLXBsdXMtbWludXMgKnttYXJnaW46MDtwYWRkaW5nOjA7Ym94LXNpemluZzpib3JkZXItYm94fS5lLXNlYy1wbHVzLW1pbnVzIGRpdntoZWlnaHQ6MTAwJTtkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDoyNHB4O3Bvc2l0aW9uOnJlbGF0aXZlO2N1cnNvcjpkZWZhdWx0fS5lLXNlYy1wbHVzLW1pbnVzIGRpdjpub3QoLmRpc2FibGVCdG4pOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2YzZjNmMztjdXJzb3I6cG9pbnRlcn0uZS1zZWMtcGx1cy1taW51cyBkaXYuZGlzYWJsZUJ0bi5taW51czpiZWZvcmUsLmUtc2VjLXBsdXMtbWludXMgZGl2LmRpc2FibGVCdG4ucGx1czpiZWZvcmUsLmUtc2VjLXBsdXMtbWludXMgZGl2LmRpc2FibGVCdG4ucGx1czphZnRlcntiYWNrZ3JvdW5kLWNvbG9yOiNhNWE1YTV9LmUtc2VjLXBsdXMtbWludXMgZGl2Lm1pbnVzOmJlZm9yZSwuZS1zZWMtcGx1cy1taW51cyBkaXYucGx1czpiZWZvcmUsLmUtc2VjLXBsdXMtbWludXMgZGl2LnBsdXM6YWZ0ZXJ7Y29udGVudDonJztwb3NpdGlvbjphYnNvbHV0ZTttYXJnaW46MCBhdXRvO2Rpc3BsYXk6YmxvY2s7cmlnaHQ6MDtsZWZ0OjB9LmUtc2VjLXBsdXMtbWludXMgZGl2Lm1pbnVzOmJlZm9yZSwuZS1zZWMtcGx1cy1taW51cyBkaXYucGx1czpiZWZvcmV7dG9wOjExcHg7YmFja2dyb3VuZC1jb2xvcjojNDI0MjQyO2hlaWdodDoxcHg7d2lkdGg6OHB4fS5lLXNlYy1wbHVzLW1pbnVzIGRpdi5wbHVzOmJlZm9yZXt3aWR0aDo5cHh9LmUtc2VjLXBsdXMtbWludXMgZGl2LnBsdXM6YWZ0ZXJ7dG9wOjdweDtiYWNrZ3JvdW5kLWNvbG9yOiM0MjQyNDI7aGVpZ2h0OjlweDt3aWR0aDoxcHh9LmUtc2VjLXBsdXMtbWludXMgZGl2Om50aC1jaGlsZCgyKXt3aWR0aDozMnB4fS5lLXNlYy1wbHVzLW1pbnVzPmRpdj5pbnB1dHtib3JkZXI6MDtvdXRsaW5lOjA7Zm9udC1zaXplOjE0cHg7dGV4dC1hbGlnbjpjZW50ZXI7Ym9yZGVyLWxlZnQ6c29saWQgMXB4ICNkMGQwZDA7Ym9yZGVyLXJpZ2h0OnNvbGlkIDFweCAjZDBkMGQwO3dpZHRoOjEwMCU7dG9wOjA7aGVpZ2h0OjEwMCU7cG9zaXRpb246YWJzb2x1dGV9LnNlYy1wbHVzLW1pbnVzLWRpc2FibGUgLmUtc2VjLXBsdXMtbWludXMgZGl2Lm1pbnVzOmJlZm9yZSwuc2VjLXBsdXMtbWludXMtZGlzYWJsZSAuZS1zZWMtcGx1cy1taW51cyBkaXYucGx1czpiZWZvcmUsLnNlYy1wbHVzLW1pbnVzLWRpc2FibGUgLmUtc2VjLXBsdXMtbWludXMgZGl2LnBsdXM6YWZ0ZXJ7YmFja2dyb3VuZC1jb2xvcjojYjJiMmIyfS5pbmZvLWRlbW97ZGlzcGxheTppbmxpbmUtYmxvY2s7cGFkZGluZzoyMnB4IDIzcHg7cG9zaXRpb246cmVsYXRpdmU7Ym9yZGVyOnNvbGlkIDFweCAjNDU0NTQ1O21hcmdpbjowIGF1dG99LmluZm8tZGVtbz5kaXZ7ZGlzcGxheTpibG9jaztwYWRkaW5nOjAgMTlweDtwb3NpdGlvbjpyZWxhdGl2ZTtib3JkZXItbGVmdDpzb2xpZCAycHggIzQ1NDU0NX0uaW5mby1kZW1vPmRpdj5oNHtiYWNrZ3JvdW5kLWltYWdlOnVybCgvY3NzL2ltYWdlcy9CZWxsLnBuZyk7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246MCA1MCU7Zm9udC1zaXplOjIwcHg7Zm9udC13ZWlnaHQ6NTAwO3RleHQtaW5kZW50OjIzcHg7cGFkZGluZzozcHg7dG9wOi0zcHg7cG9zaXRpb246cmVsYXRpdmV9LmluZm8tZGVtbz5kaXY+cHtmb250LXNpemU6MTRweDtmb250LXdlaWdodDozMDA7bWFyZ2luLXRvcDowO2NvbG9yOiM4MjgyODJ9LnNlYy12aWV3e3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2t9LnNlYy12aWV3IGRpdi5pbnB1dENvbnRhaW5lcntwYWRkaW5nLXRvcDoyMnB4O2hlaWdodDo4M3B4fS5zZWMtdmlldyBkaXYgbGFiZWwsLnNlYy12aWV3IGRpdiAuc2VsZWN0TGlzdCwuc2VjLXNlbmRlcnstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9LnNlYy12aWV3IGRpdiBpbnB1dCwuc2VjLXZpZXcgZGl2IC5zZWxlY3RMaXN0IHNwYW57d2lkdGg6MTAwJTtkaXNwbGF5OmJsb2NrO3BhZGRpbmc6M3B4O2ZvbnQtc2l6ZToxNHB4O3doaXRlLXNwYWNlOm5vd3JhcH0uc2VjLXZpZXcgZGl2IC5zZWxlY3RMaXN0IHNwYW57cGFkZGluZzo2cHggOHB4fS5zZWMtdmlldyAqe3BhZGRpbmc6MDttYXJnaW46MDtib3gtc2l6aW5nOmJvcmRlci1ib3h9aW5wdXQ6LXdlYmtpdC1hdXRvZmlsbHstd2Via2l0LWJveC1zaGFkb3c6aW5zZXQgMCAwIDAgOTk5OXB4ICNmZmZ9LnNlYy12aWV3IGRpdiAuc2VsZWN0TGlzdHtmbG9hdDpyaWdodDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTJweDttYXgtaGVpZ2h0OjE2MXB4O3dpZHRoOjEwMCU7Ym9yZGVyOnNvbGlkIDFweCAjZDVkNWQ1O292ZXJmbG93OmhpZGRlbjtvdmVyZmxvdy15OnNjcm9sbDtkaXNwbGF5Om5vbmU7Y3Vyc29yOnBvaW50ZXI7ei1pbmRleDoyMH0uc2VjLXZpZXcgZGl2IC5zZWxlY3RMaXN0IHNwYW57YmFja2dyb3VuZC1jb2xvcjojZmZmO3RyYW5zaXRpb246YWxsIC4ycyBlYXNlfS5zZWMtdmlldyBkaXYgLnNlbGVjdExpc3Qgc3BhbjpsYXN0LWNoaWxke2JvcmRlci1ib3R0b206c29saWQgMXB4IHJnYmEoMjEzLDIxMywyMTMsMCl9LnNlYy12aWV3IGRpdiAuc2VsZWN0TGlzdCBzcGFuOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2YwZjBmMH0uc2VjLXZpZXcgZGl2IGxhYmVse3Bvc2l0aW9uOmFic29sdXRlO3RvcDoyMnB4O2xlZnQ6MDt0cmFuc2l0aW9uOmFsbCAuNHMgZWFzZSx0b3AgLjJzIGVhc2UsdHJhbnNmb3JtIC40cyBlYXNlO3RyYW5zZm9ybS1vcmlnaW46MDtjb2xvcjojNWQ1ZDVkfS5zZWMtdmlldyBkaXYgLnN0YXJ7ZGlzcGxheTppbmxpbmUtYmxvY2s7cG9zaXRpb246YWJzb2x1dGU7dG9wOjI5cHg7bGVmdDotMTBweDtmb250LXNpemU6MTRweDtjb2xvcjojZmY0NTRmfS5zZWMtdmlldyBkaXYgbGFiZWwuc2VsZWN0LXZhbHVle2hlaWdodDozMXB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNDRUNDQ0M7Y3Vyc29yOnBvaW50ZXI7Zm9udC1zaXplOjE0cHghaW1wb3J0YW50fS5zZWMtdmlldyBkaXYgbGFiZWwuc2VsZWN0LXZhbHVlOmJlZm9yZXtjb250ZW50OiIiO3Bvc2l0aW9uOmFic29sdXRlO3RvcDoxNHB4O3JpZ2h0OjEwcHg7Ym9yZGVyLXRvcDpzb2xpZCA0cHggIzVlNWU1ZTtib3JkZXItbGVmdDpzb2xpZCA0cHggdHJhbnNwYXJlbnQ7Ym9yZGVyLXJpZ2h0OnNvbGlkIDRweCB0cmFuc3BhcmVudH0uc2VjLXZpZXcgZGl2IGxhYmVsLmFuaW1hdGVke3RvcDoycHg7dHJhbnNmb3JtOnNjYWxlKDAuOCwxKTtwYWRkaW5nOjAgM3B4O21hcmdpbjo1cHggMDt0cmFuc2l0aW9uOmFsbCAuNnMgZWFzZSx0cmFuc2Zvcm0gLjJzIGVhc2U7Y29sb3I6IzJhMmEyYX0uc2VjLXZpZXcgZGl2IGxhYmVsLmludmFsaWR7Y29sb3I6I2ZmNDU0Zjt0b3A6NTFweDtmb250LXNpemU6MTNweH0uc2VjLXZpZXcgZGl2IGlucHV0LC5zZWMtdmlldyBkaXYgc2VsZWN0e21hcmdpbjo0cHggMCAwO291dGxpbmU6MDtjdXJzb3I6dGV4dDtib3JkZXI6MDtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjQ0VDQ0NDO3RyYW5zaXRpb246Ym9yZGVyLWJvdHRvbSAuNHMgZWFzZX0uc2VjLXZpZXcgZGl2IHNlbGVjdHt3aWR0aDoxMDAlO2ZvbnQtc2l6ZToxNHB4O3BhZGRpbmc6MnB4IDB9LnNlYy12aWV3IGRpdiB0ZXh0YXJlYXttYXJnaW46MDtvdXRsaW5lOjA7Y3Vyc29yOnRleHQ7Ym9yZGVyOjA7Ym9yZGVyOjFweCBzb2xpZCAjQ0VDQ0NDO3dpZHRoOjEwMCU7aGVpZ2h0OjExNXB4O3Jlc2l6ZTpub25lfS5zZWMtdmlldyBkaXYuY2FyZC1udW1iZXItZm91ci1kaWdpdHN7cG9zaXRpb246cmVsYXRpdmU7cGFkZGluZy1sZWZ0OjNweH0uc2VjLXZpZXcgZGl2LmNhcmQtbnVtYmVyLWZvdXItZGlnaXRzOmJlZm9yZXtkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjphYnNvbHV0ZTtjb250ZW50OiI0ODg2Ijtib3R0b206MTBweDtmb250LXNpemU6MTRweH0uc2VjLXZpZXcgZGl2LmNhcmQtbnVtYmVyLWZvdXItc3RhcjpiZWZvcmV7Y29udGVudDoiKioqKiJ9LnNlYy12aWV3IGRpdiBpbnB1dC5jYXJkLW51bWJlci1mb3VyLWRpZ2l0c3t0ZXh0LWluZGVudDozNXB4fS5zZWMtdmlldyBkaXYuY2FyZC1udW1iZXItZm91ci1zdGFyIC5jYXJkLW51bWJlci1mb3VyLWRpZ2l0c3t0ZXh0LWluZGVudDozNXB4fS5zZWMtdmlldyBkaXYgaW5wdXQuaW52YWxpZHtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjZmY0NTRmfS5zZWMtdmlldyBkaXYgbGFiZWwuaW52YWxpZHtjb2xvcjojZmY0NTRmfS5zZWMtdmlldyB1bHtsaXN0LXN0eWxlOm5vbmV9LnNlYy12aWV3IHVsIGxpe2Rpc3BsYXk6bm9uZX0uc2VjLXZpZXcgdWwgbGkgYXtjb2xvcjojODI4MjgyO2ZvbnQtc2l6ZToxMnB4O3BhZGRpbmc6MnB4IDA7dGV4dC1kZWNvcmF0aW9uOm5vbmV9LnNlYy12aWV3IGRpdiBpbnB1dFt0eXBlPWNoZWNrYm94XXt3aWR0aDoxNnB4O2hlaWdodDoxN3B4fS5zZWMtdmlldyBkaXYgbGFiZWwuY2hlY2tib3hUZXh0e2N1cnNvcjpwb2ludGVyO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbi1sZWZ0OjIycHg7dG9wOi0ycHg7d2lkdGg6MTAwJTtmb250LXNpemU6MTNweDt0cmFuc2Zvcm06c2NhbGUoMSl9LnNlYy1zZW5kZXJ7ZGlzcGxheTppbmxpbmUtYmxvY2s7Y3Vyc29yOnBvaW50ZXJ9LnNlYy1zZW5kZXIgLnNlYy1zZW5kZXItYXt0cmFuc2l0aW9uOmFsbCBsaW5lYXIgLjJzO2JvcmRlcjpzb2xpZCAycHggIzJhMmEyYTtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2NvbG9yOiMyYTJhMmE7d2lkdGg6MTAwJTtkaXNwbGF5OmJsb2NrO3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtc2l6ZToxMnB4O3BhZGRpbmc6OHB4IDEzcHg7bGV0dGVyLXNwYWNpbmc6LjVweDtmb250LXdlaWdodDo2MDA7Ym94LXNpemluZzpib3JkZXItYm94fS5zZWMtc2VuZGVyOmhvdmVyIC5zZWMtc2VuZGVyLWF7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiMyYTJhMmF9LnNlYy1zZW5kZXIgLnNlYy1zZW5kZXItYS5pbnZhbGlkLC5zZWMtc2VuZGVyIC5zZWMtc2VuZGVyLWEuaW52YWxpZDpob3Zlcntjb2xvcjojYjJiMmIyIWltcG9ydGFudDtib3JkZXI6c29saWQgMnB4ICNkMWQxZDEhaW1wb3J0YW50O2N1cnNvcjpkZWZhdWx0O2JhY2tncm91bmQtY29sb3I6I2ZmZn1jb25maXJtYXRpb24tbW9kYWx7ZGlzcGxheTpub25lO3Bvc2l0aW9uOmZpeGVkO3otaW5kZXg6OTk5O2xlZnQ6MDt0b3A6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO292ZXJmbG93OmF1dG87YmFja2dyb3VuZC1jb2xvcjojMDAwO2JhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuNSl9Lm1vZGFsLWNvbnRlbnR7YmFja2dyb3VuZC1jb2xvcjojZmVmZWZlO21hcmdpbjoyMCUgYXV0bztwYWRkaW5nOjEwcHg7Ym9yZGVyOjFweCBzb2xpZCAjODg4O3dpZHRoOjM1MHB4fS5jbG9zZXtjb2xvcjojYWFhO2Zsb2F0OnJpZ2h0O2ZvbnQtc2l6ZToyOHB4O2ZvbnQtd2VpZ2h0OjcwMH0uY29uZmlybWF0aW9uLW1vZGFsLWNvbnRlbnQgbGFiZWx7dGV4dC1hbGlnbjpjZW50ZXI7ZGlzcGxheTpibG9jazttYXJnaW46MCBhdXRvfS5jb25maXJtYXRpb24tbW9kYWwtY29udGVudCBsYWJlbDpmaXJzdC1jaGlsZHtwYWRkaW5nLXRvcDoyMHB4fS5jbG9zZTpob3ZlciwuY2xvc2U6Zm9jdXN7Y29sb3I6IzAwMDt0ZXh0LWRlY29yYXRpb246bm9uZTtjdXJzb3I6cG9pbnRlcn0uY29uZi1tb2RhbC1idG57Zm9udC1zaXplOjE0cHg7Y29sb3I6IzJhMmEyYTtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O3dpZHRoOjEzN3B4O21hcmdpbjoyNnB4IDEwcHg7aGVpZ2h0OjQwcHh9LmNvbmYtbW9kYWwtYnRuOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzJhMmEyYTtjb2xvcjojZmZmfS5jb25mLWNsb3NlLWJ0bntmbG9hdDpyaWdodH0uY29uZi1tb2RhbC1idG4tY29udGFpbmVye3RleHQtYWxpZ246Y2VudGVyfS5jb25mLWJ0bi1yZWd1bGFye2ZvbnQtZmFtaWx5OmxvY2FsUm9ib3RvUmVndWxhcn0uY29uZi1idG4tYm9sZCwuY29uZi1idG4tcmVndWxhcntkaXNwbGF5OmlubGluZSFpbXBvcnRhbnQ7Zm9udC1zaXplOjEycHh9LmNvbmYtYnRuLWJvbGR7Zm9udC1mYW1pbHk6bG9jYWxSb2JvdG9Cb2xkfS5jb25mLWxhcmdlLXRoaW57Zm9udC1zaXplOjI0cHg7Zm9udC1mYW1pbHk6bG9jYWxSb2JvdG9UaGlufS5jb25mLWxhcmdlLXJlZ3VsYXJ7Zm9udC1zaXplOjI0cHh9LlBvcFVwIGltZ3tkaXNwbGF5OmJsb2NrO21hcmdpbi1sZWZ0OmF1dG87bWFyZ2luLXJpZ2h0OmF1dG87aGVpZ2h0OjM0cHh9LlBvcFVwIGxhYmVse2Rpc3BsYXk6YmxvY2t9LlBvcFVwIGltZ3tkaXNwbGF5OmJsb2NrO21hcmdpbjo1cHggYXV0b30uZmFjZWJvb2t7Y3Vyc29yOnBvaW50ZXI7Y29sb3I6I2ZmZjtkaXNwbGF5OmJsb2NrO2ZvbnQtd2VpZ2h0OjEwMDtwYWRkaW5nOjE1cHg7bWFyZ2luOjIwcHggMDt0ZXh0LWFsaWduOmNlbnRlcjtiYWNrZ3JvdW5kLWNvbG9yOiM0NjYyOUU7YmFja2dyb3VuZC1pbWFnZTp1cmwoLi4vLi4vY3NzL2ltYWdlcy9GYWNlYm9va0xvZ28ucG5nKTtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjoxNiUgY2VudGVyfS5vcntkaXNwbGF5OmJsb2NrfS5sb2dpbiAuc2VjLXNlbmRlcnt3aWR0aDoxMDAlfS5sb2dpbiAuc2VjLXNlbmRlciAuc2VjLXNlbmRlci1he2ZvbnQtc2l6ZToxN3B4O21hcmdpbjozNnB4IDAgNXB4O3BhZGRpbmc6MTJweCAwfS5mb3Jnb3QtUGFzc3dvd2R7ZGlzcGxheTpibG9jaztvcGFjaXR5Oi41O2N1cnNvcjpwb2ludGVyO3BhZGRpbmc6OHB4IDA7dGV4dC1hbGlnbjpjZW50ZXJ9LmNyZWF0ZS1uZXctYWNjb3VudCwuZm9yZ290LVBhc3N3b3dke2NvbG9yOiMwMDB9LmNyZWF0ZS1uZXctYWNjb3VudHtjdXJzb3I6cG9pbnRlcjt0ZXh0LWFsaWduOmNlbnRlcjtkaXNwbGF5OmJsb2NrfS5sb2dpbntwb3NpdGlvbjpyZWxhdGl2ZX0ubG9naW4gLmludmFsaWR7Y29sb3I6I2ZmNDU0Zn1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjYwMHB4KXsuUG9wVXA+ZGl2Om50aC1jaGlsZCgxKXttYXJnaW4tdG9wOjEwJTtwYWRkaW5nOjIwcHggMzhweH0uUG9wVXAgaW1ne2Rpc3BsYXk6bm9uZX19QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo0ODBweCl7LlBvcFVwPmRpdjpudGgtY2hpbGQoMSl7d2lkdGg6ODAlfS5mYWNlYm9va3tiYWNrZ3JvdW5kLWltYWdlOm5vbmU7YmFja2dyb3VuZC1wb3NpdGlvbjoyMXB4IGNlbnRlcn19I3JlZ2lzdGVyQ292ZXJ7bWF4LXdpZHRoOjEyNjBweDttYXJnaW46MCBhdXRvO3BhZGRpbmc6MTEwcHggMzBweCAzMHB4fSNpbmZvRGVtbywjZm9ybXtkaXNwbGF5OnRhYmxlLWNlbGw7dmVydGljYWwtYWxpZ246dG9wfSNmb3Jte3dpZHRoOjEwMCV9I2luZm9EZW1ve3doaXRlLXNwYWNlOm5vd3JhcH0jcmVnaXN0ZXJQYWdlIC5zcGxpdGVye3doaXRlLXNwYWNlOm5vd3JhcDt3aWR0aDo5MCV9I3JlZ2lzdGVyUGFnZSAuc3BsaXRlciAuc2VjLXZpZXd7d2lkdGg6NTAlO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3BhZGRpbmctcmlnaHQ6ODBweDtib3gtc2l6aW5nOmJvcmRlci1ib3g7dmVydGljYWwtYWxpZ246dG9wfSNyZWdpc3RlclBhZ2UgLnNwbGl0ZXIgLnNlYy12aWV3IGRpdiBsYWJlbC5zZWxlY3QtdmFsdWUsI3JlZ2lzdGVyUGFnZSAuc3BsaXRlciAuc2VjLXZpZXcgZGl2LnNlbGVjdExpc3R7d2lkdGg6ODIlfSNmb3JtQ292ZXI+ZGl2e21hcmdpbi1ib3R0b206NTZweH0jZm9ybUNvdmVyPmRpdiBoM3ttYXJnaW46MzBweCAwIDEzcHg7bGV0dGVyLXNwYWNpbmc6MXB4O2ZvbnQtc2l6ZToxNnB4fSNpbmZvRGVtbyAuaW5mby1kZW1ve21hcmdpbjozNHB4IDc1cHggMCAwfSNyZWdpc3RlclBhZ2UgLmludmFsaWR7Y29sb3I6I2ZmNDU0ZjttYXJnaW4tYm90dG9tOjEwcHg7d2hpdGUtc3BhY2U6bm93cmFwfSNmb3JtQ292ZXIgLm9wdGlvbnttYXJnaW46M3B4IDA7ZGlzcGxheTpibG9ja30jZm9ybUNvdmVyIC5vcHRpb24ubWFyZ2luVG9we21hcmdpbi10b3A6MzBweH0jZm9ybUNvdmVyIC5vcHRpb24gc3Bhbnt3aWR0aDoxMDAlO2ZvbnQtc2l6ZToxNHB4O2NvbG9yOiM4MjgyODJ9LnJlbW92ZVNwYWNlc3t3aWR0aDoxMDAlO21hcmdpbjowfSNyZWdpc3RlclBhZ2UgLnNlYy1zZW5kZXIgLnNlYy1zZW5kZXItYXt3aWR0aDozMzBweDtmb250LXNpemU6MTZweDttYXJnaW46MjBweCBhdXRvfS5BTFJFQURZX0hBVkVfQU5fQUNDT1VOVHtkaXNwbGF5OmJsb2NrO3RleHQtYWxpZ246Y2VudGVyO21hcmdpbi1ib3R0b206NDBweH0uQUxSRUFEWV9IQVZFX0FOX0FDQ09VTlQgYXtmb250LXNpemU6MTJweDtjb2xvcjojMmEyYTJhO2N1cnNvcjpwb2ludGVyfSNmb3JtIC52YWxpZHtjb2xvcjojMGYwIWltcG9ydGFudH0jZm9ybSAuY2VudGVye2Rpc3BsYXk6YmxvY2s7dGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzoyMHB4fSNmb3JtIC5pbnZhbGlkSW5wdXR7Ym9yZGVyLWJvdHRvbTpzb2xpZCAjZmY0NTRmIDFweH0jZm9ybUNvdmVyIC52YWxpZGF0ZS1kaXJlY3RpdmV7d2lkdGg6NDklfSNmb3JtQ292ZXI+ZGl2IGlucHV0W3R5cGU9dGV4dF0sI2Zvcm1Db3Zlcj5kaXYgaW5wdXRbdHlwZT1wYXNzd29yZF0sI2Zvcm1Db3Zlcj5kaXYgLmlucHV0dGV4dHt9I3JlZ2lzdGVyU3VjY2Vzc0NvdmVye3BhZGRpbmc6MTAwcHggMDtmb250LXNpemU6MjZweH0jcmVnaXN0ZXJTdWNjZXNzQ292ZXIgaDF7fSNyZWdpc3RlclN1Y2Nlc3NDb3ZlciAuc3VjY2Vzc01lc3NhZ2V7ZGlzcGxheTppbmxpbmUtYmxvY2s7cG9zaXRpb246cmVsYXRpdmV9I3JlZ2lzdGVyU3VjY2Vzc0NvdmVyIC5zdWNjZXNzTWVzc2FnZTpiZWZvcmV7Y29udGVudDoiIjtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NnB4O2xlZnQ6LTI5cHg7d2lkdGg6MjBweDtoZWlnaHQ6MTBweDtib3JkZXItYm90dG9tOnNvbGlkICM1NGIzYWQgNHB4O2JvcmRlci1sZWZ0OnNvbGlkICM1NGIzYWQgNHB4O3RyYW5zZm9ybTpyb3RhdGUoLTQ4ZGVnKTt6LWluZGV4OjEwfSNyZWdpc3RlclN1Y2Nlc3NDb3ZlciAuYS1idXR0b257cGFkZGluZzoxM3B4IDMwcHg7bWFyZ2luOjMwcHggMCA4MHB4O2ZvbnQtc2l6ZToxNXB4O2ZvbnQtd2VpZ2h0OjUwMH1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjEyMDBweCl7I3JlZ2lzdGVyUGFnZSAuc3BsaXRlcnt3aWR0aDoxMDAlfX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjk0MHB4KXsjaW5mb0RlbW8sI2Zvcm17ZGlzcGxheTpibG9jazt3aWR0aDoxMDAlfSNpbmZvRGVtb3t0ZXh0LWFsaWduOmNlbnRlcn0jaW5mb0RlbW8gLmluZm8tZGVtb3t0ZXh0LWFsaWduOmxlZnQ7bWFyZ2luOjAgYXV0bztkaXNwbGF5OmlubGluZS1ibG9ja30jcmVnaXN0ZXJQYWdlIC5zcGxpdGVyIC5zZWMtdmlld3twYWRkaW5nOjB9I3JlZ2lzdGVyUGFnZSAuc3BsaXRlciAuc2VjLXZpZXc6bnRoLWNoaWxkKG9kZCl7cGFkZGluZy1yaWdodDo0MHB4fSNyZWdpc3RlclBhZ2UgLnNwbGl0ZXIgLnNlYy12aWV3IGRpdiBsYWJlbC5zZWxlY3QtdmFsdWUsI3JlZ2lzdGVyUGFnZSAuc3BsaXRlciAuc2VjLXZpZXcgZGl2LnNlbGVjdExpc3R7d2lkdGg6OTElfS8qISp3aWR0aDogMTAwJSAhaW1wb3J0YW50OyohKi99QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo3NjhweCl7I2Zvcm17d2lkdGg6MTAwJTtkaXNwbGF5OmJsb2NrfSNmb3JtQ292ZXI+ZGl2IHNwYW57d2lkdGg6MTAwJTttYXJnaW46MH0uYW5pbVBsYWNlaG9sZGVyVXAgKnt3aGl0ZS1zcGFjZTpub3JtYWx9I3JlZ2lzdGVyU3VjY2Vzc0NvdmVyIC5zdWNjZXNzTWVzc2FnZXt3aWR0aDoyNDBweH0jcmVnaXN0ZXJQYWdlIC5zcGxpdGVye3doaXRlLXNwYWNlOm5vcm1hbH0jcmVnaXN0ZXJQYWdlIC5zcGxpdGVyIC5zZWMtdmlldywjcmVnaXN0ZXJQYWdlIC5zcGxpdGVyIC5zZWMtdmlldyBkaXYgbGFiZWwuc2VsZWN0LXZhbHVlLCNyZWdpc3RlclBhZ2UgLnNwbGl0ZXIgLnNlYy12aWV3IGRpdi5zZWxlY3RMaXN0e3dpZHRoOjEwMCV9I3JlZ2lzdGVyUGFnZSAuc3BsaXRlciAuc2VjLXZpZXc6bnRoLWNoaWxkKG9kZCl7cGFkZGluZzowfSNyZWdpc3RlckNvdmVye3BhZGRpbmc6MCAzMHB4IDMwcHh9I3JlZ2lzdGVyUGFnZSAuc2VjLXNlbmRlcnt9fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6NDgwcHgpeyNyZWdpc3RlclBhZ2UgLnNlYy1zZW5kZXIgLnNlYy1zZW5kZXItYXt3aWR0aDoxMDAlfSNyZWdpc3RlclBhZ2UgLnNlYy1zZW5kZXJ7d2lkdGg6MTAwJTtwYWRkaW5nOjAgMzBweDtib3gtc2l6aW5nOmJvcmRlci1ib3h9I2Zvcm1Db3Zlcj5kaXZ7fSNpbmZvRGVtb3tkaXNwbGF5Om5vbmV9I2Zvcm0gYnV0dG9ue3dpZHRoOjEwMCV9I2Zvcm1Db3Zlcj5kaXYgaW5wdXRbdHlwZT10ZXh0XSwjZm9ybUNvdmVyPmRpdiBpbnB1dFt0eXBlPXBhc3N3b3JkXSwjZm9ybUNvdmVyPmRpdiAuaW5wdXR0ZXh0e3dpZHRoOjEwMCUhaW1wb3J0YW50fX1kaXYuZ2F0aGVyX2xlZnR7cGFkZGluZy1ib3R0b206NDBweDtvdmVyZmxvdzpoaWRkZW47ZGlzcGxheTp0YWJsZTtwYWRkaW5nLWxlZnQ6MjMlO3dpZHRoOjc2JX1kaXYuZ2F0aGVyX3JpZ2h0e3BhZGRpbmctYm90dG9tOjQwcHg7b3ZlcmZsb3c6aGlkZGVuO2Rpc3BsYXk6dGFibGU7cGFkZGluZy1sZWZ0OjYzJTt3aWR0aDo0MCV9ZGl2LndoYXRzX25ld3tmb250LXNpemU6MjVweDt0ZXh0LWFsaWduOmNlbnRlcjt0b3A6MTEwcHg7cGFkZGluZy1ib3R0b206NjlweH1kaXYucGFyYWdyYXBoe3BhZGRpbmctbGVmdDoyMHB4O2ZvbnQtc2l6ZToxNXB4O2xpbmUtaGVpZ2h0OjE2MCU7dmVydGljYWwtYWxpZ246dG9wO2Rpc3BsYXk6dGFibGUtY2VsbDt3aWR0aDo5MCV9ZGl2Lm1lbnVfc2lkZXtwb3NpdGlvbjpmaXhlZDtsZWZ0OjYwcHg7ZGlzcGxheTppbmxpbmUtYmxvY2t9ZGl2LmRldmljZXN7ZGlzcGxheTp0YWJsZTt3aWR0aDoyMzhweDtib3JkZXI6MnB4IHNvbGlkICMwMDA7bWFyZ2luLXJpZ2h0OjUwcHg7cGFkZGluZy10b3A6MTRweDtwYWRkaW5nLWJvdHRvbToxNHB4O3BhZGRpbmctbGVmdDoyNXB4O3BhZGRpbmctcmlnaHQ6MjVweDtjdXJzb3I6cG9pbnRlcn0uZGV2aWNlc19pbm5lcl9saW5le2Rpc3BsYXk6dGFibGUtY2VsbDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7Ym9yZGVyLWxlZnQ6MXB4IHNvbGlkICMwMDA7cGFkZGluZy1sZWZ0OjI1cHh9LmRldmljZXNfaW5uZXJfbGluZT5zcGFue2Rpc3BsYXk6YmxvY2t9LmRldmljZXNfZm9udHtmb250LXNpemU6MjVweDtsaW5lLWhlaWdodDoyOXB4fWRpdi5kZXZpY2VzX3BpY3tkaXNwbGF5OnRhYmxlLWNlbGw7dmVydGljYWwtYWxpZ246bWlkZGxlO3dpZHRoOjMwJX1kaXYuc2VjdGlvbl9saW5le2JvcmRlci10b3A6MXB4IHNvbGlkICMwMDA7d2lkdGg6NjAlO21hcmdpbi1sZWZ0OjI1JTtib3JkZXItY29sb3I6Z3JheTtib3JkZXItd2lkdGg6MS41cHh9ZGl2LnNlY3Rpb25fbGluZV9wYWRkaW5ne3BhZGRpbmctYm90dG9tOjU2cHh9ZGl2LnNlY3Rpb25fbGluZV9ib3R0b21fcGFkZGluZ3twYWRkaW5nLXRvcDoyMHB4fS5zZWN0aW9uX2ZvbnR7cGFkZGluZy1ib3R0b206MzlweDtmb250LXNpemU6MzBweDtwYWRkaW5nLXRvcDo1NnB4fS5zZWN0aW9uX2xpbmUuc2VjdGlvbl9saW5lX3BhZGRpbmc+c3BhbntkaXNwbGF5OmJsb2NrfS5wb3N0Z3Jlc19zZWN0aW9ue3dpZHRoOjQ1JTtib3JkZXItbGVmdDoycHggc29saWQgIzAwMDtwYWRkaW5nLWxlZnQ6MTBweDttYXJnaW4tdG9wOjIzcHg7bGluZS1oZWlnaHQ6MjRweH0ucG9zdGdyZXNfc2VjdGlvbj5zcGFue2Rpc3BsYXk6YmxvY2s7Zm9udC1zaXplOjE0cHh9ZGl2LmJvdHRvbV9zZWN0aW9ue2Rpc3BsYXk6dGFibGU7cGFkZGluZy10b3A6MTBweDtwYWRkaW5nLWJvdHRvbTo2MHB4fXNwYW4uaW5zdGFsbGF0aW9uX3NlY3Rpb25fcmVxdWlyZW1lbnRze3BhZGRpbmctdG9wOjUzcHg7cGFkZGluZy1ib3R0b206MTRweDtsZXR0ZXItc3BhY2luZzoxcHg7bGluZS1oZWlnaHQ6MTlweDtmb250LXNpemU6MTZweH1kaXYuYWRtX21hcmtldF9zZWN0aW9ue2ZsZXgtZGlyZWN0aW9uOnJvdztkaXNwbGF5OmZsZXg7d2lkdGg6NDUlO2JvcmRlcjoycHggc29saWQgIzAwMDttYXJnaW4tcmlnaHQ6NTBweDtwYWRkaW5nOjEwcHh9ZGl2Lm1jX3BpY19wYWRkaW5ne31kaXYuYXBwX3BpY19wYWRkaW5ne31kaXYubXVsdGlwbGVfZWxlbWVudHNfb3ZlcmZsb3d7b3ZlcmZsb3c6aGlkZGVufS5tdWx0aXBsZV9lbGVtZW50c19vdmVyZmxvdz5zcGFuLC5tdWx0aXBsZV9lbGVtZW50c19vdmVyZmxvdz5he2Rpc3BsYXk6YmxvY2t9LndoYXRzX25ld19zZWN0aW9uX3BpY3tkaXNwbGF5OnRhYmxlLWNlbGx9LmNvbG9yX3R1cnF1b2lzZXtjb2xvcjojNTRCM0FEfS5jb2xvcl9ncmV5e2NvbG9yOiM4RThFOEV9LmZvbnRfMTVfcHh7Zm9udC1zaXplOjE1cHh9cC53aGF0c19uZXdfd2lkdGhfcGFyYWdyYXBoXzYwe3dpZHRoOjkwJX1wLndoYXRzX25ld193aWR0aF9wYXJhZ3JhcGhfOTB7d2lkdGg6OTAlfS5wYWRkaW5nX2JvdHRvbV81X3B4e3BhZGRpbmctYm90dG9tOjVweH0ucGFkZGluZ19ib3R0b21fMTVfcHh7cGFkZGluZy1ib3R0b206MTVweH0ucGFkZGluZ19ib3R0b21fNjBfcHh7cGFkZGluZy1ib3R0b206NjBweH0ubWluaV92ZXJzaW9uX2xpc3R7ZGlzcGxheTpub25lO3Bvc2l0aW9uOmFic29sdXRlO3RvcDo3NSU7bGVmdDo0NSU7bWFyZ2luOjAgYXV0bzt6LWluZGV4OjEwMDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7cGFkZGluZzo4cHg7dGV4dC1hbGlnbjpsZWZ0O3dpZHRoOjE4MXB4O2JvcmRlcjpzb2xpZCAxcHggcmdiYSgxMDAsMTAwLDEwMCwuODIpfS5taW5pX3ZlcnNpb25fbGlzdCAub3B0aW9ue2Rpc3BsYXk6aW5saW5lLWJsb2NrO2NvbG9yOiMyYTJhMmE7Zm9udC1zaXplOjEycHg7dGV4dC1kZWNvcmF0aW9uOm5vbmU7cGFkZGluZzo3cHg7d2lkdGg6MTAwJTtib3gtc2l6aW5nOmJvcmRlci1ib3g7Y3Vyc29yOnBvaW50ZXJ9Lm1pbmlfdmVyc2lvbl9saXN0IC5vcHRpb246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZjlmOWY5fWEucmVsZWFzZV92ZXJzaW9uLGEucmVsZWFzZV92ZXJzaW9uOnZpc2l0ZWQsYS5yZWxlYXNlX3ZlcnNpb246aG92ZXIsYS5yZWxlYXNlX3ZlcnNpb246YWN0aXZle2NvbG9yOmluaGVyaXR9YS5hX21lbnVfc2lkZSxhLmFfbWVudV9zaWRlOnZpc2l0ZWQsYS5hX21lbnVfc2lkZTpob3ZlcixhLmFfbWVudV9zaWRlOmFjdGl2ZXtjb2xvcjpncmV5O2Rpc3BsYXk6aW5saW5lLWJsb2NrfWEucmVsZWFzZV92ZXJzaW9uOnZpc2l0ZWR7Y29sb3I6IzAwMH0ubWVudV9zaWRlX2xpc3R7bGluZS1oZWlnaHQ6MTZweDtsZXR0ZXItc3BhY2luZzoxcHg7Zm9udC1zaXplOjE0cHh9Lm1lbnVfc2lkZT5zcGFue2Rpc3BsYXk6YmxvY2t9YS5hX21lbnVfc2lkZTpiZWZvcmV7ZGlzcGxheTpibG9jaztjb250ZW50OicnO2JvcmRlci10b3A6c29saWQgM3B4IGdyYXk7cGFkZGluZy1ib3R0b206MTBweDt0cmFuc2Zvcm06c2NhbGVYKDApO3RyYW5zaXRpb246dHJhbnNmb3JtIDI1NW1zIGVhc2UtaW4tb3V0O3RyYW5zZm9ybS1vcmlnaW46MCA1MCV9YS5hX21lbnVfc2lkZTpob3ZlcjpiZWZvcmV7dHJhbnNmb3JtOnNjYWxlWCgxKX1hLmFfbWVudV9zaWRlLnNlbGVjdGVkOmJlZm9yZXt0cmFuc2Zvcm06c2NhbGVYKDEpO2JvcmRlci10b3A6c29saWQgM3B4ICMwMDA7Y29sb3I6IzAwMH1hLmFfbWVudV9zaWRlLnNlbGVjdGVke2NvbG9yOiMwMDB9LmNpcmNsZV9hZHZhbnRhZ2VfaWNvbntib3JkZXItcmFkaXVzOjUwJTt3aWR0aDo2NnB4O2hlaWdodDo2NnB4O2JhY2tncm91bmQtaW1hZ2U6dXJsKGltYWdlcy9BZHZhbnRhZ2VfbG9nb193aGl0ZS5zdmcpO2JhY2tncm91bmQtY29sb3I6I2NlNDJmNDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXI7YmFja2dyb3VuZC1wb3NpdGlvbi14OjIycHh9QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDoxMjIwcHgpe31AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjExNjJweCl7ZGl2LmdhdGhlcl9yaWdodHtwYWRkaW5nLWxlZnQ6NDAlO3dpZHRoOjYwJX1kaXYuZ2F0aGVyX2xlZnR7cGFkZGluZy1sZWZ0OjQwJTt3aWR0aDo2MCV9ZGl2LmRldmljZXN7bWFyZ2luLWJvdHRvbToyMHB4fWRpdi5zZWN0aW9uX2xpbmV7bWFyZ2luLWxlZnQ6NDAlfX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjc2OHB4KXtkaXYuZ2F0aGVyX3JpZ2h0e3BhZGRpbmctbGVmdDo1MCV9ZGl2LmdhdGhlcl9sZWZ0e3BhZGRpbmctbGVmdDo1MCU7d2lkdGg6NTAlfWRpdi5kZXZpY2Vze21hcmdpbi1ib3R0b206MjBweH1kaXYuc2VjdGlvbl9saW5le21hcmdpbi1sZWZ0OjUwJX19I29yZGVyUGF5bWVudHttYXgtd2lkdGg6MTE4MHB4O2ZvbnQtc2l6ZTowO21hcmdpbjoxMDBweCBhdXRvO3BhZGRpbmc6NjVweCAwIDEwMHB4fSNvcmRlclBheW1lbnQ+ZGl2e2Rpc3BsYXk6aW5saW5lLWJsb2NrO2ZvbnQtc2l6ZToxNHB4O3ZlcnRpY2FsLWFsaWduOnRvcDtwb3NpdGlvbjpyZWxhdGl2ZX0jb3JkZXJQYXltZW50PmRpdjpudGgtY2hpbGQoMSl7d2lkdGg6NjMlfSNvcmRlclBheW1lbnQ+I3VzZXJDYXJ0e3dpZHRoOjMzMHB4O3BhZGRpbmc6MjBweCAyNXB4O2JhY2tncm91bmQtY29sb3I6I2Y5ZjlmOTtwb3NpdGlvbjpyZWxhdGl2ZTtyaWdodDotNTBweH0jb3JkZXJQYXltZW50PiN1c2VyQ2FydCAjdG9vbFRpcENhcnR7ZGlzcGxheTpibG9jazt6LWluZGV4OjIwO3Bvc2l0aW9uOnN0YXRpY30jb3JkZXJQYXltZW50PiN1c2VyQ2FydCAjdG9vbFRpcENhcnQgKntiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fSNvcmRlclBheW1lbnQ+I3VzZXJDYXJ0ICN0b29sVGlwQ2FydCB0YWJsZXtib3JkZXI6c29saWQgMCAjZDBkMGQwfSNvcmRlclBheW1lbnQ+I3VzZXJDYXJ0ICN0b29sVGlwQ2FydCB0Ym9keSBoM3tmb250LXdlaWdodDo2MDB9I29yZGVyUGF5bWVudCAuaXRlbXNDb3VudHtjb2xvcjojMmEyYTJhO2ZvbnQtc2l6ZToxMnB4O3Bvc2l0aW9uOmFic29sdXRlO3RvcDoyNXB4O3JpZ2h0OjM1cHh9I29yZGVyUGF5bWVudCAuY2xvc2VEaXZ7ZGlzcGxheTpub25lfSNvcmRlclBheW1lbnQgLnNoaXBwaW5nLCNvcmRlclBheW1lbnQgLnRvdGFse2NvbG9yOiMyYTJhMmE7ZGlzcGxheTpibG9ja30jb3JkZXJQYXltZW50IGxhYmVsOmZpcnN0LWNoaWxke2ZvbnQtc2l6ZToxNnB4fSNvcmRlclBheW1lbnQgLnRvdGFse2ZvbnQtc2l6ZToxNXB4O21hcmdpbjo2cHggMH0jdXNlckNhcnQgLnBlbmV0cmF0aW9uSW5DYXJ0e3BhZGRpbmc6MCAwIDAgODBweDtwb3NpdGlvbjpyZWxhdGl2ZX0jdXNlckNhcnQgLnBlbmV0cmF0aW9uSW5DYXJ0PnNwYW57Zm9udC1zaXplOjExcHghaW1wb3J0YW50O2NvbG9yOiM4MjgyODI7cGFkZGluZy1ib3R0b206NXB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrfSNvcmRlclBheW1lbnQgLnBlbmV0cmF0aW9uSW5DYXJ0PmxhYmVse2Rpc3BsYXk6YmxvY2s7Zm9udC1zaXplOjEycHh9I29yZGVyUGF5bWVudCAucGVuZXRyYXRpb25JbkNhcnQ+bGFiZWw6Zmlyc3QtY2hpbGR7cGFkZGluZy10b3A6MjBweDtwYWRkaW5nLWJvdHRvbTo1cHh9I29yZGVyUGF5bWVudCAucGVuZXRyYXRpb25JbkNhcnQ+bGFiZWwgc3Bhbntwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDo4cHh9I29yZGVyUGF5bWVudCAucGVuZXRyYXRpb25JbkNhcnQgLm5vU2hpcHBpbmd7aGVpZ2h0OjA7Zm9udC1zaXplOjA7b3ZlcmZsb3c6aGlkZGVuO29wYWNpdHk6MDtwYWRkaW5nLXRvcDoxMHB4IWltcG9ydGFudH0jb3JkZXJQYXltZW50IC5wZW5ldHJhdGlvbkluQ2FydD5sYWJlbC5zaGlwcGluZ1RleHR7Zm9udC1zaXplOjEycHh9I29yZGVyUGF5bWVudCAucGVuZXRyYXRpb25JbkNhcnQ+bGFiZWwgc3Bhbi5zaGlwcGluZ1ZhbHVle2ZvbnQtc2l6ZToxNHB4fSNvcmRlclBheW1lbnQgLnBlbmV0cmF0aW9uSW5DYXJ0PmxhYmVsLnRvdGFsVGV4dHtmb250LXNpemU6MTVweH0jb3JkZXJQYXltZW50IC5wZW5ldHJhdGlvbkluQ2FydD5sYWJlbCBzcGFuLnRvdGFsVmFsdWV7Zm9udC1zaXplOjIwcHh9I29yZGVyUGF5bWVudCAudG90YWxUaXRsZXtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDoxMXB4O3RvcDo0cHh9I29yZGVyUGF5bWVudCAjdG9vbFRpcENhcnQgdGJvZHkgLnByaWNle2hlaWdodDoxMDAlO3BhZGRpbmc6NTAlIDB9I29yZGVyUGF5bWVudCB0Zm9vdHtkaXNwbGF5Om5vbmV9I29yZGVyUGF5bWVudCAuY2xvc2VEaXZ7ZGlzcGxheTpub25lfSNvcmRlclBheW1lbnQgI3Rvb2xUaXBDYXJ0IHRib2R5IHRyOmZpcnN0LWNoaWxke2JvcmRlci10b3A6c29saWQgMXB4ICNkMGQwZDB9I29yZGVyUGF5bWVudCAjdG9vbFRpcENhcnQgdGJvZHl7bWF4LWhlaWdodDppbmhlcml0fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6MTIwMHB4KXsjb3JkZXJQYXltZW50PiN1c2VyQ2FydHtyaWdodDowfSNkZXRhaWxzbGluaz5sYWJlbHt3aWR0aDo1MCUhaW1wb3J0YW50fSNvcmRlclBheW1lbnQ+ZGl2Om50aC1jaGlsZCgxKXt3aWR0aDo2MCV9fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6OTgwcHgpeyNvcmRlclBheW1lbnQgLmJsdWVMaW5re2Rpc3BsYXk6YmxvY2t9I29yZGVyUGF5bWVudCAubWFyZ2luQm90dG9te21hcmdpbi1ib3R0b206OTBweH0jb3JkZXJQYXltZW50PmRpdjpudGgtY2hpbGQoMSl7d2lkdGg6NTMlfSNwYXltZW50TWV0aG9kIC5zZWMtdmFsaWRhdGUgLmlucHV0dGV4dHt3aWR0aDo3MCUhaW1wb3J0YW50fX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjg1MHB4KXsjdXNlclNlY3Rpb24gLm5leHRCdG57fS5tb2JpbGVCdG5IYW5kbGVye2hlaWdodDoxMThweH0jb3JkZXJQYXltZW50PmRpdjpudGgtY2hpbGQoMSl7d2lkdGg6MTAwJX0jb3JkZXJQYXltZW50PiN1c2VyQ2FydHtib3gtc2l6aW5nOmJvcmRlci1ib3g7d2lkdGg6MTAwJTttYXJnaW4tdG9wOjIwcHh9I29yZGVyUGF5bWVudD4jdXNlckNhcnR7bWFyZ2luOjMwcHggYXV0b319QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo3NjhweCl7I29yZGVyUGF5bWVudHttYXJnaW46NzBweCBhdXRvO3BhZGRpbmctdG9wOjB9I29yZGVyUGF5bWVudD4jdXNlckNhcnR7bWFyZ2luLXRvcDoyMHB4fSNvcmRlclBheW1lbnQgLm5vVXNlclNlY3Rpb24gLmNvdmVye21hcmdpbjoxNnB4IGF1dG99fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6NDgwcHgpeyNvcmRlclBheW1lbnR7bWFyZ2luOjAgYXV0bztwYWRkaW5nLXRvcDoyMHB4fX0jb3JkZXJQYXltZW50PmRpdj5kaXZ7dmVydGljYWwtYWxpZ246dG9wO3BhZGRpbmc6MCAzMHB4fSNvcmRlclBheW1lbnQgaDUuYmlnUGFkZGluZ3twYWRkaW5nLWJvdHRvbTo2NXB4O2ZvbnQtc2l6ZToyNHB4O2NvbG9yOiMyYTJhMmF9I29yZGVyUGF5bWVudD5kaXY+aDV7Y29sb3I6IzJhMmEyYTtmb250LXNpemU6MThweDtwYWRkaW5nLWJvdHRvbToxNnB4fSNvcmRlclBheW1lbnQgbGFiZWwucm9ib3RvLW1lZGl1bXtmb250LXNpemU6MTZweDtjb2xvcjojMmEyYTJhO3BhZGRpbmctYm90dG9tOjE1cHg7ZGlzcGxheTppbmxpbmUtYmxvY2t9I29yZGVyUGF5bWVudCAubm9Vc2VyU2VjdGlvbnt3aWR0aDo0OCU7ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246dG9wfSNvcmRlclBheW1lbnQgI0ZvcmdvdF95b3VyX3Bhc3N3b3Jke2NvbG9yOiM4MjgyODI7cGFkZGluZy1ib3R0b206MjBweDtwYWRkaW5nLXRvcDo1cHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7Y3Vyc29yOnBvaW50ZXJ9I29yZGVyUGF5bWVudCAuaXRlbXNDb3VudHtjb2xvcjojMmEyYTJhO2ZvbnQtc2l6ZToxMnB4O3Bvc2l0aW9uOmFic29sdXRlO3RvcDoyNXB4O3JpZ2h0OjM1cHh9I29yZGVyUGF5bWVudCAubm9Vc2VyU2VjdGlvbiAuY292ZXJ7bWF4LXdpZHRoOjI0MHB4O21hcmdpbjowIGF1dG99I29yZGVyUGF5bWVudCAubm9Vc2VyU2VjdGlvbiAuY292ZXIgZGl2e2JvcmRlci1sZWZ0OnNvbGlkIDJweCAjNDU0NTQ1O3BhZGRpbmc6MCAwIDAgMjdweDtoZWlnaHQ6MjEzcHh9I29yZGVyUGF5bWVudCAubm9Vc2VyU2VjdGlvbiAuY292ZXIgZGl2Lm5vRW1haWx7aGVpZ2h0OjE3MHB4fSNvcmRlclBheW1lbnQgLm5vVXNlclNlY3Rpb24gLmNvdmVyIGF7bWFyZ2luOjE4cHggMjhweDttYXJnaW4tdG9wOjMzcHh9I29yZGVyUGF5bWVudCAuc2VjLXNlbmRlciAuc2VjLXNlbmRlci1he3dpZHRoOjEzOHB4O21hcmdpbi10b3A6MTZweH0jb3JkZXJQYXltZW50ICNuZXdDbGllbnQgcHtsaW5lLWhlaWdodDoyNXB4O3BhZGRpbmc6MTBweCAwfSNvcmRlclBheW1lbnQgLm5vVXNlclNlY3Rpb24+LmNvdmVye2Zsb2F0OnJpZ2h0fSNvcmRlclBheW1lbnQgLmNsb3NlRGl2e2Rpc3BsYXk6bm9uZX0jb3JkZXJQYXltZW50IC5zaGlwcGluZywjb3JkZXJQYXltZW50IC50b3RhbHtjb2xvcjojMmEyYTJhO2Rpc3BsYXk6YmxvY2t9I29yZGVyUGF5bWVudCBsYWJlbDpmaXJzdC1jaGlsZHtmb250LXNpemU6MTZweH1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjY1MHB4KXsjb3JkZXJQYXltZW50e3BhZGRpbmctYm90dG9tOjA7bWFyZ2luLWJvdHRvbTowfSNvcmRlclBheW1lbnQgLm5vVXNlclNlY3Rpb257d2lkdGg6MTAwJTtkaXNwbGF5OmJsb2NrfSNvcmRlclBheW1lbnQgLm5vVXNlclNlY3Rpb24gLmNvdmVye21heC13aWR0aDo2NTBweDttYXJnaW46MjBweCBhdXRvO3dpZHRoOjEwMCV9I29yZGVyUGF5bWVudCAubm9Vc2VyU2VjdGlvbiAuY292ZXIgZGl2e2JvcmRlci1sZWZ0OjAgMCAjRkZGO2hlaWdodDphdXRvO3BhZGRpbmc6MH0jb3JkZXJQYXltZW50PiN1c2VyQ2FydHttYXJnaW46MCBhdXRvO3BhZGRpbmc6MCAyNXB4O3BhZGRpbmctYm90dG9tOjUwcHh9I29yZGVyUGF5bWVudCAuaXRlbXNDb3VudHt0b3A6LTE1cHg7cG9zaXRpb246cmVsYXRpdmU7cmlnaHQ6MH0jb3JkZXJQYXltZW50IC5ub1VzZXJTZWN0aW9uIC5jb3ZlciBhLCNvcmRlclBheW1lbnQgLm5vVXNlclNlY3Rpb24gLmEtYnV0dG9ue21hcmdpbjoxOHB4IDA7d2lkdGg6MTAwJTtmb250LXNpemU6MTVweDtwYWRkaW5nOjEycHggMH0ubm9Vc2VyTG9naW4gI29yZGVyUGF5bWVudD4jdXNlckNhcnR7d2lkdGg6OTAlO2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjI4OHB4IGF1dG99I29yZGVyUGF5bWVudD5kaXY6bnRoLWNoaWxkKDEpe3dpZHRoOjkwJTtkaXNwbGF5OmJsb2NrO21hcmdpbjowIGF1dG99I29yZGVyUGF5bWVudD5kaXY+aDV7cGFkZGluZy1ib3R0b206MzZweDtwYWRkaW5nLXRvcDoyNnB4fX0jZGV0YWlsc2xpbmt7d2lkdGg6MTAwJTt0ZXh0LWFsaWduOmNlbnRlcjtmb250LXNpemU6MDttYXJnaW4tYm90dG9tOjYwcHh9I2RldGFpbHNsaW5rPmxhYmVse2ZvbnQtc2l6ZToxNnB4O3BhZGRpbmc6MTVweCAwO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjUwJTtib3JkZXItdG9wOiNkMGQwZDAgMXB4IHNvbGlkO2NvbG9yOiM4MjgyODI7d2hpdGUtc3BhY2U6bm93cmFwfSNkZXRhaWxzbGluaz5sYWJlbC5zZWxlY3RlZHtib3JkZXItdG9wOiM1NGIzYWQgM3B4IHNvbGlkO2NvbG9yOiMyYTJhMmF9I3VzZXJTZWN0aW9uICp7Zm9udC13ZWlnaHQ6NDAwfSN1c2VyU2VjdGlvbj5kaXZ7cG9zaXRpb246cmVsYXRpdmV9I3VzZXJTZWN0aW9uPmRpdj5he2NvbG9yOiM1NGIzYWQ7Zm9udC1zaXplOjEzcHg7dGV4dC1kZWNvcmF0aW9uOm5vbmV9I3VzZXJTZWN0aW9uPmRpdj5sYWJlbHtmbG9hdDpyaWdodDtmb250LXNpemU6MTFweDtjb2xvcjojMmEyYTJhO3RleHQtZGVjb3JhdGlvbjpub25lO3Bvc2l0aW9uOnJlbGF0aXZlO3RvcDotNnB4O2ZvbnQtd2VpZ2h0OjUwMDtsZXR0ZXItc3BhY2luZzouNXB4fSN1c2VyU2VjdGlvbj5kaXY+bGFiZWw+aW1ne3Bvc2l0aW9uOnJlbGF0aXZlO3RvcDo0cHg7cGFkZGluZy1sZWZ0OjlweH0jdXNlclNlY3Rpb24gLnNwbGl0ZXJ7d2hpdGUtc3BhY2U6bm93cmFwfSN1c2VyU2VjdGlvbiAuc3BsaXRlciAuc2VjLXZpZXd7d2lkdGg6NTAlO2Rpc3BsYXk6aW5saW5lLWJsb2NrO2JveC1zaXppbmc6Ym9yZGVyLWJveDt2ZXJ0aWNhbC1hbGlnbjp0b3B9I3VzZXJTZWN0aW9uIC5zcGxpdGVyIC5zZWMtdmlldzpudGgtY2hpbGQob2RkKXtwYWRkaW5nLXJpZ2h0OjM1cHh9I3VzZXJTZWN0aW9uIC5zcGxpdGVyIC5zZWMtdmlldyBkaXYgbGFiZWwuc2VsZWN0LXZhbHVle3dpZHRoOjkwJX0jdXNlclNlY3Rpb24gLnNlYy1zZW5kZXJ7ZmxvYXQ6cmlnaHR9I3VzZXJEZXRhaWxzRWRpdE1vZGUgaDZ7bWFyZ2luOjE4cHggMCAwO2xldHRlci1zcGFjaW5nOjFweDtmb250LXNpemU6MTZweDtmb250LXdlaWdodDo1MDB9LmJsdWVMaW5rIGF7Zm9udC1zaXplOjE2cHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7Y29sb3I6IzU0YjNhZDtjdXJzb3I6cG9pbnRlcn0uYmx1ZUxpbmsgLmZsb2F0LWJ1dHRvbntmbG9hdDpyaWdodDtmb250LXNpemU6MTJweDtjb2xvcjojMzEzMTMxfS5ibHVlTGluayAuZmxvYXQtYnV0dG9uLmxpbmtUb1ByZXNze3BhZGRpbmc6OXB4IDQzcHg7bWFyZ2luOjE3cHggMjBweH0uYmx1ZUxpbmsgLmZsb2F0LWJ1dHRvbi5saW5rVG9QcmVzczpob3Zlcntjb2xvcjojNTRiM2FkfS5ibHVlTGluayAuZmxvYXQtYnV0dG9uIGltZ3twb3NpdGlvbjpyZWxhdGl2ZTt0b3A6NXB4fSN1c2VyRGV0YWlsc3tmb250LXNpemU6MDttYXJnaW4tYm90dG9tOjExcHg7Ym9yZGVyOnNvbGlkICM0NTQ1NDUgMXB4fSN1c2VyRGV0YWlscz5kaXZ7Ym94LXNpemluZzpib3JkZXItYm94O2ZvbnQtc2l6ZToxNXB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOnRvcDt3aWR0aDozMy4zMyU7bWluLWhlaWdodDoxMjJweDtwYWRkaW5nOjE3cHg7cGFkZGluZy10b3A6MjVweDtwb3NpdGlvbjpyZWxhdGl2ZX0jdXNlckRldGFpbHM+ZGl2Om50aC1jaGlsZCgyKXtib3JkZXItbGVmdDpzb2xpZCAjNDU0NTQ1IDFweDtib3JkZXItcmlnaHQ6c29saWQgIzQ1NDU0NSAxcHh9I3VzZXJEZXRhaWxzPmRpdiBpbWd7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDt0b3A6MDtwYWRkaW5nOjE1cHh9I3VzZXJEZXRhaWxzPmRpdiAuaWNvbkNzc3twb3NpdGlvbjphYnNvbHV0ZTtyaWdodDowO3RvcDowO21hcmdpbjoxNXB4fSN1c2VyRGV0YWlscz5kaXYgLmljb25Ib21le3RyYW5zZm9ybTpzY2FsZSgwLjgpO21hcmdpbi10b3A6MjJweH0jdXNlckRldGFpbHM+ZGl2IGxhYmVse2Rpc3BsYXk6YmxvY2s7cGFkZGluZzoycHg7Zm9udC1zaXplOjE0cHg7Y29sb3I6IzJhMmEyYX0jdXNlclNlY3Rpb24gLm5leHRCdG57d2lkdGg6MTM4cHg7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDtwYWRkaW5nOjhweDttYXJnaW4tdG9wOjc1cHg7Zm9udC1zaXplOjEycHg7bGV0dGVyLXNwYWNpbmc6LjVweDtmb250LXdlaWdodDo2MDB9LkNob29zZV9wYXltZW50e2ZvbnQtc2l6ZToxNnB4O2NvbG9yOiMyYTJhMmF9LnBheW1lbnRNZXRob2Rze2JvcmRlcjpzb2xpZCAxcHggIzQ1NDU0NTtmb250LXNpemU6MH0jcGF5bWVudE1ldGhvZCAubm90aWNle3BhZGRpbmctdG9wOjQycHg7bWFyZ2luLWJvdHRvbTozNXB4fSNwYXltZW50TWV0aG9kIC5ub3RpY2UgaDR7YmFja2dyb3VuZC1pbWFnZTp1cmwoL2Nzcy9pbWFnZXMvQmVsbC5wbmcpO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOmxlZnQgY2VudGVyO2ZvbnQtc2l6ZToxNnB4O2ZvbnQtd2VpZ2h0OjUwMDt0ZXh0LWluZGVudDoyOHB4fSNwYXltZW50TWV0aG9kIC5ub3RpY2UgcHtwYWRkaW5nLXRvcDoxMHB4O2NvbG9yOiM4MjgyODI7Zm9udC1zaXplOjE1cHh9LmZsb2F0X3JpZ2h0e2Zsb2F0OnJpZ2h0fSNwYXltZW50TWV0aG9kIC5zZWMtdmlld3t3aWR0aDo1MCV9I3BheW1lbnRNZXRob2QgLmdyYXlDaGVja2JveHtjb2xvcjojODI4MjgyfS5wYXltZW50TWV0aG9kcyAuaW1nUmFkaW9CdXR0b257ZGlzcGxheTppbmxpbmUtYmxvY2s7cG9zaXRpb246cmVsYXRpdmU7Y3Vyc29yOnBvaW50ZXJ9LnN0eWxlZC1yYWRpb0J1dHRvbnN7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MjBweDtoZWlnaHQ6MjBweDtmbG9hdDpsZWZ0O21hcmdpbi1sZWZ0OjE1cHg7dmVydGljYWwtYWxpZ246dG9wO21hcmdpbi10b3A6MjJweH0ucGF5bWVudE1ldGhvZHMgLmltZ1JhZGlvQnV0dG9uPmltZ3tkaXNwbGF5OmJsb2NrO3BhZGRpbmc6MTVweDtwYWRkaW5nLWxlZnQ6NTBweH0ucGF5bWVudE1ldGhvZHMgLmltZ1JhZGlvQnV0dG9uOmJlZm9yZXtjb250ZW50OiIiO3Bvc2l0aW9uOmFic29sdXRlO2hlaWdodDoxNXB4O3dpZHRoOjE1cHg7Ym9yZGVyLXJhZGl1czo1MCU7Ym9yZGVyOnNvbGlkIDFweCAjODI4MjgyO3RvcDoyM3B4O2xlZnQ6MjFweH0ucGF5bWVudE1ldGhvZHMgLnNlbGVjdGVkLmltZ1JhZGlvQnV0dG9uOmJlZm9yZXtib3gtc2hhZG93OjAgMCAwIDVweCAjZmZmIGluc2V0LDAgMCAwIDE1cHggIzU0YjNhZCBpbnNldH0jcGF5bWVudE1ldGhvZCAub3B0aW9ue21hcmdpbjo5cHggMH0jdXNlclNlY3Rpb24gLm9wdGlvbi5tYXJnaW5Ub3B7bWFyZ2luLXRvcDoyNXB4fSNwYXltZW50TWV0aG9kIC5tYXN0ZXJDcmVkaXRTZWNjaW9ue2Rpc3BsYXk6YmxvY2s7Ym9yZGVyLWJvdHRvbTpzb2xpZCAxcHggIzQ1NDU0NTtwYWRkaW5nOjlweCAwO21hcmdpbjoyMHB4IDA7d2lkdGg6NTAlfS5tYXN0ZXJDcmVkaXRTZWNjaW9uPmRpdj5zcGFue3doaXRlLXNwYWNlOm5vd3JhcDtwYWRkaW5nOjAgM3B4fS5tYXN0ZXJDcmVkaXRTZWNjaW9uPmRpdj5sYWJlbC5lZGl0e2NvbG9yOiM1NGIzYWQ7ZmxvYXQ6cmlnaHQ7Y3Vyc29yOnBvaW50ZXJ9I3BheW1lbnRNZXRob2QgLnBheW1lbnRfZGF0ZXt3aWR0aDo1MCU7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2hpdGUtc3BhY2U6bm93cmFwfS5leHBpcmF0aW9uX2RhdGVfdGl0bGV7ZGlzcGxheTpibG9jazttYXJnaW4tdG9wOjEwcHh9I3BheW1lbnRNZXRob2QgLnBheW1lbnRfZGF0ZSAuc2VjLXZpZXd7ZGlzcGxheTppbmxpbmUtYmxvY2t9I3BheW1lbnRNZXRob2QgLnBheW1lbnRfZGF0ZT5sYWJlbHtmb250LXNpemU6MTRweDtjb2xvcjojMmEyYTJhO2Rpc3BsYXk6YmxvY2t9LkNhcmRfTnVtYmVyXzREaWdpdHMgLnZhbGlkYXRlLWxhYmVse3otaW5kZXg6MTB9LkNhcmRfTnVtYmVyXzREaWdpdHM6YmVmb3Jle3Bvc2l0aW9uOmFic29sdXRlO3RvcDo3cHg7bGVmdDowO2NvbnRlbnQ6JzQ4ODYnO3otaW5kZXg6MTA7b3BhY2l0eTouN30ubWFyZ2luMTVweHttYXJnaW46MTVweCAwO2Rpc3BsYXk6YmxvY2t9I3BheW1lbnRNZXRob2QgLnNwbGl0ZXJ7d2hpdGUtc3BhY2U6bm93cmFwfSNwYXltZW50TWV0aG9kIC5zcGxpdGVyIC5zZWMtdmlld3t3aWR0aDo1MCU7ZGlzcGxheTppbmxpbmUtYmxvY2s7Ym94LXNpemluZzpib3JkZXItYm94O3ZlcnRpY2FsLWFsaWduOnRvcDtwYWRkaW5nLXJpZ2h0OjI1JX0jcGF5bWVudE1ldGhvZCAuc3BsaXRlciAuc2VjLXZpZXcgZGl2IGxhYmVsLnNlbGVjdC12YWx1ZXt3aWR0aDo5MCV9I3BheW1lbnRNZXRob2QgLnNlYy1zZW5kZXJ7ZmxvYXQ6cmlnaHR9QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDoxMTAwcHgpeyNwYXltZW50TWV0aG9kIC5zcGxpdGVyIC5zZWMtdmlld3twYWRkaW5nLXJpZ2h0OjQ1cHh9I3BheW1lbnRNZXRob2QgLnNwbGl0ZXIgLnNlYy12aWV3IGRpdiBsYWJlbC5zZWxlY3QtdmFsdWV7d2lkdGg6NzAlfSNwYXltZW50TWV0aG9kIC5wYXltZW50X2RhdGUgLnNlYy12aWV3e3dpZHRoOjQ0JSFpbXBvcnRhbnQ7bWFyZ2luLXJpZ2h0OjB9fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6NzY4cHgpeyN1c2VyU2VjdGlvbiAubmV4dEJ0bnttYXJnaW4tdG9wOjQwcHh9I3BheW1lbnRNZXRob2QgLnNlYy12aWV3LCNwYXltZW50TWV0aG9kIC5tYXN0ZXJDcmVkaXRTZWNjaW9ue3dpZHRoOjEwMCV9fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6NTUwcHgpeyN1c2VyU2VjdGlvbiAuc3BsaXRlcnt3aGl0ZS1zcGFjZTpub3JtYWx9I3VzZXJTZWN0aW9uIC5zcGxpdGVyIC5zZWMtdmlld3t3aWR0aDoxMDAlfSN1c2VyU2VjdGlvbiAuc3BsaXRlciAuc2VjLXZpZXc6bnRoLWNoaWxkKG9kZCl7cGFkZGluZy1yaWdodDowfSN1c2VyU2VjdGlvbiAuc3BsaXRlciAuc2VjLXZpZXcgZGl2IGxhYmVsLnNlbGVjdC12YWx1ZXt3aWR0aDoxMDAlfSNwYXltZW50TWV0aG9kIC5zcGxpdGVye3doaXRlLXNwYWNlOm5vcm1hbH0jcGF5bWVudE1ldGhvZCAuc3BsaXRlciAuc2VjLXZpZXd7cGFkZGluZy1yaWdodDowfSNwYXltZW50TWV0aG9kIC5zcGxpdGVyIC5zZWMtdmlldywjcGF5bWVudE1ldGhvZCAuc3BsaXRlciAuc2VjLXZpZXcgZGl2IGxhYmVsLnNlbGVjdC12YWx1ZXt3aWR0aDoxMDAlfSNwYXltZW50TWV0aG9kIC5wYXltZW50X2RhdGUgLnNlYy12aWV3e3dpZHRoOjEwMCUhaW1wb3J0YW50O21hcmdpbi1yaWdodDowfSNwYXltZW50TWV0aG9kIC5wYXltZW50X2RhdGUgLnNlYy12aWV3Om50aC1jaGlsZChvZGQpe3dpZHRoOjkwJSFpbXBvcnRhbnQ7bWFyZ2luLXJpZ2h0OjEwJX0jcGF5bWVudE1ldGhvZCAucGF5bWVudF9kYXRlIC5zZWMtdmlldzpudGgtY2hpbGQoZXZlbil7d2lkdGg6OTAlIWltcG9ydGFudDttYXJnaW4tbGVmdDoxMCV9fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6NDgwcHgpeyN1c2VyRGV0YWlscz5kaXZ7d2lkdGg6MTAwJX0jdXNlclNlY3Rpb24gLm5leHRCdG57Zm9udC1zaXplOjE1cHg7d2lkdGg6MTAwJTtwYWRkaW5nOjEzcHggMH0jdXNlckRldGFpbHM+ZGl2Om50aC1jaGlsZCgyKXtib3JkZXItdG9wOnNvbGlkICM0NTQ1NDUgMXB4O2JvcmRlci1ib3R0b206c29saWQgIzQ1NDU0NSAxcHg7Ym9yZGVyLWxlZnQ6MCAjNDU0NTQ1IDFweDtib3JkZXItcmlnaHQ6MCAjNDU0NTQ1IDFweH0jb3JkZXJQYXltZW50PmRpdj5kaXZ7cGFkZGluZzowIDhweH0jb3JkZXJQYXltZW50ICNkZXRhaWxzbGluaz5sYWJlbHtmb250LXNpemU6MTJweH0jZGV0YWlsc2xpbms+bGFiZWx7d2lkdGg6NTAlIWltcG9ydGFudH19LnBheU5vd19lcnJvcl9sYWJlbHtkaXNwbGF5OnRhYmxlLXJvdztjb2xvcjojZmY0NTRmfXBheU5vd0J1dHRvbk1hcmdpbldpdGhFcnJvcnttYXJnaW4tcmlnaHQ6MjAlfUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6NDgwcHgpeyNwYXltZW50TWV0aG9kICNwYXlOb3dTUERydHZ7bWFyZ2luLXRvcDoxMCV9fSNvcmRlclBheW1lbnRTdWNjZXNze2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjEzMHB4IGF1dG87cGFkZGluZy10b3A6MzBweDt0ZXh0LWFsaWduOmNlbnRlcn0jb3JkZXJQYXltZW50U3VjY2Vzcz5oMntkaXNwbGF5OmlubGluZS1ibG9jaztiYWNrZ3JvdW5kLWNvbG9yOiM1NGIzYWQ7bWFyZ2luOjAgYXV0bztwYWRkaW5nOjAgMTAwcHg7Y29sb3I6I2ZmZn0jb3JkZXJQYXltZW50U3VjY2Vzcz5oMiBzcGFue3BhZGRpbmc6MTBweDtmb250LXNpemU6MTVweDtjb2xvcjojZmZmO2Rpc3BsYXk6YmxvY2s7Zm9udC13ZWlnaHQ6MzAwO3Bvc2l0aW9uOnJlbGF0aXZlfSNvcmRlclBheW1lbnRTdWNjZXNzPmgyIHNwYW46YmVmb3Jle2NvbnRlbnQ6IiI7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTtoZWlnaHQ6MnB4O3RvcDoxOXB4O2xlZnQ6LTEycHg7ei1pbmRleDoxO2Rpc3BsYXk6aW5saW5lLWJsb2NrO2JvcmRlci1sZWZ0OnNvbGlkIDE1cHggI2ZmZjtib3JkZXItcmlnaHQ6c29saWQgMTVweCAjZmZmfSNvcmRlclBheW1lbnRTdWNjZXNzIHNwYW4uc2VwYXJhdG9ye3BhZGRpbmc6MCAxMHB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrfSNvcmRlclBheW1lbnRTdWNjZXNzPnB7Zm9udC1zaXplOjE0cHg7Y29sb3I6IzJhMmEyYTtwYWRkaW5nOjI4cHggMH0jb3JkZXJQYXltZW50U3VjY2Vzcz5kaXZ7ZGlzcGxheTppbmxpbmUtYmxvY2s7bWFyZ2luOjAgYXV0bztib3JkZXI6c29saWQgIzJhMmEyYSAxcHg7Zm9udC1zaXplOjA7cGFkZGluZzozMHB4IDB9I29yZGVyUGF5bWVudFN1Y2Nlc3M+ZGl2PmRpdi5zZWNjaW9ue3RleHQtYWxpZ246bGVmdDtmb250LXNpemU6MTRweDt3aWR0aDozNThweDtoZWlnaHQ6Mjg2cHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246dG9wfSNvcmRlclBheW1lbnRTdWNjZXNzIGRpdi5ib3JkZXJSaWdodHtib3JkZXItcmlnaHQ6c29saWQgIzQ1NDU0NSAycHh9I29yZGVyUGF5bWVudFN1Y2Nlc3M+ZGl2PmRpdi5zZWNjaW9uIC5pY29uQ3Nze2Zsb2F0OnJpZ2h0O3ZlcnRpY2FsLWFsaWduOnRvcH0jb3JkZXJQYXltZW50U3VjY2Vzcz5kaXY+ZGl2LnNlY2Npb246bGFzdC1jaGlsZHtib3JkZXItcmlnaHQ6MCAwIHJlZH0jb3JkZXJQYXltZW50U3VjY2VzcyAuc2VjY2lvbj5zcGFue2ZvbnQtc2l6ZToxNnB4O2ZvbnQtd2VpZ2h0OjUwMH0jb3JkZXJQYXltZW50U3VjY2VzcyBkaXYuaW5uZXJTZWNjaW9uLCNvcmRlclBheW1lbnRTdWNjZXNzIC5zZWNjaW9uPnNwYW57cGFkZGluZzoyMHB4IDA7bWFyZ2luOjAgNDBweH0jb3JkZXJQYXltZW50U3VjY2VzcyBkaXYuaW5uZXJTZWNjaW9ue2JvcmRlci1ib3R0b206c29saWQgMXB4ICNkMGQwZDB9I29yZGVyUGF5bWVudFN1Y2Nlc3MgZGl2LmlubmVyU2VjY2lvbjpsYXN0LWNoaWxke2JvcmRlci1ib3R0b206MCAwIHJlZH0jb3JkZXJQYXltZW50U3VjY2VzcyBkaXYuaW5uZXJTZWNjaW9uIGltZywjb3JkZXJQYXltZW50U3VjY2VzcyBkaXYuaW5uZXJTZWNjaW9uIC5mbG9hdGVye2Zsb2F0OnJpZ2h0O2Rpc3BsYXk6aW5saW5lLWJsb2NrfSNvcmRlclBheW1lbnRTdWNjZXNzIGRpdi5pbm5lclNlY2Npb24gLmZsb2F0ZXIgc3BhbntwYWRkaW5nOjAgMnB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrfSNvcmRlclBheW1lbnRTdWNjZXNzIGRpdi5pbm5lclNlY2Npb24gbGFiZWx7ZGlzcGxheTpibG9jaztwYWRkaW5nOjJweDtmb250LXNpemU6MTRweDtjb2xvcjojMmEyYTJhfSNvcmRlclBheW1lbnRTdWNjZXNzIGRpdi5pbm5lclNlY2Npb24gbGFiZWwudG90YWx7Zm9udC1zaXplOjE2cHg7Zm9udC13ZWlnaHQ6NTAwfUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6MTEwMHB4KXsjb3JkZXJQYXltZW50U3VjY2Vzcz5kaXZ7bWFyZ2luOjAgMzNweH0jb3JkZXJQYXltZW50U3VjY2Vzcz5oMntwYWRkaW5nOjAgMzlweH0jb3JkZXJQYXltZW50U3VjY2Vzcz5oMiBzcGFue2ZvbnQtc2l6ZToxM3B4fSNvcmRlclBheW1lbnRTdWNjZXNzIHNwYW4uc2VwYXJhdG9ye2Rpc3BsYXk6YmxvY2s7Zm9udC1zaXplOjB9I29yZGVyUGF5bWVudFN1Y2Nlc3M+ZGl2e3dpZHRoOjkwJX0jb3JkZXJQYXltZW50U3VjY2Vzcz5kaXY+ZGl2LnNlY2Npb257Ym9yZGVyLXJpZ2h0OjAgIzQ1NDU0NSAwO2hlaWdodDphdXRvO3BhZGRpbmc6MjBweCAwO3dpZHRoOjEwMCV9I29yZGVyUGF5bWVudFN1Y2Nlc3N7bWFyZ2luOjE0MHB4IGF1dG99fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6NzY4cHgpeyNvcmRlclBheW1lbnRTdWNjZXNze30jb3JkZXJQYXltZW50U3VjY2Vzcz5oMiBzcGFuOmJlZm9yZXt0b3A6MTdweH0jb3JkZXJQYXltZW50U3VjY2Vzc3ttYXJnaW46MCBhdXRvfX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjYwMHB4KXsjb3JkZXJQYXltZW50U3VjY2Vzcz5kaXZ7bWFyZ2luOjAgYXV0b319I215QWNjb3VudENvbnRhaW5lcnttYXJnaW46MCA1MHB4O3BhZGRpbmctdG9wOjEwMHB4fS5maXhlZCsjbXlBY2NvdW50Q29udGFpbmVye3BhZGRpbmctdG9wOjEzNXB4O21hcmdpbjowIDUwcHh9I215QWNjb3VudENvbnRhaW5lciAuY3ViZXttYXgtd2lkdGg6NzAwcHg7bWFyZ2luOjAgYXV0bztmb250LXNpemU6MH0jbXlBY2NvdW50Q29udGFpbmVyIC5jdWJlPmgze3BhZGRpbmctdG9wOjM3cHg7cGFkZGluZy1ib3R0b206N3B4O2NvbG9yOiMwMjAyMDI7Zm9udC1zaXplOjE2cHg7Zm9udC13ZWlnaHQ6NTAwfSNteUFjY291bnRDb250YWluZXIgLmN1YmU+ZGl2PmRpdntwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDozMy4zMyU7ZGlzcGxheTppbmxpbmUtYmxvY2s7Ym94LXNpemluZzpib3JkZXItYm94O2ZvbnQtc2l6ZToxNXB4O3ZlcnRpY2FsLWFsaWduOnRvcDtwYWRkaW5nOjE3cHh9I215QWNjb3VudENvbnRhaW5lciAuY3ViZSAuYm9yZGVyQm94LCNteUFjY291bnRDb250YWluZXIgLmN1YmUgLmNhdGVnb3JpZXNCb3gsI215QWNjb3VudENvbnRhaW5lciAuY3ViZSAucGF5bWVudEJveHtib3JkZXI6c29saWQgMXB4ICM0NTQ1NDU7bWluLWhlaWdodDo1MHB4fSNteUFjY291bnRDb250YWluZXIgLmN1YmU+ZGl2PmRpdi5taWRkbGV7Ym9yZGVyLWxlZnQ6c29saWQgMXB4ICM0NTQ1NDU7Ym9yZGVyLXJpZ2h0OnNvbGlkIDFweCAjNDU0NTQ1fSNteUFjY291bnRDb250YWluZXIgLmN1YmUgLmZsb2F0UmlndGh7ZmxvYXQ6cmlnaHR9I215QWNjb3VudENvbnRhaW5lciAuY3ViZSAuaWNvbkhvbWV7dHJhbnNmb3JtOnNjYWxlKDAuOCk7dG9wOjVweH0jbXlBY2NvdW50Q29udGFpbmVyIC5jdWJlPmRpdiBsYWJlbHtkaXNwbGF5OmJsb2NrO2ZvbnQtd2VpZ2h0OjQwMDtmb250LXNpemU6MTRweDtwYWRkaW5nOjJweCAwO2NvbG9yOiMwMjAyMDJ9I215QWNjb3VudENvbnRhaW5lciAuY3ViZSBkaXYgLmZsb2F0UmlndGgrbGFiZWx7cGFkZGluZy10b3A6MTFweH0jbXlBY2NvdW50Q29udGFpbmVyIC5jdWJlIC5ibHVlTGluayBhe2ZvbnQtd2VpZ2h0OjQwMDtwYWRkaW5nOjAgMnB4O2ZvbnQtc2l6ZToxNXB4fSNteUFjY291bnRDb250YWluZXIgLmN1YmUgLnBheW1lbnRCb3h7Zm9udC1zaXplOjE1cHh9I215QWNjb3VudENvbnRhaW5lciAuY3ViZSAucGF5bWVudEJveCBpbWd7cGFkZGluZzo4cHggMTBweH0jbXlBY2NvdW50Q29udGFpbmVyIC5jdWJlIC5wYXltZW50Qm94IC5tYXN0ZXJjYXJ0e3BhZGRpbmc6MTVweCA3cHg7cGFkZGluZy1yaWdodDoxMnB4O2ZvbnQtc2l6ZToxNnB4fSNteUFjY291bnRDb250YWluZXIgLmN1YmUgLnBheW1lbnRCb3ggbGFiZWx7cGFkZGluZzoxOHB4IDJweDtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjp0b3B9I215QWNjb3VudENvbnRhaW5lciAuY3ViZSAucGF5bWVudEJveCBzcGFue3BhZGRpbmc6MThweCAycHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246dG9wO2ZvbnQtc2l6ZToxM3B4fSNteUFjY291bnRDb250YWluZXIgLmN1YmUgLm9wdGlvbiBzcGFue2ZvbnQtd2VpZ2h0OjMwMDtmb250LXNpemU6MTRweH0jbXlBY2NvdW50Q29udGFpbmVyIC5jdWJlIC5ub3RQcm9tb3Rpb25DaGVja2JveHttYXJnaW4tdG9wOjM3cHg7bWFyZ2luLWJvdHRvbTo2cHh9I215QWNjb3VudENvbnRhaW5lciAuY3ViZSAuY2F0ZWdvcmllc0JveCBwe2ZvbnQtc2l6ZToxNnB4O3BhZGRpbmc6MTRweCAxN3B4O2Rpc3BsYXk6aW5saW5lLWJsb2NrfSNteUFjY291bnRDb250YWluZXIgLmN1YmUgLmNhdGVnb3JpZXNCb3h7cG9zaXRpb246cmVsYXRpdmV9I215QWNjb3VudENvbnRhaW5lciAuY3ViZSAuY2F0ZWdvcmllc0JveC5kaXNhYmxlQm94e2JvcmRlcjpzb2xpZCAxcHggcmdiYSg2OSw2OSw2OSwuNDkpfSNteUFjY291bnRDb250YWluZXIgLmN1YmUgLmNhdGVnb3JpZXNCb3guZGlzYWJsZUJveDpiZWZvcmV7Y29udGVudDoiIjtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjE7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsLjQyKX0jbXlBY2NvdW50Q29udGFpbmVyIC5jdWJlIC5jYXRlZ29yaWVzQm94IC5jYXRlZ29yaWVzQ2hlY2tib3hlc3t3aWR0aDoxMDAlO3BhZGRpbmc6MDttYXJnaW46MDt3aGl0ZS1zcGFjZTpub3dyYXB9I215QWNjb3VudENvbnRhaW5lciAuY3ViZSAuY2F0ZWdvcmllc0JveCAuY2F0ZWdvcmllc0NoZWNrYm94ZXMgLm9wdGlvbntkaXNwbGF5OmlubGluZS1ibG9jazttYXJnaW46MTBweCAxM3B4O3doaXRlLXNwYWNlOm5vd3JhcH0jbXlBY2NvdW50Q29udGFpbmVyIC5jdWJlIC5jYXRlZ29yaWVzQm94IC5jYXRlZ29yaWVzQ2hlY2tib3hlcyAuQ2F0ZWdvcmllc3twYWRkaW5nOjE1cHggMTNweDtkaXNwbGF5OmlubGluZS1ibG9jaztib3JkZXItcmlnaHQ6c29saWQgMXB4ICM0NTQ1NDU7Y29sb3I6IzQ1NDU0NX0jcmVnaXN0ZXJDb3ZlciAubGlua3tkaXNwbGF5OmlubGluZS1ibG9jaztjb2xvcjojNTRiM2FkO2ZvbnQtc2l6ZToxNHB4O3Bvc2l0aW9uOnJlbGF0aXZlO3BhZGRpbmctdG9wOjIycHg7Y3Vyc29yOnBvaW50ZXJ9I2Zvcm0gLmFjY291bnREZXRhaWxzQnRuIC5zZWMtc2VuZGVyLWF7bWFyZ2luOjIwcHggYXV0b30uY2hhbmdlUGFzc3dvcmR7ZGlzcGxheTpub25lO3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjowO3doaXRlLXNwYWNlOm5vcm1hbH0uY2hhbmdlUGFzc3dvcmQgLnZhbGlkYXRlLWRpcmVjdGl2ZXtkaXNwbGF5OmJsb2NrO21hcmdpbjoyOHB4IDB9I2Zvcm0gLkNob29zZV9wYXltZW50e3BhZGRpbmc6MzBweCAwIDIycHg7ZGlzcGxheTpibG9ja30jYWNjb3VudENvdmVyIC5tYXhXaWR0aHttYXgtd2lkdGg6OTUwcHg7bWFyZ2luOjEwMHB4IGF1dG87cGFkZGluZzo0MHB4fSNhY2NvdW50Q292ZXIgI3BheW1lbnRNZXRob2QgLmJsdWVMaW5re2Rpc3BsYXk6aW5saW5lLWJsb2NrO2Zsb2F0OnJpZ2h0fSNwYXltZW50TWV0aG9kIC5vcHRpb24gc3BhbnttYXJnaW4tdG9wOjMwcHg7Zm9udC13ZWlnaHQ6NDAwO2Rpc3BsYXk6YmxvY2s7Y3Vyc29yOnBvaW50ZXJ9I3BheW1lbnRNZXRob2QgLm9wdGlvbi5ibG9ja2VkOmJlZm9yZXtjb250ZW50OiIiO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3otaW5kZXg6MTB9I2FjY291bnRDb3ZlciAucGF5bWVudE1ldGhvZHN7bWFyZ2luLWJvdHRvbTo0MHB4fSNhY2NvdW50Q292ZXIgI3BheW1lbnRNZXRob2QgLnNwbGl0ZXIgLnNlYy12aWV3e3BhZGRpbmctcmlnaHQ6MTAlfSNhY2NvdW50Q292ZXIgI3BheW1lbnRNZXRob2QgLnNlYy1zZW5kZXIgLnNlYy1zZW5kZXItYXt3aWR0aDoxMzRweH1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjc2OHB4KXsjbXlBY2NvdW50Q29udGFpbmVyIC5jdWJlIC5jYXRlZ29yaWVzQm94IC5jYXRlZ29yaWVzQ2hlY2tib3hlcyAub3B0aW9ue3dpZHRoOjI3JTt3aGl0ZS1zcGFjZTpub3JtYWx9I215QWNjb3VudENvbnRhaW5lcntwYWRkaW5nLXRvcDowIWltcG9ydGFudH0jYWNjb3VudENvdmVyIC5tYXhXaWR0aHttYXJnaW46MCBhdXRvfSNteUFjY291bnRDb250YWluZXIgLmN1YmUgLmNhdGVnb3JpZXNCb3ggLmNhdGVnb3JpZXNDaGVja2JveGVze3doaXRlLXNwYWNlOm5vcm1hbH0jbXlBY2NvdW50Q29udGFpbmVyIC5jdWJlIC5jYXRlZ29yaWVzQm94IC5jYXRlZ29yaWVzQ2hlY2tib3hlcyAuQ2F0ZWdvcmllc3twYWRkaW5nOjE1cHggMTNweDtkaXNwbGF5OmlubGluZS1ibG9jaztib3JkZXItcmlnaHQ6MCAxcHggIzQ1NDU0NTtib3JkZXItYm90dG9tOnNvbGlkIDFweCAjNDU0NTQ1O2JveC1zaXppbmc6Ym9yZGVyLWJveDt3aWR0aDoxMDAlfX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjYwMHB4KXsjbXlBY2NvdW50Q29udGFpbmVyIC5jdWJlIC5jYXRlZ29yaWVzQm94IC5jYXRlZ29yaWVzQ2hlY2tib3hlcyAub3B0aW9ue3dpZHRoOjQwJX19QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo0ODBweCl7I215QWNjb3VudENvbnRhaW5lciAuY3ViZSAuY2F0ZWdvcmllc0JveCAuY2F0ZWdvcmllc0NoZWNrYm94ZXMgLm9wdGlvbnt3aWR0aDoxMDAlfSNhY2NvdW50Q292ZXIgI2Zvcm0gLmFjY291bnREZXRhaWxzQnRuLndpdGhNYXJnaW57bWFyZ2luOjAhaW1wb3J0YW50O3dpZHRoOjEwMCUhaW1wb3J0YW50O2hlaWdodDphdXRvIWltcG9ydGFudDtwYWRkaW5nOjEycHggMDtmb250LXNpemU6MTVweDtmbG9hdDpub25lfSNhY2NvdW50Q292ZXIgI2Zvcm0gLmFjY291bnREZXRhaWxzQnRue3dpZHRoOjEwMCUhaW1wb3J0YW50O2hlaWdodDo0OXB4IWltcG9ydGFudH0jYWNjb3VudENvdmVyICNmb3JtQ292ZXI+ZGl2IGlucHV0W3R5cGU9dGV4dF0sI2Zvcm1Db3Zlcj5kaXYgaW5wdXRbdHlwZT1wYXNzd29yZF0sI2Zvcm1Db3Zlcj5kaXYgLmlucHV0dGV4dHt3aWR0aDoxMDAlIWltcG9ydGFudH0jbXlBY2NvdW50Q29udGFpbmVye21hcmdpbjowIDI1cHg7bWFyZ2luLWJvdHRvbTozNXB4fSNteUFjY291bnRDb250YWluZXIgLmN1YmU+ZGl2PmRpdnt3aWR0aDoxMDAlfSNteUFjY291bnRDb250YWluZXIgLmN1YmU+ZGl2PmRpdi5taWRkbGV7Ym9yZGVyLXRvcDpzb2xpZCAxcHggIzQ1NDU0NTtib3JkZXItYm90dG9tOnNvbGlkIDFweCAjNDU0NTQ1O2JvcmRlci1sZWZ0OjAgMXB4ICM0NTQ1NDU7Ym9yZGVyLXJpZ2h0OjAgMXB4ICM0NTQ1NDV9LmZpeGVkKyNteUFjY291bnRDb250YWluZXJ7bWFyZ2luLWJvdHRvbTo0MHB4fSNteUFjY291bnRDb250YWluZXIgLmN1YmUgLmZsb2F0UmlndGh7dG9wOjB9I215QWNjb3VudENvbnRhaW5lciAuY3ViZT5oM3tmb250LXNpemU6MTRweDtwYWRkaW5nLXRvcDoxOHB4fSNteUFjY291bnRDb250YWluZXIgLmN1YmUgLm9wdGlvbiBzcGFue2NvbG9yOiMwMjAyMDI7Zm9udC1zaXplOjE0cHg7Zm9udC13ZWlnaHQ6NDAwfSNteUFjY291bnRDb250YWluZXIgLmN1YmUgLmNhdGVnb3JpZXNCb3ggLmNhdGVnb3JpZXNDaGVja2JveGVze3dpZHRoOjEwMCV9I215QWNjb3VudENvbnRhaW5lciAuY3ViZSAuY2F0ZWdvcmllc0JveCBwe3BhZGRpbmctYm90dG9tOjB9I2luZm9EZW1vPmRpdnt3aWR0aDoxODVweDttYXJnaW46MzRweCBhdXRvfSNhY2NvdW50Q292ZXIgLm1heFdpZHRoe3BhZGRpbmc6MCAyMHB4fX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjM2NnB4KXsjbXlBY2NvdW50Q29udGFpbmVyIC5jdWJlIC5wYXltZW50Qm94IC5tYXN0ZXJjYXJ0e3BhZGRpbmc6MTVweCAwO3BhZGRpbmctcmlnaHQ6MH19QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDozNTBweCl7I215QWNjb3VudENvbnRhaW5lciAuY3ViZSAuZmxvYXRSaWd0aHtmbG9hdDpub25lfX0uZGVsZXRlQWNjb3VudFBvcHVwe3Bvc2l0aW9uOmZpeGVkO3RvcDo1MCU7bGVmdDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpO3dpZHRoOjQwMHB4O21heC13aWR0aDoxMDAlO2hlaWdodDoyMDBweDttYXgtaGVpZ2h0OjEwMCU7ei1pbmRleDoxMDAwMDtiYWNrZ3JvdW5kOiNmZmY7Ym9yZGVyLXJhZGl1czo1cHh9LnN1Y2Nlc3NmdWxEZWxldGVNZXNzYWdle3Bvc2l0aW9uOmZpeGVkO3RvcDo1MCU7bGVmdDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpO3dpZHRoOjQwMHB4O21heC13aWR0aDoxMDAlO2hlaWdodDoyMDBweDttYXgtaGVpZ2h0OjEwMCU7ei1pbmRleDoxMDAwMDtiYWNrZ3JvdW5kOiNmZmY7Ym9yZGVyLXJhZGl1czo1cHh9LmRlbGV0ZUFjY291bnRQb3B1cENvbnRlbnR7Zm9udC1zaXplOjE1cHg7bWFyZ2luLXRvcDoyMHB4O21hcmdpbi1ib3R0b206NTBweDttYXJnaW4tbGVmdDoxMHB4O2xldHRlci1zcGFjaW5nOi41cHg7Zm9udC13ZWlnaHQ6NjAwO3BhZGRpbmc6NXB4O292ZXJmbG93OmF1dG87ei1pbmRleDoxMDAwMH0uY2xvc2VEZWxldGV7ZGlzcGxheTpub25lfS5zaG93e2Rpc3BsYXk6YmxvY2t9LmRlbGV0ZVBvcHVwSW1ne21hcmdpbi1sZWZ0OjM0JTttYXJnaW4tdG9wOjEycHg7d2lkdGg6MTE1cHh9LmRlbGV0ZUJ0bkNvbnRhaW5lcnt9LmRlbGV0ZVBvcHVwQnRue3RleHQtYWxpZ246Y2VudGVyO2Rpc3BsYXk6YmxvY2s7aGVpZ2h0OjUwcHg7bGluZS1oZWlnaHQ6NTBweDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7Y29sb3I6I2ZmZjstd2Via2l0LXRyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuMnM7LW1vei10cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgLjJzO3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuMnN9LmRlbGV0ZVJlZHtiYWNrZ3JvdW5kOiNmYzcxNjk7ZmxvYXQ6bGVmdDt3aWR0aDo1MCU7Ym9yZGVyLXJhZGl1czowIDAgMCAuMmVtfS5kZWxldGVHcmVlbntiYWNrZ3JvdW5kOiMzNWE3ODU7Ym9yZGVyLXJhZGl1czowIDAgLjNlbX0uZGVsZXRlSWNvbnttYXJnaW4tbGVmdDotMjhweH0uZGVsZXRlSWNvbjpob3Zlcntjb2xvcjojZmZmfS5kZWxldGVNYWluQnRuQ29udGFpbmVye21hcmdpbi10b3A6NjBweDttYXJnaW4tbGVmdDo0MCU7Ym9yZGVyLXdpZHRoOjEuNXB4fS5kZWxldGVCdG5UZXh0e30ubW9kaWZpY2F0aW9uT25le21hcmdpbi10b3A6MjVweH0ubW9kaWZpY2F0aW9uVHdve21hcmdpbi10b3A6MjVweDttYXJnaW4tbGVmdDo3MHB4fS5teU9yZGVyU2VjdGlvbiAuY292ZXJ7bWFyZ2luOjIwcHggYXV0bzttYXgtd2lkdGg6MTEwMHB4fS5teU9yZGVyU2VjdGlvbiAuY292ZXIgdGFibGV7d2lkdGg6MTAwJTtib3JkZXItY29sbGFwc2U6Y29sbGFwc2V9Lm15T3JkZXJTZWN0aW9uIC5jb3ZlciB0YWJsZXt3aWR0aDoxMDAlfS5teU9yZGVyU2VjdGlvbiB0cjpub3QoLmlubmVyVHIpIHRke2JvcmRlci10b3A6MXB4IHNvbGlkIHJnYmEoMTg5LDE4OSwxODcsMSl9Lm15T3JkZXJTZWN0aW9uIC5jb3ZlciB0YWJsZSBsYWJlbHtkaXNwbGF5OmJsb2NrO2NvbG9yOiMyYTJhMmE7cGFkZGluZzoxMnB4fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6ODUwcHgpey5tb2JpbGUtb3JkZXItZWxlbWVudHttYXgtd2lkdGg6MjgwcHh9fS5teU9yZGVyU2VjdGlvbiAuY292ZXIgLmNlbnRlcnt0ZXh0LWFsaWduOmNlbnRlcn0ubXlPcmRlclNlY3Rpb24gLmNvdmVyIC5yaWdodHt0ZXh0LWFsaWduOnJpZ2h0fS5teU9yZGVyU2VjdGlvbiAuY292ZXIgdGFibGUgdGggbGFiZWwsLm15T3JkZXJTZWN0aW9uIC50YWJsZXRzU2VjdGlvbiBsYWJlbHtmb250LXNpemU6MTFweH0ubXlPcmRlclNlY3Rpb24gLmNvdmVyIHRhYmxlIGltZywubXlPcmRlclNlY3Rpb24gLnByb2R1Y3RzIGltZ3twYWRkaW5nOjE4cHggMTBweDtkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDoxMDBweH0ubXlPcmRlclNlY3Rpb24gLmNvdmVyIHRhYmxlIHRkIGxhYmVsLC5teU9yZGVyU2VjdGlvbiAudGFibGV0c1NlY3Rpb24gLnByb2R1Y3RzIGxhYmVse2ZvbnQtc2l6ZToxNnB4fS5teU9yZGVyU2VjdGlvbiAuY292ZXIgLmxlZnR7dGV4dC1hbGlnbjpsZWZ0fS5teU9yZGVyU2VjdGlvbiAuY292ZXIgdGFibGUgdGQgc3Bhbnt2ZXJ0aWNhbC1hbGlnbjp0b3A7cGFkZGluZzo0NXB4IDEwcHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7Zm9udC1zaXplOjE2cHh9LmFjdGlvbnMucmVtb3ZlLXByb2R1Y3Q6aG92ZXJ7Y29sb3I6IzU0YjNhZH0uYWN0aW9ucy5yZW1vdmUtcHJvZHVjdHtmb250LXNpemU6OXB4IWltcG9ydGFudDtwYWRkaW5nOjAgMTJweCFpbXBvcnRhbnQ7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7dGV4dC1hbGlnbjpyaWdodCFpbXBvcnRhbnQ7Y3Vyc29yOnBvaW50ZXJ9Lm15T3JkZXJTZWN0aW9uIC5lbGlwc2V7d2lkdGg6MjBweDtoZWlnaHQ6MjBweDtib3JkZXItcmFkaXVzOjIwcHg7ZGlzcGxheTpibG9jazttYXJnaW46MCBhdXRvfS5teU9yZGVyU2VjdGlvbiAudGFibGV0c1NlY3Rpb257ZGlzcGxheTpub25lfS5teU9yZGVyU2VjdGlvbiAuYmlnRW1wdHlPcmRlcntmb250LXNpemU6MzBweDtwYWRkaW5nOjIwcHggMTJweDttYXJnaW4tdG9wOjE4MHB4fS5teU9yZGVyU2VjdGlvbiAuYmlnRW1wdHlPcmRlciBsYWJlbHtkaXNwbGF5OmJsb2NrfS5vcmRlci1zZWFyY2gtY29udGFpbmVye21hcmdpbjowIGF1dG87bWF4LXdpZHRoOjExMDBweDtjdXJzb3I6cG9pbnRlcn1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjEyNTBweCl7Lm15T3JkZXJTZWN0aW9uIC5jb3ZlciB0YWJsZXtkaXNwbGF5Om5vbmV9Lm15T3JkZXJTZWN0aW9uIC50YWJsZXRzU2VjdGlvbntkaXNwbGF5OmJsb2NrfS5teU9yZGVyU2VjdGlvbiAudGFibGV0c1NlY3Rpb24gLnRpdGxle2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHJnYmEoMTg5LDE4OSwxODcsMSl9Lm15T3JkZXJTZWN0aW9uIC50YWJsZXRzU2VjdGlvbiAub3JkZXJEZXRhaWxze2JhY2tncm91bmQtY29sb3I6I0Y0RjRGMn0ubXlPcmRlclNlY3Rpb24gLnRhYmxldHNTZWN0aW9uIC50aXRsZSwubXlPcmRlclNlY3Rpb24gLnByb2R1Y3RzIC5vcmRlckRldGFpbHN7ZGlzcGxheTp0YWJsZTt3aWR0aDoxMDAlfS5teU9yZGVyU2VjdGlvbiAudGFibGV0c1NlY3Rpb24gLnRpdGxlPmRpdiwubXlPcmRlclNlY3Rpb24gLnByb2R1Y3RzIC5vcmRlckRldGFpbHM+ZGl2e2Rpc3BsYXk6dGFibGUtY2VsbDt3aWR0aDozMyV9Lm15T3JkZXJTZWN0aW9uIC50YWJsZXRzU2VjdGlvbiAudGl0bGUgbGFiZWwsLm15T3JkZXJTZWN0aW9uIC5wcm9kdWN0cyAub3JkZXJEZXRhaWxzIGxhYmVse2Rpc3BsYXk6YmxvY2s7cGFkZGluZzoxMHB4fS5teU9yZGVyU2VjdGlvbiAucHJvZHVjdHMgLm9yZGVyRGV0YWlscyBpbWd7d2lkdGg6ODBweDtwYWRkaW5nOjEwcHggMH0ubXlPcmRlclNlY3Rpb24gLnByb2R1Y3RzIGRpdi5wcm9kdWN0TmFtZXtkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjpyZWxhdGl2ZTt2ZXJ0aWNhbC1hbGlnbjp0b3A7aGVpZ2h0OjgwcHg7bWFyZ2luOjE1cHggMH0ubXlPcmRlclNlY3Rpb24gLnByb2R1Y3RzIGRpdi5wcm9kdWN0TmFtZT5zcGFue2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlfS5teU9yZGVyU2VjdGlvbiAucHJvZHVjdHMgZGl2LnByb2R1Y3ROYW1lPmRpdntwb3NpdGlvbjphYnNvbHV0ZTtib3R0b206MDtjb2xvcjojODI4MjgyfS5teU9yZGVyU2VjdGlvbiAucHJvZHVjdHMgZGl2LnByb2R1Y3ROYW1lPmRpdj4qe2Rpc3BsYXk6YmxvY2t9Lm15T3JkZXJTZWN0aW9uIC5wcm9kdWN0cyBkaXYucHJvZHVjdE5hbWU+ZGl2ICp7Zm9udC1zaXplOjExcHh9fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6NzY4cHgpey5teU9yZGVyU2VjdGlvbnttYXJnaW46MCFpbXBvcnRhbnR9Lm15T3JkZXJTZWN0aW9uIC5iaWdFbXB0eU9yZGVye2ZvbnQtc2l6ZTozMHB4O3BhZGRpbmc6MjBweCAxMnB4O21hcmdpbi10b3A6MH19QGZvbnQtZmFjZXtmb250LWZhbWlseTpsb2NhbFJvYm90b1RoaW47c3JjOnVybChmb250cy9yb2JvdG9fdGhpbl9tYWNyb21hbi9Sb2JvdG8tVGhpbi13ZWJmb250LmVvdCk7c3JjOnVybChmb250cy9yb2JvdG9fdGhpbl9tYWNyb21hbi9Sb2JvdG8tVGhpbi13ZWJmb250LmVvdD8jaWVmaXgpIGZvcm1hdCgnZW1iZWRkZWQtb3BlbnR5cGUnKSx1cmwoZm9udHMvcm9ib3RvX3RoaW5fbWFjcm9tYW4vUm9ib3RvLVRoaW4td2ViZm9udC53b2ZmKSBmb3JtYXQoJ3dvZmYnKSx1cmwoZm9udHMvcm9ib3RvX3RoaW5fbWFjcm9tYW4vUm9ib3RvLVRoaW4td2ViZm9udC50dGYpIGZvcm1hdCgndHJ1ZXR5cGUnKSx1cmwoZm9udHMvcm9ib3RvX3RoaW5fbWFjcm9tYW4vUm9ib3RvLVRoaW4td2ViZm9udC5zdmcjUm9ib3RvTWVkaXVtSXRhbGljKSBmb3JtYXQoJ3N2ZycpO2ZvbnQtd2VpZ2h0OjIwMDtmb250LXN0eWxlOm5vcm1hbH1AZm9udC1mYWNle2ZvbnQtZmFtaWx5OmxvY2FsUm9ib3RvTGlnaHQ7c3JjOnVybChmb250cy9yb2JvdG9fbGlnaHRfbWFjcm9tYW4vUm9ib3RvLUxpZ2h0LXdlYmZvbnQuZW90KTtzcmM6dXJsKGZvbnRzL3JvYm90b19saWdodF9tYWNyb21hbi9Sb2JvdG8tTGlnaHQtd2ViZm9udC5lb3Q/I2llZml4KSBmb3JtYXQoJ2VtYmVkZGVkLW9wZW50eXBlJyksdXJsKGZvbnRzL3JvYm90b19saWdodF9tYWNyb21hbi9Sb2JvdG8tTGlnaHQtd2ViZm9udC53b2ZmKSBmb3JtYXQoJ3dvZmYnKSx1cmwoZm9udHMvcm9ib3RvX2xpZ2h0X21hY3JvbWFuL1JvYm90by1MaWdodC13ZWJmb250LnR0ZikgZm9ybWF0KCd0cnVldHlwZScpLHVybChmb250cy9yb2JvdG9fbGlnaHRfbWFjcm9tYW4vUm9ib3RvLUxpZ2h0LXdlYmZvbnQuc3ZnI1JvYm90b01lZGl1bUl0YWxpYykgZm9ybWF0KCdzdmcnKTtmb250LXdlaWdodDoyMDA7Zm9udC1zdHlsZTpub3JtYWx9QGZvbnQtZmFjZXtmb250LWZhbWlseTpsb2NhbFJvYm90b1JlZ3VsYXI7c3JjOnVybChmb250cy9yb2JvdG9fcmVndWxhcl9tYWNyb21hbi9Sb2JvdG8tUmVndWxhci13ZWJmb250LmVvdCk7c3JjOnVybChmb250cy9yb2JvdG9fcmVndWxhcl9tYWNyb21hbi9Sb2JvdG8tUmVndWxhci13ZWJmb250LmVvdD8jaWVmaXgpIGZvcm1hdCgnZW1iZWRkZWQtb3BlbnR5cGUnKSx1cmwoZm9udHMvcm9ib3RvX3JlZ3VsYXJfbWFjcm9tYW4vUm9ib3RvLVJlZ3VsYXItd2ViZm9udC53b2ZmKSBmb3JtYXQoJ3dvZmYnKSx1cmwoZm9udHMvcm9ib3RvX3JlZ3VsYXJfbWFjcm9tYW4vUm9ib3RvLVJlZ3VsYXItd2ViZm9udC50dGYpIGZvcm1hdCgndHJ1ZXR5cGUnKSx1cmwoZm9udHMvcm9ib3RvX3JlZ3VsYXJfbWFjcm9tYW4vUm9ib3RvLVJlZ3VsYXItd2ViZm9udC5zdmcjUm9ib3RvTWVkaXVtSXRhbGljKSBmb3JtYXQoJ3N2ZycpO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0OjQwMH1AZm9udC1mYWNle2ZvbnQtZmFtaWx5OmxvY2FsUm9ib3RvTWVkaXVtO3NyYzp1cmwoZm9udHMvcm9ib3RvX21lZGl1bV9tYWNyb21hbi9Sb2JvdG8tTWVkaXVtLXdlYmZvbnQuZW90KTtzcmM6dXJsKGZvbnRzL3JvYm90b19tZWRpdW1fbWFjcm9tYW4vUm9ib3RvLU1lZGl1bS13ZWJmb250LmVvdD8jaWVmaXgpIGZvcm1hdCgnZW1iZWRkZWQtb3BlbnR5cGUnKSx1cmwoZm9udHMvcm9ib3RvX21lZGl1bV9tYWNyb21hbi9Sb2JvdG8tTWVkaXVtLXdlYmZvbnQud29mZikgZm9ybWF0KCd3b2ZmJyksdXJsKGZvbnRzL3JvYm90b19tZWRpdW1fbWFjcm9tYW4vUm9ib3RvLU1lZGl1bS13ZWJmb250LnR0ZikgZm9ybWF0KCd0cnVldHlwZScpLHVybChmb250cy9yb2JvdG9fbWVkaXVtX21hY3JvbWFuL1JvYm90by1NZWRpdW0td2ViZm9udC5zdmcjUm9ib3RvTWVkaXVtSXRhbGljKSBmb3JtYXQoJ3N2ZycpO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0OjUwMH1AZm9udC1mYWNle2ZvbnQtZmFtaWx5OmxvY2FsUm9ib3RvQm9sZDtzcmM6dXJsKGZvbnRzL3JvYm90b19ib2xkX21hY3JvbWFuL1JvYm90by1Cb2xkLXdlYmZvbnQuZW90KTtzcmM6dXJsKGZvbnRzL3JvYm90b19ib2xkX21hY3JvbWFuL1JvYm90by1Cb2xkLXdlYmZvbnQuZW90PyNpZWZpeCkgZm9ybWF0KCdlbWJlZGRlZC1vcGVudHlwZScpLHVybChmb250cy9yb2JvdG9fYm9sZF9tYWNyb21hbi9Sb2JvdG8tQm9sZC13ZWJmb250LndvZmYpIGZvcm1hdCgnd29mZicpLHVybChmb250cy9yb2JvdG9fYm9sZF9tYWNyb21hbi9Sb2JvdG8tQm9sZC13ZWJmb250LnR0ZikgZm9ybWF0KCd0cnVldHlwZScpLHVybChmb250cy9yb2JvdG9fYm9sZF9tYWNyb21hbi9Sb2JvdG8tQm9sZC13ZWJmb250LnN2ZyNSb2JvdG9NZWRpdW1JdGFsaWMpIGZvcm1hdCgnc3ZnJyk7Zm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6ODAwfSp7Zm9udC1mYW1pbHk6bG9jYWxSb2JvdG9SZWd1bGFyfWh0bWwsYm9keXttYXJnaW46MDtwYWRkaW5nOjB9I2NoYXR7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtwb3NpdGlvbjpmaXhlZDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7cGFkZGluZzoyMHB4IDMwcHg7Ym94LXNpemluZzpib3JkZXItYm94O292ZXJmbG93LXk6c2Nyb2xsO2JvcmRlci1ib3R0b206NTJweCBzb2xpZCAjZmZmfSNjaGF0PiNjaGF0Qm9keXttYXgtd2lkdGg6ODAwcHg7bWFyZ2luOjAgYXV0b30jY2hhdCAuY2hhdC1kYXRle2ZvbnQtc2l6ZToxMnB4O2NvbG9yOiM4MjgyODI7dGV4dC1hbGlnbjpjZW50ZXJ9I2NoYXQgLmNoYXQtZGF0ZSBpbWd7bWFyZ2luOi0ycHggM3B4fSNjaGF0IC5hc3Npc3RhbnR7d2lkdGg6NjVweDt0ZXh0LWFsaWduOmNlbnRlcjtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjp0b3B9I2NoYXQgLm1lc3NhZ2UgLmFzc2lzdGFudCBpbWd7d2lkdGg6NDVweH0jY2hhdCAubWVzc2FnZS51c2Vye2RpcmVjdGlvbjpydGx9I2NoYXQgLm1lc3NhZ2UgLmFzc2lzdGFudCBzcGFue2ZvbnQtc2l6ZToxMXB4O2NvbG9yOiM4MjgyODI7ZGlzcGxheTpibG9ja30jY2hhdCAubWVzc2FnZSAuYmFsbG9uLCNjaGF0IC5tZXNzYWdlIC53cml0dGVue2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjUwJTt2ZXJ0aWNhbC1hbGlnbjp0b3A7cG9zaXRpb246cmVsYXRpdmU7dG9wOjExcHg7Ym94LXNpemluZzpib3JkZXItYm94fSNjaGF0IC5tZXNzYWdlIC5iYWxsb257YmFja2dyb3VuZC1jb2xvcjojNTRiM2FkO3BhZGRpbmc6MCA0MHB4IDAgMjVweDtib3JkZXItcmFkaXVzOjAgNjBweCA2MHB4O3RvcDoyMHB4O21hcmdpbi1ib3R0b206MzBweH0jY2hhdCAubWVzc2FnZS51c2VyIC5iYWxsb257YmFja2dyb3VuZC1jb2xvcjojZWNlY2VjO2JvcmRlci1yYWRpdXM6NjBweCAwIDYwcHggNjBweDtwYWRkaW5nOjAgNDBweDtkaXJlY3Rpb246bHRyfSNjaGF0IC5tZXNzYWdlIC5iYWxsb24gcHtjb2xvcjojZmZmO2ZvbnQtc2l6ZToxM3B4fSNjaGF0IC5tZXNzYWdlLnVzZXIgLmJhbGxvbiBwe2NvbG9yOiMyYTJhMmE7dGV4dC1hbGlnbjpsZWZ0fSNjaGF0IC5tZXNzYWdlLnVzZXIgLmJhbGxvbiBwe2NvbG9yOiMyYTJhMmE7dGV4dC1hbGlnbjpsZWZ0fSNjaGF0IC5tZXNzYWdlIC53cml0dGVuIHVse2xpc3Qtc3R5bGU6bm9uZTtwYWRkaW5nOjA7bWFyZ2luOjB9I2NoYXQgLm1lc3NhZ2UgLndyaXR0ZW4gdWwgbGl7d2lkdGg6NnB4O2hlaWdodDo2cHg7Ym9yZGVyLXJhZGl1czoxMHB4O21hcmdpbi1sZWZ0OjdweDtiYWNrZ3JvdW5kLWNvbG9yOiM1NGIzYWQ7ZGlzcGxheTppbmxpbmUtYmxvY2s7LXdlYmtpdC1hbmltYXRpb24tZmlsbC1tb2RlOmJvdGg7YW5pbWF0aW9uLWZpbGwtbW9kZTpib3RoOy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOjFzO2FuaW1hdGlvbi1kdXJhdGlvbjoxczstd2Via2l0LWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6aW5maW5pdGU7YW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDppbmZpbml0ZTstd2Via2l0LWFuaW1hdGlvbi1uYW1lOndyaXR0ZW5SaWdodE5vdzstbW96LWFuaW1hdGlvbi1uYW1lOndyaXR0ZW5SaWdodE5vdzstby1hbmltYXRpb24tbmFtZTp3cml0dGVuUmlnaHROb3c7YW5pbWF0aW9uLW5hbWU6d3JpdHRlblJpZ2h0Tm93O2FuaW1hdGlvbi1kZWxheTowczt0cmFuc2Zvcm06c2NhbGUoMSl9I2NoYXQgLm1lc3NhZ2UgLndyaXR0ZW4gdWwgbGk6bnRoLWNoaWxkKDIpe2FuaW1hdGlvbi1kZWxheTouMnM7YmFja2dyb3VuZC1jb2xvcjojOThkMWNlfSNjaGF0IC5tZXNzYWdlIC53cml0dGVuIHVsIGxpOm50aC1jaGlsZCgzKXthbmltYXRpb24tZGVsYXk6LjRzO2JhY2tncm91bmQtY29sb3I6I2JiZTFkZX1Aa2V5ZnJhbWVzIHdyaXR0ZW5SaWdodE5vd3tmcm9te2JhY2tncm91bmQtY29sb3I6IzU0YjNhZH03MCV7YmFja2dyb3VuZC1jb2xvcjojYmJlMWRlO3RyYW5zZm9ybTpzY2FsZSgxKX10b3tiYWNrZ3JvdW5kLWNvbG9yOiM1NGIzYWR9fSNib3R0b21TZWN0aW9ue3Bvc2l0aW9uOmZpeGVkO2JvdHRvbTowO3otaW5kZXg6MjA7d2lkdGg6MTAwJTtib3JkZXI6c29saWQgMXB4ICNlOGU4ZTh9I2J0blNlbmRlci5kaXNhYmxle29wYWNpdHk6LjN9I2JvdHRvbVNlY3Rpb24gaW5wdXRbdHlwZT10ZXh0XXtmb250LXNpemU6MTRweDtjb2xvcjojODI4MjgyO2ZvbnQtZmFtaWx5OmxvY2FsUm9ib3RvTGlnaHQ7d2lkdGg6Y2FsYygxMDAlIC0gNjRweCk7ZGlzcGxheTppbmxpbmUtYmxvY2s7cGFkZGluZzoxNXB4IDMwcHg7Ym94LXNpemluZzpib3JkZXItYm94O2JvcmRlcjowO291dGxpbmU6MH0jYm90dG9tU2VjdGlvbiBpbWd7Y3Vyc29yOnBvaW50ZXI7cGFkZGluZzoxMHB4O3ZlcnRpY2FsLWFsaWduOm1pZGRsZX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjQ1MHB4KXsjY2hhdCAuYXNzaXN0YW50e3dpZHRoOmF1dG99I2NoYXQgLm1lc3NhZ2UgLmFzc2lzdGFudCBpbWcsI2NoYXQgLm1lc3NhZ2UgLmFzc2lzdGFudCBzcGFue2Rpc3BsYXk6aW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTtwYWRkaW5nOjAgNXB4fSNjaGF0IC5tZXNzYWdlIC5iYWxsb257d2lkdGg6MTAwJTt0b3A6NXB4fSNjaGF0IC5jaGF0LWRhdGV7bWFyZ2luLWJvdHRvbToyMHB4fX0jcG5ne3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6OTAwMDA7dG9wOjA7dG9wOi0xNHB4O29wYWNpdHk6LjM5fSp7bWFyZ2luOjA7cGFkZGluZzowO291dGxpbmU6MH0ubG9hZGVye3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7cG9zaXRpb246Zml4ZWQ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC41KTt6LWluZGV4OjEwMDE7ZGlzcGxheTpub25lfS5sb2FkZXI+ZGl2e3Bvc2l0aW9uOmFic29sdXRlO3RvcDo0OSU7bGVmdDowO3JpZ2h0OjA7d2lkdGg6NTBweDtoZWlnaHQ6NTBweDttYXJnaW46MCBhdXRvO3RyYW5zZm9ybTpzY2FsZSgxLjYpfS5sb2FkZXIgZGl2OmJlZm9yZXt9Ym9keXtwb3NpdGlvbjpyZWxhdGl2ZTtsZWZ0OjA7b3ZlcmZsb3cteDpoaWRkZW47ZGlzcGxheTpibG9ja30ubm8tYm90dG9tLXBhZGRpbmd7cGFkZGluZy1ib3R0b206MH1kaXYubW9iaWxlLWJ0bi1oYW5kbGVye3BhZGRpbmc6MCA1cHg7bWFyZ2luOjE2cHggMTBweDtkaXNwbGF5Om5vbmU7Y3Vyc29yOnBvaW50ZXJ9ZGl2Lm1vYmlsZS1idG4taGFuZGxlciBzcGFue2Rpc3BsYXk6YmxvY2s7d2lkdGg6MjVweDtoZWlnaHQ6M3B4O21hcmdpbjo1cHggMDtiYWNrZ3JvdW5kLWNvbG9yOiMzMzN9I21vYmlsZS1zZWN0aW9ue2JhY2tncm91bmQtY29sb3I6I2ZmZjtwb3NpdGlvbjpmaXhlZDt0b3A6MzhweDtsZWZ0Ojk5OTlweDtoZWlnaHQ6MTAwJTt6LWluZGV4Ojk5MH0jbW9iaWxlLXNlY3Rpb24gdWx7Zm9udC1zaXplOjB9I21vYmlsZS1zZWN0aW9uIC5jYXJ0e2ZvbnQtc2l6ZToxMnB4O3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3BhZGRpbmc6MTBweCA0cHggMTBweCAwO2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXItcmFkaXVzOjAgMTBweCAxMHB4IDB9I21vYmlsZS1zZWN0aW9uIC5pbWd7cGFkZGluZzoxNHB4O2JhY2tncm91bmQtY29sb3I6I2ZmZjtkaXNwbGF5OmJsb2NrO3RleHQtYWxpZ246Y2VudGVyO2N1cnNvcjpwb2ludGVyO3Bvc2l0aW9uOnJlbGF0aXZlO3BhZGRpbmctbGVmdDo4cHh9I21vYmlsZS1zZWN0aW9uIC5pbWc6YWN0aXZle2JhY2tncm91bmQtY29sb3I6I2VkZWRlZH0jbW9iaWxlLXNlY3Rpb24gLmhpLXVzZXJ7Zm9udC1zaXplOjE2cHg7ZGlzcGxheTpibG9jaztwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6N3B4fS5tb2JpbGVUaXRsZXtwb3NpdGlvbjpmaXhlZDt0b3A6OTFweDt6LWluZGV4Ojk5OTl9LnBvaW50ZXJ7Y3Vyc29yOnBvaW50ZXJ9LnVpdmlld3twYWRkaW5nLXRvcDo2NXB4fWhlYWRlcntwb3NpdGlvbjpmaXhlZDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7d2lkdGg6MTAwJTt6LWluZGV4Ojk5OTt0b3A6MH1uYXZ7ZGlyZWN0aW9uOnJ0bH1uYXYgLm5hdkxpbmtze2Rpc3BsYXk6bm9uZTt3aGl0ZS1zcGFjZTpub3dyYXB9bmF2IHVse2Zsb2F0OnJpZ2h0O2Rpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbjo3cHggMTVweCAwIDB9bmF2IHVsIGxpe2Rpc3BsYXk6aW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOnRvcDtwb3NpdGlvbjpyZWxhdGl2ZX1uYXYgdWwgbGk+dWx7Zm9udC1zaXplOjB9bmF2IHVsIGxpPmF7Zm9udC1zaXplOjE2cHg7Y3Vyc29yOnBvaW50ZXI7ZGlzcGxheTpibG9jazt0ZXh0LWRlY29yYXRpb246bm9uZTtwYWRkaW5nOjlweDt0cmFuc2l0aW9uOmFsbCAxcyBlYXNlO3RyYW5zZm9ybTpzY2FsZSgxKTtvcGFjaXR5OjE7Y29sb3I6IzMxMzEzMTt3aGl0ZS1zcGFjZTpub3dyYXB9bmF2IHVsIGxpPmEgLm1pbmktdGl0bGV7d2hpdGUtc3BhY2U6bm9ybWFsfW5hdiB1bCBsaT5hIC5taW5pLXRpdGxlLWhlbHB7d2hpdGUtc3BhY2U6bm9ybWFsfW5hdiB1bCBsaSBhLnNlYXJjaFNlY3Rpb25FbmFibGVke3RyYW5zZm9ybTpzY2FsZSgwKTtvcGFjaXR5OjB9bmF2IHVsIGxpIGEgc3Bhbi5jYXJ0e3Bvc2l0aW9uOmFic29sdXRlO2ZvbnQtc2l6ZToxM3B4O3RvcDotM3B4O3JpZ2h0Oi0ycHh9bmF2IHVsIGxpIGEubWVudXtwYWRkaW5nOjEwcHggNjZweH1uYXYgdWwgbGk6bnRoLWNoaWxkKDMpIGEubWVudXtwYWRkaW5nLXJpZ2h0OjUzcHh9bmF2IHVsIGxpPmE6bm90KC5pbWcpe29wYWNpdHk6Ljg7cGFkZGluZzoxNXB4IDE4cHh9bmF2IHVsIGxpIGE6bm90KC5pbWcpOmhvdmVye29wYWNpdHk6MX1uYXYgLmltZ3twb3NpdGlvbjpyZWxhdGl2ZTt0b3A6NHB4fW5hdiAuaW1nPmltZ3toZWlnaHQ6MjVweH1uYXYgLmltZz4uaGktdXNlcntmb250LXNpemU6MTVweDtwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6LTdweDtwYWRkaW5nOjA7bGVmdDotN3B4O21hcmdpbi1sZWZ0OjExcHg7Zm9udC13ZWlnaHQ6NDAwO3otaW5kZXg6MX1kaXYubG9nb3tmbG9hdDpsZWZ0fWRpdi5sb2dvIGF7ZGlyZWN0aW9uOmx0cjtkaXNwbGF5OmlubGluZS1ibG9jaztwYWRkaW5nOjEwcHg7dmVydGljYWwtYWxpZ246dG9wO2ZvbnQtc2l6ZTowfWRpdi5sb2dvIGEgc3Bhbntmb250LXNpemU6MzBweDtjb2xvcjojMzEzMTMxO3ZlcnRpY2FsLWFsaWduOmJvdHRvbTtkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjpyZWxhdGl2ZTtsZWZ0Oi0ycHg7dG9wOjNweH1kaXYubG9nbyBzcGFuLmxvZ29EZW1ve2ZvbnQtc2l6ZToyMS41cHg7cGFkZGluZzozcHggMnB4fWRpdi5sb2dvIGltZ3t2ZXJ0aWNhbC1hbGlnbjp0b3A7cGFkZGluZzoxMHB4IDI1cHh9I3Njcm9sbFRvVG9we3Bvc2l0aW9uOmZpeGVkO21hcmdpbjo3MHB4IDIwcHg7Ym90dG9tOjA7cmlnaHQ6MDtvcGFjaXR5Oi44O3RyYW5zaXRpb246YWxsIDFzIGVhc2U7ZGlzcGxheTpub25lO3otaW5kZXg6OTk5OTtib3JkZXItcmFkaXVzOjEwMCV9I3Njcm9sbFRvVG9wIHB7dHJhbnNmb3JtOnNjYWxlKDAuOCk7b3BhY2l0eTowfSNzY3JvbGxUb1RvcDpob3ZlcntvcGFjaXR5OjF9Lm5hdi1saS1MaW5rc3tkaXNwbGF5OmlubGluZS1ibG9ja30uY2VsbHtkaXNwbGF5OnRhYmxlLWNlbGx9Zm9vdGVye3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDtyaWdodDowO2JvdHRvbTowO21hcmdpbi10b3A6OTBweDtiYWNrZ3JvdW5kLWNvbG9yOiNGNEY0RjI7Zm9udC1zaXplOjA7ei1pbmRleDo1MH1mb290ZXI+ZGl2e3BhZGRpbmc6MTBweCAwO3dpZHRoOjgwJTttYXJnaW46MCBhdXRvO3RleHQtYWxpZ246Y2VudGVyfWZvb3RlciBpbWd7bWFyZ2luOjE3cHggMzFweDt3aWR0aDo4MnB4fWZvb3RlciBsYWJlbHtmb250LXNpemU6MTRweDtwYWRkaW5nOjM0cHggMCAwO2NvbG9yOiM2YzZjNmM7ZGlzcGxheTpibG9ja31mb290ZXIgLnNwbGl0dGVye2Rpc3BsYXk6bm9uZX0jbW9iaWxlU2VhcmNoe3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6bm9uZX0jbW9iaWxlU2VhcmNoIGlucHV0e3dpZHRoOjEwMCU7YmFja2dyb3VuZC1jb2xvcjojZWRlZGVkO3BhZGRpbmc6N3B4O2ZvbnQtc2l6ZToxOHB4O2JvcmRlcjowO2NvbG9yOiMwMDB9I21vYmlsZVNlYXJjaCAuaW1ne3Bvc2l0aW9uOmFic29sdXRlO3RvcDo3cHg7cmlnaHQ6OHB4O2N1cnNvcjpwb2ludGVyfSNtb2JpbGVTZWFyY2ggOjotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVye2ZvbnQtd2VpZ2h0OjMwMH0jbW9iaWxlU2VhcmNoIDotbXMtaW5wdXQtcGxhY2Vob2xkZXJ7Zm9udC13ZWlnaHQ6MzAwfSNtb2JpbGVTZWFyY2ggOi1tb3otcGxhY2Vob2xkZXJ7Zm9udC13ZWlnaHQ6MzAwfSN0b2FzdHt0b3A6NjBweDtib3JkZXItcmFkaXVzOjUwcHg7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDEyOCwxMjgsMTI4LC44NSk7ei1pbmRleDo5OTk7cG9zaXRpb246Zml4ZWQ7ZGlzcGxheTpub25lO21hcmdpbjowIGF1dG87bGVmdDowO3JpZ2h0OjA7d2lkdGg6ODglO3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtd2VpZ2h0OjYwMDtjb2xvcjojZmZmfSN0b2FzdCBhe3BhZGRpbmc6MTBweDtkaXNwbGF5OmJsb2NrfSN0ZWFte3Bvc2l0aW9uOmZpeGVkO2Rpc3BsYXk6bm9uZTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2JhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuNSk7ei1pbmRleDo5OTk5OX0jdGVhbSAuY29udGFpbmVye2Rpc3BsYXk6dGFibGUtY2VsbDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGV9I3RlYW0gLmltZ3ttYXJnaW4tbGVmdDphdXRvO21hcmdpbi1yaWdodDphdXRvO3dpZHRoOjY1JX0jdGVhbSAuaW1nIGltZ3t3aWR0aDoxMDAlO2JvcmRlci1yYWRpdXM6MnB4O2JveC1zaGFkb3c6MCAzMHB4IDMwcHggcmdiYSgwLDAsMCwuNSk7Ym94LXNoYWRvdzowIDEwcHggODBweCByZ2JhKDI1NSwyNTUsMjU1LC45KSwwIDMwcHggNzBweCByZ2JhKDAsMCwwLC45KX0jdGVhbUlkVG9BbmltYXRle2Rpc3BsYXk6bm9uZX0uYW5pbWF0ZWR7LXdlYmtpdC1hbmltYXRpb24tZmlsbC1tb2RlOmJvdGg7YW5pbWF0aW9uLWZpbGwtbW9kZTpib3RoOy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOjNzO2FuaW1hdGlvbi1kdXJhdGlvbjozc30uaGlkZGVue2Rpc3BsYXk6bm9uZX0uZGlzcGxheWVke2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7dHJhbnNmb3JtLW9yaWdpbjowO3RyYW5zZm9ybTpzY2FsZSgwLjgsMSk7dG9wOjdweDtjb2xvcjojMmEyYTJhfS5hbmltYXRlZC56b29tSW5Eb3duey13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZTpib3RoO2FuaW1hdGlvbi1maWxsLW1vZGU6Ym90aDstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjoxLjhzO2FuaW1hdGlvbi1kdXJhdGlvbjoxLjhzfUBrZXlmcmFtZXMgaGluZ2V7MCV7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOnRvcCBsZWZ0O3RyYW5zZm9ybS1vcmlnaW46dG9wIGxlZnQ7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW4tb3V0O2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbi1vdXR9MjAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZTNkKDAsMCwxLDgwZGVnKTt0cmFuc2Zvcm06cm90YXRlM2QoMCwwLDEsODBkZWcpOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjp0b3AgbGVmdDt0cmFuc2Zvcm0tb3JpZ2luOnRvcCBsZWZ0Oy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluLW91dDthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW4tb3V0fTQwJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSwzNWRlZyk7dHJhbnNmb3JtOnJvdGF0ZTNkKDAsMCwxLDM1ZGVnKTstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46dG9wIGxlZnQ7dHJhbnNmb3JtLW9yaWdpbjp0b3AgbGVmdDstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbi1vdXQ7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluLW91dDtvcGFjaXR5OjF9NjAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZTNkKDAsMCwxLDcwZGVnKTt0cmFuc2Zvcm06cm90YXRlM2QoMCwwLDEsNzBkZWcpOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjp0b3AgbGVmdDt0cmFuc2Zvcm0tb3JpZ2luOnRvcCBsZWZ0Oy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluLW91dDthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW4tb3V0fTgwJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUzZCgwLDAsMSw2MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZTNkKDAsMCwxLDYwZGVnKTstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46dG9wIGxlZnQ7dHJhbnNmb3JtLW9yaWdpbjp0b3AgbGVmdDstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbi1vdXQ7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluLW91dDtvcGFjaXR5OjF9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTQwMHB4LDEyMDBweCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTQwMHB4LDEyMDBweCwwKTtvcGFjaXR5OjB9fS5oaW5nZXstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmhpbmdlO2FuaW1hdGlvbi1uYW1lOmhpbmdlfUAtd2Via2l0LWtleWZyYW1lcyB6b29tSW5Eb3due2Zyb217b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjEsLjEsLjEpIHRyYW5zbGF0ZTNkKDAsLTUwMDBweCwwKTt0cmFuc2Zvcm06c2NhbGUzZCguMSwuMSwuMSkgdHJhbnNsYXRlM2QoMCwtNTAwMHB4LDApOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC41NSwuMDU1LC42NzUsLjE5KTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjU1LC4wNTUsLjY3NSwuMTkpfTYwJXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguNDc1LC40NzUsLjQ3NSkgdHJhbnNsYXRlM2QoMCw2MHB4LDApO3RyYW5zZm9ybTpzY2FsZTNkKC40NzUsLjQ3NSwuNDc1KSB0cmFuc2xhdGUzZCgwLDYwcHgsMCk7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjE3NSwuODg1LC4zMiwxKTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjE3NSwuODg1LC4zMiwxKX19QGtleWZyYW1lcyB6b29tSW5Eb3due2Zyb217b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjEsLjEsLjEpIHRyYW5zbGF0ZTNkKDAsLTEwMDBweCwwKTt0cmFuc2Zvcm06c2NhbGUzZCguMSwuMSwuMSkgdHJhbnNsYXRlM2QoMCwtMTAwMHB4LDApOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC41NSwuMDU1LC42NzUsLjE5KTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjU1LC4wNTUsLjY3NSwuMTkpfTYwJXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguNDc1LC40NzUsLjQ3NSkgdHJhbnNsYXRlM2QoMCw2MHB4LDApO3RyYW5zZm9ybTpzY2FsZTNkKC40NzUsLjQ3NSwuNDc1KSB0cmFuc2xhdGUzZCgwLDYwcHgsMCk7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjE3NSwuODg1LC4zMiwxKTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjE3NSwuODg1LC4zMiwxKX19Lnpvb21JbkRvd257LXdlYmtpdC1hbmltYXRpb24tbmFtZTp6b29tSW5Eb3duO2FuaW1hdGlvbi1uYW1lOnpvb21JbkRvd259QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDoxMjIwcHgpe25hdiB1bCBsaT5hOm5vdCguaW1nKXtwYWRkaW5nOjE1cHggMTJweH19QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDoxMTUwcHgpey5uYXYtbGktTGlua3N7ZGlzcGxheTpub25lfWZvb3Rlcj5kaXZ7d2lkdGg6MTAwJX0jbW9iaWxlU2VhcmNoe2Rpc3BsYXk6YmxvY2t9I3NlYXJjaFNlY3Rpb257ZGlzcGxheTpub25lfX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjc2OHB4KXtoMy5yb2JvdG8tcmVndWxhcntmb250LXNpemU6MjZweH1uYXYucGFnZXN7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MTAwJX0ucGFnZXMsLmZpeGVkSW1wb3J0YW50LGgzLnJvYm90by1yZWd1bGFye3Bvc2l0aW9uOnN0YXRpYyFpbXBvcnRhbnR9Lm5vUHJvbW90ZWRQcm9kdWN0RGl2e21hcmdpbi10b3A6MH0uc3RpY2t5LmZpeGVkK2RpdiAuY2F0ZWdvcnktdHlwZS1wcm9kdWN0c3ttYXJnaW4tdG9wOjB9LmNhdGVnb3J5RGF0YXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fSNzZWFyY2hTZWN0aW9uPi5zZWFyY2hQb3BVcD5kaXYsI3NlYXJjaFNlY3Rpb24+LnNlYXJjaFBvcFVwPmRpdjpudGgtY2hpbGQoMSl7ZGlzcGxheTpibG9jazt3aWR0aDoxMDAlfSNzZWFyY2hTZWN0aW9uPi5zZWFyY2hQb3BVcD5kaXY6bnRoLWNoaWxkKDEpe2hlaWdodDphdXRvfWZvb3RlciBpbWd7bWFyZ2luOjAgMTlweDt3aWR0aDoxNiV9ZGl2LmxvZ28gaW1ne3ZlcnRpY2FsLWFsaWduOnRvcDtwYWRkaW5nOjEwcHggMDttYXJnaW46MCAxMnB4fX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjQ4MHB4KXsudWl2aWV3e3BhZGRpbmctdG9wOjQwcHh9aGVhZGVye31kaXYubG9nbyBhe3BhZGRpbmc6MDtwYWRkaW5nLXRvcDowfWRpdi5sb2dvIHN2Z3t0cmFuc2Zvcm06c2NhbGUoMC44KTtwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6NXB4fWRpdi5sb2dvIHNwYW4ubG9nb0RlbW97Zm9udC1zaXplOjE0cHh9LnBhZ2Vze2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9I3NwZWNpYWxfb2ZmZXJfaXRlbXMsLnNsaWRlciwjcG9wdWxhcl9pdGVtc3tkaXNwbGF5Om5vbmV9LmRlc2t0b3AtaGFuZGxlcntkaXNwbGF5Om5vbmV9Zm9vdGVye21hcmdpbi10b3A6MH1kaXYubW9iaWxlLWJ0bi1oYW5kbGVye2Rpc3BsYXk6aW5saW5lLWJsb2NrfSNzZWFyY2hTZWN0aW9uPmRpdnt3aWR0aDo5MCV9I3Njcm9sbFRvVG9we2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9ZGl2LmxvZ297ZmxvYXQ6bm9uZTtkaXNwbGF5OmJsb2NrO3RleHQtYWxpZ246Y2VudGVyfWRpdi5sb2dvIGF7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtMjlweCk7LW1zLXRyYW5zZm9ybTp0cmFuc2xhdGVYKC0yOXB4KTstby10cmFuc2Zvcm06dHJhbnNsYXRlWCgtMjlweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTI5cHgpfWRpdi5sb2dvIGEgc3Bhbntmb250LXNpemU6MjJweH1kaXYubG9nbyBzdmd7d2lkdGg6MjVweDtoZWlnaHQ6MjVweDt0b3A6MnB4fWRpdi5sb2dvICNtb2JpbGUtYnRue2Zsb2F0OmxlZnR9ZGl2Lm1vYmlsZS1idG4taGFuZGxlcnttYXJnaW46NXB4IDJweH1oMy5yb2JvdG8tcmVndWxhcntmb250LXNpemU6MjJweH0jbW9iaWxlU2VhcmNoIC5pbWd7dG9wOjUxcHh9I3RocmVlRm9ybUZhY3RvcnN7Ym9yZGVyOjAhaW1wb3J0YW50O3dpZHRoOjQwMHB4IWltcG9ydGFudDtoZWlnaHQ6ODAwcHghaW1wb3J0YW50fSN0aHJlZUZvcm1GYWN0b3JzV2ViLCN0aHJlZUZvcm1GYWN0b3JzV2ViTW9iaWxlLCN0aHJlZUZvcm1GYWN0b3JzTmF0aXZlTW9iaWxle2hlaWdodDoyMDBweCFpbXBvcnRhbnQ7d2lkdGg6MzAwcHghaW1wb3J0YW50fWRpdi50aHJlZUZvcm1GYWN0b3JzTGluZXN7ZGlzcGxheTpub25lfWRpdi5hYm91dFBhZ2VQYWRkaW5nQ2FwdGlvbntwYWRkaW5nLXRvcDowIWltcG9ydGFudH19</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <HTTPPropertySet>
          <HTTPProperty name="StreamID">3</HTTPProperty>
          <HTTPProperty name="TotalHeadersSize">265</HTTPProperty>
        </HTTPPropertySet>
      </HTTPResponse>
    </HTTPTask>
    <HTTPTask id="3" hostname="www.advantageonlineshopping.com" path="/css/images/Down_arrow.svg" url="https://www.advantageonlineshopping.com/css/images/Down_arrow.svg" ip="54.227.55.203" port="443" client_ip="192.168.0.11" client_port="21440" connectionId="2288" origin="HTML" encodingType="ANSI" ordinal="2" startDateTime="2023-05-24T16:05:41.976+03:00" startTime="851" endTime="1152" blockedTime="-1" dnsTime="-1" connectTime="-2" sendTime="4294967295" waitTime="4294967295" receiveTime="1152" sslNegotiateTime="-1" responseBodySize="1033">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name=":method" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VU</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name=":scheme" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cHM=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name=":path" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>L2Nzcy9pbWFnZXMvRG93bl9hcnJvdy5zdmc=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name=":authority" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>d3d3LmFkdmFudGFnZW9ubGluZXNob3BwaW5nLmNvbQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cHM6Ly93d3cuYWR2YW50YWdlb25saW5lc2hvcHBpbmcuY29tLw==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Sec-Fetch-Site" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>bm9uZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Sec-Fetch-Mode" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>bmF2aWdhdGU=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Sec-Fetch-Dest" index="7">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZG9jdW1lbnQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Sec-Fetch-User" index="8">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>PzE=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Upgrade-Insecure-Requests" index="9">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="sec-ch-ua" index="10">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ikdvb2dsZSBDaHJvbWUiO3Y9IjExMyIsICJDaHJvbWl1bSI7dj0iMTEzIiwgIk5vdC1BLkJyYW5kIjt2PSIyNCI=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="sec-ch-ua-mobile" index="11">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>PzA=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="sec-ch-ua-platform" index="12">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>IldpbmRvd3Mi</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="13">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzExMy4wLjAuMCBTYWZhcmkvNTM3LjM2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="14">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZSwgYnI=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="15">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>cnUtUlUscnU7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjc=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept" index="16">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ki8q</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="cookie" index="17">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>X2dhPUdBMS4yLjUxODEzNzM3OC4xNjg0NzQyNjEwOyBfZ2lkPUdBMS4yLjE3NzgxMzUwMDMuMTY4NDc0MjYxMDsgdXNlckNhcnQ9JTdCJTIydXNlcklkJTIyJTNBLTElMkMlMjJwcm9kdWN0c0luQ2FydCUyMiUzQSU1QiU1RCU3RA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Om1ldGhvZDogR0VUDQo6c2NoZW1lOiBodHRwcw0KOnBhdGg6IC9jc3MvaW1hZ2VzL0Rvd25fYXJyb3cuc3ZnDQo6YXV0aG9yaXR5OiB3d3cuYWR2YW50YWdlb25saW5lc2hvcHBpbmcuY29tDQpSZWZlcmVyOiBodHRwczovL3d3dy5hZHZhbnRhZ2VvbmxpbmVzaG9wcGluZy5jb20vDQpTZWMtRmV0Y2gtU2l0ZTogbm9uZQ0KU2VjLUZldGNoLU1vZGU6IG5hdmlnYXRlDQpTZWMtRmV0Y2gtRGVzdDogZG9jdW1lbnQNClNlYy1GZXRjaC1Vc2VyOiA/MQ0KVXBncmFkZS1JbnNlY3VyZS1SZXF1ZXN0czogMQ0Kc2VjLWNoLXVhOiAiR29vZ2xlIENocm9tZSI7dj0iMTEzIiwgIkNocm9taXVtIjt2PSIxMTMiLCAiTm90LUEuQnJhbmQiO3Y9IjI0Ig0Kc2VjLWNoLXVhLW1vYmlsZTogPzANCnNlYy1jaC11YS1wbGF0Zm9ybTogIldpbmRvd3MiDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTEzLjAuMC4wIFNhZmFyaS81MzcuMzYNCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZSwgYnINCkFjY2VwdC1MYW5ndWFnZTogcnUtUlUscnU7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcNCkFjY2VwdDogKi8qDQpjb29raWU6IF9nYT1HQTEuMi41MTgxMzczNzguMTY4NDc0MjYxMDsgX2dpZD1HQTEuMi4xNzc4MTM1MDAzLjE2ODQ3NDI2MTA7IHVzZXJDYXJ0PSU3QiUyMnVzZXJJZCUyMiUzQS0xJTJDJTIycHJvZHVjdHNJbkNhcnQlMjIlM0ElNUIlNUQlN0QNCg0K</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
          <HTTPCookies>
            <HTTPHeaderEntity name="_ga" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0ExLjIuNTE4MTM3Mzc4LjE2ODQ3NDI2MTA=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="_gid" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0ExLjIuMTc3ODEzNTAwMy4xNjg0NzQyNjEw</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="userCart" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>JTdCJTIydXNlcklkJTIyJTNBLTElMkMlMjJwcm9kdWN0c0luQ2FydCUyMiUzQSU1QiU1RCU3RA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
          </HTTPCookies>
        </HTTPHeaders>
        <HTTPPropertySet>
          <HTTPProperty name="StreamID">5</HTTPProperty>
          <HTTPProperty name="TotalHeadersSize">43</HTTPProperty>
        </HTTPPropertySet>
      </HTTPRequest>
      <HTTPResponse>
        <contentLenght>795</contentLenght>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Status" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MjAw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="server" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>bmdpbngvMS4xOC4wIChVYnVudHUp</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="date" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>V2VkLCAyNCBNYXkgMjAyMyAxMzowNTo0MyBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="content-type" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aW1hZ2Uvc3ZnK3htbA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="content-length" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Nzk1</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="accept-ranges" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ynl0ZXM=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="etag" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Vy8iNzk1LTE2NDE4MTA1MTIwMDAi</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="last-modified" index="7">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAxMCBKYW4gMjAyMiAxMDoyODozMiBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="cache-control" index="8">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>bWF4LWFnZT04NjQwMDA=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="expires" index="9">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>U2F0LCAwMyBKdW4gMjAyMyAxMzowNTo0MyBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="strict-transport-security" index="10">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>bWF4LWFnZT0zMTUzNjAwMDsgaW5jbHVkZVN1YkRvbWFpbnM7IHByZWxvYWQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8yLjAgMjAwDQpTdGF0dXM6IDIwMA0Kc2VydmVyOiBuZ2lueC8xLjE4LjAgKFVidW50dSkNCmRhdGU6IFdlZCwgMjQgTWF5IDIwMjMgMTM6MDU6NDMgR01UDQpjb250ZW50LXR5cGU6IGltYWdlL3N2Zyt4bWwNCmNvbnRlbnQtbGVuZ3RoOiA3OTUNCmFjY2VwdC1yYW5nZXM6IGJ5dGVzDQpldGFnOiBXLyI3OTUtMTY0MTgxMDUxMjAwMCINCmxhc3QtbW9kaWZpZWQ6IE1vbiwgMTAgSmFuIDIwMjIgMTA6Mjg6MzIgR01UDQpjYWNoZS1jb250cm9sOiBtYXgtYWdlPTg2NDAwMA0KZXhwaXJlczogU2F0LCAwMyBKdW4gMjAyMyAxMzowNTo0MyBHTVQNCnN0cmljdC10cmFuc3BvcnQtc2VjdXJpdHk6IG1heC1hZ2U9MzE1MzYwMDA7IGluY2x1ZGVTdWJEb21haW5zOyBwcmVsb2FkDQoNCg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTJweCIgaGVpZ2h0PSI3cHgiIHZpZXdCb3g9IjAgMCAxMiA3IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0Ny4xICg0NTQyMikgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+RG93bl9hcnJvdzwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJTeW1ib2xzIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iaWMva2V5Ym9hcmRfYXJyb3dfZG93bi9ncmV5NjAwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNi4wMDAwMDAsIC05LjAwMDAwMCkiIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0iIzMxMzEzMSI+CiAgICAgICAgICAgIDxnIGlkPSJEb3duX2Fycm93IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2LjAwMDAwMCwgOS4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJTaGFwZSIgcG9pbnRzPSIxLjQxIDAgNiA0LjMyNjU4NTcgMTAuNTkgMCAxMiAxLjMzMTk4MzgxIDYgNyAwIDEuMzMxOTgzODEiPjwvcG9seWdvbj4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <HTTPPropertySet>
          <HTTPProperty name="StreamID">5</HTTPProperty>
          <HTTPProperty name="TotalHeadersSize">238</HTTPProperty>
        </HTTPPropertySet>
      </HTTPResponse>
    </HTTPTask>
    <HTTPTask id="4" hostname="www.advantageonlineshopping.com" path="/vendor/requirejs/require.js" url="https://www.advantageonlineshopping.com/vendor/requirejs/require.js" ip="54.227.55.203" port="443" client_ip="192.168.0.11" client_port="21440" connectionId="2288" origin="HTML" encodingType="ANSI" ordinal="3" startDateTime="2023-05-24T16:05:41.976+03:00" startTime="852" endTime="1289" blockedTime="-1" dnsTime="-1" connectTime="-2" sendTime="4294967295" waitTime="4294967295" receiveTime="133" sslNegotiateTime="-1" responseBodySize="21268">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name=":method" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VU</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name=":scheme" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cHM=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name=":path" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>L3ZlbmRvci9yZXF1aXJlanMvcmVxdWlyZS5qcw==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name=":authority" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>d3d3LmFkdmFudGFnZW9ubGluZXNob3BwaW5nLmNvbQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cHM6Ly93d3cuYWR2YW50YWdlb25saW5lc2hvcHBpbmcuY29tLw==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Sec-Fetch-Site" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>bm9uZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Sec-Fetch-Mode" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>bmF2aWdhdGU=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Sec-Fetch-Dest" index="7">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZG9jdW1lbnQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Sec-Fetch-User" index="8">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>PzE=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Upgrade-Insecure-Requests" index="9">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="sec-ch-ua" index="10">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ikdvb2dsZSBDaHJvbWUiO3Y9IjExMyIsICJDaHJvbWl1bSI7dj0iMTEzIiwgIk5vdC1BLkJyYW5kIjt2PSIyNCI=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="sec-ch-ua-mobile" index="11">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>PzA=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="sec-ch-ua-platform" index="12">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>IldpbmRvd3Mi</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="13">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzExMy4wLjAuMCBTYWZhcmkvNTM3LjM2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="14">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZSwgYnI=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="15">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>cnUtUlUscnU7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjc=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept" index="16">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ki8q</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="cookie" index="17">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>X2dhPUdBMS4yLjUxODEzNzM3OC4xNjg0NzQyNjEwOyBfZ2lkPUdBMS4yLjE3NzgxMzUwMDMuMTY4NDc0MjYxMDsgdXNlckNhcnQ9JTdCJTIydXNlcklkJTIyJTNBLTElMkMlMjJwcm9kdWN0c0luQ2FydCUyMiUzQSU1QiU1RCU3RA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Om1ldGhvZDogR0VUDQo6c2NoZW1lOiBodHRwcw0KOnBhdGg6IC92ZW5kb3IvcmVxdWlyZWpzL3JlcXVpcmUuanMNCjphdXRob3JpdHk6IHd3dy5hZHZhbnRhZ2VvbmxpbmVzaG9wcGluZy5jb20NClJlZmVyZXI6IGh0dHBzOi8vd3d3LmFkdmFudGFnZW9ubGluZXNob3BwaW5nLmNvbS8NClNlYy1GZXRjaC1TaXRlOiBub25lDQpTZWMtRmV0Y2gtTW9kZTogbmF2aWdhdGUNClNlYy1GZXRjaC1EZXN0OiBkb2N1bWVudA0KU2VjLUZldGNoLVVzZXI6ID8xDQpVcGdyYWRlLUluc2VjdXJlLVJlcXVlc3RzOiAxDQpzZWMtY2gtdWE6ICJHb29nbGUgQ2hyb21lIjt2PSIxMTMiLCAiQ2hyb21pdW0iO3Y9IjExMyIsICJOb3QtQS5CcmFuZCI7dj0iMjQiDQpzZWMtY2gtdWEtbW9iaWxlOiA/MA0Kc2VjLWNoLXVhLXBsYXRmb3JtOiAiV2luZG93cyINClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMTMuMC4wLjAgU2FmYXJpLzUzNy4zNg0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlLCBicg0KQWNjZXB0LUxhbmd1YWdlOiBydS1SVSxydTtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNw0KQWNjZXB0OiAqLyoNCmNvb2tpZTogX2dhPUdBMS4yLjUxODEzNzM3OC4xNjg0NzQyNjEwOyBfZ2lkPUdBMS4yLjE3NzgxMzUwMDMuMTY4NDc0MjYxMDsgdXNlckNhcnQ9JTdCJTIydXNlcklkJTIyJTNBLTElMkMlMjJwcm9kdWN0c0luQ2FydCUyMiUzQSU1QiU1RCU3RA0KDQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
          <HTTPCookies>
            <HTTPHeaderEntity name="_ga" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0ExLjIuNTE4MTM3Mzc4LjE2ODQ3NDI2MTA=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="_gid" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0ExLjIuMTc3ODEzNTAwMy4xNjg0NzQyNjEw</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="userCart" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>JTdCJTIydXNlcklkJTIyJTNBLTElMkMlMjJwcm9kdWN0c0luQ2FydCUyMiUzQSU1QiU1RCU3RA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
          </HTTPCookies>
        </HTTPHeaders>
        <HTTPPropertySet>
          <HTTPProperty name="StreamID">7</HTTPProperty>
          <HTTPProperty name="TotalHeadersSize">45</HTTPProperty>
        </HTTPPropertySet>
      </HTTPRequest>
      <HTTPResponse>
        <contentLenght>0</contentLenght>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Status" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MjAw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="server" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>bmdpbngvMS4xOC4wIChVYnVudHUp</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="date" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>V2VkLCAyNCBNYXkgMjAyMyAxMzowNTo0MyBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="content-type" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="accept-ranges" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ynl0ZXM=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="etag" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Vy8iODU5MjEtMTU1NjcyNDAyMDAwMCI=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="last-modified" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>V2VkLCAwMSBNYXkgMjAxOSAxNToyMDoyMCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="cache-control" index="7">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>bWF4LWFnZT02MDA=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="expires" index="8">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>V2VkLCAyNCBNYXkgMjAyMyAxMzoxNTo0MyBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="vary" index="9">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>YWNjZXB0LWVuY29kaW5n</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="content-encoding" index="10">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="strict-transport-security" index="11">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>bWF4LWFnZT0zMTUzNjAwMDsgaW5jbHVkZVN1YkRvbWFpbnM7IHByZWxvYWQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8yLjAgMjAwDQpTdGF0dXM6IDIwMA0Kc2VydmVyOiBuZ2lueC8xLjE4LjAgKFVidW50dSkNCmRhdGU6IFdlZCwgMjQgTWF5IDIwMjMgMTM6MDU6NDMgR01UDQpjb250ZW50LXR5cGU6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQNCmFjY2VwdC1yYW5nZXM6IGJ5dGVzDQpldGFnOiBXLyI4NTkyMS0xNTU2NzI0MDIwMDAwIg0KbGFzdC1tb2RpZmllZDogV2VkLCAwMSBNYXkgMjAxOSAxNToyMDoyMCBHTVQNCmNhY2hlLWNvbnRyb2w6IG1heC1hZ2U9NjAwDQpleHBpcmVzOiBXZWQsIDI0IE1heSAyMDIzIDEzOjE1OjQzIEdNVA0KdmFyeTogYWNjZXB0LWVuY29kaW5nDQpjb250ZW50LWVuY29kaW5nOiBnemlwDQpzdHJpY3QtdHJhbnNwb3J0LXNlY3VyaXR5OiBtYXgtYWdlPTMxNTM2MDAwOyBpbmNsdWRlU3ViRG9tYWluczsgcHJlbG9hZA0KDQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>LyoqIHZpbTogZXQ6dHM9NDpzdz00OnN0cz00CiAqIEBsaWNlbnNlIFJlcXVpcmVKUyAyLjEuMjIgQ29weXJpZ2h0IChjKSAyMDEwLTIwMTUsIFRoZSBEb2pvIEZvdW5kYXRpb24gQWxsIFJpZ2h0cyBSZXNlcnZlZC4KICogQXZhaWxhYmxlIHZpYSB0aGUgTUlUIG9yIG5ldyBCU0QgbGljZW5zZS4KICogc2VlOiBodHRwOi8vZ2l0aHViLmNvbS9qcmJ1cmtlL3JlcXVpcmVqcyBmb3IgZGV0YWlscwogKi8KLy9Ob3QgdXNpbmcgc3RyaWN0OiB1bmV2ZW4gc3RyaWN0IHN1cHBvcnQgaW4gYnJvd3NlcnMsICMzOTIsIGFuZCBjYXVzZXMKLy9wcm9ibGVtcyB3aXRoIHJlcXVpcmVqcy5leGVjKCkvdHJhbnNwaWxlciBwbHVnaW5zIHRoYXQgbWF5IG5vdCBiZSBzdHJpY3QuCi8qanNsaW50IHJlZ2V4cDogdHJ1ZSwgbm9tZW46IHRydWUsIHNsb3BweTogdHJ1ZSAqLwovKmdsb2JhbCB3aW5kb3csIG5hdmlnYXRvciwgZG9jdW1lbnQsIGltcG9ydFNjcmlwdHMsIHNldFRpbWVvdXQsIG9wZXJhICovCgp2YXIgcmVxdWlyZWpzLCByZXF1aXJlLCBkZWZpbmU7CihmdW5jdGlvbiAoZ2xvYmFsKSB7CiAgICB2YXIgcmVxLCBzLCBoZWFkLCBiYXNlRWxlbWVudCwgZGF0YU1haW4sIHNyYywKICAgICAgICBpbnRlcmFjdGl2ZVNjcmlwdCwgY3VycmVudGx5QWRkaW5nU2NyaXB0LCBtYWluU2NyaXB0LCBzdWJQYXRoLAogICAgICAgIHZlcnNpb24gPSAnMi4xLjIyJywKICAgICAgICBjb21tZW50UmVnRXhwID0gLyhcL1wqKFtcc1xTXSo/KVwqXC98KFteOl18XilcL1wvKC4qKSQpL21nLAogICAgICAgIGNqc1JlcXVpcmVSZWdFeHAgPSAvW14uXVxzKnJlcXVpcmVccypcKFxzKlsiJ10oW14nIlxzXSspWyInXVxzKlwpL2csCiAgICAgICAganNTdWZmaXhSZWdFeHAgPSAvXC5qcyQvLAogICAgICAgIGN1cnJEaXJSZWdFeHAgPSAvXlwuXC8vLAogICAgICAgIG9wID0gT2JqZWN0LnByb3RvdHlwZSwKICAgICAgICBvc3RyaW5nID0gb3AudG9TdHJpbmcsCiAgICAgICAgaGFzT3duID0gb3AuaGFzT3duUHJvcGVydHksCiAgICAgICAgYXAgPSBBcnJheS5wcm90b3R5cGUsCiAgICAgICAgaXNCcm93c2VyID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50KSwKICAgICAgICBpc1dlYldvcmtlciA9ICFpc0Jyb3dzZXIgJiYgdHlwZW9mIGltcG9ydFNjcmlwdHMgIT09ICd1bmRlZmluZWQnLAogICAgICAgIC8vUFMzIGluZGljYXRlcyBsb2FkZWQgYW5kIGNvbXBsZXRlLCBidXQgbmVlZCB0byB3YWl0IGZvciBjb21wbGV0ZQogICAgICAgIC8vc3BlY2lmaWNhbGx5LiBTZXF1ZW5jZSBpcyAnbG9hZGluZycsICdsb2FkZWQnLCBleGVjdXRpb24sCiAgICAgICAgLy8gdGhlbiAnY29tcGxldGUnLiBUaGUgVUEgY2hlY2sgaXMgdW5mb3J0dW5hdGUsIGJ1dCBub3Qgc3VyZSBob3cKICAgICAgICAvL3RvIGZlYXR1cmUgdGVzdCB3L28gY2F1c2luZyBwZXJmIGlzc3Vlcy4KICAgICAgICByZWFkeVJlZ0V4cCA9IGlzQnJvd3NlciAmJiBuYXZpZ2F0b3IucGxhdGZvcm0gPT09ICdQTEFZU1RBVElPTiAzJyA/CiAgICAgICAgICAgICAgICAgICAgICAvXmNvbXBsZXRlJC8gOiAvXihjb21wbGV0ZXxsb2FkZWQpJC8sCiAgICAgICAgZGVmQ29udGV4dE5hbWUgPSAnXycsCiAgICAgICAgLy9PaCB0aGUgdHJhZ2VkeSwgZGV0ZWN0aW5nIG9wZXJhLiBTZWUgdGhlIHVzYWdlIG9mIGlzT3BlcmEgZm9yIHJlYXNvbi4KICAgICAgICBpc09wZXJhID0gdHlwZW9mIG9wZXJhICE9PSAndW5kZWZpbmVkJyAmJiBvcGVyYS50b1N0cmluZygpID09PSAnW29iamVjdCBPcGVyYV0nLAogICAgICAgIGNvbnRleHRzID0ge30sCiAgICAgICAgY2ZnID0ge30sCiAgICAgICAgZ2xvYmFsRGVmUXVldWUgPSBbXSwKICAgICAgICB1c2VJbnRlcmFjdGl2ZSA9IGZhbHNlOwoKICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24oaXQpIHsKICAgICAgICByZXR1cm4gb3N0cmluZy5jYWxsKGl0KSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJzsKICAgIH0KCiAgICBmdW5jdGlvbiBpc0FycmF5KGl0KSB7CiAgICAgICAgcmV0dXJuIG9zdHJpbmcuY2FsbChpdCkgPT09ICdbb2JqZWN0IEFycmF5XSc7CiAgICB9CgogICAgLyoqCiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gZm9yIGl0ZXJhdGluZyBvdmVyIGFuIGFycmF5LiBJZiB0aGUgZnVuYyByZXR1cm5zCiAgICAgKiBhIHRydWUgdmFsdWUsIGl0IHdpbGwgYnJlYWsgb3V0IG9mIHRoZSBsb29wLgogICAgICovCiAgICBmdW5jdGlvbiBlYWNoKGFyeSwgZnVuYykgewogICAgICAgIGlmIChhcnkpIHsKICAgICAgICAgICAgdmFyIGk7CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBhcnkubGVuZ3RoOyBpICs9IDEpIHsKICAgICAgICAgICAgICAgIGlmIChhcnlbaV0gJiYgZnVuYyhhcnlbaV0sIGksIGFyeSkpIHsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEhlbHBlciBmdW5jdGlvbiBmb3IgaXRlcmF0aW5nIG92ZXIgYW4gYXJyYXkgYmFja3dhcmRzLiBJZiB0aGUgZnVuYwogICAgICogcmV0dXJucyBhIHRydWUgdmFsdWUsIGl0IHdpbGwgYnJlYWsgb3V0IG9mIHRoZSBsb29wLgogICAgICovCiAgICBmdW5jdGlvbiBlYWNoUmV2ZXJzZShhcnksIGZ1bmMpIHsKICAgICAgICBpZiAoYXJ5KSB7CiAgICAgICAgICAgIHZhciBpOwogICAgICAgICAgICBmb3IgKGkgPSBhcnkubGVuZ3RoIC0gMTsgaSA+IC0xOyBpIC09IDEpIHsKICAgICAgICAgICAgICAgIGlmIChhcnlbaV0gJiYgZnVuYyhhcnlbaV0sIGksIGFyeSkpIHsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBoYXNQcm9wKG9iaiwgcHJvcCkgewogICAgICAgIHJldHVybiBoYXNPd24uY2FsbChvYmosIHByb3ApOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldE93bihvYmosIHByb3ApIHsKICAgICAgICByZXR1cm4gaGFzUHJvcChvYmosIHByb3ApICYmIG9ialtwcm9wXTsKICAgIH0KCiAgICAvKioKICAgICAqIEN5Y2xlcyBvdmVyIHByb3BlcnRpZXMgaW4gYW4gb2JqZWN0IGFuZCBjYWxscyBhIGZ1bmN0aW9uIGZvciBlYWNoCiAgICAgKiBwcm9wZXJ0eSB2YWx1ZS4gSWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgYSB0cnV0aHkgdmFsdWUsIHRoZW4gdGhlCiAgICAgKiBpdGVyYXRpb24gaXMgc3RvcHBlZC4KICAgICAqLwogICAgZnVuY3Rpb24gZWFjaFByb3Aob2JqLCBmdW5jKSB7CiAgICAgICAgdmFyIHByb3A7CiAgICAgICAgZm9yIChwcm9wIGluIG9iaikgewogICAgICAgICAgICBpZiAoaGFzUHJvcChvYmosIHByb3ApKSB7CiAgICAgICAgICAgICAgICBpZiAoZnVuYyhvYmpbcHJvcF0sIHByb3ApKSB7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBTaW1wbGUgZnVuY3Rpb24gdG8gbWl4IGluIHByb3BlcnRpZXMgZnJvbSBzb3VyY2UgaW50byB0YXJnZXQsCiAgICAgKiBidXQgb25seSBpZiB0YXJnZXQgZG9lcyBub3QgYWxyZWFkeSBoYXZlIGEgcHJvcGVydHkgb2YgdGhlIHNhbWUgbmFtZS4KICAgICAqLwogICAgZnVuY3Rpb24gbWl4aW4odGFyZ2V0LCBzb3VyY2UsIGZvcmNlLCBkZWVwU3RyaW5nTWl4aW4pIHsKICAgICAgICBpZiAoc291cmNlKSB7CiAgICAgICAgICAgIGVhY2hQcm9wKHNvdXJjZSwgZnVuY3Rpb24gKHZhbHVlLCBwcm9wKSB7CiAgICAgICAgICAgICAgICBpZiAoZm9yY2UgfHwgIWhhc1Byb3AodGFyZ2V0LCBwcm9wKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChkZWVwU3RyaW5nTWl4aW4gJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJgogICAgICAgICAgICAgICAgICAgICAgICAhaXNBcnJheSh2YWx1ZSkgJiYgIWlzRnVuY3Rpb24odmFsdWUpICYmCiAgICAgICAgICAgICAgICAgICAgICAgICEodmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApKSB7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRhcmdldFtwcm9wXSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0ge307CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgbWl4aW4odGFyZ2V0W3Byb3BdLCB2YWx1ZSwgZm9yY2UsIGRlZXBTdHJpbmdNaXhpbik7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KCiAgICAvL1NpbWlsYXIgdG8gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQsIGJ1dCB0aGUgJ3RoaXMnIG9iamVjdCBpcyBzcGVjaWZpZWQKICAgIC8vZmlyc3QsIHNpbmNlIGl0IGlzIGVhc2llciB0byByZWFkL2ZpZ3VyZSBvdXQgd2hhdCAndGhpcycgd2lsbCBiZS4KICAgIGZ1bmN0aW9uIGJpbmQob2JqLCBmbikgewogICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBmbi5hcHBseShvYmosIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgIH0KCiAgICBmdW5jdGlvbiBzY3JpcHRzKCkgewogICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0Jyk7CiAgICB9CgogICAgZnVuY3Rpb24gZGVmYXVsdE9uRXJyb3IoZXJyKSB7CiAgICAgICAgdGhyb3cgZXJyOwogICAgfQoKICAgIC8vQWxsb3cgZ2V0dGluZyBhIGdsb2JhbCB0aGF0IGlzIGV4cHJlc3NlZCBpbgogICAgLy9kb3Qgbm90YXRpb24sIGxpa2UgJ2EuYi5jJy4KICAgIGZ1bmN0aW9uIGdldEdsb2JhbCh2YWx1ZSkgewogICAgICAgIGlmICghdmFsdWUpIHsKICAgICAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICAgIH0KICAgICAgICB2YXIgZyA9IGdsb2JhbDsKICAgICAgICBlYWNoKHZhbHVlLnNwbGl0KCcuJyksIGZ1bmN0aW9uIChwYXJ0KSB7CiAgICAgICAgICAgIGcgPSBnW3BhcnRdOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBnOwogICAgfQoKICAgIC8qKgogICAgICogQ29uc3RydWN0cyBhbiBlcnJvciB3aXRoIGEgcG9pbnRlciB0byBhbiBVUkwgd2l0aCBtb3JlIGluZm9ybWF0aW9uLgogICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIHRoZSBlcnJvciBJRCB0aGF0IG1hcHMgdG8gYW4gSUQgb24gYSB3ZWIgcGFnZS4KICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIGh1bWFuIHJlYWRhYmxlIGVycm9yLgogICAgICogQHBhcmFtIHtFcnJvcn0gW2Vycl0gdGhlIG9yaWdpbmFsIGVycm9yLCBpZiB0aGVyZSBpcyBvbmUuCiAgICAgKgogICAgICogQHJldHVybnMge0Vycm9yfQogICAgICovCiAgICBmdW5jdGlvbiBtYWtlRXJyb3IoaWQsIG1zZywgZXJyLCByZXF1aXJlTW9kdWxlcykgewogICAgICAgIHZhciBlID0gbmV3IEVycm9yKG1zZyArICdcbmh0dHA6Ly9yZXF1aXJlanMub3JnL2RvY3MvZXJyb3JzLmh0bWwjJyArIGlkKTsKICAgICAgICBlLnJlcXVpcmVUeXBlID0gaWQ7CiAgICAgICAgZS5yZXF1aXJlTW9kdWxlcyA9IHJlcXVpcmVNb2R1bGVzOwogICAgICAgIGlmIChlcnIpIHsKICAgICAgICAgICAgZS5vcmlnaW5hbEVycm9yID0gZXJyOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZTsKICAgIH0KCiAgICBpZiAodHlwZW9mIGRlZmluZSAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAvL0lmIGEgZGVmaW5lIGlzIGFscmVhZHkgaW4gcGxheSB2aWEgYW5vdGhlciBBTUQgbG9hZGVyLAogICAgICAgIC8vZG8gbm90IG92ZXJ3cml0ZS4KICAgICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKHR5cGVvZiByZXF1aXJlanMgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgaWYgKGlzRnVuY3Rpb24ocmVxdWlyZWpzKSkgewogICAgICAgICAgICAvL0RvIG5vdCBvdmVyd3JpdGUgYW4gZXhpc3RpbmcgcmVxdWlyZWpzIGluc3RhbmNlLgogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGNmZyA9IHJlcXVpcmVqczsKICAgICAgICByZXF1aXJlanMgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgLy9BbGxvdyBmb3IgYSByZXF1aXJlIGNvbmZpZyBvYmplY3QKICAgIGlmICh0eXBlb2YgcmVxdWlyZSAhPT0gJ3VuZGVmaW5lZCcgJiYgIWlzRnVuY3Rpb24ocmVxdWlyZSkpIHsKICAgICAgICAvL2Fzc3VtZSBpdCBpcyBhIGNvbmZpZyBvYmplY3QuCiAgICAgICAgY2ZnID0gcmVxdWlyZTsKICAgICAgICByZXF1aXJlID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGZ1bmN0aW9uIG5ld0NvbnRleHQoY29udGV4dE5hbWUpIHsKICAgICAgICB2YXIgaW5DaGVja0xvYWRlZCwgTW9kdWxlLCBjb250ZXh0LCBoYW5kbGVycywKICAgICAgICAgICAgY2hlY2tMb2FkZWRUaW1lb3V0SWQsCiAgICAgICAgICAgIGNvbmZpZyA9IHsKICAgICAgICAgICAgICAgIC8vRGVmYXVsdHMuIERvIG5vdCBzZXQgYSBkZWZhdWx0IGZvciBtYXAKICAgICAgICAgICAgICAgIC8vY29uZmlnIHRvIHNwZWVkIHVwIG5vcm1hbGl6ZSgpLCB3aGljaAogICAgICAgICAgICAgICAgLy93aWxsIHJ1biBmYXN0ZXIgaWYgdGhlcmUgaXMgbm8gZGVmYXVsdC4KICAgICAgICAgICAgICAgIHdhaXRTZWNvbmRzOiA3LAogICAgICAgICAgICAgICAgYmFzZVVybDogJy4vJywKICAgICAgICAgICAgICAgIHBhdGhzOiB7fSwKICAgICAgICAgICAgICAgIGJ1bmRsZXM6IHt9LAogICAgICAgICAgICAgICAgcGtnczoge30sCiAgICAgICAgICAgICAgICBzaGltOiB7fSwKICAgICAgICAgICAgICAgIGNvbmZpZzoge30KICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmVnaXN0cnkgPSB7fSwKICAgICAgICAgICAgLy9yZWdpc3RyeSBvZiBqdXN0IGVuYWJsZWQgbW9kdWxlcywgdG8gc3BlZWQKICAgICAgICAgICAgLy9jeWNsZSBicmVha2luZyBjb2RlIHdoZW4gbG90cyBvZiBtb2R1bGVzCiAgICAgICAgICAgIC8vYXJlIHJlZ2lzdGVyZWQsIGJ1dCBub3QgYWN0aXZhdGVkLgogICAgICAgICAgICBlbmFibGVkUmVnaXN0cnkgPSB7fSwKICAgICAgICAgICAgdW5kZWZFdmVudHMgPSB7fSwKICAgICAgICAgICAgZGVmUXVldWUgPSBbXSwKICAgICAgICAgICAgZGVmaW5lZCA9IHt9LAogICAgICAgICAgICB1cmxGZXRjaGVkID0ge30sCiAgICAgICAgICAgIGJ1bmRsZXNNYXAgPSB7fSwKICAgICAgICAgICAgcmVxdWlyZUNvdW50ZXIgPSAxLAogICAgICAgICAgICB1bm5vcm1hbGl6ZWRDb3VudGVyID0gMTsKCiAgICAgICAgLyoqCiAgICAgICAgICogVHJpbXMgdGhlIC4gYW5kIC4uIGZyb20gYW4gYXJyYXkgb2YgcGF0aCBzZWdtZW50cy4KICAgICAgICAgKiBJdCB3aWxsIGtlZXAgYSBsZWFkaW5nIHBhdGggc2VnbWVudCBpZiBhIC4uIHdpbGwgYmVjb21lCiAgICAgICAgICogdGhlIGZpcnN0IHBhdGggc2VnbWVudCwgdG8gaGVscCB3aXRoIG1vZHVsZSBuYW1lIGxvb2t1cHMsCiAgICAgICAgICogd2hpY2ggYWN0IGxpa2UgcGF0aHMsIGJ1dCBjYW4gYmUgcmVtYXBwZWQuIEJ1dCB0aGUgZW5kIHJlc3VsdCwKICAgICAgICAgKiBhbGwgcGF0aHMgdGhhdCB1c2UgdGhpcyBmdW5jdGlvbiBzaG91bGQgbG9vayBub3JtYWxpemVkLgogICAgICAgICAqIE5PVEU6IHRoaXMgbWV0aG9kIE1PRElGSUVTIHRoZSBpbnB1dCBhcnJheS4KICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnkgdGhlIGFycmF5IG9mIHBhdGggc2VnbWVudHMuCiAgICAgICAgICovCiAgICAgICAgZnVuY3Rpb24gdHJpbURvdHMoYXJ5KSB7CiAgICAgICAgICAgIHZhciBpLCBwYXJ0OwogICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXJ5Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBwYXJ0ID0gYXJ5W2ldOwogICAgICAgICAgICAgICAgaWYgKHBhcnQgPT09ICcuJykgewogICAgICAgICAgICAgICAgICAgIGFyeS5zcGxpY2UoaSwgMSk7CiAgICAgICAgICAgICAgICAgICAgaSAtPSAxOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJ0ID09PSAnLi4nKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gSWYgYXQgdGhlIHN0YXJ0LCBvciBwcmV2aW91cyB2YWx1ZSBpcyBzdGlsbCAuLiwKICAgICAgICAgICAgICAgICAgICAvLyBrZWVwIHRoZW0gc28gdGhhdCB3aGVuIGNvbnZlcnRlZCB0byBhIHBhdGggaXQgbWF5CiAgICAgICAgICAgICAgICAgICAgLy8gc3RpbGwgd29yayB3aGVuIGNvbnZlcnRlZCB0byBhIHBhdGgsIGV2ZW4gdGhvdWdoCiAgICAgICAgICAgICAgICAgICAgLy8gYXMgYW4gSUQgaXQgaXMgbGVzcyB0aGFuIGlkZWFsLiBJbiBsYXJnZXIgcG9pbnQKICAgICAgICAgICAgICAgICAgICAvLyByZWxlYXNlcywgbWF5IGJlIGJldHRlciB0byBqdXN0IGtpY2sgb3V0IGFuIGVycm9yLgogICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAwIHx8IChpID09PSAxICYmIGFyeVsyXSA9PT0gJy4uJykgfHwgYXJ5W2kgLSAxXSA9PT0gJy4uJykgewogICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFyeS5zcGxpY2UoaSAtIDEsIDIpOwogICAgICAgICAgICAgICAgICAgICAgICBpIC09IDI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAgKiBHaXZlbiBhIHJlbGF0aXZlIG1vZHVsZSBuYW1lLCBsaWtlIC4vc29tZXRoaW5nLCBub3JtYWxpemUgaXQgdG8KICAgICAgICAgKiBhIHJlYWwgbmFtZSB0aGF0IGNhbiBiZSBtYXBwZWQgdG8gYSBwYXRoLgogICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIHRoZSByZWxhdGl2ZSBuYW1lCiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGJhc2VOYW1lIGEgcmVhbCBuYW1lIHRoYXQgdGhlIG5hbWUgYXJnIGlzIHJlbGF0aXZlCiAgICAgICAgICogdG8uCiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBhcHBseU1hcCBhcHBseSB0aGUgbWFwIGNvbmZpZyB0byB0aGUgdmFsdWUuIFNob3VsZAogICAgICAgICAqIG9ubHkgYmUgZG9uZSBpZiB0aGlzIG5vcm1hbGl6YXRpb24gaXMgZm9yIGEgZGVwZW5kZW5jeSBJRC4KICAgICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBub3JtYWxpemVkIG5hbWUKICAgICAgICAgKi8KICAgICAgICBmdW5jdGlvbiBub3JtYWxpemUobmFtZSwgYmFzZU5hbWUsIGFwcGx5TWFwKSB7CiAgICAgICAgICAgIHZhciBwa2dNYWluLCBtYXBWYWx1ZSwgbmFtZVBhcnRzLCBpLCBqLCBuYW1lU2VnbWVudCwgbGFzdEluZGV4LAogICAgICAgICAgICAgICAgZm91bmRNYXAsIGZvdW5kSSwgZm91bmRTdGFyTWFwLCBzdGFySSwgbm9ybWFsaXplZEJhc2VQYXJ0cywKICAgICAgICAgICAgICAgIGJhc2VQYXJ0cyA9IChiYXNlTmFtZSAmJiBiYXNlTmFtZS5zcGxpdCgnLycpKSwKICAgICAgICAgICAgICAgIG1hcCA9IGNvbmZpZy5tYXAsCiAgICAgICAgICAgICAgICBzdGFyTWFwID0gbWFwICYmIG1hcFsnKiddOwoKICAgICAgICAgICAgLy9BZGp1c3QgYW55IHJlbGF0aXZlIHBhdGhzLgogICAgICAgICAgICBpZiAobmFtZSkgewogICAgICAgICAgICAgICAgbmFtZSA9IG5hbWUuc3BsaXQoJy8nKTsKICAgICAgICAgICAgICAgIGxhc3RJbmRleCA9IG5hbWUubGVuZ3RoIC0gMTsKCiAgICAgICAgICAgICAgICAvLyBJZiB3YW50aW5nIG5vZGUgSUQgY29tcGF0aWJpbGl0eSwgc3RyaXAgLmpzIGZyb20gZW5kCiAgICAgICAgICAgICAgICAvLyBvZiBJRHMuIEhhdmUgdG8gZG8gdGhpcyBoZXJlLCBhbmQgbm90IGluIG5hbWVUb1VybAogICAgICAgICAgICAgICAgLy8gYmVjYXVzZSBub2RlIGFsbG93cyBlaXRoZXIgLmpzIG9yIG5vbiAuanMgdG8gbWFwCiAgICAgICAgICAgICAgICAvLyB0byBzYW1lIGZpbGUuCiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLm5vZGVJZENvbXBhdCAmJiBqc1N1ZmZpeFJlZ0V4cC50ZXN0KG5hbWVbbGFzdEluZGV4XSkpIHsKICAgICAgICAgICAgICAgICAgICBuYW1lW2xhc3RJbmRleF0gPSBuYW1lW2xhc3RJbmRleF0ucmVwbGFjZShqc1N1ZmZpeFJlZ0V4cCwgJycpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIFN0YXJ0cyB3aXRoIGEgJy4nIHNvIG5lZWQgdGhlIGJhc2VOYW1lCiAgICAgICAgICAgICAgICBpZiAobmFtZVswXS5jaGFyQXQoMCkgPT09ICcuJyAmJiBiYXNlUGFydHMpIHsKICAgICAgICAgICAgICAgICAgICAvL0NvbnZlcnQgYmFzZU5hbWUgdG8gYXJyYXksIGFuZCBsb3Agb2ZmIHRoZSBsYXN0IHBhcnQsCiAgICAgICAgICAgICAgICAgICAgLy9zbyB0aGF0IC4gbWF0Y2hlcyB0aGF0ICdkaXJlY3RvcnknIGFuZCBub3QgbmFtZSBvZiB0aGUgYmFzZU5hbWUncwogICAgICAgICAgICAgICAgICAgIC8vbW9kdWxlLiBGb3IgaW5zdGFuY2UsIGJhc2VOYW1lIG9mICdvbmUvdHdvL3RocmVlJywgbWFwcyB0bwogICAgICAgICAgICAgICAgICAgIC8vJ29uZS90d28vdGhyZWUuanMnLCBidXQgd2Ugd2FudCB0aGUgZGlyZWN0b3J5LCAnb25lL3R3bycgZm9yCiAgICAgICAgICAgICAgICAgICAgLy90aGlzIG5vcm1hbGl6YXRpb24uCiAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZEJhc2VQYXJ0cyA9IGJhc2VQYXJ0cy5zbGljZSgwLCBiYXNlUGFydHMubGVuZ3RoIC0gMSk7CiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IG5vcm1hbGl6ZWRCYXNlUGFydHMuY29uY2F0KG5hbWUpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRyaW1Eb3RzKG5hbWUpOwogICAgICAgICAgICAgICAgbmFtZSA9IG5hbWUuam9pbignLycpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvL0FwcGx5IG1hcCBjb25maWcgaWYgYXZhaWxhYmxlLgogICAgICAgICAgICBpZiAoYXBwbHlNYXAgJiYgbWFwICYmIChiYXNlUGFydHMgfHwgc3Rhck1hcCkpIHsKICAgICAgICAgICAgICAgIG5hbWVQYXJ0cyA9IG5hbWUuc3BsaXQoJy8nKTsKCiAgICAgICAgICAgICAgICBvdXRlckxvb3A6IGZvciAoaSA9IG5hbWVQYXJ0cy5sZW5ndGg7IGkgPiAwOyBpIC09IDEpIHsKICAgICAgICAgICAgICAgICAgICBuYW1lU2VnbWVudCA9IG5hbWVQYXJ0cy5zbGljZSgwLCBpKS5qb2luKCcvJyk7CgogICAgICAgICAgICAgICAgICAgIGlmIChiYXNlUGFydHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy9GaW5kIHRoZSBsb25nZXN0IGJhc2VOYW1lIHNlZ21lbnQgbWF0Y2ggaW4gdGhlIGNvbmZpZy4KICAgICAgICAgICAgICAgICAgICAgICAgLy9TbywgZG8gam9pbnMgb24gdGhlIGJpZ2dlc3QgdG8gc21hbGxlc3QgbGVuZ3RocyBvZiBiYXNlUGFydHMuCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IGJhc2VQYXJ0cy5sZW5ndGg7IGogPiAwOyBqIC09IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcFZhbHVlID0gZ2V0T3duKG1hcCwgYmFzZVBhcnRzLnNsaWNlKDAsIGopLmpvaW4oJy8nKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9iYXNlTmFtZSBzZWdtZW50IGhhcyBjb25maWcsIGZpbmQgaWYgaXQgaGFzIG9uZSBmb3IKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcyBuYW1lLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcFZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwVmFsdWUgPSBnZXRPd24obWFwVmFsdWUsIG5hbWVTZWdtZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFwVmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9NYXRjaCwgdXBkYXRlIG5hbWUgdG8gdGhlIG5ldyB2YWx1ZS4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRNYXAgPSBtYXBWYWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRJID0gaTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgb3V0ZXJMb29wOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLy9DaGVjayBmb3IgYSBzdGFyIG1hcCBtYXRjaCwgYnV0IGp1c3QgaG9sZCBvbiB0byBpdCwKICAgICAgICAgICAgICAgICAgICAvL2lmIHRoZXJlIGlzIGEgc2hvcnRlciBzZWdtZW50IG1hdGNoIGxhdGVyIGluIGEgbWF0Y2hpbmcKICAgICAgICAgICAgICAgICAgICAvL2NvbmZpZywgdGhlbiBmYXZvciBvdmVyIHRoaXMgc3RhciBtYXAuCiAgICAgICAgICAgICAgICAgICAgaWYgKCFmb3VuZFN0YXJNYXAgJiYgc3Rhck1hcCAmJiBnZXRPd24oc3Rhck1hcCwgbmFtZVNlZ21lbnQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kU3Rhck1hcCA9IGdldE93bihzdGFyTWFwLCBuYW1lU2VnbWVudCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJJID0gaTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFmb3VuZE1hcCAmJiBmb3VuZFN0YXJNYXApIHsKICAgICAgICAgICAgICAgICAgICBmb3VuZE1hcCA9IGZvdW5kU3Rhck1hcDsKICAgICAgICAgICAgICAgICAgICBmb3VuZEkgPSBzdGFySTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoZm91bmRNYXApIHsKICAgICAgICAgICAgICAgICAgICBuYW1lUGFydHMuc3BsaWNlKDAsIGZvdW5kSSwgZm91bmRNYXApOwogICAgICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lUGFydHMuam9pbignLycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBJZiB0aGUgbmFtZSBwb2ludHMgdG8gYSBwYWNrYWdlJ3MgbmFtZSwgdXNlCiAgICAgICAgICAgIC8vIHRoZSBwYWNrYWdlIG1haW4gaW5zdGVhZC4KICAgICAgICAgICAgcGtnTWFpbiA9IGdldE93bihjb25maWcucGtncywgbmFtZSk7CgogICAgICAgICAgICByZXR1cm4gcGtnTWFpbiA/IHBrZ01haW4gOiBuYW1lOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlU2NyaXB0KG5hbWUpIHsKICAgICAgICAgICAgaWYgKGlzQnJvd3NlcikgewogICAgICAgICAgICAgICAgZWFjaChzY3JpcHRzKCksIGZ1bmN0aW9uIChzY3JpcHROb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHNjcmlwdE5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLXJlcXVpcmVtb2R1bGUnKSA9PT0gbmFtZSAmJgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NyaXB0Tm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtcmVxdWlyZWNvbnRleHQnKSA9PT0gY29udGV4dC5jb250ZXh0TmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHROb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0Tm9kZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBoYXNQYXRoRmFsbGJhY2soaWQpIHsKICAgICAgICAgICAgdmFyIHBhdGhDb25maWcgPSBnZXRPd24oY29uZmlnLnBhdGhzLCBpZCk7CiAgICAgICAgICAgIGlmIChwYXRoQ29uZmlnICYmIGlzQXJyYXkocGF0aENvbmZpZykgJiYgcGF0aENvbmZpZy5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgICAvL1BvcCBvZmYgdGhlIGZpcnN0IGFycmF5IHZhbHVlLCBzaW5jZSBpdCBmYWlsZWQsIGFuZAogICAgICAgICAgICAgICAgLy9yZXRyeQogICAgICAgICAgICAgICAgcGF0aENvbmZpZy5zaGlmdCgpOwogICAgICAgICAgICAgICAgY29udGV4dC5yZXF1aXJlLnVuZGVmKGlkKTsKCiAgICAgICAgICAgICAgICAvL0N1c3RvbSByZXF1aXJlIHRoYXQgZG9lcyBub3QgZG8gbWFwIHRyYW5zbGF0aW9uLCBzaW5jZQogICAgICAgICAgICAgICAgLy9JRCBpcyAiYWJzb2x1dGUiLCBhbHJlYWR5IG1hcHBlZC9yZXNvbHZlZC4KICAgICAgICAgICAgICAgIGNvbnRleHQubWFrZVJlcXVpcmUobnVsbCwgewogICAgICAgICAgICAgICAgICAgIHNraXBNYXA6IHRydWUKICAgICAgICAgICAgICAgIH0pKFtpZF0pOwoKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvL1R1cm5zIGEgcGx1Z2luIXJlc291cmNlIHRvIFtwbHVnaW4sIHJlc291cmNlXQogICAgICAgIC8vd2l0aCB0aGUgcGx1Z2luIGJlaW5nIHVuZGVmaW5lZCBpZiB0aGUgbmFtZQogICAgICAgIC8vZGlkIG5vdCBoYXZlIGEgcGx1Z2luIHByZWZpeC4KICAgICAgICBmdW5jdGlvbiBzcGxpdFByZWZpeChuYW1lKSB7CiAgICAgICAgICAgIHZhciBwcmVmaXgsCiAgICAgICAgICAgICAgICBpbmRleCA9IG5hbWUgPyBuYW1lLmluZGV4T2YoJyEnKSA6IC0xOwogICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkgewogICAgICAgICAgICAgICAgcHJlZml4ID0gbmFtZS5zdWJzdHJpbmcoMCwgaW5kZXgpOwogICAgICAgICAgICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyaW5nKGluZGV4ICsgMSwgbmFtZS5sZW5ndGgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBbcHJlZml4LCBuYW1lXTsKICAgICAgICB9CgogICAgICAgIC8qKgogICAgICAgICAqIENyZWF0ZXMgYSBtb2R1bGUgbWFwcGluZyB0aGF0IGluY2x1ZGVzIHBsdWdpbiBwcmVmaXgsIG1vZHVsZQogICAgICAgICAqIG5hbWUsIGFuZCBwYXRoLiBJZiBwYXJlbnRNb2R1bGVNYXAgaXMgcHJvdmlkZWQgaXQgd2lsbAogICAgICAgICAqIGFsc28gbm9ybWFsaXplIHRoZSBuYW1lIHZpYSByZXF1aXJlLm5vcm1hbGl6ZSgpCiAgICAgICAgICoKICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSB0aGUgbW9kdWxlIG5hbWUKICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gW3BhcmVudE1vZHVsZU1hcF0gcGFyZW50IG1vZHVsZSBtYXAKICAgICAgICAgKiBmb3IgdGhlIG1vZHVsZSBuYW1lLCB1c2VkIHRvIHJlc29sdmUgcmVsYXRpdmUgbmFtZXMuCiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBpc05vcm1hbGl6ZWQ6IGlzIHRoZSBJRCBhbHJlYWR5IG5vcm1hbGl6ZWQuCiAgICAgICAgICogVGhpcyBpcyB0cnVlIGlmIHRoaXMgY2FsbCBpcyBkb25lIGZvciBhIGRlZmluZSgpIG1vZHVsZSBJRC4KICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGFwcGx5TWFwOiBhcHBseSB0aGUgbWFwIGNvbmZpZyB0byB0aGUgSUQuCiAgICAgICAgICogU2hvdWxkIG9ubHkgYmUgdHJ1ZSBpZiB0aGlzIG1hcCBpcyBmb3IgYSBkZXBlbmRlbmN5LgogICAgICAgICAqCiAgICAgICAgICogQHJldHVybnMge09iamVjdH0KICAgICAgICAgKi8KICAgICAgICBmdW5jdGlvbiBtYWtlTW9kdWxlTWFwKG5hbWUsIHBhcmVudE1vZHVsZU1hcCwgaXNOb3JtYWxpemVkLCBhcHBseU1hcCkgewogICAgICAgICAgICB2YXIgdXJsLCBwbHVnaW5Nb2R1bGUsIHN1ZmZpeCwgbmFtZVBhcnRzLAogICAgICAgICAgICAgICAgcHJlZml4ID0gbnVsbCwKICAgICAgICAgICAgICAgIHBhcmVudE5hbWUgPSBwYXJlbnRNb2R1bGVNYXAgPyBwYXJlbnRNb2R1bGVNYXAubmFtZSA6IG51bGwsCiAgICAgICAgICAgICAgICBvcmlnaW5hbE5hbWUgPSBuYW1lLAogICAgICAgICAgICAgICAgaXNEZWZpbmUgPSB0cnVlLAogICAgICAgICAgICAgICAgbm9ybWFsaXplZE5hbWUgPSAnJzsKCiAgICAgICAgICAgIC8vSWYgbm8gbmFtZSwgdGhlbiBpdCBtZWFucyBpdCBpcyBhIHJlcXVpcmUgY2FsbCwgZ2VuZXJhdGUgYW4KICAgICAgICAgICAgLy9pbnRlcm5hbCBuYW1lLgogICAgICAgICAgICBpZiAoIW5hbWUpIHsKICAgICAgICAgICAgICAgIGlzRGVmaW5lID0gZmFsc2U7CiAgICAgICAgICAgICAgICBuYW1lID0gJ19AcicgKyAocmVxdWlyZUNvdW50ZXIgKz0gMSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIG5hbWVQYXJ0cyA9IHNwbGl0UHJlZml4KG5hbWUpOwogICAgICAgICAgICBwcmVmaXggPSBuYW1lUGFydHNbMF07CiAgICAgICAgICAgIG5hbWUgPSBuYW1lUGFydHNbMV07CgogICAgICAgICAgICBpZiAocHJlZml4KSB7CiAgICAgICAgICAgICAgICBwcmVmaXggPSBub3JtYWxpemUocHJlZml4LCBwYXJlbnROYW1lLCBhcHBseU1hcCk7CiAgICAgICAgICAgICAgICBwbHVnaW5Nb2R1bGUgPSBnZXRPd24oZGVmaW5lZCwgcHJlZml4KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy9BY2NvdW50IGZvciByZWxhdGl2ZSBwYXRocyBpZiB0aGVyZSBpcyBhIGJhc2UgbmFtZS4KICAgICAgICAgICAgaWYgKG5hbWUpIHsKICAgICAgICAgICAgICAgIGlmIChwcmVmaXgpIHsKICAgICAgICAgICAgICAgICAgICBpZiAocGx1Z2luTW9kdWxlICYmIHBsdWdpbk1vZHVsZS5ub3JtYWxpemUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy9QbHVnaW4gaXMgbG9hZGVkLCB1c2UgaXRzIG5vcm1hbGl6ZSBtZXRob2QuCiAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWROYW1lID0gcGx1Z2luTW9kdWxlLm5vcm1hbGl6ZShuYW1lLCBmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZShuYW1lLCBwYXJlbnROYW1lLCBhcHBseU1hcCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIG5lc3RlZCBwbHVnaW4gcmVmZXJlbmNlcywgdGhlbiBkbyBub3QgdHJ5IHRvCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vcm1hbGl6ZSwgYXMgaXQgd2lsbCBub3Qgbm9ybWFsaXplIGNvcnJlY3RseS4gVGhpcwogICAgICAgICAgICAgICAgICAgICAgICAvLyBwbGFjZXMgYSByZXN0cmljdGlvbiBvbiByZXNvdXJjZUlkcywgYW5kIHRoZSBsb25nZXIKICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGVybSBzb2x1dGlvbiBpcyBub3QgdG8gbm9ybWFsaXplIHVudGlsIHBsdWdpbnMgYXJlCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxvYWRlZCBhbmQgYWxsIG5vcm1hbGl6YXRpb25zIHRvIGFsbG93IGZvciBhc3luYwogICAgICAgICAgICAgICAgICAgICAgICAvLyBsb2FkaW5nIG9mIGEgbG9hZGVyIHBsdWdpbi4gQnV0IGZvciBub3csIGZpeGVzIHRoZQogICAgICAgICAgICAgICAgICAgICAgICAvLyBjb21tb24gdXNlcy4gRGV0YWlscyBpbiAjMTEzMQogICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkTmFtZSA9IG5hbWUuaW5kZXhPZignIScpID09PSAtMSA/CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplKG5hbWUsIHBhcmVudE5hbWUsIGFwcGx5TWFwKSA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vQSByZWd1bGFyIG1vZHVsZS4KICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkTmFtZSA9IG5vcm1hbGl6ZShuYW1lLCBwYXJlbnROYW1lLCBhcHBseU1hcCk7CgogICAgICAgICAgICAgICAgICAgIC8vTm9ybWFsaXplZCBuYW1lIG1heSBiZSBhIHBsdWdpbiBJRCBkdWUgdG8gbWFwIGNvbmZpZwogICAgICAgICAgICAgICAgICAgIC8vYXBwbGljYXRpb24gaW4gbm9ybWFsaXplLiBUaGUgbWFwIGNvbmZpZyB2YWx1ZXMgbXVzdAogICAgICAgICAgICAgICAgICAgIC8vYWxyZWFkeSBiZSBub3JtYWxpemVkLCBzbyBkbyBub3QgbmVlZCB0byByZWRvIHRoYXQgcGFydC4KICAgICAgICAgICAgICAgICAgICBuYW1lUGFydHMgPSBzcGxpdFByZWZpeChub3JtYWxpemVkTmFtZSk7CiAgICAgICAgICAgICAgICAgICAgcHJlZml4ID0gbmFtZVBhcnRzWzBdOwogICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWROYW1lID0gbmFtZVBhcnRzWzFdOwogICAgICAgICAgICAgICAgICAgIGlzTm9ybWFsaXplZCA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgIHVybCA9IGNvbnRleHQubmFtZVRvVXJsKG5vcm1hbGl6ZWROYW1lKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy9JZiB0aGUgaWQgaXMgYSBwbHVnaW4gaWQgdGhhdCBjYW5ub3QgYmUgZGV0ZXJtaW5lZCBpZiBpdCBuZWVkcwogICAgICAgICAgICAvL25vcm1hbGl6YXRpb24sIHN0YW1wIGl0IHdpdGggYSB1bmlxdWUgSUQgc28gdHdvIG1hdGNoaW5nIHJlbGF0aXZlCiAgICAgICAgICAgIC8vaWRzIHRoYXQgbWF5IGNvbmZsaWN0IGNhbiBiZSBzZXBhcmF0ZS4KICAgICAgICAgICAgc3VmZml4ID0gcHJlZml4ICYmICFwbHVnaW5Nb2R1bGUgJiYgIWlzTm9ybWFsaXplZCA/CiAgICAgICAgICAgICAgICAgICAgICdfdW5ub3JtYWxpemVkJyArICh1bm5vcm1hbGl6ZWRDb3VudGVyICs9IDEpIDoKICAgICAgICAgICAgICAgICAgICAgJyc7CgogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcHJlZml4OiBwcmVmaXgsCiAgICAgICAgICAgICAgICBuYW1lOiBub3JtYWxpemVkTmFtZSwKICAgICAgICAgICAgICAgIHBhcmVudE1hcDogcGFyZW50TW9kdWxlTWFwLAogICAgICAgICAgICAgICAgdW5ub3JtYWxpemVkOiAhIXN1ZmZpeCwKICAgICAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICAgICAgb3JpZ2luYWxOYW1lOiBvcmlnaW5hbE5hbWUsCiAgICAgICAgICAgICAgICBpc0RlZmluZTogaXNEZWZpbmUsCiAgICAgICAgICAgICAgICBpZDogKHByZWZpeCA/CiAgICAgICAgICAgICAgICAgICAgICAgIHByZWZpeCArICchJyArIG5vcm1hbGl6ZWROYW1lIDoKICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZE5hbWUpICsgc3VmZml4CiAgICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRNb2R1bGUoZGVwTWFwKSB7CiAgICAgICAgICAgIHZhciBpZCA9IGRlcE1hcC5pZCwKICAgICAgICAgICAgICAgIG1vZCA9IGdldE93bihyZWdpc3RyeSwgaWQpOwoKICAgICAgICAgICAgaWYgKCFtb2QpIHsKICAgICAgICAgICAgICAgIG1vZCA9IHJlZ2lzdHJ5W2lkXSA9IG5ldyBjb250ZXh0Lk1vZHVsZShkZXBNYXApOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gbW9kOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gb24oZGVwTWFwLCBuYW1lLCBmbikgewogICAgICAgICAgICB2YXIgaWQgPSBkZXBNYXAuaWQsCiAgICAgICAgICAgICAgICBtb2QgPSBnZXRPd24ocmVnaXN0cnksIGlkKTsKCiAgICAgICAgICAgIGlmIChoYXNQcm9wKGRlZmluZWQsIGlkKSAmJgogICAgICAgICAgICAgICAgICAgICghbW9kIHx8IG1vZC5kZWZpbmVFbWl0Q29tcGxldGUpKSB7CiAgICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gJ2RlZmluZWQnKSB7CiAgICAgICAgICAgICAgICAgICAgZm4oZGVmaW5lZFtpZF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbW9kID0gZ2V0TW9kdWxlKGRlcE1hcCk7CiAgICAgICAgICAgICAgICBpZiAobW9kLmVycm9yICYmIG5hbWUgPT09ICdlcnJvcicpIHsKICAgICAgICAgICAgICAgICAgICBmbihtb2QuZXJyb3IpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBtb2Qub24obmFtZSwgZm4pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBvbkVycm9yKGVyciwgZXJyYmFjaykgewogICAgICAgICAgICB2YXIgaWRzID0gZXJyLnJlcXVpcmVNb2R1bGVzLAogICAgICAgICAgICAgICAgbm90aWZpZWQgPSBmYWxzZTsKCiAgICAgICAgICAgIGlmIChlcnJiYWNrKSB7CiAgICAgICAgICAgICAgICBlcnJiYWNrKGVycik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBlYWNoKGlkcywgZnVuY3Rpb24gKGlkKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZCA9IGdldE93bihyZWdpc3RyeSwgaWQpOwogICAgICAgICAgICAgICAgICAgIGlmIChtb2QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy9TZXQgZXJyb3Igb24gbW9kdWxlLCBzbyBpdCBza2lwcyB0aW1lb3V0IGNoZWNrcy4KICAgICAgICAgICAgICAgICAgICAgICAgbW9kLmVycm9yID0gZXJyOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kLmV2ZW50cy5lcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kLmVtaXQoJ2Vycm9yJywgZXJyKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmICghbm90aWZpZWQpIHsKICAgICAgICAgICAgICAgICAgICByZXEub25FcnJvcihlcnIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAgKiBJbnRlcm5hbCBtZXRob2QgdG8gdHJhbnNmZXIgZ2xvYmFsUXVldWUgaXRlbXMgdG8gdGhpcyBjb250ZXh0J3MKICAgICAgICAgKiBkZWZRdWV1ZS4KICAgICAgICAgKi8KICAgICAgICBmdW5jdGlvbiB0YWtlR2xvYmFsUXVldWUoKSB7CiAgICAgICAgICAgIC8vUHVzaCBhbGwgdGhlIGdsb2JhbERlZlF1ZXVlIGl0ZW1zIGludG8gdGhlIGNvbnRleHQncyBkZWZRdWV1ZQogICAgICAgICAgICBpZiAoZ2xvYmFsRGVmUXVldWUubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBlYWNoKGdsb2JhbERlZlF1ZXVlLCBmdW5jdGlvbihxdWV1ZUl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBxdWV1ZUl0ZW1bMF07CiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kZWZRdWV1ZU1hcFtpZF0gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBkZWZRdWV1ZS5wdXNoKHF1ZXVlSXRlbSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGdsb2JhbERlZlF1ZXVlID0gW107CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGhhbmRsZXJzID0gewogICAgICAgICAgICAncmVxdWlyZSc6IGZ1bmN0aW9uIChtb2QpIHsKICAgICAgICAgICAgICAgIGlmIChtb2QucmVxdWlyZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBtb2QucmVxdWlyZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChtb2QucmVxdWlyZSA9IGNvbnRleHQubWFrZVJlcXVpcmUobW9kLm1hcCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICAnZXhwb3J0cyc6IGZ1bmN0aW9uIChtb2QpIHsKICAgICAgICAgICAgICAgIG1vZC51c2luZ0V4cG9ydHMgPSB0cnVlOwogICAgICAgICAgICAgICAgaWYgKG1vZC5tYXAuaXNEZWZpbmUpIHsKICAgICAgICAgICAgICAgICAgICBpZiAobW9kLmV4cG9ydHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChkZWZpbmVkW21vZC5tYXAuaWRdID0gbW9kLmV4cG9ydHMpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAobW9kLmV4cG9ydHMgPSBkZWZpbmVkW21vZC5tYXAuaWRdID0ge30pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgJ21vZHVsZSc6IGZ1bmN0aW9uIChtb2QpIHsKICAgICAgICAgICAgICAgIGlmIChtb2QubW9kdWxlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vZC5tb2R1bGU7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAobW9kLm1vZHVsZSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IG1vZC5tYXAuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgIHVyaTogbW9kLm1hcC51cmwsCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZzogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldE93bihjb25maWcuY29uZmlnLCBtb2QubWFwLmlkKSB8fCB7fTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgZXhwb3J0czogbW9kLmV4cG9ydHMgfHwgKG1vZC5leHBvcnRzID0ge30pCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBmdW5jdGlvbiBjbGVhblJlZ2lzdHJ5KGlkKSB7CiAgICAgICAgICAgIC8vQ2xlYW4gdXAgbWFjaGluZXJ5IHVzZWQgZm9yIHdhaXRpbmcgbW9kdWxlcy4KICAgICAgICAgICAgZGVsZXRlIHJlZ2lzdHJ5W2lkXTsKICAgICAgICAgICAgZGVsZXRlIGVuYWJsZWRSZWdpc3RyeVtpZF07CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBicmVha0N5Y2xlKG1vZCwgdHJhY2VkLCBwcm9jZXNzZWQpIHsKICAgICAgICAgICAgdmFyIGlkID0gbW9kLm1hcC5pZDsKCiAgICAgICAgICAgIGlmIChtb2QuZXJyb3IpIHsKICAgICAgICAgICAgICAgIG1vZC5lbWl0KCdlcnJvcicsIG1vZC5lcnJvcik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0cmFjZWRbaWRdID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGVhY2gobW9kLmRlcE1hcHMsIGZ1bmN0aW9uIChkZXBNYXAsIGkpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZGVwSWQgPSBkZXBNYXAuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGRlcCA9IGdldE93bihyZWdpc3RyeSwgZGVwSWQpOwoKICAgICAgICAgICAgICAgICAgICAvL09ubHkgZm9yY2UgdGhpbmdzIHRoYXQgaGF2ZSBub3QgY29tcGxldGVkCiAgICAgICAgICAgICAgICAgICAgLy9iZWluZyBkZWZpbmVkLCBzbyBzdGlsbCBpbiB0aGUgcmVnaXN0cnksCiAgICAgICAgICAgICAgICAgICAgLy9hbmQgb25seSBpZiBpdCBoYXMgbm90IGJlZW4gbWF0Y2hlZCB1cAogICAgICAgICAgICAgICAgICAgIC8vaW4gdGhlIG1vZHVsZSBhbHJlYWR5LgogICAgICAgICAgICAgICAgICAgIGlmIChkZXAgJiYgIW1vZC5kZXBNYXRjaGVkW2ldICYmICFwcm9jZXNzZWRbZGVwSWRdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZXRPd24odHJhY2VkLCBkZXBJZCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZC5kZWZpbmVEZXAoaSwgZGVmaW5lZFtkZXBJZF0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kLmNoZWNrKCk7IC8vcGFzcyBmYWxzZT8KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrQ3ljbGUoZGVwLCB0cmFjZWQsIHByb2Nlc3NlZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHByb2Nlc3NlZFtpZF0gPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBjaGVja0xvYWRlZCgpIHsKICAgICAgICAgICAgdmFyIGVyciwgdXNpbmdQYXRoRmFsbGJhY2ssCiAgICAgICAgICAgICAgICB3YWl0SW50ZXJ2YWwgPSBjb25maWcud2FpdFNlY29uZHMgKiAxMDAwLAogICAgICAgICAgICAgICAgLy9JdCBpcyBwb3NzaWJsZSB0byBkaXNhYmxlIHRoZSB3YWl0IGludGVydmFsIGJ5IHVzaW5nIHdhaXRTZWNvbmRzIG9mIDAuCiAgICAgICAgICAgICAgICBleHBpcmVkID0gd2FpdEludGVydmFsICYmIChjb250ZXh0LnN0YXJ0VGltZSArIHdhaXRJbnRlcnZhbCkgPCBuZXcgRGF0ZSgpLmdldFRpbWUoKSwKICAgICAgICAgICAgICAgIG5vTG9hZHMgPSBbXSwKICAgICAgICAgICAgICAgIHJlcUNhbGxzID0gW10sCiAgICAgICAgICAgICAgICBzdGlsbExvYWRpbmcgPSBmYWxzZSwKICAgICAgICAgICAgICAgIG5lZWRDeWNsZUNoZWNrID0gdHJ1ZTsKCiAgICAgICAgICAgIC8vRG8gbm90IGJvdGhlciBpZiB0aGlzIGNhbGwgd2FzIGEgcmVzdWx0IG9mIGEgY3ljbGUgYnJlYWsuCiAgICAgICAgICAgIGlmIChpbkNoZWNrTG9hZGVkKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGluQ2hlY2tMb2FkZWQgPSB0cnVlOwoKICAgICAgICAgICAgLy9GaWd1cmUgb3V0IHRoZSBzdGF0ZSBvZiBhbGwgdGhlIG1vZHVsZXMuCiAgICAgICAgICAgIGVhY2hQcm9wKGVuYWJsZWRSZWdpc3RyeSwgZnVuY3Rpb24gKG1vZCkgewogICAgICAgICAgICAgICAgdmFyIG1hcCA9IG1vZC5tYXAsCiAgICAgICAgICAgICAgICAgICAgbW9kSWQgPSBtYXAuaWQ7CgogICAgICAgICAgICAgICAgLy9Ta2lwIHRoaW5ncyB0aGF0IGFyZSBub3QgZW5hYmxlZCBvciBpbiBlcnJvciBzdGF0ZS4KICAgICAgICAgICAgICAgIGlmICghbW9kLmVuYWJsZWQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFtYXAuaXNEZWZpbmUpIHsKICAgICAgICAgICAgICAgICAgICByZXFDYWxscy5wdXNoKG1vZCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFtb2QuZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAvL0lmIHRoZSBtb2R1bGUgc2hvdWxkIGJlIGV4ZWN1dGVkLCBhbmQgaXQgaGFzIG5vdAogICAgICAgICAgICAgICAgICAgIC8vYmVlbiBpbml0ZWQgYW5kIHRpbWUgaXMgdXAsIHJlbWVtYmVyIGl0LgogICAgICAgICAgICAgICAgICAgIGlmICghbW9kLmluaXRlZCAmJiBleHBpcmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNQYXRoRmFsbGJhY2sobW9kSWQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2luZ1BhdGhGYWxsYmFjayA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGlsbExvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9Mb2Fkcy5wdXNoKG1vZElkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZVNjcmlwdChtb2RJZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFtb2QuaW5pdGVkICYmIG1vZC5mZXRjaGVkICYmIG1hcC5pc0RlZmluZSkgewogICAgICAgICAgICAgICAgICAgICAgICBzdGlsbExvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1hcC5wcmVmaXgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vTm8gcmVhc29uIHRvIGtlZXAgbG9va2luZyBmb3IgdW5maW5pc2hlZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9sb2FkaW5nLiBJZiB0aGUgb25seSBzdGlsbExvYWRpbmcgaXMgYQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wbHVnaW4gcmVzb3VyY2UgdGhvdWdoLCBrZWVwIGdvaW5nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9iZWNhdXNlIGl0IG1heSBiZSB0aGF0IGEgcGx1Z2luIHJlc291cmNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lzIHdhaXRpbmcgb24gYSBub24tcGx1Z2luIGN5Y2xlLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChuZWVkQ3ljbGVDaGVjayA9IGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBpZiAoZXhwaXJlZCAmJiBub0xvYWRzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgLy9JZiB3YWl0IHRpbWUgZXhwaXJlZCwgdGhyb3cgZXJyb3Igb2YgdW5sb2FkZWQgbW9kdWxlcy4KICAgICAgICAgICAgICAgIGVyciA9IG1ha2VFcnJvcigndGltZW91dCcsICdMb2FkIHRpbWVvdXQgZm9yIG1vZHVsZXM6ICcgKyBub0xvYWRzLCBudWxsLCBub0xvYWRzKTsKICAgICAgICAgICAgICAgIGVyci5jb250ZXh0TmFtZSA9IGNvbnRleHQuY29udGV4dE5hbWU7CiAgICAgICAgICAgICAgICByZXR1cm4gb25FcnJvcihlcnIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvL05vdCBleHBpcmVkLCBjaGVjayBmb3IgYSBjeWNsZS4KICAgICAgICAgICAgaWYgKG5lZWRDeWNsZUNoZWNrKSB7CiAgICAgICAgICAgICAgICBlYWNoKHJlcUNhbGxzLCBmdW5jdGlvbiAobW9kKSB7CiAgICAgICAgICAgICAgICAgICAgYnJlYWtDeWNsZShtb2QsIHt9LCB7fSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy9JZiBzdGlsbCB3YWl0aW5nIG9uIGxvYWRzLCBhbmQgdGhlIHdhaXRpbmcgbG9hZCBpcyBzb21ldGhpbmcKICAgICAgICAgICAgLy9vdGhlciB0aGFuIGEgcGx1Z2luIHJlc291cmNlLCBvciB0aGVyZSBhcmUgc3RpbGwgb3V0c3RhbmRpbmcKICAgICAgICAgICAgLy9zY3JpcHRzLCB0aGVuIGp1c3QgdHJ5IGJhY2sgbGF0ZXIuCiAgICAgICAgICAgIGlmICgoIWV4cGlyZWQgfHwgdXNpbmdQYXRoRmFsbGJhY2spICYmIHN0aWxsTG9hZGluZykgewogICAgICAgICAgICAgICAgLy9Tb21ldGhpbmcgaXMgc3RpbGwgd2FpdGluZyB0byBsb2FkLiBXYWl0IGZvciBpdCwgYnV0IG9ubHkKICAgICAgICAgICAgICAgIC8vaWYgYSB0aW1lb3V0IGlzIG5vdCBhbHJlYWR5IGluIGVmZmVjdC4KICAgICAgICAgICAgICAgIGlmICgoaXNCcm93c2VyIHx8IGlzV2ViV29ya2VyKSAmJiAhY2hlY2tMb2FkZWRUaW1lb3V0SWQpIHsKICAgICAgICAgICAgICAgICAgICBjaGVja0xvYWRlZFRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBjaGVja0xvYWRlZFRpbWVvdXRJZCA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrTG9hZGVkKCk7CiAgICAgICAgICAgICAgICAgICAgfSwgNTApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpbkNoZWNrTG9hZGVkID0gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBNb2R1bGUgPSBmdW5jdGlvbiAobWFwKSB7CiAgICAgICAgICAgIHRoaXMuZXZlbnRzID0gZ2V0T3duKHVuZGVmRXZlbnRzLCBtYXAuaWQpIHx8IHt9OwogICAgICAgICAgICB0aGlzLm1hcCA9IG1hcDsKICAgICAgICAgICAgdGhpcy5zaGltID0gZ2V0T3duKGNvbmZpZy5zaGltLCBtYXAuaWQpOwogICAgICAgICAgICB0aGlzLmRlcEV4cG9ydHMgPSBbXTsKICAgICAgICAgICAgdGhpcy5kZXBNYXBzID0gW107CiAgICAgICAgICAgIHRoaXMuZGVwTWF0Y2hlZCA9IFtdOwogICAgICAgICAgICB0aGlzLnBsdWdpbk1hcHMgPSB7fTsKICAgICAgICAgICAgdGhpcy5kZXBDb3VudCA9IDA7CgogICAgICAgICAgICAvKiB0aGlzLmV4cG9ydHMgdGhpcy5mYWN0b3J5CiAgICAgICAgICAgICAgIHRoaXMuZGVwTWFwcyA9IFtdLAogICAgICAgICAgICAgICB0aGlzLmVuYWJsZWQsIHRoaXMuZmV0Y2hlZAogICAgICAgICAgICAqLwogICAgICAgIH07CgogICAgICAgIE1vZHVsZS5wcm90b3R5cGUgPSB7CiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uIChkZXBNYXBzLCBmYWN0b3J5LCBlcnJiYWNrLCBvcHRpb25zKSB7CiAgICAgICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKCiAgICAgICAgICAgICAgICAvL0RvIG5vdCBkbyBtb3JlIGluaXRzIGlmIGFscmVhZHkgZG9uZS4gQ2FuIGhhcHBlbiBpZiB0aGVyZQogICAgICAgICAgICAgICAgLy9hcmUgbXVsdGlwbGUgZGVmaW5lIGNhbGxzIGZvciB0aGUgc2FtZSBtb2R1bGUuIFRoYXQgaXMgbm90CiAgICAgICAgICAgICAgICAvL2Egbm9ybWFsLCBjb21tb24gY2FzZSwgYnV0IGl0IGlzIGFsc28gbm90IHVuZXhwZWN0ZWQuCiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbml0ZWQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy5mYWN0b3J5ID0gZmFjdG9yeTsKCiAgICAgICAgICAgICAgICBpZiAoZXJyYmFjaykgewogICAgICAgICAgICAgICAgICAgIC8vUmVnaXN0ZXIgZm9yIGVycm9ycyBvbiB0aGlzIG1vZHVsZS4KICAgICAgICAgICAgICAgICAgICB0aGlzLm9uKCdlcnJvcicsIGVycmJhY2spOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmV2ZW50cy5lcnJvcikgewogICAgICAgICAgICAgICAgICAgIC8vSWYgbm8gZXJyYmFjayBhbHJlYWR5LCBidXQgdGhlcmUgYXJlIGVycm9yIGxpc3RlbmVycwogICAgICAgICAgICAgICAgICAgIC8vb24gdGhpcyBtb2R1bGUsIHNldCB1cCBhbiBlcnJiYWNrIHRvIHBhc3MgdG8gdGhlIGRlcHMuCiAgICAgICAgICAgICAgICAgICAgZXJyYmFjayA9IGJpbmQodGhpcywgZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvL0RvIGEgY29weSBvZiB0aGUgZGVwZW5kZW5jeSBhcnJheSwgc28gdGhhdAogICAgICAgICAgICAgICAgLy9zb3VyY2UgaW5wdXRzIGFyZSBub3QgbW9kaWZpZWQuIEZvciBleGFtcGxlCiAgICAgICAgICAgICAgICAvLyJzaGltIiBkZXBzIGFyZSBwYXNzZWQgaW4gaGVyZSBkaXJlY3RseSwgYW5kCiAgICAgICAgICAgICAgICAvL2RvaW5nIGEgZGlyZWN0IG1vZGlmaWNhdGlvbiBvZiB0aGUgZGVwTWFwcyBhcnJheQogICAgICAgICAgICAgICAgLy93b3VsZCBhZmZlY3QgdGhhdCBjb25maWcuCiAgICAgICAgICAgICAgICB0aGlzLmRlcE1hcHMgPSBkZXBNYXBzICYmIGRlcE1hcHMuc2xpY2UoMCk7CgogICAgICAgICAgICAgICAgdGhpcy5lcnJiYWNrID0gZXJyYmFjazsKCiAgICAgICAgICAgICAgICAvL0luZGljYXRlIHRoaXMgbW9kdWxlIGhhcyBiZSBpbml0aWFsaXplZAogICAgICAgICAgICAgICAgdGhpcy5pbml0ZWQgPSB0cnVlOwoKICAgICAgICAgICAgICAgIHRoaXMuaWdub3JlID0gb3B0aW9ucy5pZ25vcmU7CgogICAgICAgICAgICAgICAgLy9Db3VsZCBoYXZlIG9wdGlvbiB0byBpbml0IHRoaXMgbW9kdWxlIGluIGVuYWJsZWQgbW9kZSwKICAgICAgICAgICAgICAgIC8vb3IgY291bGQgaGF2ZSBiZWVuIHByZXZpb3VzbHkgbWFya2VkIGFzIGVuYWJsZWQuIEhvd2V2ZXIsCiAgICAgICAgICAgICAgICAvL3RoZSBkZXBlbmRlbmNpZXMgYXJlIG5vdCBrbm93biB1bnRpbCBpbml0IGlzIGNhbGxlZC4gU28KICAgICAgICAgICAgICAgIC8vaWYgZW5hYmxlZCBwcmV2aW91c2x5LCBub3cgdHJpZ2dlciBkZXBlbmRlbmNpZXMgYXMgZW5hYmxlZC4KICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmVuYWJsZWQgfHwgdGhpcy5lbmFibGVkKSB7CiAgICAgICAgICAgICAgICAgICAgLy9FbmFibGUgdGhpcyBtb2R1bGUgYW5kIGRlcGVuZGVuY2llcy4KICAgICAgICAgICAgICAgICAgICAvL1dpbGwgY2FsbCB0aGlzLmNoZWNrKCkKICAgICAgICAgICAgICAgICAgICB0aGlzLmVuYWJsZSgpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCgogICAgICAgICAgICBkZWZpbmVEZXA6IGZ1bmN0aW9uIChpLCBkZXBFeHBvcnRzKSB7CiAgICAgICAgICAgICAgICAvL0JlY2F1c2Ugb2YgY3ljbGVzLCBkZWZpbmVkIGNhbGxiYWNrIGZvciBhIGdpdmVuCiAgICAgICAgICAgICAgICAvL2V4cG9ydCBjYW4gYmUgY2FsbGVkIG1vcmUgdGhhbiBvbmNlLgogICAgICAgICAgICAgICAgaWYgKCF0aGlzLmRlcE1hdGNoZWRbaV0pIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRlcE1hdGNoZWRbaV0gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHRoaXMuZGVwQ291bnQgLT0gMTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRlcEV4cG9ydHNbaV0gPSBkZXBFeHBvcnRzOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAoKICAgICAgICAgICAgZmV0Y2g6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmZldGNoZWQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLmZldGNoZWQgPSB0cnVlOwoKICAgICAgICAgICAgICAgIGNvbnRleHQuc3RhcnRUaW1lID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTsKCiAgICAgICAgICAgICAgICB2YXIgbWFwID0gdGhpcy5tYXA7CgogICAgICAgICAgICAgICAgLy9JZiB0aGUgbWFuYWdlciBpcyBmb3IgYSBwbHVnaW4gbWFuYWdlZCByZXNvdXJjZSwKICAgICAgICAgICAgICAgIC8vYXNrIHRoZSBwbHVnaW4gdG8gbG9hZCBpdCBub3cuCiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaGltKSB7CiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tYWtlUmVxdWlyZSh0aGlzLm1hcCwgewogICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVCdWlsZENhbGxiYWNrOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgfSkodGhpcy5zaGltLmRlcHMgfHwgW10sIGJpbmQodGhpcywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFwLnByZWZpeCA/IHRoaXMuY2FsbFBsdWdpbigpIDogdGhpcy5sb2FkKCk7CiAgICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvL1JlZ3VsYXIgZGVwZW5kZW5jeS4KICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFwLnByZWZpeCA/IHRoaXMuY2FsbFBsdWdpbigpIDogdGhpcy5sb2FkKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCgogICAgICAgICAgICBsb2FkOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgdXJsID0gdGhpcy5tYXAudXJsOwoKICAgICAgICAgICAgICAgIC8vUmVndWxhciBkZXBlbmRlbmN5LgogICAgICAgICAgICAgICAgaWYgKCF1cmxGZXRjaGVkW3VybF0pIHsKICAgICAgICAgICAgICAgICAgICB1cmxGZXRjaGVkW3VybF0gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGNvbnRleHQubG9hZCh0aGlzLm1hcC5pZCwgdXJsKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiBDaGVja3MgaWYgdGhlIG1vZHVsZSBpcyByZWFkeSB0byBkZWZpbmUgaXRzZWxmLCBhbmQgaWYgc28sCiAgICAgICAgICAgICAqIGRlZmluZSBpdC4KICAgICAgICAgICAgICovCiAgICAgICAgICAgIGNoZWNrOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZCB8fCB0aGlzLmVuYWJsaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHZhciBlcnIsIGNqc01vZHVsZSwKICAgICAgICAgICAgICAgICAgICBpZCA9IHRoaXMubWFwLmlkLAogICAgICAgICAgICAgICAgICAgIGRlcEV4cG9ydHMgPSB0aGlzLmRlcEV4cG9ydHMsCiAgICAgICAgICAgICAgICAgICAgZXhwb3J0cyA9IHRoaXMuZXhwb3J0cywKICAgICAgICAgICAgICAgICAgICBmYWN0b3J5ID0gdGhpcy5mYWN0b3J5OwoKICAgICAgICAgICAgICAgIGlmICghdGhpcy5pbml0ZWQpIHsKICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IGZldGNoIGlmIG5vdCBhbHJlYWR5IGluIHRoZSBkZWZRdWV1ZS4KICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc1Byb3AoY29udGV4dC5kZWZRdWV1ZU1hcCwgaWQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2goKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgdGhpcy5lcnJvcik7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLmRlZmluaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgLy9UaGUgZmFjdG9yeSBjb3VsZCB0cmlnZ2VyIGFub3RoZXIgcmVxdWlyZSBjYWxsCiAgICAgICAgICAgICAgICAgICAgLy90aGF0IHdvdWxkIHJlc3VsdCBpbiBjaGVja2luZyB0aGlzIG1vZHVsZSB0bwogICAgICAgICAgICAgICAgICAgIC8vZGVmaW5lIGl0c2VsZiBhZ2Fpbi4gSWYgYWxyZWFkeSBpbiB0aGUgcHJvY2VzcwogICAgICAgICAgICAgICAgICAgIC8vb2YgZG9pbmcgdGhhdCwgc2tpcCB0aGlzIHdvcmsuCiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWZpbmluZyA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlcENvdW50IDwgMSAmJiAhdGhpcy5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGZhY3RvcnkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9ydHMgPSBjb250ZXh0LmV4ZWNDYihpZCwgZmFjdG9yeSwgZGVwRXhwb3J0cywgZXhwb3J0cyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyID0gZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGYXZvciByZXR1cm4gdmFsdWUgb3ZlciBleHBvcnRzLiBJZiBub2RlL2NqcyBpbiBwbGF5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlbiB3aWxsIG5vdCBoYXZlIGEgcmV0dXJuIHZhbHVlIGFueXdheS4gRmF2b3IKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1vZHVsZS5leHBvcnRzIGFzc2lnbm1lbnQgb3ZlciBleHBvcnRzIG9iamVjdC4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hcC5pc0RlZmluZSAmJiBleHBvcnRzID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjanNNb2R1bGUgPSB0aGlzLm1vZHVsZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2pzTW9kdWxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9ydHMgPSBjanNNb2R1bGUuZXhwb3J0czsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudXNpbmdFeHBvcnRzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZXhwb3J0cyBhbHJlYWR5IHNldCB0aGUgZGVmaW5lZCB2YWx1ZS4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwb3J0cyA9IHRoaXMuZXhwb3J0czsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGFuIGVycm9yIGxpc3RlbmVyLCBmYXZvciBwYXNzaW5nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG8gdGhhdCBpbnN0ZWFkIG9mIHRocm93aW5nIGFuIGVycm9yLiBIb3dldmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgZG8gaXQgZm9yIGRlZmluZSgpJ2QgIG1vZHVsZXMuIHJlcXVpcmUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlcnJiYWNrcyBzaG91bGQgbm90IGJlIGNhbGxlZCBmb3IgZmFpbHVyZXMgaW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGVpciBjYWxsYmFja3MgKCM2OTkpLiBIb3dldmVyIGlmIGEgZ2xvYmFsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25FcnJvciBpcyBzZXQsIHVzZSB0aGF0LgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodGhpcy5ldmVudHMuZXJyb3IgJiYgdGhpcy5tYXAuaXNEZWZpbmUpIHx8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbkVycm9yICE9PSBkZWZhdWx0T25FcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnIucmVxdWlyZU1hcCA9IHRoaXMubWFwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnIucmVxdWlyZU1vZHVsZXMgPSB0aGlzLm1hcC5pc0RlZmluZSA/IFt0aGlzLm1hcC5pZF0gOiBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnIucmVxdWlyZVR5cGUgPSB0aGlzLm1hcC5pc0RlZmluZSA/ICdkZWZpbmUnIDogJ3JlcXVpcmUnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25FcnJvcigodGhpcy5lcnJvciA9IGVycikpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExvZyB0aGUgZXJyb3IgZm9yIGRlYnVnZ2luZy4gSWYgcHJvbWlzZXMgY291bGQgYmUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXNlZCwgdGhpcyB3b3VsZCBiZSBkaWZmZXJlbnQsIGJ1dCBtYWtpbmcgZG8uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3Qgd2FudCB0byBjb21wbGV0ZWx5IGxvc2UgdGhlIGVycm9yLiBXaGlsZSB0aGlzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpbGwgbWVzcyB1cCBwcm9jZXNzaW5nIGFuZCBsZWFkIHRvIHNpbWlsYXIgcmVzdWx0cwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhcyBidWcgMTQ0MCwgaXQgYXQgbGVhc3Qgc3VyZmFjZXMgdGhlIGVycm9yLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEub25FcnJvcihlcnIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vSnVzdCBhIGxpdGVyYWwgdmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9ydHMgPSBmYWN0b3J5OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV4cG9ydHMgPSBleHBvcnRzOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWFwLmlzRGVmaW5lICYmICF0aGlzLmlnbm9yZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmaW5lZFtpZF0gPSBleHBvcnRzOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXEub25SZXNvdXJjZUxvYWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzTG9hZE1hcHMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoKHRoaXMuZGVwTWFwcywgZnVuY3Rpb24gKGRlcE1hcCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNMb2FkTWFwcy5wdXNoKGRlcE1hcC5ub3JtYWxpemVkTWFwIHx8IGRlcE1hcCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uUmVzb3VyY2VMb2FkKGNvbnRleHQsIHRoaXMubWFwLCByZXNMb2FkTWFwcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC8vQ2xlYW4gdXAKICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW5SZWdpc3RyeShpZCk7CgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZmluZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLy9GaW5pc2hlZCB0aGUgZGVmaW5lIHN0YWdlLiBBbGxvdyBjYWxsaW5nIGNoZWNrIGFnYWluCiAgICAgICAgICAgICAgICAgICAgLy90byBhbGxvdyBkZWZpbmUgbm90aWZpY2F0aW9ucyBiZWxvdyBpbiB0aGUgY2FzZSBvZiBhCiAgICAgICAgICAgICAgICAgICAgLy9jeWNsZS4KICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZmluaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlZmluZWQgJiYgIXRoaXMuZGVmaW5lRW1pdHRlZCkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZmluZUVtaXR0ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2RlZmluZWQnLCB0aGlzLmV4cG9ydHMpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZmluZUVtaXRDb21wbGV0ZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIGNhbGxQbHVnaW46IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBtYXAgPSB0aGlzLm1hcCwKICAgICAgICAgICAgICAgICAgICBpZCA9IG1hcC5pZCwKICAgICAgICAgICAgICAgICAgICAvL01hcCBhbHJlYWR5IG5vcm1hbGl6ZWQgdGhlIHByZWZpeC4KICAgICAgICAgICAgICAgICAgICBwbHVnaW5NYXAgPSBtYWtlTW9kdWxlTWFwKG1hcC5wcmVmaXgpOwoKICAgICAgICAgICAgICAgIC8vTWFyayB0aGlzIGFzIGEgZGVwZW5kZW5jeSBmb3IgdGhpcyBwbHVnaW4sIHNvIGl0CiAgICAgICAgICAgICAgICAvL2NhbiBiZSB0cmFjZWQgZm9yIGN5Y2xlcy4KICAgICAgICAgICAgICAgIHRoaXMuZGVwTWFwcy5wdXNoKHBsdWdpbk1hcCk7CgogICAgICAgICAgICAgICAgb24ocGx1Z2luTWFwLCAnZGVmaW5lZCcsIGJpbmQodGhpcywgZnVuY3Rpb24gKHBsdWdpbikgewogICAgICAgICAgICAgICAgICAgIHZhciBsb2FkLCBub3JtYWxpemVkTWFwLCBub3JtYWxpemVkTW9kLAogICAgICAgICAgICAgICAgICAgICAgICBidW5kbGVJZCA9IGdldE93bihidW5kbGVzTWFwLCB0aGlzLm1hcC5pZCksCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSB0aGlzLm1hcC5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnROYW1lID0gdGhpcy5tYXAucGFyZW50TWFwID8gdGhpcy5tYXAucGFyZW50TWFwLm5hbWUgOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFJlcXVpcmUgPSBjb250ZXh0Lm1ha2VSZXF1aXJlKG1hcC5wYXJlbnRNYXAsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZUJ1aWxkQ2FsbGJhY2s6IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIC8vSWYgY3VycmVudCBtYXAgaXMgbm90IG5vcm1hbGl6ZWQsIHdhaXQgZm9yIHRoYXQKICAgICAgICAgICAgICAgICAgICAvL25vcm1hbGl6ZWQgbmFtZSB0byBsb2FkIGluc3RlYWQgb2YgY29udGludWluZy4KICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXAudW5ub3JtYWxpemVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vTm9ybWFsaXplIHRoZSBJRCBpZiB0aGUgcGx1Z2luIGFsbG93cyBpdC4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBsdWdpbi5ub3JtYWxpemUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSBwbHVnaW4ubm9ybWFsaXplKG5hbWUsIGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZShuYW1lLCBwYXJlbnROYW1lLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pIHx8ICcnOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAvL3ByZWZpeCBhbmQgbmFtZSBzaG91bGQgYWxyZWFkeSBiZSBub3JtYWxpemVkLCBubyBuZWVkCiAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9yIGFwcGx5aW5nIG1hcCBjb25maWcgYWdhaW4gZWl0aGVyLgogICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkTWFwID0gbWFrZU1vZHVsZU1hcChtYXAucHJlZml4ICsgJyEnICsgbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAucGFyZW50TWFwKTsKICAgICAgICAgICAgICAgICAgICAgICAgb24obm9ybWFsaXplZE1hcCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkZWZpbmVkJywgYmluZCh0aGlzLCBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5ub3JtYWxpemVkTWFwID0gbm9ybWFsaXplZE1hcDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXQoW10sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZhbHVlOyB9LCBudWxsLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlnbm9yZTogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZE1vZCA9IGdldE93bihyZWdpc3RyeSwgbm9ybWFsaXplZE1hcC5pZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3JtYWxpemVkTW9kKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL01hcmsgdGhpcyBhcyBhIGRlcGVuZGVuY3kgZm9yIHRoaXMgcGx1Z2luLCBzbyBpdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jYW4gYmUgdHJhY2VkIGZvciBjeWNsZXMuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlcE1hcHMucHVzaChub3JtYWxpemVkTWFwKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ldmVudHMuZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkTW9kLm9uKCdlcnJvcicsIGJpbmQodGhpcywgZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkTW9kLmVuYWJsZSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvL0lmIGEgcGF0aHMgY29uZmlnLCB0aGVuIGp1c3QgbG9hZCB0aGF0IGZpbGUgaW5zdGVhZCB0bwogICAgICAgICAgICAgICAgICAgIC8vcmVzb2x2ZSB0aGUgcGx1Z2luLCBhcyBpdCBpcyBidWlsdCBpbnRvIHRoYXQgcGF0aHMgbGF5ZXIuCiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1bmRsZUlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFwLnVybCA9IGNvbnRleHQubmFtZVRvVXJsKGJ1bmRsZUlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGxvYWQgPSBiaW5kKHRoaXMsIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXQoW10sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZhbHVlOyB9LCBudWxsLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBsb2FkLmVycm9yID0gYmluZCh0aGlzLCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvciA9IGVycjsKICAgICAgICAgICAgICAgICAgICAgICAgZXJyLnJlcXVpcmVNb2R1bGVzID0gW2lkXTsKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vUmVtb3ZlIHRlbXAgdW5ub3JtYWxpemVkIG1vZHVsZXMgZm9yIHRoaXMgbW9kdWxlLAogICAgICAgICAgICAgICAgICAgICAgICAvL3NpbmNlIHRoZXkgd2lsbCBuZXZlciBiZSByZXNvbHZlZCBvdGhlcndpc2Ugbm93LgogICAgICAgICAgICAgICAgICAgICAgICBlYWNoUHJvcChyZWdpc3RyeSwgZnVuY3Rpb24gKG1vZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZC5tYXAuaWQuaW5kZXhPZihpZCArICdfdW5ub3JtYWxpemVkJykgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhblJlZ2lzdHJ5KG1vZC5tYXAuaWQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyKTsKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgLy9BbGxvdyBwbHVnaW5zIHRvIGxvYWQgb3RoZXIgY29kZSB3aXRob3V0IGhhdmluZyB0byBrbm93IHRoZQogICAgICAgICAgICAgICAgICAgIC8vY29udGV4dCBvciBob3cgdG8gJ2NvbXBsZXRlJyB0aGUgbG9hZC4KICAgICAgICAgICAgICAgICAgICBsb2FkLmZyb21UZXh0ID0gYmluZCh0aGlzLCBmdW5jdGlvbiAodGV4dCwgdGV4dEFsdCkgewogICAgICAgICAgICAgICAgICAgICAgICAvKmpzbGludCBldmlsOiB0cnVlICovCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2R1bGVOYW1lID0gbWFwLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVNYXAgPSBtYWtlTW9kdWxlTWFwKG1vZHVsZU5hbWUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzSW50ZXJhY3RpdmUgPSB1c2VJbnRlcmFjdGl2ZTsKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vQXMgb2YgMi4xLjAsIHN1cHBvcnQganVzdCBwYXNzaW5nIHRoZSB0ZXh0LCB0byByZWluZm9yY2UKICAgICAgICAgICAgICAgICAgICAgICAgLy9mcm9tVGV4dCBvbmx5IGJlaW5nIGNhbGxlZCBvbmNlIHBlciByZXNvdXJjZS4gU3RpbGwKICAgICAgICAgICAgICAgICAgICAgICAgLy9zdXBwb3J0IG9sZCBzdHlsZSBvZiBwYXNzaW5nIG1vZHVsZU5hbWUgYnV0IGRpc2NhcmQKICAgICAgICAgICAgICAgICAgICAgICAgLy90aGF0IG1vZHVsZU5hbWUgaW4gZmF2b3Igb2YgdGhlIGludGVybmFsIHJlZi4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRleHRBbHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0QWx0OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAvL1R1cm4gb2ZmIGludGVyYWN0aXZlIHNjcmlwdCBtYXRjaGluZyBmb3IgSUUgZm9yIGFueSBkZWZpbmUKICAgICAgICAgICAgICAgICAgICAgICAgLy9jYWxscyBpbiB0aGUgdGV4dCwgdGhlbiB0dXJuIGl0IGJhY2sgb24gYXQgdGhlIGVuZC4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0ludGVyYWN0aXZlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VJbnRlcmFjdGl2ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAvL1ByaW1lIHRoZSBzeXN0ZW0gYnkgY3JlYXRpbmcgYSBtb2R1bGUgaW5zdGFuY2UgZm9yCiAgICAgICAgICAgICAgICAgICAgICAgIC8vaXQuCiAgICAgICAgICAgICAgICAgICAgICAgIGdldE1vZHVsZShtb2R1bGVNYXApOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy9UcmFuc2ZlciBhbnkgY29uZmlnIHRvIHRoaXMgb3RoZXIgbW9kdWxlLgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzUHJvcChjb25maWcuY29uZmlnLCBpZCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5jb25maWdbbW9kdWxlTmFtZV0gPSBjb25maWcuY29uZmlnW2lkXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5leGVjKHRleHQpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25FcnJvcihtYWtlRXJyb3IoJ2Zyb210ZXh0ZXZhbCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdmcm9tVGV4dCBldmFsIGZvciAnICsgaWQgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgZmFpbGVkOiAnICsgZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2lkXSkpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzSW50ZXJhY3RpdmUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUludGVyYWN0aXZlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLy9NYXJrIHRoaXMgYXMgYSBkZXBlbmRlbmN5IGZvciB0aGUgcGx1Z2luCiAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVzb3VyY2UKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXBNYXBzLnB1c2gobW9kdWxlTWFwKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vU3VwcG9ydCBhbm9ueW1vdXMgbW9kdWxlcy4KICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jb21wbGV0ZUxvYWQobW9kdWxlTmFtZSk7CgogICAgICAgICAgICAgICAgICAgICAgICAvL0JpbmQgdGhlIHZhbHVlIG9mIHRoYXQgbW9kdWxlIHRvIHRoZSB2YWx1ZSBmb3IgdGhpcwogICAgICAgICAgICAgICAgICAgICAgICAvL3Jlc291cmNlIElELgogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFJlcXVpcmUoW21vZHVsZU5hbWVdLCBsb2FkKTsKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgLy9Vc2UgcGFyZW50TmFtZSBoZXJlIHNpbmNlIHRoZSBwbHVnaW4ncyBuYW1lIGlzIG5vdCByZWxpYWJsZSwKICAgICAgICAgICAgICAgICAgICAvL2NvdWxkIGJlIHNvbWUgd2VpcmQgc3RyaW5nIHdpdGggbm8gcGF0aCB0aGF0IGFjdHVhbGx5IHdhbnRzIHRvCiAgICAgICAgICAgICAgICAgICAgLy9yZWZlcmVuY2UgdGhlIHBhcmVudE5hbWUncyBwYXRoLgogICAgICAgICAgICAgICAgICAgIHBsdWdpbi5sb2FkKG1hcC5uYW1lLCBsb2NhbFJlcXVpcmUsIGxvYWQsIGNvbmZpZyk7CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgY29udGV4dC5lbmFibGUocGx1Z2luTWFwLCB0aGlzKTsKICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luTWFwc1twbHVnaW5NYXAuaWRdID0gcGx1Z2luTWFwOwogICAgICAgICAgICB9LAoKICAgICAgICAgICAgZW5hYmxlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBlbmFibGVkUmVnaXN0cnlbdGhpcy5tYXAuaWRdID0gdGhpczsKICAgICAgICAgICAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7CgogICAgICAgICAgICAgICAgLy9TZXQgZmxhZyBtZW50aW9uaW5nIHRoYXQgdGhlIG1vZHVsZSBpcyBlbmFibGluZywKICAgICAgICAgICAgICAgIC8vc28gdGhhdCBpbW1lZGlhdGUgY2FsbHMgdG8gdGhlIGRlZmluZWQgY2FsbGJhY2tzCiAgICAgICAgICAgICAgICAvL2ZvciBkZXBlbmRlbmNpZXMgZG8gbm90IHRyaWdnZXIgaW5hZHZlcnRlbnQgbG9hZAogICAgICAgICAgICAgICAgLy93aXRoIHRoZSBkZXBDb3VudCBzdGlsbCBiZWluZyB6ZXJvLgogICAgICAgICAgICAgICAgdGhpcy5lbmFibGluZyA9IHRydWU7CgogICAgICAgICAgICAgICAgLy9FbmFibGUgZWFjaCBkZXBlbmRlbmN5CiAgICAgICAgICAgICAgICBlYWNoKHRoaXMuZGVwTWFwcywgYmluZCh0aGlzLCBmdW5jdGlvbiAoZGVwTWFwLCBpKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGlkLCBtb2QsIGhhbmRsZXI7CgogICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGVwTWFwID09PSAnc3RyaW5nJykgewogICAgICAgICAgICAgICAgICAgICAgICAvL0RlcGVuZGVuY3kgbmVlZHMgdG8gYmUgY29udmVydGVkIHRvIGEgZGVwTWFwCiAgICAgICAgICAgICAgICAgICAgICAgIC8vYW5kIHdpcmVkIHVwIHRvIHRoaXMgbW9kdWxlLgogICAgICAgICAgICAgICAgICAgICAgICBkZXBNYXAgPSBtYWtlTW9kdWxlTWFwKGRlcE1hcCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5tYXAuaXNEZWZpbmUgPyB0aGlzLm1hcCA6IHRoaXMubWFwLnBhcmVudE1hcCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc2tpcE1hcCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVwTWFwc1tpXSA9IGRlcE1hcDsKCiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBnZXRPd24oaGFuZGxlcnMsIGRlcE1hcC5pZCk7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFuZGxlcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXBFeHBvcnRzW2ldID0gaGFuZGxlcih0aGlzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXBDb3VudCArPSAxOwoKICAgICAgICAgICAgICAgICAgICAgICAgb24oZGVwTWFwLCAnZGVmaW5lZCcsIGJpbmQodGhpcywgZnVuY3Rpb24gKGRlcEV4cG9ydHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVuZGVmZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZmluZURlcChpLCBkZXBFeHBvcnRzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZXJyYmFjaykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgb24oZGVwTWFwLCAnZXJyb3InLCBiaW5kKHRoaXMsIHRoaXMuZXJyYmFjaykpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZXZlbnRzLmVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBObyBkaXJlY3QgZXJyYmFjayBvbiB0aGlzIG1vZHVsZSwgYnV0IHNvbWV0aGluZwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZWxzZSBpcyBsaXN0ZW5pbmcgZm9yIGVycm9ycywgc28gYmUgc3VyZSB0bwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJvcGFnYXRlIHRoZSBlcnJvciBjb3JyZWN0bHkuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbihkZXBNYXAsICdlcnJvcicsIGJpbmQodGhpcywgZnVuY3Rpb24oZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlkID0gZGVwTWFwLmlkOwogICAgICAgICAgICAgICAgICAgIG1vZCA9IHJlZ2lzdHJ5W2lkXTsKCiAgICAgICAgICAgICAgICAgICAgLy9Ta2lwIHNwZWNpYWwgbW9kdWxlcyBsaWtlICdyZXF1aXJlJywgJ2V4cG9ydHMnLCAnbW9kdWxlJwogICAgICAgICAgICAgICAgICAgIC8vQWxzbywgZG9uJ3QgY2FsbCBlbmFibGUgaWYgaXQgaXMgYWxyZWFkeSBlbmFibGVkLAogICAgICAgICAgICAgICAgICAgIC8vaW1wb3J0YW50IGluIGNpcmN1bGFyIGRlcGVuZGVuY3kgY2FzZXMuCiAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNQcm9wKGhhbmRsZXJzLCBpZCkgJiYgbW9kICYmICFtb2QuZW5hYmxlZCkgewogICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmVuYWJsZShkZXBNYXAsIHRoaXMpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAvL0VuYWJsZSBlYWNoIHBsdWdpbiB0aGF0IGlzIHVzZWQgaW4KICAgICAgICAgICAgICAgIC8vYSBkZXBlbmRlbmN5CiAgICAgICAgICAgICAgICBlYWNoUHJvcCh0aGlzLnBsdWdpbk1hcHMsIGJpbmQodGhpcywgZnVuY3Rpb24gKHBsdWdpbk1hcCkgewogICAgICAgICAgICAgICAgICAgIHZhciBtb2QgPSBnZXRPd24ocmVnaXN0cnksIHBsdWdpbk1hcC5pZCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZCAmJiAhbW9kLmVuYWJsZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5lbmFibGUocGx1Z2luTWFwLCB0aGlzKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgdGhpcy5lbmFibGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIHRoaXMuY2hlY2soKTsKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIG9uOiBmdW5jdGlvbiAobmFtZSwgY2IpIHsKICAgICAgICAgICAgICAgIHZhciBjYnMgPSB0aGlzLmV2ZW50c1tuYW1lXTsKICAgICAgICAgICAgICAgIGlmICghY2JzKSB7CiAgICAgICAgICAgICAgICAgICAgY2JzID0gdGhpcy5ldmVudHNbbmFtZV0gPSBbXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNicy5wdXNoKGNiKTsKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIGVtaXQ6IGZ1bmN0aW9uIChuYW1lLCBldnQpIHsKICAgICAgICAgICAgICAgIGVhY2godGhpcy5ldmVudHNbbmFtZV0sIGZ1bmN0aW9uIChjYikgewogICAgICAgICAgICAgICAgICAgIGNiKGV2dCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChuYW1lID09PSAnZXJyb3InKSB7CiAgICAgICAgICAgICAgICAgICAgLy9Ob3cgdGhhdCB0aGUgZXJyb3IgaGFuZGxlciB3YXMgdHJpZ2dlcmVkLCByZW1vdmUKICAgICAgICAgICAgICAgICAgICAvL3RoZSBsaXN0ZW5lcnMsIHNpbmNlIHRoaXMgYnJva2VuIE1vZHVsZSBpbnN0YW5jZQogICAgICAgICAgICAgICAgICAgIC8vY2FuIHN0YXkgYXJvdW5kIGZvciBhIHdoaWxlIGluIHRoZSByZWdpc3RyeS4KICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5ldmVudHNbbmFtZV07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBmdW5jdGlvbiBjYWxsR2V0TW9kdWxlKGFyZ3MpIHsKICAgICAgICAgICAgLy9Ta2lwIG1vZHVsZXMgYWxyZWFkeSBkZWZpbmVkLgogICAgICAgICAgICBpZiAoIWhhc1Byb3AoZGVmaW5lZCwgYXJnc1swXSkpIHsKICAgICAgICAgICAgICAgIGdldE1vZHVsZShtYWtlTW9kdWxlTWFwKGFyZ3NbMF0sIG51bGwsIHRydWUpKS5pbml0KGFyZ3NbMV0sIGFyZ3NbMl0pOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihub2RlLCBmdW5jLCBuYW1lLCBpZU5hbWUpIHsKICAgICAgICAgICAgLy9GYXZvciBkZXRhY2hFdmVudCBiZWNhdXNlIG9mIElFOQogICAgICAgICAgICAvL2lzc3VlLCBzZWUgYXR0YWNoRXZlbnQvYWRkRXZlbnRMaXN0ZW5lciBjb21tZW50IGVsc2V3aGVyZQogICAgICAgICAgICAvL2luIHRoaXMgZmlsZS4KICAgICAgICAgICAgaWYgKG5vZGUuZGV0YWNoRXZlbnQgJiYgIWlzT3BlcmEpIHsKICAgICAgICAgICAgICAgIC8vUHJvYmFibHkgSUUuIElmIG5vdCBpdCB3aWxsIHRocm93IGFuIGVycm9yLCB3aGljaCB3aWxsIGJlCiAgICAgICAgICAgICAgICAvL3VzZWZ1bCB0byBrbm93LgogICAgICAgICAgICAgICAgaWYgKGllTmFtZSkgewogICAgICAgICAgICAgICAgICAgIG5vZGUuZGV0YWNoRXZlbnQoaWVOYW1lLCBmdW5jKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBmdW5jLCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8qKgogICAgICAgICAqIEdpdmVuIGFuIGV2ZW50IGZyb20gYSBzY3JpcHQgbm9kZSwgZ2V0IHRoZSByZXF1aXJlanMgaW5mbyBmcm9tIGl0LAogICAgICAgICAqIGFuZCB0aGVuIHJlbW92ZXMgdGhlIGV2ZW50IGxpc3RlbmVycyBvbiB0aGUgbm9kZS4KICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fSBldnQKICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fQogICAgICAgICAqLwogICAgICAgIGZ1bmN0aW9uIGdldFNjcmlwdERhdGEoZXZ0KSB7CiAgICAgICAgICAgIC8vVXNpbmcgY3VycmVudFRhcmdldCBpbnN0ZWFkIG9mIHRhcmdldCBmb3IgRmlyZWZveCAyLjAncyBzYWtlLiBOb3QKICAgICAgICAgICAgLy9hbGwgb2xkIGJyb3dzZXJzIHdpbGwgYmUgc3VwcG9ydGVkLCBidXQgdGhpcyBvbmUgd2FzIGVhc3kgZW5vdWdoCiAgICAgICAgICAgIC8vdG8gc3VwcG9ydCBhbmQgc3RpbGwgbWFrZXMgc2Vuc2UuCiAgICAgICAgICAgIHZhciBub2RlID0gZXZ0LmN1cnJlbnRUYXJnZXQgfHwgZXZ0LnNyY0VsZW1lbnQ7CgogICAgICAgICAgICAvL1JlbW92ZSB0aGUgbGlzdGVuZXJzIG9uY2UgaGVyZS4KICAgICAgICAgICAgcmVtb3ZlTGlzdGVuZXIobm9kZSwgY29udGV4dC5vblNjcmlwdExvYWQsICdsb2FkJywgJ29ucmVhZHlzdGF0ZWNoYW5nZScpOwogICAgICAgICAgICByZW1vdmVMaXN0ZW5lcihub2RlLCBjb250ZXh0Lm9uU2NyaXB0RXJyb3IsICdlcnJvcicpOwoKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIG5vZGU6IG5vZGUsCiAgICAgICAgICAgICAgICBpZDogbm9kZSAmJiBub2RlLmdldEF0dHJpYnV0ZSgnZGF0YS1yZXF1aXJlbW9kdWxlJykKICAgICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGludGFrZURlZmluZXMoKSB7CiAgICAgICAgICAgIHZhciBhcmdzOwoKICAgICAgICAgICAgLy9BbnkgZGVmaW5lZCBtb2R1bGVzIGluIHRoZSBnbG9iYWwgcXVldWUsIGludGFrZSB0aGVtIG5vdy4KICAgICAgICAgICAgdGFrZUdsb2JhbFF1ZXVlKCk7CgogICAgICAgICAgICAvL01ha2Ugc3VyZSBhbnkgcmVtYWluaW5nIGRlZlF1ZXVlIGl0ZW1zIGdldCBwcm9wZXJseSBwcm9jZXNzZWQuCiAgICAgICAgICAgIHdoaWxlIChkZWZRdWV1ZS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIGFyZ3MgPSBkZWZRdWV1ZS5zaGlmdCgpOwogICAgICAgICAgICAgICAgaWYgKGFyZ3NbMF0gPT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25FcnJvcihtYWtlRXJyb3IoJ21pc21hdGNoJywgJ01pc21hdGNoZWQgYW5vbnltb3VzIGRlZmluZSgpIG1vZHVsZTogJyArCiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbYXJncy5sZW5ndGggLSAxXSkpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvL2FyZ3MgYXJlIGlkLCBkZXBzLCBmYWN0b3J5LiBTaG91bGQgYmUgbm9ybWFsaXplZCBieSB0aGUKICAgICAgICAgICAgICAgICAgICAvL2RlZmluZSgpIGZ1bmN0aW9uLgogICAgICAgICAgICAgICAgICAgIGNhbGxHZXRNb2R1bGUoYXJncyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29udGV4dC5kZWZRdWV1ZU1hcCA9IHt9OwogICAgICAgIH0KCiAgICAgICAgY29udGV4dCA9IHsKICAgICAgICAgICAgY29uZmlnOiBjb25maWcsCiAgICAgICAgICAgIGNvbnRleHROYW1lOiBjb250ZXh0TmFtZSwKICAgICAgICAgICAgcmVnaXN0cnk6IHJlZ2lzdHJ5LAogICAgICAgICAgICBkZWZpbmVkOiBkZWZpbmVkLAogICAgICAgICAgICB1cmxGZXRjaGVkOiB1cmxGZXRjaGVkLAogICAgICAgICAgICBkZWZRdWV1ZTogZGVmUXVldWUsCiAgICAgICAgICAgIGRlZlF1ZXVlTWFwOiB7fSwKICAgICAgICAgICAgTW9kdWxlOiBNb2R1bGUsCiAgICAgICAgICAgIG1ha2VNb2R1bGVNYXA6IG1ha2VNb2R1bGVNYXAsCiAgICAgICAgICAgIG5leHRUaWNrOiByZXEubmV4dFRpY2ssCiAgICAgICAgICAgIG9uRXJyb3I6IG9uRXJyb3IsCgogICAgICAgICAgICAvKioKICAgICAgICAgICAgICogU2V0IGEgY29uZmlndXJhdGlvbiBmb3IgdGhlIGNvbnRleHQuCiAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjZmcgY29uZmlnIG9iamVjdCB0byBpbnRlZ3JhdGUuCiAgICAgICAgICAgICAqLwogICAgICAgICAgICBjb25maWd1cmU6IGZ1bmN0aW9uIChjZmcpIHsKICAgICAgICAgICAgICAgIC8vTWFrZSBzdXJlIHRoZSBiYXNlVXJsIGVuZHMgaW4gYSBzbGFzaC4KICAgICAgICAgICAgICAgIGlmIChjZmcuYmFzZVVybCkgewogICAgICAgICAgICAgICAgICAgIGlmIChjZmcuYmFzZVVybC5jaGFyQXQoY2ZnLmJhc2VVcmwubGVuZ3RoIC0gMSkgIT09ICcvJykgewogICAgICAgICAgICAgICAgICAgICAgICBjZmcuYmFzZVVybCArPSAnLyc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vU2F2ZSBvZmYgdGhlIHBhdGhzIHNpbmNlIHRoZXkgcmVxdWlyZSBzcGVjaWFsIHByb2Nlc3NpbmcsCiAgICAgICAgICAgICAgICAvL3RoZXkgYXJlIGFkZGl0aXZlLgogICAgICAgICAgICAgICAgdmFyIHNoaW0gPSBjb25maWcuc2hpbSwKICAgICAgICAgICAgICAgICAgICBvYmpzID0gewogICAgICAgICAgICAgICAgICAgICAgICBwYXRoczogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgYnVuZGxlczogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBtYXA6IHRydWUKICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGVhY2hQcm9wKGNmZywgZnVuY3Rpb24gKHZhbHVlLCBwcm9wKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKG9ianNbcHJvcF0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb25maWdbcHJvcF0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ1twcm9wXSA9IHt9OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIG1peGluKGNvbmZpZ1twcm9wXSwgdmFsdWUsIHRydWUsIHRydWUpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ1twcm9wXSA9IHZhbHVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIC8vUmV2ZXJzZSBtYXAgdGhlIGJ1bmRsZXMKICAgICAgICAgICAgICAgIGlmIChjZmcuYnVuZGxlcykgewogICAgICAgICAgICAgICAgICAgIGVhY2hQcm9wKGNmZy5idW5kbGVzLCBmdW5jdGlvbiAodmFsdWUsIHByb3ApIHsKICAgICAgICAgICAgICAgICAgICAgICAgZWFjaCh2YWx1ZSwgZnVuY3Rpb24gKHYpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ICE9PSBwcm9wKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVuZGxlc01hcFt2XSA9IHByb3A7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vTWVyZ2Ugc2hpbQogICAgICAgICAgICAgICAgaWYgKGNmZy5zaGltKSB7CiAgICAgICAgICAgICAgICAgICAgZWFjaFByb3AoY2ZnLnNoaW0sIGZ1bmN0aW9uICh2YWx1ZSwgaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy9Ob3JtYWxpemUgdGhlIHN0cnVjdHVyZQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcHM6IHZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUuZXhwb3J0cyB8fCB2YWx1ZS5pbml0KSAmJiAhdmFsdWUuZXhwb3J0c0ZuKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5leHBvcnRzRm4gPSBjb250ZXh0Lm1ha2VTaGltRXhwb3J0cyh2YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgc2hpbVtpZF0gPSB2YWx1ZTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBjb25maWcuc2hpbSA9IHNoaW07CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy9BZGp1c3QgcGFja2FnZXMgaWYgbmVjZXNzYXJ5LgogICAgICAgICAgICAgICAgaWYgKGNmZy5wYWNrYWdlcykgewogICAgICAgICAgICAgICAgICAgIGVhY2goY2ZnLnBhY2thZ2VzLCBmdW5jdGlvbiAocGtnT2JqKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb2NhdGlvbiwgbmFtZTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHBrZ09iaiA9IHR5cGVvZiBwa2dPYmogPT09ICdzdHJpbmcnID8ge25hbWU6IHBrZ09ian0gOiBwa2dPYmo7CgogICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gcGtnT2JqLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gcGtnT2JqLmxvY2F0aW9uOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAobG9jYXRpb24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5wYXRoc1tuYW1lXSA9IHBrZ09iai5sb2NhdGlvbjsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLy9TYXZlIHBvaW50ZXIgdG8gbWFpbiBtb2R1bGUgSUQgZm9yIHBrZyBuYW1lLgogICAgICAgICAgICAgICAgICAgICAgICAvL1JlbW92ZSBsZWFkaW5nIGRvdCBpbiBtYWluLCBzbyBtYWluIHBhdGhzIGFyZSBub3JtYWxpemVkLAogICAgICAgICAgICAgICAgICAgICAgICAvL2FuZCByZW1vdmUgYW55IHRyYWlsaW5nIC5qcywgc2luY2UgZGlmZmVyZW50IHBhY2thZ2UKICAgICAgICAgICAgICAgICAgICAgICAgLy9lbnZzIGhhdmUgZGlmZmVyZW50IGNvbnZlbnRpb25zOiBzb21lIHVzZSBhIG1vZHVsZSBuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAvL3NvbWUgdXNlIGEgZmlsZSBuYW1lLgogICAgICAgICAgICAgICAgICAgICAgICBjb25maWcucGtnc1tuYW1lXSA9IHBrZ09iai5uYW1lICsgJy8nICsgKHBrZ09iai5tYWluIHx8ICdtYWluJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKGN1cnJEaXJSZWdFeHAsICcnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoanNTdWZmaXhSZWdFeHAsICcnKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvL0lmIHRoZXJlIGFyZSBhbnkgIndhaXRpbmcgdG8gZXhlY3V0ZSIgbW9kdWxlcyBpbiB0aGUgcmVnaXN0cnksCiAgICAgICAgICAgICAgICAvL3VwZGF0ZSB0aGUgbWFwcyBmb3IgdGhlbSwgc2luY2UgdGhlaXIgaW5mbywgbGlrZSBVUkxzIHRvIGxvYWQsCiAgICAgICAgICAgICAgICAvL21heSBoYXZlIGNoYW5nZWQuCiAgICAgICAgICAgICAgICBlYWNoUHJvcChyZWdpc3RyeSwgZnVuY3Rpb24gKG1vZCwgaWQpIHsKICAgICAgICAgICAgICAgICAgICAvL0lmIG1vZHVsZSBhbHJlYWR5IGhhcyBpbml0IGNhbGxlZCwgc2luY2UgaXQgaXMgdG9vCiAgICAgICAgICAgICAgICAgICAgLy9sYXRlIHRvIG1vZGlmeSB0aGVtLCBhbmQgaWdub3JlIHVubm9ybWFsaXplZCBvbmVzCiAgICAgICAgICAgICAgICAgICAgLy9zaW5jZSB0aGV5IGFyZSB0cmFuc2llbnQuCiAgICAgICAgICAgICAgICAgICAgaWYgKCFtb2QuaW5pdGVkICYmICFtb2QubWFwLnVubm9ybWFsaXplZCkgewogICAgICAgICAgICAgICAgICAgICAgICBtb2QubWFwID0gbWFrZU1vZHVsZU1hcChpZCwgbnVsbCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgLy9JZiBhIGRlcHMgYXJyYXkgb3IgYSBjb25maWcgY2FsbGJhY2sgaXMgc3BlY2lmaWVkLCB0aGVuIGNhbGwKICAgICAgICAgICAgICAgIC8vcmVxdWlyZSB3aXRoIHRob3NlIGFyZ3MuIFRoaXMgaXMgdXNlZnVsIHdoZW4gcmVxdWlyZSBpcyBkZWZpbmVkIGFzIGEKICAgICAgICAgICAgICAgIC8vY29uZmlnIG9iamVjdCBiZWZvcmUgcmVxdWlyZS5qcyBpcyBsb2FkZWQuCiAgICAgICAgICAgICAgICBpZiAoY2ZnLmRlcHMgfHwgY2ZnLmNhbGxiYWNrKSB7CiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZXF1aXJlKGNmZy5kZXBzIHx8IFtdLCBjZmcuY2FsbGJhY2spOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAoKICAgICAgICAgICAgbWFrZVNoaW1FeHBvcnRzOiBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGZuKCkgewogICAgICAgICAgICAgICAgICAgIHZhciByZXQ7CiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmluaXQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gdmFsdWUuaW5pdC5hcHBseShnbG9iYWwsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQgfHwgKHZhbHVlLmV4cG9ydHMgJiYgZ2V0R2xvYmFsKHZhbHVlLmV4cG9ydHMpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBmbjsKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIG1ha2VSZXF1aXJlOiBmdW5jdGlvbiAocmVsTWFwLCBvcHRpb25zKSB7CiAgICAgICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBsb2NhbFJlcXVpcmUoZGVwcywgY2FsbGJhY2ssIGVycmJhY2spIHsKICAgICAgICAgICAgICAgICAgICB2YXIgaWQsIG1hcCwgcmVxdWlyZU1vZDsKCiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZW5hYmxlQnVpbGRDYWxsYmFjayAmJiBjYWxsYmFjayAmJiBpc0Z1bmN0aW9uKGNhbGxiYWNrKSkgewogICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5fX3JlcXVpcmVKc0J1aWxkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGVwcyA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oY2FsbGJhY2spKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0ludmFsaWQgY2FsbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uRXJyb3IobWFrZUVycm9yKCdyZXF1aXJlYXJncycsICdJbnZhbGlkIHJlcXVpcmUgY2FsbCcpLCBlcnJiYWNrKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLy9JZiByZXF1aXJlfGV4cG9ydHN8bW9kdWxlIGFyZSByZXF1ZXN0ZWQsIGdldCB0aGUKICAgICAgICAgICAgICAgICAgICAgICAgLy92YWx1ZSBmb3IgdGhlbSBmcm9tIHRoZSBzcGVjaWFsIGhhbmRsZXJzLiBDYXZlYXQ6CiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcyBvbmx5IHdvcmtzIHdoaWxlIG1vZHVsZSBpcyBiZWluZyBkZWZpbmVkLgogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVsTWFwICYmIGhhc1Byb3AoaGFuZGxlcnMsIGRlcHMpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlcnNbZGVwc10ocmVnaXN0cnlbcmVsTWFwLmlkXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC8vU3luY2hyb25vdXMgYWNjZXNzIHRvIG9uZSBtb2R1bGUuIElmIHJlcXVpcmUuZ2V0IGlzCiAgICAgICAgICAgICAgICAgICAgICAgIC8vYXZhaWxhYmxlIChhcyBpbiB0aGUgTm9kZSBhZGFwdGVyKSwgcHJlZmVyIHRoYXQuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXEuZ2V0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVxLmdldChjb250ZXh0LCBkZXBzLCByZWxNYXAsIGxvY2FsUmVxdWlyZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC8vTm9ybWFsaXplIG1vZHVsZSBuYW1lLCBpZiBpdCBjb250YWlucyAuIG9yIC4uCiAgICAgICAgICAgICAgICAgICAgICAgIG1hcCA9IG1ha2VNb2R1bGVNYXAoZGVwcywgcmVsTWFwLCBmYWxzZSwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkID0gbWFwLmlkOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNQcm9wKGRlZmluZWQsIGlkKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uRXJyb3IobWFrZUVycm9yKCdub3Rsb2FkZWQnLCAnTW9kdWxlIG5hbWUgIicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyIgaGFzIG5vdCBiZWVuIGxvYWRlZCB5ZXQgZm9yIGNvbnRleHQ6ICcgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dE5hbWUgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJlbE1hcCA/ICcnIDogJy4gVXNlIHJlcXVpcmUoW10pJykpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmaW5lZFtpZF07CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvL0dyYWIgZGVmaW5lcyB3YWl0aW5nIGluIHRoZSBnbG9iYWwgcXVldWUuCiAgICAgICAgICAgICAgICAgICAgaW50YWtlRGVmaW5lcygpOwoKICAgICAgICAgICAgICAgICAgICAvL01hcmsgYWxsIHRoZSBkZXBlbmRlbmNpZXMgYXMgbmVlZGluZyB0byBiZSBsb2FkZWQuCiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5uZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vU29tZSBkZWZpbmVzIGNvdWxkIGhhdmUgYmVlbiBhZGRlZCBzaW5jZSB0aGUKICAgICAgICAgICAgICAgICAgICAgICAgLy9yZXF1aXJlIGNhbGwsIGNvbGxlY3QgdGhlbS4KICAgICAgICAgICAgICAgICAgICAgICAgaW50YWtlRGVmaW5lcygpOwoKICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZU1vZCA9IGdldE1vZHVsZShtYWtlTW9kdWxlTWFwKG51bGwsIHJlbE1hcCkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy9TdG9yZSBpZiBtYXAgY29uZmlnIHNob3VsZCBiZSBhcHBsaWVkIHRvIHRoaXMgcmVxdWlyZQogICAgICAgICAgICAgICAgICAgICAgICAvL2NhbGwgZm9yIGRlcGVuZGVuY2llcy4KICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZU1vZC5za2lwTWFwID0gb3B0aW9ucy5za2lwTWFwOwoKICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZU1vZC5pbml0KGRlcHMsIGNhbGxiYWNrLCBlcnJiYWNrLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tMb2FkZWQoKTsKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsUmVxdWlyZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBtaXhpbihsb2NhbFJlcXVpcmUsIHsKICAgICAgICAgICAgICAgICAgICBpc0Jyb3dzZXI6IGlzQnJvd3NlciwKCiAgICAgICAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICAgICAgICogQ29udmVydHMgYSBtb2R1bGUgbmFtZSArIC5leHRlbnNpb24gaW50byBhbiBVUkwgcGF0aC4KICAgICAgICAgICAgICAgICAgICAgKiAqUmVxdWlyZXMqIHRoZSB1c2Ugb2YgYSBtb2R1bGUgbmFtZS4gSXQgZG9lcyBub3Qgc3VwcG9ydCB1c2luZwogICAgICAgICAgICAgICAgICAgICAqIHBsYWluIFVSTHMgbGlrZSBuYW1lVG9VcmwuCiAgICAgICAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgICAgICAgdG9Vcmw6IGZ1bmN0aW9uIChtb2R1bGVOYW1lUGx1c0V4dCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXh0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBtb2R1bGVOYW1lUGx1c0V4dC5sYXN0SW5kZXhPZignLicpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudCA9IG1vZHVsZU5hbWVQbHVzRXh0LnNwbGl0KCcvJylbMF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1JlbGF0aXZlID0gc2VnbWVudCA9PT0gJy4nIHx8IHNlZ21lbnQgPT09ICcuLic7CgogICAgICAgICAgICAgICAgICAgICAgICAvL0hhdmUgYSBmaWxlIGV4dGVuc2lvbiBhbGlhcywgYW5kIGl0IGlzIG5vdCB0aGUKICAgICAgICAgICAgICAgICAgICAgICAgLy9kb3RzIGZyb20gYSByZWxhdGl2ZSBwYXRoLgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xICYmICghaXNSZWxhdGl2ZSB8fCBpbmRleCA+IDEpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHQgPSBtb2R1bGVOYW1lUGx1c0V4dC5zdWJzdHJpbmcoaW5kZXgsIG1vZHVsZU5hbWVQbHVzRXh0Lmxlbmd0aCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVOYW1lUGx1c0V4dCA9IG1vZHVsZU5hbWVQbHVzRXh0LnN1YnN0cmluZygwLCBpbmRleCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0Lm5hbWVUb1VybChub3JtYWxpemUobW9kdWxlTmFtZVBsdXNFeHQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbE1hcCAmJiByZWxNYXAuaWQsIHRydWUpLCBleHQsICB0cnVlKTsKICAgICAgICAgICAgICAgICAgICB9LAoKICAgICAgICAgICAgICAgICAgICBkZWZpbmVkOiBmdW5jdGlvbiAoaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhc1Byb3AoZGVmaW5lZCwgbWFrZU1vZHVsZU1hcChpZCwgcmVsTWFwLCBmYWxzZSwgdHJ1ZSkuaWQpOwogICAgICAgICAgICAgICAgICAgIH0sCgogICAgICAgICAgICAgICAgICAgIHNwZWNpZmllZDogZnVuY3Rpb24gKGlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkID0gbWFrZU1vZHVsZU1hcChpZCwgcmVsTWFwLCBmYWxzZSwgdHJ1ZSkuaWQ7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoYXNQcm9wKGRlZmluZWQsIGlkKSB8fCBoYXNQcm9wKHJlZ2lzdHJ5LCBpZCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgLy9Pbmx5IGFsbG93IHVuZGVmIG9uIHRvcCBsZXZlbCByZXF1aXJlIGNhbGxzCiAgICAgICAgICAgICAgICBpZiAoIXJlbE1hcCkgewogICAgICAgICAgICAgICAgICAgIGxvY2FsUmVxdWlyZS51bmRlZiA9IGZ1bmN0aW9uIChpZCkgewogICAgICAgICAgICAgICAgICAgICAgICAvL0JpbmQgYW55IHdhaXRpbmcgZGVmaW5lKCkgY2FsbHMgdG8gdGhpcyBjb250ZXh0LAogICAgICAgICAgICAgICAgICAgICAgICAvL2ZpeCBmb3IgIzQwOAogICAgICAgICAgICAgICAgICAgICAgICB0YWtlR2xvYmFsUXVldWUoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXAgPSBtYWtlTW9kdWxlTWFwKGlkLCByZWxNYXAsIHRydWUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kID0gZ2V0T3duKHJlZ2lzdHJ5LCBpZCk7CgogICAgICAgICAgICAgICAgICAgICAgICBtb2QudW5kZWZlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZVNjcmlwdChpZCk7CgogICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZGVmaW5lZFtpZF07CiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB1cmxGZXRjaGVkW21hcC51cmxdOwogICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdW5kZWZFdmVudHNbaWRdOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy9DbGVhbiBxdWV1ZWQgZGVmaW5lcyB0b28uIEdvIGJhY2t3YXJkcwogICAgICAgICAgICAgICAgICAgICAgICAvL2luIGFycmF5IHNvIHRoYXQgdGhlIHNwbGljZXMgZG8gbm90CiAgICAgICAgICAgICAgICAgICAgICAgIC8vbWVzcyB1cCB0aGUgaXRlcmF0aW9uLgogICAgICAgICAgICAgICAgICAgICAgICBlYWNoUmV2ZXJzZShkZWZRdWV1ZSwgZnVuY3Rpb24oYXJncywgaSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3NbMF0gPT09IGlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmUXVldWUuc3BsaWNlKGksIDEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGNvbnRleHQuZGVmUXVldWVNYXBbaWRdOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9Ib2xkIG9uIHRvIGxpc3RlbmVycyBpbiBjYXNlIHRoZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9tb2R1bGUgd2lsbCBiZSBhdHRlbXB0ZWQgdG8gYmUgcmVsb2FkZWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdXNpbmcgYSBkaWZmZXJlbnQgY29uZmlnLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZC5ldmVudHMuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmRXZlbnRzW2lkXSA9IG1vZC5ldmVudHM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW5SZWdpc3RyeShpZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbFJlcXVpcmU7CiAgICAgICAgICAgIH0sCgogICAgICAgICAgICAvKioKICAgICAgICAgICAgICogQ2FsbGVkIHRvIGVuYWJsZSBhIG1vZHVsZSBpZiBpdCBpcyBzdGlsbCBpbiB0aGUgcmVnaXN0cnkKICAgICAgICAgICAgICogYXdhaXRpbmcgZW5hYmxlbWVudC4gQSBzZWNvbmQgYXJnLCBwYXJlbnQsIHRoZSBwYXJlbnQgbW9kdWxlLAogICAgICAgICAgICAgKiBpcyBwYXNzZWQgaW4gZm9yIGNvbnRleHQsIHdoZW4gdGhpcyBtZXRob2QgaXMgb3ZlcnJpZGRlbiBieQogICAgICAgICAgICAgKiB0aGUgb3B0aW1pemVyLiBOb3Qgc2hvd24gaGVyZSB0byBrZWVwIGNvZGUgY29tcGFjdC4KICAgICAgICAgICAgICovCiAgICAgICAgICAgIGVuYWJsZTogZnVuY3Rpb24gKGRlcE1hcCkgewogICAgICAgICAgICAgICAgdmFyIG1vZCA9IGdldE93bihyZWdpc3RyeSwgZGVwTWFwLmlkKTsKICAgICAgICAgICAgICAgIGlmIChtb2QpIHsKICAgICAgICAgICAgICAgICAgICBnZXRNb2R1bGUoZGVwTWFwKS5lbmFibGUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiBJbnRlcm5hbCBtZXRob2QgdXNlZCBieSBlbnZpcm9ubWVudCBhZGFwdGVycyB0byBjb21wbGV0ZSBhIGxvYWQgZXZlbnQuCiAgICAgICAgICAgICAqIEEgbG9hZCBldmVudCBjb3VsZCBiZSBhIHNjcmlwdCBsb2FkIG9yIGp1c3QgYSBsb2FkIHBhc3MgZnJvbSBhIHN5bmNocm9ub3VzCiAgICAgICAgICAgICAqIGxvYWQgY2FsbC4KICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IG1vZHVsZU5hbWUgdGhlIG5hbWUgb2YgdGhlIG1vZHVsZSB0byBwb3RlbnRpYWxseSBjb21wbGV0ZS4KICAgICAgICAgICAgICovCiAgICAgICAgICAgIGNvbXBsZXRlTG9hZDogZnVuY3Rpb24gKG1vZHVsZU5hbWUpIHsKICAgICAgICAgICAgICAgIHZhciBmb3VuZCwgYXJncywgbW9kLAogICAgICAgICAgICAgICAgICAgIHNoaW0gPSBnZXRPd24oY29uZmlnLnNoaW0sIG1vZHVsZU5hbWUpIHx8IHt9LAogICAgICAgICAgICAgICAgICAgIHNoRXhwb3J0cyA9IHNoaW0uZXhwb3J0czsKCiAgICAgICAgICAgICAgICB0YWtlR2xvYmFsUXVldWUoKTsKCiAgICAgICAgICAgICAgICB3aGlsZSAoZGVmUXVldWUubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgYXJncyA9IGRlZlF1ZXVlLnNoaWZ0KCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3NbMF0gPT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1swXSA9IG1vZHVsZU5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vSWYgYWxyZWFkeSBmb3VuZCBhbiBhbm9ueW1vdXMgbW9kdWxlIGFuZCBib3VuZCBpdAogICAgICAgICAgICAgICAgICAgICAgICAvL3RvIHRoaXMgbmFtZSwgdGhlbiB0aGlzIGlzIHNvbWUgb3RoZXIgYW5vbiBtb2R1bGUKICAgICAgICAgICAgICAgICAgICAgICAgLy93YWl0aW5nIGZvciBpdHMgY29tcGxldGVMb2FkIHRvIGZpcmUuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXJnc1swXSA9PT0gbW9kdWxlTmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICAvL0ZvdW5kIG1hdGNoaW5nIGRlZmluZSBjYWxsIGZvciB0aGlzIHNjcmlwdCEKICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgY2FsbEdldE1vZHVsZShhcmdzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnRleHQuZGVmUXVldWVNYXAgPSB7fTsKCiAgICAgICAgICAgICAgICAvL0RvIHRoaXMgYWZ0ZXIgdGhlIGN5Y2xlIG9mIGNhbGxHZXRNb2R1bGUgaW4gY2FzZSB0aGUgcmVzdWx0CiAgICAgICAgICAgICAgICAvL29mIHRob3NlIGNhbGxzL2luaXQgY2FsbHMgY2hhbmdlcyB0aGUgcmVnaXN0cnkuCiAgICAgICAgICAgICAgICBtb2QgPSBnZXRPd24ocmVnaXN0cnksIG1vZHVsZU5hbWUpOwoKICAgICAgICAgICAgICAgIGlmICghZm91bmQgJiYgIWhhc1Byb3AoZGVmaW5lZCwgbW9kdWxlTmFtZSkgJiYgbW9kICYmICFtb2QuaW5pdGVkKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5lbmZvcmNlRGVmaW5lICYmICghc2hFeHBvcnRzIHx8ICFnZXRHbG9iYWwoc2hFeHBvcnRzKSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc1BhdGhGYWxsYmFjayhtb2R1bGVOYW1lKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uRXJyb3IobWFrZUVycm9yKCdub2RlZmluZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdObyBkZWZpbmUgY2FsbCBmb3IgJyArIG1vZHVsZU5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFttb2R1bGVOYW1lXSkpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy9BIHNjcmlwdCB0aGF0IGRvZXMgbm90IGNhbGwgZGVmaW5lKCksIHNvIGp1c3Qgc2ltdWxhdGUKICAgICAgICAgICAgICAgICAgICAgICAgLy90aGUgY2FsbCBmb3IgaXQuCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxHZXRNb2R1bGUoW21vZHVsZU5hbWUsIChzaGltLmRlcHMgfHwgW10pLCBzaGltLmV4cG9ydHNGbl0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjaGVja0xvYWRlZCgpOwogICAgICAgICAgICB9LAoKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIENvbnZlcnRzIGEgbW9kdWxlIG5hbWUgdG8gYSBmaWxlIHBhdGguIFN1cHBvcnRzIGNhc2VzIHdoZXJlCiAgICAgICAgICAgICAqIG1vZHVsZU5hbWUgbWF5IGFjdHVhbGx5IGJlIGp1c3QgYW4gVVJMLgogICAgICAgICAgICAgKiBOb3RlIHRoYXQgaXQgKipkb2VzIG5vdCoqIGNhbGwgbm9ybWFsaXplIG9uIHRoZSBtb2R1bGVOYW1lLAogICAgICAgICAgICAgKiBpdCBpcyBhc3N1bWVkIHRvIGhhdmUgYWxyZWFkeSBiZWVuIG5vcm1hbGl6ZWQuIFRoaXMgaXMgYW4KICAgICAgICAgICAgICogaW50ZXJuYWwgQVBJLCBub3QgYSBwdWJsaWMgb25lLiBVc2UgdG9VcmwgZm9yIHRoZSBwdWJsaWMgQVBJLgogICAgICAgICAgICAgKi8KICAgICAgICAgICAgbmFtZVRvVXJsOiBmdW5jdGlvbiAobW9kdWxlTmFtZSwgZXh0LCBza2lwRXh0KSB7CiAgICAgICAgICAgICAgICB2YXIgcGF0aHMsIHN5bXMsIGksIHBhcmVudE1vZHVsZSwgdXJsLAogICAgICAgICAgICAgICAgICAgIHBhcmVudFBhdGgsIGJ1bmRsZUlkLAogICAgICAgICAgICAgICAgICAgIHBrZ01haW4gPSBnZXRPd24oY29uZmlnLnBrZ3MsIG1vZHVsZU5hbWUpOwoKICAgICAgICAgICAgICAgIGlmIChwa2dNYWluKSB7CiAgICAgICAgICAgICAgICAgICAgbW9kdWxlTmFtZSA9IHBrZ01haW47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnVuZGxlSWQgPSBnZXRPd24oYnVuZGxlc01hcCwgbW9kdWxlTmFtZSk7CgogICAgICAgICAgICAgICAgaWYgKGJ1bmRsZUlkKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQubmFtZVRvVXJsKGJ1bmRsZUlkLCBleHQsIHNraXBFeHQpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vSWYgYSBjb2xvbiBpcyBpbiB0aGUgVVJMLCBpdCBpbmRpY2F0ZXMgYSBwcm90b2NvbCBpcyB1c2VkIGFuZCBpdCBpcyBqdXN0CiAgICAgICAgICAgICAgICAvL2FuIFVSTCB0byBhIGZpbGUsIG9yIGlmIGl0IHN0YXJ0cyB3aXRoIGEgc2xhc2gsIGNvbnRhaW5zIGEgcXVlcnkgYXJnIChpLmUuID8pCiAgICAgICAgICAgICAgICAvL29yIGVuZHMgd2l0aCAuanMsIHRoZW4gYXNzdW1lIHRoZSB1c2VyIG1lYW50IHRvIHVzZSBhbiB1cmwgYW5kIG5vdCBhIG1vZHVsZSBpZC4KICAgICAgICAgICAgICAgIC8vVGhlIHNsYXNoIGlzIGltcG9ydGFudCBmb3IgcHJvdG9jb2wtbGVzcyBVUkxzIGFzIHdlbGwgYXMgZnVsbCBwYXRocy4KICAgICAgICAgICAgICAgIGlmIChyZXEuanNFeHRSZWdFeHAudGVzdChtb2R1bGVOYW1lKSkgewogICAgICAgICAgICAgICAgICAgIC8vSnVzdCBhIHBsYWluIHBhdGgsIG5vdCBtb2R1bGUgbmFtZSBsb29rdXAsIHNvIGp1c3QgcmV0dXJuIGl0LgogICAgICAgICAgICAgICAgICAgIC8vQWRkIGV4dGVuc2lvbiBpZiBpdCBpcyBpbmNsdWRlZC4gVGhpcyBpcyBhIGJpdCB3b25reSwgb25seSBub24tLmpzIHRoaW5ncyBwYXNzCiAgICAgICAgICAgICAgICAgICAgLy9hbiBleHRlbnNpb24sIHRoaXMgbWV0aG9kIHByb2JhYmx5IG5lZWRzIHRvIGJlIHJld29ya2VkLgogICAgICAgICAgICAgICAgICAgIHVybCA9IG1vZHVsZU5hbWUgKyAoZXh0IHx8ICcnKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy9BIG1vZHVsZSB0aGF0IG5lZWRzIHRvIGJlIGNvbnZlcnRlZCB0byBhIHBhdGguCiAgICAgICAgICAgICAgICAgICAgcGF0aHMgPSBjb25maWcucGF0aHM7CgogICAgICAgICAgICAgICAgICAgIHN5bXMgPSBtb2R1bGVOYW1lLnNwbGl0KCcvJyk7CiAgICAgICAgICAgICAgICAgICAgLy9Gb3IgZWFjaCBtb2R1bGUgbmFtZSBzZWdtZW50LCBzZWUgaWYgdGhlcmUgaXMgYSBwYXRoCiAgICAgICAgICAgICAgICAgICAgLy9yZWdpc3RlcmVkIGZvciBpdC4gU3RhcnQgd2l0aCBtb3N0IHNwZWNpZmljIG5hbWUKICAgICAgICAgICAgICAgICAgICAvL2FuZCB3b3JrIHVwIGZyb20gaXQuCiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gc3ltcy5sZW5ndGg7IGkgPiAwOyBpIC09IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50TW9kdWxlID0gc3ltcy5zbGljZSgwLCBpKS5qb2luKCcvJyk7CgogICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRQYXRoID0gZ2V0T3duKHBhdGhzLCBwYXJlbnRNb2R1bGUpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50UGF0aCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9JZiBhbiBhcnJheSwgaXQgbWVhbnMgdGhlcmUgYXJlIGEgZmV3IGNob2ljZXMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0Nob29zZSB0aGUgb25lIHRoYXQgaXMgZGVzaXJlZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkocGFyZW50UGF0aCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRQYXRoID0gcGFyZW50UGF0aFswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bXMuc3BsaWNlKDAsIGksIHBhcmVudFBhdGgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC8vSm9pbiB0aGUgcGF0aCBwYXJ0cyB0b2dldGhlciwgdGhlbiBmaWd1cmUgb3V0IGlmIGJhc2VVcmwgaXMgbmVlZGVkLgogICAgICAgICAgICAgICAgICAgIHVybCA9IHN5bXMuam9pbignLycpOwogICAgICAgICAgICAgICAgICAgIHVybCArPSAoZXh0IHx8ICgvXmRhdGFcOnxcPy8udGVzdCh1cmwpIHx8IHNraXBFeHQgPyAnJyA6ICcuanMnKSk7CiAgICAgICAgICAgICAgICAgICAgdXJsID0gKHVybC5jaGFyQXQoMCkgPT09ICcvJyB8fCB1cmwubWF0Y2goL15bXHdcK1wuXC1dKzovKSA/ICcnIDogY29uZmlnLmJhc2VVcmwpICsgdXJsOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBjb25maWcudXJsQXJncyA/IHVybCArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLnVybEFyZ3MpIDogdXJsOwogICAgICAgICAgICB9LAoKICAgICAgICAgICAgLy9EZWxlZ2F0ZXMgdG8gcmVxLmxvYWQuIEJyb2tlbiBvdXQgYXMgYSBzZXBhcmF0ZSBmdW5jdGlvbiB0bwogICAgICAgICAgICAvL2FsbG93IG92ZXJyaWRpbmcgaW4gdGhlIG9wdGltaXplci4KICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24gKGlkLCB1cmwpIHsKICAgICAgICAgICAgICAgIHJlcS5sb2FkKGNvbnRleHQsIGlkLCB1cmwpOwogICAgICAgICAgICB9LAoKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIEV4ZWN1dGVzIGEgbW9kdWxlIGNhbGxiYWNrIGZ1bmN0aW9uLiBCcm9rZW4gb3V0IGFzIGEgc2VwYXJhdGUgZnVuY3Rpb24KICAgICAgICAgICAgICogc29sZWx5IHRvIGFsbG93IHRoZSBidWlsZCBzeXN0ZW0gdG8gc2VxdWVuY2UgdGhlIGZpbGVzIGluIHRoZSBidWlsdAogICAgICAgICAgICAgKiBsYXllciBpbiB0aGUgcmlnaHQgc2VxdWVuY2UuCiAgICAgICAgICAgICAqCiAgICAgICAgICAgICAqIEBwcml2YXRlCiAgICAgICAgICAgICAqLwogICAgICAgICAgICBleGVjQ2I6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaywgYXJncywgZXhwb3J0cykgewogICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KGV4cG9ydHMsIGFyZ3MpOwogICAgICAgICAgICB9LAoKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIGNhbGxiYWNrIGZvciBzY3JpcHQgbG9hZHMsIHVzZWQgdG8gY2hlY2sgc3RhdHVzIG9mIGxvYWRpbmcuCiAgICAgICAgICAgICAqCiAgICAgICAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2dCB0aGUgZXZlbnQgZnJvbSB0aGUgYnJvd3NlciBmb3IgdGhlIHNjcmlwdAogICAgICAgICAgICAgKiB0aGF0IHdhcyBsb2FkZWQuCiAgICAgICAgICAgICAqLwogICAgICAgICAgICBvblNjcmlwdExvYWQ6IGZ1bmN0aW9uIChldnQpIHsKICAgICAgICAgICAgICAgIC8vVXNpbmcgY3VycmVudFRhcmdldCBpbnN0ZWFkIG9mIHRhcmdldCBmb3IgRmlyZWZveCAyLjAncyBzYWtlLiBOb3QKICAgICAgICAgICAgICAgIC8vYWxsIG9sZCBicm93c2VycyB3aWxsIGJlIHN1cHBvcnRlZCwgYnV0IHRoaXMgb25lIHdhcyBlYXN5IGVub3VnaAogICAgICAgICAgICAgICAgLy90byBzdXBwb3J0IGFuZCBzdGlsbCBtYWtlcyBzZW5zZS4KICAgICAgICAgICAgICAgIGlmIChldnQudHlwZSA9PT0gJ2xvYWQnIHx8CiAgICAgICAgICAgICAgICAgICAgICAgIChyZWFkeVJlZ0V4cC50ZXN0KChldnQuY3VycmVudFRhcmdldCB8fCBldnQuc3JjRWxlbWVudCkucmVhZHlTdGF0ZSkpKSB7CiAgICAgICAgICAgICAgICAgICAgLy9SZXNldCBpbnRlcmFjdGl2ZSBzY3JpcHQgc28gYSBzY3JpcHQgbm9kZSBpcyBub3QgaGVsZCBvbnRvIGZvcgogICAgICAgICAgICAgICAgICAgIC8vdG8gbG9uZy4KICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZVNjcmlwdCA9IG51bGw7CgogICAgICAgICAgICAgICAgICAgIC8vUHVsbCBvdXQgdGhlIG5hbWUgb2YgdGhlIG1vZHVsZSBhbmQgdGhlIGNvbnRleHQuCiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBnZXRTY3JpcHREYXRhKGV2dCk7CiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jb21wbGV0ZUxvYWQoZGF0YS5pZCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCgogICAgICAgICAgICAvKioKICAgICAgICAgICAgICogQ2FsbGJhY2sgZm9yIHNjcmlwdCBlcnJvcnMuCiAgICAgICAgICAgICAqLwogICAgICAgICAgICBvblNjcmlwdEVycm9yOiBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGdldFNjcmlwdERhdGEoZXZ0KTsKICAgICAgICAgICAgICAgIGlmICghaGFzUGF0aEZhbGxiYWNrKGRhdGEuaWQpKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudHMgPSBbXTsKICAgICAgICAgICAgICAgICAgICBlYWNoUHJvcChyZWdpc3RyeSwgZnVuY3Rpb24odmFsdWUsIGtleSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5LmluZGV4T2YoJ19AcicpICE9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoKHZhbHVlLmRlcE1hcHMsIGZ1bmN0aW9uKGRlcE1hcCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXBNYXAuaWQgPT09IGRhdGEuaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50cy5wdXNoKGtleSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25FcnJvcihtYWtlRXJyb3IoJ3NjcmlwdGVycm9yJywgJ1NjcmlwdCBlcnJvciBmb3IgIicgKyBkYXRhLmlkICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHBhcmVudHMubGVuZ3RoID8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyIsIG5lZWRlZCBieTogJyArIHBhcmVudHMuam9pbignLCAnKSA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICciJyksIGV2dCwgW2RhdGEuaWRdKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBjb250ZXh0LnJlcXVpcmUgPSBjb250ZXh0Lm1ha2VSZXF1aXJlKCk7CiAgICAgICAgcmV0dXJuIGNvbnRleHQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBNYWluIGVudHJ5IHBvaW50LgogICAgICoKICAgICAqIElmIHRoZSBvbmx5IGFyZ3VtZW50IHRvIHJlcXVpcmUgaXMgYSBzdHJpbmcsIHRoZW4gdGhlIG1vZHVsZSB0aGF0CiAgICAgKiBpcyByZXByZXNlbnRlZCBieSB0aGF0IHN0cmluZyBpcyBmZXRjaGVkIGZvciB0aGUgYXBwcm9wcmlhdGUgY29udGV4dC4KICAgICAqCiAgICAgKiBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYW4gYXJyYXksIHRoZW4gaXQgd2lsbCBiZSB0cmVhdGVkIGFzIGFuIGFycmF5CiAgICAgKiBvZiBkZXBlbmRlbmN5IHN0cmluZyBuYW1lcyB0byBmZXRjaC4gQW4gb3B0aW9uYWwgZnVuY3Rpb24gY2FsbGJhY2sgY2FuCiAgICAgKiBiZSBzcGVjaWZpZWQgdG8gZXhlY3V0ZSB3aGVuIGFsbCBvZiB0aG9zZSBkZXBlbmRlbmNpZXMgYXJlIGF2YWlsYWJsZS4KICAgICAqCiAgICAgKiBNYWtlIGEgbG9jYWwgcmVxIHZhcmlhYmxlIHRvIGhlbHAgQ2FqYSBjb21wbGlhbmNlIChpdCBhc3N1bWVzIHRoaW5ncwogICAgICogb24gYSByZXF1aXJlIHRoYXQgYXJlIG5vdCBzdGFuZGFyZGl6ZWQpLCBhbmQgdG8gZ2l2ZSBhIHNob3J0CiAgICAgKiBuYW1lIGZvciBtaW5pZmljYXRpb24vbG9jYWwgc2NvcGUgdXNlLgogICAgICovCiAgICByZXEgPSByZXF1aXJlanMgPSBmdW5jdGlvbiAoZGVwcywgY2FsbGJhY2ssIGVycmJhY2ssIG9wdGlvbmFsKSB7CgogICAgICAgIC8vRmluZCB0aGUgcmlnaHQgY29udGV4dCwgdXNlIGRlZmF1bHQKICAgICAgICB2YXIgY29udGV4dCwgY29uZmlnLAogICAgICAgICAgICBjb250ZXh0TmFtZSA9IGRlZkNvbnRleHROYW1lOwoKICAgICAgICAvLyBEZXRlcm1pbmUgaWYgaGF2ZSBjb25maWcgb2JqZWN0IGluIHRoZSBjYWxsLgogICAgICAgIGlmICghaXNBcnJheShkZXBzKSAmJiB0eXBlb2YgZGVwcyAhPT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgLy8gZGVwcyBpcyBhIGNvbmZpZyBvYmplY3QKICAgICAgICAgICAgY29uZmlnID0gZGVwczsKICAgICAgICAgICAgaWYgKGlzQXJyYXkoY2FsbGJhY2spKSB7CiAgICAgICAgICAgICAgICAvLyBBZGp1c3QgYXJncyBpZiB0aGVyZSBhcmUgZGVwZW5kZW5jaWVzCiAgICAgICAgICAgICAgICBkZXBzID0gY2FsbGJhY2s7CiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGVycmJhY2s7CiAgICAgICAgICAgICAgICBlcnJiYWNrID0gb3B0aW9uYWw7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBkZXBzID0gW107CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChjb25maWcgJiYgY29uZmlnLmNvbnRleHQpIHsKICAgICAgICAgICAgY29udGV4dE5hbWUgPSBjb25maWcuY29udGV4dDsKICAgICAgICB9CgogICAgICAgIGNvbnRleHQgPSBnZXRPd24oY29udGV4dHMsIGNvbnRleHROYW1lKTsKICAgICAgICBpZiAoIWNvbnRleHQpIHsKICAgICAgICAgICAgY29udGV4dCA9IGNvbnRleHRzW2NvbnRleHROYW1lXSA9IHJlcS5zLm5ld0NvbnRleHQoY29udGV4dE5hbWUpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGNvbmZpZykgewogICAgICAgICAgICBjb250ZXh0LmNvbmZpZ3VyZShjb25maWcpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGNvbnRleHQucmVxdWlyZShkZXBzLCBjYWxsYmFjaywgZXJyYmFjayk7CiAgICB9OwoKICAgIC8qKgogICAgICogU3VwcG9ydCByZXF1aXJlLmNvbmZpZygpIHRvIG1ha2UgaXQgZWFzaWVyIHRvIGNvb3BlcmF0ZSB3aXRoIG90aGVyCiAgICAgKiBBTUQgbG9hZGVycyBvbiBnbG9iYWxseSBhZ3JlZWQgbmFtZXMuCiAgICAgKi8KICAgIHJlcS5jb25maWcgPSBmdW5jdGlvbiAoY29uZmlnKSB7CiAgICAgICAgcmV0dXJuIHJlcShjb25maWcpOwogICAgfTsKCiAgICAvKioKICAgICAqIEV4ZWN1dGUgc29tZXRoaW5nIGFmdGVyIHRoZSBjdXJyZW50IHRpY2sKICAgICAqIG9mIHRoZSBldmVudCBsb29wLiBPdmVycmlkZSBmb3Igb3RoZXIgZW52cwogICAgICogdGhhdCBoYXZlIGEgYmV0dGVyIHNvbHV0aW9uIHRoYW4gc2V0VGltZW91dC4KICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiBmdW5jdGlvbiB0byBleGVjdXRlIGxhdGVyLgogICAgICovCiAgICByZXEubmV4dFRpY2sgPSB0eXBlb2Ygc2V0VGltZW91dCAhPT0gJ3VuZGVmaW5lZCcgPyBmdW5jdGlvbiAoZm4pIHsKICAgICAgICBzZXRUaW1lb3V0KGZuLCA0KTsKICAgIH0gOiBmdW5jdGlvbiAoZm4pIHsgZm4oKTsgfTsKCiAgICAvKioKICAgICAqIEV4cG9ydCByZXF1aXJlIGFzIGEgZ2xvYmFsLCBidXQgb25seSBpZiBpdCBkb2VzIG5vdCBhbHJlYWR5IGV4aXN0LgogICAgICovCiAgICBpZiAoIXJlcXVpcmUpIHsKICAgICAgICByZXF1aXJlID0gcmVxOwogICAgfQoKICAgIHJlcS52ZXJzaW9uID0gdmVyc2lvbjsKCiAgICAvL1VzZWQgdG8gZmlsdGVyIG91dCBkZXBlbmRlbmNpZXMgdGhhdCBhcmUgYWxyZWFkeSBwYXRocy4KICAgIHJlcS5qc0V4dFJlZ0V4cCA9IC9eXC98OnxcP3xcLmpzJC87CiAgICByZXEuaXNCcm93c2VyID0gaXNCcm93c2VyOwogICAgcyA9IHJlcS5zID0gewogICAgICAgIGNvbnRleHRzOiBjb250ZXh0cywKICAgICAgICBuZXdDb250ZXh0OiBuZXdDb250ZXh0CiAgICB9OwoKICAgIC8vQ3JlYXRlIGRlZmF1bHQgY29udGV4dC4KICAgIHJlcSh7fSk7CgogICAgLy9FeHBvcnRzIHNvbWUgY29udGV4dC1zZW5zaXRpdmUgbWV0aG9kcyBvbiBnbG9iYWwgcmVxdWlyZS4KICAgIGVhY2goWwogICAgICAgICd0b1VybCcsCiAgICAgICAgJ3VuZGVmJywKICAgICAgICAnZGVmaW5lZCcsCiAgICAgICAgJ3NwZWNpZmllZCcKICAgIF0sIGZ1bmN0aW9uIChwcm9wKSB7CiAgICAgICAgLy9SZWZlcmVuY2UgZnJvbSBjb250ZXh0cyBpbnN0ZWFkIG9mIGVhcmx5IGJpbmRpbmcgdG8gZGVmYXVsdCBjb250ZXh0LAogICAgICAgIC8vc28gdGhhdCBkdXJpbmcgYnVpbGRzLCB0aGUgbGF0ZXN0IGluc3RhbmNlIG9mIHRoZSBkZWZhdWx0IGNvbnRleHQKICAgICAgICAvL3dpdGggaXRzIGNvbmZpZyBnZXRzIHVzZWQuCiAgICAgICAgcmVxW3Byb3BdID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgY3R4ID0gY29udGV4dHNbZGVmQ29udGV4dE5hbWVdOwogICAgICAgICAgICByZXR1cm4gY3R4LnJlcXVpcmVbcHJvcF0uYXBwbHkoY3R4LCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICB9KTsKCiAgICBpZiAoaXNCcm93c2VyKSB7CiAgICAgICAgaGVhZCA9IHMuaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07CiAgICAgICAgLy9JZiBCQVNFIHRhZyBpcyBpbiBwbGF5LCB1c2luZyBhcHBlbmRDaGlsZCBpcyBhIHByb2JsZW0gZm9yIElFNi4KICAgICAgICAvL1doZW4gdGhhdCBicm93c2VyIGRpZXMsIHRoaXMgY2FuIGJlIHJlbW92ZWQuIERldGFpbHMgaW4gdGhpcyBqUXVlcnkgYnVnOgogICAgICAgIC8vaHR0cDovL2Rldi5qcXVlcnkuY29tL3RpY2tldC8yNzA5CiAgICAgICAgYmFzZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYmFzZScpWzBdOwogICAgICAgIGlmIChiYXNlRWxlbWVudCkgewogICAgICAgICAgICBoZWFkID0gcy5oZWFkID0gYmFzZUVsZW1lbnQucGFyZW50Tm9kZTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBBbnkgZXJyb3JzIHRoYXQgcmVxdWlyZSBleHBsaWNpdGx5IGdlbmVyYXRlcyB3aWxsIGJlIHBhc3NlZCB0byB0aGlzCiAgICAgKiBmdW5jdGlvbi4gSW50ZXJjZXB0L292ZXJyaWRlIGl0IGlmIHlvdSB3YW50IGN1c3RvbSBlcnJvciBoYW5kbGluZy4KICAgICAqIEBwYXJhbSB7RXJyb3J9IGVyciB0aGUgZXJyb3Igb2JqZWN0LgogICAgICovCiAgICByZXEub25FcnJvciA9IGRlZmF1bHRPbkVycm9yOwoKICAgIC8qKgogICAgICogQ3JlYXRlcyB0aGUgbm9kZSBmb3IgdGhlIGxvYWQgY29tbWFuZC4gT25seSB1c2VkIGluIGJyb3dzZXIgZW52cy4KICAgICAqLwogICAgcmVxLmNyZWF0ZU5vZGUgPSBmdW5jdGlvbiAoY29uZmlnLCBtb2R1bGVOYW1lLCB1cmwpIHsKICAgICAgICB2YXIgbm9kZSA9IGNvbmZpZy54aHRtbCA/CiAgICAgICAgICAgICAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwnLCAnaHRtbDpzY3JpcHQnKSA6CiAgICAgICAgICAgICAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgICAgICBub2RlLnR5cGUgPSBjb25maWcuc2NyaXB0VHlwZSB8fCAndGV4dC9qYXZhc2NyaXB0JzsKICAgICAgICBub2RlLmNoYXJzZXQgPSAndXRmLTgnOwogICAgICAgIG5vZGUuYXN5bmMgPSB0cnVlOwogICAgICAgIHJldHVybiBub2RlOwogICAgfTsKCiAgICAvKioKICAgICAqIERvZXMgdGhlIHJlcXVlc3QgdG8gbG9hZCBhIG1vZHVsZSBmb3IgdGhlIGJyb3dzZXIgY2FzZS4KICAgICAqIE1ha2UgdGhpcyBhIHNlcGFyYXRlIGZ1bmN0aW9uIHRvIGFsbG93IG90aGVyIGVudmlyb25tZW50cwogICAgICogdG8gb3ZlcnJpZGUgaXQuCiAgICAgKgogICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQgdGhlIHJlcXVpcmUgY29udGV4dCB0byBmaW5kIHN0YXRlLgogICAgICogQHBhcmFtIHtTdHJpbmd9IG1vZHVsZU5hbWUgdGhlIG5hbWUgb2YgdGhlIG1vZHVsZS4KICAgICAqIEBwYXJhbSB7T2JqZWN0fSB1cmwgdGhlIFVSTCB0byB0aGUgbW9kdWxlLgogICAgICovCiAgICByZXEubG9hZCA9IGZ1bmN0aW9uIChjb250ZXh0LCBtb2R1bGVOYW1lLCB1cmwpIHsKICAgICAgICB2YXIgY29uZmlnID0gKGNvbnRleHQgJiYgY29udGV4dC5jb25maWcpIHx8IHt9LAogICAgICAgICAgICBub2RlOwogICAgICAgIGlmIChpc0Jyb3dzZXIpIHsKICAgICAgICAgICAgLy9JbiB0aGUgYnJvd3NlciBzbyB1c2UgYSBzY3JpcHQgdGFnCiAgICAgICAgICAgIG5vZGUgPSByZXEuY3JlYXRlTm9kZShjb25maWcsIG1vZHVsZU5hbWUsIHVybCk7CiAgICAgICAgICAgIGlmIChjb25maWcub25Ob2RlQ3JlYXRlZCkgewogICAgICAgICAgICAgICAgY29uZmlnLm9uTm9kZUNyZWF0ZWQobm9kZSwgY29uZmlnLCBtb2R1bGVOYW1lLCB1cmwpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZSgnZGF0YS1yZXF1aXJlY29udGV4dCcsIGNvbnRleHQuY29udGV4dE5hbWUpOwogICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZSgnZGF0YS1yZXF1aXJlbW9kdWxlJywgbW9kdWxlTmFtZSk7CgogICAgICAgICAgICAvL1NldCB1cCBsb2FkIGxpc3RlbmVyLiBUZXN0IGF0dGFjaEV2ZW50IGZpcnN0IGJlY2F1c2UgSUU5IGhhcwogICAgICAgICAgICAvL2Egc3VidGxlIGlzc3VlIGluIGl0cyBhZGRFdmVudExpc3RlbmVyIGFuZCBzY3JpcHQgb25sb2FkIGZpcmluZ3MKICAgICAgICAgICAgLy90aGF0IGRvIG5vdCBtYXRjaCB0aGUgYmVoYXZpb3Igb2YgYWxsIG90aGVyIGJyb3dzZXJzIHdpdGgKICAgICAgICAgICAgLy9hZGRFdmVudExpc3RlbmVyIHN1cHBvcnQsIHdoaWNoIGZpcmUgdGhlIG9ubG9hZCBldmVudCBmb3IgYQogICAgICAgICAgICAvL3NjcmlwdCByaWdodCBhZnRlciB0aGUgc2NyaXB0IGV4ZWN1dGlvbi4gU2VlOgogICAgICAgICAgICAvL2h0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvNjQ4MDU3L3NjcmlwdC1vbmxvYWQtZXZlbnQtaXMtbm90LWZpcmVkLWltbWVkaWF0ZWx5LWFmdGVyLXNjcmlwdC1leGVjdXRpb24KICAgICAgICAgICAgLy9VTkZPUlRVTkFURUxZIE9wZXJhIGltcGxlbWVudHMgYXR0YWNoRXZlbnQgYnV0IGRvZXMgbm90IGZvbGxvdyB0aGUgc2NyaXB0CiAgICAgICAgICAgIC8vc2NyaXB0IGV4ZWN1dGlvbiBtb2RlLgogICAgICAgICAgICBpZiAobm9kZS5hdHRhY2hFdmVudCAmJgogICAgICAgICAgICAgICAgICAgIC8vQ2hlY2sgaWYgbm9kZS5hdHRhY2hFdmVudCBpcyBhcnRpZmljaWFsbHkgYWRkZWQgYnkgY3VzdG9tIHNjcmlwdCBvcgogICAgICAgICAgICAgICAgICAgIC8vbmF0aXZlbHkgc3VwcG9ydGVkIGJ5IGJyb3dzZXIKICAgICAgICAgICAgICAgICAgICAvL3JlYWQgaHR0cHM6Ly9naXRodWIuY29tL2pyYnVya2UvcmVxdWlyZWpzL2lzc3Vlcy8xODcKICAgICAgICAgICAgICAgICAgICAvL2lmIHdlIGNhbiBOT1QgZmluZCBbbmF0aXZlIGNvZGVdIHRoZW4gaXQgbXVzdCBOT1QgbmF0aXZlbHkgc3VwcG9ydGVkLgogICAgICAgICAgICAgICAgICAgIC8vaW4gSUU4LCBub2RlLmF0dGFjaEV2ZW50IGRvZXMgbm90IGhhdmUgdG9TdHJpbmcoKQogICAgICAgICAgICAgICAgICAgIC8vTm90ZSB0aGUgdGVzdCBmb3IgIltuYXRpdmUgY29kZSIgd2l0aCBubyBjbG9zaW5nIGJyYWNlLCBzZWU6CiAgICAgICAgICAgICAgICAgICAgLy9odHRwczovL2dpdGh1Yi5jb20vanJidXJrZS9yZXF1aXJlanMvaXNzdWVzLzI3MwogICAgICAgICAgICAgICAgICAgICEobm9kZS5hdHRhY2hFdmVudC50b1N0cmluZyAmJiBub2RlLmF0dGFjaEV2ZW50LnRvU3RyaW5nKCkuaW5kZXhPZignW25hdGl2ZSBjb2RlJykgPCAwKSAmJgogICAgICAgICAgICAgICAgICAgICFpc09wZXJhKSB7CiAgICAgICAgICAgICAgICAvL1Byb2JhYmx5IElFLiBJRSAoYXQgbGVhc3QgNi04KSBkbyBub3QgZmlyZQogICAgICAgICAgICAgICAgLy9zY3JpcHQgb25sb2FkIHJpZ2h0IGFmdGVyIGV4ZWN1dGluZyB0aGUgc2NyaXB0LCBzbwogICAgICAgICAgICAgICAgLy93ZSBjYW5ub3QgdGllIHRoZSBhbm9ueW1vdXMgZGVmaW5lIGNhbGwgdG8gYSBuYW1lLgogICAgICAgICAgICAgICAgLy9Ib3dldmVyLCBJRSByZXBvcnRzIHRoZSBzY3JpcHQgYXMgYmVpbmcgaW4gJ2ludGVyYWN0aXZlJwogICAgICAgICAgICAgICAgLy9yZWFkeVN0YXRlIGF0IHRoZSB0aW1lIG9mIHRoZSBkZWZpbmUgY2FsbC4KICAgICAgICAgICAgICAgIHVzZUludGVyYWN0aXZlID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICBub2RlLmF0dGFjaEV2ZW50KCdvbnJlYWR5c3RhdGVjaGFuZ2UnLCBjb250ZXh0Lm9uU2NyaXB0TG9hZCk7CiAgICAgICAgICAgICAgICAvL0l0IHdvdWxkIGJlIGdyZWF0IHRvIGFkZCBhbiBlcnJvciBoYW5kbGVyIGhlcmUgdG8gY2F0Y2gKICAgICAgICAgICAgICAgIC8vNDA0cyBpbiBJRTkrLiBIb3dldmVyLCBvbnJlYWR5c3RhdGVjaGFuZ2Ugd2lsbCBmaXJlIGJlZm9yZQogICAgICAgICAgICAgICAgLy90aGUgZXJyb3IgaGFuZGxlciwgc28gdGhhdCBkb2VzIG5vdCBoZWxwLiBJZiBhZGRFdmVudExpc3RlbmVyCiAgICAgICAgICAgICAgICAvL2lzIHVzZWQsIHRoZW4gSUUgd2lsbCBmaXJlIGVycm9yIGJlZm9yZSBsb2FkLCBidXQgd2UgY2Fubm90CiAgICAgICAgICAgICAgICAvL3VzZSB0aGF0IHBhdGh3YXkgZ2l2ZW4gdGhlIGNvbm5lY3QubWljcm9zb2Z0LmNvbSBpc3N1ZQogICAgICAgICAgICAgICAgLy9tZW50aW9uZWQgYWJvdmUgYWJvdXQgbm90IGRvaW5nIHRoZSAnc2NyaXB0IGV4ZWN1dGUsCiAgICAgICAgICAgICAgICAvL3RoZW4gZmlyZSB0aGUgc2NyaXB0IGxvYWQgZXZlbnQgbGlzdGVuZXIgYmVmb3JlIGV4ZWN1dGUKICAgICAgICAgICAgICAgIC8vbmV4dCBzY3JpcHQnIHRoYXQgb3RoZXIgYnJvd3NlcnMgZG8uCiAgICAgICAgICAgICAgICAvL0Jlc3QgaG9wZTogSUUxMCBmaXhlcyB0aGUgaXNzdWVzLAogICAgICAgICAgICAgICAgLy9hbmQgdGhlbiBkZXN0cm95cyBhbGwgaW5zdGFsbHMgb2YgSUUgNi05LgogICAgICAgICAgICAgICAgLy9ub2RlLmF0dGFjaEV2ZW50KCdvbmVycm9yJywgY29udGV4dC5vblNjcmlwdEVycm9yKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGNvbnRleHQub25TY3JpcHRMb2FkLCBmYWxzZSk7CiAgICAgICAgICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgY29udGV4dC5vblNjcmlwdEVycm9yLCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbm9kZS5zcmMgPSB1cmw7CgogICAgICAgICAgICAvL0ZvciBzb21lIGNhY2hlIGNhc2VzIGluIElFIDYtOCwgdGhlIHNjcmlwdCBleGVjdXRlcyBiZWZvcmUgdGhlIGVuZAogICAgICAgICAgICAvL29mIHRoZSBhcHBlbmRDaGlsZCBleGVjdXRpb24sIHNvIHRvIHRpZSBhbiBhbm9ueW1vdXMgZGVmaW5lCiAgICAgICAgICAgIC8vY2FsbCB0byB0aGUgbW9kdWxlIG5hbWUgKHdoaWNoIGlzIHN0b3JlZCBvbiB0aGUgbm9kZSksIGhvbGQgb24KICAgICAgICAgICAgLy90byBhIHJlZmVyZW5jZSB0byB0aGlzIG5vZGUsIGJ1dCBjbGVhciBhZnRlciB0aGUgRE9NIGluc2VydGlvbi4KICAgICAgICAgICAgY3VycmVudGx5QWRkaW5nU2NyaXB0ID0gbm9kZTsKICAgICAgICAgICAgaWYgKGJhc2VFbGVtZW50KSB7CiAgICAgICAgICAgICAgICBoZWFkLmluc2VydEJlZm9yZShub2RlLCBiYXNlRWxlbWVudCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBoZWFkLmFwcGVuZENoaWxkKG5vZGUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGN1cnJlbnRseUFkZGluZ1NjcmlwdCA9IG51bGw7CgogICAgICAgICAgICByZXR1cm4gbm9kZTsKICAgICAgICB9IGVsc2UgaWYgKGlzV2ViV29ya2VyKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAvL0luIGEgd2ViIHdvcmtlciwgdXNlIGltcG9ydFNjcmlwdHMuIFRoaXMgaXMgbm90IGEgdmVyeQogICAgICAgICAgICAgICAgLy9lZmZpY2llbnQgdXNlIG9mIGltcG9ydFNjcmlwdHMsIGltcG9ydFNjcmlwdHMgd2lsbCBibG9jayB1bnRpbAogICAgICAgICAgICAgICAgLy9pdHMgc2NyaXB0IGlzIGRvd25sb2FkZWQgYW5kIGV2YWx1YXRlZC4gSG93ZXZlciwgaWYgd2ViIHdvcmtlcnMKICAgICAgICAgICAgICAgIC8vYXJlIGluIHBsYXksIHRoZSBleHBlY3RhdGlvbiBpcyB0aGF0IGEgYnVpbGQgaGFzIGJlZW4gZG9uZSBzbwogICAgICAgICAgICAgICAgLy90aGF0IG9ubHkgb25lIHNjcmlwdCBuZWVkcyB0byBiZSBsb2FkZWQgYW55d2F5LiBUaGlzIG1heSBuZWVkCiAgICAgICAgICAgICAgICAvL3RvIGJlIHJlZXZhbHVhdGVkIGlmIG90aGVyIHVzZSBjYXNlcyBiZWNvbWUgY29tbW9uLgogICAgICAgICAgICAgICAgaW1wb3J0U2NyaXB0cyh1cmwpOwoKICAgICAgICAgICAgICAgIC8vQWNjb3VudCBmb3IgYW5vbnltb3VzIG1vZHVsZXMKICAgICAgICAgICAgICAgIGNvbnRleHQuY29tcGxldGVMb2FkKG1vZHVsZU5hbWUpOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICBjb250ZXh0Lm9uRXJyb3IobWFrZUVycm9yKCdpbXBvcnRzY3JpcHRzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaW1wb3J0U2NyaXB0cyBmYWlsZWQgZm9yICcgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVOYW1lICsgJyBhdCAnICsgdXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW21vZHVsZU5hbWVdKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwoKICAgIGZ1bmN0aW9uIGdldEludGVyYWN0aXZlU2NyaXB0KCkgewogICAgICAgIGlmIChpbnRlcmFjdGl2ZVNjcmlwdCAmJiBpbnRlcmFjdGl2ZVNjcmlwdC5yZWFkeVN0YXRlID09PSAnaW50ZXJhY3RpdmUnKSB7CiAgICAgICAgICAgIHJldHVybiBpbnRlcmFjdGl2ZVNjcmlwdDsKICAgICAgICB9CgogICAgICAgIGVhY2hSZXZlcnNlKHNjcmlwdHMoKSwgZnVuY3Rpb24gKHNjcmlwdCkgewogICAgICAgICAgICBpZiAoc2NyaXB0LnJlYWR5U3RhdGUgPT09ICdpbnRlcmFjdGl2ZScpIHsKICAgICAgICAgICAgICAgIHJldHVybiAoaW50ZXJhY3RpdmVTY3JpcHQgPSBzY3JpcHQpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGludGVyYWN0aXZlU2NyaXB0OwogICAgfQoKICAgIC8vTG9vayBmb3IgYSBkYXRhLW1haW4gc2NyaXB0IGF0dHJpYnV0ZSwgd2hpY2ggY291bGQgYWxzbyBhZGp1c3QgdGhlIGJhc2VVcmwuCiAgICBpZiAoaXNCcm93c2VyICYmICFjZmcuc2tpcERhdGFNYWluKSB7CiAgICAgICAgLy9GaWd1cmUgb3V0IGJhc2VVcmwuIEdldCBpdCBmcm9tIHRoZSBzY3JpcHQgdGFnIHdpdGggcmVxdWlyZS5qcyBpbiBpdC4KICAgICAgICBlYWNoUmV2ZXJzZShzY3JpcHRzKCksIGZ1bmN0aW9uIChzY3JpcHQpIHsKICAgICAgICAgICAgLy9TZXQgdGhlICdoZWFkJyB3aGVyZSB3ZSBjYW4gYXBwZW5kIGNoaWxkcmVuIGJ5CiAgICAgICAgICAgIC8vdXNpbmcgdGhlIHNjcmlwdCdzIHBhcmVudC4KICAgICAgICAgICAgaWYgKCFoZWFkKSB7CiAgICAgICAgICAgICAgICBoZWFkID0gc2NyaXB0LnBhcmVudE5vZGU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vTG9vayBmb3IgYSBkYXRhLW1haW4gYXR0cmlidXRlIHRvIHNldCBtYWluIHNjcmlwdCBmb3IgdGhlIHBhZ2UKICAgICAgICAgICAgLy90byBsb2FkLiBJZiBpdCBpcyB0aGVyZSwgdGhlIHBhdGggdG8gZGF0YSBtYWluIGJlY29tZXMgdGhlCiAgICAgICAgICAgIC8vYmFzZVVybCwgaWYgaXQgaXMgbm90IGFscmVhZHkgc2V0LgogICAgICAgICAgICBkYXRhTWFpbiA9IHNjcmlwdC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbWFpbicpOwogICAgICAgICAgICBpZiAoZGF0YU1haW4pIHsKICAgICAgICAgICAgICAgIC8vUHJlc2VydmUgZGF0YU1haW4gaW4gY2FzZSBpdCBpcyBhIHBhdGggKGkuZS4gY29udGFpbnMgJz8nKQogICAgICAgICAgICAgICAgbWFpblNjcmlwdCA9IGRhdGFNYWluOwoKICAgICAgICAgICAgICAgIC8vU2V0IGZpbmFsIGJhc2VVcmwgaWYgdGhlcmUgaXMgbm90IGFscmVhZHkgYW4gZXhwbGljaXQgb25lLgogICAgICAgICAgICAgICAgaWYgKCFjZmcuYmFzZVVybCkgewogICAgICAgICAgICAgICAgICAgIC8vUHVsbCBvZmYgdGhlIGRpcmVjdG9yeSBvZiBkYXRhLW1haW4gZm9yIHVzZSBhcyB0aGUKICAgICAgICAgICAgICAgICAgICAvL2Jhc2VVcmwuCiAgICAgICAgICAgICAgICAgICAgc3JjID0gbWFpblNjcmlwdC5zcGxpdCgnLycpOwogICAgICAgICAgICAgICAgICAgIG1haW5TY3JpcHQgPSBzcmMucG9wKCk7CiAgICAgICAgICAgICAgICAgICAgc3ViUGF0aCA9IHNyYy5sZW5ndGggPyBzcmMuam9pbignLycpICArICcvJyA6ICcuLyc7CgogICAgICAgICAgICAgICAgICAgIGNmZy5iYXNlVXJsID0gc3ViUGF0aDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvL1N0cmlwIG9mZiBhbnkgdHJhaWxpbmcgLmpzIHNpbmNlIG1haW5TY3JpcHQgaXMgbm93CiAgICAgICAgICAgICAgICAvL2xpa2UgYSBtb2R1bGUgbmFtZS4KICAgICAgICAgICAgICAgIG1haW5TY3JpcHQgPSBtYWluU2NyaXB0LnJlcGxhY2UoanNTdWZmaXhSZWdFeHAsICcnKTsKCiAgICAgICAgICAgICAgICAvL0lmIG1haW5TY3JpcHQgaXMgc3RpbGwgYSBwYXRoLCBmYWxsIGJhY2sgdG8gZGF0YU1haW4KICAgICAgICAgICAgICAgIGlmIChyZXEuanNFeHRSZWdFeHAudGVzdChtYWluU2NyaXB0KSkgewogICAgICAgICAgICAgICAgICAgIG1haW5TY3JpcHQgPSBkYXRhTWFpbjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvL1B1dCB0aGUgZGF0YS1tYWluIHNjcmlwdCBpbiB0aGUgZmlsZXMgdG8gbG9hZC4KICAgICAgICAgICAgICAgIGNmZy5kZXBzID0gY2ZnLmRlcHMgPyBjZmcuZGVwcy5jb25jYXQobWFpblNjcmlwdCkgOiBbbWFpblNjcmlwdF07CgogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBmdW5jdGlvbiB0aGF0IGhhbmRsZXMgZGVmaW5pdGlvbnMgb2YgbW9kdWxlcy4gRGlmZmVycyBmcm9tCiAgICAgKiByZXF1aXJlKCkgaW4gdGhhdCBhIHN0cmluZyBmb3IgdGhlIG1vZHVsZSBzaG91bGQgYmUgdGhlIGZpcnN0IGFyZ3VtZW50LAogICAgICogYW5kIHRoZSBmdW5jdGlvbiB0byBleGVjdXRlIGFmdGVyIGRlcGVuZGVuY2llcyBhcmUgbG9hZGVkIHNob3VsZAogICAgICogcmV0dXJuIGEgdmFsdWUgdG8gZGVmaW5lIHRoZSBtb2R1bGUgY29ycmVzcG9uZGluZyB0byB0aGUgZmlyc3QgYXJndW1lbnQncwogICAgICogbmFtZS4KICAgICAqLwogICAgZGVmaW5lID0gZnVuY3Rpb24gKG5hbWUsIGRlcHMsIGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIG5vZGUsIGNvbnRleHQ7CgogICAgICAgIC8vQWxsb3cgZm9yIGFub255bW91cyBtb2R1bGVzCiAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykgewogICAgICAgICAgICAvL0FkanVzdCBhcmdzIGFwcHJvcHJpYXRlbHkKICAgICAgICAgICAgY2FsbGJhY2sgPSBkZXBzOwogICAgICAgICAgICBkZXBzID0gbmFtZTsKICAgICAgICAgICAgbmFtZSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICAvL1RoaXMgbW9kdWxlIG1heSBub3QgaGF2ZSBkZXBlbmRlbmNpZXMKICAgICAgICBpZiAoIWlzQXJyYXkoZGVwcykpIHsKICAgICAgICAgICAgY2FsbGJhY2sgPSBkZXBzOwogICAgICAgICAgICBkZXBzID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIC8vSWYgbm8gbmFtZSwgYW5kIGNhbGxiYWNrIGlzIGEgZnVuY3Rpb24sIHRoZW4gZmlndXJlIG91dCBpZiBpdCBhCiAgICAgICAgLy9Db21tb25KUyB0aGluZyB3aXRoIGRlcGVuZGVuY2llcy4KICAgICAgICBpZiAoIWRlcHMgJiYgaXNGdW5jdGlvbihjYWxsYmFjaykpIHsKICAgICAgICAgICAgZGVwcyA9IFtdOwogICAgICAgICAgICAvL1JlbW92ZSBjb21tZW50cyBmcm9tIHRoZSBjYWxsYmFjayBzdHJpbmcsCiAgICAgICAgICAgIC8vbG9vayBmb3IgcmVxdWlyZSBjYWxscywgYW5kIHB1bGwgdGhlbSBpbnRvIHRoZSBkZXBlbmRlbmNpZXMsCiAgICAgICAgICAgIC8vYnV0IG9ubHkgaWYgdGhlcmUgYXJlIGZ1bmN0aW9uIGFyZ3MuCiAgICAgICAgICAgIGlmIChjYWxsYmFjay5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrCiAgICAgICAgICAgICAgICAgICAgLnRvU3RyaW5nKCkKICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShjb21tZW50UmVnRXhwLCAnJykKICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShjanNSZXF1aXJlUmVnRXhwLCBmdW5jdGlvbiAobWF0Y2gsIGRlcCkgewogICAgICAgICAgICAgICAgICAgICAgICBkZXBzLnB1c2goZGVwKTsKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAvL01heSBiZSBhIENvbW1vbkpTIHRoaW5nIGV2ZW4gd2l0aG91dCByZXF1aXJlIGNhbGxzLCBidXQgc3RpbGwKICAgICAgICAgICAgICAgIC8vY291bGQgdXNlIGV4cG9ydHMsIGFuZCBtb2R1bGUuIEF2b2lkIGRvaW5nIGV4cG9ydHMgYW5kIG1vZHVsZQogICAgICAgICAgICAgICAgLy93b3JrIHRob3VnaCBpZiBpdCBqdXN0IG5lZWRzIHJlcXVpcmUuCiAgICAgICAgICAgICAgICAvL1JFUVVJUkVTIHRoZSBmdW5jdGlvbiB0byBleHBlY3QgdGhlIENvbW1vbkpTIHZhcmlhYmxlcyBpbiB0aGUKICAgICAgICAgICAgICAgIC8vb3JkZXIgbGlzdGVkIGJlbG93LgogICAgICAgICAgICAgICAgZGVwcyA9IChjYWxsYmFjay5sZW5ndGggPT09IDEgPyBbJ3JlcXVpcmUnXSA6IFsncmVxdWlyZScsICdleHBvcnRzJywgJ21vZHVsZSddKS5jb25jYXQoZGVwcyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vSWYgaW4gSUUgNi04IGFuZCBoaXQgYW4gYW5vbnltb3VzIGRlZmluZSgpIGNhbGwsIGRvIHRoZSBpbnRlcmFjdGl2ZQogICAgICAgIC8vd29yay4KICAgICAgICBpZiAodXNlSW50ZXJhY3RpdmUpIHsKICAgICAgICAgICAgbm9kZSA9IGN1cnJlbnRseUFkZGluZ1NjcmlwdCB8fCBnZXRJbnRlcmFjdGl2ZVNjcmlwdCgpOwogICAgICAgICAgICBpZiAobm9kZSkgewogICAgICAgICAgICAgICAgaWYgKCFuYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IG5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLXJlcXVpcmVtb2R1bGUnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjb250ZXh0c1tub2RlLmdldEF0dHJpYnV0ZSgnZGF0YS1yZXF1aXJlY29udGV4dCcpXTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy9BbHdheXMgc2F2ZSBvZmYgZXZhbHVhdGluZyB0aGUgZGVmIGNhbGwgdW50aWwgdGhlIHNjcmlwdCBvbmxvYWQgaGFuZGxlci4KICAgICAgICAvL1RoaXMgYWxsb3dzIG11bHRpcGxlIG1vZHVsZXMgdG8gYmUgaW4gYSBmaWxlIHdpdGhvdXQgcHJlbWF0dXJlbHkKICAgICAgICAvL3RyYWNpbmcgZGVwZW5kZW5jaWVzLCBhbmQgYWxsb3dzIGZvciBhbm9ueW1vdXMgbW9kdWxlIHN1cHBvcnQsCiAgICAgICAgLy93aGVyZSB0aGUgbW9kdWxlIG5hbWUgaXMgbm90IGtub3duIHVudGlsIHRoZSBzY3JpcHQgb25sb2FkIGV2ZW50CiAgICAgICAgLy9vY2N1cnMuIElmIG5vIGNvbnRleHQsIHVzZSB0aGUgZ2xvYmFsIHF1ZXVlLCBhbmQgZ2V0IGl0IHByb2Nlc3NlZAogICAgICAgIC8vaW4gdGhlIG9uc2NyaXB0IGxvYWQgY2FsbGJhY2suCiAgICAgICAgaWYgKGNvbnRleHQpIHsKICAgICAgICAgICAgY29udGV4dC5kZWZRdWV1ZS5wdXNoKFtuYW1lLCBkZXBzLCBjYWxsYmFja10pOwogICAgICAgICAgICBjb250ZXh0LmRlZlF1ZXVlTWFwW25hbWVdID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBnbG9iYWxEZWZRdWV1ZS5wdXNoKFtuYW1lLCBkZXBzLCBjYWxsYmFja10pOwogICAgICAgIH0KICAgIH07CgogICAgZGVmaW5lLmFtZCA9IHsKICAgICAgICBqUXVlcnk6IHRydWUKICAgIH07CgogICAgLyoqCiAgICAgKiBFeGVjdXRlcyB0aGUgdGV4dC4gTm9ybWFsbHkganVzdCB1c2VzIGV2YWwsIGJ1dCBjYW4gYmUgbW9kaWZpZWQKICAgICAqIHRvIHVzZSBhIGJldHRlciwgZW52aXJvbm1lbnQtc3BlY2lmaWMgY2FsbC4gT25seSB1c2VkIGZvciB0cmFuc3BpbGluZwogICAgICogbG9hZGVyIHBsdWdpbnMsIG5vdCBmb3IgcGxhaW4gSlMgbW9kdWxlcy4KICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IHRoZSB0ZXh0IHRvIGV4ZWN1dGUvZXZhbHVhdGUuCiAgICAgKi8KICAgIHJlcS5leGVjID0gZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICAvKmpzbGludCBldmlsOiB0cnVlICovCiAgICAgICAgcmV0dXJuIGV2YWwodGV4dCk7CiAgICB9OwoKICAgIC8vU2V0IHVwIHdpdGggY29uZmlnIGluZm8uCiAgICByZXEoY2ZnKTsKfSh0aGlzKSk7Cg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <HTTPPropertySet>
          <HTTPProperty name="StreamID">7</HTTPProperty>
          <HTTPProperty name="TotalHeadersSize">273</HTTPProperty>
        </HTTPPropertySet>
      </HTTPResponse>
    </HTTPTask>
  </HTTPTask>
  <HTTPTask id="5" hostname="www.advantageonlineshopping.com" path="/main.min.js" url="https://www.advantageonlineshopping.com/main.min.js" ip="54.227.55.203" port="443" client_ip="192.168.0.11" client_port="21440" connectionId="2288" origin="ExtraRes" encodingType="ANSI" ordinal="1" startDateTime="2023-05-24T16:05:41.976+03:00" startTime="852" endTime="2441" blockedTime="-1" dnsTime="-1" connectTime="-2" sendTime="4294967295" waitTime="4294967295" receiveTime="1249" sslNegotiateTime="-1" responseBodySize="268516">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name=":method" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VU</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name=":scheme" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name=":path" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>L21haW4ubWluLmpz</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name=":authority" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>d3d3LmFkdmFudGFnZW9ubGluZXNob3BwaW5nLmNvbQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly93d3cuYWR2YW50YWdlb25saW5lc2hvcHBpbmcuY29tLw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Site" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm9uZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Mode" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bmF2aWdhdGU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Dest" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZG9jdW1lbnQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-User" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>PzE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Upgrade-Insecure-Requests" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="sec-ch-ua" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ikdvb2dsZSBDaHJvbWUiO3Y9IjExMyIsICJDaHJvbWl1bSI7dj0iMTEzIiwgIk5vdC1BLkJyYW5kIjt2PSIyNCI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="sec-ch-ua-mobile" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>PzA=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="sec-ch-ua-platform" index="12">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IldpbmRvd3Mi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="13">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzExMy4wLjAuMCBTYWZhcmkvNTM3LjM2</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="14">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZSwgYnI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="15">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cnUtUlUscnU7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjc=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="16">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="cookie" index="17">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>X2dhPUdBMS4yLjUxODEzNzM3OC4xNjg0NzQyNjEwOyBfZ2lkPUdBMS4yLjE3NzgxMzUwMDMuMTY4NDc0MjYxMDsgdXNlckNhcnQ9JTdCJTIydXNlcklkJTIyJTNBLTElMkMlMjJwcm9kdWN0c0luQ2FydCUyMiUzQSU1QiU1RCU3RA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Om1ldGhvZDogR0VUDQo6c2NoZW1lOiBodHRwcw0KOnBhdGg6IC9tYWluLm1pbi5qcw0KOmF1dGhvcml0eTogd3d3LmFkdmFudGFnZW9ubGluZXNob3BwaW5nLmNvbQ0KUmVmZXJlcjogaHR0cHM6Ly93d3cuYWR2YW50YWdlb25saW5lc2hvcHBpbmcuY29tLw0KU2VjLUZldGNoLVNpdGU6IG5vbmUNClNlYy1GZXRjaC1Nb2RlOiBuYXZpZ2F0ZQ0KU2VjLUZldGNoLURlc3Q6IGRvY3VtZW50DQpTZWMtRmV0Y2gtVXNlcjogPzENClVwZ3JhZGUtSW5zZWN1cmUtUmVxdWVzdHM6IDENCnNlYy1jaC11YTogIkdvb2dsZSBDaHJvbWUiO3Y9IjExMyIsICJDaHJvbWl1bSI7dj0iMTEzIiwgIk5vdC1BLkJyYW5kIjt2PSIyNCINCnNlYy1jaC11YS1tb2JpbGU6ID8wDQpzZWMtY2gtdWEtcGxhdGZvcm06ICJXaW5kb3dzIg0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzExMy4wLjAuMCBTYWZhcmkvNTM3LjM2DQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUsIGJyDQpBY2NlcHQtTGFuZ3VhZ2U6IHJ1LVJVLHJ1O3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43DQpBY2NlcHQ6ICovKg0KY29va2llOiBfZ2E9R0ExLjIuNTE4MTM3Mzc4LjE2ODQ3NDI2MTA7IF9naWQ9R0ExLjIuMTc3ODEzNTAwMy4xNjg0NzQyNjEwOyB1c2VyQ2FydD0lN0IlMjJ1c2VySWQlMjIlM0EtMSUyQyUyMnByb2R1Y3RzSW5DYXJ0JTIyJTNBJTVCJTVEJTdEDQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="_ga" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0ExLjIuNTE4MTM3Mzc4LjE2ODQ3NDI2MTA=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="_gid" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0ExLjIuMTc3ODEzNTAwMy4xNjg0NzQyNjEw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="userCart" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>JTdCJTIydXNlcklkJTIyJTNBLTElMkMlMjJwcm9kdWN0c0luQ2FydCUyMiUzQSU1QiU1RCU3RA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
      <HTTPPropertySet>
        <HTTPProperty name="StreamID">9</HTTPProperty>
        <HTTPProperty name="TotalHeadersSize">33</HTTPProperty>
      </HTTPPropertySet>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>0</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Status" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MjAw</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="server" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bmdpbngvMS4xOC4wIChVYnVudHUp</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="date" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>V2VkLCAyNCBNYXkgMjAyMyAxMzowNTo0MyBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="content-type" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="accept-ranges" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="etag" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Vy8iMTEzNzQ3MC0xNjQxODEwNTEyMDAwIg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="last-modified" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW9uLCAxMCBKYW4gMjAyMiAxMDoyODozMiBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="cache-control" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT02MDA=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="expires" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>V2VkLCAyNCBNYXkgMjAyMyAxMzoxNTo0MyBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="vary" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YWNjZXB0LWVuY29kaW5n</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="content-encoding" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="strict-transport-security" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0zMTUzNjAwMDsgaW5jbHVkZVN1YkRvbWFpbnM7IHByZWxvYWQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8yLjAgMjAwDQpTdGF0dXM6IDIwMA0Kc2VydmVyOiBuZ2lueC8xLjE4LjAgKFVidW50dSkNCmRhdGU6IFdlZCwgMjQgTWF5IDIwMjMgMTM6MDU6NDMgR01UDQpjb250ZW50LXR5cGU6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQNCmFjY2VwdC1yYW5nZXM6IGJ5dGVzDQpldGFnOiBXLyIxMTM3NDcwLTE2NDE4MTA1MTIwMDAiDQpsYXN0LW1vZGlmaWVkOiBNb24sIDEwIEphbiAyMDIyIDEwOjI4OjMyIEdNVA0KY2FjaGUtY29udHJvbDogbWF4LWFnZT02MDANCmV4cGlyZXM6IFdlZCwgMjQgTWF5IDIwMjMgMTM6MTU6NDMgR01UDQp2YXJ5OiBhY2NlcHQtZW5jb2RpbmcNCmNvbnRlbnQtZW5jb2Rpbmc6IGd6aXANCnN0cmljdC10cmFuc3BvcnQtc2VjdXJpdHk6IG1heC1hZ2U9MzE1MzYwMDA7IGluY2x1ZGVTdWJEb21haW5zOyBwcmVsb2FkDQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>LyoKIEFuZ3VsYXJKUyB2MS40LjE0CiAoYykgMjAxMC0yMDE1IEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhcmpzLm9yZwogTGljZW5zZTogTUlUCiovCihmdW5jdGlvbihSLFUseCl7J3VzZSBzdHJpY3QnO2Z1bmN0aW9uIEIoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9YXJndW1lbnRzWzBdLGQ7ZD0iWyIrKGE/YSsiOiI6IiIpK2IrIl0gaHR0cDovL2Vycm9ycy5hbmd1bGFyanMub3JnLzEuNC4xNC8iKyhhP2ErIi8iOiIiKStiO2ZvcihiPTE7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKyl7ZD1kKygxPT1iPyI/IjoiJiIpKyJwIisoYi0xKSsiPSI7dmFyIGM9ZW5jb2RlVVJJQ29tcG9uZW50LGU7ZT1hcmd1bWVudHNbYl07ZT0iZnVuY3Rpb24iPT10eXBlb2YgZT9lLnRvU3RyaW5nKCkucmVwbGFjZSgvIFx7W1xzXFNdKiQvLCIiKToidW5kZWZpbmVkIj09dHlwZW9mIGU/InVuZGVmaW5lZCI6InN0cmluZyIhPXR5cGVvZiBlP0pTT04uc3RyaW5naWZ5KGUpOmU7ZCs9YyhlKX1yZXR1cm4gRXJyb3IoZCl9fWZ1bmN0aW9uIEFhKGEpe2lmKG51bGw9PWF8fFlhKGEpKXJldHVybiExO2lmKEwoYSl8fEgoYSl8fEQmJmEgaW5zdGFuY2VvZiBEKXJldHVybiEwOwp2YXIgYj0ibGVuZ3RoImluIE9iamVjdChhKSYmYS5sZW5ndGg7cmV0dXJuIFAoYikmJigwPD1iJiYoYi0xIGluIGF8fGEgaW5zdGFuY2VvZiBBcnJheSl8fCJmdW5jdGlvbiI9PXR5cGVvZiBhLml0ZW0pfWZ1bmN0aW9uIHAoYSxiLGQpe3ZhciBjLGU7aWYoYSlpZihHKGEpKWZvcihjIGluIGEpInByb3RvdHlwZSI9PWN8fCJsZW5ndGgiPT1jfHwibmFtZSI9PWN8fGEuaGFzT3duUHJvcGVydHkmJiFhLmhhc093blByb3BlcnR5KGMpfHxiLmNhbGwoZCxhW2NdLGMsYSk7ZWxzZSBpZihMKGEpfHxBYShhKSl7dmFyIGY9Im9iamVjdCIhPT10eXBlb2YgYTtjPTA7Zm9yKGU9YS5sZW5ndGg7YzxlO2MrKykoZnx8YyBpbiBhKSYmYi5jYWxsKGQsYVtjXSxjLGEpfWVsc2UgaWYoYS5mb3JFYWNoJiZhLmZvckVhY2ghPT1wKWEuZm9yRWFjaChiLGQsYSk7ZWxzZSBpZihuYyhhKSlmb3IoYyBpbiBhKWIuY2FsbChkLGFbY10sYyxhKTtlbHNlIGlmKCJmdW5jdGlvbiI9PT10eXBlb2YgYS5oYXNPd25Qcm9wZXJ0eSlmb3IoYyBpbiBhKWEuaGFzT3duUHJvcGVydHkoYykmJgpiLmNhbGwoZCxhW2NdLGMsYSk7ZWxzZSBmb3IoYyBpbiBhKXNhLmNhbGwoYSxjKSYmYi5jYWxsKGQsYVtjXSxjLGEpO3JldHVybiBhfWZ1bmN0aW9uIG9jKGEsYixkKXtmb3IodmFyIGM9T2JqZWN0LmtleXMoYSkuc29ydCgpLGU9MDtlPGMubGVuZ3RoO2UrKyliLmNhbGwoZCxhW2NbZV1dLGNbZV0pO3JldHVybiBjfWZ1bmN0aW9uIHBjKGEpe3JldHVybiBmdW5jdGlvbihiLGQpe2EoZCxiKX19ZnVuY3Rpb24gWGQoKXtyZXR1cm4rK21ifWZ1bmN0aW9uIE1iKGEsYixkKXtmb3IodmFyIGM9YS4kJGhhc2hLZXksZT0wLGY9Yi5sZW5ndGg7ZTxmOysrZSl7dmFyIGc9YltlXTtpZihLKGcpfHxHKGcpKWZvcih2YXIgaD1PYmplY3Qua2V5cyhnKSxrPTAsbT1oLmxlbmd0aDtrPG07aysrKXt2YXIgbD1oW2tdLG49Z1tsXTtkJiZLKG4pP2VhKG4pP2FbbF09bmV3IERhdGUobi52YWx1ZU9mKCkpOkxhKG4pP2FbbF09bmV3IFJlZ0V4cChuKTpuLm5vZGVOYW1lP2FbbF09bi5jbG9uZU5vZGUoITApOgpOYihuKT9hW2xdPW4uY2xvbmUoKTooSyhhW2xdKXx8KGFbbF09TChuKT9bXTp7fSksTWIoYVtsXSxbbl0sITApKTphW2xdPW59fWM/YS4kJGhhc2hLZXk9YzpkZWxldGUgYS4kJGhhc2hLZXk7cmV0dXJuIGF9ZnVuY3Rpb24gTihhKXtyZXR1cm4gTWIoYSx0YS5jYWxsKGFyZ3VtZW50cywxKSwhMSl9ZnVuY3Rpb24gWWQoYSl7cmV0dXJuIE1iKGEsdGEuY2FsbChhcmd1bWVudHMsMSksITApfWZ1bmN0aW9uIGNhKGEpe3JldHVybiBwYXJzZUludChhLDEwKX1mdW5jdGlvbiBPYihhLGIpe3JldHVybiBOKE9iamVjdC5jcmVhdGUoYSksYil9ZnVuY3Rpb24gdigpe31mdW5jdGlvbiBaYShhKXtyZXR1cm4gYX1mdW5jdGlvbiBtYShhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYX19ZnVuY3Rpb24gcWMoYSl7cmV0dXJuIEcoYS50b1N0cmluZykmJmEudG9TdHJpbmchPT1uYX1mdW5jdGlvbiByKGEpe3JldHVybiJ1bmRlZmluZWQiPT09dHlwZW9mIGF9ZnVuY3Rpb24gdShhKXtyZXR1cm4idW5kZWZpbmVkIiE9PQp0eXBlb2YgYX1mdW5jdGlvbiBLKGEpe3JldHVybiBudWxsIT09YSYmIm9iamVjdCI9PT10eXBlb2YgYX1mdW5jdGlvbiBuYyhhKXtyZXR1cm4gbnVsbCE9PWEmJiJvYmplY3QiPT09dHlwZW9mIGEmJiFyYyhhKX1mdW5jdGlvbiBIKGEpe3JldHVybiJzdHJpbmciPT09dHlwZW9mIGF9ZnVuY3Rpb24gUChhKXtyZXR1cm4ibnVtYmVyIj09PXR5cGVvZiBhfWZ1bmN0aW9uIGVhKGEpe3JldHVybiJbb2JqZWN0IERhdGVdIj09PW5hLmNhbGwoYSl9ZnVuY3Rpb24gRyhhKXtyZXR1cm4iZnVuY3Rpb24iPT09dHlwZW9mIGF9ZnVuY3Rpb24gTGEoYSl7cmV0dXJuIltvYmplY3QgUmVnRXhwXSI9PT1uYS5jYWxsKGEpfWZ1bmN0aW9uIFlhKGEpe3JldHVybiBhJiZhLndpbmRvdz09PWF9ZnVuY3Rpb24gJGEoYSl7cmV0dXJuIGEmJmEuJGV2YWxBc3luYyYmYS4kd2F0Y2h9ZnVuY3Rpb24gTWEoYSl7cmV0dXJuImJvb2xlYW4iPT09dHlwZW9mIGF9ZnVuY3Rpb24gc2MoYSl7cmV0dXJuIGEmJlAoYS5sZW5ndGgpJiYKWmQudGVzdChuYS5jYWxsKGEpKX1mdW5jdGlvbiBOYihhKXtyZXR1cm4hKCFhfHwhKGEubm9kZU5hbWV8fGEucHJvcCYmYS5hdHRyJiZhLmZpbmQpKX1mdW5jdGlvbiAkZChhKXt2YXIgYj17fTthPWEuc3BsaXQoIiwiKTt2YXIgZDtmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKWJbYVtkXV09ITA7cmV0dXJuIGJ9ZnVuY3Rpb24gb2EoYSl7cmV0dXJuIE0oYS5ub2RlTmFtZXx8YVswXSYmYVswXS5ub2RlTmFtZSl9ZnVuY3Rpb24gYWIoYSxiKXt2YXIgZD1hLmluZGV4T2YoYik7MDw9ZCYmYS5zcGxpY2UoZCwxKTtyZXR1cm4gZH1mdW5jdGlvbiBOYShhLGIpe2Z1bmN0aW9uIGQoYSxiKXt2YXIgZD1iLiQkaGFzaEtleSxlO2lmKEwoYSkpe2U9MDtmb3IodmFyIGY9YS5sZW5ndGg7ZTxmO2UrKyliLnB1c2goYyhhW2VdKSl9ZWxzZSBpZihuYyhhKSlmb3IoZSBpbiBhKWJbZV09YyhhW2VdKTtlbHNlIGlmKGEmJiJmdW5jdGlvbiI9PT10eXBlb2YgYS5oYXNPd25Qcm9wZXJ0eSlmb3IoZSBpbiBhKWEuaGFzT3duUHJvcGVydHkoZSkmJgooYltlXT1jKGFbZV0pKTtlbHNlIGZvcihlIGluIGEpc2EuY2FsbChhLGUpJiYoYltlXT1jKGFbZV0pKTtkP2IuJCRoYXNoS2V5PWQ6ZGVsZXRlIGIuJCRoYXNoS2V5O3JldHVybiBifWZ1bmN0aW9uIGMoYSl7aWYoIUsoYSkpcmV0dXJuIGE7dmFyIGI9ZS5pbmRleE9mKGEpO2lmKC0xIT09YilyZXR1cm4gZltiXTtpZihZYShhKXx8JGEoYSkpdGhyb3cgQmEoImNwd3MiKTt2YXIgYj0hMSxjO0woYSk/KGM9W10sYj0hMCk6c2MoYSk/Yz1uZXcgYS5jb25zdHJ1Y3RvcihhKTplYShhKT9jPW5ldyBEYXRlKGEuZ2V0VGltZSgpKTpMYShhKT8oYz1uZXcgUmVnRXhwKGEuc291cmNlLGEudG9TdHJpbmcoKS5tYXRjaCgvW15cL10qJC8pWzBdKSxjLmxhc3RJbmRleD1hLmxhc3RJbmRleCk6IltvYmplY3QgQmxvYl0iPT09bmEuY2FsbChhKT9jPW5ldyBhLmNvbnN0cnVjdG9yKFthXSx7dHlwZTphLnR5cGV9KTpHKGEuY2xvbmVOb2RlKT9jPWEuY2xvbmVOb2RlKCEwKTooYz1PYmplY3QuY3JlYXRlKHJjKGEpKSwKYj0hMCk7ZS5wdXNoKGEpO2YucHVzaChjKTtyZXR1cm4gYj9kKGEsYyk6Y312YXIgZT1bXSxmPVtdO2lmKGIpe2lmKHNjKGIpKXRocm93IEJhKCJjcHRhIik7aWYoYT09PWIpdGhyb3cgQmEoImNwaSIpO0woYik/Yi5sZW5ndGg9MDpwKGIsZnVuY3Rpb24oYSxjKXsiJCRoYXNoS2V5IiE9PWMmJmRlbGV0ZSBiW2NdfSk7ZS5wdXNoKGEpO2YucHVzaChiKTtyZXR1cm4gZChhLGIpfXJldHVybiBjKGEpfWZ1bmN0aW9uIGZhKGEsYil7aWYoTChhKSl7Yj1ifHxbXTtmb3IodmFyIGQ9MCxjPWEubGVuZ3RoO2Q8YztkKyspYltkXT1hW2RdfWVsc2UgaWYoSyhhKSlmb3IoZCBpbiBiPWJ8fHt9LGEpaWYoIiQiIT09ZC5jaGFyQXQoMCl8fCIkIiE9PWQuY2hhckF0KDEpKWJbZF09YVtkXTtyZXR1cm4gYnx8YX1mdW5jdGlvbiBsYShhLGIpe2lmKGE9PT1iKXJldHVybiEwO2lmKG51bGw9PT1hfHxudWxsPT09YilyZXR1cm4hMTtpZihhIT09YSYmYiE9PWIpcmV0dXJuITA7dmFyIGQ9dHlwZW9mIGEsCmM7aWYoZD09dHlwZW9mIGImJiJvYmplY3QiPT1kKWlmKEwoYSkpe2lmKCFMKGIpKXJldHVybiExO2lmKChkPWEubGVuZ3RoKT09Yi5sZW5ndGgpe2ZvcihjPTA7YzxkO2MrKylpZighbGEoYVtjXSxiW2NdKSlyZXR1cm4hMTtyZXR1cm4hMH19ZWxzZXtpZihlYShhKSlyZXR1cm4gZWEoYik/bGEoYS5nZXRUaW1lKCksYi5nZXRUaW1lKCkpOiExO2lmKExhKGEpKXJldHVybiBMYShiKT9hLnRvU3RyaW5nKCk9PWIudG9TdHJpbmcoKTohMTtpZigkYShhKXx8JGEoYil8fFlhKGEpfHxZYShiKXx8TChiKXx8ZWEoYil8fExhKGIpKXJldHVybiExO2Q9WigpO2ZvcihjIGluIGEpaWYoIiQiIT09Yy5jaGFyQXQoMCkmJiFHKGFbY10pKXtpZighbGEoYVtjXSxiW2NdKSlyZXR1cm4hMTtkW2NdPSEwfWZvcihjIGluIGIpaWYoIShjIGluIGQpJiYiJCIhPT1jLmNoYXJBdCgwKSYmdShiW2NdKSYmIUcoYltjXSkpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gYmIoYSxiLGQpe3JldHVybiBhLmNvbmNhdCh0YS5jYWxsKGIsCmQpKX1mdW5jdGlvbiB0YyhhLGIpe3ZhciBkPTI8YXJndW1lbnRzLmxlbmd0aD90YS5jYWxsKGFyZ3VtZW50cywyKTpbXTtyZXR1cm4hRyhiKXx8YiBpbnN0YW5jZW9mIFJlZ0V4cD9iOmQubGVuZ3RoP2Z1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/Yi5hcHBseShhLGJiKGQsYXJndW1lbnRzLDApKTpiLmFwcGx5KGEsZCl9OmZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/Yi5hcHBseShhLGFyZ3VtZW50cyk6Yi5jYWxsKGEpfX1mdW5jdGlvbiBhZShhLGIpe3ZhciBkPWI7InN0cmluZyI9PT10eXBlb2YgYSYmIiQiPT09YS5jaGFyQXQoMCkmJiIkIj09PWEuY2hhckF0KDEpP2Q9eDpZYShiKT9kPSIkV0lORE9XIjpiJiZVPT09Yj9kPSIkRE9DVU1FTlQiOiRhKGIpJiYoZD0iJFNDT1BFIik7cmV0dXJuIGR9ZnVuY3Rpb24gY2IoYSxiKXtpZihyKGEpKXJldHVybiB4O1AoYil8fChiPWI/MjpudWxsKTtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoYSxhZSxiKX1mdW5jdGlvbiB1YyhhKXtyZXR1cm4gSChhKT8KSlNPTi5wYXJzZShhKTphfWZ1bmN0aW9uIHZjKGEsYil7YT1hLnJlcGxhY2UoYmUsIiIpO3ZhciBkPURhdGUucGFyc2UoIkphbiAwMSwgMTk3MCAwMDowMDowMCAiK2EpLzZFNDtyZXR1cm4gaXNOYU4oZCk/YjpkfWZ1bmN0aW9uIFBiKGEsYixkKXtkPWQ/LTE6MTt2YXIgYz1hLmdldFRpbWV6b25lT2Zmc2V0KCk7Yj12YyhiLGMpO2QqPWItYzthPW5ldyBEYXRlKGEuZ2V0VGltZSgpKTthLnNldE1pbnV0ZXMoYS5nZXRNaW51dGVzKCkrZCk7cmV0dXJuIGF9ZnVuY3Rpb24gdWEoYSl7YT1EKGEpLmNsb25lKCk7dHJ5e2EuZW1wdHkoKX1jYXRjaChiKXt9dmFyIGQ9RCgiPGRpdj4iKS5hcHBlbmQoYSkuaHRtbCgpO3RyeXtyZXR1cm4gYVswXS5ub2RlVHlwZT09PU9hP00oZCk6ZC5tYXRjaCgvXig8W14+XSs+KS8pWzFdLnJlcGxhY2UoL148KFtcd1wtXSspLyxmdW5jdGlvbihhLGIpe3JldHVybiI8IitNKGIpfSl9Y2F0Y2goYyl7cmV0dXJuIE0oZCl9fWZ1bmN0aW9uIHdjKGEpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGEpfWNhdGNoKGIpe319CmZ1bmN0aW9uIHhjKGEpe3ZhciBiPXt9O3AoKGF8fCIiKS5zcGxpdCgiJiIpLGZ1bmN0aW9uKGEpe3ZhciBjLGUsZjthJiYoZT1hPWEucmVwbGFjZSgvXCsvZywiJTIwIiksYz1hLmluZGV4T2YoIj0iKSwtMSE9PWMmJihlPWEuc3Vic3RyaW5nKDAsYyksZj1hLnN1YnN0cmluZyhjKzEpKSxlPXdjKGUpLHUoZSkmJihmPXUoZik/d2MoZik6ITAsc2EuY2FsbChiLGUpP0woYltlXSk/YltlXS5wdXNoKGYpOmJbZV09W2JbZV0sZl06YltlXT1mKSl9KTtyZXR1cm4gYn1mdW5jdGlvbiBRYihhKXt2YXIgYj1bXTtwKGEsZnVuY3Rpb24oYSxjKXtMKGEpP3AoYSxmdW5jdGlvbihhKXtiLnB1c2goaGEoYywhMCkrKCEwPT09YT8iIjoiPSIraGEoYSwhMCkpKX0pOmIucHVzaChoYShjLCEwKSsoITA9PT1hPyIiOiI9IitoYShhLCEwKSkpfSk7cmV0dXJuIGIubGVuZ3RoP2Iuam9pbigiJiIpOiIifWZ1bmN0aW9uIG5iKGEpe3JldHVybiBoYShhLCEwKS5yZXBsYWNlKC8lMjYvZ2ksIiYiKS5yZXBsYWNlKC8lM0QvZ2ksCiI9IikucmVwbGFjZSgvJTJCL2dpLCIrIil9ZnVuY3Rpb24gaGEoYSxiKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGEpLnJlcGxhY2UoLyU0MC9naSwiQCIpLnJlcGxhY2UoLyUzQS9naSwiOiIpLnJlcGxhY2UoLyUyNC9nLCIkIikucmVwbGFjZSgvJTJDL2dpLCIsIikucmVwbGFjZSgvJTNCL2dpLCI7IikucmVwbGFjZSgvJTIwL2csYj8iJTIwIjoiKyIpfWZ1bmN0aW9uIGNlKGEsYil7dmFyIGQsYyxlPVBhLmxlbmd0aDtmb3IoYz0wO2M8ZTsrK2MpaWYoZD1QYVtjXStiLEgoZD1hLmdldEF0dHJpYnV0ZShkKSkpcmV0dXJuIGQ7cmV0dXJuIG51bGx9ZnVuY3Rpb24gZGUoYSxiKXt2YXIgZCxjLGU9e307cChQYSxmdW5jdGlvbihiKXtiKz0iYXBwIjshZCYmYS5oYXNBdHRyaWJ1dGUmJmEuaGFzQXR0cmlidXRlKGIpJiYoZD1hLGM9YS5nZXRBdHRyaWJ1dGUoYikpfSk7cChQYSxmdW5jdGlvbihiKXtiKz0iYXBwIjt2YXIgZTshZCYmKGU9YS5xdWVyeVNlbGVjdG9yKCJbIitiLnJlcGxhY2UoIjoiLAoiXFw6IikrIl0iKSkmJihkPWUsYz1lLmdldEF0dHJpYnV0ZShiKSl9KTtkJiYoZS5zdHJpY3REaT1udWxsIT09Y2UoZCwic3RyaWN0LWRpIiksYihkLGM/W2NdOltdLGUpKX1mdW5jdGlvbiB5YyhhLGIsZCl7SyhkKXx8KGQ9e30pO2Q9Tih7c3RyaWN0RGk6ITF9LGQpO3ZhciBjPWZ1bmN0aW9uKCl7YT1EKGEpO2lmKGEuaW5qZWN0b3IoKSl7dmFyIGM9YVswXT09PVU/ImRvY3VtZW50Ijp1YShhKTt0aHJvdyBCYSgiYnRzdHJwZCIsYy5yZXBsYWNlKC88LywiJmx0OyIpLnJlcGxhY2UoLz4vLCImZ3Q7IikpO31iPWJ8fFtdO2IudW5zaGlmdChbIiRwcm92aWRlIixmdW5jdGlvbihiKXtiLnZhbHVlKCIkcm9vdEVsZW1lbnQiLGEpfV0pO2QuZGVidWdJbmZvRW5hYmxlZCYmYi5wdXNoKFsiJGNvbXBpbGVQcm92aWRlciIsZnVuY3Rpb24oYSl7YS5kZWJ1Z0luZm9FbmFibGVkKCEwKX1dKTtiLnVuc2hpZnQoIm5nIik7Yz1kYihiLGQuc3RyaWN0RGkpO2MuaW52b2tlKFsiJHJvb3RTY29wZSIsCiIkcm9vdEVsZW1lbnQiLCIkY29tcGlsZSIsIiRpbmplY3RvciIsZnVuY3Rpb24oYSxiLGMsZCl7YS4kYXBwbHkoZnVuY3Rpb24oKXtiLmRhdGEoIiRpbmplY3RvciIsZCk7YyhiKShhKX0pfV0pO3JldHVybiBjfSxlPS9eTkdfRU5BQkxFX0RFQlVHX0lORk8hLyxmPS9eTkdfREVGRVJfQk9PVFNUUkFQIS87UiYmZS50ZXN0KFIubmFtZSkmJihkLmRlYnVnSW5mb0VuYWJsZWQ9ITAsUi5uYW1lPVIubmFtZS5yZXBsYWNlKGUsIiIpKTtpZihSJiYhZi50ZXN0KFIubmFtZSkpcmV0dXJuIGMoKTtSLm5hbWU9Ui5uYW1lLnJlcGxhY2UoZiwiIik7ZGEucmVzdW1lQm9vdHN0cmFwPWZ1bmN0aW9uKGEpe3AoYSxmdW5jdGlvbihhKXtiLnB1c2goYSl9KTtyZXR1cm4gYygpfTtHKGRhLnJlc3VtZURlZmVycmVkQm9vdHN0cmFwKSYmZGEucmVzdW1lRGVmZXJyZWRCb290c3RyYXAoKX1mdW5jdGlvbiBlZSgpe1IubmFtZT0iTkdfRU5BQkxFX0RFQlVHX0lORk8hIitSLm5hbWU7Ui5sb2NhdGlvbi5yZWxvYWQoKX0KZnVuY3Rpb24gZmUoYSl7YT1kYS5lbGVtZW50KGEpLmluamVjdG9yKCk7aWYoIWEpdGhyb3cgQmEoInRlc3QiKTtyZXR1cm4gYS5nZXQoIiQkdGVzdGFiaWxpdHkiKX1mdW5jdGlvbiB6YyhhLGIpe2I9Ynx8Il8iO3JldHVybiBhLnJlcGxhY2UoZ2UsZnVuY3Rpb24oYSxjKXtyZXR1cm4oYz9iOiIiKSthLnRvTG93ZXJDYXNlKCl9KX1mdW5jdGlvbiBoZSgpe3ZhciBhO2lmKCFBYyl7dmFyIGI9b2IoKTsocGE9cihiKT9SLmpRdWVyeTpiP1JbYl06eCkmJnBhLmZuLm9uPyhEPXBhLE4ocGEuZm4se3Njb3BlOlFhLnNjb3BlLGlzb2xhdGVTY29wZTpRYS5pc29sYXRlU2NvcGUsY29udHJvbGxlcjpRYS5jb250cm9sbGVyLGluamVjdG9yOlFhLmluamVjdG9yLGluaGVyaXRlZERhdGE6UWEuaW5oZXJpdGVkRGF0YX0pLGE9cGEuY2xlYW5EYXRhLHBhLmNsZWFuRGF0YT1mdW5jdGlvbihiKXt2YXIgYztpZihSYilSYj0hMTtlbHNlIGZvcih2YXIgZT0wLGY7bnVsbCE9KGY9YltlXSk7ZSsrKShjPQpwYS5fZGF0YShmLCJldmVudHMiKSkmJmMuJGRlc3Ryb3kmJnBhKGYpLnRyaWdnZXJIYW5kbGVyKCIkZGVzdHJveSIpO2EoYil9KTpEPVM7ZGEuZWxlbWVudD1EO0FjPSEwfX1mdW5jdGlvbiBwYihhLGIsZCl7aWYoIWEpdGhyb3cgQmEoImFyZXEiLGJ8fCI/IixkfHwicmVxdWlyZWQiKTtyZXR1cm4gYX1mdW5jdGlvbiBSYShhLGIsZCl7ZCYmTChhKSYmKGE9YVthLmxlbmd0aC0xXSk7cGIoRyhhKSxiLCJub3QgYSBmdW5jdGlvbiwgZ290ICIrKGEmJiJvYmplY3QiPT09dHlwZW9mIGE/YS5jb25zdHJ1Y3Rvci5uYW1lfHwiT2JqZWN0Ijp0eXBlb2YgYSkpO3JldHVybiBhfWZ1bmN0aW9uIFNhKGEsYil7aWYoImhhc093blByb3BlcnR5Ij09PWEpdGhyb3cgQmEoImJhZG5hbWUiLGIpO31mdW5jdGlvbiBCYyhhLGIsZCl7aWYoIWIpcmV0dXJuIGE7Yj1iLnNwbGl0KCIuIik7Zm9yKHZhciBjLGU9YSxmPWIubGVuZ3RoLGc9MDtnPGY7ZysrKWM9YltnXSxhJiYoYT0oZT1hKVtjXSk7cmV0dXJuIWQmJgpHKGEpP3RjKGUsYSk6YX1mdW5jdGlvbiBxYihhKXtmb3IodmFyIGI9YVswXSxkPWFbYS5sZW5ndGgtMV0sYyxlPTE7YiE9PWQmJihiPWIubmV4dFNpYmxpbmcpO2UrKylpZihjfHxhW2VdIT09YiljfHwoYz1EKHRhLmNhbGwoYSwwLGUpKSksYy5wdXNoKGIpO3JldHVybiBjfHxhfWZ1bmN0aW9uIFooKXtyZXR1cm4gT2JqZWN0LmNyZWF0ZShudWxsKX1mdW5jdGlvbiBpZShhKXtmdW5jdGlvbiBiKGEsYixjKXtyZXR1cm4gYVtiXXx8KGFbYl09YygpKX12YXIgZD1CKCIkaW5qZWN0b3IiKSxjPUIoIm5nIik7YT1iKGEsImFuZ3VsYXIiLE9iamVjdCk7YS4kJG1pbkVycj1hLiQkbWluRXJyfHxCO3JldHVybiBiKGEsIm1vZHVsZSIsZnVuY3Rpb24oKXt2YXIgYT17fTtyZXR1cm4gZnVuY3Rpb24oZixnLGgpe2lmKCJoYXNPd25Qcm9wZXJ0eSI9PT1mKXRocm93IGMoImJhZG5hbWUiLCJtb2R1bGUiKTtnJiZhLmhhc093blByb3BlcnR5KGYpJiYoYVtmXT1udWxsKTtyZXR1cm4gYihhLGYsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsCmQsZSxmKXtmfHwoZj1jKTtyZXR1cm4gZnVuY3Rpb24oKXtmW2V8fCJwdXNoIl0oW2IsZCxhcmd1bWVudHNdKTtyZXR1cm4gdH19ZnVuY3Rpb24gYihhLGQpe3JldHVybiBmdW5jdGlvbihiLGUpe2UmJkcoZSkmJihlLiQkbW9kdWxlTmFtZT1mKTtjLnB1c2goW2EsZCxhcmd1bWVudHNdKTtyZXR1cm4gdH19aWYoIWcpdGhyb3cgZCgibm9tb2QiLGYpO3ZhciBjPVtdLGU9W10sSj1bXSx6PWEoIiRpbmplY3RvciIsImludm9rZSIsInB1c2giLGUpLHQ9e19pbnZva2VRdWV1ZTpjLF9jb25maWdCbG9ja3M6ZSxfcnVuQmxvY2tzOkoscmVxdWlyZXM6ZyxuYW1lOmYscHJvdmlkZXI6YigiJHByb3ZpZGUiLCJwcm92aWRlciIpLGZhY3Rvcnk6YigiJHByb3ZpZGUiLCJmYWN0b3J5Iiksc2VydmljZTpiKCIkcHJvdmlkZSIsInNlcnZpY2UiKSx2YWx1ZTphKCIkcHJvdmlkZSIsInZhbHVlIiksY29uc3RhbnQ6YSgiJHByb3ZpZGUiLCJjb25zdGFudCIsInVuc2hpZnQiKSxkZWNvcmF0b3I6YigiJHByb3ZpZGUiLAoiZGVjb3JhdG9yIiksYW5pbWF0aW9uOmIoIiRhbmltYXRlUHJvdmlkZXIiLCJyZWdpc3RlciIpLGZpbHRlcjpiKCIkZmlsdGVyUHJvdmlkZXIiLCJyZWdpc3RlciIpLGNvbnRyb2xsZXI6YigiJGNvbnRyb2xsZXJQcm92aWRlciIsInJlZ2lzdGVyIiksZGlyZWN0aXZlOmIoIiRjb21waWxlUHJvdmlkZXIiLCJkaXJlY3RpdmUiKSxjb25maWc6eixydW46ZnVuY3Rpb24oYSl7Si5wdXNoKGEpO3JldHVybiB0aGlzfX07aCYmeihoKTtyZXR1cm4gdH0pfX0pfWZ1bmN0aW9uIGplKGEpe04oYSx7Ym9vdHN0cmFwOnljLGNvcHk6TmEsZXh0ZW5kOk4sbWVyZ2U6WWQsZXF1YWxzOmxhLGVsZW1lbnQ6RCxmb3JFYWNoOnAsaW5qZWN0b3I6ZGIsbm9vcDp2LGJpbmQ6dGMsdG9Kc29uOmNiLGZyb21Kc29uOnVjLGlkZW50aXR5OlphLGlzVW5kZWZpbmVkOnIsaXNEZWZpbmVkOnUsaXNTdHJpbmc6SCxpc0Z1bmN0aW9uOkcsaXNPYmplY3Q6Syxpc051bWJlcjpQLGlzRWxlbWVudDpOYixpc0FycmF5OkwsCnZlcnNpb246a2UsaXNEYXRlOmVhLGxvd2VyY2FzZTpNLHVwcGVyY2FzZTpyYixjYWxsYmFja3M6e2NvdW50ZXI6MH0sZ2V0VGVzdGFiaWxpdHk6ZmUsJCRtaW5FcnI6QiwkJGNzcDpDYSxyZWxvYWRXaXRoRGVidWdJbmZvOmVlfSk7U2I9aWUoUik7U2IoIm5nIixbIm5nTG9jYWxlIl0sWyIkcHJvdmlkZSIsZnVuY3Rpb24oYSl7YS5wcm92aWRlcih7JCRzYW5pdGl6ZVVyaTpsZX0pO2EucHJvdmlkZXIoIiRjb21waWxlIixDYykuZGlyZWN0aXZlKHthOm1lLGlucHV0OkRjLHRleHRhcmVhOkRjLGZvcm06bmUsc2NyaXB0Om9lLHNlbGVjdDpwZSxzdHlsZTpxZSxvcHRpb246cmUsbmdCaW5kOnNlLG5nQmluZEh0bWw6dGUsbmdCaW5kVGVtcGxhdGU6dWUsbmdDbGFzczp2ZSxuZ0NsYXNzRXZlbjp3ZSxuZ0NsYXNzT2RkOnhlLG5nQ2xvYWs6eWUsbmdDb250cm9sbGVyOnplLG5nRm9ybTpBZSxuZ0hpZGU6QmUsbmdJZjpDZSxuZ0luY2x1ZGU6RGUsbmdJbml0OkVlLG5nTm9uQmluZGFibGU6RmUsCm5nUGx1cmFsaXplOkdlLG5nUmVwZWF0OkhlLG5nU2hvdzpJZSxuZ1N0eWxlOkplLG5nU3dpdGNoOktlLG5nU3dpdGNoV2hlbjpMZSxuZ1N3aXRjaERlZmF1bHQ6TWUsbmdPcHRpb25zOk5lLG5nVHJhbnNjbHVkZTpPZSxuZ01vZGVsOlBlLG5nTGlzdDpRZSxuZ0NoYW5nZTpSZSxwYXR0ZXJuOkVjLG5nUGF0dGVybjpFYyxyZXF1aXJlZDpGYyxuZ1JlcXVpcmVkOkZjLG1pbmxlbmd0aDpHYyxuZ01pbmxlbmd0aDpHYyxtYXhsZW5ndGg6SGMsbmdNYXhsZW5ndGg6SGMsbmdWYWx1ZTpTZSxuZ01vZGVsT3B0aW9uczpUZX0pLmRpcmVjdGl2ZSh7bmdJbmNsdWRlOlVlfSkuZGlyZWN0aXZlKHNiKS5kaXJlY3RpdmUoSWMpO2EucHJvdmlkZXIoeyRhbmNob3JTY3JvbGw6VmUsJGFuaW1hdGU6V2UsJGFuaW1hdGVDc3M6WGUsJCRhbmltYXRlSnM6WWUsJCRhbmltYXRlUXVldWU6WmUsJCRBbmltYXRlUnVubmVyOiRlLCQkYW5pbWF0ZUFzeW5jUnVuOmFmLCRicm93c2VyOmJmLCRjYWNoZUZhY3Rvcnk6Y2YsCiRjb250cm9sbGVyOmRmLCRkb2N1bWVudDplZiwkZXhjZXB0aW9uSGFuZGxlcjpmZiwkZmlsdGVyOkpjLCQkZm9yY2VSZWZsb3c6Z2YsJGludGVycG9sYXRlOmhmLCRpbnRlcnZhbDpqZiwkaHR0cDprZiwkaHR0cFBhcmFtU2VyaWFsaXplcjpsZiwkaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZTptZiwkaHR0cEJhY2tlbmQ6bmYsJHhockZhY3Rvcnk6b2YsJGxvY2F0aW9uOnBmLCRsb2c6cWYsJHBhcnNlOnJmLCRyb290U2NvcGU6c2YsJHE6dGYsJCRxOnVmLCRzY2U6dmYsJHNjZURlbGVnYXRlOndmLCRzbmlmZmVyOnhmLCR0ZW1wbGF0ZUNhY2hlOnlmLCR0ZW1wbGF0ZVJlcXVlc3Q6emYsJCR0ZXN0YWJpbGl0eTpBZiwkdGltZW91dDpCZiwkd2luZG93OkNmLCQkckFGOkRmLCQkanFMaXRlOkVmLCQkSGFzaE1hcDpGZiwkJGNvb2tpZVJlYWRlcjpHZn0pfV0pfWZ1bmN0aW9uIGViKGEpe3JldHVybiBhLnJlcGxhY2UoSGYsZnVuY3Rpb24oYSxkLGMsZSl7cmV0dXJuIGU/Yy50b1VwcGVyQ2FzZSgpOgpjfSkucmVwbGFjZShJZiwiTW96JDEiKX1mdW5jdGlvbiBLYyhhKXthPWEubm9kZVR5cGU7cmV0dXJuIDE9PT1hfHwhYXx8OT09PWF9ZnVuY3Rpb24gTGMoYSxiKXt2YXIgZCxjLGU9Yi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksZj1bXTtpZihUYi50ZXN0KGEpKXtkPWR8fGUuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KCJkaXYiKSk7Yz0oSmYuZXhlYyhhKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKTtjPWphW2NdfHxqYS5fZGVmYXVsdDtkLmlubmVySFRNTD1jWzFdK2EucmVwbGFjZShLZiwiPCQxPjwvJDI+IikrY1syXTtmb3IoYz1jWzBdO2MtLTspZD1kLmxhc3RDaGlsZDtmPWJiKGYsZC5jaGlsZE5vZGVzKTtkPWUuZmlyc3RDaGlsZDtkLnRleHRDb250ZW50PSIifWVsc2UgZi5wdXNoKGIuY3JlYXRlVGV4dE5vZGUoYSkpO2UudGV4dENvbnRlbnQ9IiI7ZS5pbm5lckhUTUw9IiI7cChmLGZ1bmN0aW9uKGEpe2UuYXBwZW5kQ2hpbGQoYSl9KTtyZXR1cm4gZX1mdW5jdGlvbiBNYyhhLApiKXt2YXIgZD1hLnBhcmVudE5vZGU7ZCYmZC5yZXBsYWNlQ2hpbGQoYixhKTtiLmFwcGVuZENoaWxkKGEpfWZ1bmN0aW9uIFMoYSl7aWYoYSBpbnN0YW5jZW9mIFMpcmV0dXJuIGE7dmFyIGI7SChhKSYmKGE9VChhKSxiPSEwKTtpZighKHRoaXMgaW5zdGFuY2VvZiBTKSl7aWYoYiYmIjwiIT1hLmNoYXJBdCgwKSl0aHJvdyBVYigibm9zZWwiKTtyZXR1cm4gbmV3IFMoYSl9aWYoYil7Yj1VO3ZhciBkO2E9KGQ9TGYuZXhlYyhhKSk/W2IuY3JlYXRlRWxlbWVudChkWzFdKV06KGQ9TGMoYSxiKSk/ZC5jaGlsZE5vZGVzOltdfU5jKHRoaXMsYSl9ZnVuY3Rpb24gVmIoYSl7cmV0dXJuIGEuY2xvbmVOb2RlKCEwKX1mdW5jdGlvbiB0YihhLGIpe2J8fHViKGEpO2lmKGEucXVlcnlTZWxlY3RvckFsbClmb3IodmFyIGQ9YS5xdWVyeVNlbGVjdG9yQWxsKCIqIiksYz0wLGU9ZC5sZW5ndGg7YzxlO2MrKyl1YihkW2NdKX1mdW5jdGlvbiBPYyhhLGIsZCxjKXtpZih1KGMpKXRocm93IFViKCJvZmZhcmdzIik7CnZhciBlPShjPXZiKGEpKSYmYy5ldmVudHMsZj1jJiZjLmhhbmRsZTtpZihmKWlmKGIpe3ZhciBnPWZ1bmN0aW9uKGIpe3ZhciBjPWVbYl07dShkKSYmYWIoY3x8W10sZCk7dShkKSYmYyYmMDxjLmxlbmd0aHx8KGEucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGYsITEpLGRlbGV0ZSBlW2JdKX07cChiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSl7ZyhhKTt3YlthXSYmZyh3YlthXSl9KX1lbHNlIGZvcihiIGluIGUpIiRkZXN0cm95IiE9PWImJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGYsITEpLGRlbGV0ZSBlW2JdfWZ1bmN0aW9uIHViKGEsYil7dmFyIGQ9YS5uZzMzOSxjPWQmJmZiW2RdO2MmJihiP2RlbGV0ZSBjLmRhdGFbYl06KGMuaGFuZGxlJiYoYy5ldmVudHMuJGRlc3Ryb3kmJmMuaGFuZGxlKHt9LCIkZGVzdHJveSIpLE9jKGEpKSxkZWxldGUgZmJbZF0sYS5uZzMzOT14KSl9ZnVuY3Rpb24gdmIoYSxiKXt2YXIgZD1hLm5nMzM5LGQ9ZCYmZmJbZF07YiYmIWQmJihhLm5nMzM5PWQ9KytNZiwKZD1mYltkXT17ZXZlbnRzOnt9LGRhdGE6e30saGFuZGxlOnh9KTtyZXR1cm4gZH1mdW5jdGlvbiBXYihhLGIsZCl7aWYoS2MoYSkpe3ZhciBjPXUoZCksZT0hYyYmYiYmIUsoYiksZj0hYjthPShhPXZiKGEsIWUpKSYmYS5kYXRhO2lmKGMpYVtiXT1kO2Vsc2V7aWYoZilyZXR1cm4gYTtpZihlKXJldHVybiBhJiZhW2JdO04oYSxiKX19fWZ1bmN0aW9uIHhiKGEsYil7cmV0dXJuIGEuZ2V0QXR0cmlidXRlPy0xPCgiICIrKGEuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIikrIiAiKS5yZXBsYWNlKC9bXG5cdF0vZywiICIpLmluZGV4T2YoIiAiK2IrIiAiKTohMX1mdW5jdGlvbiB5YihhLGIpe2ImJmEuc2V0QXR0cmlidXRlJiZwKGIuc3BsaXQoIiAiKSxmdW5jdGlvbihiKXthLnNldEF0dHJpYnV0ZSgiY2xhc3MiLFQoKCIgIisoYS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKSsiICIpLnJlcGxhY2UoL1tcblx0XS9nLCIgIikucmVwbGFjZSgiICIrVChiKSsiICIsIiAiKSkpfSl9ZnVuY3Rpb24gemIoYSwKYil7aWYoYiYmYS5zZXRBdHRyaWJ1dGUpe3ZhciBkPSgiICIrKGEuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIikrIiAiKS5yZXBsYWNlKC9bXG5cdF0vZywiICIpO3AoYi5zcGxpdCgiICIpLGZ1bmN0aW9uKGEpe2E9VChhKTstMT09PWQuaW5kZXhPZigiICIrYSsiICIpJiYoZCs9YSsiICIpfSk7YS5zZXRBdHRyaWJ1dGUoImNsYXNzIixUKGQpKX19ZnVuY3Rpb24gTmMoYSxiKXtpZihiKWlmKGIubm9kZVR5cGUpYVthLmxlbmd0aCsrXT1iO2Vsc2V7dmFyIGQ9Yi5sZW5ndGg7aWYoIm51bWJlciI9PT10eXBlb2YgZCYmYi53aW5kb3chPT1iKXtpZihkKWZvcih2YXIgYz0wO2M8ZDtjKyspYVthLmxlbmd0aCsrXT1iW2NdfWVsc2UgYVthLmxlbmd0aCsrXT1ifX1mdW5jdGlvbiBQYyhhLGIpe3JldHVybiBBYihhLCIkIisoYnx8Im5nQ29udHJvbGxlciIpKyJDb250cm9sbGVyIil9ZnVuY3Rpb24gQWIoYSxiLGQpezk9PWEubm9kZVR5cGUmJihhPWEuZG9jdW1lbnRFbGVtZW50KTtmb3IoYj0KTChiKT9iOltiXTthOyl7Zm9yKHZhciBjPTAsZT1iLmxlbmd0aDtjPGU7YysrKWlmKHUoZD1ELmRhdGEoYSxiW2NdKSkpcmV0dXJuIGQ7YT1hLnBhcmVudE5vZGV8fDExPT09YS5ub2RlVHlwZSYmYS5ob3N0fX1mdW5jdGlvbiBRYyhhKXtmb3IodGIoYSwhMCk7YS5maXJzdENoaWxkOylhLnJlbW92ZUNoaWxkKGEuZmlyc3RDaGlsZCl9ZnVuY3Rpb24gWGIoYSxiKXtifHx0YihhKTt2YXIgZD1hLnBhcmVudE5vZGU7ZCYmZC5yZW1vdmVDaGlsZChhKX1mdW5jdGlvbiBOZihhLGIpe2I9Ynx8UjtpZigiY29tcGxldGUiPT09Yi5kb2N1bWVudC5yZWFkeVN0YXRlKWIuc2V0VGltZW91dChhKTtlbHNlIEQoYikub24oImxvYWQiLGEpfWZ1bmN0aW9uIFJjKGEsYil7dmFyIGQ9QmJbYi50b0xvd2VyQ2FzZSgpXTtyZXR1cm4gZCYmU2Nbb2EoYSldJiZkfWZ1bmN0aW9uIE9mKGEsYil7dmFyIGQ9ZnVuY3Rpb24oYyxkKXtjLmlzRGVmYXVsdFByZXZlbnRlZD1mdW5jdGlvbigpe3JldHVybiBjLmRlZmF1bHRQcmV2ZW50ZWR9Owp2YXIgZj1iW2R8fGMudHlwZV0sZz1mP2YubGVuZ3RoOjA7aWYoZyl7aWYocihjLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCkpe3ZhciBoPWMuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uO2Muc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7Yy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9ITA7Yy5zdG9wUHJvcGFnYXRpb24mJmMuc3RvcFByb3BhZ2F0aW9uKCk7aCYmaC5jYWxsKGMpfX1jLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPWZ1bmN0aW9uKCl7cmV0dXJuITA9PT1jLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZH07dmFyIGs9Zi5zcGVjaWFsSGFuZGxlcldyYXBwZXJ8fFBmOzE8ZyYmKGY9ZmEoZikpO2Zvcih2YXIgbT0wO208ZzttKyspYy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpfHxrKGEsYyxmW21dKX19O2QuZWxlbT1hO3JldHVybiBkfWZ1bmN0aW9uIFBmKGEsYixkKXtkLmNhbGwoYSxiKX1mdW5jdGlvbiBRZihhLGIsCmQpe3ZhciBjPWIucmVsYXRlZFRhcmdldDtjJiYoYz09PWF8fFJmLmNhbGwoYSxjKSl8fGQuY2FsbChhLGIpfWZ1bmN0aW9uIEVmKCl7dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIE4oUyx7aGFzQ2xhc3M6ZnVuY3Rpb24oYSxiKXthLmF0dHImJihhPWFbMF0pO3JldHVybiB4YihhLGIpfSxhZGRDbGFzczpmdW5jdGlvbihhLGIpe2EuYXR0ciYmKGE9YVswXSk7cmV0dXJuIHpiKGEsYil9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEsYil7YS5hdHRyJiYoYT1hWzBdKTtyZXR1cm4geWIoYSxiKX19KX19ZnVuY3Rpb24gRGEoYSxiKXt2YXIgZD1hJiZhLiQkaGFzaEtleTtpZihkKXJldHVybiJmdW5jdGlvbiI9PT10eXBlb2YgZCYmKGQ9YS4kJGhhc2hLZXkoKSksZDtkPXR5cGVvZiBhO3JldHVybiBkPSJmdW5jdGlvbiI9PWR8fCJvYmplY3QiPT1kJiZudWxsIT09YT9hLiQkaGFzaEtleT1kKyI6IisoYnx8WGQpKCk6ZCsiOiIrYX1mdW5jdGlvbiBUYShhLGIpe2lmKGIpe3ZhciBkPTA7dGhpcy5uZXh0VWlkPQpmdW5jdGlvbigpe3JldHVybisrZH19cChhLHRoaXMucHV0LHRoaXMpfWZ1bmN0aW9uIFNmKGEpe3JldHVybihhPWEudG9TdHJpbmcoKS5yZXBsYWNlKFRjLCIiKS5tYXRjaChVYykpPyJmdW5jdGlvbigiKyhhWzFdfHwiIikucmVwbGFjZSgvW1xzXHJcbl0rLywiICIpKyIpIjoiZm4ifWZ1bmN0aW9uIGRiKGEsYil7ZnVuY3Rpb24gZChhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtpZihLKGIpKXAoYixwYyhhKSk7ZWxzZSByZXR1cm4gYShiLGMpfX1mdW5jdGlvbiBjKGEsYil7U2EoYSwic2VydmljZSIpO2lmKEcoYil8fEwoYikpYj1KLmluc3RhbnRpYXRlKGIpO2lmKCFiLiRnZXQpdGhyb3cgRWEoInBnZXQiLGEpO3JldHVybiBuW2ErIlByb3ZpZGVyIl09Yn1mdW5jdGlvbiBlKGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9dC5pbnZva2UoYix0aGlzKTtpZihyKGMpKXRocm93IEVhKCJ1bmRlZiIsYSk7cmV0dXJuIGN9fWZ1bmN0aW9uIGYoYSxiLGQpe3JldHVybiBjKGEseyRnZXQ6ITEhPT0KZD9lKGEsYik6Yn0pfWZ1bmN0aW9uIGcoYSl7cGIocihhKXx8TChhKSwibW9kdWxlc1RvTG9hZCIsIm5vdCBhbiBhcnJheSIpO3ZhciBiPVtdLGM7cChhLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGQoYSl7dmFyIGIsYztiPTA7Zm9yKGM9YS5sZW5ndGg7YjxjO2IrKyl7dmFyIGU9YVtiXSxmPUouZ2V0KGVbMF0pO2ZbZVsxXV0uYXBwbHkoZixlWzJdKX19aWYoIWwuZ2V0KGEpKXtsLnB1dChhLCEwKTt0cnl7SChhKT8oYz1TYihhKSxiPWIuY29uY2F0KGcoYy5yZXF1aXJlcykpLmNvbmNhdChjLl9ydW5CbG9ja3MpLGQoYy5faW52b2tlUXVldWUpLGQoYy5fY29uZmlnQmxvY2tzKSk6RyhhKT9iLnB1c2goSi5pbnZva2UoYSkpOkwoYSk/Yi5wdXNoKEouaW52b2tlKGEpKTpSYShhLCJtb2R1bGUiKX1jYXRjaChlKXt0aHJvdyBMKGEpJiYoYT1hW2EubGVuZ3RoLTFdKSxlLm1lc3NhZ2UmJmUuc3RhY2smJi0xPT1lLnN0YWNrLmluZGV4T2YoZS5tZXNzYWdlKSYmKGU9ZS5tZXNzYWdlKyJcbiIrCmUuc3RhY2spLEVhKCJtb2R1bGVyciIsYSxlLnN0YWNrfHxlLm1lc3NhZ2V8fGUpO319fSk7cmV0dXJuIGJ9ZnVuY3Rpb24gaChhLGMpe2Z1bmN0aW9uIGQoYixlKXtpZihhLmhhc093blByb3BlcnR5KGIpKXtpZihhW2JdPT09ayl0aHJvdyBFYSgiY2RlcCIsYisiIDwtICIrbS5qb2luKCIgPC0gIikpO3JldHVybiBhW2JdfXRyeXtyZXR1cm4gbS51bnNoaWZ0KGIpLGFbYl09ayxhW2JdPWMoYixlKX1jYXRjaChmKXt0aHJvdyBhW2JdPT09ayYmZGVsZXRlIGFbYl0sZjt9ZmluYWxseXttLnNoaWZ0KCl9fWZ1bmN0aW9uIGUoYSxjLGYsZyl7InN0cmluZyI9PT10eXBlb2YgZiYmKGc9ZixmPW51bGwpO3ZhciBrPVtdLGg9ZGIuJCRhbm5vdGF0ZShhLGIsZyksbSxsLHE7bD0wO2ZvcihtPWgubGVuZ3RoO2w8bTtsKyspe3E9aFtsXTtpZigic3RyaW5nIiE9PXR5cGVvZiBxKXRocm93IEVhKCJpdGtuIixxKTtrLnB1c2goZiYmZi5oYXNPd25Qcm9wZXJ0eShxKT9mW3FdOmQocSxnKSl9TChhKSYmCihhPWFbbV0pO3JldHVybiBhLmFwcGx5KGMsayl9cmV0dXJue2ludm9rZTplLGluc3RhbnRpYXRlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1PYmplY3QuY3JlYXRlKChMKGEpP2FbYS5sZW5ndGgtMV06YSkucHJvdG90eXBlfHxudWxsKTthPWUoYSxkLGIsYyk7cmV0dXJuIEsoYSl8fEcoYSk/YTpkfSxnZXQ6ZCxhbm5vdGF0ZTpkYi4kJGFubm90YXRlLGhhczpmdW5jdGlvbihiKXtyZXR1cm4gbi5oYXNPd25Qcm9wZXJ0eShiKyJQcm92aWRlciIpfHxhLmhhc093blByb3BlcnR5KGIpfX19Yj0hMD09PWI7dmFyIGs9e30sbT1bXSxsPW5ldyBUYShbXSwhMCksbj17JHByb3ZpZGU6e3Byb3ZpZGVyOmQoYyksZmFjdG9yeTpkKGYpLHNlcnZpY2U6ZChmdW5jdGlvbihhLGIpe3JldHVybiBmKGEsWyIkaW5qZWN0b3IiLGZ1bmN0aW9uKGEpe3JldHVybiBhLmluc3RhbnRpYXRlKGIpfV0pfSksdmFsdWU6ZChmdW5jdGlvbihhLGIpe3JldHVybiBmKGEsbWEoYiksITEpfSksY29uc3RhbnQ6ZChmdW5jdGlvbihhLApiKXtTYShhLCJjb25zdGFudCIpO25bYV09Yjt6W2FdPWJ9KSxkZWNvcmF0b3I6ZnVuY3Rpb24oYSxiKXt2YXIgYz1KLmdldChhKyJQcm92aWRlciIpLGQ9Yy4kZ2V0O2MuJGdldD1mdW5jdGlvbigpe3ZhciBhPXQuaW52b2tlKGQsYyk7cmV0dXJuIHQuaW52b2tlKGIsbnVsbCx7JGRlbGVnYXRlOmF9KX19fX0sSj1uLiRpbmplY3Rvcj1oKG4sZnVuY3Rpb24oYSxiKXtkYS5pc1N0cmluZyhiKSYmbS5wdXNoKGIpO3Rocm93IEVhKCJ1bnByIixtLmpvaW4oIiA8LSAiKSk7fSksej17fSx0PXouJGluamVjdG9yPWgoeixmdW5jdGlvbihhLGIpe3ZhciBjPUouZ2V0KGErIlByb3ZpZGVyIixiKTtyZXR1cm4gdC5pbnZva2UoYy4kZ2V0LGMseCxhKX0pO3AoZyhhKSxmdW5jdGlvbihhKXthJiZ0Lmludm9rZShhKX0pO3JldHVybiB0fWZ1bmN0aW9uIFZlKCl7dmFyIGE9ITA7dGhpcy5kaXNhYmxlQXV0b1Njcm9sbGluZz1mdW5jdGlvbigpe2E9ITF9O3RoaXMuJGdldD1bIiR3aW5kb3ciLCIkbG9jYXRpb24iLAoiJHJvb3RTY29wZSIsZnVuY3Rpb24oYixkLGMpe2Z1bmN0aW9uIGUoYSl7dmFyIGI9bnVsbDtBcnJheS5wcm90b3R5cGUuc29tZS5jYWxsKGEsZnVuY3Rpb24oYSl7aWYoImEiPT09b2EoYSkpcmV0dXJuIGI9YSwhMH0pO3JldHVybiBifWZ1bmN0aW9uIGYoYSl7aWYoYSl7YS5zY3JvbGxJbnRvVmlldygpO3ZhciBjO2M9Zy55T2Zmc2V0O0coYyk/Yz1jKCk6TmIoYyk/KGM9Y1swXSxjPSJmaXhlZCIhPT1iLmdldENvbXB1dGVkU3R5bGUoYykucG9zaXRpb24/MDpjLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSk6UChjKXx8KGM9MCk7YyYmKGE9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AsYi5zY3JvbGxCeSgwLGEtYykpfWVsc2UgYi5zY3JvbGxUbygwLDApfWZ1bmN0aW9uIGcoYSl7YT1IKGEpP2E6ZC5oYXNoKCk7dmFyIGI7YT8oYj1oLmdldEVsZW1lbnRCeUlkKGEpKT9mKGIpOihiPWUoaC5nZXRFbGVtZW50c0J5TmFtZShhKSkpP2YoYik6InRvcCI9PT1hJiZmKG51bGwpOgpmKG51bGwpfXZhciBoPWIuZG9jdW1lbnQ7YSYmYy4kd2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4gZC5oYXNoKCl9LGZ1bmN0aW9uKGEsYil7YT09PWImJiIiPT09YXx8TmYoZnVuY3Rpb24oKXtjLiRldmFsQXN5bmMoZyl9KX0pO3JldHVybiBnfV19ZnVuY3Rpb24gZ2IoYSxiKXtpZighYSYmIWIpcmV0dXJuIiI7aWYoIWEpcmV0dXJuIGI7aWYoIWIpcmV0dXJuIGE7TChhKSYmKGE9YS5qb2luKCIgIikpO0woYikmJihiPWIuam9pbigiICIpKTtyZXR1cm4gYSsiICIrYn1mdW5jdGlvbiBUZihhKXtIKGEpJiYoYT1hLnNwbGl0KCIgIikpO3ZhciBiPVooKTtwKGEsZnVuY3Rpb24oYSl7YS5sZW5ndGgmJihiW2FdPSEwKX0pO3JldHVybiBifWZ1bmN0aW9uIEZhKGEpe3JldHVybiBLKGEpP2E6e319ZnVuY3Rpb24gVWYoYSxiLGQsYyl7ZnVuY3Rpb24gZShhKXt0cnl7YS5hcHBseShudWxsLHRhLmNhbGwoYXJndW1lbnRzLDEpKX1maW5hbGx5e2lmKHQtLSwwPT09dClmb3IoO0EubGVuZ3RoOyl0cnl7QS5wb3AoKSgpfWNhdGNoKGIpe2QuZXJyb3IoYil9fX0KZnVuY3Rpb24gZigpe0Y9bnVsbDtnKCk7aCgpfWZ1bmN0aW9uIGcoKXthOnt0cnl7cT1sLnN0YXRlO2JyZWFrIGF9Y2F0Y2goYSl7fXE9dm9pZCAwfXE9cihxKT9udWxsOnE7bGEocSxDKSYmKHE9Qyk7Qz1xfWZ1bmN0aW9uIGgoKXtpZih3IT09ay51cmwoKXx8eSE9PXEpdz1rLnVybCgpLHk9cSxwKFEsZnVuY3Rpb24oYSl7YShrLnVybCgpLHEpfSl9dmFyIGs9dGhpcyxtPWEubG9jYXRpb24sbD1hLmhpc3Rvcnksbj1hLnNldFRpbWVvdXQsSj1hLmNsZWFyVGltZW91dCx6PXt9O2suaXNNb2NrPSExO3ZhciB0PTAsQT1bXTtrLiQkY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3Q9ZTtrLiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQ9ZnVuY3Rpb24oKXt0Kyt9O2subm90aWZ5V2hlbk5vT3V0c3RhbmRpbmdSZXF1ZXN0cz1mdW5jdGlvbihhKXswPT09dD9hKCk6QS5wdXNoKGEpfTt2YXIgcSx5LHc9bS5ocmVmLFY9Yi5maW5kKCJiYXNlIiksRj1udWxsO2coKTt5PXE7ay51cmw9ZnVuY3Rpb24oYiwKZCxlKXtyKGUpJiYoZT1udWxsKTttIT09YS5sb2NhdGlvbiYmKG09YS5sb2NhdGlvbik7bCE9PWEuaGlzdG9yeSYmKGw9YS5oaXN0b3J5KTtpZihiKXt2YXIgZj15PT09ZTtpZih3PT09YiYmKCFjLmhpc3Rvcnl8fGYpKXJldHVybiBrO3ZhciBoPXcmJkdhKHcpPT09R2EoYik7dz1iO3k9ZTtpZighYy5oaXN0b3J5fHxoJiZmKXtpZighaHx8RilGPWI7ZD9tLnJlcGxhY2UoYik6aD8oZD1tLGU9Yi5pbmRleE9mKCIjIiksZT0tMT09PWU/IiI6Yi5zdWJzdHIoZSksZC5oYXNoPWUpOm0uaHJlZj1iO20uaHJlZiE9PWImJihGPWIpfWVsc2UgbFtkPyJyZXBsYWNlU3RhdGUiOiJwdXNoU3RhdGUiXShlLCIiLGIpLGcoKSx5PXE7cmV0dXJuIGt9cmV0dXJuIEZ8fG0uaHJlZi5yZXBsYWNlKC8lMjcvZywiJyIpfTtrLnN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHF9O3ZhciBRPVtdLEU9ITEsQz1udWxsO2sub25VcmxDaGFuZ2U9ZnVuY3Rpb24oYil7aWYoIUUpe2lmKGMuaGlzdG9yeSlEKGEpLm9uKCJwb3BzdGF0ZSIsCmYpO0QoYSkub24oImhhc2hjaGFuZ2UiLGYpO0U9ITB9US5wdXNoKGIpO3JldHVybiBifTtrLiQkYXBwbGljYXRpb25EZXN0cm95ZWQ9ZnVuY3Rpb24oKXtEKGEpLm9mZigiaGFzaGNoYW5nZSBwb3BzdGF0ZSIsZil9O2suJCRjaGVja1VybENoYW5nZT1oO2suYmFzZUhyZWY9ZnVuY3Rpb24oKXt2YXIgYT1WLmF0dHIoImhyZWYiKTtyZXR1cm4gYT9hLnJlcGxhY2UoL14oaHR0cHM/XDopP1wvXC9bXlwvXSovLCIiKToiIn07ay5kZWZlcj1mdW5jdGlvbihhLGIpe3ZhciBjO3QrKztjPW4oZnVuY3Rpb24oKXtkZWxldGUgeltjXTtlKGEpfSxifHwwKTt6W2NdPSEwO3JldHVybiBjfTtrLmRlZmVyLmNhbmNlbD1mdW5jdGlvbihhKXtyZXR1cm4gelthXT8oZGVsZXRlIHpbYV0sSihhKSxlKHYpLCEwKTohMX19ZnVuY3Rpb24gYmYoKXt0aGlzLiRnZXQ9WyIkd2luZG93IiwiJGxvZyIsIiRzbmlmZmVyIiwiJGRvY3VtZW50IixmdW5jdGlvbihhLGIsZCxjKXtyZXR1cm4gbmV3IFVmKGEsYyxiLApkKX1dfWZ1bmN0aW9uIGNmKCl7dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGMpe2Z1bmN0aW9uIGUoYSl7YSE9biYmKEo/Sj09YSYmKEo9YS5uKTpKPWEsZihhLm4sYS5wKSxmKGEsbiksbj1hLG4ubj1udWxsKX1mdW5jdGlvbiBmKGEsYil7YSE9YiYmKGEmJihhLnA9YiksYiYmKGIubj1hKSl9aWYoYSBpbiBiKXRocm93IEIoIiRjYWNoZUZhY3RvcnkiKSgiaWlkIixhKTt2YXIgZz0wLGg9Tih7fSxjLHtpZDphfSksaz1aKCksbT1jJiZjLmNhcGFjaXR5fHxOdW1iZXIuTUFYX1ZBTFVFLGw9WigpLG49bnVsbCxKPW51bGw7cmV0dXJuIGJbYV09e3B1dDpmdW5jdGlvbihhLGIpe2lmKCFyKGIpKXtpZihtPE51bWJlci5NQVhfVkFMVUUpe3ZhciBjPWxbYV18fChsW2FdPXtrZXk6YX0pO2UoYyl9YSBpbiBrfHxnKys7a1thXT1iO2c+bSYmdGhpcy5yZW1vdmUoSi5rZXkpO3JldHVybiBifX0sZ2V0OmZ1bmN0aW9uKGEpe2lmKG08TnVtYmVyLk1BWF9WQUxVRSl7dmFyIGI9bFthXTsKaWYoIWIpcmV0dXJuO2UoYil9cmV0dXJuIGtbYV19LHJlbW92ZTpmdW5jdGlvbihhKXtpZihtPE51bWJlci5NQVhfVkFMVUUpe3ZhciBiPWxbYV07aWYoIWIpcmV0dXJuO2I9PW4mJihuPWIucCk7Yj09SiYmKEo9Yi5uKTtmKGIubixiLnApO2RlbGV0ZSBsW2FdfWEgaW4gayYmKGRlbGV0ZSBrW2FdLGctLSl9LHJlbW92ZUFsbDpmdW5jdGlvbigpe2s9WigpO2c9MDtsPVooKTtuPUo9bnVsbH0sZGVzdHJveTpmdW5jdGlvbigpe2w9aD1rPW51bGw7ZGVsZXRlIGJbYV19LGluZm86ZnVuY3Rpb24oKXtyZXR1cm4gTih7fSxoLHtzaXplOmd9KX19fXZhciBiPXt9O2EuaW5mbz1mdW5jdGlvbigpe3ZhciBhPXt9O3AoYixmdW5jdGlvbihiLGUpe2FbZV09Yi5pbmZvKCl9KTtyZXR1cm4gYX07YS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGJbYV19O3JldHVybiBhfX1mdW5jdGlvbiB5Zigpe3RoaXMuJGdldD1bIiRjYWNoZUZhY3RvcnkiLGZ1bmN0aW9uKGEpe3JldHVybiBhKCJ0ZW1wbGF0ZXMiKX1dfQpmdW5jdGlvbiBDYyhhLGIpe2Z1bmN0aW9uIGQoYSxiLGMpe3ZhciBkPS9eXHMqKFtAJl18PShcKj8pKShcPz8pXHMqKFx3KilccyokLyxlPVooKTtwKGEsZnVuY3Rpb24oYSxmKXtpZihhIGluIGwpZVtmXT1sW2FdO2Vsc2V7dmFyIGc9YS5tYXRjaChkKTtpZighZyl0aHJvdyBnYSgiaXNjcCIsYixmLGEsYz8iY29udHJvbGxlciBiaW5kaW5ncyBkZWZpbml0aW9uIjoiaXNvbGF0ZSBzY29wZSBkZWZpbml0aW9uIik7ZVtmXT17bW9kZTpnWzFdWzBdLGNvbGxlY3Rpb246IioiPT09Z1syXSxvcHRpb25hbDoiPyI9PT1nWzNdLGF0dHJOYW1lOmdbNF18fGZ9O2dbNF0mJihsW2FdPWVbZl0pfX0pO3JldHVybiBlfWZ1bmN0aW9uIGMoYSl7dmFyIGI9YS5jaGFyQXQoMCk7aWYoIWJ8fGIhPT1NKGIpKXRocm93IGdhKCJiYWRkaXIiLGEpO2lmKGEhPT1hLnRyaW0oKSl0aHJvdyBnYSgiYmFkZGlyIixhKTt9dmFyIGU9e30sZj0vXlxzKmRpcmVjdGl2ZVw6XHMqKFtcd1wtXSspXHMrKC4qKSQvLGc9Ci8oKFtcd1wtXSspKD86XDooW147XSspKT87PykvLGg9JGQoIm5nU3JjLG5nU3Jjc2V0LHNyYyxzcmNzZXQiKSxrPS9eKD86KFxeXF4/KT8oXD8pPyhcXlxePyk/KT8vLG09L14ob25bYS16XSt8Zm9ybWFjdGlvbikkLyxsPVooKTt0aGlzLmRpcmVjdGl2ZT1mdW5jdGlvbiB6KGIsZCl7U2EoYiwiZGlyZWN0aXZlIik7SChiKT8oYyhiKSxwYihkLCJkaXJlY3RpdmVGYWN0b3J5IiksZS5oYXNPd25Qcm9wZXJ0eShiKXx8KGVbYl09W10sYS5mYWN0b3J5KGIrIkRpcmVjdGl2ZSIsWyIkaW5qZWN0b3IiLCIkZXhjZXB0aW9uSGFuZGxlciIsZnVuY3Rpb24oYSxjKXt2YXIgZD1bXTtwKGVbYl0sZnVuY3Rpb24oZSxmKXt0cnl7dmFyIGc9YS5pbnZva2UoZSk7RyhnKT9nPXtjb21waWxlOm1hKGcpfTohZy5jb21waWxlJiZnLmxpbmsmJihnLmNvbXBpbGU9bWEoZy5saW5rKSk7Zy5wcmlvcml0eT1nLnByaW9yaXR5fHwwO2cuaW5kZXg9ZjtnLm5hbWU9Zy5uYW1lfHxiO2cucmVxdWlyZT1nLnJlcXVpcmV8fApnLmNvbnRyb2xsZXImJmcubmFtZTtnLnJlc3RyaWN0PWcucmVzdHJpY3R8fCJFQSI7Zy4kJG1vZHVsZU5hbWU9ZS4kJG1vZHVsZU5hbWU7ZC5wdXNoKGcpfWNhdGNoKGgpe2MoaCl9fSk7cmV0dXJuIGR9XSkpLGVbYl0ucHVzaChkKSk6cChiLHBjKHopKTtyZXR1cm4gdGhpc307dGhpcy5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdD1mdW5jdGlvbihhKXtyZXR1cm4gdShhKT8oYi5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdChhKSx0aGlzKTpiLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0KCl9O3RoaXMuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0PWZ1bmN0aW9uKGEpe3JldHVybiB1KGEpPyhiLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdChhKSx0aGlzKTpiLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCgpfTt2YXIgbj0hMDt0aGlzLmRlYnVnSW5mb0VuYWJsZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHUoYSk/KG49YSx0aGlzKTpufTt0aGlzLiRnZXQ9WyIkaW5qZWN0b3IiLAoiJGludGVycG9sYXRlIiwiJGV4Y2VwdGlvbkhhbmRsZXIiLCIkdGVtcGxhdGVSZXF1ZXN0IiwiJHBhcnNlIiwiJGNvbnRyb2xsZXIiLCIkcm9vdFNjb3BlIiwiJHNjZSIsIiRhbmltYXRlIiwiJCRzYW5pdGl6ZVVyaSIsZnVuY3Rpb24oYSxiLGMsbCx5LHcsVixGLFEsRSl7ZnVuY3Rpb24gQyhhLGIpe3RyeXthLmFkZENsYXNzKGIpfWNhdGNoKGMpe319ZnVuY3Rpb24gSShhLGIsYyxkLGUpe2EgaW5zdGFuY2VvZiBEfHwoYT1EKGEpKTtmb3IodmFyIGY9L1xTKy8sZz0wLGg9YS5sZW5ndGg7ZzxoO2crKyl7dmFyIGs9YVtnXTtrLm5vZGVUeXBlPT09T2EmJmsubm9kZVZhbHVlLm1hdGNoKGYpJiZNYyhrLGFbZ109VS5jcmVhdGVFbGVtZW50KCJzcGFuIikpfXZhciBtPVcoYSxiLGEsYyxkLGUpO0kuJCRhZGRTY29wZUNsYXNzKGEpO3ZhciBsPW51bGw7cmV0dXJuIGZ1bmN0aW9uKGIsYyxkKXtwYihiLCJzY29wZSIpO2UmJmUubmVlZHNOZXdTY29wZSYmKGI9Yi4kcGFyZW50LiRuZXcoKSk7CmQ9ZHx8e307dmFyIGY9ZC5wYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbixnPWQudHJhbnNjbHVkZUNvbnRyb2xsZXJzO2Q9ZC5mdXR1cmVQYXJlbnRFbGVtZW50O2YmJmYuJCRib3VuZFRyYW5zY2x1ZGUmJihmPWYuJCRib3VuZFRyYW5zY2x1ZGUpO2x8fChsPShkPWQmJmRbMF0pPyJmb3JlaWdub2JqZWN0IiE9PW9hKGQpJiZkLnRvU3RyaW5nKCkubWF0Y2goL1NWRy8pPyJzdmciOiJodG1sIjoiaHRtbCIpO2Q9Imh0bWwiIT09bD9EKFliKGwsRCgiPGRpdj4iKS5hcHBlbmQoYSkuaHRtbCgpKSk6Yz9RYS5jbG9uZS5jYWxsKGEpOmE7aWYoZylmb3IodmFyIGggaW4gZylkLmRhdGEoIiQiK2grIkNvbnRyb2xsZXIiLGdbaF0uaW5zdGFuY2UpO0kuJCRhZGRTY29wZUluZm8oZCxiKTtjJiZjKGQsYik7bSYmbShiLGQsZCxmKTtyZXR1cm4gZH19ZnVuY3Rpb24gVyhhLGIsYyxkLGUsZil7ZnVuY3Rpb24gZyhhLGMsZCxlKXt2YXIgZixrLG0sbCxuLEUsQTtpZihxKWZvcihBPUFycmF5KGMubGVuZ3RoKSwKbD0wO2w8aC5sZW5ndGg7bCs9MylmPWhbbF0sQVtmXT1jW2ZdO2Vsc2UgQT1jO2w9MDtmb3Iobj1oLmxlbmd0aDtsPG47KWs9QVtoW2wrK11dLGM9aFtsKytdLGY9aFtsKytdLGM/KGMuc2NvcGU/KG09YS4kbmV3KCksSS4kJGFkZFNjb3BlSW5mbyhEKGspLG0pKTptPWEsRT1jLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50P08oYSxjLnRyYW5zY2x1ZGUsZSk6IWMudGVtcGxhdGVPblRoaXNFbGVtZW50JiZlP2U6IWUmJmI/TyhhLGIpOm51bGwsYyhmLG0sayxkLEUpKTpmJiZmKGEsay5jaGlsZE5vZGVzLHgsZSl9Zm9yKHZhciBoPVtdLGssbSxsLG4scSxFPTA7RTxhLmxlbmd0aDtFKyspe2s9bmV3IGRhO209aWEoYVtFXSxbXSxrLDA9PT1FP2Q6eCxlKTsoZj1tLmxlbmd0aD8kKG0sYVtFXSxrLGIsYyxudWxsLFtdLFtdLGYpOm51bGwpJiZmLnNjb3BlJiZJLiQkYWRkU2NvcGVDbGFzcyhrLiQkZWxlbWVudCk7az1mJiZmLnRlcm1pbmFsfHwhKGw9YVtFXS5jaGlsZE5vZGVzKXx8IWwubGVuZ3RoPwpudWxsOlcobCxmPyhmLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50fHwhZi50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQpJiZmLnRyYW5zY2x1ZGU6Yik7aWYoZnx8ayloLnB1c2goRSxmLGspLG49ITAscT1xfHxmO2Y9bnVsbH1yZXR1cm4gbj9nOm51bGx9ZnVuY3Rpb24gTyhhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQsZSxmLGcsaCl7ZHx8KGQ9YS4kbmV3KCExLGgpLGQuJCR0cmFuc2NsdWRlZD0hMCk7cmV0dXJuIGIoZCxlLHtwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbjpjLHRyYW5zY2x1ZGVDb250cm9sbGVyczpmLGZ1dHVyZVBhcmVudEVsZW1lbnQ6Z30pfX1mdW5jdGlvbiBpYShhLGIsYyxkLGUpe3ZhciBoPWMuJGF0dHIsaztzd2l0Y2goYS5ub2RlVHlwZSl7Y2FzZSAxOms9b2EoYSk7cWEoYix2YShrKSwiRSIsZCxlKTtmb3IodmFyIG0sbCxuLHEsRT1hLmF0dHJpYnV0ZXMsQT0wLHc9RSYmRS5sZW5ndGg7QTx3O0ErKyl7dmFyIEk9ITEseT0hMTttPUVbQV07bD1tLm5hbWU7bj1UKG0udmFsdWUpOwptPXZhKGwpO2lmKHE9amEudGVzdChtKSlsPWwucmVwbGFjZShXYywiIikuc3Vic3RyKDgpLnJlcGxhY2UoL18oLikvZyxmdW5jdGlvbihhLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCl9KTsobT1tLm1hdGNoKGthKSkmJkIobVsxXSkmJihJPWwseT1sLnN1YnN0cigwLGwubGVuZ3RoLTUpKyJlbmQiLGw9bC5zdWJzdHIoMCxsLmxlbmd0aC02KSk7bT12YShsLnRvTG93ZXJDYXNlKCkpO2hbbV09bDtpZihxfHwhYy5oYXNPd25Qcm9wZXJ0eShtKSljW21dPW4sUmMoYSxtKSYmKGNbbV09ITApO1goYSxiLG4sbSxxKTtxYShiLG0sIkEiLGQsZSxJLHkpfSJpbnB1dCI9PT1rJiYiaGlkZGVuIj09PWEuZ2V0QXR0cmlidXRlKCJ0eXBlIikmJmEuc2V0QXR0cmlidXRlKCJhdXRvY29tcGxldGUiLCJvZmYiKTthPWEuY2xhc3NOYW1lO0soYSkmJihhPWEuYW5pbVZhbCk7aWYoSChhKSYmIiIhPT1hKWZvcig7az1nLmV4ZWMoYSk7KW09dmEoa1syXSkscWEoYixtLCJDIixkLGUpJiYoY1ttXT1UKGtbM10pKSwKYT1hLnN1YnN0cihrLmluZGV4K2tbMF0ubGVuZ3RoKTticmVhaztjYXNlIE9hOmlmKDExPT09SGEpZm9yKDthLnBhcmVudE5vZGUmJmEubmV4dFNpYmxpbmcmJmEubmV4dFNpYmxpbmcubm9kZVR5cGU9PT1PYTspYS5ub2RlVmFsdWUrPWEubmV4dFNpYmxpbmcubm9kZVZhbHVlLGEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhLm5leHRTaWJsaW5nKTtQKGIsYS5ub2RlVmFsdWUpO2JyZWFrO2Nhc2UgODp0cnl7aWYoaz1mLmV4ZWMoYS5ub2RlVmFsdWUpKW09dmEoa1sxXSkscWEoYixtLCJNIixkLGUpJiYoY1ttXT1UKGtbMl0pKX1jYXRjaChPKXt9fWIuc29ydCh3YSk7cmV0dXJuIGJ9ZnVuY3Rpb24gVWEoYSxiLGMpe3ZhciBkPVtdLGU9MDtpZihiJiZhLmhhc0F0dHJpYnV0ZSYmYS5oYXNBdHRyaWJ1dGUoYikpe2Rve2lmKCFhKXRocm93IGdhKCJ1dGVyZGlyIixiLGMpOzE9PWEubm9kZVR5cGUmJihhLmhhc0F0dHJpYnV0ZShiKSYmZSsrLGEuaGFzQXR0cmlidXRlKGMpJiZlLS0pO2QucHVzaChhKTsKYT1hLm5leHRTaWJsaW5nfXdoaWxlKDA8ZSl9ZWxzZSBkLnB1c2goYSk7cmV0dXJuIEQoZCl9ZnVuY3Rpb24gcyhhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQsZSxmLGcsaCl7ZT1VYShlWzBdLGIsYyk7cmV0dXJuIGEoZCxlLGYsZyxoKX19ZnVuY3Rpb24gJChhLGIsZCxlLGYsZyxoLG0sbCl7ZnVuY3Rpb24gbihhLGIsYyxkKXtpZihhKXtjJiYoYT1zKGEsYyxkKSk7YS5yZXF1aXJlPXIucmVxdWlyZTthLmRpcmVjdGl2ZU5hbWU9dTtpZihDPT09cnx8ci4kJGlzb2xhdGVTY29wZSlhPWJhKGEse2lzb2xhdGVTY29wZTohMH0pO2gucHVzaChhKX1pZihiKXtjJiYoYj1zKGIsYyxkKSk7Yi5yZXF1aXJlPXIucmVxdWlyZTtiLmRpcmVjdGl2ZU5hbWU9dTtpZihDPT09cnx8ci4kJGlzb2xhdGVTY29wZSliPWJhKGIse2lzb2xhdGVTY29wZTohMH0pO20ucHVzaChiKX19ZnVuY3Rpb24gcShhLGIsYyxkKXt2YXIgZTtpZihIKGIpKXt2YXIgZj1iLm1hdGNoKGspO2I9Yi5zdWJzdHJpbmcoZlswXS5sZW5ndGgpOwp2YXIgZz1mWzFdfHxmWzNdLGY9Ij8iPT09ZlsyXTsiXl4iPT09Zz9jPWMucGFyZW50KCk6ZT0oZT1kJiZkW2JdKSYmZS5pbnN0YW5jZTtlfHwoZD0iJCIrYisiQ29udHJvbGxlciIsZT1nP2MuaW5oZXJpdGVkRGF0YShkKTpjLmRhdGEoZCkpO2lmKCFlJiYhZil0aHJvdyBnYSgiY3RyZXEiLGIsYSk7fWVsc2UgaWYoTChiKSlmb3IoZT1bXSxnPTAsZj1iLmxlbmd0aDtnPGY7ZysrKWVbZ109cShhLGJbZ10sYyxkKTtyZXR1cm4gZXx8bnVsbH1mdW5jdGlvbiBFKGEsYixjLGQsZSxmKXt2YXIgZz1aKCksaDtmb3IoaCBpbiBkKXt2YXIgaz1kW2hdLG09eyRzY29wZTprPT09Q3x8ay4kJGlzb2xhdGVTY29wZT9lOmYsJGVsZW1lbnQ6YSwkYXR0cnM6YiwkdHJhbnNjbHVkZTpjfSxsPWsuY29udHJvbGxlcjsiQCI9PWwmJihsPWJbay5uYW1lXSk7bT13KGwsbSwhMCxrLmNvbnRyb2xsZXJBcyk7Z1trLm5hbWVdPW07YS5kYXRhKCIkIitrLm5hbWUrIkNvbnRyb2xsZXIiLG0uaW5zdGFuY2UpfXJldHVybiBnfQpmdW5jdGlvbiB5KGEsYyxlLGYsZyl7ZnVuY3Rpb24gayhhLGIsYyl7dmFyIGQ7JGEoYSl8fChjPWIsYj1hLGE9eCk7USYmKGQ9dyk7Y3x8KGM9UT9GLnBhcmVudCgpOkYpO3JldHVybiBnKGEsYixkLGMsVWEpfXZhciBsLG4sQSx3LE8sRixpYTtiPT09ZT8oZj1kLEY9ZC4kJGVsZW1lbnQpOihGPUQoZSksZj1uZXcgZGEoRixkKSk7QT1jO0M/bj1jLiRuZXcoITApOnQmJihBPWMuJHBhcmVudCk7ZyYmKE89ayxPLiQkYm91bmRUcmFuc2NsdWRlPWcpO3omJih3PUUoRixmLE8seixuLGMpKTtDJiYoSS4kJGFkZFNjb3BlSW5mbyhGLG4sITAsIShXJiYoVz09PUN8fFc9PT1DLiQkb3JpZ2luYWxEaXJlY3RpdmUpKSksSS4kJGFkZFNjb3BlQ2xhc3MoRiwhMCksbi4kJGlzb2xhdGVCaW5kaW5ncz1DLiQkaXNvbGF0ZUJpbmRpbmdzLChpYT1hYShjLGYsbixuLiQkaXNvbGF0ZUJpbmRpbmdzLEMpKSYmbi4kb24oIiRkZXN0cm95IixpYSkpO2Zvcih2YXIgVmMgaW4gdyl7aWE9eltWY107dmFyIFY9CndbVmNdLHA9aWEuJCRiaW5kaW5ncy5iaW5kVG9Db250cm9sbGVyO1YuaWRlbnRpZmllciYmcCYmKGw9YWEoQSxmLFYuaW5zdGFuY2UscCxpYSkpO3ZhciByPVYoKTtyIT09Vi5pbnN0YW5jZSYmKFYuaW5zdGFuY2U9cixGLmRhdGEoIiQiK2lhLm5hbWUrIkNvbnRyb2xsZXIiLHIpLGwmJmwoKSxsPWFhKEEsZixWLmluc3RhbmNlLHAsaWEpKX1CPTA7Zm9yKE09aC5sZW5ndGg7QjxNO0IrKylsPWhbQl0sY2EobCxsLmlzb2xhdGVTY29wZT9uOmMsRixmLGwucmVxdWlyZSYmcShsLmRpcmVjdGl2ZU5hbWUsbC5yZXF1aXJlLEYsdyksTyk7dmFyIFVhPWM7QyYmKEMudGVtcGxhdGV8fG51bGw9PT1DLnRlbXBsYXRlVXJsKSYmKFVhPW4pO2EmJmEoVWEsZS5jaGlsZE5vZGVzLHgsZyk7Zm9yKEI9bS5sZW5ndGgtMTswPD1CO0ItLSlsPW1bQl0sY2EobCxsLmlzb2xhdGVTY29wZT9uOmMsRixmLGwucmVxdWlyZSYmcShsLmRpcmVjdGl2ZU5hbWUsbC5yZXF1aXJlLEYsdyksTyl9bD1sfHx7fTtmb3IodmFyIE89Ci1OdW1iZXIuTUFYX1ZBTFVFLHQ9bC5uZXdTY29wZURpcmVjdGl2ZSx6PWwuY29udHJvbGxlckRpcmVjdGl2ZXMsQz1sLm5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSxXPWwudGVtcGxhdGVEaXJlY3RpdmUsRj1sLm5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUsVj0hMSxwPSExLFE9bC5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSwkPWQuJCRlbGVtZW50PUQoYikscix1LHYscWE9ZSx3YSxCPTAsTT1hLmxlbmd0aDtCPE07QisrKXtyPWFbQl07dmFyIE49ci4kJHN0YXJ0LFA9ci4kJGVuZDtOJiYoJD1VYShiLE4sUCkpO3Y9eDtpZihPPnIucHJpb3JpdHkpYnJlYWs7aWYodj1yLnNjb3BlKXIudGVtcGxhdGVVcmx8fChLKHYpPyhWYSgibmV3L2lzb2xhdGVkIHNjb3BlIixDfHx0LHIsJCksQz1yKTpWYSgibmV3L2lzb2xhdGVkIHNjb3BlIixDLHIsJCkpLHQ9dHx8cjt1PXIubmFtZTshci50ZW1wbGF0ZVVybCYmci5jb250cm9sbGVyJiYodj1yLmNvbnRyb2xsZXIsej16fHxaKCksVmEoIiciKwp1KyInIGNvbnRyb2xsZXIiLHpbdV0sciwkKSx6W3VdPXIpO2lmKHY9ci50cmFuc2NsdWRlKVY9ITAsci4kJHRsYnx8KFZhKCJ0cmFuc2NsdXNpb24iLEYsciwkKSxGPXIpLCJlbGVtZW50Ij09dj8oUT0hMCxPPXIucHJpb3JpdHksdj0kLCQ9ZC4kJGVsZW1lbnQ9RChVLmNyZWF0ZUNvbW1lbnQoIiAiK3UrIjogIitkW3VdKyIgIikpLGI9JFswXSxZKGYsdGEuY2FsbCh2LDApLGIpLHFhPUkodixlLE8sZyYmZy5uYW1lLHtub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlOkZ9KSk6KHY9RChWYihiKSkuY29udGVudHMoKSwkLmVtcHR5KCkscWE9SSh2LGUseCx4LHtuZWVkc05ld1Njb3BlOnIuJCRpc29sYXRlU2NvcGV8fHIuJCRuZXdTY29wZX0pKTtpZihyLnRlbXBsYXRlKWlmKHA9ITAsVmEoInRlbXBsYXRlIixXLHIsJCksVz1yLHY9RyhyLnRlbXBsYXRlKT9yLnRlbXBsYXRlKCQsZCk6ci50ZW1wbGF0ZSx2PWhhKHYpLHIucmVwbGFjZSl7Zz1yO3Y9VGIudGVzdCh2KT9YYyhZYihyLnRlbXBsYXRlTmFtZXNwYWNlLApUKHYpKSk6W107Yj12WzBdO2lmKDEhPXYubGVuZ3RofHwxIT09Yi5ub2RlVHlwZSl0aHJvdyBnYSgidHBscnQiLHUsIiIpO1koZiwkLGIpO3Y9eyRhdHRyOnt9fTt2YXIgUz1pYShiLFtdLHYpLFZmPWEuc3BsaWNlKEIrMSxhLmxlbmd0aC0oQisxKSk7KEN8fHQpJiZZYyhTLEMsdCk7YT1hLmNvbmNhdChTKS5jb25jYXQoVmYpO1IoZCx2KTtNPWEubGVuZ3RofWVsc2UgJC5odG1sKHYpO2lmKHIudGVtcGxhdGVVcmwpcD0hMCxWYSgidGVtcGxhdGUiLFcsciwkKSxXPXIsci5yZXBsYWNlJiYoZz1yKSx5PVdmKGEuc3BsaWNlKEIsYS5sZW5ndGgtQiksJCxkLGYsViYmcWEsaCxtLHtjb250cm9sbGVyRGlyZWN0aXZlczp6LG5ld1Njb3BlRGlyZWN0aXZlOnQhPT1yJiZ0LG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZTpDLHRlbXBsYXRlRGlyZWN0aXZlOlcsbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZTpGfSksTT1hLmxlbmd0aDtlbHNlIGlmKHIuY29tcGlsZSl0cnl7d2E9ci5jb21waWxlKCQsCmQscWEpLEcod2EpP24obnVsbCx3YSxOLFApOndhJiZuKHdhLnByZSx3YS5wb3N0LE4sUCl9Y2F0Y2goWCl7YyhYLHVhKCQpKX1yLnRlcm1pbmFsJiYoeS50ZXJtaW5hbD0hMCxPPU1hdGgubWF4KE8sci5wcmlvcml0eSkpfXkuc2NvcGU9dCYmITA9PT10LnNjb3BlO3kudHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQ9Vjt5LnRlbXBsYXRlT25UaGlzRWxlbWVudD1wO3kudHJhbnNjbHVkZT1xYTtsLmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlPVE7cmV0dXJuIHl9ZnVuY3Rpb24gWWMoYSxiLGMpe2Zvcih2YXIgZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKylhW2RdPU9iKGFbZF0seyQkaXNvbGF0ZVNjb3BlOmIsJCRuZXdTY29wZTpjfSl9ZnVuY3Rpb24gcWEoYixmLGcsaCxrLG0sbCl7aWYoZj09PWspcmV0dXJuIG51bGw7az1udWxsO2lmKGUuaGFzT3duUHJvcGVydHkoZikpe3ZhciBuO2Y9YS5nZXQoZisiRGlyZWN0aXZlIik7Zm9yKHZhciBxPTAsRT1mLmxlbmd0aDtxPEU7cSsrKXRyeXtpZihuPQpmW3FdLChyKGgpfHxoPm4ucHJpb3JpdHkpJiYtMSE9bi5yZXN0cmljdC5pbmRleE9mKGcpKXttJiYobj1PYihuLHskJHN0YXJ0Om0sJCRlbmQ6bH0pKTtpZighbi4kJGJpbmRpbmdzKXt2YXIgdz1uLEk9bix5PW4ubmFtZSxPPXtpc29sYXRlU2NvcGU6bnVsbCxiaW5kVG9Db250cm9sbGVyOm51bGx9O0soSS5zY29wZSkmJighMD09PUkuYmluZFRvQ29udHJvbGxlcj8oTy5iaW5kVG9Db250cm9sbGVyPWQoSS5zY29wZSx5LCEwKSxPLmlzb2xhdGVTY29wZT17fSk6Ty5pc29sYXRlU2NvcGU9ZChJLnNjb3BlLHksITEpKTtLKEkuYmluZFRvQ29udHJvbGxlcikmJihPLmJpbmRUb0NvbnRyb2xsZXI9ZChJLmJpbmRUb0NvbnRyb2xsZXIseSwhMCkpO2lmKEsoTy5iaW5kVG9Db250cm9sbGVyKSl7dmFyIHQ9SS5jb250cm9sbGVyLEM9SS5jb250cm9sbGVyQXM7aWYoIXQpdGhyb3cgZ2EoIm5vY3RybCIseSk7dmFyIEY7YTp7dmFyIEk9dCxXPUM7aWYoVyYmSChXKSlGPVc7ZWxzZXtpZihIKEkpKXt2YXIgaWE9ClpjLmV4ZWMoSSk7aWYoaWEpe0Y9aWFbM107YnJlYWsgYX19Rj12b2lkIDB9fWlmKCFGKXRocm93IGdhKCJub2lkZW50Iix5KTt9dmFyIFY9dy4kJGJpbmRpbmdzPU87SyhWLmlzb2xhdGVTY29wZSkmJihuLiQkaXNvbGF0ZUJpbmRpbmdzPVYuaXNvbGF0ZVNjb3BlKX1iLnB1c2gobik7az1ufX1jYXRjaChwKXtjKHApfX1yZXR1cm4ga31mdW5jdGlvbiBCKGIpe2lmKGUuaGFzT3duUHJvcGVydHkoYikpZm9yKHZhciBjPWEuZ2V0KGIrIkRpcmVjdGl2ZSIpLGQ9MCxmPWMubGVuZ3RoO2Q8ZjtkKyspaWYoYj1jW2RdLGIubXVsdGlFbGVtZW50KXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIFIoYSxiKXt2YXIgYz1iLiRhdHRyLGQ9YS4kYXR0cixlPWEuJCRlbGVtZW50O3AoYSxmdW5jdGlvbihkLGUpeyIkIiE9ZS5jaGFyQXQoMCkmJihiW2VdJiZiW2VdIT09ZCYmKGQrPSgic3R5bGUiPT09ZT8iOyI6IiAiKStiW2VdKSxhLiRzZXQoZSxkLCEwLGNbZV0pKX0pO3AoYixmdW5jdGlvbihiLApmKXsiY2xhc3MiPT1mPyhDKGUsYiksYVsiY2xhc3MiXT0oYVsiY2xhc3MiXT9hWyJjbGFzcyJdKyIgIjoiIikrYik6InN0eWxlIj09Zj8oZS5hdHRyKCJzdHlsZSIsZS5hdHRyKCJzdHlsZSIpKyI7IitiKSxhLnN0eWxlPShhLnN0eWxlP2Euc3R5bGUrIjsiOiIiKStiKToiJCI9PWYuY2hhckF0KDApfHxhLmhhc093blByb3BlcnR5KGYpfHwoYVtmXT1iLGRbZl09Y1tmXSl9KX1mdW5jdGlvbiBXZihhLGIsYyxkLGUsZixnLGgpe3ZhciBrPVtdLG0sbixFPWJbMF0sQT1hLnNoaWZ0KCksdz1PYihBLHt0ZW1wbGF0ZVVybDpudWxsLHRyYW5zY2x1ZGU6bnVsbCxyZXBsYWNlOm51bGwsJCRvcmlnaW5hbERpcmVjdGl2ZTpBfSksST1HKEEudGVtcGxhdGVVcmwpP0EudGVtcGxhdGVVcmwoYixjKTpBLnRlbXBsYXRlVXJsLHk9QS50ZW1wbGF0ZU5hbWVzcGFjZTtiLmVtcHR5KCk7bChJKS50aGVuKGZ1bmN0aW9uKGwpe3ZhciBxLHQ7bD1oYShsKTtpZihBLnJlcGxhY2Upe2w9VGIudGVzdChsKT8KWGMoWWIoeSxUKGwpKSk6W107cT1sWzBdO2lmKDEhPWwubGVuZ3RofHwxIT09cS5ub2RlVHlwZSl0aHJvdyBnYSgidHBscnQiLEEubmFtZSxJKTtsPXskYXR0cjp7fX07WShkLGIscSk7dmFyIHo9aWEocSxbXSxsKTtLKEEuc2NvcGUpJiZZYyh6LCEwKTthPXouY29uY2F0KGEpO1IoYyxsKX1lbHNlIHE9RSxiLmh0bWwobCk7YS51bnNoaWZ0KHcpO209JChhLHEsYyxlLGIsQSxmLGcsaCk7cChkLGZ1bmN0aW9uKGEsYyl7YT09cSYmKGRbY109YlswXSl9KTtmb3Iobj1XKGJbMF0uY2hpbGROb2RlcyxlKTtrLmxlbmd0aDspe2w9ay5zaGlmdCgpO3Q9ay5zaGlmdCgpO3ZhciBGPWsuc2hpZnQoKSxWPWsuc2hpZnQoKSx6PWJbMF07aWYoIWwuJCRkZXN0cm95ZWQpe2lmKHQhPT1FKXt2YXIgUT10LmNsYXNzTmFtZTtoLmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlJiZBLnJlcGxhY2V8fCh6PVZiKHEpKTtZKEYsRCh0KSx6KTtDKEQoeiksUSl9dD1tLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50PwpPKGwsbS50cmFuc2NsdWRlLFYpOlY7bShuLGwseixkLHQpfX1rPW51bGx9KTtyZXR1cm4gZnVuY3Rpb24oYSxiLGMsZCxlKXthPWU7Yi4kJGRlc3Ryb3llZHx8KGs/ay5wdXNoKGIsYyxkLGEpOihtLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50JiYoYT1PKGIsbS50cmFuc2NsdWRlLGUpKSxtKG4sYixjLGQsYSkpKX19ZnVuY3Rpb24gd2EoYSxiKXt2YXIgYz1iLnByaW9yaXR5LWEucHJpb3JpdHk7cmV0dXJuIDAhPT1jP2M6YS5uYW1lIT09Yi5uYW1lP2EubmFtZTxiLm5hbWU/LTE6MTphLmluZGV4LWIuaW5kZXh9ZnVuY3Rpb24gVmEoYSxiLGMsZCl7ZnVuY3Rpb24gZShhKXtyZXR1cm4gYT8iIChtb2R1bGU6ICIrYSsiKSI6IiJ9aWYoYil0aHJvdyBnYSgibXVsdGlkaXIiLGIubmFtZSxlKGIuJCRtb2R1bGVOYW1lKSxjLm5hbWUsZShjLiQkbW9kdWxlTmFtZSksYSx1YShkKSk7fWZ1bmN0aW9uIFAoYSxjKXt2YXIgZD1iKGMsITApO2QmJmEucHVzaCh7cHJpb3JpdHk6MCxjb21waWxlOmZ1bmN0aW9uKGEpe2E9CmEucGFyZW50KCk7dmFyIGI9ISFhLmxlbmd0aDtiJiZJLiQkYWRkQmluZGluZ0NsYXNzKGEpO3JldHVybiBmdW5jdGlvbihhLGMpe3ZhciBlPWMucGFyZW50KCk7Ynx8SS4kJGFkZEJpbmRpbmdDbGFzcyhlKTtJLiQkYWRkQmluZGluZ0luZm8oZSxkLmV4cHJlc3Npb25zKTthLiR3YXRjaChkLGZ1bmN0aW9uKGEpe2NbMF0ubm9kZVZhbHVlPWF9KX19fSl9ZnVuY3Rpb24gWWIoYSxiKXthPU0oYXx8Imh0bWwiKTtzd2l0Y2goYSl7Y2FzZSAic3ZnIjpjYXNlICJtYXRoIjp2YXIgYz1VLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2MuaW5uZXJIVE1MPSI8IithKyI+IitiKyI8LyIrYSsiPiI7cmV0dXJuIGMuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzO2RlZmF1bHQ6cmV0dXJuIGJ9fWZ1bmN0aW9uIFMoYSxiKXtpZigic3JjZG9jIj09YilyZXR1cm4gRi5IVE1MO3ZhciBjPW9hKGEpO2lmKCJ4bGlua0hyZWYiPT1ifHwiZm9ybSI9PWMmJiJhY3Rpb24iPT1ifHwiaW1nIiE9YyYmKCJzcmMiPT1ifHwKIm5nU3JjIj09YikpcmV0dXJuIEYuUkVTT1VSQ0VfVVJMfWZ1bmN0aW9uIFgoYSxjLGQsZSxmKXt2YXIgZz1TKGEsZSk7Zj1oW2VdfHxmO3ZhciBrPWIoZCwhMCxnLGYpO2lmKGspe2lmKCJtdWx0aXBsZSI9PT1lJiYic2VsZWN0Ij09PW9hKGEpKXRocm93IGdhKCJzZWxtdWx0aSIsdWEoYSkpO2MucHVzaCh7cHJpb3JpdHk6MTAwLGNvbXBpbGU6ZnVuY3Rpb24oKXtyZXR1cm57cHJlOmZ1bmN0aW9uKGEsYyxoKXtjPWguJCRvYnNlcnZlcnN8fChoLiQkb2JzZXJ2ZXJzPVooKSk7aWYobS50ZXN0KGUpKXRocm93IGdhKCJub2RvbWV2ZW50cyIpO3ZhciBsPWhbZV07bCE9PWQmJihrPWwmJmIobCwhMCxnLGYpLGQ9bCk7ayYmKGhbZV09ayhhKSwoY1tlXXx8KGNbZV09W10pKS4kJGludGVyPSEwLChoLiQkb2JzZXJ2ZXJzJiZoLiQkb2JzZXJ2ZXJzW2VdLiQkc2NvcGV8fGEpLiR3YXRjaChrLGZ1bmN0aW9uKGEsYil7ImNsYXNzIj09PWUmJmEhPWI/aC4kdXBkYXRlQ2xhc3MoYSxiKTpoLiRzZXQoZSwKYSl9KSl9fX19KX19ZnVuY3Rpb24gWShhLGIsYyl7dmFyIGQ9YlswXSxlPWIubGVuZ3RoLGY9ZC5wYXJlbnROb2RlLGcsaDtpZihhKWZvcihnPTAsaD1hLmxlbmd0aDtnPGg7ZysrKWlmKGFbZ109PWQpe2FbZysrXT1jO2g9ZytlLTE7Zm9yKHZhciBrPWEubGVuZ3RoO2c8aztnKyssaCsrKWg8az9hW2ddPWFbaF06ZGVsZXRlIGFbZ107YS5sZW5ndGgtPWUtMTthLmNvbnRleHQ9PT1kJiYoYS5jb250ZXh0PWMpO2JyZWFrfWYmJmYucmVwbGFjZUNoaWxkKGMsZCk7YT1VLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTthLmFwcGVuZENoaWxkKGQpO0QuaGFzRGF0YShkKSYmKEQuZGF0YShjLEQuZGF0YShkKSkscGE/KFJiPSEwLHBhLmNsZWFuRGF0YShbZF0pKTpkZWxldGUgRC5jYWNoZVtkW0QuZXhwYW5kb11dKTtkPTE7Zm9yKGU9Yi5sZW5ndGg7ZDxlO2QrKylmPWJbZF0sRChmKS5yZW1vdmUoKSxhLmFwcGVuZENoaWxkKGYpLGRlbGV0ZSBiW2RdO2JbMF09YztiLmxlbmd0aD0xfWZ1bmN0aW9uIGJhKGEsCmIpe3JldHVybiBOKGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhLGIpfWZ1bmN0aW9uIGNhKGEsYixkLGUsZixnKXt0cnl7YShiLGQsZSxmLGcpfWNhdGNoKGgpe2MoaCx1YShkKSl9fWZ1bmN0aW9uIGFhKGEsYyxkLGUsZil7dmFyIGc9W107cChlLGZ1bmN0aW9uKGUsaCl7dmFyIGs9ZS5hdHRyTmFtZSxtPWUub3B0aW9uYWwsbCxuLHEsQTtzd2l0Y2goZS5tb2RlKXtjYXNlICJAIjptfHxzYS5jYWxsKGMsayl8fChkW2hdPWNba109dm9pZCAwKTtjLiRvYnNlcnZlKGssZnVuY3Rpb24oYSl7SChhKSYmKGRbaF09YSl9KTtjLiQkb2JzZXJ2ZXJzW2tdLiQkc2NvcGU9YTtsPWNba107SChsKT9kW2hdPWIobCkoYSk6TWEobCkmJihkW2hdPWwpO2JyZWFrO2Nhc2UgIj0iOmlmKCFzYS5jYWxsKGMsaykpe2lmKG0pYnJlYWs7Y1trXT12b2lkIDB9aWYobSYmIWNba10pYnJlYWs7bj15KGNba10pO0E9bi5saXRlcmFsP2xhOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT0KYnx8YSE9PWEmJmIhPT1ifTtxPW4uYXNzaWdufHxmdW5jdGlvbigpe2w9ZFtoXT1uKGEpO3Rocm93IGdhKCJub25hc3NpZ24iLGNba10sayxmLm5hbWUpO307bD1kW2hdPW4oYSk7bT1mdW5jdGlvbihiKXtBKGIsZFtoXSl8fChBKGIsbCk/cShhLGI9ZFtoXSk6ZFtoXT1iKTtyZXR1cm4gbD1ifTttLiRzdGF0ZWZ1bD0hMDttPWUuY29sbGVjdGlvbj9hLiR3YXRjaENvbGxlY3Rpb24oY1trXSxtKTphLiR3YXRjaCh5KGNba10sbSksbnVsbCxuLmxpdGVyYWwpO2cucHVzaChtKTticmVhaztjYXNlICImIjpuPWMuaGFzT3duUHJvcGVydHkoayk/eShjW2tdKTp2O2lmKG49PT12JiZtKWJyZWFrO2RbaF09ZnVuY3Rpb24oYil7cmV0dXJuIG4oYSxiKX19fSk7cmV0dXJuIGcubGVuZ3RoJiZmdW5jdGlvbigpe2Zvcih2YXIgYT0wLGI9Zy5sZW5ndGg7YTxiOysrYSlnW2FdKCl9fXZhciBkYT1mdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBjPU9iamVjdC5rZXlzKGIpLGQsZSxmO2Q9MDtmb3IoZT1jLmxlbmd0aDtkPAplO2QrKylmPWNbZF0sdGhpc1tmXT1iW2ZdfWVsc2UgdGhpcy4kYXR0cj17fTt0aGlzLiQkZWxlbWVudD1hfTtkYS5wcm90b3R5cGU9eyRub3JtYWxpemU6dmEsJGFkZENsYXNzOmZ1bmN0aW9uKGEpe2EmJjA8YS5sZW5ndGgmJlEuYWRkQ2xhc3ModGhpcy4kJGVsZW1lbnQsYSl9LCRyZW1vdmVDbGFzczpmdW5jdGlvbihhKXthJiYwPGEubGVuZ3RoJiZRLnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LGEpfSwkdXBkYXRlQ2xhc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz0kYyhhLGIpO2MmJmMubGVuZ3RoJiZRLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LGMpOyhjPSRjKGIsYSkpJiZjLmxlbmd0aCYmUS5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCxjKX0sJHNldDpmdW5jdGlvbihhLGIsZCxlKXt2YXIgZj1SYyh0aGlzLiQkZWxlbWVudFswXSxhKSxnPWFkW2FdLGg9YTtmPyh0aGlzLiQkZWxlbWVudC5wcm9wKGEsYiksZT1mKTpnJiYodGhpc1tnXT1iLGg9Zyk7dGhpc1thXT1iO2U/dGhpcy4kYXR0clthXT0KZTooZT10aGlzLiRhdHRyW2FdKXx8KHRoaXMuJGF0dHJbYV09ZT16YyhhLCItIikpO2Y9b2EodGhpcy4kJGVsZW1lbnQpO2lmKCJhIj09PWYmJiJocmVmIj09PWF8fCJpbWciPT09ZiYmInNyYyI9PT1hKXRoaXNbYV09Yj1FKGIsInNyYyI9PT1hKTtlbHNlIGlmKCJpbWciPT09ZiYmInNyY3NldCI9PT1hJiZ1KGIpKXtmb3IodmFyIGY9IiIsZz1UKGIpLGs9LyhccytcZCt4XHMqLHxccytcZCt3XHMqLHxccyssfCxccyspLyxrPS9ccy8udGVzdChnKT9rOi8oLCkvLGc9Zy5zcGxpdChrKSxrPU1hdGguZmxvb3IoZy5sZW5ndGgvMiksbT0wO208azttKyspdmFyIGw9MiptLGY9ZitFKFQoZ1tsXSksITApLGY9ZisoIiAiK1QoZ1tsKzFdKSk7Zz1UKGdbMiptXSkuc3BsaXQoL1xzLyk7Zis9RShUKGdbMF0pLCEwKTsyPT09Zy5sZW5ndGgmJihmKz0iICIrVChnWzFdKSk7dGhpc1thXT1iPWZ9ITEhPT1kJiYobnVsbD09PWJ8fHIoYik/dGhpcy4kJGVsZW1lbnQucmVtb3ZlQXR0cihlKTp0aGlzLiQkZWxlbWVudC5hdHRyKGUsCmIpKTsoYT10aGlzLiQkb2JzZXJ2ZXJzKSYmcChhW2hdLGZ1bmN0aW9uKGEpe3RyeXthKGIpfWNhdGNoKGQpe2MoZCl9fSl9LCRvYnNlcnZlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuJCRvYnNlcnZlcnN8fChjLiQkb2JzZXJ2ZXJzPVooKSksZT1kW2FdfHwoZFthXT1bXSk7ZS5wdXNoKGIpO1YuJGV2YWxBc3luYyhmdW5jdGlvbigpe2UuJCRpbnRlcnx8IWMuaGFzT3duUHJvcGVydHkoYSl8fHIoY1thXSl8fGIoY1thXSl9KTtyZXR1cm4gZnVuY3Rpb24oKXthYihlLGIpfX19O3ZhciBlYT1iLnN0YXJ0U3ltYm9sKCksZmE9Yi5lbmRTeW1ib2woKSxoYT0ie3siPT1lYSYmIn19Ij09ZmE/WmE6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXHtcey9nLGVhKS5yZXBsYWNlKC99fS9nLGZhKX0samE9L15uZ0F0dHJbQS1aXS8sa2E9L14oLispU3RhcnQkLztJLiQkYWRkQmluZGluZ0luZm89bj9mdW5jdGlvbihhLGIpe3ZhciBjPWEuZGF0YSgiJGJpbmRpbmciKXx8W107TChiKT8KYz1jLmNvbmNhdChiKTpjLnB1c2goYik7YS5kYXRhKCIkYmluZGluZyIsYyl9OnY7SS4kJGFkZEJpbmRpbmdDbGFzcz1uP2Z1bmN0aW9uKGEpe0MoYSwibmctYmluZGluZyIpfTp2O0kuJCRhZGRTY29wZUluZm89bj9mdW5jdGlvbihhLGIsYyxkKXthLmRhdGEoYz9kPyIkaXNvbGF0ZVNjb3BlTm9UZW1wbGF0ZSI6IiRpc29sYXRlU2NvcGUiOiIkc2NvcGUiLGIpfTp2O0kuJCRhZGRTY29wZUNsYXNzPW4/ZnVuY3Rpb24oYSxiKXtDKGEsYj8ibmctaXNvbGF0ZS1zY29wZSI6Im5nLXNjb3BlIil9OnY7cmV0dXJuIEl9XX1mdW5jdGlvbiB2YShhKXtyZXR1cm4gZWIoYS5yZXBsYWNlKFdjLCIiKSl9ZnVuY3Rpb24gJGMoYSxiKXt2YXIgZD0iIixjPWEuc3BsaXQoL1xzKy8pLGU9Yi5zcGxpdCgvXHMrLyksZj0wO2E6Zm9yKDtmPGMubGVuZ3RoO2YrKyl7Zm9yKHZhciBnPWNbZl0saD0wO2g8ZS5sZW5ndGg7aCsrKWlmKGc9PWVbaF0pY29udGludWUgYTtkKz0oMDxkLmxlbmd0aD8iICI6IiIpKwpnfXJldHVybiBkfWZ1bmN0aW9uIFhjKGEpe2E9RChhKTt2YXIgYj1hLmxlbmd0aDtpZigxPj1iKXJldHVybiBhO2Zvcig7Yi0tOyk4PT09YVtiXS5ub2RlVHlwZSYmWGYuY2FsbChhLGIsMSk7cmV0dXJuIGF9ZnVuY3Rpb24gZGYoKXt2YXIgYT17fSxiPSExO3RoaXMucmVnaXN0ZXI9ZnVuY3Rpb24oYixjKXtTYShiLCJjb250cm9sbGVyIik7SyhiKT9OKGEsYik6YVtiXT1jfTt0aGlzLmFsbG93R2xvYmFscz1mdW5jdGlvbigpe2I9ITB9O3RoaXMuJGdldD1bIiRpbmplY3RvciIsIiR3aW5kb3ciLGZ1bmN0aW9uKGQsYyl7ZnVuY3Rpb24gZShhLGIsYyxkKXtpZighYXx8IUsoYS4kc2NvcGUpKXRocm93IEIoIiRjb250cm9sbGVyIikoIm5vc2NwIixkLGIpO2EuJHNjb3BlW2JdPWN9cmV0dXJuIGZ1bmN0aW9uKGYsZyxoLGspe3ZhciBtLGwsbjtoPSEwPT09aDtrJiZIKGspJiYobj1rKTtpZihIKGYpKXtrPWYubWF0Y2goWmMpO2lmKCFrKXRocm93IFlmKCJjdHJsZm10IixmKTtsPWtbMV07Cm49bnx8a1szXTtmPWEuaGFzT3duUHJvcGVydHkobCk/YVtsXTpCYyhnLiRzY29wZSxsLCEwKXx8KGI/QmMoYyxsLCEwKTp4KTtSYShmLGwsITApfWlmKGgpcmV0dXJuIGg9KEwoZik/ZltmLmxlbmd0aC0xXTpmKS5wcm90b3R5cGUsbT1PYmplY3QuY3JlYXRlKGh8fG51bGwpLG4mJmUoZyxuLG0sbHx8Zi5uYW1lKSxOKGZ1bmN0aW9uKCl7dmFyIGE9ZC5pbnZva2UoZixtLGcsbCk7YSE9PW0mJihLKGEpfHxHKGEpKSYmKG09YSxuJiZlKGcsbixtLGx8fGYubmFtZSkpO3JldHVybiBtfSx7aW5zdGFuY2U6bSxpZGVudGlmaWVyOm59KTttPWQuaW5zdGFudGlhdGUoZixnLGwpO24mJmUoZyxuLG0sbHx8Zi5uYW1lKTtyZXR1cm4gbX19XX1mdW5jdGlvbiBlZigpe3RoaXMuJGdldD1bIiR3aW5kb3ciLGZ1bmN0aW9uKGEpe3JldHVybiBEKGEuZG9jdW1lbnQpfV19ZnVuY3Rpb24gZmYoKXt0aGlzLiRnZXQ9WyIkbG9nIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixkKXthLmVycm9yLmFwcGx5KGEsCmFyZ3VtZW50cyl9fV19ZnVuY3Rpb24gWmIoYSl7cmV0dXJuIEsoYSk/ZWEoYSk/YS50b0lTT1N0cmluZygpOmNiKGEpOmF9ZnVuY3Rpb24gbGYoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuIiI7dmFyIGI9W107b2MoYSxmdW5jdGlvbihhLGMpe251bGw9PT1hfHxyKGEpfHwoTChhKT9wKGEsZnVuY3Rpb24oYSxkKXtiLnB1c2goaGEoYykrIj0iK2hhKFpiKGEpKSl9KTpiLnB1c2goaGEoYykrIj0iK2hhKFpiKGEpKSkpfSk7cmV0dXJuIGIuam9pbigiJiIpfX19ZnVuY3Rpb24gbWYoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGUsZil7bnVsbD09PWF8fHIoYSl8fChMKGEpP3AoYSxmdW5jdGlvbihhLGMpe2IoYSxlKyJbIisoSyhhKT9jOiIiKSsiXSIpfSk6SyhhKSYmIWVhKGEpP29jKGEsZnVuY3Rpb24oYSxjKXtiKGEsZSsoZj8iIjoiWyIpK2MrKGY/IiI6Il0iKSl9KTpkLnB1c2goaGEoZSkrCiI9IitoYShaYihhKSkpKX1pZighYSlyZXR1cm4iIjt2YXIgZD1bXTtiKGEsIiIsITApO3JldHVybiBkLmpvaW4oIiYiKX19fWZ1bmN0aW9uICRiKGEsYil7aWYoSChhKSl7dmFyIGQ9YS5yZXBsYWNlKFpmLCIiKS50cmltKCk7aWYoZCl7dmFyIGM9YigiQ29udGVudC1UeXBlIik7KGM9YyYmMD09PWMuaW5kZXhPZihiZCkpfHwoYz0oYz1kLm1hdGNoKCRmKSkmJmFnW2NbMF1dLnRlc3QoZCkpO2MmJihhPXVjKGQpKX19cmV0dXJuIGF9ZnVuY3Rpb24gY2QoYSl7dmFyIGI9WigpLGQ7SChhKT9wKGEuc3BsaXQoIlxuIiksZnVuY3Rpb24oYSl7ZD1hLmluZGV4T2YoIjoiKTt2YXIgZT1NKFQoYS5zdWJzdHIoMCxkKSkpO2E9VChhLnN1YnN0cihkKzEpKTtlJiYoYltlXT1iW2VdP2JbZV0rIiwgIithOmEpfSk6SyhhKSYmcChhLGZ1bmN0aW9uKGEsZCl7dmFyIGY9TShkKSxnPVQoYSk7ZiYmKGJbZl09YltmXT9iW2ZdKyIsICIrZzpnKX0pO3JldHVybiBifWZ1bmN0aW9uIGRkKGEpe3ZhciBiOwpyZXR1cm4gZnVuY3Rpb24oZCl7Ynx8KGI9Y2QoYSkpO3JldHVybiBkPyhkPWJbTShkKV0sdm9pZCAwPT09ZCYmKGQ9bnVsbCksZCk6Yn19ZnVuY3Rpb24gZWQoYSxiLGQsYyl7aWYoRyhjKSlyZXR1cm4gYyhhLGIsZCk7cChjLGZ1bmN0aW9uKGMpe2E9YyhhLGIsZCl9KTtyZXR1cm4gYX1mdW5jdGlvbiBrZigpe3ZhciBhPXRoaXMuZGVmYXVsdHM9e3RyYW5zZm9ybVJlc3BvbnNlOlskYl0sdHJhbnNmb3JtUmVxdWVzdDpbZnVuY3Rpb24oYSl7cmV0dXJuIEsoYSkmJiJbb2JqZWN0IEZpbGVdIiE9PW5hLmNhbGwoYSkmJiJbb2JqZWN0IEJsb2JdIiE9PW5hLmNhbGwoYSkmJiJbb2JqZWN0IEZvcm1EYXRhXSIhPT1uYS5jYWxsKGEpP2NiKGEpOmF9XSxoZWFkZXJzOntjb21tb246e0FjY2VwdDoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qIn0scG9zdDpmYShhYykscHV0OmZhKGFjKSxwYXRjaDpmYShhYyl9LHhzcmZDb29raWVOYW1lOiJYU1JGLVRPS0VOIix4c3JmSGVhZGVyTmFtZToiWC1YU1JGLVRPS0VOIiwKcGFyYW1TZXJpYWxpemVyOiIkaHR0cFBhcmFtU2VyaWFsaXplciJ9LGI9ITE7dGhpcy51c2VBcHBseUFzeW5jPWZ1bmN0aW9uKGEpe3JldHVybiB1KGEpPyhiPSEhYSx0aGlzKTpifTt2YXIgZD0hMDt0aGlzLnVzZUxlZ2FjeVByb21pc2VFeHRlbnNpb25zPWZ1bmN0aW9uKGEpe3JldHVybiB1KGEpPyhkPSEhYSx0aGlzKTpkfTt2YXIgYz10aGlzLmludGVyY2VwdG9ycz1bXTt0aGlzLiRnZXQ9WyIkaHR0cEJhY2tlbmQiLCIkJGNvb2tpZVJlYWRlciIsIiRjYWNoZUZhY3RvcnkiLCIkcm9vdFNjb3BlIiwiJHEiLCIkaW5qZWN0b3IiLGZ1bmN0aW9uKGUsZixnLGgsayxtKXtmdW5jdGlvbiBsKGIpe2Z1bmN0aW9uIGMoYSl7dmFyIGI9Tih7fSxhKTtiLmRhdGE9ZWQoYS5kYXRhLGEuaGVhZGVycyxhLnN0YXR1cyxmLnRyYW5zZm9ybVJlc3BvbnNlKTthPWEuc3RhdHVzO3JldHVybiAyMDA8PWEmJjMwMD5hP2I6ay5yZWplY3QoYil9ZnVuY3Rpb24gZShhLGIpe3ZhciBjLGQ9e307cChhLGZ1bmN0aW9uKGEsCmUpe0coYSk/KGM9YShiKSxudWxsIT1jJiYoZFtlXT1jKSk6ZFtlXT1hfSk7cmV0dXJuIGR9aWYoIWRhLmlzT2JqZWN0KGIpKXRocm93IEIoIiRodHRwIikoImJhZHJlcSIsYik7aWYoIUgoYi51cmwpKXRocm93IEIoIiRodHRwIikoImJhZHJlcSIsYi51cmwpO3ZhciBmPU4oe21ldGhvZDoiZ2V0Iix0cmFuc2Zvcm1SZXF1ZXN0OmEudHJhbnNmb3JtUmVxdWVzdCx0cmFuc2Zvcm1SZXNwb25zZTphLnRyYW5zZm9ybVJlc3BvbnNlLHBhcmFtU2VyaWFsaXplcjphLnBhcmFtU2VyaWFsaXplcn0sYik7Zi5oZWFkZXJzPWZ1bmN0aW9uKGIpe3ZhciBjPWEuaGVhZGVycyxkPU4oe30sYi5oZWFkZXJzKSxmLGcsaCxjPU4oe30sYy5jb21tb24sY1tNKGIubWV0aG9kKV0pO2E6Zm9yKGYgaW4gYyl7Zz1NKGYpO2ZvcihoIGluIGQpaWYoTShoKT09PWcpY29udGludWUgYTtkW2ZdPWNbZl19cmV0dXJuIGUoZCxmYShiKSl9KGIpO2YubWV0aG9kPXJiKGYubWV0aG9kKTtmLnBhcmFtU2VyaWFsaXplcj0KSChmLnBhcmFtU2VyaWFsaXplcik/bS5nZXQoZi5wYXJhbVNlcmlhbGl6ZXIpOmYucGFyYW1TZXJpYWxpemVyO3ZhciBnPVtmdW5jdGlvbihiKXt2YXIgZD1iLmhlYWRlcnMsZT1lZChiLmRhdGEsZGQoZCkseCxiLnRyYW5zZm9ybVJlcXVlc3QpO3IoZSkmJnAoZCxmdW5jdGlvbihhLGIpeyJjb250ZW50LXR5cGUiPT09TShiKSYmZGVsZXRlIGRbYl19KTtyKGIud2l0aENyZWRlbnRpYWxzKSYmIXIoYS53aXRoQ3JlZGVudGlhbHMpJiYoYi53aXRoQ3JlZGVudGlhbHM9YS53aXRoQ3JlZGVudGlhbHMpO3JldHVybiBuKGIsZSkudGhlbihjLGMpfSx4XSxoPWsud2hlbihmKTtmb3IocCh0LGZ1bmN0aW9uKGEpeyhhLnJlcXVlc3R8fGEucmVxdWVzdEVycm9yKSYmZy51bnNoaWZ0KGEucmVxdWVzdCxhLnJlcXVlc3RFcnJvcik7KGEucmVzcG9uc2V8fGEucmVzcG9uc2VFcnJvcikmJmcucHVzaChhLnJlc3BvbnNlLGEucmVzcG9uc2VFcnJvcil9KTtnLmxlbmd0aDspe2I9Zy5zaGlmdCgpO3ZhciBsPQpnLnNoaWZ0KCksaD1oLnRoZW4oYixsKX1kPyhoLnN1Y2Nlc3M9ZnVuY3Rpb24oYSl7UmEoYSwiZm4iKTtoLnRoZW4oZnVuY3Rpb24oYil7YShiLmRhdGEsYi5zdGF0dXMsYi5oZWFkZXJzLGYpfSk7cmV0dXJuIGh9LGguZXJyb3I9ZnVuY3Rpb24oYSl7UmEoYSwiZm4iKTtoLnRoZW4obnVsbCxmdW5jdGlvbihiKXthKGIuZGF0YSxiLnN0YXR1cyxiLmhlYWRlcnMsZil9KTtyZXR1cm4gaH0pOihoLnN1Y2Nlc3M9ZmQoInN1Y2Nlc3MiKSxoLmVycm9yPWZkKCJlcnJvciIpKTtyZXR1cm4gaH1mdW5jdGlvbiBuKGMsZCl7ZnVuY3Rpb24gZyhhLGMsZCxlKXtmdW5jdGlvbiBmKCl7bShjLGEsZCxlKX1DJiYoMjAwPD1hJiYzMDA+YT9DLnB1dChPLFthLGMsY2QoZCksZV0pOkMucmVtb3ZlKE8pKTtiP2guJGFwcGx5QXN5bmMoZik6KGYoKSxoLiQkcGhhc2V8fGguJGFwcGx5KCkpfWZ1bmN0aW9uIG0oYSxiLGQsZSl7Yj0tMTw9Yj9iOjA7KDIwMDw9YiYmMzAwPmI/cC5yZXNvbHZlOnAucmVqZWN0KSh7ZGF0YTphLApzdGF0dXM6YixoZWFkZXJzOmRkKGQpLGNvbmZpZzpjLHN0YXR1c1RleHQ6ZX0pfWZ1bmN0aW9uIG4oYSl7bShhLmRhdGEsYS5zdGF0dXMsZmEoYS5oZWFkZXJzKCkpLGEuc3RhdHVzVGV4dCl9ZnVuY3Rpb24gdCgpe3ZhciBhPWwucGVuZGluZ1JlcXVlc3RzLmluZGV4T2YoYyk7LTEhPT1hJiZsLnBlbmRpbmdSZXF1ZXN0cy5zcGxpY2UoYSwxKX12YXIgcD1rLmRlZmVyKCksRT1wLnByb21pc2UsQyxJLFc9Yy5oZWFkZXJzLE89SihjLnVybCxjLnBhcmFtU2VyaWFsaXplcihjLnBhcmFtcykpO2wucGVuZGluZ1JlcXVlc3RzLnB1c2goYyk7RS50aGVuKHQsdCk7IWMuY2FjaGUmJiFhLmNhY2hlfHwhMT09PWMuY2FjaGV8fCJHRVQiIT09Yy5tZXRob2QmJiJKU09OUCIhPT1jLm1ldGhvZHx8KEM9SyhjLmNhY2hlKT9jLmNhY2hlOksoYS5jYWNoZSk/YS5jYWNoZTp6KTtDJiYoST1DLmdldChPKSx1KEkpP0kmJkcoSS50aGVuKT9JLnRoZW4obixuKTpMKEkpP20oSVsxXSxJWzBdLGZhKElbMl0pLApJWzNdKTptKEksMjAwLHt9LCJPSyIpOkMucHV0KE8sRSkpO3IoSSkmJigoST1nZChjLnVybCk/ZigpW2MueHNyZkNvb2tpZU5hbWV8fGEueHNyZkNvb2tpZU5hbWVdOngpJiYoV1tjLnhzcmZIZWFkZXJOYW1lfHxhLnhzcmZIZWFkZXJOYW1lXT1JKSxlKGMubWV0aG9kLE8sZCxnLFcsYy50aW1lb3V0LGMud2l0aENyZWRlbnRpYWxzLGMucmVzcG9uc2VUeXBlKSk7cmV0dXJuIEV9ZnVuY3Rpb24gSihhLGIpezA8Yi5sZW5ndGgmJihhKz0oLTE9PWEuaW5kZXhPZigiPyIpPyI/IjoiJiIpK2IpO3JldHVybiBhfXZhciB6PWcoIiRodHRwIik7YS5wYXJhbVNlcmlhbGl6ZXI9SChhLnBhcmFtU2VyaWFsaXplcik/bS5nZXQoYS5wYXJhbVNlcmlhbGl6ZXIpOmEucGFyYW1TZXJpYWxpemVyO3ZhciB0PVtdO3AoYyxmdW5jdGlvbihhKXt0LnVuc2hpZnQoSChhKT9tLmdldChhKTptLmludm9rZShhKSl9KTtsLnBlbmRpbmdSZXF1ZXN0cz1bXTsoZnVuY3Rpb24oYSl7cChhcmd1bWVudHMsZnVuY3Rpb24oYSl7bFthXT0KZnVuY3Rpb24oYixjKXtyZXR1cm4gbChOKHt9LGN8fHt9LHttZXRob2Q6YSx1cmw6Yn0pKX19KX0pKCJnZXQiLCJkZWxldGUiLCJoZWFkIiwianNvbnAiKTsoZnVuY3Rpb24oYSl7cChhcmd1bWVudHMsZnVuY3Rpb24oYSl7bFthXT1mdW5jdGlvbihiLGMsZCl7cmV0dXJuIGwoTih7fSxkfHx7fSx7bWV0aG9kOmEsdXJsOmIsZGF0YTpjfSkpfX0pfSkoInBvc3QiLCJwdXQiLCJwYXRjaCIpO2wuZGVmYXVsdHM9YTtyZXR1cm4gbH1dfWZ1bmN0aW9uIG9mKCl7dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBSLlhNTEh0dHBSZXF1ZXN0fX19ZnVuY3Rpb24gbmYoKXt0aGlzLiRnZXQ9WyIkYnJvd3NlciIsIiR3aW5kb3ciLCIkZG9jdW1lbnQiLCIkeGhyRmFjdG9yeSIsZnVuY3Rpb24oYSxiLGQsYyl7cmV0dXJuIGJnKGEsYyxhLmRlZmVyLGIuYW5ndWxhci5jYWxsYmFja3MsZFswXSl9XX1mdW5jdGlvbiBiZyhhLGIsZCxjLGUpe2Z1bmN0aW9uIGYoYSwKYixkKXt2YXIgZj1lLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpLGw9bnVsbDtmLnR5cGU9InRleHQvamF2YXNjcmlwdCI7Zi5zcmM9YTtmLmFzeW5jPSEwO2w9ZnVuY3Rpb24oYSl7Zi5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixsLCExKTtmLnJlbW92ZUV2ZW50TGlzdGVuZXIoImVycm9yIixsLCExKTtlLmJvZHkucmVtb3ZlQ2hpbGQoZik7Zj1udWxsO3ZhciBnPS0xLHo9InVua25vd24iO2EmJigibG9hZCIhPT1hLnR5cGV8fGNbYl0uY2FsbGVkfHwoYT17dHlwZToiZXJyb3IifSksej1hLnR5cGUsZz0iZXJyb3IiPT09YS50eXBlPzQwNDoyMDApO2QmJmQoZyx6KX07Zi5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixsLCExKTtmLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixsLCExKTtlLmJvZHkuYXBwZW5kQ2hpbGQoZik7cmV0dXJuIGx9cmV0dXJuIGZ1bmN0aW9uKGUsaCxrLG0sbCxuLEoseil7ZnVuY3Rpb24gdCgpe3kmJnkoKTt3JiZ3LmFib3J0KCl9ZnVuY3Rpb24gQShiLGMsCmUsZixnKXt1KEYpJiZkLmNhbmNlbChGKTt5PXc9bnVsbDtiKGMsZSxmLGcpO2EuJCRjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdCh2KX1hLiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQoKTtoPWh8fGEudXJsKCk7aWYoImpzb25wIj09TShlKSl7dmFyIHE9Il8iKyhjLmNvdW50ZXIrKykudG9TdHJpbmcoMzYpO2NbcV09ZnVuY3Rpb24oYSl7Y1txXS5kYXRhPWE7Y1txXS5jYWxsZWQ9ITB9O3ZhciB5PWYoaC5yZXBsYWNlKCJKU09OX0NBTExCQUNLIiwiYW5ndWxhci5jYWxsYmFja3MuIitxKSxxLGZ1bmN0aW9uKGEsYil7QShtLGEsY1txXS5kYXRhLCIiLGIpO2NbcV09dn0pfWVsc2V7dmFyIHc9YihlLGgpO3cub3BlbihlLGgsITApO3AobCxmdW5jdGlvbihhLGIpe3UoYSkmJncuc2V0UmVxdWVzdEhlYWRlcihiLGEpfSk7dy5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgYT13LnN0YXR1c1RleHR8fCIiLGI9InJlc3BvbnNlImluIHc/dy5yZXNwb25zZTp3LnJlc3BvbnNlVGV4dCxjPQoxMjIzPT09dy5zdGF0dXM/MjA0Oncuc3RhdHVzOzA9PT1jJiYoYz1iPzIwMDoiZmlsZSI9PXhhKGgpLnByb3RvY29sPzQwNDowKTtBKG0sYyxiLHcuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCksYSl9O2U9ZnVuY3Rpb24oKXtBKG0sLTEsbnVsbCxudWxsLCIiKX07dy5vbmVycm9yPWU7dy5vbmFib3J0PWU7SiYmKHcud2l0aENyZWRlbnRpYWxzPSEwKTtpZih6KXRyeXt3LnJlc3BvbnNlVHlwZT16fWNhdGNoKFYpe2lmKCJqc29uIiE9PXopdGhyb3cgVjt9dy5zZW5kKHIoayk/bnVsbDprKX1pZigwPG4pdmFyIEY9ZCh0LG4pO2Vsc2UgbiYmRyhuLnRoZW4pJiZuLnRoZW4odCl9fWZ1bmN0aW9uIGhmKCl7dmFyIGE9Int7IixiPSJ9fSI7dGhpcy5zdGFydFN5bWJvbD1mdW5jdGlvbihiKXtyZXR1cm4gYj8oYT1iLHRoaXMpOmF9O3RoaXMuZW5kU3ltYm9sPWZ1bmN0aW9uKGEpe3JldHVybiBhPyhiPWEsdGhpcyk6Yn07dGhpcy4kZ2V0PVsiJHBhcnNlIiwiJGV4Y2VwdGlvbkhhbmRsZXIiLCIkc2NlIiwKZnVuY3Rpb24oZCxjLGUpe2Z1bmN0aW9uIGYoYSl7cmV0dXJuIlxcXFxcXCIrYX1mdW5jdGlvbiBnKGMpe3JldHVybiBjLnJlcGxhY2UobCxhKS5yZXBsYWNlKG4sYil9ZnVuY3Rpb24gaChmLGgsbCxuKXtmdW5jdGlvbiBxKGEpe3RyeXt2YXIgYj1hO2E9bD9lLmdldFRydXN0ZWQobCxiKTplLnZhbHVlT2YoYik7dmFyIGQ7aWYobiYmIXUoYSkpZD1hO2Vsc2UgaWYobnVsbD09YSlkPSIiO2Vsc2V7c3dpdGNoKHR5cGVvZiBhKXtjYXNlICJzdHJpbmciOmJyZWFrO2Nhc2UgIm51bWJlciI6YT0iIithO2JyZWFrO2RlZmF1bHQ6YT1jYihhKX1kPWF9cmV0dXJuIGR9Y2F0Y2goZyl7YyhJYS5pbnRlcnIoZixnKSl9fW49ISFuO2Zvcih2YXIgeSx3LHA9MCxGPVtdLFE9W10sRT1mLmxlbmd0aCxDPVtdLEk9W107cDxFOylpZigtMSE9KHk9Zi5pbmRleE9mKGEscCkpJiYtMSE9KHc9Zi5pbmRleE9mKGIseStrKSkpcCE9PXkmJkMucHVzaChnKGYuc3Vic3RyaW5nKHAseSkpKSxwPWYuc3Vic3RyaW5nKHkrCmssdyksRi5wdXNoKHApLFEucHVzaChkKHAscSkpLHA9dyttLEkucHVzaChDLmxlbmd0aCksQy5wdXNoKCIiKTtlbHNle3AhPT1FJiZDLnB1c2goZyhmLnN1YnN0cmluZyhwKSkpO2JyZWFrfWwmJjE8Qy5sZW5ndGgmJklhLnRocm93Tm9jb25jYXQoZik7aWYoIWh8fEYubGVuZ3RoKXt2YXIgVz1mdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPUYubGVuZ3RoO2I8YztiKyspe2lmKG4mJnIoYVtiXSkpcmV0dXJuO0NbSVtiXV09YVtiXX1yZXR1cm4gQy5qb2luKCIiKX07cmV0dXJuIE4oZnVuY3Rpb24oYSl7dmFyIGI9MCxkPUYubGVuZ3RoLGU9QXJyYXkoZCk7dHJ5e2Zvcig7YjxkO2IrKyllW2JdPVFbYl0oYSk7cmV0dXJuIFcoZSl9Y2F0Y2goZyl7YyhJYS5pbnRlcnIoZixnKSl9fSx7ZXhwOmYsZXhwcmVzc2lvbnM6RiwkJHdhdGNoRGVsZWdhdGU6ZnVuY3Rpb24oYSxiKXt2YXIgYztyZXR1cm4gYS4kd2F0Y2hHcm91cChRLGZ1bmN0aW9uKGQsZSl7dmFyIGY9VyhkKTtHKGIpJiZiLmNhbGwodGhpcywKZixkIT09ZT9jOmYsYSk7Yz1mfSl9fSl9fXZhciBrPWEubGVuZ3RoLG09Yi5sZW5ndGgsbD1uZXcgUmVnRXhwKGEucmVwbGFjZSgvLi9nLGYpLCJnIiksbj1uZXcgUmVnRXhwKGIucmVwbGFjZSgvLi9nLGYpLCJnIik7aC5zdGFydFN5bWJvbD1mdW5jdGlvbigpe3JldHVybiBhfTtoLmVuZFN5bWJvbD1mdW5jdGlvbigpe3JldHVybiBifTtyZXR1cm4gaH1dfWZ1bmN0aW9uIGpmKCl7dGhpcy4kZ2V0PVsiJHJvb3RTY29wZSIsIiR3aW5kb3ciLCIkcSIsIiQkcSIsZnVuY3Rpb24oYSxiLGQsYyl7ZnVuY3Rpb24gZShlLGgsayxtKXt2YXIgbD00PGFyZ3VtZW50cy5sZW5ndGgsbj1sP3RhLmNhbGwoYXJndW1lbnRzLDQpOltdLEo9Yi5zZXRJbnRlcnZhbCx6PWIuY2xlYXJJbnRlcnZhbCx0PTAsQT11KG0pJiYhbSxxPShBP2M6ZCkuZGVmZXIoKSx5PXEucHJvbWlzZTtrPXUoayk/azowO3kudGhlbihudWxsLG51bGwsbD9mdW5jdGlvbigpe2UuYXBwbHkobnVsbCxuKX06ZSk7eS4kJGludGVydmFsSWQ9CkooZnVuY3Rpb24oKXtxLm5vdGlmeSh0KyspOzA8ayYmdD49ayYmKHEucmVzb2x2ZSh0KSx6KHkuJCRpbnRlcnZhbElkKSxkZWxldGUgZlt5LiQkaW50ZXJ2YWxJZF0pO0F8fGEuJGFwcGx5KCl9LGgpO2ZbeS4kJGludGVydmFsSWRdPXE7cmV0dXJuIHl9dmFyIGY9e307ZS5jYW5jZWw9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmEuJCRpbnRlcnZhbElkIGluIGY/KGZbYS4kJGludGVydmFsSWRdLnJlamVjdCgiY2FuY2VsZWQiKSxiLmNsZWFySW50ZXJ2YWwoYS4kJGludGVydmFsSWQpLGRlbGV0ZSBmW2EuJCRpbnRlcnZhbElkXSwhMCk6ITF9O3JldHVybiBlfV19ZnVuY3Rpb24gYmMoYSl7YT1hLnNwbGl0KCIvIik7Zm9yKHZhciBiPWEubGVuZ3RoO2ItLTspYVtiXT1uYihhW2JdKTtyZXR1cm4gYS5qb2luKCIvIil9ZnVuY3Rpb24gaGQoYSxiKXt2YXIgZD14YShhKTtiLiQkcHJvdG9jb2w9ZC5wcm90b2NvbDtiLiQkaG9zdD1kLmhvc3RuYW1lO2IuJCRwb3J0PWNhKGQucG9ydCl8fGNnW2QucHJvdG9jb2xdfHwKbnVsbH1mdW5jdGlvbiBpZChhLGIpe3ZhciBkPSIvIiE9PWEuY2hhckF0KDApO2QmJihhPSIvIithKTt2YXIgYz14YShhKTtiLiQkcGF0aD1kZWNvZGVVUklDb21wb25lbnQoZCYmIi8iPT09Yy5wYXRobmFtZS5jaGFyQXQoMCk/Yy5wYXRobmFtZS5zdWJzdHJpbmcoMSk6Yy5wYXRobmFtZSk7Yi4kJHNlYXJjaD14YyhjLnNlYXJjaCk7Yi4kJGhhc2g9ZGVjb2RlVVJJQ29tcG9uZW50KGMuaGFzaCk7Yi4kJHBhdGgmJiIvIiE9Yi4kJHBhdGguY2hhckF0KDApJiYoYi4kJHBhdGg9Ii8iK2IuJCRwYXRoKX1mdW5jdGlvbiByYShhLGIpe2lmKDA9PT1iLmluZGV4T2YoYSkpcmV0dXJuIGIuc3Vic3RyKGEubGVuZ3RoKX1mdW5jdGlvbiBHYShhKXt2YXIgYj1hLmluZGV4T2YoIiMiKTtyZXR1cm4tMT09Yj9hOmEuc3Vic3RyKDAsYil9ZnVuY3Rpb24gaGIoYSl7cmV0dXJuIGEucmVwbGFjZSgvKCMuKyl8IyQvLCIkMSIpfWZ1bmN0aW9uIGNjKGEsYixkKXt0aGlzLiQkaHRtbDU9ITA7ZD1kfHwiIjsKaGQoYSx0aGlzKTt0aGlzLiQkcGFyc2U9ZnVuY3Rpb24oYSl7dmFyIGQ9cmEoYixhKTtpZighSChkKSl0aHJvdyBDYigiaXB0aHByZngiLGEsYik7aWQoZCx0aGlzKTt0aGlzLiQkcGF0aHx8KHRoaXMuJCRwYXRoPSIvIik7dGhpcy4kJGNvbXBvc2UoKX07dGhpcy4kJGNvbXBvc2U9ZnVuY3Rpb24oKXt2YXIgYT1RYih0aGlzLiQkc2VhcmNoKSxkPXRoaXMuJCRoYXNoPyIjIituYih0aGlzLiQkaGFzaCk6IiI7dGhpcy4kJHVybD1iYyh0aGlzLiQkcGF0aCkrKGE/Ij8iK2E6IiIpK2Q7dGhpcy4kJGFic1VybD1iK3RoaXMuJCR1cmwuc3Vic3RyKDEpfTt0aGlzLiQkcGFyc2VMaW5rVXJsPWZ1bmN0aW9uKGMsZSl7aWYoZSYmIiMiPT09ZVswXSlyZXR1cm4gdGhpcy5oYXNoKGUuc2xpY2UoMSkpLCEwO3ZhciBmLGc7dShmPXJhKGEsYykpPyhnPWYsZz11KGY9cmEoZCxmKSk/YisocmEoIi8iLGYpfHxmKTphK2cpOnUoZj1yYShiLGMpKT9nPWIrZjpiPT1jKyIvIiYmKGc9Yik7ZyYmdGhpcy4kJHBhcnNlKGcpOwpyZXR1cm4hIWd9fWZ1bmN0aW9uIGRjKGEsYixkKXtoZChhLHRoaXMpO3RoaXMuJCRwYXJzZT1mdW5jdGlvbihjKXt2YXIgZT1yYShhLGMpfHxyYShiLGMpLGY7cihlKXx8IiMiIT09ZS5jaGFyQXQoMCk/dGhpcy4kJGh0bWw1P2Y9ZTooZj0iIixyKGUpJiYoYT1jLHRoaXMucmVwbGFjZSgpKSk6KGY9cmEoZCxlKSxyKGYpJiYoZj1lKSk7aWQoZix0aGlzKTtjPXRoaXMuJCRwYXRoO3ZhciBlPWEsZz0vXlwvW0EtWl06KFwvLiopLzswPT09Zi5pbmRleE9mKGUpJiYoZj1mLnJlcGxhY2UoZSwiIikpO2cuZXhlYyhmKXx8KGM9KGY9Zy5leGVjKGMpKT9mWzFdOmMpO3RoaXMuJCRwYXRoPWM7dGhpcy4kJGNvbXBvc2UoKX07dGhpcy4kJGNvbXBvc2U9ZnVuY3Rpb24oKXt2YXIgYj1RYih0aGlzLiQkc2VhcmNoKSxlPXRoaXMuJCRoYXNoPyIjIituYih0aGlzLiQkaGFzaCk6IiI7dGhpcy4kJHVybD1iYyh0aGlzLiQkcGF0aCkrKGI/Ij8iK2I6IiIpK2U7dGhpcy4kJGFic1VybD1hKyh0aGlzLiQkdXJsPwpkK3RoaXMuJCR1cmw6IiIpfTt0aGlzLiQkcGFyc2VMaW5rVXJsPWZ1bmN0aW9uKGIsZCl7cmV0dXJuIEdhKGEpPT1HYShiKT8odGhpcy4kJHBhcnNlKGIpLCEwKTohMX19ZnVuY3Rpb24gamQoYSxiLGQpe3RoaXMuJCRodG1sNT0hMDtkYy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy4kJHBhcnNlTGlua1VybD1mdW5jdGlvbihjLGUpe2lmKGUmJiIjIj09PWVbMF0pcmV0dXJuIHRoaXMuaGFzaChlLnNsaWNlKDEpKSwhMDt2YXIgZixnO2E9PUdhKGMpP2Y9YzooZz1yYShiLGMpKT9mPWErZCtnOmI9PT1jKyIvIiYmKGY9Yik7ZiYmdGhpcy4kJHBhcnNlKGYpO3JldHVybiEhZn07dGhpcy4kJGNvbXBvc2U9ZnVuY3Rpb24oKXt2YXIgYj1RYih0aGlzLiQkc2VhcmNoKSxlPXRoaXMuJCRoYXNoPyIjIituYih0aGlzLiQkaGFzaCk6IiI7dGhpcy4kJHVybD1iYyh0aGlzLiQkcGF0aCkrKGI/Ij8iK2I6IiIpK2U7dGhpcy4kJGFic1VybD1hK2QrdGhpcy4kJHVybH19ZnVuY3Rpb24gRGIoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbYV19fQpmdW5jdGlvbiBrZChhLGIpe3JldHVybiBmdW5jdGlvbihkKXtpZihyKGQpKXJldHVybiB0aGlzW2FdO3RoaXNbYV09YihkKTt0aGlzLiQkY29tcG9zZSgpO3JldHVybiB0aGlzfX1mdW5jdGlvbiBwZigpe3ZhciBhPSIiLGI9e2VuYWJsZWQ6ITEscmVxdWlyZUJhc2U6ITAscmV3cml0ZUxpbmtzOiEwfTt0aGlzLmhhc2hQcmVmaXg9ZnVuY3Rpb24oYil7cmV0dXJuIHUoYik/KGE9Yix0aGlzKTphfTt0aGlzLmh0bWw1TW9kZT1mdW5jdGlvbihhKXtyZXR1cm4gTWEoYSk/KGIuZW5hYmxlZD1hLHRoaXMpOksoYSk/KE1hKGEuZW5hYmxlZCkmJihiLmVuYWJsZWQ9YS5lbmFibGVkKSxNYShhLnJlcXVpcmVCYXNlKSYmKGIucmVxdWlyZUJhc2U9YS5yZXF1aXJlQmFzZSksTWEoYS5yZXdyaXRlTGlua3MpJiYoYi5yZXdyaXRlTGlua3M9YS5yZXdyaXRlTGlua3MpLHRoaXMpOmJ9O3RoaXMuJGdldD1bIiRyb290U2NvcGUiLCIkYnJvd3NlciIsIiRzbmlmZmVyIiwiJHJvb3RFbGVtZW50IiwiJHdpbmRvdyIsCmZ1bmN0aW9uKGQsYyxlLGYsZyl7ZnVuY3Rpb24gaChhLGIsZCl7dmFyIGU9bS51cmwoKSxmPW0uJCRzdGF0ZTt0cnl7Yy51cmwoYSxiLGQpLG0uJCRzdGF0ZT1jLnN0YXRlKCl9Y2F0Y2goZyl7dGhyb3cgbS51cmwoZSksbS4kJHN0YXRlPWYsZzt9fWZ1bmN0aW9uIGsoYSxiKXtkLiRicm9hZGNhc3QoIiRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MiLG0uYWJzVXJsKCksYSxtLiQkc3RhdGUsYil9dmFyIG0sbDtsPWMuYmFzZUhyZWYoKTt2YXIgbj1jLnVybCgpLEo7aWYoYi5lbmFibGVkKXtpZighbCYmYi5yZXF1aXJlQmFzZSl0aHJvdyBDYigibm9iYXNlIik7Sj1uLnN1YnN0cmluZygwLG4uaW5kZXhPZigiLyIsbi5pbmRleE9mKCIvLyIpKzIpKSsobHx8Ii8iKTtsPWUuaGlzdG9yeT9jYzpqZH1lbHNlIEo9R2EobiksbD1kYzt2YXIgej1KLnN1YnN0cigwLEdhKEopLmxhc3RJbmRleE9mKCIvIikrMSk7bT1uZXcgbChKLHosIiMiK2EpO20uJCRwYXJzZUxpbmtVcmwobixuKTttLiQkc3RhdGU9CmMuc3RhdGUoKTt2YXIgdD0vXlxzKihqYXZhc2NyaXB0fG1haWx0byk6L2k7Zi5vbigiY2xpY2siLGZ1bmN0aW9uKGEpe2lmKGIucmV3cml0ZUxpbmtzJiYhYS5jdHJsS2V5JiYhYS5tZXRhS2V5JiYhYS5zaGlmdEtleSYmMiE9YS53aGljaCYmMiE9YS5idXR0b24pe2Zvcih2YXIgZT1EKGEudGFyZ2V0KTsiYSIhPT1vYShlWzBdKTspaWYoZVswXT09PWZbMF18fCEoZT1lLnBhcmVudCgpKVswXSlyZXR1cm47dmFyIGg9ZS5wcm9wKCJocmVmIiksaz1lLmF0dHIoImhyZWYiKXx8ZS5hdHRyKCJ4bGluazpocmVmIik7SyhoKSYmIltvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddIj09PWgudG9TdHJpbmcoKSYmKGg9eGEoaC5hbmltVmFsKS5ocmVmKTt0LnRlc3QoaCl8fCFofHxlLmF0dHIoInRhcmdldCIpfHxhLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwhbS4kJHBhcnNlTGlua1VybChoLGspfHwoYS5wcmV2ZW50RGVmYXVsdCgpLG0uYWJzVXJsKCkhPWMudXJsKCkmJihkLiRhcHBseSgpLGcuYW5ndWxhclsiZmYtNjg0MjA4LXByZXZlbnREZWZhdWx0Il09CiEwKSl9fSk7aGIobS5hYnNVcmwoKSkhPWhiKG4pJiZjLnVybChtLmFic1VybCgpLCEwKTt2YXIgQT0hMDtjLm9uVXJsQ2hhbmdlKGZ1bmN0aW9uKGEsYil7cihyYSh6LGEpKT9nLmxvY2F0aW9uLmhyZWY9YTooZC4kZXZhbEFzeW5jKGZ1bmN0aW9uKCl7dmFyIGM9bS5hYnNVcmwoKSxlPW0uJCRzdGF0ZSxmO2E9aGIoYSk7bS4kJHBhcnNlKGEpO20uJCRzdGF0ZT1iO2Y9ZC4kYnJvYWRjYXN0KCIkbG9jYXRpb25DaGFuZ2VTdGFydCIsYSxjLGIsZSkuZGVmYXVsdFByZXZlbnRlZDttLmFic1VybCgpPT09YSYmKGY/KG0uJCRwYXJzZShjKSxtLiQkc3RhdGU9ZSxoKGMsITEsZSkpOihBPSExLGsoYyxlKSkpfSksZC4kJHBoYXNlfHxkLiRkaWdlc3QoKSl9KTtkLiR3YXRjaChmdW5jdGlvbigpe3ZhciBhPWhiKGMudXJsKCkpLGI9aGIobS5hYnNVcmwoKSksZj1jLnN0YXRlKCksZz1tLiQkcmVwbGFjZSxsPWEhPT1ifHxtLiQkaHRtbDUmJmUuaGlzdG9yeSYmZiE9PW0uJCRzdGF0ZTtpZihBfHwKbClBPSExLGQuJGV2YWxBc3luYyhmdW5jdGlvbigpe3ZhciBiPW0uYWJzVXJsKCksYz1kLiRicm9hZGNhc3QoIiRsb2NhdGlvbkNoYW5nZVN0YXJ0IixiLGEsbS4kJHN0YXRlLGYpLmRlZmF1bHRQcmV2ZW50ZWQ7bS5hYnNVcmwoKT09PWImJihjPyhtLiQkcGFyc2UoYSksbS4kJHN0YXRlPWYpOihsJiZoKGIsZyxmPT09bS4kJHN0YXRlP251bGw6bS4kJHN0YXRlKSxrKGEsZikpKX0pO20uJCRyZXBsYWNlPSExfSk7cmV0dXJuIG19XX1mdW5jdGlvbiBxZigpe3ZhciBhPSEwLGI9dGhpczt0aGlzLmRlYnVnRW5hYmxlZD1mdW5jdGlvbihiKXtyZXR1cm4gdShiKT8oYT1iLHRoaXMpOmF9O3RoaXMuJGdldD1bIiR3aW5kb3ciLGZ1bmN0aW9uKGQpe2Z1bmN0aW9uIGMoYSl7YSBpbnN0YW5jZW9mIEVycm9yJiYoYS5zdGFjaz9hPWEubWVzc2FnZSYmLTE9PT1hLnN0YWNrLmluZGV4T2YoYS5tZXNzYWdlKT8iRXJyb3I6ICIrYS5tZXNzYWdlKyJcbiIrYS5zdGFjazphLnN0YWNrOmEuc291cmNlVVJMJiYKKGE9YS5tZXNzYWdlKyJcbiIrYS5zb3VyY2VVUkwrIjoiK2EubGluZSkpO3JldHVybiBhfWZ1bmN0aW9uIGUoYSl7dmFyIGI9ZC5jb25zb2xlfHx7fSxlPWJbYV18fGIubG9nfHx2O2E9ITE7dHJ5e2E9ISFlLmFwcGx5fWNhdGNoKGspe31yZXR1cm4gYT9mdW5jdGlvbigpe3ZhciBhPVtdO3AoYXJndW1lbnRzLGZ1bmN0aW9uKGIpe2EucHVzaChjKGIpKX0pO3JldHVybiBlLmFwcGx5KGIsYSl9OmZ1bmN0aW9uKGEsYil7ZShhLG51bGw9PWI/IiI6Yil9fXJldHVybntsb2c6ZSgibG9nIiksaW5mbzplKCJpbmZvIiksd2FybjplKCJ3YXJuIiksZXJyb3I6ZSgiZXJyb3IiKSxkZWJ1ZzpmdW5jdGlvbigpe3ZhciBjPWUoImRlYnVnIik7cmV0dXJuIGZ1bmN0aW9uKCl7YSYmYy5hcHBseShiLGFyZ3VtZW50cyl9fSgpfX1dfWZ1bmN0aW9uIFdhKGEsYil7aWYoIl9fZGVmaW5lR2V0dGVyX18iPT09YXx8Il9fZGVmaW5lU2V0dGVyX18iPT09YXx8Il9fbG9va3VwR2V0dGVyX18iPT09YXx8Il9fbG9va3VwU2V0dGVyX18iPT09CmF8fCJfX3Byb3RvX18iPT09YSl0aHJvdyBhYSgiaXNlY2ZsZCIsYik7cmV0dXJuIGF9ZnVuY3Rpb24gbGQoYSxiKXthKz0iIjtpZighSChhKSl0aHJvdyBhYSgiaXNlY2NzdCIsYik7cmV0dXJuIGF9ZnVuY3Rpb24geWEoYSxiKXtpZihhKXtpZihhLmNvbnN0cnVjdG9yPT09YSl0aHJvdyBhYSgiaXNlY2ZuIixiKTtpZihhLndpbmRvdz09PWEpdGhyb3cgYWEoImlzZWN3aW5kb3ciLGIpO2lmKGEuY2hpbGRyZW4mJihhLm5vZGVOYW1lfHxhLnByb3AmJmEuYXR0ciYmYS5maW5kKSl0aHJvdyBhYSgiaXNlY2RvbSIsYik7aWYoYT09PU9iamVjdCl0aHJvdyBhYSgiaXNlY29iaiIsYik7fXJldHVybiBhfWZ1bmN0aW9uIG1kKGEsYil7aWYoYSl7aWYoYS5jb25zdHJ1Y3Rvcj09PWEpdGhyb3cgYWEoImlzZWNmbiIsYik7aWYoYT09PWRnfHxhPT09ZWd8fGE9PT1mZyl0aHJvdyBhYSgiaXNlY2ZmIixiKTt9fWZ1bmN0aW9uIEViKGEsYil7aWYoYSYmKGE9PT0oMCkuY29uc3RydWN0b3J8fGE9PT0KKCExKS5jb25zdHJ1Y3Rvcnx8YT09PSIiLmNvbnN0cnVjdG9yfHxhPT09e30uY29uc3RydWN0b3J8fGE9PT1bXS5jb25zdHJ1Y3Rvcnx8YT09PUZ1bmN0aW9uLmNvbnN0cnVjdG9yKSl0aHJvdyBhYSgiaXNlY2FmIixiKTt9ZnVuY3Rpb24gZ2coYSxiKXtyZXR1cm4idW5kZWZpbmVkIiE9PXR5cGVvZiBhP2E6Yn1mdW5jdGlvbiBuZChhLGIpe3JldHVybiJ1bmRlZmluZWQiPT09dHlwZW9mIGE/YjoidW5kZWZpbmVkIj09PXR5cGVvZiBiP2E6YStifWZ1bmN0aW9uIFgoYSxiKXt2YXIgZCxjO3N3aXRjaChhLnR5cGUpe2Nhc2Ugcy5Qcm9ncmFtOmQ9ITA7cChhLmJvZHksZnVuY3Rpb24oYSl7WChhLmV4cHJlc3Npb24sYik7ZD1kJiZhLmV4cHJlc3Npb24uY29uc3RhbnR9KTthLmNvbnN0YW50PWQ7YnJlYWs7Y2FzZSBzLkxpdGVyYWw6YS5jb25zdGFudD0hMDthLnRvV2F0Y2g9W107YnJlYWs7Y2FzZSBzLlVuYXJ5RXhwcmVzc2lvbjpYKGEuYXJndW1lbnQsYik7YS5jb25zdGFudD1hLmFyZ3VtZW50LmNvbnN0YW50OwphLnRvV2F0Y2g9YS5hcmd1bWVudC50b1dhdGNoO2JyZWFrO2Nhc2Ugcy5CaW5hcnlFeHByZXNzaW9uOlgoYS5sZWZ0LGIpO1goYS5yaWdodCxiKTthLmNvbnN0YW50PWEubGVmdC5jb25zdGFudCYmYS5yaWdodC5jb25zdGFudDthLnRvV2F0Y2g9YS5sZWZ0LnRvV2F0Y2guY29uY2F0KGEucmlnaHQudG9XYXRjaCk7YnJlYWs7Y2FzZSBzLkxvZ2ljYWxFeHByZXNzaW9uOlgoYS5sZWZ0LGIpO1goYS5yaWdodCxiKTthLmNvbnN0YW50PWEubGVmdC5jb25zdGFudCYmYS5yaWdodC5jb25zdGFudDthLnRvV2F0Y2g9YS5jb25zdGFudD9bXTpbYV07YnJlYWs7Y2FzZSBzLkNvbmRpdGlvbmFsRXhwcmVzc2lvbjpYKGEudGVzdCxiKTtYKGEuYWx0ZXJuYXRlLGIpO1goYS5jb25zZXF1ZW50LGIpO2EuY29uc3RhbnQ9YS50ZXN0LmNvbnN0YW50JiZhLmFsdGVybmF0ZS5jb25zdGFudCYmYS5jb25zZXF1ZW50LmNvbnN0YW50O2EudG9XYXRjaD1hLmNvbnN0YW50P1tdOlthXTticmVhaztjYXNlIHMuSWRlbnRpZmllcjphLmNvbnN0YW50PQohMTthLnRvV2F0Y2g9W2FdO2JyZWFrO2Nhc2Ugcy5NZW1iZXJFeHByZXNzaW9uOlgoYS5vYmplY3QsYik7YS5jb21wdXRlZCYmWChhLnByb3BlcnR5LGIpO2EuY29uc3RhbnQ9YS5vYmplY3QuY29uc3RhbnQmJighYS5jb21wdXRlZHx8YS5wcm9wZXJ0eS5jb25zdGFudCk7YS50b1dhdGNoPVthXTticmVhaztjYXNlIHMuQ2FsbEV4cHJlc3Npb246ZD1hLmZpbHRlcj8hYihhLmNhbGxlZS5uYW1lKS4kc3RhdGVmdWw6ITE7Yz1bXTtwKGEuYXJndW1lbnRzLGZ1bmN0aW9uKGEpe1goYSxiKTtkPWQmJmEuY29uc3RhbnQ7YS5jb25zdGFudHx8Yy5wdXNoLmFwcGx5KGMsYS50b1dhdGNoKX0pO2EuY29uc3RhbnQ9ZDthLnRvV2F0Y2g9YS5maWx0ZXImJiFiKGEuY2FsbGVlLm5hbWUpLiRzdGF0ZWZ1bD9jOlthXTticmVhaztjYXNlIHMuQXNzaWdubWVudEV4cHJlc3Npb246WChhLmxlZnQsYik7WChhLnJpZ2h0LGIpO2EuY29uc3RhbnQ9YS5sZWZ0LmNvbnN0YW50JiZhLnJpZ2h0LmNvbnN0YW50OwphLnRvV2F0Y2g9W2FdO2JyZWFrO2Nhc2Ugcy5BcnJheUV4cHJlc3Npb246ZD0hMDtjPVtdO3AoYS5lbGVtZW50cyxmdW5jdGlvbihhKXtYKGEsYik7ZD1kJiZhLmNvbnN0YW50O2EuY29uc3RhbnR8fGMucHVzaC5hcHBseShjLGEudG9XYXRjaCl9KTthLmNvbnN0YW50PWQ7YS50b1dhdGNoPWM7YnJlYWs7Y2FzZSBzLk9iamVjdEV4cHJlc3Npb246ZD0hMDtjPVtdO3AoYS5wcm9wZXJ0aWVzLGZ1bmN0aW9uKGEpe1goYS52YWx1ZSxiKTtkPWQmJmEudmFsdWUuY29uc3RhbnQ7YS52YWx1ZS5jb25zdGFudHx8Yy5wdXNoLmFwcGx5KGMsYS52YWx1ZS50b1dhdGNoKX0pO2EuY29uc3RhbnQ9ZDthLnRvV2F0Y2g9YzticmVhaztjYXNlIHMuVGhpc0V4cHJlc3Npb246YS5jb25zdGFudD0hMSxhLnRvV2F0Y2g9W119fWZ1bmN0aW9uIG9kKGEpe2lmKDE9PWEubGVuZ3RoKXthPWFbMF0uZXhwcmVzc2lvbjt2YXIgYj1hLnRvV2F0Y2g7cmV0dXJuIDEhPT1iLmxlbmd0aD9iOmJbMF0hPT1hP2I6eH19CmZ1bmN0aW9uIHBkKGEpe3JldHVybiBhLnR5cGU9PT1zLklkZW50aWZpZXJ8fGEudHlwZT09PXMuTWVtYmVyRXhwcmVzc2lvbn1mdW5jdGlvbiBxZChhKXtpZigxPT09YS5ib2R5Lmxlbmd0aCYmcGQoYS5ib2R5WzBdLmV4cHJlc3Npb24pKXJldHVybnt0eXBlOnMuQXNzaWdubWVudEV4cHJlc3Npb24sbGVmdDphLmJvZHlbMF0uZXhwcmVzc2lvbixyaWdodDp7dHlwZTpzLk5HVmFsdWVQYXJhbWV0ZXJ9LG9wZXJhdG9yOiI9In19ZnVuY3Rpb24gcmQoYSl7cmV0dXJuIDA9PT1hLmJvZHkubGVuZ3RofHwxPT09YS5ib2R5Lmxlbmd0aCYmKGEuYm9keVswXS5leHByZXNzaW9uLnR5cGU9PT1zLkxpdGVyYWx8fGEuYm9keVswXS5leHByZXNzaW9uLnR5cGU9PT1zLkFycmF5RXhwcmVzc2lvbnx8YS5ib2R5WzBdLmV4cHJlc3Npb24udHlwZT09PXMuT2JqZWN0RXhwcmVzc2lvbil9ZnVuY3Rpb24gc2QoYSxiKXt0aGlzLmFzdEJ1aWxkZXI9YTt0aGlzLiRmaWx0ZXI9Yn1mdW5jdGlvbiB0ZChhLApiKXt0aGlzLmFzdEJ1aWxkZXI9YTt0aGlzLiRmaWx0ZXI9Yn1mdW5jdGlvbiBGYihhKXtyZXR1cm4iY29uc3RydWN0b3IiPT1hfWZ1bmN0aW9uIGVjKGEpe3JldHVybiBHKGEudmFsdWVPZik/YS52YWx1ZU9mKCk6aGcuY2FsbChhKX1mdW5jdGlvbiByZigpe3ZhciBhPVooKSxiPVooKTt0aGlzLiRnZXQ9WyIkZmlsdGVyIixmdW5jdGlvbihkKXtmdW5jdGlvbiBjKGMsZixuKXt2YXIgdyxwLEY7bj1ufHx0O3N3aXRjaCh0eXBlb2YgYyl7Y2FzZSAic3RyaW5nIjpGPWM9Yy50cmltKCk7dmFyIHI9bj9iOmE7dz1yW0ZdO2lmKCF3KXsiOiI9PT1jLmNoYXJBdCgwKSYmIjoiPT09Yy5jaGFyQXQoMSkmJihwPSEwLGM9Yy5zdWJzdHJpbmcoMikpO3c9bj96Oko7dmFyIEU9bmV3IGZjKHcpO3c9KG5ldyBnYyhFLGQsdykpLnBhcnNlKGMpO3cuY29uc3RhbnQ/dy4kJHdhdGNoRGVsZWdhdGU9bTpwP3cuJCR3YXRjaERlbGVnYXRlPXcubGl0ZXJhbD9rOmg6dy5pbnB1dHMmJih3LiQkd2F0Y2hEZWxlZ2F0ZT0KZyk7biYmKHc9ZSh3KSk7cltGXT13fXJldHVybiBsKHcsZik7Y2FzZSAiZnVuY3Rpb24iOnJldHVybiBsKGMsZik7ZGVmYXVsdDpyZXR1cm4gbCh2LGYpfX1mdW5jdGlvbiBlKGEpe2Z1bmN0aW9uIGIoYyxkLGUsZil7dmFyIGc9dDt0PSEwO3RyeXtyZXR1cm4gYShjLGQsZSxmKX1maW5hbGx5e3Q9Z319aWYoIWEpcmV0dXJuIGE7Yi4kJHdhdGNoRGVsZWdhdGU9YS4kJHdhdGNoRGVsZWdhdGU7Yi5hc3NpZ249ZShhLmFzc2lnbik7Yi5jb25zdGFudD1hLmNvbnN0YW50O2IubGl0ZXJhbD1hLmxpdGVyYWw7Zm9yKHZhciBjPTA7YS5pbnB1dHMmJmM8YS5pbnB1dHMubGVuZ3RoOysrYylhLmlucHV0c1tjXT1lKGEuaW5wdXRzW2NdKTtiLmlucHV0cz1hLmlucHV0cztyZXR1cm4gYn1mdW5jdGlvbiBmKGEsYil7cmV0dXJuIG51bGw9PWF8fG51bGw9PWI/YT09PWI6Im9iamVjdCI9PT10eXBlb2YgYSYmKGE9ZWMoYSksIm9iamVjdCI9PT10eXBlb2YgYSk/ITE6YT09PWJ8fGEhPT1hJiZiIT09CmJ9ZnVuY3Rpb24gZyhhLGIsYyxkLGUpe3ZhciBnPWQuaW5wdXRzLGg7aWYoMT09PWcubGVuZ3RoKXt2YXIgaz1mLGc9Z1swXTtyZXR1cm4gYS4kd2F0Y2goZnVuY3Rpb24oYSl7dmFyIGI9ZyhhKTtmKGIsayl8fChoPWQoYSx4LHgsW2JdKSxrPWImJmVjKGIpKTtyZXR1cm4gaH0sYixjLGUpfWZvcih2YXIgbD1bXSxtPVtdLG49MCxKPWcubGVuZ3RoO248SjtuKyspbFtuXT1mLG1bbl09bnVsbDtyZXR1cm4gYS4kd2F0Y2goZnVuY3Rpb24oYSl7Zm9yKHZhciBiPSExLGM9MCxlPWcubGVuZ3RoO2M8ZTtjKyspe3ZhciBrPWdbY10oYSk7aWYoYnx8KGI9IWYoayxsW2NdKSkpbVtjXT1rLGxbY109ayYmZWMoayl9YiYmKGg9ZChhLHgseCxtKSk7cmV0dXJuIGh9LGIsYyxlKX1mdW5jdGlvbiBoKGEsYixjLGQpe3ZhciBlLGY7cmV0dXJuIGU9YS4kd2F0Y2goZnVuY3Rpb24oYSl7cmV0dXJuIGQoYSl9LGZ1bmN0aW9uKGEsYyxkKXtmPWE7RyhiKSYmYi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dShhKSYmCmQuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCl7dShmKSYmZSgpfSl9LGMpfWZ1bmN0aW9uIGsoYSxiLGMsZCl7ZnVuY3Rpb24gZShhKXt2YXIgYj0hMDtwKGEsZnVuY3Rpb24oYSl7dShhKXx8KGI9ITEpfSk7cmV0dXJuIGJ9dmFyIGYsZztyZXR1cm4gZj1hLiR3YXRjaChmdW5jdGlvbihhKXtyZXR1cm4gZChhKX0sZnVuY3Rpb24oYSxjLGQpe2c9YTtHKGIpJiZiLmNhbGwodGhpcyxhLGMsZCk7ZShhKSYmZC4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKXtlKGcpJiZmKCl9KX0sYyl9ZnVuY3Rpb24gbShhLGIsYyxkKXt2YXIgZTtyZXR1cm4gZT1hLiR3YXRjaChmdW5jdGlvbihhKXtyZXR1cm4gZChhKX0sZnVuY3Rpb24oYSxjLGQpe0coYikmJmIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2UoKX0sYyl9ZnVuY3Rpb24gbChhLGIpe2lmKCFiKXJldHVybiBhO3ZhciBjPWEuJCR3YXRjaERlbGVnYXRlLGQ9ITEsYz1jIT09ayYmYyE9PWg/ZnVuY3Rpb24oYyxlLGYsZyl7Zj1kJiZnP2dbMF06YShjLAplLGYsZyk7cmV0dXJuIGIoZixjLGUpfTpmdW5jdGlvbihjLGQsZSxmKXtlPWEoYyxkLGUsZik7Yz1iKGUsYyxkKTtyZXR1cm4gdShlKT9jOmV9O2EuJCR3YXRjaERlbGVnYXRlJiZhLiQkd2F0Y2hEZWxlZ2F0ZSE9PWc/Yy4kJHdhdGNoRGVsZWdhdGU9YS4kJHdhdGNoRGVsZWdhdGU6Yi4kc3RhdGVmdWx8fChjLiQkd2F0Y2hEZWxlZ2F0ZT1nLGQ9IWEuaW5wdXRzLGMuaW5wdXRzPWEuaW5wdXRzP2EuaW5wdXRzOlthXSk7cmV0dXJuIGN9dmFyIG49Q2EoKS5ub1Vuc2FmZUV2YWwsSj17Y3NwOm4sZXhwZW5zaXZlQ2hlY2tzOiExfSx6PXtjc3A6bixleHBlbnNpdmVDaGVja3M6ITB9LHQ9ITE7Yy4kJHJ1bm5pbmdFeHBlbnNpdmVDaGVja3M9ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIGN9XX1mdW5jdGlvbiB0Zigpe3RoaXMuJGdldD1bIiRyb290U2NvcGUiLCIkZXhjZXB0aW9uSGFuZGxlciIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gdWQoZnVuY3Rpb24oYil7YS4kZXZhbEFzeW5jKGIpfSwKYil9XX1mdW5jdGlvbiB1Zigpe3RoaXMuJGdldD1bIiRicm93c2VyIiwiJGV4Y2VwdGlvbkhhbmRsZXIiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIHVkKGZ1bmN0aW9uKGIpe2EuZGVmZXIoYil9LGIpfV19ZnVuY3Rpb24gdWQoYSxiKXtmdW5jdGlvbiBkKGEsYixjKXtmdW5jdGlvbiBkKGIpe3JldHVybiBmdW5jdGlvbihjKXtlfHwoZT0hMCxiLmNhbGwoYSxjKSl9fXZhciBlPSExO3JldHVybltkKGIpLGQoYyldfWZ1bmN0aW9uIGMoKXt0aGlzLiQkc3RhdGU9e3N0YXR1czowfX1mdW5jdGlvbiBlKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2IuY2FsbChhLGMpfX1mdW5jdGlvbiBmKGMpeyFjLnByb2Nlc3NTY2hlZHVsZWQmJmMucGVuZGluZyYmKGMucHJvY2Vzc1NjaGVkdWxlZD0hMCxhKGZ1bmN0aW9uKCl7dmFyIGEsZCxlO2U9Yy5wZW5kaW5nO2MucHJvY2Vzc1NjaGVkdWxlZD0hMTtjLnBlbmRpbmc9eDtmb3IodmFyIGY9MCxnPWUubGVuZ3RoO2Y8ZzsrK2Ype2Q9ZVtmXVswXTthPWVbZl1bYy5zdGF0dXNdOwp0cnl7RyhhKT9kLnJlc29sdmUoYShjLnZhbHVlKSk6MT09PWMuc3RhdHVzP2QucmVzb2x2ZShjLnZhbHVlKTpkLnJlamVjdChjLnZhbHVlKX1jYXRjaChoKXtkLnJlamVjdChoKSxiKGgpfX19KSl9ZnVuY3Rpb24gZygpe3RoaXMucHJvbWlzZT1uZXcgYzt0aGlzLnJlc29sdmU9ZSh0aGlzLHRoaXMucmVzb2x2ZSk7dGhpcy5yZWplY3Q9ZSh0aGlzLHRoaXMucmVqZWN0KTt0aGlzLm5vdGlmeT1lKHRoaXMsdGhpcy5ub3RpZnkpfXZhciBoPUIoIiRxIixUeXBlRXJyb3IpO04oYy5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oYSxiLGMpe2lmKHIoYSkmJnIoYikmJnIoYykpcmV0dXJuIHRoaXM7dmFyIGQ9bmV3IGc7dGhpcy4kJHN0YXRlLnBlbmRpbmc9dGhpcy4kJHN0YXRlLnBlbmRpbmd8fFtdO3RoaXMuJCRzdGF0ZS5wZW5kaW5nLnB1c2goW2QsYSxiLGNdKTswPHRoaXMuJCRzdGF0ZS5zdGF0dXMmJmYodGhpcy4kJHN0YXRlKTtyZXR1cm4gZC5wcm9taXNlfSwiY2F0Y2giOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnRoZW4obnVsbCwKYSl9LCJmaW5hbGx5IjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24oYil7cmV0dXJuIG0oYiwhMCxhKX0sZnVuY3Rpb24oYil7cmV0dXJuIG0oYiwhMSxhKX0sYil9fSk7TihnLnByb3RvdHlwZSx7cmVzb2x2ZTpmdW5jdGlvbihhKXt0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXN8fChhPT09dGhpcy5wcm9taXNlP3RoaXMuJCRyZWplY3QoaCgicWN5Y2xlIixhKSk6dGhpcy4kJHJlc29sdmUoYSkpfSwkJHJlc29sdmU6ZnVuY3Rpb24oYSl7dmFyIGMsZTtlPWQodGhpcyx0aGlzLiQkcmVzb2x2ZSx0aGlzLiQkcmVqZWN0KTt0cnl7aWYoSyhhKXx8RyhhKSljPWEmJmEudGhlbjtHKGMpPyh0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXM9LTEsYy5jYWxsKGEsZVswXSxlWzFdLHRoaXMubm90aWZ5KSk6KHRoaXMucHJvbWlzZS4kJHN0YXRlLnZhbHVlPWEsdGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzPTEsZih0aGlzLnByb21pc2UuJCRzdGF0ZSkpfWNhdGNoKGcpe2VbMV0oZyksCmIoZyl9fSxyZWplY3Q6ZnVuY3Rpb24oYSl7dGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzfHx0aGlzLiQkcmVqZWN0KGEpfSwkJHJlamVjdDpmdW5jdGlvbihhKXt0aGlzLnByb21pc2UuJCRzdGF0ZS52YWx1ZT1hO3RoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cz0yO2YodGhpcy5wcm9taXNlLiQkc3RhdGUpfSxub3RpZnk6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5wcm9taXNlLiQkc3RhdGUucGVuZGluZzswPj10aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXMmJmQmJmQubGVuZ3RoJiZhKGZ1bmN0aW9uKCl7Zm9yKHZhciBhLGUsZj0wLGc9ZC5sZW5ndGg7ZjxnO2YrKyl7ZT1kW2ZdWzBdO2E9ZFtmXVszXTt0cnl7ZS5ub3RpZnkoRyhhKT9hKGMpOmMpfWNhdGNoKGgpe2IoaCl9fX0pfX0pO3ZhciBrPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IGc7Yj9jLnJlc29sdmUoYSk6Yy5yZWplY3QoYSk7cmV0dXJuIGMucHJvbWlzZX0sbT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9bnVsbDt0cnl7RyhjKSYmCihkPWMoKSl9Y2F0Y2goZSl7cmV0dXJuIGsoZSwhMSl9cmV0dXJuIGQmJkcoZC50aGVuKT9kLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gayhhLGIpfSxmdW5jdGlvbihhKXtyZXR1cm4gayhhLCExKX0pOmsoYSxiKX0sbD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1uZXcgZztlLnJlc29sdmUoYSk7cmV0dXJuIGUucHJvbWlzZS50aGVuKGIsYyxkKX0sbj1mdW5jdGlvbiB6KGEpe2lmKCFHKGEpKXRocm93IGgoIm5vcnNsdnIiLGEpO2lmKCEodGhpcyBpbnN0YW5jZW9mIHopKXJldHVybiBuZXcgeihhKTt2YXIgYj1uZXcgZzthKGZ1bmN0aW9uKGEpe2IucmVzb2x2ZShhKX0sZnVuY3Rpb24oYSl7Yi5yZWplY3QoYSl9KTtyZXR1cm4gYi5wcm9taXNlfTtuLmRlZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBnfTtuLnJlamVjdD1mdW5jdGlvbihhKXt2YXIgYj1uZXcgZztiLnJlamVjdChhKTtyZXR1cm4gYi5wcm9taXNlfTtuLndoZW49bDtuLnJlc29sdmU9bDtuLmFsbD1mdW5jdGlvbihhKXt2YXIgYj0KbmV3IGcsYz0wLGQ9TChhKT9bXTp7fTtwKGEsZnVuY3Rpb24oYSxlKXtjKys7bChhKS50aGVuKGZ1bmN0aW9uKGEpe2QuaGFzT3duUHJvcGVydHkoZSl8fChkW2VdPWEsLS1jfHxiLnJlc29sdmUoZCkpfSxmdW5jdGlvbihhKXtkLmhhc093blByb3BlcnR5KGUpfHxiLnJlamVjdChhKX0pfSk7MD09PWMmJmIucmVzb2x2ZShkKTtyZXR1cm4gYi5wcm9taXNlfTtyZXR1cm4gbn1mdW5jdGlvbiBEZigpe3RoaXMuJGdldD1bIiR3aW5kb3ciLCIkdGltZW91dCIsZnVuY3Rpb24oYSxiKXt2YXIgZD1hLnJlcXVlc3RBbmltYXRpb25GcmFtZXx8YS53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUsYz1hLmNhbmNlbEFuaW1hdGlvbkZyYW1lfHxhLndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lfHxhLndlYmtpdENhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSxlPSEhZCxmPWU/ZnVuY3Rpb24oYSl7dmFyIGI9ZChhKTtyZXR1cm4gZnVuY3Rpb24oKXtjKGIpfX06ZnVuY3Rpb24oYSl7dmFyIGM9CmIoYSwxNi42NiwhMSk7cmV0dXJuIGZ1bmN0aW9uKCl7Yi5jYW5jZWwoYyl9fTtmLnN1cHBvcnRlZD1lO3JldHVybiBmfV19ZnVuY3Rpb24gc2YoKXtmdW5jdGlvbiBhKGEpe2Z1bmN0aW9uIGIoKXt0aGlzLiQkd2F0Y2hlcnM9dGhpcy4kJG5leHRTaWJsaW5nPXRoaXMuJCRjaGlsZEhlYWQ9dGhpcy4kJGNoaWxkVGFpbD1udWxsO3RoaXMuJCRsaXN0ZW5lcnM9e307dGhpcy4kJGxpc3RlbmVyQ291bnQ9e307dGhpcy4kJHdhdGNoZXJzQ291bnQ9MDt0aGlzLiRpZD0rK21iO3RoaXMuJCRDaGlsZFNjb3BlPW51bGx9Yi5wcm90b3R5cGU9YTtyZXR1cm4gYn12YXIgYj0xMCxkPUIoIiRyb290U2NvcGUiKSxjPW51bGwsZT1udWxsO3RoaXMuZGlnZXN0VHRsPWZ1bmN0aW9uKGEpe2FyZ3VtZW50cy5sZW5ndGgmJihiPWEpO3JldHVybiBifTt0aGlzLiRnZXQ9WyIkaW5qZWN0b3IiLCIkZXhjZXB0aW9uSGFuZGxlciIsIiRwYXJzZSIsIiRicm93c2VyIixmdW5jdGlvbihmLGcsaCxrKXtmdW5jdGlvbiBtKGEpe2EuY3VycmVudFNjb3BlLiQkZGVzdHJveWVkPQohMH1mdW5jdGlvbiBsKGEpezk9PT1IYSYmKGEuJCRjaGlsZEhlYWQmJmwoYS4kJGNoaWxkSGVhZCksYS4kJG5leHRTaWJsaW5nJiZsKGEuJCRuZXh0U2libGluZykpO2EuJHBhcmVudD1hLiQkbmV4dFNpYmxpbmc9YS4kJHByZXZTaWJsaW5nPWEuJCRjaGlsZEhlYWQ9YS4kJGNoaWxkVGFpbD1hLiRyb290PWEuJCR3YXRjaGVycz1udWxsfWZ1bmN0aW9uIG4oKXt0aGlzLiRpZD0rK21iO3RoaXMuJCRwaGFzZT10aGlzLiRwYXJlbnQ9dGhpcy4kJHdhdGNoZXJzPXRoaXMuJCRuZXh0U2libGluZz10aGlzLiQkcHJldlNpYmxpbmc9dGhpcy4kJGNoaWxkSGVhZD10aGlzLiQkY2hpbGRUYWlsPW51bGw7dGhpcy4kcm9vdD10aGlzO3RoaXMuJCRkZXN0cm95ZWQ9ITE7dGhpcy4kJGxpc3RlbmVycz17fTt0aGlzLiQkbGlzdGVuZXJDb3VudD17fTt0aGlzLiQkd2F0Y2hlcnNDb3VudD0wO3RoaXMuJCRpc29sYXRlQmluZGluZ3M9bnVsbH1mdW5jdGlvbiBKKGEpe2lmKHcuJCRwaGFzZSl0aHJvdyBkKCJpbnByb2ciLAp3LiQkcGhhc2UpO3cuJCRwaGFzZT1hfWZ1bmN0aW9uIHooYSxiKXtkbyBhLiQkd2F0Y2hlcnNDb3VudCs9Yjt3aGlsZShhPWEuJHBhcmVudCl9ZnVuY3Rpb24gdChhLGIsYyl7ZG8gYS4kJGxpc3RlbmVyQ291bnRbY10tPWIsMD09PWEuJCRsaXN0ZW5lckNvdW50W2NdJiZkZWxldGUgYS4kJGxpc3RlbmVyQ291bnRbY107d2hpbGUoYT1hLiRwYXJlbnQpfWZ1bmN0aW9uIEEoKXt9ZnVuY3Rpb24gcSgpe2Zvcig7US5sZW5ndGg7KXRyeXtRLnNoaWZ0KCkoKX1jYXRjaChhKXtnKGEpfWU9bnVsbH1mdW5jdGlvbiB5KCl7bnVsbD09PWUmJihlPWsuZGVmZXIoZnVuY3Rpb24oKXt3LiRhcHBseShxKX0pKX1uLnByb3RvdHlwZT17Y29uc3RydWN0b3I6biwkbmV3OmZ1bmN0aW9uKGIsYyl7dmFyIGQ7Yz1jfHx0aGlzO2I/KGQ9bmV3IG4sZC4kcm9vdD10aGlzLiRyb290KToodGhpcy4kJENoaWxkU2NvcGV8fCh0aGlzLiQkQ2hpbGRTY29wZT1hKHRoaXMpKSxkPW5ldyB0aGlzLiQkQ2hpbGRTY29wZSk7CmQuJHBhcmVudD1jO2QuJCRwcmV2U2libGluZz1jLiQkY2hpbGRUYWlsO2MuJCRjaGlsZEhlYWQ/KGMuJCRjaGlsZFRhaWwuJCRuZXh0U2libGluZz1kLGMuJCRjaGlsZFRhaWw9ZCk6Yy4kJGNoaWxkSGVhZD1jLiQkY2hpbGRUYWlsPWQ7KGJ8fGMhPXRoaXMpJiZkLiRvbigiJGRlc3Ryb3kiLG0pO3JldHVybiBkfSwkd2F0Y2g6ZnVuY3Rpb24oYSxiLGQsZSl7dmFyIGY9aChhKTtpZihmLiQkd2F0Y2hEZWxlZ2F0ZSlyZXR1cm4gZi4kJHdhdGNoRGVsZWdhdGUodGhpcyxiLGQsZixhKTt2YXIgZz10aGlzLGs9Zy4kJHdhdGNoZXJzLGw9e2ZuOmIsbGFzdDpBLGdldDpmLGV4cDplfHxhLGVxOiEhZH07Yz1udWxsO0coYil8fChsLmZuPXYpO2t8fChrPWcuJCR3YXRjaGVycz1bXSk7ay51bnNoaWZ0KGwpO3oodGhpcywxKTtyZXR1cm4gZnVuY3Rpb24oKXswPD1hYihrLGwpJiZ6KGcsLTEpO2M9bnVsbH19LCR3YXRjaEdyb3VwOmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe2g9ITE7az8oaz0KITEsYihlLGUsZykpOmIoZSxkLGcpfXZhciBkPUFycmF5KGEubGVuZ3RoKSxlPUFycmF5KGEubGVuZ3RoKSxmPVtdLGc9dGhpcyxoPSExLGs9ITA7aWYoIWEubGVuZ3RoKXt2YXIgbD0hMDtnLiRldmFsQXN5bmMoZnVuY3Rpb24oKXtsJiZiKGUsZSxnKX0pO3JldHVybiBmdW5jdGlvbigpe2w9ITF9fWlmKDE9PT1hLmxlbmd0aClyZXR1cm4gdGhpcy4kd2F0Y2goYVswXSxmdW5jdGlvbihhLGMsZil7ZVswXT1hO2RbMF09YztiKGUsYT09PWM/ZTpkLGYpfSk7cChhLGZ1bmN0aW9uKGEsYil7dmFyIGs9Zy4kd2F0Y2goYSxmdW5jdGlvbihhLGYpe2VbYl09YTtkW2JdPWY7aHx8KGg9ITAsZy4kZXZhbEFzeW5jKGMpKX0pO2YucHVzaChrKX0pO3JldHVybiBmdW5jdGlvbigpe2Zvcig7Zi5sZW5ndGg7KWYuc2hpZnQoKSgpfX0sJHdhdGNoQ29sbGVjdGlvbjpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7ZT1hO3ZhciBiLGQsZyxoO2lmKCFyKGUpKXtpZihLKGUpKWlmKEFhKGUpKWZvcihmIT09Cm4mJihmPW4scD1mLmxlbmd0aD0wLGwrKyksYT1lLmxlbmd0aCxwIT09YSYmKGwrKyxmLmxlbmd0aD1wPWEpLGI9MDtiPGE7YisrKWg9ZltiXSxnPWVbYl0sZD1oIT09aCYmZyE9PWcsZHx8aD09PWd8fChsKyssZltiXT1nKTtlbHNle2YhPT1xJiYoZj1xPXt9LHA9MCxsKyspO2E9MDtmb3IoYiBpbiBlKXNhLmNhbGwoZSxiKSYmKGErKyxnPWVbYl0saD1mW2JdLGIgaW4gZj8oZD1oIT09aCYmZyE9PWcsZHx8aD09PWd8fChsKyssZltiXT1nKSk6KHArKyxmW2JdPWcsbCsrKSk7aWYocD5hKWZvcihiIGluIGwrKyxmKXNhLmNhbGwoZSxiKXx8KHAtLSxkZWxldGUgZltiXSl9ZWxzZSBmIT09ZSYmKGY9ZSxsKyspO3JldHVybiBsfX1jLiRzdGF0ZWZ1bD0hMDt2YXIgZD10aGlzLGUsZixnLGs9MTxiLmxlbmd0aCxsPTAsbT1oKGEsYyksbj1bXSxxPXt9LEo9ITAscD0wO3JldHVybiB0aGlzLiR3YXRjaChtLGZ1bmN0aW9uKCl7Sj8oSj0hMSxiKGUsZSxkKSk6YihlLGcsZCk7aWYoaylpZihLKGUpKWlmKEFhKGUpKXtnPQpBcnJheShlLmxlbmd0aCk7Zm9yKHZhciBhPTA7YTxlLmxlbmd0aDthKyspZ1thXT1lW2FdfWVsc2UgZm9yKGEgaW4gZz17fSxlKXNhLmNhbGwoZSxhKSYmKGdbYV09ZVthXSk7ZWxzZSBnPWV9KX0sJGRpZ2VzdDpmdW5jdGlvbigpe3ZhciBhLGYsaCxsLG0sbixwLHoseT1iLHQscj1bXSxRLHg7SigiJGRpZ2VzdCIpO2suJCRjaGVja1VybENoYW5nZSgpO3RoaXM9PT13JiZudWxsIT09ZSYmKGsuZGVmZXIuY2FuY2VsKGUpLHEoKSk7Yz1udWxsO2Rve3o9ITE7Zm9yKHQ9dGhpcztzLmxlbmd0aDspe3RyeXt4PXMuc2hpZnQoKSx4LnNjb3BlLiRldmFsKHguZXhwcmVzc2lvbix4LmxvY2Fscyl9Y2F0Y2godSl7Zyh1KX1jPW51bGx9YTpkb3tpZihuPXQuJCR3YXRjaGVycylmb3IocD1uLmxlbmd0aDtwLS07KXRyeXtpZihhPW5bcF0paWYobT1hLmdldCwoZj1tKHQpKSE9PShoPWEubGFzdCkmJiEoYS5lcT9sYShmLGgpOiJudW1iZXIiPT09dHlwZW9mIGYmJiJudW1iZXIiPT09dHlwZW9mIGgmJgppc05hTihmKSYmaXNOYU4oaCkpKXo9ITAsYz1hLGEubGFzdD1hLmVxP05hKGYsbnVsbCk6ZixsPWEuZm4sbChmLGg9PT1BP2Y6aCx0KSw1PnkmJihRPTQteSxyW1FdfHwocltRXT1bXSkscltRXS5wdXNoKHttc2c6RyhhLmV4cCk/ImZuOiAiKyhhLmV4cC5uYW1lfHxhLmV4cC50b1N0cmluZygpKTphLmV4cCxuZXdWYWw6ZixvbGRWYWw6aH0pKTtlbHNlIGlmKGE9PT1jKXt6PSExO2JyZWFrIGF9fWNhdGNoKHYpe2codil9aWYoIShuPXQuJCR3YXRjaGVyc0NvdW50JiZ0LiQkY2hpbGRIZWFkfHx0IT09dGhpcyYmdC4kJG5leHRTaWJsaW5nKSlmb3IoO3QhPT10aGlzJiYhKG49dC4kJG5leHRTaWJsaW5nKTspdD10LiRwYXJlbnR9d2hpbGUodD1uKTtpZigoenx8cy5sZW5ndGgpJiYheS0tKXRocm93IHcuJCRwaGFzZT1udWxsLGQoImluZmRpZyIsYixyKTt9d2hpbGUoenx8cy5sZW5ndGgpO2Zvcih3LiQkcGhhc2U9bnVsbDtGLmxlbmd0aDspdHJ5e0Yuc2hpZnQoKSgpfWNhdGNoKEQpe2coRCl9fSwKJGRlc3Ryb3k6ZnVuY3Rpb24oKXtpZighdGhpcy4kJGRlc3Ryb3llZCl7dmFyIGE9dGhpcy4kcGFyZW50O3RoaXMuJGJyb2FkY2FzdCgiJGRlc3Ryb3kiKTt0aGlzLiQkZGVzdHJveWVkPSEwO3RoaXM9PT13JiZrLiQkYXBwbGljYXRpb25EZXN0cm95ZWQoKTt6KHRoaXMsLXRoaXMuJCR3YXRjaGVyc0NvdW50KTtmb3IodmFyIGIgaW4gdGhpcy4kJGxpc3RlbmVyQ291bnQpdCh0aGlzLHRoaXMuJCRsaXN0ZW5lckNvdW50W2JdLGIpO2EmJmEuJCRjaGlsZEhlYWQ9PXRoaXMmJihhLiQkY2hpbGRIZWFkPXRoaXMuJCRuZXh0U2libGluZyk7YSYmYS4kJGNoaWxkVGFpbD09dGhpcyYmKGEuJCRjaGlsZFRhaWw9dGhpcy4kJHByZXZTaWJsaW5nKTt0aGlzLiQkcHJldlNpYmxpbmcmJih0aGlzLiQkcHJldlNpYmxpbmcuJCRuZXh0U2libGluZz10aGlzLiQkbmV4dFNpYmxpbmcpO3RoaXMuJCRuZXh0U2libGluZyYmKHRoaXMuJCRuZXh0U2libGluZy4kJHByZXZTaWJsaW5nPXRoaXMuJCRwcmV2U2libGluZyk7CnRoaXMuJGRlc3Ryb3k9dGhpcy4kZGlnZXN0PXRoaXMuJGFwcGx5PXRoaXMuJGV2YWxBc3luYz10aGlzLiRhcHBseUFzeW5jPXY7dGhpcy4kb249dGhpcy4kd2F0Y2g9dGhpcy4kd2F0Y2hHcm91cD1mdW5jdGlvbigpe3JldHVybiB2fTt0aGlzLiQkbGlzdGVuZXJzPXt9O3RoaXMuJCRuZXh0U2libGluZz1udWxsO2wodGhpcyl9fSwkZXZhbDpmdW5jdGlvbihhLGIpe3JldHVybiBoKGEpKHRoaXMsYil9LCRldmFsQXN5bmM6ZnVuY3Rpb24oYSxiKXt3LiQkcGhhc2V8fHMubGVuZ3RofHxrLmRlZmVyKGZ1bmN0aW9uKCl7cy5sZW5ndGgmJncuJGRpZ2VzdCgpfSk7cy5wdXNoKHtzY29wZTp0aGlzLGV4cHJlc3Npb246aChhKSxsb2NhbHM6Yn0pfSwkJHBvc3REaWdlc3Q6ZnVuY3Rpb24oYSl7Ri5wdXNoKGEpfSwkYXBwbHk6ZnVuY3Rpb24oYSl7dHJ5e0ooIiRhcHBseSIpO3RyeXtyZXR1cm4gdGhpcy4kZXZhbChhKX1maW5hbGx5e3cuJCRwaGFzZT1udWxsfX1jYXRjaChiKXtnKGIpfWZpbmFsbHl7dHJ5e3cuJGRpZ2VzdCgpfWNhdGNoKGMpe3Rocm93IGcoYyksCmM7fX19LCRhcHBseUFzeW5jOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtjLiRldmFsKGEpfXZhciBjPXRoaXM7YSYmUS5wdXNoKGIpO2E9aChhKTt5KCl9LCRvbjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuJCRsaXN0ZW5lcnNbYV07Y3x8KHRoaXMuJCRsaXN0ZW5lcnNbYV09Yz1bXSk7Yy5wdXNoKGIpO3ZhciBkPXRoaXM7ZG8gZC4kJGxpc3RlbmVyQ291bnRbYV18fChkLiQkbGlzdGVuZXJDb3VudFthXT0wKSxkLiQkbGlzdGVuZXJDb3VudFthXSsrO3doaWxlKGQ9ZC4kcGFyZW50KTt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbigpe3ZhciBkPWMuaW5kZXhPZihiKTstMSE9PWQmJihjW2RdPW51bGwsdChlLDEsYSkpfX0sJGVtaXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkLGU9dGhpcyxmPSExLGg9e25hbWU6YSx0YXJnZXRTY29wZTplLHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe2Y9ITB9LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7aC5kZWZhdWx0UHJldmVudGVkPQohMH0sZGVmYXVsdFByZXZlbnRlZDohMX0saz1iYihbaF0sYXJndW1lbnRzLDEpLGwsbTtkb3tkPWUuJCRsaXN0ZW5lcnNbYV18fGM7aC5jdXJyZW50U2NvcGU9ZTtsPTA7Zm9yKG09ZC5sZW5ndGg7bDxtO2wrKylpZihkW2xdKXRyeXtkW2xdLmFwcGx5KG51bGwsayl9Y2F0Y2gobil7ZyhuKX1lbHNlIGQuc3BsaWNlKGwsMSksbC0tLG0tLTtpZihmKXJldHVybiBoLmN1cnJlbnRTY29wZT1udWxsLGg7ZT1lLiRwYXJlbnR9d2hpbGUoZSk7aC5jdXJyZW50U2NvcGU9bnVsbDtyZXR1cm4gaH0sJGJyb2FkY2FzdDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD10aGlzLGU9e25hbWU6YSx0YXJnZXRTY29wZTp0aGlzLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7ZS5kZWZhdWx0UHJldmVudGVkPSEwfSxkZWZhdWx0UHJldmVudGVkOiExfTtpZighdGhpcy4kJGxpc3RlbmVyQ291bnRbYV0pcmV0dXJuIGU7Zm9yKHZhciBmPWJiKFtlXSxhcmd1bWVudHMsMSksaCxrO2M9ZDspe2UuY3VycmVudFNjb3BlPQpjO2Q9Yy4kJGxpc3RlbmVyc1thXXx8W107aD0wO2ZvcihrPWQubGVuZ3RoO2g8aztoKyspaWYoZFtoXSl0cnl7ZFtoXS5hcHBseShudWxsLGYpfWNhdGNoKGwpe2cobCl9ZWxzZSBkLnNwbGljZShoLDEpLGgtLSxrLS07aWYoIShkPWMuJCRsaXN0ZW5lckNvdW50W2FdJiZjLiQkY2hpbGRIZWFkfHxjIT09dGhpcyYmYy4kJG5leHRTaWJsaW5nKSlmb3IoO2MhPT10aGlzJiYhKGQ9Yy4kJG5leHRTaWJsaW5nKTspYz1jLiRwYXJlbnR9ZS5jdXJyZW50U2NvcGU9bnVsbDtyZXR1cm4gZX19O3ZhciB3PW5ldyBuLHM9dy4kJGFzeW5jUXVldWU9W10sRj13LiQkcG9zdERpZ2VzdFF1ZXVlPVtdLFE9dy4kJGFwcGx5QXN5bmNRdWV1ZT1bXTtyZXR1cm4gd31dfWZ1bmN0aW9uIGxlKCl7dmFyIGE9L15ccyooaHR0cHM/fGZ0cHxtYWlsdG98dGVsfGZpbGUpOi8sYj0vXlxzKigoaHR0cHM/fGZ0cHxmaWxlfGJsb2IpOnxkYXRhOmltYWdlXC8pLzt0aGlzLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0PQpmdW5jdGlvbihiKXtyZXR1cm4gdShiKT8oYT1iLHRoaXMpOmF9O3RoaXMuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0PWZ1bmN0aW9uKGEpe3JldHVybiB1KGEpPyhiPWEsdGhpcyk6Yn07dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGQsYyl7dmFyIGU9Yz9iOmEsZjtmPXhhKGQpLmhyZWY7cmV0dXJuIiI9PT1mfHxmLm1hdGNoKGUpP2Q6InVuc2FmZToiK2Z9fX1mdW5jdGlvbiBpZyhhKXtpZigic2VsZiI9PT1hKXJldHVybiBhO2lmKEgoYSkpe2lmKC0xPGEuaW5kZXhPZigiKioqIikpdGhyb3cgemEoIml3Y2FyZCIsYSk7YT12ZChhKS5yZXBsYWNlKCJcXCpcXCoiLCIuKiIpLnJlcGxhY2UoIlxcKiIsIlteOi8uPyY7XSoiKTtyZXR1cm4gbmV3IFJlZ0V4cCgiXiIrYSsiJCIpfWlmKExhKGEpKXJldHVybiBuZXcgUmVnRXhwKCJeIithLnNvdXJjZSsiJCIpO3Rocm93IHphKCJpbWF0Y2hlciIpO31mdW5jdGlvbiB3ZChhKXt2YXIgYj1bXTt1KGEpJiZwKGEsZnVuY3Rpb24oYSl7Yi5wdXNoKGlnKGEpKX0pOwpyZXR1cm4gYn1mdW5jdGlvbiB3Zigpe3RoaXMuU0NFX0NPTlRFWFRTPWthO3ZhciBhPVsic2VsZiJdLGI9W107dGhpcy5yZXNvdXJjZVVybFdoaXRlbGlzdD1mdW5jdGlvbihiKXthcmd1bWVudHMubGVuZ3RoJiYoYT13ZChiKSk7cmV0dXJuIGF9O3RoaXMucmVzb3VyY2VVcmxCbGFja2xpc3Q9ZnVuY3Rpb24oYSl7YXJndW1lbnRzLmxlbmd0aCYmKGI9d2QoYSkpO3JldHVybiBifTt0aGlzLiRnZXQ9WyIkaW5qZWN0b3IiLGZ1bmN0aW9uKGQpe2Z1bmN0aW9uIGMoYSxiKXtyZXR1cm4ic2VsZiI9PT1hP2dkKGIpOiEhYS5leGVjKGIuaHJlZil9ZnVuY3Rpb24gZShhKXt2YXIgYj1mdW5jdGlvbihhKXt0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIGF9fTthJiYoYi5wcm90b3R5cGU9bmV3IGEpO2IucHJvdG90eXBlLnZhbHVlT2Y9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpfTtiLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCkudG9TdHJpbmcoKX07CnJldHVybiBifXZhciBmPWZ1bmN0aW9uKGEpe3Rocm93IHphKCJ1bnNhZmUiKTt9O2QuaGFzKCIkc2FuaXRpemUiKSYmKGY9ZC5nZXQoIiRzYW5pdGl6ZSIpKTt2YXIgZz1lKCksaD17fTtoW2thLkhUTUxdPWUoZyk7aFtrYS5DU1NdPWUoZyk7aFtrYS5VUkxdPWUoZyk7aFtrYS5KU109ZShnKTtoW2thLlJFU09VUkNFX1VSTF09ZShoW2thLlVSTF0pO3JldHVybnt0cnVzdEFzOmZ1bmN0aW9uKGEsYil7dmFyIGM9aC5oYXNPd25Qcm9wZXJ0eShhKT9oW2FdOm51bGw7aWYoIWMpdGhyb3cgemEoImljb250ZXh0IixhLGIpO2lmKG51bGw9PT1ifHxyKGIpfHwiIj09PWIpcmV0dXJuIGI7aWYoInN0cmluZyIhPT10eXBlb2YgYil0aHJvdyB6YSgiaXR5cGUiLGEpO3JldHVybiBuZXcgYyhiKX0sZ2V0VHJ1c3RlZDpmdW5jdGlvbihkLGUpe2lmKG51bGw9PT1lfHxyKGUpfHwiIj09PWUpcmV0dXJuIGU7dmFyIGc9aC5oYXNPd25Qcm9wZXJ0eShkKT9oW2RdOm51bGw7aWYoZyYmZSBpbnN0YW5jZW9mCmcpcmV0dXJuIGUuJCR1bndyYXBUcnVzdGVkVmFsdWUoKTtpZihkPT09a2EuUkVTT1VSQ0VfVVJMKXt2YXIgZz14YShlLnRvU3RyaW5nKCkpLG4scCx6PSExO249MDtmb3IocD1hLmxlbmd0aDtuPHA7bisrKWlmKGMoYVtuXSxnKSl7ej0hMDticmVha31pZih6KWZvcihuPTAscD1iLmxlbmd0aDtuPHA7bisrKWlmKGMoYltuXSxnKSl7ej0hMTticmVha31pZih6KXJldHVybiBlO3Rocm93IHphKCJpbnNlY3VybCIsZS50b1N0cmluZygpKTt9aWYoZD09PWthLkhUTUwpcmV0dXJuIGYoZSk7dGhyb3cgemEoInVuc2FmZSIpO30sdmFsdWVPZjpmdW5jdGlvbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIGc/YS4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpOmF9fX1dfWZ1bmN0aW9uIHZmKCl7dmFyIGE9ITA7dGhpcy5lbmFibGVkPWZ1bmN0aW9uKGIpe2FyZ3VtZW50cy5sZW5ndGgmJihhPSEhYik7cmV0dXJuIGF9O3RoaXMuJGdldD1bIiRwYXJzZSIsIiRzY2VEZWxlZ2F0ZSIsZnVuY3Rpb24oYixkKXtpZihhJiYKOD5IYSl0aHJvdyB6YSgiaWVxdWlya3MiKTt2YXIgYz1mYShrYSk7Yy5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYX07Yy50cnVzdEFzPWQudHJ1c3RBcztjLmdldFRydXN0ZWQ9ZC5nZXRUcnVzdGVkO2MudmFsdWVPZj1kLnZhbHVlT2Y7YXx8KGMudHJ1c3RBcz1jLmdldFRydXN0ZWQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYn0sYy52YWx1ZU9mPVphKTtjLnBhcnNlQXM9ZnVuY3Rpb24oYSxkKXt2YXIgZT1iKGQpO3JldHVybiBlLmxpdGVyYWwmJmUuY29uc3RhbnQ/ZTpiKGQsZnVuY3Rpb24oYil7cmV0dXJuIGMuZ2V0VHJ1c3RlZChhLGIpfSl9O3ZhciBlPWMucGFyc2VBcyxmPWMuZ2V0VHJ1c3RlZCxnPWMudHJ1c3RBcztwKGthLGZ1bmN0aW9uKGEsYil7dmFyIGQ9TShiKTtjW2ViKCJwYXJzZV9hc18iK2QpXT1mdW5jdGlvbihiKXtyZXR1cm4gZShhLGIpfTtjW2ViKCJnZXRfdHJ1c3RlZF8iK2QpXT1mdW5jdGlvbihiKXtyZXR1cm4gZihhLGIpfTtjW2ViKCJ0cnVzdF9hc18iKwpkKV09ZnVuY3Rpb24oYil7cmV0dXJuIGcoYSxiKX19KTtyZXR1cm4gY31dfWZ1bmN0aW9uIHhmKCl7dGhpcy4kZ2V0PVsiJHdpbmRvdyIsIiRkb2N1bWVudCIsZnVuY3Rpb24oYSxiKXt2YXIgZD17fSxjPWNhKCgvYW5kcm9pZCAoXGQrKS8uZXhlYyhNKChhLm5hdmlnYXRvcnx8e30pLnVzZXJBZ2VudCkpfHxbXSlbMV0pLGU9L0JveGVlL2kudGVzdCgoYS5uYXZpZ2F0b3J8fHt9KS51c2VyQWdlbnQpLGY9YlswXXx8e30sZyxoPS9eKE1venx3ZWJraXR8bXMpKD89W0EtWl0pLyxrPWYuYm9keSYmZi5ib2R5LnN0eWxlLG09ITEsbD0hMTtpZihrKXtmb3IodmFyIG4gaW4gaylpZihtPWguZXhlYyhuKSl7Zz1tWzBdO2c9Zy5zdWJzdHIoMCwxKS50b1VwcGVyQ2FzZSgpK2cuc3Vic3RyKDEpO2JyZWFrfWd8fChnPSJXZWJraXRPcGFjaXR5ImluIGsmJiJ3ZWJraXQiKTttPSEhKCJ0cmFuc2l0aW9uImluIGt8fGcrIlRyYW5zaXRpb24iaW4gayk7bD0hISgiYW5pbWF0aW9uImluIGt8fGcrIkFuaW1hdGlvbiJpbgprKTshY3x8bSYmbHx8KG09SChrLndlYmtpdFRyYW5zaXRpb24pLGw9SChrLndlYmtpdEFuaW1hdGlvbikpfXJldHVybntoaXN0b3J5OiEoIWEuaGlzdG9yeXx8IWEuaGlzdG9yeS5wdXNoU3RhdGV8fDQ+Y3x8ZSksaGFzRXZlbnQ6ZnVuY3Rpb24oYSl7aWYoImlucHV0Ij09PWEmJjExPj1IYSlyZXR1cm4hMTtpZihyKGRbYV0pKXt2YXIgYj1mLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2RbYV09Im9uIithIGluIGJ9cmV0dXJuIGRbYV19LGNzcDpDYSgpLHZlbmRvclByZWZpeDpnLHRyYW5zaXRpb25zOm0sYW5pbWF0aW9uczpsLGFuZHJvaWQ6Y319XX1mdW5jdGlvbiB6Zigpe3RoaXMuJGdldD1bIiR0ZW1wbGF0ZUNhY2hlIiwiJGh0dHAiLCIkcSIsIiRzY2UiLGZ1bmN0aW9uKGEsYixkLGMpe2Z1bmN0aW9uIGUoZixnKXtlLnRvdGFsUGVuZGluZ1JlcXVlc3RzKys7aWYoIUgoZil8fHIoYS5nZXQoZikpKWY9Yy5nZXRUcnVzdGVkUmVzb3VyY2VVcmwoZik7dmFyIGg9Yi5kZWZhdWx0cyYmYi5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZTsKTChoKT9oPWguZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhIT09JGJ9KTpoPT09JGImJihoPW51bGwpO3JldHVybiBiLmdldChmLHtjYWNoZTphLHRyYW5zZm9ybVJlc3BvbnNlOmh9KVsiZmluYWxseSJdKGZ1bmN0aW9uKCl7ZS50b3RhbFBlbmRpbmdSZXF1ZXN0cy0tfSkudGhlbihmdW5jdGlvbihiKXthLnB1dChmLGIuZGF0YSk7cmV0dXJuIGIuZGF0YX0sZnVuY3Rpb24oYSl7aWYoIWcpdGhyb3cgZ2EoInRwbG9hZCIsZixhLnN0YXR1cyxhLnN0YXR1c1RleHQpO3JldHVybiBkLnJlamVjdChhKX0pfWUudG90YWxQZW5kaW5nUmVxdWVzdHM9MDtyZXR1cm4gZX1dfWZ1bmN0aW9uIEFmKCl7dGhpcy4kZ2V0PVsiJHJvb3RTY29wZSIsIiRicm93c2VyIiwiJGxvY2F0aW9uIixmdW5jdGlvbihhLGIsZCl7cmV0dXJue2ZpbmRCaW5kaW5nczpmdW5jdGlvbihhLGIsZCl7YT1hLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIm5nLWJpbmRpbmciKTt2YXIgZz1bXTtwKGEsZnVuY3Rpb24oYSl7dmFyIGM9CmRhLmVsZW1lbnQoYSkuZGF0YSgiJGJpbmRpbmciKTtjJiZwKGMsZnVuY3Rpb24oYyl7ZD8obmV3IFJlZ0V4cCgiKF58XFxzKSIrdmQoYikrIihcXHN8XFx8fCQpIikpLnRlc3QoYykmJmcucHVzaChhKTotMSE9Yy5pbmRleE9mKGIpJiZnLnB1c2goYSl9KX0pO3JldHVybiBnfSxmaW5kTW9kZWxzOmZ1bmN0aW9uKGEsYixkKXtmb3IodmFyIGc9WyJuZy0iLCJkYXRhLW5nLSIsIm5nXFw6Il0saD0wO2g8Zy5sZW5ndGg7KytoKXt2YXIgaz1hLnF1ZXJ5U2VsZWN0b3JBbGwoIlsiK2dbaF0rIm1vZGVsIisoZD8iPSI6Iio9IikrJyInK2IrJyJdJyk7aWYoay5sZW5ndGgpcmV0dXJuIGt9fSxnZXRMb2NhdGlvbjpmdW5jdGlvbigpe3JldHVybiBkLnVybCgpfSxzZXRMb2NhdGlvbjpmdW5jdGlvbihiKXtiIT09ZC51cmwoKSYmKGQudXJsKGIpLGEuJGRpZ2VzdCgpKX0sd2hlblN0YWJsZTpmdW5jdGlvbihhKXtiLm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHMoYSl9fX1dfWZ1bmN0aW9uIEJmKCl7dGhpcy4kZ2V0PQpbIiRyb290U2NvcGUiLCIkYnJvd3NlciIsIiRxIiwiJCRxIiwiJGV4Y2VwdGlvbkhhbmRsZXIiLGZ1bmN0aW9uKGEsYixkLGMsZSl7ZnVuY3Rpb24gZihmLGssbSl7RyhmKXx8KG09ayxrPWYsZj12KTt2YXIgbD10YS5jYWxsKGFyZ3VtZW50cywzKSxuPXUobSkmJiFtLHA9KG4/YzpkKS5kZWZlcigpLHo9cC5wcm9taXNlLHQ7dD1iLmRlZmVyKGZ1bmN0aW9uKCl7dHJ5e3AucmVzb2x2ZShmLmFwcGx5KG51bGwsbCkpfWNhdGNoKGIpe3AucmVqZWN0KGIpLGUoYil9ZmluYWxseXtkZWxldGUgZ1t6LiQkdGltZW91dElkXX1ufHxhLiRhcHBseSgpfSxrKTt6LiQkdGltZW91dElkPXQ7Z1t0XT1wO3JldHVybiB6fXZhciBnPXt9O2YuY2FuY2VsPWZ1bmN0aW9uKGEpe3JldHVybiBhJiZhLiQkdGltZW91dElkIGluIGc/KGdbYS4kJHRpbWVvdXRJZF0ucmVqZWN0KCJjYW5jZWxlZCIpLGRlbGV0ZSBnW2EuJCR0aW1lb3V0SWRdLGIuZGVmZXIuY2FuY2VsKGEuJCR0aW1lb3V0SWQpKTohMX07cmV0dXJuIGZ9XX0KZnVuY3Rpb24geGEoYSl7SGEmJihZLnNldEF0dHJpYnV0ZSgiaHJlZiIsYSksYT1ZLmhyZWYpO1kuc2V0QXR0cmlidXRlKCJocmVmIixhKTtyZXR1cm57aHJlZjpZLmhyZWYscHJvdG9jb2w6WS5wcm90b2NvbD9ZLnByb3RvY29sLnJlcGxhY2UoLzokLywiIik6IiIsaG9zdDpZLmhvc3Qsc2VhcmNoOlkuc2VhcmNoP1kuc2VhcmNoLnJlcGxhY2UoL15cPy8sIiIpOiIiLGhhc2g6WS5oYXNoP1kuaGFzaC5yZXBsYWNlKC9eIy8sIiIpOiIiLGhvc3RuYW1lOlkuaG9zdG5hbWUscG9ydDpZLnBvcnQscGF0aG5hbWU6Ii8iPT09WS5wYXRobmFtZS5jaGFyQXQoMCk/WS5wYXRobmFtZToiLyIrWS5wYXRobmFtZX19ZnVuY3Rpb24gZ2QoYSl7YT1IKGEpP3hhKGEpOmE7cmV0dXJuIGEucHJvdG9jb2w9PT14ZC5wcm90b2NvbCYmYS5ob3N0PT09eGQuaG9zdH1mdW5jdGlvbiBDZigpe3RoaXMuJGdldD1tYShSKX1mdW5jdGlvbiB5ZChhKXtmdW5jdGlvbiBiKGEpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGEpfWNhdGNoKGIpe3JldHVybiBhfX0KdmFyIGQ9YVswXXx8e30sYz17fSxlPSIiO3JldHVybiBmdW5jdGlvbigpe3ZhciBhLGcsaCxrLG07YT1kLmNvb2tpZXx8IiI7aWYoYSE9PWUpZm9yKGU9YSxhPWUuc3BsaXQoIjsgIiksYz17fSxoPTA7aDxhLmxlbmd0aDtoKyspZz1hW2hdLGs9Zy5pbmRleE9mKCI9IiksMDxrJiYobT1iKGcuc3Vic3RyaW5nKDAsaykpLHIoY1ttXSkmJihjW21dPWIoZy5zdWJzdHJpbmcoaysxKSkpKTtyZXR1cm4gY319ZnVuY3Rpb24gR2YoKXt0aGlzLiRnZXQ9eWR9ZnVuY3Rpb24gSmMoYSl7ZnVuY3Rpb24gYihkLGMpe2lmKEsoZCkpe3ZhciBlPXt9O3AoZCxmdW5jdGlvbihhLGMpe2VbY109YihjLGEpfSk7cmV0dXJuIGV9cmV0dXJuIGEuZmFjdG9yeShkKyJGaWx0ZXIiLGMpfXRoaXMucmVnaXN0ZXI9Yjt0aGlzLiRnZXQ9WyIkaW5qZWN0b3IiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYS5nZXQoYisiRmlsdGVyIil9fV07YigiY3VycmVuY3kiLHpkKTtiKCJkYXRlIixBZCk7CmIoImZpbHRlciIsamcpO2IoImpzb24iLGtnKTtiKCJsaW1pdFRvIixsZyk7YigibG93ZXJjYXNlIixtZyk7YigibnVtYmVyIixCZCk7Yigib3JkZXJCeSIsQ2QpO2IoInVwcGVyY2FzZSIsbmcpfWZ1bmN0aW9uIGpnKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYixkKXtpZighQWEoYSkpe2lmKG51bGw9PWEpcmV0dXJuIGE7dGhyb3cgQigiZmlsdGVyIikoIm5vdGFycmF5IixhKTt9dmFyIGM7c3dpdGNoKGhjKGIpKXtjYXNlICJmdW5jdGlvbiI6YnJlYWs7Y2FzZSAiYm9vbGVhbiI6Y2FzZSAibnVsbCI6Y2FzZSAibnVtYmVyIjpjYXNlICJzdHJpbmciOmM9ITA7Y2FzZSAib2JqZWN0IjpiPW9nKGIsZCxjKTticmVhaztkZWZhdWx0OnJldHVybiBhfXJldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYSxiKX19ZnVuY3Rpb24gb2coYSxiLGQpe3ZhciBjPUsoYSkmJiIkImluIGE7ITA9PT1iP2I9bGE6RyhiKXx8KGI9ZnVuY3Rpb24oYSxiKXtpZihyKGEpKXJldHVybiExO2lmKG51bGw9PT0KYXx8bnVsbD09PWIpcmV0dXJuIGE9PT1iO2lmKEsoYil8fEsoYSkmJiFxYyhhKSlyZXR1cm4hMTthPU0oIiIrYSk7Yj1NKCIiK2IpO3JldHVybi0xIT09YS5pbmRleE9mKGIpfSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBjJiYhSyhlKT9KYShlLGEuJCxiLCExKTpKYShlLGEsYixkKX19ZnVuY3Rpb24gSmEoYSxiLGQsYyxlKXt2YXIgZj1oYyhhKSxnPWhjKGIpO2lmKCJzdHJpbmciPT09ZyYmIiEiPT09Yi5jaGFyQXQoMCkpcmV0dXJuIUphKGEsYi5zdWJzdHJpbmcoMSksZCxjKTtpZihMKGEpKXJldHVybiBhLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIEphKGEsYixkLGMpfSk7c3dpdGNoKGYpe2Nhc2UgIm9iamVjdCI6dmFyIGg7aWYoYyl7Zm9yKGggaW4gYSlpZigiJCIhPT1oLmNoYXJBdCgwKSYmSmEoYVtoXSxiLGQsITApKXJldHVybiEwO3JldHVybiBlPyExOkphKGEsYixkLCExKX1pZigib2JqZWN0Ij09PWcpe2ZvcihoIGluIGIpaWYoZT1iW2hdLCFHKGUpJiYhcihlKSYmCihmPSIkIj09PWgsIUphKGY/YTphW2hdLGUsZCxmLGYpKSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4gZChhLGIpO2Nhc2UgImZ1bmN0aW9uIjpyZXR1cm4hMTtkZWZhdWx0OnJldHVybiBkKGEsYil9fWZ1bmN0aW9uIGhjKGEpe3JldHVybiBudWxsPT09YT8ibnVsbCI6dHlwZW9mIGF9ZnVuY3Rpb24gemQoYSl7dmFyIGI9YS5OVU1CRVJfRk9STUFUUztyZXR1cm4gZnVuY3Rpb24oYSxjLGUpe3IoYykmJihjPWIuQ1VSUkVOQ1lfU1lNKTtyKGUpJiYoZT1iLlBBVFRFUk5TWzFdLm1heEZyYWMpO3JldHVybiBudWxsPT1hP2E6RGQoYSxiLlBBVFRFUk5TWzFdLGIuR1JPVVBfU0VQLGIuREVDSU1BTF9TRVAsZSkucmVwbGFjZSgvXHUwMEE0L2csYyl9fWZ1bmN0aW9uIEJkKGEpe3ZhciBiPWEuTlVNQkVSX0ZPUk1BVFM7cmV0dXJuIGZ1bmN0aW9uKGEsYyl7cmV0dXJuIG51bGw9PWE/YTpEZChhLGIuUEFUVEVSTlNbMF0sYi5HUk9VUF9TRVAsYi5ERUNJTUFMX1NFUCxjKX19ZnVuY3Rpb24gcGcoYSl7dmFyIGI9CjAsZCxjLGUsZixnOy0xPChjPWEuaW5kZXhPZihFZCkpJiYoYT1hLnJlcGxhY2UoRWQsIiIpKTswPChlPWEuc2VhcmNoKC9lL2kpKT8oMD5jJiYoYz1lKSxjKz0rYS5zbGljZShlKzEpLGE9YS5zdWJzdHJpbmcoMCxlKSk6MD5jJiYoYz1hLmxlbmd0aCk7Zm9yKGU9MDthLmNoYXJBdChlKT09aWM7ZSsrKTtpZihlPT0oZz1hLmxlbmd0aCkpZD1bMF0sYz0xO2Vsc2V7Zm9yKGctLTthLmNoYXJBdChnKT09aWM7KWctLTtjLT1lO2Q9W107Zm9yKGY9MDtlPD1nO2UrKyxmKyspZFtmXT0rYS5jaGFyQXQoZSl9Yz5GZCYmKGQ9ZC5zcGxpY2UoMCxGZC0xKSxiPWMtMSxjPTEpO3JldHVybntkOmQsZTpiLGk6Y319ZnVuY3Rpb24gcWcoYSxiLGQsYyl7dmFyIGU9YS5kLGY9ZS5sZW5ndGgtYS5pO2I9cihiKT9NYXRoLm1pbihNYXRoLm1heChkLGYpLGMpOitiO2Q9YithLmk7Yz1lW2RdO2lmKDA8ZCllLnNwbGljZShkKTtlbHNle2EuaT0xO2UubGVuZ3RoPWQ9YisxO2Zvcih2YXIgZz0wO2c8ZDtnKyspZVtnXT0KMH1mb3IoNTw9YyYmZVtkLTFdKys7ZjxiO2YrKyllLnB1c2goMCk7aWYoYj1lLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uKGEsYixjLGQpe2IrPWE7ZFtjXT1iJTEwO3JldHVybiBNYXRoLmZsb29yKGIvMTApfSwwKSllLnVuc2hpZnQoYiksYS5pKyt9ZnVuY3Rpb24gRGQoYSxiLGQsYyxlKXtpZighSChhKSYmIVAoYSl8fGlzTmFOKGEpKXJldHVybiIiO3ZhciBmPSFpc0Zpbml0ZShhKSxnPSExLGg9TWF0aC5hYnMoYSkrIiIsaz0iIjtpZihmKWs9Ilx1MjIxZSI7ZWxzZXtnPXBnKGgpO3FnKGcsZSxiLm1pbkZyYWMsYi5tYXhGcmFjKTtrPWcuZDtoPWcuaTtlPWcuZTtmPVtdO2ZvcihnPWsucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEmJiFifSwhMCk7MD5oOylrLnVuc2hpZnQoMCksaCsrOzA8aD9mPWsuc3BsaWNlKGgsay5sZW5ndGgpOihmPWssaz1bMF0pO2g9W107Zm9yKGsubGVuZ3RoPj1iLmxnU2l6ZSYmaC51bnNoaWZ0KGsuc3BsaWNlKC1iLmxnU2l6ZSxrLmxlbmd0aCkuam9pbigiIikpO2subGVuZ3RoPgpiLmdTaXplOyloLnVuc2hpZnQoay5zcGxpY2UoLWIuZ1NpemUsay5sZW5ndGgpLmpvaW4oIiIpKTtrLmxlbmd0aCYmaC51bnNoaWZ0KGsuam9pbigiIikpO2s9aC5qb2luKGQpO2YubGVuZ3RoJiYoays9YytmLmpvaW4oIiIpKTtlJiYoays9ImUrIitlKX1yZXR1cm4gMD5hJiYhZz9iLm5lZ1ByZStrK2IubmVnU3VmOmIucG9zUHJlK2srYi5wb3NTdWZ9ZnVuY3Rpb24gR2IoYSxiLGQpe3ZhciBjPSIiOzA+YSYmKGM9Ii0iLGE9LWEpO2ZvcihhPSIiK2E7YS5sZW5ndGg8YjspYT1pYythO2QmJihhPWEuc3Vic3RyKGEubGVuZ3RoLWIpKTtyZXR1cm4gYythfWZ1bmN0aW9uIGJhKGEsYixkLGMpe2Q9ZHx8MDtyZXR1cm4gZnVuY3Rpb24oZSl7ZT1lWyJnZXQiK2FdKCk7aWYoMDxkfHxlPi1kKWUrPWQ7MD09PWUmJi0xMj09ZCYmKGU9MTIpO3JldHVybiBHYihlLGIsYyl9fWZ1bmN0aW9uIEhiKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGQsYyl7dmFyIGU9ZFsiZ2V0IithXSgpLGY9cmIoYj8iU0hPUlQiKwphOmEpO3JldHVybiBjW2ZdW2VdfX1mdW5jdGlvbiBHZChhKXt2YXIgYj0obmV3IERhdGUoYSwwLDEpKS5nZXREYXkoKTtyZXR1cm4gbmV3IERhdGUoYSwwLCg0Pj1iPzU6MTIpLWIpfWZ1bmN0aW9uIEhkKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgZD1HZChiLmdldEZ1bGxZZWFyKCkpO2I9K25ldyBEYXRlKGIuZ2V0RnVsbFllYXIoKSxiLmdldE1vbnRoKCksYi5nZXREYXRlKCkrKDQtYi5nZXREYXkoKSkpLStkO2I9MStNYXRoLnJvdW5kKGIvNjA0OEU1KTtyZXR1cm4gR2IoYixhKX19ZnVuY3Rpb24gamMoYSxiKXtyZXR1cm4gMD49YS5nZXRGdWxsWWVhcigpP2IuRVJBU1swXTpiLkVSQVNbMV19ZnVuY3Rpb24gQWQoYSl7ZnVuY3Rpb24gYihhKXt2YXIgYjtpZihiPWEubWF0Y2goZCkpe2E9bmV3IERhdGUoMCk7dmFyIGY9MCxnPTAsaD1iWzhdP2Euc2V0VVRDRnVsbFllYXI6YS5zZXRGdWxsWWVhcixrPWJbOF0/YS5zZXRVVENIb3VyczphLnNldEhvdXJzO2JbOV0mJihmPWNhKGJbOV0rCmJbMTBdKSxnPWNhKGJbOV0rYlsxMV0pKTtoLmNhbGwoYSxjYShiWzFdKSxjYShiWzJdKS0xLGNhKGJbM10pKTtmPWNhKGJbNF18fDApLWY7Zz1jYShiWzVdfHwwKS1nO2g9Y2EoYls2XXx8MCk7Yj1NYXRoLnJvdW5kKDFFMypwYXJzZUZsb2F0KCIwLiIrKGJbN118fDApKSk7ay5jYWxsKGEsZixnLGgsYil9cmV0dXJuIGF9dmFyIGQ9L14oXGR7NH0pLT8oXGRcZCktPyhcZFxkKSg/OlQoXGRcZCkoPzo6PyhcZFxkKSg/Ojo/KFxkXGQpKD86XC4oXGQrKSk/KT8pPyhafChbKy1dKShcZFxkKTo/KFxkXGQpKT8pPyQvO3JldHVybiBmdW5jdGlvbihjLGQsZil7dmFyIGc9IiIsaD1bXSxrLG07ZD1kfHwibWVkaXVtRGF0ZSI7ZD1hLkRBVEVUSU1FX0ZPUk1BVFNbZF18fGQ7SChjKSYmKGM9cmcudGVzdChjKT9jYShjKTpiKGMpKTtQKGMpJiYoYz1uZXcgRGF0ZShjKSk7aWYoIWVhKGMpfHwhaXNGaW5pdGUoYy5nZXRUaW1lKCkpKXJldHVybiBjO2Zvcig7ZDspKG09c2cuZXhlYyhkKSk/KGg9YmIoaCwKbSwxKSxkPWgucG9wKCkpOihoLnB1c2goZCksZD1udWxsKTt2YXIgbD1jLmdldFRpbWV6b25lT2Zmc2V0KCk7ZiYmKGw9dmMoZixsKSxjPVBiKGMsZiwhMCkpO3AoaCxmdW5jdGlvbihiKXtrPXRnW2JdO2crPWs/ayhjLGEuREFURVRJTUVfRk9STUFUUyxsKToiJyciPT09Yj8iJyI6Yi5yZXBsYWNlKC8oXid8JyQpL2csIiIpLnJlcGxhY2UoLycnL2csIiciKX0pO3JldHVybiBnfX1mdW5jdGlvbiBrZygpe3JldHVybiBmdW5jdGlvbihhLGIpe3IoYikmJihiPTIpO3JldHVybiBjYihhLGIpfX1mdW5jdGlvbiBsZygpe3JldHVybiBmdW5jdGlvbihhLGIsZCl7Yj1JbmZpbml0eT09PU1hdGguYWJzKE51bWJlcihiKSk/TnVtYmVyKGIpOmNhKGIpO2lmKGlzTmFOKGIpKXJldHVybiBhO1AoYSkmJihhPWEudG9TdHJpbmcoKSk7aWYoIUwoYSkmJiFIKGEpKXJldHVybiBhO2Q9IWR8fGlzTmFOKGQpPzA6Y2EoZCk7ZD0wPmQ/TWF0aC5tYXgoMCxhLmxlbmd0aCtkKTpkO3JldHVybiAwPD1iP2Euc2xpY2UoZCwKZCtiKTowPT09ZD9hLnNsaWNlKGIsYS5sZW5ndGgpOmEuc2xpY2UoTWF0aC5tYXgoMCxkK2IpLGQpfX1mdW5jdGlvbiBDZChhKXtmdW5jdGlvbiBiKGIsZCl7ZD1kPy0xOjE7cmV0dXJuIGIubWFwKGZ1bmN0aW9uKGIpe3ZhciBjPTEsaD1aYTtpZihHKGIpKWg9YjtlbHNlIGlmKEgoYikpe2lmKCIrIj09Yi5jaGFyQXQoMCl8fCItIj09Yi5jaGFyQXQoMCkpYz0iLSI9PWIuY2hhckF0KDApPy0xOjEsYj1iLnN1YnN0cmluZygxKTtpZigiIiE9PWImJihoPWEoYiksaC5jb25zdGFudCkpdmFyIGs9aCgpLGg9ZnVuY3Rpb24oYSl7cmV0dXJuIGFba119fXJldHVybntnZXQ6aCxkZXNjZW5kaW5nOmMqZH19KX1mdW5jdGlvbiBkKGEpe3N3aXRjaCh0eXBlb2YgYSl7Y2FzZSAibnVtYmVyIjpjYXNlICJib29sZWFuIjpjYXNlICJzdHJpbmciOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fXJldHVybiBmdW5jdGlvbihhLGUsZil7aWYoIUFhKGEpKXJldHVybiBhO0woZSl8fChlPVtlXSk7MD09PQplLmxlbmd0aCYmKGU9WyIrIl0pO3ZhciBnPWIoZSxmKTtnLnB1c2goe2dldDpmdW5jdGlvbigpe3JldHVybnt9fSxkZXNjZW5kaW5nOmY/LTE6MX0pO2E9QXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGEsZnVuY3Rpb24oYSxiKXtyZXR1cm57dmFsdWU6YSxwcmVkaWNhdGVWYWx1ZXM6Zy5tYXAoZnVuY3Rpb24oYyl7dmFyIGU9Yy5nZXQoYSk7Yz10eXBlb2YgZTtpZihudWxsPT09ZSljPSJzdHJpbmciLGU9Im51bGwiO2Vsc2UgaWYoInN0cmluZyI9PT1jKWU9ZS50b0xvd2VyQ2FzZSgpO2Vsc2UgaWYoIm9iamVjdCI9PT1jKWE6e2lmKCJmdW5jdGlvbiI9PT10eXBlb2YgZS52YWx1ZU9mJiYoZT1lLnZhbHVlT2YoKSxkKGUpKSlicmVhayBhO2lmKHFjKGUpJiYoZT1lLnRvU3RyaW5nKCksZChlKSkpYnJlYWsgYTtlPWJ9cmV0dXJue3ZhbHVlOmUsdHlwZTpjfX0pfX0pO2Euc29ydChmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9MCxlPWcubGVuZ3RoO2Q8ZTsrK2Qpe3ZhciBjPWEucHJlZGljYXRlVmFsdWVzW2RdLApmPWIucHJlZGljYXRlVmFsdWVzW2RdLHA9MDtjLnR5cGU9PT1mLnR5cGU/Yy52YWx1ZSE9PWYudmFsdWUmJihwPWMudmFsdWU8Zi52YWx1ZT8tMToxKTpwPWMudHlwZTxmLnR5cGU/LTE6MTtpZihjPXAqZ1tkXS5kZXNjZW5kaW5nKWJyZWFrfXJldHVybiBjfSk7cmV0dXJuIGE9YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudmFsdWV9KX19ZnVuY3Rpb24gS2EoYSl7RyhhKSYmKGE9e2xpbms6YX0pO2EucmVzdHJpY3Q9YS5yZXN0cmljdHx8IkFDIjtyZXR1cm4gbWEoYSl9ZnVuY3Rpb24gSWQoYSxiLGQsYyxlKXt2YXIgZj10aGlzLGc9W107Zi4kZXJyb3I9e307Zi4kJHN1Y2Nlc3M9e307Zi4kcGVuZGluZz14O2YuJG5hbWU9ZShiLm5hbWV8fGIubmdGb3JtfHwiIikoZCk7Zi4kZGlydHk9ITE7Zi4kcHJpc3RpbmU9ITA7Zi4kdmFsaWQ9ITA7Zi4kaW52YWxpZD0hMTtmLiRzdWJtaXR0ZWQ9ITE7Zi4kJHBhcmVudEZvcm09SWI7Zi4kcm9sbGJhY2tWaWV3VmFsdWU9ZnVuY3Rpb24oKXtwKGcsCmZ1bmN0aW9uKGEpe2EuJHJvbGxiYWNrVmlld1ZhbHVlKCl9KX07Zi4kY29tbWl0Vmlld1ZhbHVlPWZ1bmN0aW9uKCl7cChnLGZ1bmN0aW9uKGEpe2EuJGNvbW1pdFZpZXdWYWx1ZSgpfSl9O2YuJGFkZENvbnRyb2w9ZnVuY3Rpb24oYSl7U2EoYS4kbmFtZSwiaW5wdXQiKTtnLnB1c2goYSk7YS4kbmFtZSYmKGZbYS4kbmFtZV09YSk7YS4kJHBhcmVudEZvcm09Zn07Zi4kJHJlbmFtZUNvbnRyb2w9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLiRuYW1lO2ZbY109PT1hJiZkZWxldGUgZltjXTtmW2JdPWE7YS4kbmFtZT1ifTtmLiRyZW1vdmVDb250cm9sPWZ1bmN0aW9uKGEpe2EuJG5hbWUmJmZbYS4kbmFtZV09PT1hJiZkZWxldGUgZlthLiRuYW1lXTtwKGYuJHBlbmRpbmcsZnVuY3Rpb24oYixjKXtmLiRzZXRWYWxpZGl0eShjLG51bGwsYSl9KTtwKGYuJGVycm9yLGZ1bmN0aW9uKGIsYyl7Zi4kc2V0VmFsaWRpdHkoYyxudWxsLGEpfSk7cChmLiQkc3VjY2VzcyxmdW5jdGlvbihiLGMpe2YuJHNldFZhbGlkaXR5KGMsCm51bGwsYSl9KTthYihnLGEpO2EuJCRwYXJlbnRGb3JtPUlifTtKZCh7Y3RybDp0aGlzLCRlbGVtZW50OmEsc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hW2JdO2Q/LTE9PT1kLmluZGV4T2YoYykmJmQucHVzaChjKTphW2JdPVtjXX0sdW5zZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWFbYl07ZCYmKGFiKGQsYyksMD09PWQubGVuZ3RoJiZkZWxldGUgYVtiXSl9LCRhbmltYXRlOmN9KTtmLiRzZXREaXJ0eT1mdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoYSxYYSk7Yy5hZGRDbGFzcyhhLEpiKTtmLiRkaXJ0eT0hMDtmLiRwcmlzdGluZT0hMTtmLiQkcGFyZW50Rm9ybS4kc2V0RGlydHkoKX07Zi4kc2V0UHJpc3RpbmU9ZnVuY3Rpb24oKXtjLnNldENsYXNzKGEsWGEsSmIrIiBuZy1zdWJtaXR0ZWQiKTtmLiRkaXJ0eT0hMTtmLiRwcmlzdGluZT0hMDtmLiRzdWJtaXR0ZWQ9ITE7cChnLGZ1bmN0aW9uKGEpe2EuJHNldFByaXN0aW5lKCl9KX07Zi4kc2V0VW50b3VjaGVkPWZ1bmN0aW9uKCl7cChnLApmdW5jdGlvbihhKXthLiRzZXRVbnRvdWNoZWQoKX0pfTtmLiRzZXRTdWJtaXR0ZWQ9ZnVuY3Rpb24oKXtjLmFkZENsYXNzKGEsIm5nLXN1Ym1pdHRlZCIpO2YuJHN1Ym1pdHRlZD0hMDtmLiQkcGFyZW50Rm9ybS4kc2V0U3VibWl0dGVkKCl9fWZ1bmN0aW9uIGtjKGEpe2EuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihiKXtyZXR1cm4gYS4kaXNFbXB0eShiKT9iOmIudG9TdHJpbmcoKX0pfWZ1bmN0aW9uIGliKGEsYixkLGMsZSxmKXt2YXIgZz1NKGJbMF0udHlwZSk7aWYoIWUuYW5kcm9pZCl7dmFyIGg9ITE7Yi5vbigiY29tcG9zaXRpb25zdGFydCIsZnVuY3Rpb24oYSl7aD0hMH0pO2Iub24oImNvbXBvc2l0aW9uZW5kIixmdW5jdGlvbigpe2g9ITE7bSgpfSl9dmFyIGssbT1mdW5jdGlvbihhKXtrJiYoZi5kZWZlci5jYW5jZWwoayksaz1udWxsKTtpZighaCl7dmFyIGU9Yi52YWwoKTthPWEmJmEudHlwZTsicGFzc3dvcmQiPT09Z3x8ZC5uZ1RyaW0mJiJmYWxzZSI9PT1kLm5nVHJpbXx8CihlPVQoZSkpOyhjLiR2aWV3VmFsdWUhPT1lfHwiIj09PWUmJmMuJCRoYXNOYXRpdmVWYWxpZGF0b3JzKSYmYy4kc2V0Vmlld1ZhbHVlKGUsYSl9fTtpZihlLmhhc0V2ZW50KCJpbnB1dCIpKWIub24oImlucHV0IixtKTtlbHNle3ZhciBsPWZ1bmN0aW9uKGEsYixjKXtrfHwoaz1mLmRlZmVyKGZ1bmN0aW9uKCl7az1udWxsO2ImJmIudmFsdWU9PT1jfHxtKGEpfSkpfTtiLm9uKCJrZXlkb3duIixmdW5jdGlvbihhKXt2YXIgYj1hLmtleUNvZGU7OTE9PT1ifHwxNTxiJiYxOT5ifHwzNzw9YiYmNDA+PWJ8fGwoYSx0aGlzLHRoaXMudmFsdWUpfSk7aWYoZS5oYXNFdmVudCgicGFzdGUiKSliLm9uKCJwYXN0ZSBjdXQiLGwpfWIub24oImNoYW5nZSIsbSk7aWYoS2RbZ10mJmMuJCRoYXNOYXRpdmVWYWxpZGF0b3JzJiZnPT09ZC50eXBlKWIub24oImtleWRvd24gd2hlZWwgbW91c2Vkb3duIixmdW5jdGlvbihhKXtpZighayl7dmFyIGI9dGhpcy52YWxpZGl0eSxjPWIuYmFkSW5wdXQsZD1iLnR5cGVNaXNtYXRjaDsKaz1mLmRlZmVyKGZ1bmN0aW9uKCl7az1udWxsO2IuYmFkSW5wdXQ9PT1jJiZiLnR5cGVNaXNtYXRjaD09PWR8fG0oYSl9KX19KTtjLiRyZW5kZXI9ZnVuY3Rpb24oKXt2YXIgYT1jLiRpc0VtcHR5KGMuJHZpZXdWYWx1ZSk/IiI6Yy4kdmlld1ZhbHVlO2IudmFsKCkhPT1hJiZiLnZhbChhKX19ZnVuY3Rpb24gS2IoYSxiKXtyZXR1cm4gZnVuY3Rpb24oZCxjKXt2YXIgZSxmO2lmKGVhKGQpKXJldHVybiBkO2lmKEgoZCkpeyciJz09ZC5jaGFyQXQoMCkmJiciJz09ZC5jaGFyQXQoZC5sZW5ndGgtMSkmJihkPWQuc3Vic3RyaW5nKDEsZC5sZW5ndGgtMSkpO2lmKHVnLnRlc3QoZCkpcmV0dXJuIG5ldyBEYXRlKGQpO2EubGFzdEluZGV4PTA7aWYoZT1hLmV4ZWMoZCkpcmV0dXJuIGUuc2hpZnQoKSxmPWM/e3l5eXk6Yy5nZXRGdWxsWWVhcigpLE1NOmMuZ2V0TW9udGgoKSsxLGRkOmMuZ2V0RGF0ZSgpLEhIOmMuZ2V0SG91cnMoKSxtbTpjLmdldE1pbnV0ZXMoKSxzczpjLmdldFNlY29uZHMoKSwKc3NzOmMuZ2V0TWlsbGlzZWNvbmRzKCkvMUUzfTp7eXl5eToxOTcwLE1NOjEsZGQ6MSxISDowLG1tOjAsc3M6MCxzc3M6MH0scChlLGZ1bmN0aW9uKGEsYyl7YzxiLmxlbmd0aCYmKGZbYltjXV09K2EpfSksbmV3IERhdGUoZi55eXl5LGYuTU0tMSxmLmRkLGYuSEgsZi5tbSxmLnNzfHwwLDFFMypmLnNzc3x8MCl9cmV0dXJuIE5hTn19ZnVuY3Rpb24gamIoYSxiLGQsYyl7cmV0dXJuIGZ1bmN0aW9uKGUsZixnLGgsayxtLGwpe2Z1bmN0aW9uIG4oYSl7cmV0dXJuIGEmJiEoYS5nZXRUaW1lJiZhLmdldFRpbWUoKSE9PWEuZ2V0VGltZSgpKX1mdW5jdGlvbiBwKGEpe3JldHVybiB1KGEpJiYhZWEoYSk/ZChhKXx8eDphfUxkKGUsZixnLGgpO2liKGUsZixnLGgsayxtKTt2YXIgej1oJiZoLiRvcHRpb25zJiZoLiRvcHRpb25zLnRpbWV6b25lLHQ7aC4kJHBhcnNlck5hbWU9YTtoLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24oYSl7cmV0dXJuIGguJGlzRW1wdHkoYSk/bnVsbDpiLnRlc3QoYSk/CihhPWQoYSx0KSx6JiYoYT1QYihhLHopKSxhKTp4fSk7aC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKGEpe2lmKGEmJiFlYShhKSl0aHJvdyBrYigiZGF0ZWZtdCIsYSk7aWYobihhKSlyZXR1cm4odD1hKSYmeiYmKHQ9UGIodCx6LCEwKSksbCgiZGF0ZSIpKGEsYyx6KTt0PW51bGw7cmV0dXJuIiJ9KTtpZih1KGcubWluKXx8Zy5uZ01pbil7dmFyIEE7aC4kdmFsaWRhdG9ycy5taW49ZnVuY3Rpb24oYSl7cmV0dXJuIW4oYSl8fHIoQSl8fGQoYSk+PUF9O2cuJG9ic2VydmUoIm1pbiIsZnVuY3Rpb24oYSl7QT1wKGEpO2guJHZhbGlkYXRlKCl9KX1pZih1KGcubWF4KXx8Zy5uZ01heCl7dmFyIHE7aC4kdmFsaWRhdG9ycy5tYXg9ZnVuY3Rpb24oYSl7cmV0dXJuIW4oYSl8fHIocSl8fGQoYSk8PXF9O2cuJG9ic2VydmUoIm1heCIsZnVuY3Rpb24oYSl7cT1wKGEpO2guJHZhbGlkYXRlKCl9KX19fWZ1bmN0aW9uIExkKGEsYixkLGMpeyhjLiQkaGFzTmF0aXZlVmFsaWRhdG9ycz1LKGJbMF0udmFsaWRpdHkpKSYmCmMuJHBhcnNlcnMucHVzaChmdW5jdGlvbihhKXt2YXIgYz1iLnByb3AoInZhbGlkaXR5Iil8fHt9O3JldHVybiBjLmJhZElucHV0JiYhYy50eXBlTWlzbWF0Y2g/eDphfSl9ZnVuY3Rpb24gTWQoYSxiLGQsYyxlKXtpZih1KGMpKXthPWEoYyk7aWYoIWEuY29uc3RhbnQpdGhyb3cga2IoImNvbnN0ZXhwciIsZCxjKTtyZXR1cm4gYShiKX1yZXR1cm4gZX1mdW5jdGlvbiBsYyhhLGIpe2E9Im5nQ2xhc3MiK2E7cmV0dXJuWyIkYW5pbWF0ZSIsZnVuY3Rpb24oZCl7ZnVuY3Rpb24gYyhhLGIpe3ZhciBjPVtdLGQ9MDthOmZvcig7ZDxhLmxlbmd0aDtkKyspe2Zvcih2YXIgZT1hW2RdLGw9MDtsPGIubGVuZ3RoO2wrKylpZihlPT1iW2xdKWNvbnRpbnVlIGE7Yy5wdXNoKGUpfXJldHVybiBjfWZ1bmN0aW9uIGUoYSl7dmFyIGI9W107cmV0dXJuIEwoYSk/KHAoYSxmdW5jdGlvbihhKXtiPWIuY29uY2F0KGUoYSkpfSksYik6SChhKT9hLnNwbGl0KCIgIik6SyhhKT8ocChhLGZ1bmN0aW9uKGEsYyl7YSYmCihiPWIuY29uY2F0KGMuc3BsaXQoIiAiKSkpfSksYik6YX1yZXR1cm57cmVzdHJpY3Q6IkFDIixsaW5rOmZ1bmN0aW9uKGYsZyxoKXtmdW5jdGlvbiBrKGEpe2E9bShhLDEpO2guJGFkZENsYXNzKGEpfWZ1bmN0aW9uIG0oYSxiKXt2YXIgYz1nLmRhdGEoIiRjbGFzc0NvdW50cyIpfHxaKCksZD1bXTtwKGEsZnVuY3Rpb24oYSl7aWYoMDxifHxjW2FdKWNbYV09KGNbYV18fDApK2IsY1thXT09PSsoMDxiKSYmZC5wdXNoKGEpfSk7Zy5kYXRhKCIkY2xhc3NDb3VudHMiLGMpO3JldHVybiBkLmpvaW4oIiAiKX1mdW5jdGlvbiBsKGEsYil7dmFyIGU9YyhiLGEpLGY9YyhhLGIpLGU9bShlLDEpLGY9bShmLC0xKTtlJiZlLmxlbmd0aCYmZC5hZGRDbGFzcyhnLGUpO2YmJmYubGVuZ3RoJiZkLnJlbW92ZUNsYXNzKGcsZil9ZnVuY3Rpb24gbihhKXtpZighMD09PWJ8fGYuJGluZGV4JTI9PT1iKXt2YXIgYz1lKGF8fFtdKTtpZighcilrKGMpO2Vsc2UgaWYoIWxhKGEscikpe3ZhciBkPWUocik7bChkLApjKX19cj1MKGEpP2EubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBmYShhKX0pOmZhKGEpfXZhciByO2YuJHdhdGNoKGhbYV0sbiwhMCk7aC4kb2JzZXJ2ZSgiY2xhc3MiLGZ1bmN0aW9uKGIpe24oZi4kZXZhbChoW2FdKSl9KTsibmdDbGFzcyIhPT1hJiZmLiR3YXRjaCgiJGluZGV4IixmdW5jdGlvbihjLGQpe3ZhciBnPWMmMTtpZihnIT09KGQmMSkpe3ZhciBsPWUoZi4kZXZhbChoW2FdKSk7Zz09PWI/ayhsKTooZz1tKGwsLTEpLGguJHJlbW92ZUNsYXNzKGcpKX19KX19fV19ZnVuY3Rpb24gSmQoYSl7ZnVuY3Rpb24gYihhLGIpe2ImJiFmW2FdPyhrLmFkZENsYXNzKGUsYSksZlthXT0hMCk6IWImJmZbYV0mJihrLnJlbW92ZUNsYXNzKGUsYSksZlthXT0hMSl9ZnVuY3Rpb24gZChhLGMpe2E9YT8iLSIremMoYSwiLSIpOiIiO2IobGIrYSwhMD09PWMpO2IoTmQrYSwhMT09PWMpfXZhciBjPWEuY3RybCxlPWEuJGVsZW1lbnQsZj17fSxnPWEuc2V0LGg9YS51bnNldCxrPWEuJGFuaW1hdGU7CmZbTmRdPSEoZltsYl09ZS5oYXNDbGFzcyhsYikpO2MuJHNldFZhbGlkaXR5PWZ1bmN0aW9uKGEsZSxmKXtyKGUpPyhjLiRwZW5kaW5nfHwoYy4kcGVuZGluZz17fSksZyhjLiRwZW5kaW5nLGEsZikpOihjLiRwZW5kaW5nJiZoKGMuJHBlbmRpbmcsYSxmKSxPZChjLiRwZW5kaW5nKSYmKGMuJHBlbmRpbmc9eCkpO01hKGUpP2U/KGgoYy4kZXJyb3IsYSxmKSxnKGMuJCRzdWNjZXNzLGEsZikpOihnKGMuJGVycm9yLGEsZiksaChjLiQkc3VjY2VzcyxhLGYpKTooaChjLiRlcnJvcixhLGYpLGgoYy4kJHN1Y2Nlc3MsYSxmKSk7Yy4kcGVuZGluZz8oYihQZCwhMCksYy4kdmFsaWQ9Yy4kaW52YWxpZD14LGQoIiIsbnVsbCkpOihiKFBkLCExKSxjLiR2YWxpZD1PZChjLiRlcnJvciksYy4kaW52YWxpZD0hYy4kdmFsaWQsZCgiIixjLiR2YWxpZCkpO2U9Yy4kcGVuZGluZyYmYy4kcGVuZGluZ1thXT94OmMuJGVycm9yW2FdPyExOmMuJCRzdWNjZXNzW2FdPyEwOm51bGw7ZChhLGUpO2MuJCRwYXJlbnRGb3JtLiRzZXRWYWxpZGl0eShhLAplLGMpfX1mdW5jdGlvbiBPZChhKXtpZihhKWZvcih2YXIgYiBpbiBhKWlmKGEuaGFzT3duUHJvcGVydHkoYikpcmV0dXJuITE7cmV0dXJuITB9dmFyIHZnPS9eXC8oLispXC8oW2Etel0qKSQvLE09ZnVuY3Rpb24oYSl7cmV0dXJuIEgoYSk/YS50b0xvd2VyQ2FzZSgpOmF9LHNhPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkscmI9ZnVuY3Rpb24oYSl7cmV0dXJuIEgoYSk/YS50b1VwcGVyQ2FzZSgpOmF9LEhhLEQscGEsdGE9W10uc2xpY2UsWGY9W10uc3BsaWNlLHdnPVtdLnB1c2gsbmE9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxyYz1PYmplY3QuZ2V0UHJvdG90eXBlT2YsQmE9QigibmciKSxkYT1SLmFuZ3VsYXJ8fChSLmFuZ3VsYXI9e30pLFNiLG1iPTA7SGE9VS5kb2N1bWVudE1vZGU7di4kaW5qZWN0PVtdO1phLiRpbmplY3Q9W107dmFyIEw9QXJyYXkuaXNBcnJheSxaZD0vXlxbb2JqZWN0ICg/OlVpbnQ4fFVpbnQ4Q2xhbXBlZHxVaW50MTZ8VWludDMyfEludDh8SW50MTZ8SW50MzJ8RmxvYXQzMnxGbG9hdDY0KUFycmF5XF0kLywKVD1mdW5jdGlvbihhKXtyZXR1cm4gSChhKT9hLnRyaW0oKTphfSx2ZD1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC8oWy0oKVxbXF17fSs/Ki4kXF58LDojPCFcXF0pL2csIlxcJDEiKS5yZXBsYWNlKC9ceDA4L2csIlxceDA4Iil9LENhPWZ1bmN0aW9uKCl7aWYoIXUoQ2EucnVsZXMpKXt2YXIgYT1VLnF1ZXJ5U2VsZWN0b3IoIltuZy1jc3BdIil8fFUucXVlcnlTZWxlY3RvcigiW2RhdGEtbmctY3NwXSIpO2lmKGEpe3ZhciBiPWEuZ2V0QXR0cmlidXRlKCJuZy1jc3AiKXx8YS5nZXRBdHRyaWJ1dGUoImRhdGEtbmctY3NwIik7Q2EucnVsZXM9e25vVW5zYWZlRXZhbDohYnx8LTEhPT1iLmluZGV4T2YoIm5vLXVuc2FmZS1ldmFsIiksbm9JbmxpbmVTdHlsZTohYnx8LTEhPT1iLmluZGV4T2YoIm5vLWlubGluZS1zdHlsZSIpfX1lbHNle2E9Q2E7dHJ5e25ldyBGdW5jdGlvbigiIiksYj0hMX1jYXRjaChkKXtiPSEwfWEucnVsZXM9e25vVW5zYWZlRXZhbDpiLG5vSW5saW5lU3R5bGU6ITF9fX1yZXR1cm4gQ2EucnVsZXN9LApvYj1mdW5jdGlvbigpe2lmKHUob2IubmFtZV8pKXJldHVybiBvYi5uYW1lXzt2YXIgYSxiLGQ9UGEubGVuZ3RoLGMsZTtmb3IoYj0wO2I8ZDsrK2IpaWYoYz1QYVtiXSxhPVUucXVlcnlTZWxlY3RvcigiWyIrYy5yZXBsYWNlKCI6IiwiXFw6IikrImpxXSIpKXtlPWEuZ2V0QXR0cmlidXRlKGMrImpxIik7YnJlYWt9cmV0dXJuIG9iLm5hbWVfPWV9LGJlPS86L2csUGE9WyJuZy0iLCJkYXRhLW5nLSIsIm5nOiIsIngtbmctIl0sZ2U9L1tBLVpdL2csQWM9ITEsUmIsT2E9MyxrZT17ZnVsbDoiMS40LjE0IixtYWpvcjoxLG1pbm9yOjQsZG90OjE0LGNvZGVOYW1lOiJtYXRlcmlhbC1kaXN0aW5jdGlvbiJ9O1MuZXhwYW5kbz0ibmczMzkiO3ZhciBmYj1TLmNhY2hlPXt9LE1mPTE7Uy5fZGF0YT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jYWNoZVthW3RoaXMuZXhwYW5kb11dfHx7fX07dmFyIEhmPS8oW1w6XC1cX10rKC4pKS9nLElmPS9ebW96KFtBLVpdKS8sd2I9e21vdXNlbGVhdmU6Im1vdXNlb3V0IiwKbW91c2VlbnRlcjoibW91c2VvdmVyIn0sVWI9QigianFMaXRlIiksTGY9L148KFtcdy1dKylccypcLz8+KD86PFwvXDE+fCkkLyxUYj0vPHwmIz9cdys7LyxKZj0vPChbXHc6LV0rKS8sS2Y9LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1x3Oi1dKylbXj5dKilcLz4vZ2ksamE9e29wdGlvbjpbMSwnPHNlbGVjdCBtdWx0aXBsZT0ibXVsdGlwbGUiPicsIjwvc2VsZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtqYS5vcHRncm91cD1qYS5vcHRpb247amEudGJvZHk9amEudGZvb3Q9amEuY29sZ3JvdXA9amEuY2FwdGlvbj1qYS50aGVhZDsKamEudGg9amEudGQ7dmFyIFJmPU5vZGUucHJvdG90eXBlLmNvbnRhaW5zfHxmdW5jdGlvbihhKXtyZXR1cm4hISh0aGlzLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGEpJjE2KX0sUWE9Uy5wcm90b3R5cGU9e3JlYWR5OmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtkfHwoZD0hMCxhKCkpfXZhciBkPSExOyJjb21wbGV0ZSI9PT1VLnJlYWR5U3RhdGU/c2V0VGltZW91dChiKToodGhpcy5vbigiRE9NQ29udGVudExvYWRlZCIsYiksUyhSKS5vbigibG9hZCIsYikpfSx0b1N0cmluZzpmdW5jdGlvbigpe3ZhciBhPVtdO3AodGhpcyxmdW5jdGlvbihiKXthLnB1c2goIiIrYil9KTtyZXR1cm4iWyIrYS5qb2luKCIsICIpKyJdIn0sZXE6ZnVuY3Rpb24oYSl7cmV0dXJuIDA8PWE/RCh0aGlzW2FdKTpEKHRoaXNbdGhpcy5sZW5ndGgrYV0pfSxsZW5ndGg6MCxwdXNoOndnLHNvcnQ6W10uc29ydCxzcGxpY2U6W10uc3BsaWNlfSxCYj17fTtwKCJtdWx0aXBsZSBzZWxlY3RlZCBjaGVja2VkIGRpc2FibGVkIHJlYWRPbmx5IHJlcXVpcmVkIG9wZW4iLnNwbGl0KCIgIiksCmZ1bmN0aW9uKGEpe0JiW00oYSldPWF9KTt2YXIgU2M9e307cCgiaW5wdXQgc2VsZWN0IG9wdGlvbiB0ZXh0YXJlYSBidXR0b24gZm9ybSBkZXRhaWxzIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGEpe1NjW2FdPSEwfSk7dmFyIGFkPXtuZ01pbmxlbmd0aDoibWlubGVuZ3RoIixuZ01heGxlbmd0aDoibWF4bGVuZ3RoIixuZ01pbjoibWluIixuZ01heDoibWF4IixuZ1BhdHRlcm46InBhdHRlcm4ifTtwKHtkYXRhOldiLHJlbW92ZURhdGE6dWIsaGFzRGF0YTpmdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gZmJbYS5uZzMzOV0pcmV0dXJuITA7cmV0dXJuITF9fSxmdW5jdGlvbihhLGIpe1NbYl09YX0pO3Aoe2RhdGE6V2IsaW5oZXJpdGVkRGF0YTpBYixzY29wZTpmdW5jdGlvbihhKXtyZXR1cm4gRC5kYXRhKGEsIiRzY29wZSIpfHxBYihhLnBhcmVudE5vZGV8fGEsWyIkaXNvbGF0ZVNjb3BlIiwiJHNjb3BlIl0pfSxpc29sYXRlU2NvcGU6ZnVuY3Rpb24oYSl7cmV0dXJuIEQuZGF0YShhLCIkaXNvbGF0ZVNjb3BlIil8fApELmRhdGEoYSwiJGlzb2xhdGVTY29wZU5vVGVtcGxhdGUiKX0sY29udHJvbGxlcjpQYyxpbmplY3RvcjpmdW5jdGlvbihhKXtyZXR1cm4gQWIoYSwiJGluamVjdG9yIil9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSxiKXthLnJlbW92ZUF0dHJpYnV0ZShiKX0saGFzQ2xhc3M6eGIsY3NzOmZ1bmN0aW9uKGEsYixkKXtiPWViKGIpO2lmKHUoZCkpYS5zdHlsZVtiXT1kO2Vsc2UgcmV0dXJuIGEuc3R5bGVbYl19LGF0dHI6ZnVuY3Rpb24oYSxiLGQpe3ZhciBjPWEubm9kZVR5cGU7aWYoYyE9PU9hJiYyIT09YyYmOCE9PWMpaWYoYz1NKGIpLEJiW2NdKWlmKHUoZCkpZD8oYVtiXT0hMCxhLnNldEF0dHJpYnV0ZShiLGMpKTooYVtiXT0hMSxhLnJlbW92ZUF0dHJpYnV0ZShjKSk7ZWxzZSByZXR1cm4gYVtiXXx8KGEuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oYil8fHYpLnNwZWNpZmllZD9jOng7ZWxzZSBpZih1KGQpKWEuc2V0QXR0cmlidXRlKGIsZCk7ZWxzZSBpZihhLmdldEF0dHJpYnV0ZSlyZXR1cm4gYT0KYS5nZXRBdHRyaWJ1dGUoYiwyKSxudWxsPT09YT94OmF9LHByb3A6ZnVuY3Rpb24oYSxiLGQpe2lmKHUoZCkpYVtiXT1kO2Vsc2UgcmV0dXJuIGFbYl19LHRleHQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsZCl7aWYocihkKSl7dmFyIGM9YS5ub2RlVHlwZTtyZXR1cm4gMT09PWN8fGM9PT1PYT9hLnRleHRDb250ZW50OiIifWEudGV4dENvbnRlbnQ9ZH1hLiRkdj0iIjtyZXR1cm4gYX0oKSx2YWw6ZnVuY3Rpb24oYSxiKXtpZihyKGIpKXtpZihhLm11bHRpcGxlJiYic2VsZWN0Ij09PW9hKGEpKXt2YXIgZD1bXTtwKGEub3B0aW9ucyxmdW5jdGlvbihhKXthLnNlbGVjdGVkJiZkLnB1c2goYS52YWx1ZXx8YS50ZXh0KX0pO3JldHVybiAwPT09ZC5sZW5ndGg/bnVsbDpkfXJldHVybiBhLnZhbHVlfWEudmFsdWU9Yn0saHRtbDpmdW5jdGlvbihhLGIpe2lmKHIoYikpcmV0dXJuIGEuaW5uZXJIVE1MO3RiKGEsITApO2EuaW5uZXJIVE1MPWJ9LGVtcHR5OlFjfSxmdW5jdGlvbihhLGIpe1MucHJvdG90eXBlW2JdPQpmdW5jdGlvbihiLGMpe3ZhciBlLGYsZz10aGlzLmxlbmd0aDtpZihhIT09UWMmJnIoMj09YS5sZW5ndGgmJmEhPT14YiYmYSE9PVBjP2I6Yykpe2lmKEsoYikpe2ZvcihlPTA7ZTxnO2UrKylpZihhPT09V2IpYSh0aGlzW2VdLGIpO2Vsc2UgZm9yKGYgaW4gYilhKHRoaXNbZV0sZixiW2ZdKTtyZXR1cm4gdGhpc31lPWEuJGR2O2c9cihlKT9NYXRoLm1pbihnLDEpOmc7Zm9yKGY9MDtmPGc7ZisrKXt2YXIgaD1hKHRoaXNbZl0sYixjKTtlPWU/ZStoOmh9cmV0dXJuIGV9Zm9yKGU9MDtlPGc7ZSsrKWEodGhpc1tlXSxiLGMpO3JldHVybiB0aGlzfX0pO3Aoe3JlbW92ZURhdGE6dWIsb246ZnVuY3Rpb24oYSxiLGQsYyl7aWYodShjKSl0aHJvdyBVYigib25hcmdzIik7aWYoS2MoYSkpe2M9dmIoYSwhMCk7dmFyIGU9Yy5ldmVudHMsZj1jLmhhbmRsZTtmfHwoZj1jLmhhbmRsZT1PZihhLGUpKTtjPTA8PWIuaW5kZXhPZigiICIpP2Iuc3BsaXQoIiAiKTpbYl07Zm9yKHZhciBnPWMubGVuZ3RoLApoPWZ1bmN0aW9uKGIsYyxnKXt2YXIgaD1lW2JdO2h8fChoPWVbYl09W10saC5zcGVjaWFsSGFuZGxlcldyYXBwZXI9YywiJGRlc3Ryb3kiPT09Ynx8Z3x8YS5hZGRFdmVudExpc3RlbmVyKGIsZiwhMSkpO2gucHVzaChkKX07Zy0tOyliPWNbZ10sd2JbYl0/KGgod2JbYl0sUWYpLGgoYix4LCEwKSk6aChiKX19LG9mZjpPYyxvbmU6ZnVuY3Rpb24oYSxiLGQpe2E9RChhKTthLm9uKGIsZnVuY3Rpb24gZSgpe2Eub2ZmKGIsZCk7YS5vZmYoYixlKX0pO2Eub24oYixkKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oYSxiKXt2YXIgZCxjPWEucGFyZW50Tm9kZTt0YihhKTtwKG5ldyBTKGIpLGZ1bmN0aW9uKGIpe2Q/Yy5pbnNlcnRCZWZvcmUoYixkLm5leHRTaWJsaW5nKTpjLnJlcGxhY2VDaGlsZChiLGEpO2Q9Yn0pfSxjaGlsZHJlbjpmdW5jdGlvbihhKXt2YXIgYj1bXTtwKGEuY2hpbGROb2RlcyxmdW5jdGlvbihhKXsxPT09YS5ub2RlVHlwZSYmYi5wdXNoKGEpfSk7cmV0dXJuIGJ9LGNvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnRlbnREb2N1bWVudHx8CmEuY2hpbGROb2Rlc3x8W119LGFwcGVuZDpmdW5jdGlvbihhLGIpe3ZhciBkPWEubm9kZVR5cGU7aWYoMT09PWR8fDExPT09ZCl7Yj1uZXcgUyhiKTtmb3IodmFyIGQ9MCxjPWIubGVuZ3RoO2Q8YztkKyspYS5hcHBlbmRDaGlsZChiW2RdKX19LHByZXBlbmQ6ZnVuY3Rpb24oYSxiKXtpZigxPT09YS5ub2RlVHlwZSl7dmFyIGQ9YS5maXJzdENoaWxkO3AobmV3IFMoYiksZnVuY3Rpb24oYil7YS5pbnNlcnRCZWZvcmUoYixkKX0pfX0sd3JhcDpmdW5jdGlvbihhLGIpe01jKGEsRChiKS5lcSgwKS5jbG9uZSgpWzBdKX0scmVtb3ZlOlhiLGRldGFjaDpmdW5jdGlvbihhKXtYYihhLCEwKX0sYWZ0ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgZD1hLGM9YS5wYXJlbnROb2RlO2I9bmV3IFMoYik7Zm9yKHZhciBlPTAsZj1iLmxlbmd0aDtlPGY7ZSsrKXt2YXIgZz1iW2VdO2MuaW5zZXJ0QmVmb3JlKGcsZC5uZXh0U2libGluZyk7ZD1nfX0sYWRkQ2xhc3M6emIscmVtb3ZlQ2xhc3M6eWIsdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oYSwKYixkKXtiJiZwKGIuc3BsaXQoIiAiKSxmdW5jdGlvbihiKXt2YXIgZT1kO3IoZSkmJihlPSF4YihhLGIpKTsoZT96Yjp5YikoYSxiKX0pfSxwYXJlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9YS5wYXJlbnROb2RlKSYmMTEhPT1hLm5vZGVUeXBlP2E6bnVsbH0sbmV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYS5uZXh0RWxlbWVudFNpYmxpbmd9LGZpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5nZXRFbGVtZW50c0J5VGFnTmFtZT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKGIpOltdfSxjbG9uZTpWYix0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIsZCl7dmFyIGMsZSxmPWIudHlwZXx8YixnPXZiKGEpO2lmKGc9KGc9ZyYmZy5ldmVudHMpJiZnW2ZdKWM9e3ByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPSEwfSxpc0RlZmF1bHRQcmV2ZW50ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMD09PXRoaXMuZGVmYXVsdFByZXZlbnRlZH0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9CiEwfSxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDpmdW5jdGlvbigpe3JldHVybiEwPT09dGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWR9LHN0b3BQcm9wYWdhdGlvbjp2LHR5cGU6Zix0YXJnZXQ6YX0sYi50eXBlJiYoYz1OKGMsYikpLGI9ZmEoZyksZT1kP1tjXS5jb25jYXQoZCk6W2NdLHAoYixmdW5jdGlvbihiKXtjLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCl8fGIuYXBwbHkoYSxlKX0pfX0sZnVuY3Rpb24oYSxiKXtTLnByb3RvdHlwZVtiXT1mdW5jdGlvbihiLGMsZSl7Zm9yKHZhciBmLGc9MCxoPXRoaXMubGVuZ3RoO2c8aDtnKyspcihmKT8oZj1hKHRoaXNbZ10sYixjLGUpLHUoZikmJihmPUQoZikpKTpOYyhmLGEodGhpc1tnXSxiLGMsZSkpO3JldHVybiB1KGYpP2Y6dGhpc307Uy5wcm90b3R5cGUuYmluZD1TLnByb3RvdHlwZS5vbjtTLnByb3RvdHlwZS51bmJpbmQ9Uy5wcm90b3R5cGUub2ZmfSk7VGEucHJvdG90eXBlPXtwdXQ6ZnVuY3Rpb24oYSwKYil7dGhpc1tEYShhLHRoaXMubmV4dFVpZCldPWJ9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpc1tEYShhLHRoaXMubmV4dFVpZCldfSxyZW1vdmU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpc1thPURhKGEsdGhpcy5uZXh0VWlkKV07ZGVsZXRlIHRoaXNbYV07cmV0dXJuIGJ9fTt2YXIgRmY9W2Z1bmN0aW9uKCl7dGhpcy4kZ2V0PVtmdW5jdGlvbigpe3JldHVybiBUYX1dfV0sVWM9L15bXlwoXSpcKFxzKihbXlwpXSopXCkvbSx4Zz0vLC8seWc9L15ccyooXz8pKFxTKz8pXDFccyokLyxUYz0vKChcL1wvLiokKXwoXC9cKltcc1xTXSo/XCpcLykpL21nLEVhPUIoIiRpbmplY3RvciIpO2RiLiQkYW5ub3RhdGU9ZnVuY3Rpb24oYSxiLGQpe3ZhciBjO2lmKCJmdW5jdGlvbiI9PT10eXBlb2YgYSl7aWYoIShjPWEuJGluamVjdCkpe2M9W107aWYoYS5sZW5ndGgpe2lmKGIpdGhyb3cgSChkKSYmZHx8KGQ9YS5uYW1lfHxTZihhKSksRWEoInN0cmljdGRpIixkKTtiPWEudG9TdHJpbmcoKS5yZXBsYWNlKFRjLAoiIik7Yj1iLm1hdGNoKFVjKTtwKGJbMV0uc3BsaXQoeGcpLGZ1bmN0aW9uKGEpe2EucmVwbGFjZSh5ZyxmdW5jdGlvbihhLGIsZCl7Yy5wdXNoKGQpfSl9KX1hLiRpbmplY3Q9Y319ZWxzZSBMKGEpPyhiPWEubGVuZ3RoLTEsUmEoYVtiXSwiZm4iKSxjPWEuc2xpY2UoMCxiKSk6UmEoYSwiZm4iLCEwKTtyZXR1cm4gY307dmFyIFFkPUIoIiRhbmltYXRlIiksWWU9ZnVuY3Rpb24oKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXt9fSxaZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBUYSxiPVtdO3RoaXMuJGdldD1bIiQkQW5pbWF0ZVJ1bm5lciIsIiRyb290U2NvcGUiLGZ1bmN0aW9uKGQsYyl7ZnVuY3Rpb24gZShhLGIsYyl7dmFyIGQ9ITE7YiYmKGI9SChiKT9iLnNwbGl0KCIgIik6TChiKT9iOltdLHAoYixmdW5jdGlvbihiKXtiJiYoZD0hMCxhW2JdPWMpfSkpO3JldHVybiBkfWZ1bmN0aW9uIGYoKXtwKGIsZnVuY3Rpb24oYil7dmFyIGM9YS5nZXQoYik7aWYoYyl7dmFyIGQ9VGYoYi5hdHRyKCJjbGFzcyIpKSwKZT0iIixmPSIiO3AoYyxmdW5jdGlvbihhLGIpe2EhPT0hIWRbYl0mJihhP2UrPShlLmxlbmd0aD8iICI6IiIpK2I6Zis9KGYubGVuZ3RoPyIgIjoiIikrYil9KTtwKGIsZnVuY3Rpb24oYSl7ZSYmemIoYSxlKTtmJiZ5YihhLGYpfSk7YS5yZW1vdmUoYil9fSk7Yi5sZW5ndGg9MH1yZXR1cm57ZW5hYmxlZDp2LG9uOnYsb2ZmOnYscGluOnYscHVzaDpmdW5jdGlvbihnLGgsayxtKXttJiZtKCk7az1rfHx7fTtrLmZyb20mJmcuY3NzKGsuZnJvbSk7ay50byYmZy5jc3Moay50byk7aWYoay5hZGRDbGFzc3x8ay5yZW1vdmVDbGFzcylpZihoPWsuYWRkQ2xhc3MsbT1rLnJlbW92ZUNsYXNzLGs9YS5nZXQoZyl8fHt9LGg9ZShrLGgsITApLG09ZShrLG0sITEpLGh8fG0pYS5wdXQoZyxrKSxiLnB1c2goZyksMT09PWIubGVuZ3RoJiZjLiQkcG9zdERpZ2VzdChmKTtnPW5ldyBkO2cuY29tcGxldGUoKTtyZXR1cm4gZ319fV19LFdlPVsiJHByb3ZpZGUiLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7CnRoaXMuJCRyZWdpc3RlcmVkQW5pbWF0aW9ucz1PYmplY3QuY3JlYXRlKG51bGwpO3RoaXMucmVnaXN0ZXI9ZnVuY3Rpb24oZCxjKXtpZihkJiYiLiIhPT1kLmNoYXJBdCgwKSl0aHJvdyBRZCgibm90Y3NlbCIsZCk7dmFyIGU9ZCsiLWFuaW1hdGlvbiI7Yi4kJHJlZ2lzdGVyZWRBbmltYXRpb25zW2Quc3Vic3RyKDEpXT1lO2EuZmFjdG9yeShlLGMpfTt0aGlzLmNsYXNzTmFtZUZpbHRlcj1mdW5jdGlvbihhKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCYmKHRoaXMuJCRjbGFzc05hbWVGaWx0ZXI9YSBpbnN0YW5jZW9mIFJlZ0V4cD9hOm51bGwpJiYvKFxzK3xcLyluZy1hbmltYXRlKFxzK3xcLykvLnRlc3QodGhpcy4kJGNsYXNzTmFtZUZpbHRlci50b1N0cmluZygpKSl0aHJvdyBRZCgibm9uZ2NscyIsIm5nLWFuaW1hdGUiKTtyZXR1cm4gdGhpcy4kJGNsYXNzTmFtZUZpbHRlcn07dGhpcy4kZ2V0PVsiJCRhbmltYXRlUXVldWUiLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxjLGQpe2lmKGQpe3ZhciBoOwphOntmb3IoaD0wO2g8ZC5sZW5ndGg7aCsrKXt2YXIgaz1kW2hdO2lmKDE9PT1rLm5vZGVUeXBlKXtoPWs7YnJlYWsgYX19aD12b2lkIDB9IWh8fGgucGFyZW50Tm9kZXx8aC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nfHwoZD1udWxsKX1kP2QuYWZ0ZXIoYSk6Yy5wcmVwZW5kKGEpfXJldHVybntvbjphLm9uLG9mZjphLm9mZixwaW46YS5waW4sZW5hYmxlZDphLmVuYWJsZWQsY2FuY2VsOmZ1bmN0aW9uKGEpe2EuZW5kJiZhLmVuZCgpfSxlbnRlcjpmdW5jdGlvbihlLGYsZyxoKXtmPWYmJkQoZik7Zz1nJiZEKGcpO2Y9Znx8Zy5wYXJlbnQoKTtiKGUsZixnKTtyZXR1cm4gYS5wdXNoKGUsImVudGVyIixGYShoKSl9LG1vdmU6ZnVuY3Rpb24oZSxmLGcsaCl7Zj1mJiZEKGYpO2c9ZyYmRChnKTtmPWZ8fGcucGFyZW50KCk7YihlLGYsZyk7cmV0dXJuIGEucHVzaChlLCJtb3ZlIixGYShoKSl9LGxlYXZlOmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEucHVzaChiLCJsZWF2ZSIsRmEoYyksZnVuY3Rpb24oKXtiLnJlbW92ZSgpfSl9LAphZGRDbGFzczpmdW5jdGlvbihiLGMsZyl7Zz1GYShnKTtnLmFkZENsYXNzPWdiKGcuYWRkY2xhc3MsYyk7cmV0dXJuIGEucHVzaChiLCJhZGRDbGFzcyIsZyl9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGIsYyxnKXtnPUZhKGcpO2cucmVtb3ZlQ2xhc3M9Z2IoZy5yZW1vdmVDbGFzcyxjKTtyZXR1cm4gYS5wdXNoKGIsInJlbW92ZUNsYXNzIixnKX0sc2V0Q2xhc3M6ZnVuY3Rpb24oYixjLGcsaCl7aD1GYShoKTtoLmFkZENsYXNzPWdiKGguYWRkQ2xhc3MsYyk7aC5yZW1vdmVDbGFzcz1nYihoLnJlbW92ZUNsYXNzLGcpO3JldHVybiBhLnB1c2goYiwic2V0Q2xhc3MiLGgpfSxhbmltYXRlOmZ1bmN0aW9uKGIsYyxnLGgsayl7az1GYShrKTtrLmZyb209ay5mcm9tP04oay5mcm9tLGMpOmM7ay50bz1rLnRvP04oay50byxnKTpnO2sudGVtcENsYXNzZXM9Z2Ioay50ZW1wQ2xhc3NlcyxofHwibmctaW5saW5lLWFuaW1hdGUiKTtyZXR1cm4gYS5wdXNoKGIsImFuaW1hdGUiLGspfX19XX1dLGFmPQpmdW5jdGlvbigpe3RoaXMuJGdldD1bIiQkckFGIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIpe2QucHVzaChiKTsxPGQubGVuZ3RofHxhKGZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTxkLmxlbmd0aDthKyspZFthXSgpO2Q9W119KX12YXIgZD1bXTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYT0hMTtiKGZ1bmN0aW9uKCl7YT0hMH0pO3JldHVybiBmdW5jdGlvbihkKXthP2QoKTpiKGQpfX19XX0sJGU9ZnVuY3Rpb24oKXt0aGlzLiRnZXQ9WyIkcSIsIiRzbmlmZmVyIiwiJCRhbmltYXRlQXN5bmNSdW4iLCIkZG9jdW1lbnQiLCIkdGltZW91dCIsZnVuY3Rpb24oYSxiLGQsYyxlKXtmdW5jdGlvbiBmKGEpe3RoaXMuc2V0SG9zdChhKTt2YXIgYj1kKCk7dGhpcy5fZG9uZUNhbGxiYWNrcz1bXTt0aGlzLl90aWNrPWZ1bmN0aW9uKGEpe3ZhciBkPWNbMF07ZCYmZC5oaWRkZW4/ZShhLDAsITEpOmIoYSl9O3RoaXMuX3N0YXRlPTB9Zi5jaGFpbj1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtpZihkPT09CmEubGVuZ3RoKWIoITApO2Vsc2UgYVtkXShmdW5jdGlvbihhKXshMT09PWE/YighMSk6KGQrKyxjKCkpfSl9dmFyIGQ9MDtjKCl9O2YuYWxsPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhmKXtlPWUmJmY7KytkPT09YS5sZW5ndGgmJmIoZSl9dmFyIGQ9MCxlPSEwO3AoYSxmdW5jdGlvbihhKXthLmRvbmUoYyl9KX07Zi5wcm90b3R5cGU9e3NldEhvc3Q6ZnVuY3Rpb24oYSl7dGhpcy5ob3N0PWF8fHt9fSxkb25lOmZ1bmN0aW9uKGEpezI9PT10aGlzLl9zdGF0ZT9hKCk6dGhpcy5fZG9uZUNhbGxiYWNrcy5wdXNoKGEpfSxwcm9ncmVzczp2LGdldFByb21pc2U6ZnVuY3Rpb24oKXtpZighdGhpcy5wcm9taXNlKXt2YXIgYj10aGlzO3RoaXMucHJvbWlzZT1hKGZ1bmN0aW9uKGEsYyl7Yi5kb25lKGZ1bmN0aW9uKGIpeyExPT09Yj9jKCk6YSgpfSl9KX1yZXR1cm4gdGhpcy5wcm9taXNlfSx0aGVuOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ2V0UHJvbWlzZSgpLnRoZW4oYSxiKX0sImNhdGNoIjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXRQcm9taXNlKClbImNhdGNoIl0oYSl9LAoiZmluYWxseSI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0UHJvbWlzZSgpWyJmaW5hbGx5Il0oYSl9LHBhdXNlOmZ1bmN0aW9uKCl7dGhpcy5ob3N0LnBhdXNlJiZ0aGlzLmhvc3QucGF1c2UoKX0scmVzdW1lOmZ1bmN0aW9uKCl7dGhpcy5ob3N0LnJlc3VtZSYmdGhpcy5ob3N0LnJlc3VtZSgpfSxlbmQ6ZnVuY3Rpb24oKXt0aGlzLmhvc3QuZW5kJiZ0aGlzLmhvc3QuZW5kKCk7dGhpcy5fcmVzb2x2ZSghMCl9LGNhbmNlbDpmdW5jdGlvbigpe3RoaXMuaG9zdC5jYW5jZWwmJnRoaXMuaG9zdC5jYW5jZWwoKTt0aGlzLl9yZXNvbHZlKCExKX0sY29tcGxldGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczswPT09Yi5fc3RhdGUmJihiLl9zdGF0ZT0xLGIuX3RpY2soZnVuY3Rpb24oKXtiLl9yZXNvbHZlKGEpfSkpfSxfcmVzb2x2ZTpmdW5jdGlvbihhKXsyIT09dGhpcy5fc3RhdGUmJihwKHRoaXMuX2RvbmVDYWxsYmFja3MsZnVuY3Rpb24oYil7YihhKX0pLHRoaXMuX2RvbmVDYWxsYmFja3MubGVuZ3RoPQowLHRoaXMuX3N0YXRlPTIpfX07cmV0dXJuIGZ9XX0sWGU9ZnVuY3Rpb24oKXt0aGlzLiRnZXQ9WyIkJHJBRiIsIiRxIiwiJCRBbmltYXRlUnVubmVyIixmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGIsZSl7ZnVuY3Rpb24gZigpe2EoZnVuY3Rpb24oKXtnLmFkZENsYXNzJiYoYi5hZGRDbGFzcyhnLmFkZENsYXNzKSxnLmFkZENsYXNzPW51bGwpO2cucmVtb3ZlQ2xhc3MmJihiLnJlbW92ZUNsYXNzKGcucmVtb3ZlQ2xhc3MpLGcucmVtb3ZlQ2xhc3M9bnVsbCk7Zy50byYmKGIuY3NzKGcudG8pLGcudG89bnVsbCk7aHx8ay5jb21wbGV0ZSgpO2g9ITB9KTtyZXR1cm4ga312YXIgZz1lfHx7fTtnLiQkcHJlcGFyZWR8fChnPU5hKGcpKTtnLmNsZWFudXBTdHlsZXMmJihnLmZyb209Zy50bz1udWxsKTtnLmZyb20mJihiLmNzcyhnLmZyb20pLGcuZnJvbT1udWxsKTt2YXIgaCxrPW5ldyBkO3JldHVybntzdGFydDpmLGVuZDpmfX19XX0sZ2E9QigiJGNvbXBpbGUiKTtDYy4kaW5qZWN0PQpbIiRwcm92aWRlIiwiJCRzYW5pdGl6ZVVyaVByb3ZpZGVyIl07dmFyIFdjPS9eKCg/Onh8ZGF0YSlbXDpcLV9dKS9pLFlmPUIoIiRjb250cm9sbGVyIiksWmM9L14oXFMrKShccythc1xzKyhbXHckXSspKT8kLyxnZj1mdW5jdGlvbigpe3RoaXMuJGdldD1bIiRkb2N1bWVudCIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe2I/IWIubm9kZVR5cGUmJmIgaW5zdGFuY2VvZiBEJiYoYj1iWzBdKTpiPWFbMF0uYm9keTtyZXR1cm4gYi5vZmZzZXRXaWR0aCsxfX1dfSxiZD0iYXBwbGljYXRpb24vanNvbiIsYWM9eyJDb250ZW50LVR5cGUiOmJkKyI7Y2hhcnNldD11dGYtOCJ9LCRmPS9eXFt8Xlx7KD8hXHspLyxhZz17IlsiOi9dJC8sInsiOi99JC99LFpmPS9eXClcXVx9Jyw/XG4vLHpnPUIoIiRodHRwIiksZmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dGhyb3cgemcoImxlZ2FjeSIsYSk7fX0sSWE9ZGEuJGludGVycG9sYXRlTWluRXJyPUIoIiRpbnRlcnBvbGF0ZSIpOwpJYS50aHJvd05vY29uY2F0PWZ1bmN0aW9uKGEpe3Rocm93IElhKCJub2NvbmNhdCIsYSk7fTtJYS5pbnRlcnI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSWEoImludGVyciIsYSxiLnRvU3RyaW5nKCkpfTt2YXIgQWc9L14oW15cPyNdKikoXD8oW14jXSopKT8oIyguKikpPyQvLGNnPXtodHRwOjgwLGh0dHBzOjQ0MyxmdHA6MjF9LENiPUIoIiRsb2NhdGlvbiIpLEJnPXskJGh0bWw1OiExLCQkcmVwbGFjZTohMSxhYnNVcmw6RGIoIiQkYWJzVXJsIiksdXJsOmZ1bmN0aW9uKGEpe2lmKHIoYSkpcmV0dXJuIHRoaXMuJCR1cmw7dmFyIGI9QWcuZXhlYyhhKTsoYlsxXXx8IiI9PT1hKSYmdGhpcy5wYXRoKGRlY29kZVVSSUNvbXBvbmVudChiWzFdKSk7KGJbMl18fGJbMV18fCIiPT09YSkmJnRoaXMuc2VhcmNoKGJbM118fCIiKTt0aGlzLmhhc2goYls1XXx8IiIpO3JldHVybiB0aGlzfSxwcm90b2NvbDpEYigiJCRwcm90b2NvbCIpLGhvc3Q6RGIoIiQkaG9zdCIpLHBvcnQ6RGIoIiQkcG9ydCIpLApwYXRoOmtkKCIkJHBhdGgiLGZ1bmN0aW9uKGEpe2E9bnVsbCE9PWE/YS50b1N0cmluZygpOiIiO3JldHVybiIvIj09YS5jaGFyQXQoMCk/YToiLyIrYX0pLHNlYXJjaDpmdW5jdGlvbihhLGIpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIHRoaXMuJCRzZWFyY2g7Y2FzZSAxOmlmKEgoYSl8fFAoYSkpYT1hLnRvU3RyaW5nKCksdGhpcy4kJHNlYXJjaD14YyhhKTtlbHNlIGlmKEsoYSkpYT1OYShhLHt9KSxwKGEsZnVuY3Rpb24oYixjKXtudWxsPT1iJiZkZWxldGUgYVtjXX0pLHRoaXMuJCRzZWFyY2g9YTtlbHNlIHRocm93IENiKCJpc3JjaGFyZyIpO2JyZWFrO2RlZmF1bHQ6cihiKXx8bnVsbD09PWI/ZGVsZXRlIHRoaXMuJCRzZWFyY2hbYV06dGhpcy4kJHNlYXJjaFthXT1ifXRoaXMuJCRjb21wb3NlKCk7cmV0dXJuIHRoaXN9LGhhc2g6a2QoIiQkaGFzaCIsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPT1hP2EudG9TdHJpbmcoKToiIn0pLHJlcGxhY2U6ZnVuY3Rpb24oKXt0aGlzLiQkcmVwbGFjZT0KITA7cmV0dXJuIHRoaXN9fTtwKFtqZCxkYyxjY10sZnVuY3Rpb24oYSl7YS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShCZyk7YS5wcm90b3R5cGUuc3RhdGU9ZnVuY3Rpb24oYil7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuJCRzdGF0ZTtpZihhIT09Y2N8fCF0aGlzLiQkaHRtbDUpdGhyb3cgQ2IoIm5vc3RhdGUiKTt0aGlzLiQkc3RhdGU9cihiKT9udWxsOmI7cmV0dXJuIHRoaXN9fSk7dmFyIGFhPUIoIiRwYXJzZSIpLGRnPUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLGVnPUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSxmZz1GdW5jdGlvbi5wcm90b3R5cGUuYmluZCxMYj1aKCk7cCgiKyAtICogLyAlID09PSAhPT0gPT0gIT0gPCA+IDw9ID49ICYmIHx8ICEgPSB8Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKGEpe0xiW2FdPSEwfSk7dmFyIENnPXtuOiJcbiIsZjoiXGYiLHI6IlxyIix0OiJcdCIsdjoiXHYiLCInIjoiJyIsJyInOiciJ30sZmM9ZnVuY3Rpb24oYSl7dGhpcy5vcHRpb25zPQphfTtmYy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmZjLGxleDpmdW5jdGlvbihhKXt0aGlzLnRleHQ9YTt0aGlzLmluZGV4PTA7Zm9yKHRoaXMudG9rZW5zPVtdO3RoaXMuaW5kZXg8dGhpcy50ZXh0Lmxlbmd0aDspaWYoYT10aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpLCciJz09PWF8fCInIj09PWEpdGhpcy5yZWFkU3RyaW5nKGEpO2Vsc2UgaWYodGhpcy5pc051bWJlcihhKXx8Ii4iPT09YSYmdGhpcy5pc051bWJlcih0aGlzLnBlZWsoKSkpdGhpcy5yZWFkTnVtYmVyKCk7ZWxzZSBpZih0aGlzLmlzSWRlbnQoYSkpdGhpcy5yZWFkSWRlbnQoKTtlbHNlIGlmKHRoaXMuaXMoYSwiKCl7fVtdLiw7Oj8iKSl0aGlzLnRva2Vucy5wdXNoKHtpbmRleDp0aGlzLmluZGV4LHRleHQ6YX0pLHRoaXMuaW5kZXgrKztlbHNlIGlmKHRoaXMuaXNXaGl0ZXNwYWNlKGEpKXRoaXMuaW5kZXgrKztlbHNle3ZhciBiPWErdGhpcy5wZWVrKCksZD1iK3RoaXMucGVlaygyKSxjPUxiW2JdLGU9TGJbZF07CkxiW2FdfHxjfHxlPyhhPWU/ZDpjP2I6YSx0aGlzLnRva2Vucy5wdXNoKHtpbmRleDp0aGlzLmluZGV4LHRleHQ6YSxvcGVyYXRvcjohMH0pLHRoaXMuaW5kZXgrPWEubGVuZ3RoKTp0aGlzLnRocm93RXJyb3IoIlVuZXhwZWN0ZWQgbmV4dCBjaGFyYWN0ZXIgIix0aGlzLmluZGV4LHRoaXMuaW5kZXgrMSl9cmV0dXJuIHRoaXMudG9rZW5zfSxpczpmdW5jdGlvbihhLGIpe3JldHVybi0xIT09Yi5pbmRleE9mKGEpfSxwZWVrOmZ1bmN0aW9uKGEpe2E9YXx8MTtyZXR1cm4gdGhpcy5pbmRleCthPHRoaXMudGV4dC5sZW5ndGg/dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4K2EpOiExfSxpc051bWJlcjpmdW5jdGlvbihhKXtyZXR1cm4iMCI8PWEmJiI5Ij49YSYmInN0cmluZyI9PT10eXBlb2YgYX0saXNXaGl0ZXNwYWNlOmZ1bmN0aW9uKGEpe3JldHVybiIgIj09PWF8fCJcciI9PT1hfHwiXHQiPT09YXx8IlxuIj09PWF8fCJcdiI9PT1hfHwiXHUwMGEwIj09PWF9LGlzSWRlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuImEiPD0KYSYmInoiPj1hfHwiQSI8PWEmJiJaIj49YXx8Il8iPT09YXx8IiQiPT09YX0saXNFeHBPcGVyYXRvcjpmdW5jdGlvbihhKXtyZXR1cm4iLSI9PT1hfHwiKyI9PT1hfHx0aGlzLmlzTnVtYmVyKGEpfSx0aHJvd0Vycm9yOmZ1bmN0aW9uKGEsYixkKXtkPWR8fHRoaXMuaW5kZXg7Yj11KGIpPyJzICIrYisiLSIrdGhpcy5pbmRleCsiIFsiK3RoaXMudGV4dC5zdWJzdHJpbmcoYixkKSsiXSI6IiAiK2Q7dGhyb3cgYWEoImxleGVyciIsYSxiLHRoaXMudGV4dCk7fSxyZWFkTnVtYmVyOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPSIiLGI9dGhpcy5pbmRleDt0aGlzLmluZGV4PHRoaXMudGV4dC5sZW5ndGg7KXt2YXIgZD1NKHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCkpO2lmKCIuIj09ZHx8dGhpcy5pc051bWJlcihkKSlhKz1kO2Vsc2V7dmFyIGM9dGhpcy5wZWVrKCk7aWYoImUiPT1kJiZ0aGlzLmlzRXhwT3BlcmF0b3IoYykpYSs9ZDtlbHNlIGlmKHRoaXMuaXNFeHBPcGVyYXRvcihkKSYmCmMmJnRoaXMuaXNOdW1iZXIoYykmJiJlIj09YS5jaGFyQXQoYS5sZW5ndGgtMSkpYSs9ZDtlbHNlIGlmKCF0aGlzLmlzRXhwT3BlcmF0b3IoZCl8fGMmJnRoaXMuaXNOdW1iZXIoYyl8fCJlIiE9YS5jaGFyQXQoYS5sZW5ndGgtMSkpYnJlYWs7ZWxzZSB0aGlzLnRocm93RXJyb3IoIkludmFsaWQgZXhwb25lbnQiKX10aGlzLmluZGV4Kyt9dGhpcy50b2tlbnMucHVzaCh7aW5kZXg6Yix0ZXh0OmEsY29uc3RhbnQ6ITAsdmFsdWU6TnVtYmVyKGEpfSl9LHJlYWRJZGVudDpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmluZGV4O3RoaXMuaW5kZXg8dGhpcy50ZXh0Lmxlbmd0aDspe3ZhciBiPXRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7aWYoIXRoaXMuaXNJZGVudChiKSYmIXRoaXMuaXNOdW1iZXIoYikpYnJlYWs7dGhpcy5pbmRleCsrfXRoaXMudG9rZW5zLnB1c2goe2luZGV4OmEsdGV4dDp0aGlzLnRleHQuc2xpY2UoYSx0aGlzLmluZGV4KSxpZGVudGlmaWVyOiEwfSl9LHJlYWRTdHJpbmc6ZnVuY3Rpb24oYSl7dmFyIGI9CnRoaXMuaW5kZXg7dGhpcy5pbmRleCsrO2Zvcih2YXIgZD0iIixjPWEsZT0hMTt0aGlzLmluZGV4PHRoaXMudGV4dC5sZW5ndGg7KXt2YXIgZj10aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpLGM9YytmO2lmKGUpInUiPT09Zj8oZT10aGlzLnRleHQuc3Vic3RyaW5nKHRoaXMuaW5kZXgrMSx0aGlzLmluZGV4KzUpLGUubWF0Y2goL1tcZGEtZl17NH0vaSl8fHRoaXMudGhyb3dFcnJvcigiSW52YWxpZCB1bmljb2RlIGVzY2FwZSBbXFx1IitlKyJdIiksdGhpcy5pbmRleCs9NCxkKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGUsMTYpKSk6ZCs9Q2dbZl18fGYsZT0hMTtlbHNlIGlmKCJcXCI9PT1mKWU9ITA7ZWxzZXtpZihmPT09YSl7dGhpcy5pbmRleCsrO3RoaXMudG9rZW5zLnB1c2goe2luZGV4OmIsdGV4dDpjLGNvbnN0YW50OiEwLHZhbHVlOmR9KTtyZXR1cm59ZCs9Zn10aGlzLmluZGV4Kyt9dGhpcy50aHJvd0Vycm9yKCJVbnRlcm1pbmF0ZWQgcXVvdGUiLGIpfX07dmFyIHM9CmZ1bmN0aW9uKGEsYil7dGhpcy5sZXhlcj1hO3RoaXMub3B0aW9ucz1ifTtzLlByb2dyYW09IlByb2dyYW0iO3MuRXhwcmVzc2lvblN0YXRlbWVudD0iRXhwcmVzc2lvblN0YXRlbWVudCI7cy5Bc3NpZ25tZW50RXhwcmVzc2lvbj0iQXNzaWdubWVudEV4cHJlc3Npb24iO3MuQ29uZGl0aW9uYWxFeHByZXNzaW9uPSJDb25kaXRpb25hbEV4cHJlc3Npb24iO3MuTG9naWNhbEV4cHJlc3Npb249IkxvZ2ljYWxFeHByZXNzaW9uIjtzLkJpbmFyeUV4cHJlc3Npb249IkJpbmFyeUV4cHJlc3Npb24iO3MuVW5hcnlFeHByZXNzaW9uPSJVbmFyeUV4cHJlc3Npb24iO3MuQ2FsbEV4cHJlc3Npb249IkNhbGxFeHByZXNzaW9uIjtzLk1lbWJlckV4cHJlc3Npb249Ik1lbWJlckV4cHJlc3Npb24iO3MuSWRlbnRpZmllcj0iSWRlbnRpZmllciI7cy5MaXRlcmFsPSJMaXRlcmFsIjtzLkFycmF5RXhwcmVzc2lvbj0iQXJyYXlFeHByZXNzaW9uIjtzLlByb3BlcnR5PSJQcm9wZXJ0eSI7cy5PYmplY3RFeHByZXNzaW9uPQoiT2JqZWN0RXhwcmVzc2lvbiI7cy5UaGlzRXhwcmVzc2lvbj0iVGhpc0V4cHJlc3Npb24iO3MuTkdWYWx1ZVBhcmFtZXRlcj0iTkdWYWx1ZVBhcmFtZXRlciI7cy5wcm90b3R5cGU9e2FzdDpmdW5jdGlvbihhKXt0aGlzLnRleHQ9YTt0aGlzLnRva2Vucz10aGlzLmxleGVyLmxleChhKTthPXRoaXMucHJvZ3JhbSgpOzAhPT10aGlzLnRva2Vucy5sZW5ndGgmJnRoaXMudGhyb3dFcnJvcigiaXMgYW4gdW5leHBlY3RlZCB0b2tlbiIsdGhpcy50b2tlbnNbMF0pO3JldHVybiBhfSxwcm9ncmFtOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdOzspaWYoMDx0aGlzLnRva2Vucy5sZW5ndGgmJiF0aGlzLnBlZWsoIn0iLCIpIiwiOyIsIl0iKSYmYS5wdXNoKHRoaXMuZXhwcmVzc2lvblN0YXRlbWVudCgpKSwhdGhpcy5leHBlY3QoIjsiKSlyZXR1cm57dHlwZTpzLlByb2dyYW0sYm9keTphfX0sZXhwcmVzc2lvblN0YXRlbWVudDpmdW5jdGlvbigpe3JldHVybnt0eXBlOnMuRXhwcmVzc2lvblN0YXRlbWVudCwKZXhwcmVzc2lvbjp0aGlzLmZpbHRlckNoYWluKCl9fSxmaWx0ZXJDaGFpbjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmV4cHJlc3Npb24oKTt0aGlzLmV4cGVjdCgifCIpOylhPXRoaXMuZmlsdGVyKGEpO3JldHVybiBhfSxleHByZXNzaW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXNzaWdubWVudCgpfSxhc3NpZ25tZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50ZXJuYXJ5KCk7dGhpcy5leHBlY3QoIj0iKSYmKGE9e3R5cGU6cy5Bc3NpZ25tZW50RXhwcmVzc2lvbixsZWZ0OmEscmlnaHQ6dGhpcy5hc3NpZ25tZW50KCksb3BlcmF0b3I6Ij0ifSk7cmV0dXJuIGF9LHRlcm5hcnk6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxvZ2ljYWxPUigpLGIsZDtyZXR1cm4gdGhpcy5leHBlY3QoIj8iKSYmKGI9dGhpcy5leHByZXNzaW9uKCksdGhpcy5jb25zdW1lKCI6IikpPyhkPXRoaXMuZXhwcmVzc2lvbigpLHt0eXBlOnMuQ29uZGl0aW9uYWxFeHByZXNzaW9uLHRlc3Q6YSxhbHRlcm5hdGU6YiwKY29uc2VxdWVudDpkfSk6YX0sbG9naWNhbE9SOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMubG9naWNhbEFORCgpO3RoaXMuZXhwZWN0KCJ8fCIpOylhPXt0eXBlOnMuTG9naWNhbEV4cHJlc3Npb24sb3BlcmF0b3I6Inx8IixsZWZ0OmEscmlnaHQ6dGhpcy5sb2dpY2FsQU5EKCl9O3JldHVybiBhfSxsb2dpY2FsQU5EOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuZXF1YWxpdHkoKTt0aGlzLmV4cGVjdCgiJiYiKTspYT17dHlwZTpzLkxvZ2ljYWxFeHByZXNzaW9uLG9wZXJhdG9yOiImJiIsbGVmdDphLHJpZ2h0OnRoaXMuZXF1YWxpdHkoKX07cmV0dXJuIGF9LGVxdWFsaXR5OmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMucmVsYXRpb25hbCgpLGI7Yj10aGlzLmV4cGVjdCgiPT0iLCIhPSIsIj09PSIsIiE9PSIpOylhPXt0eXBlOnMuQmluYXJ5RXhwcmVzc2lvbixvcGVyYXRvcjpiLnRleHQsbGVmdDphLHJpZ2h0OnRoaXMucmVsYXRpb25hbCgpfTtyZXR1cm4gYX0scmVsYXRpb25hbDpmdW5jdGlvbigpe2Zvcih2YXIgYT0KdGhpcy5hZGRpdGl2ZSgpLGI7Yj10aGlzLmV4cGVjdCgiPCIsIj4iLCI8PSIsIj49Iik7KWE9e3R5cGU6cy5CaW5hcnlFeHByZXNzaW9uLG9wZXJhdG9yOmIudGV4dCxsZWZ0OmEscmlnaHQ6dGhpcy5hZGRpdGl2ZSgpfTtyZXR1cm4gYX0sYWRkaXRpdmU6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5tdWx0aXBsaWNhdGl2ZSgpLGI7Yj10aGlzLmV4cGVjdCgiKyIsIi0iKTspYT17dHlwZTpzLkJpbmFyeUV4cHJlc3Npb24sb3BlcmF0b3I6Yi50ZXh0LGxlZnQ6YSxyaWdodDp0aGlzLm11bHRpcGxpY2F0aXZlKCl9O3JldHVybiBhfSxtdWx0aXBsaWNhdGl2ZTpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLnVuYXJ5KCksYjtiPXRoaXMuZXhwZWN0KCIqIiwiLyIsIiUiKTspYT17dHlwZTpzLkJpbmFyeUV4cHJlc3Npb24sb3BlcmF0b3I6Yi50ZXh0LGxlZnQ6YSxyaWdodDp0aGlzLnVuYXJ5KCl9O3JldHVybiBhfSx1bmFyeTpmdW5jdGlvbigpe3ZhciBhO3JldHVybihhPXRoaXMuZXhwZWN0KCIrIiwKIi0iLCIhIikpP3t0eXBlOnMuVW5hcnlFeHByZXNzaW9uLG9wZXJhdG9yOmEudGV4dCxwcmVmaXg6ITAsYXJndW1lbnQ6dGhpcy51bmFyeSgpfTp0aGlzLnByaW1hcnkoKX0scHJpbWFyeTpmdW5jdGlvbigpe3ZhciBhO3RoaXMuZXhwZWN0KCIoIik/KGE9dGhpcy5maWx0ZXJDaGFpbigpLHRoaXMuY29uc3VtZSgiKSIpKTp0aGlzLmV4cGVjdCgiWyIpP2E9dGhpcy5hcnJheURlY2xhcmF0aW9uKCk6dGhpcy5leHBlY3QoInsiKT9hPXRoaXMub2JqZWN0KCk6dGhpcy5jb25zdGFudHMuaGFzT3duUHJvcGVydHkodGhpcy5wZWVrKCkudGV4dCk/YT1OYSh0aGlzLmNvbnN0YW50c1t0aGlzLmNvbnN1bWUoKS50ZXh0XSk6dGhpcy5wZWVrKCkuaWRlbnRpZmllcj9hPXRoaXMuaWRlbnRpZmllcigpOnRoaXMucGVlaygpLmNvbnN0YW50P2E9dGhpcy5jb25zdGFudCgpOnRoaXMudGhyb3dFcnJvcigibm90IGEgcHJpbWFyeSBleHByZXNzaW9uIix0aGlzLnBlZWsoKSk7Zm9yKHZhciBiO2I9dGhpcy5leHBlY3QoIigiLAoiWyIsIi4iKTspIigiPT09Yi50ZXh0PyhhPXt0eXBlOnMuQ2FsbEV4cHJlc3Npb24sY2FsbGVlOmEsYXJndW1lbnRzOnRoaXMucGFyc2VBcmd1bWVudHMoKX0sdGhpcy5jb25zdW1lKCIpIikpOiJbIj09PWIudGV4dD8oYT17dHlwZTpzLk1lbWJlckV4cHJlc3Npb24sb2JqZWN0OmEscHJvcGVydHk6dGhpcy5leHByZXNzaW9uKCksY29tcHV0ZWQ6ITB9LHRoaXMuY29uc3VtZSgiXSIpKToiLiI9PT1iLnRleHQ/YT17dHlwZTpzLk1lbWJlckV4cHJlc3Npb24sb2JqZWN0OmEscHJvcGVydHk6dGhpcy5pZGVudGlmaWVyKCksY29tcHV0ZWQ6ITF9OnRoaXMudGhyb3dFcnJvcigiSU1QT1NTSUJMRSIpO3JldHVybiBhfSxmaWx0ZXI6ZnVuY3Rpb24oYSl7YT1bYV07Zm9yKHZhciBiPXt0eXBlOnMuQ2FsbEV4cHJlc3Npb24sY2FsbGVlOnRoaXMuaWRlbnRpZmllcigpLGFyZ3VtZW50czphLGZpbHRlcjohMH07dGhpcy5leHBlY3QoIjoiKTspYS5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKTtyZXR1cm4gYn0sCnBhcnNlQXJndW1lbnRzOmZ1bmN0aW9uKCl7dmFyIGE9W107aWYoIikiIT09dGhpcy5wZWVrVG9rZW4oKS50ZXh0KXtkbyBhLnB1c2godGhpcy5leHByZXNzaW9uKCkpO3doaWxlKHRoaXMuZXhwZWN0KCIsIikpfXJldHVybiBhfSxpZGVudGlmaWVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jb25zdW1lKCk7YS5pZGVudGlmaWVyfHx0aGlzLnRocm93RXJyb3IoImlzIG5vdCBhIHZhbGlkIGlkZW50aWZpZXIiLGEpO3JldHVybnt0eXBlOnMuSWRlbnRpZmllcixuYW1lOmEudGV4dH19LGNvbnN0YW50OmZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6cy5MaXRlcmFsLHZhbHVlOnRoaXMuY29uc3VtZSgpLnZhbHVlfX0sYXJyYXlEZWNsYXJhdGlvbjpmdW5jdGlvbigpe3ZhciBhPVtdO2lmKCJdIiE9PXRoaXMucGVla1Rva2VuKCkudGV4dCl7ZG97aWYodGhpcy5wZWVrKCJdIikpYnJlYWs7YS5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKX13aGlsZSh0aGlzLmV4cGVjdCgiLCIpKX10aGlzLmNvbnN1bWUoIl0iKTsKcmV0dXJue3R5cGU6cy5BcnJheUV4cHJlc3Npb24sZWxlbWVudHM6YX19LG9iamVjdDpmdW5jdGlvbigpe3ZhciBhPVtdLGI7aWYoIn0iIT09dGhpcy5wZWVrVG9rZW4oKS50ZXh0KXtkb3tpZih0aGlzLnBlZWsoIn0iKSlicmVhaztiPXt0eXBlOnMuUHJvcGVydHksa2luZDoiaW5pdCJ9O3RoaXMucGVlaygpLmNvbnN0YW50P2Iua2V5PXRoaXMuY29uc3RhbnQoKTp0aGlzLnBlZWsoKS5pZGVudGlmaWVyP2Iua2V5PXRoaXMuaWRlbnRpZmllcigpOnRoaXMudGhyb3dFcnJvcigiaW52YWxpZCBrZXkiLHRoaXMucGVlaygpKTt0aGlzLmNvbnN1bWUoIjoiKTtiLnZhbHVlPXRoaXMuZXhwcmVzc2lvbigpO2EucHVzaChiKX13aGlsZSh0aGlzLmV4cGVjdCgiLCIpKX10aGlzLmNvbnN1bWUoIn0iKTtyZXR1cm57dHlwZTpzLk9iamVjdEV4cHJlc3Npb24scHJvcGVydGllczphfX0sdGhyb3dFcnJvcjpmdW5jdGlvbihhLGIpe3Rocm93IGFhKCJzeW50YXgiLGIudGV4dCxhLGIuaW5kZXgrMSx0aGlzLnRleHQsCnRoaXMudGV4dC5zdWJzdHJpbmcoYi5pbmRleCkpO30sY29uc3VtZTpmdW5jdGlvbihhKXtpZigwPT09dGhpcy50b2tlbnMubGVuZ3RoKXRocm93IGFhKCJ1ZW9lIix0aGlzLnRleHQpO3ZhciBiPXRoaXMuZXhwZWN0KGEpO2J8fHRoaXMudGhyb3dFcnJvcigiaXMgdW5leHBlY3RlZCwgZXhwZWN0aW5nIFsiK2ErIl0iLHRoaXMucGVlaygpKTtyZXR1cm4gYn0scGVla1Rva2VuOmZ1bmN0aW9uKCl7aWYoMD09PXRoaXMudG9rZW5zLmxlbmd0aCl0aHJvdyBhYSgidWVvZSIsdGhpcy50ZXh0KTtyZXR1cm4gdGhpcy50b2tlbnNbMF19LHBlZWs6ZnVuY3Rpb24oYSxiLGQsYyl7cmV0dXJuIHRoaXMucGVla0FoZWFkKDAsYSxiLGQsYyl9LHBlZWtBaGVhZDpmdW5jdGlvbihhLGIsZCxjLGUpe2lmKHRoaXMudG9rZW5zLmxlbmd0aD5hKXthPXRoaXMudG9rZW5zW2FdO3ZhciBmPWEudGV4dDtpZihmPT09Ynx8Zj09PWR8fGY9PT1jfHxmPT09ZXx8IShifHxkfHxjfHxlKSlyZXR1cm4gYX1yZXR1cm4hMX0sCmV4cGVjdDpmdW5jdGlvbihhLGIsZCxjKXtyZXR1cm4oYT10aGlzLnBlZWsoYSxiLGQsYykpPyh0aGlzLnRva2Vucy5zaGlmdCgpLGEpOiExfSxjb25zdGFudHM6eyJ0cnVlIjp7dHlwZTpzLkxpdGVyYWwsdmFsdWU6ITB9LCJmYWxzZSI6e3R5cGU6cy5MaXRlcmFsLHZhbHVlOiExfSwibnVsbCI6e3R5cGU6cy5MaXRlcmFsLHZhbHVlOm51bGx9LHVuZGVmaW5lZDp7dHlwZTpzLkxpdGVyYWwsdmFsdWU6eH0sInRoaXMiOnt0eXBlOnMuVGhpc0V4cHJlc3Npb259fX07c2QucHJvdG90eXBlPXtjb21waWxlOmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcyxjPXRoaXMuYXN0QnVpbGRlci5hc3QoYSk7dGhpcy5zdGF0ZT17bmV4dElkOjAsZmlsdGVyczp7fSxleHBlbnNpdmVDaGVja3M6Yixmbjp7dmFyczpbXSxib2R5OltdLG93bjp7fX0sYXNzaWduOnt2YXJzOltdLGJvZHk6W10sb3duOnt9fSxpbnB1dHM6W119O1goYyxkLiRmaWx0ZXIpO3ZhciBlPSIiLGY7dGhpcy5zdGFnZT0iYXNzaWduIjsKaWYoZj1xZChjKSl0aGlzLnN0YXRlLmNvbXB1dGluZz0iYXNzaWduIixlPXRoaXMubmV4dElkKCksdGhpcy5yZWN1cnNlKGYsZSksdGhpcy5yZXR1cm5fKGUpLGU9ImZuLmFzc2lnbj0iK3RoaXMuZ2VuZXJhdGVGdW5jdGlvbigiYXNzaWduIiwicyx2LGwiKTtmPW9kKGMuYm9keSk7ZC5zdGFnZT0iaW5wdXRzIjtwKGYsZnVuY3Rpb24oYSxiKXt2YXIgYz0iZm4iK2I7ZC5zdGF0ZVtjXT17dmFyczpbXSxib2R5OltdLG93bjp7fX07ZC5zdGF0ZS5jb21wdXRpbmc9Yzt2YXIgZT1kLm5leHRJZCgpO2QucmVjdXJzZShhLGUpO2QucmV0dXJuXyhlKTtkLnN0YXRlLmlucHV0cy5wdXNoKGMpO2Eud2F0Y2hJZD1ifSk7dGhpcy5zdGF0ZS5jb21wdXRpbmc9ImZuIjt0aGlzLnN0YWdlPSJtYWluIjt0aGlzLnJlY3Vyc2UoYyk7ZT0nIicrdGhpcy5VU0UrIiAiK3RoaXMuU1RSSUNUKyciO1xuJyt0aGlzLmZpbHRlclByZWZpeCgpKyJ2YXIgZm49Iit0aGlzLmdlbmVyYXRlRnVuY3Rpb24oImZuIiwicyxsLGEsaSIpKwplK3RoaXMud2F0Y2hGbnMoKSsicmV0dXJuIGZuOyI7ZT0obmV3IEZ1bmN0aW9uKCIkZmlsdGVyIiwiZW5zdXJlU2FmZU1lbWJlck5hbWUiLCJlbnN1cmVTYWZlT2JqZWN0IiwiZW5zdXJlU2FmZUZ1bmN0aW9uIiwiZ2V0U3RyaW5nVmFsdWUiLCJlbnN1cmVTYWZlQXNzaWduQ29udGV4dCIsImlmRGVmaW5lZCIsInBsdXMiLCJ0ZXh0IixlKSkodGhpcy4kZmlsdGVyLFdhLHlhLG1kLGxkLEViLGdnLG5kLGEpO3RoaXMuc3RhdGU9dGhpcy5zdGFnZT14O2UubGl0ZXJhbD1yZChjKTtlLmNvbnN0YW50PWMuY29uc3RhbnQ7cmV0dXJuIGV9LFVTRToidXNlIixTVFJJQ1Q6InN0cmljdCIsd2F0Y2hGbnM6ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXMuc3RhdGUuaW5wdXRzLGQ9dGhpcztwKGIsZnVuY3Rpb24oYil7YS5wdXNoKCJ2YXIgIitiKyI9IitkLmdlbmVyYXRlRnVuY3Rpb24oYiwicyIpKX0pO2IubGVuZ3RoJiZhLnB1c2goImZuLmlucHV0cz1bIitiLmpvaW4oIiwiKSsiXTsiKTtyZXR1cm4gYS5qb2luKCIiKX0sCmdlbmVyYXRlRnVuY3Rpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm4iZnVuY3Rpb24oIitiKyIpeyIrdGhpcy52YXJzUHJlZml4KGEpK3RoaXMuYm9keShhKSsifTsifSxmaWx0ZXJQcmVmaXg6ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXM7cCh0aGlzLnN0YXRlLmZpbHRlcnMsZnVuY3Rpb24oZCxjKXthLnB1c2goZCsiPSRmaWx0ZXIoIitiLmVzY2FwZShjKSsiKSIpfSk7cmV0dXJuIGEubGVuZ3RoPyJ2YXIgIithLmpvaW4oIiwiKSsiOyI6IiJ9LHZhcnNQcmVmaXg6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc3RhdGVbYV0udmFycy5sZW5ndGg/InZhciAiK3RoaXMuc3RhdGVbYV0udmFycy5qb2luKCIsIikrIjsiOiIifSxib2R5OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnN0YXRlW2FdLmJvZHkuam9pbigiIil9LHJlY3Vyc2U6ZnVuY3Rpb24oYSxiLGQsYyxlLGYpe3ZhciBnLGgsaz10aGlzLG0sbDtjPWN8fHY7aWYoIWYmJnUoYS53YXRjaElkKSliPWJ8fHRoaXMubmV4dElkKCksdGhpcy5pZl8oImkiLAp0aGlzLmxhenlBc3NpZ24oYix0aGlzLmNvbXB1dGVkTWVtYmVyKCJpIixhLndhdGNoSWQpKSx0aGlzLmxhenlSZWN1cnNlKGEsYixkLGMsZSwhMCkpO2Vsc2Ugc3dpdGNoKGEudHlwZSl7Y2FzZSBzLlByb2dyYW06cChhLmJvZHksZnVuY3Rpb24oYixjKXtrLnJlY3Vyc2UoYi5leHByZXNzaW9uLHgseCxmdW5jdGlvbihhKXtoPWF9KTtjIT09YS5ib2R5Lmxlbmd0aC0xP2suY3VycmVudCgpLmJvZHkucHVzaChoLCI7Iik6ay5yZXR1cm5fKGgpfSk7YnJlYWs7Y2FzZSBzLkxpdGVyYWw6bD10aGlzLmVzY2FwZShhLnZhbHVlKTt0aGlzLmFzc2lnbihiLGwpO2MobCk7YnJlYWs7Y2FzZSBzLlVuYXJ5RXhwcmVzc2lvbjp0aGlzLnJlY3Vyc2UoYS5hcmd1bWVudCx4LHgsZnVuY3Rpb24oYSl7aD1hfSk7bD1hLm9wZXJhdG9yKyIoIit0aGlzLmlmRGVmaW5lZChoLDApKyIpIjt0aGlzLmFzc2lnbihiLGwpO2MobCk7YnJlYWs7Y2FzZSBzLkJpbmFyeUV4cHJlc3Npb246dGhpcy5yZWN1cnNlKGEubGVmdCwKeCx4LGZ1bmN0aW9uKGEpe2c9YX0pO3RoaXMucmVjdXJzZShhLnJpZ2h0LHgseCxmdW5jdGlvbihhKXtoPWF9KTtsPSIrIj09PWEub3BlcmF0b3I/dGhpcy5wbHVzKGcsaCk6Ii0iPT09YS5vcGVyYXRvcj90aGlzLmlmRGVmaW5lZChnLDApK2Eub3BlcmF0b3IrdGhpcy5pZkRlZmluZWQoaCwwKToiKCIrZysiKSIrYS5vcGVyYXRvcisiKCIraCsiKSI7dGhpcy5hc3NpZ24oYixsKTtjKGwpO2JyZWFrO2Nhc2Ugcy5Mb2dpY2FsRXhwcmVzc2lvbjpiPWJ8fHRoaXMubmV4dElkKCk7ay5yZWN1cnNlKGEubGVmdCxiKTtrLmlmXygiJiYiPT09YS5vcGVyYXRvcj9iOmsubm90KGIpLGsubGF6eVJlY3Vyc2UoYS5yaWdodCxiKSk7YyhiKTticmVhaztjYXNlIHMuQ29uZGl0aW9uYWxFeHByZXNzaW9uOmI9Ynx8dGhpcy5uZXh0SWQoKTtrLnJlY3Vyc2UoYS50ZXN0LGIpO2suaWZfKGIsay5sYXp5UmVjdXJzZShhLmFsdGVybmF0ZSxiKSxrLmxhenlSZWN1cnNlKGEuY29uc2VxdWVudCxiKSk7YyhiKTsKYnJlYWs7Y2FzZSBzLklkZW50aWZpZXI6Yj1ifHx0aGlzLm5leHRJZCgpO2QmJihkLmNvbnRleHQ9ImlucHV0cyI9PT1rLnN0YWdlPyJzIjp0aGlzLmFzc2lnbih0aGlzLm5leHRJZCgpLHRoaXMuZ2V0SGFzT3duUHJvcGVydHkoImwiLGEubmFtZSkrIj9sOnMiKSxkLmNvbXB1dGVkPSExLGQubmFtZT1hLm5hbWUpO1dhKGEubmFtZSk7ay5pZl8oImlucHV0cyI9PT1rLnN0YWdlfHxrLm5vdChrLmdldEhhc093blByb3BlcnR5KCJsIixhLm5hbWUpKSxmdW5jdGlvbigpe2suaWZfKCJpbnB1dHMiPT09ay5zdGFnZXx8InMiLGZ1bmN0aW9uKCl7ZSYmMSE9PWUmJmsuaWZfKGsubm90KGsubm9uQ29tcHV0ZWRNZW1iZXIoInMiLGEubmFtZSkpLGsubGF6eUFzc2lnbihrLm5vbkNvbXB1dGVkTWVtYmVyKCJzIixhLm5hbWUpLCJ7fSIpKTtrLmFzc2lnbihiLGsubm9uQ29tcHV0ZWRNZW1iZXIoInMiLGEubmFtZSkpfSl9LGImJmsubGF6eUFzc2lnbihiLGsubm9uQ29tcHV0ZWRNZW1iZXIoImwiLAphLm5hbWUpKSk7KGsuc3RhdGUuZXhwZW5zaXZlQ2hlY2tzfHxGYihhLm5hbWUpKSYmay5hZGRFbnN1cmVTYWZlT2JqZWN0KGIpO2MoYik7YnJlYWs7Y2FzZSBzLk1lbWJlckV4cHJlc3Npb246Zz1kJiYoZC5jb250ZXh0PXRoaXMubmV4dElkKCkpfHx0aGlzLm5leHRJZCgpO2I9Ynx8dGhpcy5uZXh0SWQoKTtrLnJlY3Vyc2UoYS5vYmplY3QsZyx4LGZ1bmN0aW9uKCl7ay5pZl8oay5ub3ROdWxsKGcpLGZ1bmN0aW9uKCl7ZSYmMSE9PWUmJmsuYWRkRW5zdXJlU2FmZUFzc2lnbkNvbnRleHQoZyk7aWYoYS5jb21wdXRlZCloPWsubmV4dElkKCksay5yZWN1cnNlKGEucHJvcGVydHksaCksay5nZXRTdHJpbmdWYWx1ZShoKSxrLmFkZEVuc3VyZVNhZmVNZW1iZXJOYW1lKGgpLGUmJjEhPT1lJiZrLmlmXyhrLm5vdChrLmNvbXB1dGVkTWVtYmVyKGcsaCkpLGsubGF6eUFzc2lnbihrLmNvbXB1dGVkTWVtYmVyKGcsaCksInt9IikpLGw9ay5lbnN1cmVTYWZlT2JqZWN0KGsuY29tcHV0ZWRNZW1iZXIoZywKaCkpLGsuYXNzaWduKGIsbCksZCYmKGQuY29tcHV0ZWQ9ITAsZC5uYW1lPWgpO2Vsc2V7V2EoYS5wcm9wZXJ0eS5uYW1lKTtlJiYxIT09ZSYmay5pZl8oay5ub3Qoay5ub25Db21wdXRlZE1lbWJlcihnLGEucHJvcGVydHkubmFtZSkpLGsubGF6eUFzc2lnbihrLm5vbkNvbXB1dGVkTWVtYmVyKGcsYS5wcm9wZXJ0eS5uYW1lKSwie30iKSk7bD1rLm5vbkNvbXB1dGVkTWVtYmVyKGcsYS5wcm9wZXJ0eS5uYW1lKTtpZihrLnN0YXRlLmV4cGVuc2l2ZUNoZWNrc3x8RmIoYS5wcm9wZXJ0eS5uYW1lKSlsPWsuZW5zdXJlU2FmZU9iamVjdChsKTtrLmFzc2lnbihiLGwpO2QmJihkLmNvbXB1dGVkPSExLGQubmFtZT1hLnByb3BlcnR5Lm5hbWUpfX0sZnVuY3Rpb24oKXtrLmFzc2lnbihiLCJ1bmRlZmluZWQiKX0pO2MoYil9LCEhZSk7YnJlYWs7Y2FzZSBzLkNhbGxFeHByZXNzaW9uOmI9Ynx8dGhpcy5uZXh0SWQoKTthLmZpbHRlcj8oaD1rLmZpbHRlcihhLmNhbGxlZS5uYW1lKSxtPVtdLHAoYS5hcmd1bWVudHMsCmZ1bmN0aW9uKGEpe3ZhciBiPWsubmV4dElkKCk7ay5yZWN1cnNlKGEsYik7bS5wdXNoKGIpfSksbD1oKyIoIittLmpvaW4oIiwiKSsiKSIsay5hc3NpZ24oYixsKSxjKGIpKTooaD1rLm5leHRJZCgpLGc9e30sbT1bXSxrLnJlY3Vyc2UoYS5jYWxsZWUsaCxnLGZ1bmN0aW9uKCl7ay5pZl8oay5ub3ROdWxsKGgpLGZ1bmN0aW9uKCl7ay5hZGRFbnN1cmVTYWZlRnVuY3Rpb24oaCk7cChhLmFyZ3VtZW50cyxmdW5jdGlvbihhKXtrLnJlY3Vyc2UoYSxrLm5leHRJZCgpLHgsZnVuY3Rpb24oYSl7bS5wdXNoKGsuZW5zdXJlU2FmZU9iamVjdChhKSl9KX0pO2cubmFtZT8oay5zdGF0ZS5leHBlbnNpdmVDaGVja3N8fGsuYWRkRW5zdXJlU2FmZU9iamVjdChnLmNvbnRleHQpLGw9ay5tZW1iZXIoZy5jb250ZXh0LGcubmFtZSxnLmNvbXB1dGVkKSsiKCIrbS5qb2luKCIsIikrIikiKTpsPWgrIigiK20uam9pbigiLCIpKyIpIjtsPWsuZW5zdXJlU2FmZU9iamVjdChsKTtrLmFzc2lnbihiLGwpfSwKZnVuY3Rpb24oKXtrLmFzc2lnbihiLCJ1bmRlZmluZWQiKX0pO2MoYil9KSk7YnJlYWs7Y2FzZSBzLkFzc2lnbm1lbnRFeHByZXNzaW9uOmg9dGhpcy5uZXh0SWQoKTtnPXt9O2lmKCFwZChhLmxlZnQpKXRocm93IGFhKCJsdmFsIik7dGhpcy5yZWN1cnNlKGEubGVmdCx4LGcsZnVuY3Rpb24oKXtrLmlmXyhrLm5vdE51bGwoZy5jb250ZXh0KSxmdW5jdGlvbigpe2sucmVjdXJzZShhLnJpZ2h0LGgpO2suYWRkRW5zdXJlU2FmZU9iamVjdChrLm1lbWJlcihnLmNvbnRleHQsZy5uYW1lLGcuY29tcHV0ZWQpKTtrLmFkZEVuc3VyZVNhZmVBc3NpZ25Db250ZXh0KGcuY29udGV4dCk7bD1rLm1lbWJlcihnLmNvbnRleHQsZy5uYW1lLGcuY29tcHV0ZWQpK2Eub3BlcmF0b3IraDtrLmFzc2lnbihiLGwpO2MoYnx8bCl9KX0sMSk7YnJlYWs7Y2FzZSBzLkFycmF5RXhwcmVzc2lvbjptPVtdO3AoYS5lbGVtZW50cyxmdW5jdGlvbihhKXtrLnJlY3Vyc2UoYSxrLm5leHRJZCgpLHgsZnVuY3Rpb24oYSl7bS5wdXNoKGEpfSl9KTsKbD0iWyIrbS5qb2luKCIsIikrIl0iO3RoaXMuYXNzaWduKGIsbCk7YyhsKTticmVhaztjYXNlIHMuT2JqZWN0RXhwcmVzc2lvbjptPVtdO3AoYS5wcm9wZXJ0aWVzLGZ1bmN0aW9uKGEpe2sucmVjdXJzZShhLnZhbHVlLGsubmV4dElkKCkseCxmdW5jdGlvbihiKXttLnB1c2goay5lc2NhcGUoYS5rZXkudHlwZT09PXMuSWRlbnRpZmllcj9hLmtleS5uYW1lOiIiK2Eua2V5LnZhbHVlKSsiOiIrYil9KX0pO2w9InsiK20uam9pbigiLCIpKyJ9Ijt0aGlzLmFzc2lnbihiLGwpO2MobCk7YnJlYWs7Y2FzZSBzLlRoaXNFeHByZXNzaW9uOnRoaXMuYXNzaWduKGIsInMiKTtjKCJzIik7YnJlYWs7Y2FzZSBzLk5HVmFsdWVQYXJhbWV0ZXI6dGhpcy5hc3NpZ24oYiwidiIpLGMoInYiKX19LGdldEhhc093blByb3BlcnR5OmZ1bmN0aW9uKGEsYil7dmFyIGQ9YSsiLiIrYixjPXRoaXMuY3VycmVudCgpLm93bjtjLmhhc093blByb3BlcnR5KGQpfHwoY1tkXT10aGlzLm5leHRJZCghMSxhKyImJigiKwp0aGlzLmVzY2FwZShiKSsiIGluICIrYSsiKSIpKTtyZXR1cm4gY1tkXX0sYXNzaWduOmZ1bmN0aW9uKGEsYil7aWYoYSlyZXR1cm4gdGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKGEsIj0iLGIsIjsiKSxhfSxmaWx0ZXI6ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZS5maWx0ZXJzLmhhc093blByb3BlcnR5KGEpfHwodGhpcy5zdGF0ZS5maWx0ZXJzW2FdPXRoaXMubmV4dElkKCEwKSk7cmV0dXJuIHRoaXMuc3RhdGUuZmlsdGVyc1thXX0saWZEZWZpbmVkOmZ1bmN0aW9uKGEsYil7cmV0dXJuImlmRGVmaW5lZCgiK2ErIiwiK3RoaXMuZXNjYXBlKGIpKyIpIn0scGx1czpmdW5jdGlvbihhLGIpe3JldHVybiJwbHVzKCIrYSsiLCIrYisiKSJ9LHJldHVybl86ZnVuY3Rpb24oYSl7dGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKCJyZXR1cm4gIixhLCI7Iil9LGlmXzpmdW5jdGlvbihhLGIsZCl7aWYoITA9PT1hKWIoKTtlbHNle3ZhciBjPXRoaXMuY3VycmVudCgpLmJvZHk7Yy5wdXNoKCJpZigiLGEsCiIpeyIpO2IoKTtjLnB1c2goIn0iKTtkJiYoYy5wdXNoKCJlbHNleyIpLGQoKSxjLnB1c2goIn0iKSl9fSxub3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIiEoIithKyIpIn0sbm90TnVsbDpmdW5jdGlvbihhKXtyZXR1cm4gYSsiIT1udWxsIn0sbm9uQ29tcHV0ZWRNZW1iZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSsiLiIrYn0sY29tcHV0ZWRNZW1iZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSsiWyIrYisiXSJ9LG1lbWJlcjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGQ/dGhpcy5jb21wdXRlZE1lbWJlcihhLGIpOnRoaXMubm9uQ29tcHV0ZWRNZW1iZXIoYSxiKX0sYWRkRW5zdXJlU2FmZU9iamVjdDpmdW5jdGlvbihhKXt0aGlzLmN1cnJlbnQoKS5ib2R5LnB1c2godGhpcy5lbnN1cmVTYWZlT2JqZWN0KGEpLCI7Iil9LGFkZEVuc3VyZVNhZmVNZW1iZXJOYW1lOmZ1bmN0aW9uKGEpe3RoaXMuY3VycmVudCgpLmJvZHkucHVzaCh0aGlzLmVuc3VyZVNhZmVNZW1iZXJOYW1lKGEpLCI7Iil9LAphZGRFbnN1cmVTYWZlRnVuY3Rpb246ZnVuY3Rpb24oYSl7dGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKHRoaXMuZW5zdXJlU2FmZUZ1bmN0aW9uKGEpLCI7Iil9LGFkZEVuc3VyZVNhZmVBc3NpZ25Db250ZXh0OmZ1bmN0aW9uKGEpe3RoaXMuY3VycmVudCgpLmJvZHkucHVzaCh0aGlzLmVuc3VyZVNhZmVBc3NpZ25Db250ZXh0KGEpLCI7Iil9LGVuc3VyZVNhZmVPYmplY3Q6ZnVuY3Rpb24oYSl7cmV0dXJuImVuc3VyZVNhZmVPYmplY3QoIithKyIsdGV4dCkifSxlbnN1cmVTYWZlTWVtYmVyTmFtZTpmdW5jdGlvbihhKXtyZXR1cm4iZW5zdXJlU2FmZU1lbWJlck5hbWUoIithKyIsdGV4dCkifSxlbnN1cmVTYWZlRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuImVuc3VyZVNhZmVGdW5jdGlvbigiK2ErIix0ZXh0KSJ9LGdldFN0cmluZ1ZhbHVlOmZ1bmN0aW9uKGEpe3RoaXMuYXNzaWduKGEsImdldFN0cmluZ1ZhbHVlKCIrYSsiLHRleHQpIil9LGVuc3VyZVNhZmVBc3NpZ25Db250ZXh0OmZ1bmN0aW9uKGEpe3JldHVybiJlbnN1cmVTYWZlQXNzaWduQ29udGV4dCgiKwphKyIsdGV4dCkifSxsYXp5UmVjdXJzZTpmdW5jdGlvbihhLGIsZCxjLGUsZil7dmFyIGc9dGhpcztyZXR1cm4gZnVuY3Rpb24oKXtnLnJlY3Vyc2UoYSxiLGQsYyxlLGYpfX0sbGF6eUFzc2lnbjpmdW5jdGlvbihhLGIpe3ZhciBkPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKCl7ZC5hc3NpZ24oYSxiKX19LHN0cmluZ0VzY2FwZVJlZ2V4Oi9bXiBhLXpBLVowLTldL2csc3RyaW5nRXNjYXBlRm46ZnVuY3Rpb24oYSl7cmV0dXJuIlxcdSIrKCIwMDAwIithLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtNCl9LGVzY2FwZTpmdW5jdGlvbihhKXtpZihIKGEpKXJldHVybiInIithLnJlcGxhY2UodGhpcy5zdHJpbmdFc2NhcGVSZWdleCx0aGlzLnN0cmluZ0VzY2FwZUZuKSsiJyI7aWYoUChhKSlyZXR1cm4gYS50b1N0cmluZygpO2lmKCEwPT09YSlyZXR1cm4idHJ1ZSI7aWYoITE9PT1hKXJldHVybiJmYWxzZSI7aWYobnVsbD09PWEpcmV0dXJuIm51bGwiO2lmKCJ1bmRlZmluZWQiPT09CnR5cGVvZiBhKXJldHVybiJ1bmRlZmluZWQiO3Rocm93IGFhKCJlc2MiKTt9LG5leHRJZDpmdW5jdGlvbihhLGIpe3ZhciBkPSJ2Iit0aGlzLnN0YXRlLm5leHRJZCsrO2F8fHRoaXMuY3VycmVudCgpLnZhcnMucHVzaChkKyhiPyI9IitiOiIiKSk7cmV0dXJuIGR9LGN1cnJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZVt0aGlzLnN0YXRlLmNvbXB1dGluZ119fTt0ZC5wcm90b3R5cGU9e2NvbXBpbGU6ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLGM9dGhpcy5hc3RCdWlsZGVyLmFzdChhKTt0aGlzLmV4cHJlc3Npb249YTt0aGlzLmV4cGVuc2l2ZUNoZWNrcz1iO1goYyxkLiRmaWx0ZXIpO3ZhciBlLGY7aWYoZT1xZChjKSlmPXRoaXMucmVjdXJzZShlKTtlPW9kKGMuYm9keSk7dmFyIGc7ZSYmKGc9W10scChlLGZ1bmN0aW9uKGEsYil7dmFyIGM9ZC5yZWN1cnNlKGEpO2EuaW5wdXQ9YztnLnB1c2goYyk7YS53YXRjaElkPWJ9KSk7dmFyIGg9W107cChjLmJvZHksZnVuY3Rpb24oYSl7aC5wdXNoKGQucmVjdXJzZShhLmV4cHJlc3Npb24pKX0pOwplPTA9PT1jLmJvZHkubGVuZ3RoP2Z1bmN0aW9uKCl7fToxPT09Yy5ib2R5Lmxlbmd0aD9oWzBdOmZ1bmN0aW9uKGEsYil7dmFyIGM7cChoLGZ1bmN0aW9uKGQpe2M9ZChhLGIpfSk7cmV0dXJuIGN9O2YmJihlLmFzc2lnbj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGYoYSxjLGIpfSk7ZyYmKGUuaW5wdXRzPWcpO2UubGl0ZXJhbD1yZChjKTtlLmNvbnN0YW50PWMuY29uc3RhbnQ7cmV0dXJuIGV9LHJlY3Vyc2U6ZnVuY3Rpb24oYSxiLGQpe3ZhciBjLGUsZj10aGlzLGc7aWYoYS5pbnB1dClyZXR1cm4gdGhpcy5pbnB1dHMoYS5pbnB1dCxhLndhdGNoSWQpO3N3aXRjaChhLnR5cGUpe2Nhc2Ugcy5MaXRlcmFsOnJldHVybiB0aGlzLnZhbHVlKGEudmFsdWUsYik7Y2FzZSBzLlVuYXJ5RXhwcmVzc2lvbjpyZXR1cm4gZT10aGlzLnJlY3Vyc2UoYS5hcmd1bWVudCksdGhpc1sidW5hcnkiK2Eub3BlcmF0b3JdKGUsYik7Y2FzZSBzLkJpbmFyeUV4cHJlc3Npb246cmV0dXJuIGM9dGhpcy5yZWN1cnNlKGEubGVmdCksCmU9dGhpcy5yZWN1cnNlKGEucmlnaHQpLHRoaXNbImJpbmFyeSIrYS5vcGVyYXRvcl0oYyxlLGIpO2Nhc2Ugcy5Mb2dpY2FsRXhwcmVzc2lvbjpyZXR1cm4gYz10aGlzLnJlY3Vyc2UoYS5sZWZ0KSxlPXRoaXMucmVjdXJzZShhLnJpZ2h0KSx0aGlzWyJiaW5hcnkiK2Eub3BlcmF0b3JdKGMsZSxiKTtjYXNlIHMuQ29uZGl0aW9uYWxFeHByZXNzaW9uOnJldHVybiB0aGlzWyJ0ZXJuYXJ5PzoiXSh0aGlzLnJlY3Vyc2UoYS50ZXN0KSx0aGlzLnJlY3Vyc2UoYS5hbHRlcm5hdGUpLHRoaXMucmVjdXJzZShhLmNvbnNlcXVlbnQpLGIpO2Nhc2Ugcy5JZGVudGlmaWVyOnJldHVybiBXYShhLm5hbWUsZi5leHByZXNzaW9uKSxmLmlkZW50aWZpZXIoYS5uYW1lLGYuZXhwZW5zaXZlQ2hlY2tzfHxGYihhLm5hbWUpLGIsZCxmLmV4cHJlc3Npb24pO2Nhc2Ugcy5NZW1iZXJFeHByZXNzaW9uOnJldHVybiBjPXRoaXMucmVjdXJzZShhLm9iamVjdCwhMSwhIWQpLGEuY29tcHV0ZWR8fChXYShhLnByb3BlcnR5Lm5hbWUsCmYuZXhwcmVzc2lvbiksZT1hLnByb3BlcnR5Lm5hbWUpLGEuY29tcHV0ZWQmJihlPXRoaXMucmVjdXJzZShhLnByb3BlcnR5KSksYS5jb21wdXRlZD90aGlzLmNvbXB1dGVkTWVtYmVyKGMsZSxiLGQsZi5leHByZXNzaW9uKTp0aGlzLm5vbkNvbXB1dGVkTWVtYmVyKGMsZSxmLmV4cGVuc2l2ZUNoZWNrcyxiLGQsZi5leHByZXNzaW9uKTtjYXNlIHMuQ2FsbEV4cHJlc3Npb246cmV0dXJuIGc9W10scChhLmFyZ3VtZW50cyxmdW5jdGlvbihhKXtnLnB1c2goZi5yZWN1cnNlKGEpKX0pLGEuZmlsdGVyJiYoZT10aGlzLiRmaWx0ZXIoYS5jYWxsZWUubmFtZSkpLGEuZmlsdGVyfHwoZT10aGlzLnJlY3Vyc2UoYS5jYWxsZWUsITApKSxhLmZpbHRlcj9mdW5jdGlvbihhLGMsZCxmKXtmb3IodmFyIG49W10scD0wO3A8Zy5sZW5ndGg7KytwKW4ucHVzaChnW3BdKGEsYyxkLGYpKTthPWUuYXBwbHkoeCxuLGYpO3JldHVybiBiP3tjb250ZXh0OngsbmFtZTp4LHZhbHVlOmF9OmF9OmZ1bmN0aW9uKGEsCmMsZCxsKXt2YXIgbj1lKGEsYyxkLGwpLHA7aWYobnVsbCE9bi52YWx1ZSl7eWEobi5jb250ZXh0LGYuZXhwcmVzc2lvbik7bWQobi52YWx1ZSxmLmV4cHJlc3Npb24pO3A9W107Zm9yKHZhciByPTA7cjxnLmxlbmd0aDsrK3IpcC5wdXNoKHlhKGdbcl0oYSxjLGQsbCksZi5leHByZXNzaW9uKSk7cD15YShuLnZhbHVlLmFwcGx5KG4uY29udGV4dCxwKSxmLmV4cHJlc3Npb24pfXJldHVybiBiP3t2YWx1ZTpwfTpwfTtjYXNlIHMuQXNzaWdubWVudEV4cHJlc3Npb246cmV0dXJuIGM9dGhpcy5yZWN1cnNlKGEubGVmdCwhMCwxKSxlPXRoaXMucmVjdXJzZShhLnJpZ2h0KSxmdW5jdGlvbihhLGQsZyxsKXt2YXIgbj1jKGEsZCxnLGwpO2E9ZShhLGQsZyxsKTt5YShuLnZhbHVlLGYuZXhwcmVzc2lvbik7RWIobi5jb250ZXh0KTtuLmNvbnRleHRbbi5uYW1lXT1hO3JldHVybiBiP3t2YWx1ZTphfTphfTtjYXNlIHMuQXJyYXlFeHByZXNzaW9uOnJldHVybiBnPVtdLHAoYS5lbGVtZW50cyxmdW5jdGlvbihhKXtnLnB1c2goZi5yZWN1cnNlKGEpKX0pLApmdW5jdGlvbihhLGMsZCxlKXtmb3IodmFyIGY9W10scD0wO3A8Zy5sZW5ndGg7KytwKWYucHVzaChnW3BdKGEsYyxkLGUpKTtyZXR1cm4gYj97dmFsdWU6Zn06Zn07Y2FzZSBzLk9iamVjdEV4cHJlc3Npb246cmV0dXJuIGc9W10scChhLnByb3BlcnRpZXMsZnVuY3Rpb24oYSl7Zy5wdXNoKHtrZXk6YS5rZXkudHlwZT09PXMuSWRlbnRpZmllcj9hLmtleS5uYW1lOiIiK2Eua2V5LnZhbHVlLHZhbHVlOmYucmVjdXJzZShhLnZhbHVlKX0pfSksZnVuY3Rpb24oYSxjLGQsZSl7Zm9yKHZhciBmPXt9LHA9MDtwPGcubGVuZ3RoOysrcClmW2dbcF0ua2V5XT1nW3BdLnZhbHVlKGEsYyxkLGUpO3JldHVybiBiP3t2YWx1ZTpmfTpmfTtjYXNlIHMuVGhpc0V4cHJlc3Npb246cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBiP3t2YWx1ZTphfTphfTtjYXNlIHMuTkdWYWx1ZVBhcmFtZXRlcjpyZXR1cm4gZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIGI/e3ZhbHVlOmR9OmR9fX0sInVuYXJ5KyI6ZnVuY3Rpb24oYSwKYil7cmV0dXJuIGZ1bmN0aW9uKGQsYyxlLGYpe2Q9YShkLGMsZSxmKTtkPXUoZCk/K2Q6MDtyZXR1cm4gYj97dmFsdWU6ZH06ZH19LCJ1bmFyeS0iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGQsYyxlLGYpe2Q9YShkLGMsZSxmKTtkPXUoZCk/LWQ6MDtyZXR1cm4gYj97dmFsdWU6ZH06ZH19LCJ1bmFyeSEiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGQsYyxlLGYpe2Q9IWEoZCxjLGUsZik7cmV0dXJuIGI/e3ZhbHVlOmR9OmR9fSwiYmluYXJ5KyI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXt2YXIgaD1hKGMsZSxmLGcpO2M9YihjLGUsZixnKTtoPW5kKGgsYyk7cmV0dXJuIGQ/e3ZhbHVlOmh9Omh9fSwiYmluYXJ5LSI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXt2YXIgaD1hKGMsZSxmLGcpO2M9YihjLGUsZixnKTtoPSh1KGgpP2g6MCktKHUoYyk/YzowKTtyZXR1cm4gZD97dmFsdWU6aH06aH19LCJiaW5hcnkqIjpmdW5jdGlvbihhLApiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLGYsZykqYihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LCJiaW5hcnkvIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKS9iKGMsZSxmLGcpO3JldHVybiBkP3t2YWx1ZTpjfTpjfX0sImJpbmFyeSUiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1hKGMsZSxmLGcpJWIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSwiYmluYXJ5PT09IjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKT09PWIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSwiYmluYXJ5IT09IjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKSE9PWIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSwiYmluYXJ5PT0iOmZ1bmN0aW9uKGEsYiwKZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKT09YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LCJiaW5hcnkhPSI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLGYsZykhPWIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSwiYmluYXJ5PCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLGYsZyk8YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LCJiaW5hcnk+IjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKT5iKGMsZSxmLGcpO3JldHVybiBkP3t2YWx1ZTpjfTpjfX0sImJpbmFyeTw9IjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKTw9YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LCJiaW5hcnk+PSI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLAplLGYsZyl7Yz1hKGMsZSxmLGcpPj1iKGMsZSxmLGcpO3JldHVybiBkP3t2YWx1ZTpjfTpjfX0sImJpbmFyeSYmIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKSYmYihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LCJiaW5hcnl8fCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLGYsZyl8fGIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSwidGVybmFyeT86IjpmdW5jdGlvbihhLGIsZCxjKXtyZXR1cm4gZnVuY3Rpb24oZSxmLGcsaCl7ZT1hKGUsZixnLGgpP2IoZSxmLGcsaCk6ZChlLGYsZyxoKTtyZXR1cm4gYz97dmFsdWU6ZX06ZX19LHZhbHVlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGI/e2NvbnRleHQ6eCxuYW1lOngsdmFsdWU6YX06YX19LGlkZW50aWZpZXI6ZnVuY3Rpb24oYSxiLGQsYyxlKXtyZXR1cm4gZnVuY3Rpb24oZixnLGgsayl7Zj0KZyYmYSBpbiBnP2c6ZjtjJiYxIT09YyYmZiYmIWZbYV0mJihmW2FdPXt9KTtnPWY/ZlthXTp4O2ImJnlhKGcsZSk7cmV0dXJuIGQ/e2NvbnRleHQ6ZixuYW1lOmEsdmFsdWU6Z306Z319LGNvbXB1dGVkTWVtYmVyOmZ1bmN0aW9uKGEsYixkLGMsZSl7cmV0dXJuIGZ1bmN0aW9uKGYsZyxoLGspe3ZhciBtPWEoZixnLGgsayksbCxuO251bGwhPW0mJihsPWIoZixnLGgsayksbD1sZChsKSxXYShsLGUpLGMmJjEhPT1jJiYoRWIobSksbSYmIW1bbF0mJihtW2xdPXt9KSksbj1tW2xdLHlhKG4sZSkpO3JldHVybiBkP3tjb250ZXh0Om0sbmFtZTpsLHZhbHVlOm59Om59fSxub25Db21wdXRlZE1lbWJlcjpmdW5jdGlvbihhLGIsZCxjLGUsZil7cmV0dXJuIGZ1bmN0aW9uKGcsaCxrLG0pe2c9YShnLGgsayxtKTtlJiYxIT09ZSYmKEViKGcpLGcmJiFnW2JdJiYoZ1tiXT17fSkpO2g9bnVsbCE9Zz9nW2JdOng7KGR8fEZiKGIpKSYmeWEoaCxmKTtyZXR1cm4gYz97Y29udGV4dDpnLG5hbWU6Yix2YWx1ZTpofToKaH19LGlucHV0czpmdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihkLGMsZSxmKXtyZXR1cm4gZj9mW2JdOmEoZCxjLGUpfX19O3ZhciBnYz1mdW5jdGlvbihhLGIsZCl7dGhpcy5sZXhlcj1hO3RoaXMuJGZpbHRlcj1iO3RoaXMub3B0aW9ucz1kO3RoaXMuYXN0PW5ldyBzKHRoaXMubGV4ZXIpO3RoaXMuYXN0Q29tcGlsZXI9ZC5jc3A/bmV3IHRkKHRoaXMuYXN0LGIpOm5ldyBzZCh0aGlzLmFzdCxiKX07Z2MucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpnYyxwYXJzZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hc3RDb21waWxlci5jb21waWxlKGEsdGhpcy5vcHRpb25zLmV4cGVuc2l2ZUNoZWNrcyl9fTt2YXIgaGc9T2JqZWN0LnByb3RvdHlwZS52YWx1ZU9mLHphPUIoIiRzY2UiKSxrYT17SFRNTDoiaHRtbCIsQ1NTOiJjc3MiLFVSTDoidXJsIixSRVNPVVJDRV9VUkw6InJlc291cmNlVXJsIixKUzoianMifSxnYT1CKCIkY29tcGlsZSIpLFk9VS5jcmVhdGVFbGVtZW50KCJhIiksCnhkPXhhKFIubG9jYXRpb24uaHJlZik7eWQuJGluamVjdD1bIiRkb2N1bWVudCJdO0pjLiRpbmplY3Q9WyIkcHJvdmlkZSJdO3ZhciBGZD0yMixFZD0iLiIsaWM9IjAiO3pkLiRpbmplY3Q9WyIkbG9jYWxlIl07QmQuJGluamVjdD1bIiRsb2NhbGUiXTt2YXIgdGc9e3l5eXk6YmEoIkZ1bGxZZWFyIiw0KSx5eTpiYSgiRnVsbFllYXIiLDIsMCwhMCkseTpiYSgiRnVsbFllYXIiLDEpLE1NTU06SGIoIk1vbnRoIiksTU1NOkhiKCJNb250aCIsITApLE1NOmJhKCJNb250aCIsMiwxKSxNOmJhKCJNb250aCIsMSwxKSxkZDpiYSgiRGF0ZSIsMiksZDpiYSgiRGF0ZSIsMSksSEg6YmEoIkhvdXJzIiwyKSxIOmJhKCJIb3VycyIsMSksaGg6YmEoIkhvdXJzIiwyLC0xMiksaDpiYSgiSG91cnMiLDEsLTEyKSxtbTpiYSgiTWludXRlcyIsMiksbTpiYSgiTWludXRlcyIsMSksc3M6YmEoIlNlY29uZHMiLDIpLHM6YmEoIlNlY29uZHMiLDEpLHNzczpiYSgiTWlsbGlzZWNvbmRzIiwzKSxFRUVFOkhiKCJEYXkiKSwKRUVFOkhiKCJEYXkiLCEwKSxhOmZ1bmN0aW9uKGEsYil7cmV0dXJuIDEyPmEuZ2V0SG91cnMoKT9iLkFNUE1TWzBdOmIuQU1QTVNbMV19LFo6ZnVuY3Rpb24oYSxiLGQpe2E9LTEqZDtyZXR1cm4gYT0oMDw9YT8iKyI6IiIpKyhHYihNYXRoWzA8YT8iZmxvb3IiOiJjZWlsIl0oYS82MCksMikrR2IoTWF0aC5hYnMoYSU2MCksMikpfSx3dzpIZCgyKSx3OkhkKDEpLEc6amMsR0c6amMsR0dHOmpjLEdHR0c6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMD49YS5nZXRGdWxsWWVhcigpP2IuRVJBTkFNRVNbMF06Yi5FUkFOQU1FU1sxXX19LHNnPS8oKD86W155TWRIaG1zYVpFd0cnXSspfCg/OicoPzpbXiddfCcnKSonKXwoPzpFK3x5K3xNK3xkK3xIK3xoK3xtK3xzK3xhfFp8Ryt8dyspKSguKikvLHJnPS9eXC0/XGQrJC87QWQuJGluamVjdD1bIiRsb2NhbGUiXTt2YXIgbWc9bWEoTSksbmc9bWEocmIpO0NkLiRpbmplY3Q9WyIkcGFyc2UiXTt2YXIgbWU9bWEoe3Jlc3RyaWN0OiJFIixjb21waWxlOmZ1bmN0aW9uKGEsCmIpe2lmKCFiLmhyZWYmJiFiLnhsaW5rSHJlZilyZXR1cm4gZnVuY3Rpb24oYSxiKXtpZigiYSI9PT1iWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe3ZhciBlPSJbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXSI9PT1uYS5jYWxsKGIucHJvcCgiaHJlZiIpKT8ieGxpbms6aHJlZiI6ImhyZWYiO2Iub24oImNsaWNrIixmdW5jdGlvbihhKXtiLmF0dHIoZSl8fGEucHJldmVudERlZmF1bHQoKX0pfX19fSksc2I9e307cChCYixmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoYSxkLGUpe2EuJHdhdGNoKGVbY10sZnVuY3Rpb24oYSl7ZS4kc2V0KGIsISFhKX0pfWlmKCJtdWx0aXBsZSIhPWEpe3ZhciBjPXZhKCJuZy0iK2IpLGU9ZDsiY2hlY2tlZCI9PT1hJiYoZT1mdW5jdGlvbihhLGIsZSl7ZS5uZ01vZGVsIT09ZVtjXSYmZChhLGIsZSl9KTtzYltjXT1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiQSIscHJpb3JpdHk6MTAwLGxpbms6ZX19fX0pO3AoYWQsZnVuY3Rpb24oYSxiKXtzYltiXT0KZnVuY3Rpb24oKXtyZXR1cm57cHJpb3JpdHk6MTAwLGxpbms6ZnVuY3Rpb24oYSxjLGUpe2lmKCJuZ1BhdHRlcm4iPT09YiYmIi8iPT1lLm5nUGF0dGVybi5jaGFyQXQoMCkmJihjPWUubmdQYXR0ZXJuLm1hdGNoKHZnKSkpe2UuJHNldCgibmdQYXR0ZXJuIixuZXcgUmVnRXhwKGNbMV0sY1syXSkpO3JldHVybn1hLiR3YXRjaChlW2JdLGZ1bmN0aW9uKGEpe2UuJHNldChiLGEpfSl9fX19KTtwKFsic3JjIiwic3Jjc2V0IiwiaHJlZiJdLGZ1bmN0aW9uKGEpe3ZhciBiPXZhKCJuZy0iK2EpO3NiW2JdPWZ1bmN0aW9uKCl7cmV0dXJue3ByaW9yaXR5Ojk5LGxpbms6ZnVuY3Rpb24oZCxjLGUpe3ZhciBmPWEsZz1hOyJocmVmIj09PWEmJiJbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXSI9PT1uYS5jYWxsKGMucHJvcCgiaHJlZiIpKSYmKGc9InhsaW5rSHJlZiIsZS4kYXR0cltnXT0ieGxpbms6aHJlZiIsZj1udWxsKTtlLiRvYnNlcnZlKGIsZnVuY3Rpb24oYil7Yj8oZS4kc2V0KGcsYiksCkhhJiZmJiZjLnByb3AoZixlW2ddKSk6ImhyZWYiPT09YSYmZS4kc2V0KGcsbnVsbCl9KX19fX0pO3ZhciBJYj17JGFkZENvbnRyb2w6diwkJHJlbmFtZUNvbnRyb2w6ZnVuY3Rpb24oYSxiKXthLiRuYW1lPWJ9LCRyZW1vdmVDb250cm9sOnYsJHNldFZhbGlkaXR5OnYsJHNldERpcnR5OnYsJHNldFByaXN0aW5lOnYsJHNldFN1Ym1pdHRlZDp2fTtJZC4kaW5qZWN0PVsiJGVsZW1lbnQiLCIkYXR0cnMiLCIkc2NvcGUiLCIkYW5pbWF0ZSIsIiRpbnRlcnBvbGF0ZSJdO3ZhciBSZD1mdW5jdGlvbihhKXtyZXR1cm5bIiR0aW1lb3V0IiwiJHBhcnNlIixmdW5jdGlvbihiLGQpe2Z1bmN0aW9uIGMoYSl7cmV0dXJuIiI9PT1hP2QoJ3RoaXNbIiJdJykuYXNzaWduOmQoYSkuYXNzaWdufHx2fXJldHVybntuYW1lOiJmb3JtIixyZXN0cmljdDphPyJFQUMiOiJFIixyZXF1aXJlOlsiZm9ybSIsIl5eP2Zvcm0iXSxjb250cm9sbGVyOklkLGNvbXBpbGU6ZnVuY3Rpb24oZCxmKXtkLmFkZENsYXNzKFhhKS5hZGRDbGFzcyhsYik7CnZhciBnPWYubmFtZT8ibmFtZSI6YSYmZi5uZ0Zvcm0/Im5nRm9ybSI6ITE7cmV0dXJue3ByZTpmdW5jdGlvbihhLGQsZSxmKXt2YXIgbj1mWzBdO2lmKCEoImFjdGlvbiJpbiBlKSl7dmFyIHA9ZnVuY3Rpb24oYil7YS4kYXBwbHkoZnVuY3Rpb24oKXtuLiRjb21taXRWaWV3VmFsdWUoKTtuLiRzZXRTdWJtaXR0ZWQoKX0pO2IucHJldmVudERlZmF1bHQoKX07ZFswXS5hZGRFdmVudExpc3RlbmVyKCJzdWJtaXQiLHAsITEpO2Qub24oIiRkZXN0cm95IixmdW5jdGlvbigpe2IoZnVuY3Rpb24oKXtkWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoInN1Ym1pdCIscCwhMSl9LDAsITEpfSl9KGZbMV18fG4uJCRwYXJlbnRGb3JtKS4kYWRkQ29udHJvbChuKTt2YXIgcj1nP2Mobi4kbmFtZSk6djtnJiYocihhLG4pLGUuJG9ic2VydmUoZyxmdW5jdGlvbihiKXtuLiRuYW1lIT09YiYmKHIoYSx4KSxuLiQkcGFyZW50Rm9ybS4kJHJlbmFtZUNvbnRyb2wobixiKSxyPWMobi4kbmFtZSkscihhLG4pKX0pKTsKZC5vbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7bi4kJHBhcmVudEZvcm0uJHJlbW92ZUNvbnRyb2wobik7cihhLHgpO04obixJYil9KX19fX19XX0sbmU9UmQoKSxBZT1SZCghMCksdWc9L1xkezR9LVswMV1cZC1bMC0zXVxkVFswLTJdXGQ6WzAtNV1cZDpbMC01XVxkXC5cZCsoWystXVswLTJdXGQ6WzAtNV1cZHxaKS8sRGc9L15bYS16XVthLXpcZC4rLV0qOlwvKig/OlteOkBdKyg/OjpbXkBdKyk/QCk/KD86W15cczovPyNdK3xcW1thLWZcZDpdK1xdKSg/OjpcZCspPyg/OlwvW14/I10qKT8oPzpcP1teI10qKT8oPzojLiopPyQvaSxFZz0vXlthLXowLTkhIyQlJicqK1wvPT9eX2B7fH1+Li1dK0BbYS16MC05XShbYS16MC05LV0qW2EtejAtOV0pPyhcLlthLXowLTldKFthLXowLTktXSpbYS16MC05XSk/KSokL2ksRmc9L15ccyooXC18XCspPyhcZCt8KFxkKihcLlxkKikpKShbZUVdWystXT9cZCspP1xzKiQvLFNkPS9eKFxkezR9KS0oXGR7Mn0pLShcZHsyfSkkLyxUZD0vXihcZHs0fSktKFxkXGQpLShcZFxkKVQoXGRcZCk6KFxkXGQpKD86OihcZFxkKShcLlxkezEsM30pPyk/JC8sCm1jPS9eKFxkezR9KS1XKFxkXGQpJC8sVWQ9L14oXGR7NH0pLShcZFxkKSQvLFZkPS9eKFxkXGQpOihcZFxkKSg/OjooXGRcZCkoXC5cZHsxLDN9KT8pPyQvLEtkPVooKTtwKFsiZGF0ZSIsImRhdGV0aW1lLWxvY2FsIiwibW9udGgiLCJ0aW1lIiwid2VlayJdLGZ1bmN0aW9uKGEpe0tkW2FdPSEwfSk7dmFyIFdkPXt0ZXh0OmZ1bmN0aW9uKGEsYixkLGMsZSxmKXtpYihhLGIsZCxjLGUsZik7a2MoYyl9LGRhdGU6amIoImRhdGUiLFNkLEtiKFNkLFsieXl5eSIsIk1NIiwiZGQiXSksInl5eXktTU0tZGQiKSwiZGF0ZXRpbWUtbG9jYWwiOmpiKCJkYXRldGltZWxvY2FsIixUZCxLYihUZCwieXl5eSBNTSBkZCBISCBtbSBzcyBzc3MiLnNwbGl0KCIgIikpLCJ5eXl5LU1NLWRkVEhIOm1tOnNzLnNzcyIpLHRpbWU6amIoInRpbWUiLFZkLEtiKFZkLFsiSEgiLCJtbSIsInNzIiwic3NzIl0pLCJISDptbTpzcy5zc3MiKSx3ZWVrOmpiKCJ3ZWVrIixtYyxmdW5jdGlvbihhLGIpe2lmKGVhKGEpKXJldHVybiBhOwppZihIKGEpKXttYy5sYXN0SW5kZXg9MDt2YXIgZD1tYy5leGVjKGEpO2lmKGQpe3ZhciBjPStkWzFdLGU9K2RbMl0sZj1kPTAsZz0wLGg9MCxrPUdkKGMpLGU9NyooZS0xKTtiJiYoZD1iLmdldEhvdXJzKCksZj1iLmdldE1pbnV0ZXMoKSxnPWIuZ2V0U2Vjb25kcygpLGg9Yi5nZXRNaWxsaXNlY29uZHMoKSk7cmV0dXJuIG5ldyBEYXRlKGMsMCxrLmdldERhdGUoKStlLGQsZixnLGgpfX1yZXR1cm4gTmFOfSwieXl5eS1Xd3ciKSxtb250aDpqYigibW9udGgiLFVkLEtiKFVkLFsieXl5eSIsIk1NIl0pLCJ5eXl5LU1NIiksbnVtYmVyOmZ1bmN0aW9uKGEsYixkLGMsZSxmKXtMZChhLGIsZCxjKTtpYihhLGIsZCxjLGUsZik7Yy4kJHBhcnNlck5hbWU9Im51bWJlciI7Yy4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKGEpe3JldHVybiBjLiRpc0VtcHR5KGEpP251bGw6RmcudGVzdChhKT9wYXJzZUZsb2F0KGEpOnh9KTtjLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24oYSl7aWYoIWMuJGlzRW1wdHkoYSkpe2lmKCFQKGEpKXRocm93IGtiKCJudW1mbXQiLAphKTthPWEudG9TdHJpbmcoKX1yZXR1cm4gYX0pO2lmKHUoZC5taW4pfHxkLm5nTWluKXt2YXIgZztjLiR2YWxpZGF0b3JzLm1pbj1mdW5jdGlvbihhKXtyZXR1cm4gYy4kaXNFbXB0eShhKXx8cihnKXx8YT49Z307ZC4kb2JzZXJ2ZSgibWluIixmdW5jdGlvbihhKXt1KGEpJiYhUChhKSYmKGE9cGFyc2VGbG9hdChhLDEwKSk7Zz1QKGEpJiYhaXNOYU4oYSk/YTp4O2MuJHZhbGlkYXRlKCl9KX1pZih1KGQubWF4KXx8ZC5uZ01heCl7dmFyIGg7Yy4kdmFsaWRhdG9ycy5tYXg9ZnVuY3Rpb24oYSl7cmV0dXJuIGMuJGlzRW1wdHkoYSl8fHIoaCl8fGE8PWh9O2QuJG9ic2VydmUoIm1heCIsZnVuY3Rpb24oYSl7dShhKSYmIVAoYSkmJihhPXBhcnNlRmxvYXQoYSwxMCkpO2g9UChhKSYmIWlzTmFOKGEpP2E6eDtjLiR2YWxpZGF0ZSgpfSl9fSx1cmw6ZnVuY3Rpb24oYSxiLGQsYyxlLGYpe2liKGEsYixkLGMsZSxmKTtrYyhjKTtjLiQkcGFyc2VyTmFtZT0idXJsIjtjLiR2YWxpZGF0b3JzLnVybD0KZnVuY3Rpb24oYSxiKXt2YXIgZD1hfHxiO3JldHVybiBjLiRpc0VtcHR5KGQpfHxEZy50ZXN0KGQpfX0sZW1haWw6ZnVuY3Rpb24oYSxiLGQsYyxlLGYpe2liKGEsYixkLGMsZSxmKTtrYyhjKTtjLiQkcGFyc2VyTmFtZT0iZW1haWwiO2MuJHZhbGlkYXRvcnMuZW1haWw9ZnVuY3Rpb24oYSxiKXt2YXIgZD1hfHxiO3JldHVybiBjLiRpc0VtcHR5KGQpfHxFZy50ZXN0KGQpfX0scmFkaW86ZnVuY3Rpb24oYSxiLGQsYyl7cihkLm5hbWUpJiZiLmF0dHIoIm5hbWUiLCsrbWIpO2Iub24oImNsaWNrIixmdW5jdGlvbihhKXtiWzBdLmNoZWNrZWQmJmMuJHNldFZpZXdWYWx1ZShkLnZhbHVlLGEmJmEudHlwZSl9KTtjLiRyZW5kZXI9ZnVuY3Rpb24oKXtiWzBdLmNoZWNrZWQ9ZC52YWx1ZT09Yy4kdmlld1ZhbHVlfTtkLiRvYnNlcnZlKCJ2YWx1ZSIsYy4kcmVuZGVyKX0sY2hlY2tib3g6ZnVuY3Rpb24oYSxiLGQsYyxlLGYsZyxoKXt2YXIgaz1NZChoLGEsIm5nVHJ1ZVZhbHVlIixkLm5nVHJ1ZVZhbHVlLAohMCksbT1NZChoLGEsIm5nRmFsc2VWYWx1ZSIsZC5uZ0ZhbHNlVmFsdWUsITEpO2Iub24oImNsaWNrIixmdW5jdGlvbihhKXtjLiRzZXRWaWV3VmFsdWUoYlswXS5jaGVja2VkLGEmJmEudHlwZSl9KTtjLiRyZW5kZXI9ZnVuY3Rpb24oKXtiWzBdLmNoZWNrZWQ9Yy4kdmlld1ZhbHVlfTtjLiRpc0VtcHR5PWZ1bmN0aW9uKGEpe3JldHVybiExPT09YX07Yy4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKGEpe3JldHVybiBsYShhLGspfSk7Yy4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKGEpe3JldHVybiBhP2s6bX0pfSxoaWRkZW46dixidXR0b246dixzdWJtaXQ6dixyZXNldDp2LGZpbGU6dn0sRGM9WyIkYnJvd3NlciIsIiRzbmlmZmVyIiwiJGZpbHRlciIsIiRwYXJzZSIsZnVuY3Rpb24oYSxiLGQsYyl7cmV0dXJue3Jlc3RyaWN0OiJFIixyZXF1aXJlOlsiP25nTW9kZWwiXSxsaW5rOntwcmU6ZnVuY3Rpb24oZSxmLGcsaCl7aFswXSYmKFdkW00oZy50eXBlKV18fFdkLnRleHQpKGUsZiwKZyxoWzBdLGIsYSxkLGMpfX19fV0sR2c9L14odHJ1ZXxmYWxzZXxcZCspJC8sU2U9ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkEiLHByaW9yaXR5OjEwMCxjb21waWxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEdnLnRlc3QoYi5uZ1ZhbHVlKT9mdW5jdGlvbihhLGIsZSl7ZS4kc2V0KCJ2YWx1ZSIsYS4kZXZhbChlLm5nVmFsdWUpKX06ZnVuY3Rpb24oYSxiLGUpe2EuJHdhdGNoKGUubmdWYWx1ZSxmdW5jdGlvbihhKXtlLiRzZXQoInZhbHVlIixhKX0pfX19fSxzZT1bIiRjb21waWxlIixmdW5jdGlvbihhKXtyZXR1cm57cmVzdHJpY3Q6IkFDIixjb21waWxlOmZ1bmN0aW9uKGIpe2EuJCRhZGRCaW5kaW5nQ2xhc3MoYik7cmV0dXJuIGZ1bmN0aW9uKGIsYyxlKXthLiQkYWRkQmluZGluZ0luZm8oYyxlLm5nQmluZCk7Yz1jWzBdO2IuJHdhdGNoKGUubmdCaW5kLGZ1bmN0aW9uKGEpe2MudGV4dENvbnRlbnQ9cihhKT8iIjphfSl9fX19XSx1ZT1bIiRpbnRlcnBvbGF0ZSIsIiRjb21waWxlIiwKZnVuY3Rpb24oYSxiKXtyZXR1cm57Y29tcGlsZTpmdW5jdGlvbihkKXtiLiQkYWRkQmluZGluZ0NsYXNzKGQpO3JldHVybiBmdW5jdGlvbihjLGQsZil7Yz1hKGQuYXR0cihmLiRhdHRyLm5nQmluZFRlbXBsYXRlKSk7Yi4kJGFkZEJpbmRpbmdJbmZvKGQsYy5leHByZXNzaW9ucyk7ZD1kWzBdO2YuJG9ic2VydmUoIm5nQmluZFRlbXBsYXRlIixmdW5jdGlvbihhKXtkLnRleHRDb250ZW50PXIoYSk/IiI6YX0pfX19fV0sdGU9WyIkc2NlIiwiJHBhcnNlIiwiJGNvbXBpbGUiLGZ1bmN0aW9uKGEsYixkKXtyZXR1cm57cmVzdHJpY3Q6IkEiLGNvbXBpbGU6ZnVuY3Rpb24oYyxlKXt2YXIgZj1iKGUubmdCaW5kSHRtbCksZz1iKGUubmdCaW5kSHRtbCxmdW5jdGlvbihiKXtyZXR1cm4gYS52YWx1ZU9mKGIpfSk7ZC4kJGFkZEJpbmRpbmdDbGFzcyhjKTtyZXR1cm4gZnVuY3Rpb24oYixjLGUpe2QuJCRhZGRCaW5kaW5nSW5mbyhjLGUubmdCaW5kSHRtbCk7Yi4kd2F0Y2goZyxmdW5jdGlvbigpe3ZhciBkPQpmKGIpO2MuaHRtbChhLmdldFRydXN0ZWRIdG1sKGQpfHwiIil9KX19fX1dLFJlPW1hKHtyZXN0cmljdDoiQSIscmVxdWlyZToibmdNb2RlbCIsbGluazpmdW5jdGlvbihhLGIsZCxjKXtjLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLnB1c2goZnVuY3Rpb24oKXthLiRldmFsKGQubmdDaGFuZ2UpfSl9fSksdmU9bGMoIiIsITApLHhlPWxjKCJPZGQiLDApLHdlPWxjKCJFdmVuIiwxKSx5ZT1LYSh7Y29tcGlsZTpmdW5jdGlvbihhLGIpe2IuJHNldCgibmdDbG9hayIseCk7YS5yZW1vdmVDbGFzcygibmctY2xvYWsiKX19KSx6ZT1bZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkEiLHNjb3BlOiEwLGNvbnRyb2xsZXI6IkAiLHByaW9yaXR5OjUwMH19XSxJYz17fSxIZz17Ymx1cjohMCxmb2N1czohMH07cCgiY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlbW92ZSBtb3VzZWVudGVyIG1vdXNlbGVhdmUga2V5ZG93biBrZXl1cCBrZXlwcmVzcyBzdWJtaXQgZm9jdXMgYmx1ciBjb3B5IGN1dCBwYXN0ZSIuc3BsaXQoIiAiKSwKZnVuY3Rpb24oYSl7dmFyIGI9dmEoIm5nLSIrYSk7SWNbYl09WyIkcGFyc2UiLCIkcm9vdFNjb3BlIixmdW5jdGlvbihkLGMpe3JldHVybntyZXN0cmljdDoiQSIsY29tcGlsZTpmdW5jdGlvbihlLGYpe3ZhciBnPWQoZltiXSxudWxsLCEwKTtyZXR1cm4gZnVuY3Rpb24oYixkKXtkLm9uKGEsZnVuY3Rpb24oZCl7dmFyIGU9ZnVuY3Rpb24oKXtnKGIseyRldmVudDpkfSl9O0hnW2FdJiZjLiQkcGhhc2U/Yi4kZXZhbEFzeW5jKGUpOmIuJGFwcGx5KGUpfSl9fX19XX0pO3ZhciBDZT1bIiRhbmltYXRlIixmdW5jdGlvbihhKXtyZXR1cm57bXVsdGlFbGVtZW50OiEwLHRyYW5zY2x1ZGU6ImVsZW1lbnQiLHByaW9yaXR5OjYwMCx0ZXJtaW5hbDohMCxyZXN0cmljdDoiQSIsJCR0bGI6ITAsbGluazpmdW5jdGlvbihiLGQsYyxlLGYpe3ZhciBnLGgsaztiLiR3YXRjaChjLm5nSWYsZnVuY3Rpb24oYil7Yj9ofHxmKGZ1bmN0aW9uKGIsZSl7aD1lO2JbYi5sZW5ndGgrK109VS5jcmVhdGVDb21tZW50KCIgZW5kIG5nSWY6ICIrCmMubmdJZisiICIpO2c9e2Nsb25lOmJ9O2EuZW50ZXIoYixkLnBhcmVudCgpLGQpfSk6KGsmJihrLnJlbW92ZSgpLGs9bnVsbCksaCYmKGguJGRlc3Ryb3koKSxoPW51bGwpLGcmJihrPXFiKGcuY2xvbmUpLGEubGVhdmUoaykudGhlbihmdW5jdGlvbigpe2s9bnVsbH0pLGc9bnVsbCkpfSl9fX1dLERlPVsiJHRlbXBsYXRlUmVxdWVzdCIsIiRhbmNob3JTY3JvbGwiLCIkYW5pbWF0ZSIsZnVuY3Rpb24oYSxiLGQpe3JldHVybntyZXN0cmljdDoiRUNBIixwcmlvcml0eTo0MDAsdGVybWluYWw6ITAsdHJhbnNjbHVkZToiZWxlbWVudCIsY29udHJvbGxlcjpkYS5ub29wLGNvbXBpbGU6ZnVuY3Rpb24oYyxlKXt2YXIgZj1lLm5nSW5jbHVkZXx8ZS5zcmMsZz1lLm9ubG9hZHx8IiIsaD1lLmF1dG9zY3JvbGw7cmV0dXJuIGZ1bmN0aW9uKGMsZSxsLG4scCl7dmFyIHI9MCx0LHMscSx5PWZ1bmN0aW9uKCl7cyYmKHMucmVtb3ZlKCkscz1udWxsKTt0JiYodC4kZGVzdHJveSgpLHQ9bnVsbCk7cSYmCihkLmxlYXZlKHEpLnRoZW4oZnVuY3Rpb24oKXtzPW51bGx9KSxzPXEscT1udWxsKX07Yy4kd2F0Y2goZixmdW5jdGlvbihmKXt2YXIgbD1mdW5jdGlvbigpeyF1KGgpfHxoJiYhYy4kZXZhbChoKXx8YigpfSxzPSsrcjtmPyhhKGYsITApLnRoZW4oZnVuY3Rpb24oYSl7aWYoIWMuJCRkZXN0cm95ZWQmJnM9PT1yKXt2YXIgYj1jLiRuZXcoKTtuLnRlbXBsYXRlPWE7YT1wKGIsZnVuY3Rpb24oYSl7eSgpO2QuZW50ZXIoYSxudWxsLGUpLnRoZW4obCl9KTt0PWI7cT1hO3QuJGVtaXQoIiRpbmNsdWRlQ29udGVudExvYWRlZCIsZik7Yy4kZXZhbChnKX19LGZ1bmN0aW9uKCl7Yy4kJGRlc3Ryb3llZHx8cyE9PXJ8fCh5KCksYy4kZW1pdCgiJGluY2x1ZGVDb250ZW50RXJyb3IiLGYpKX0pLGMuJGVtaXQoIiRpbmNsdWRlQ29udGVudFJlcXVlc3RlZCIsZikpOih5KCksbi50ZW1wbGF0ZT1udWxsKX0pfX19fV0sVWU9WyIkY29tcGlsZSIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OiJFQ0EiLApwcmlvcml0eTotNDAwLHJlcXVpcmU6Im5nSW5jbHVkZSIsbGluazpmdW5jdGlvbihiLGQsYyxlKXsvU1ZHLy50ZXN0KGRbMF0udG9TdHJpbmcoKSk/KGQuZW1wdHkoKSxhKExjKGUudGVtcGxhdGUsVSkuY2hpbGROb2RlcykoYixmdW5jdGlvbihhKXtkLmFwcGVuZChhKX0se2Z1dHVyZVBhcmVudEVsZW1lbnQ6ZH0pKTooZC5odG1sKGUudGVtcGxhdGUpLGEoZC5jb250ZW50cygpKShiKSl9fX1dLEVlPUthKHtwcmlvcml0eTo0NTAsY29tcGlsZTpmdW5jdGlvbigpe3JldHVybntwcmU6ZnVuY3Rpb24oYSxiLGQpe2EuJGV2YWwoZC5uZ0luaXQpfX19fSksUWU9ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkEiLHByaW9yaXR5OjEwMCxyZXF1aXJlOiJuZ01vZGVsIixsaW5rOmZ1bmN0aW9uKGEsYixkLGMpe3ZhciBlPWIuYXR0cihkLiRhdHRyLm5nTGlzdCl8fCIsICIsZj0iZmFsc2UiIT09ZC5uZ1RyaW0sZz1mP1QoZSk6ZTtjLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24oYSl7aWYoIXIoYSkpe3ZhciBiPQpbXTthJiZwKGEuc3BsaXQoZyksZnVuY3Rpb24oYSl7YSYmYi5wdXNoKGY/VChhKTphKX0pO3JldHVybiBifX0pO2MuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihhKXtyZXR1cm4gTChhKT9hLmpvaW4oZSk6eH0pO2MuJGlzRW1wdHk9ZnVuY3Rpb24oYSl7cmV0dXJuIWF8fCFhLmxlbmd0aH19fX0sbGI9Im5nLXZhbGlkIixOZD0ibmctaW52YWxpZCIsWGE9Im5nLXByaXN0aW5lIixKYj0ibmctZGlydHkiLFBkPSJuZy1wZW5kaW5nIixrYj1CKCJuZ01vZGVsIiksSWc9WyIkc2NvcGUiLCIkZXhjZXB0aW9uSGFuZGxlciIsIiRhdHRycyIsIiRlbGVtZW50IiwiJHBhcnNlIiwiJGFuaW1hdGUiLCIkdGltZW91dCIsIiRyb290U2NvcGUiLCIkcSIsIiRpbnRlcnBvbGF0ZSIsZnVuY3Rpb24oYSxiLGQsYyxlLGYsZyxoLGssbSl7dGhpcy4kbW9kZWxWYWx1ZT10aGlzLiR2aWV3VmFsdWU9TnVtYmVyLk5hTjt0aGlzLiQkcmF3TW9kZWxWYWx1ZT14O3RoaXMuJHZhbGlkYXRvcnM9e307dGhpcy4kYXN5bmNWYWxpZGF0b3JzPQp7fTt0aGlzLiRwYXJzZXJzPVtdO3RoaXMuJGZvcm1hdHRlcnM9W107dGhpcy4kdmlld0NoYW5nZUxpc3RlbmVycz1bXTt0aGlzLiR1bnRvdWNoZWQ9ITA7dGhpcy4kdG91Y2hlZD0hMTt0aGlzLiRwcmlzdGluZT0hMDt0aGlzLiRkaXJ0eT0hMTt0aGlzLiR2YWxpZD0hMDt0aGlzLiRpbnZhbGlkPSExO3RoaXMuJGVycm9yPXt9O3RoaXMuJCRzdWNjZXNzPXt9O3RoaXMuJHBlbmRpbmc9eDt0aGlzLiRuYW1lPW0oZC5uYW1lfHwiIiwhMSkoYSk7dGhpcy4kJHBhcmVudEZvcm09SWI7dmFyIGw9ZShkLm5nTW9kZWwpLG49bC5hc3NpZ24scz1sLHo9bix0PW51bGwsQSxxPXRoaXM7dGhpcy4kJHNldE9wdGlvbnM9ZnVuY3Rpb24oYSl7aWYoKHEuJG9wdGlvbnM9YSkmJmEuZ2V0dGVyU2V0dGVyKXt2YXIgYj1lKGQubmdNb2RlbCsiKCkiKSxmPWUoZC5uZ01vZGVsKyIoJCQkcCkiKTtzPWZ1bmN0aW9uKGEpe3ZhciBjPWwoYSk7RyhjKSYmKGM9YihhKSk7cmV0dXJuIGN9O3o9ZnVuY3Rpb24oYSwKYil7RyhsKGEpKT9mKGEseyQkJHA6cS4kbW9kZWxWYWx1ZX0pOm4oYSxxLiRtb2RlbFZhbHVlKX19ZWxzZSBpZighbC5hc3NpZ24pdGhyb3cga2IoIm5vbmFzc2lnbiIsZC5uZ01vZGVsLHVhKGMpKTt9O3RoaXMuJHJlbmRlcj12O3RoaXMuJGlzRW1wdHk9ZnVuY3Rpb24oYSl7cmV0dXJuIHIoYSl8fCIiPT09YXx8bnVsbD09PWF8fGEhPT1hfTt2YXIgeT0wO0pkKHtjdHJsOnRoaXMsJGVsZW1lbnQ6YyxzZXQ6ZnVuY3Rpb24oYSxiKXthW2JdPSEwfSx1bnNldDpmdW5jdGlvbihhLGIpe2RlbGV0ZSBhW2JdfSwkYW5pbWF0ZTpmfSk7dGhpcy4kc2V0UHJpc3RpbmU9ZnVuY3Rpb24oKXtxLiRkaXJ0eT0hMTtxLiRwcmlzdGluZT0hMDtmLnJlbW92ZUNsYXNzKGMsSmIpO2YuYWRkQ2xhc3MoYyxYYSl9O3RoaXMuJHNldERpcnR5PWZ1bmN0aW9uKCl7cS4kZGlydHk9ITA7cS4kcHJpc3RpbmU9ITE7Zi5yZW1vdmVDbGFzcyhjLFhhKTtmLmFkZENsYXNzKGMsSmIpO3EuJCRwYXJlbnRGb3JtLiRzZXREaXJ0eSgpfTsKdGhpcy4kc2V0VW50b3VjaGVkPWZ1bmN0aW9uKCl7cS4kdG91Y2hlZD0hMTtxLiR1bnRvdWNoZWQ9ITA7Zi5zZXRDbGFzcyhjLCJuZy11bnRvdWNoZWQiLCJuZy10b3VjaGVkIil9O3RoaXMuJHNldFRvdWNoZWQ9ZnVuY3Rpb24oKXtxLiR0b3VjaGVkPSEwO3EuJHVudG91Y2hlZD0hMTtmLnNldENsYXNzKGMsIm5nLXRvdWNoZWQiLCJuZy11bnRvdWNoZWQiKX07dGhpcy4kcm9sbGJhY2tWaWV3VmFsdWU9ZnVuY3Rpb24oKXtnLmNhbmNlbCh0KTtxLiR2aWV3VmFsdWU9cS4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU7cS4kcmVuZGVyKCl9O3RoaXMuJHZhbGlkYXRlPWZ1bmN0aW9uKCl7aWYoIVAocS4kbW9kZWxWYWx1ZSl8fCFpc05hTihxLiRtb2RlbFZhbHVlKSl7dmFyIGE9cS4kJHJhd01vZGVsVmFsdWUsYj1xLiR2YWxpZCxjPXEuJG1vZGVsVmFsdWUsZD1xLiRvcHRpb25zJiZxLiRvcHRpb25zLmFsbG93SW52YWxpZDtxLiQkcnVuVmFsaWRhdG9ycyhhLHEuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlLApmdW5jdGlvbihlKXtkfHxiPT09ZXx8KHEuJG1vZGVsVmFsdWU9ZT9hOngscS4kbW9kZWxWYWx1ZSE9PWMmJnEuJCR3cml0ZU1vZGVsVG9TY29wZSgpKX0pfX07dGhpcy4kJHJ1blZhbGlkYXRvcnM9ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoKXt2YXIgYz0hMDtwKHEuJHZhbGlkYXRvcnMsZnVuY3Rpb24oZCxlKXt2YXIgZz1kKGEsYik7Yz1jJiZnO2YoZSxnKX0pO3JldHVybiBjPyEwOihwKHEuJGFzeW5jVmFsaWRhdG9ycyxmdW5jdGlvbihhLGIpe2YoYixudWxsKX0pLCExKX1mdW5jdGlvbiBlKCl7dmFyIGM9W10sZD0hMDtwKHEuJGFzeW5jVmFsaWRhdG9ycyxmdW5jdGlvbihlLGcpe3ZhciBoPWUoYSxiKTtpZighaHx8IUcoaC50aGVuKSl0aHJvdyBrYigibm9wcm9taXNlIixoKTtmKGcseCk7Yy5wdXNoKGgudGhlbihmdW5jdGlvbigpe2YoZywhMCl9LGZ1bmN0aW9uKGEpe2Q9ITE7ZihnLCExKX0pKX0pO2MubGVuZ3RoP2suYWxsKGMpLnRoZW4oZnVuY3Rpb24oKXtnKGQpfSwKdik6ZyghMCl9ZnVuY3Rpb24gZihhLGIpe2g9PT15JiZxLiRzZXRWYWxpZGl0eShhLGIpfWZ1bmN0aW9uIGcoYSl7aD09PXkmJmMoYSl9eSsrO3ZhciBoPXk7KGZ1bmN0aW9uKCl7dmFyIGE9cS4kJHBhcnNlck5hbWV8fCJwYXJzZSI7aWYocihBKSlmKGEsbnVsbCk7ZWxzZSByZXR1cm4gQXx8KHAocS4kdmFsaWRhdG9ycyxmdW5jdGlvbihhLGIpe2YoYixudWxsKX0pLHAocS4kYXN5bmNWYWxpZGF0b3JzLGZ1bmN0aW9uKGEsYil7ZihiLG51bGwpfSkpLGYoYSxBKSxBO3JldHVybiEwfSkoKT9kKCk/ZSgpOmcoITEpOmcoITEpfTt0aGlzLiRjb21taXRWaWV3VmFsdWU9ZnVuY3Rpb24oKXt2YXIgYT1xLiR2aWV3VmFsdWU7Zy5jYW5jZWwodCk7aWYocS4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUhPT1hfHwiIj09PWEmJnEuJCRoYXNOYXRpdmVWYWxpZGF0b3JzKXEuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlPWEscS4kcHJpc3RpbmUmJnRoaXMuJHNldERpcnR5KCksdGhpcy4kJHBhcnNlQW5kVmFsaWRhdGUoKX07CnRoaXMuJCRwYXJzZUFuZFZhbGlkYXRlPWZ1bmN0aW9uKCl7dmFyIGI9cS4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU7aWYoQT1yKGIpP3g6ITApZm9yKHZhciBjPTA7YzxxLiRwYXJzZXJzLmxlbmd0aDtjKyspaWYoYj1xLiRwYXJzZXJzW2NdKGIpLHIoYikpe0E9ITE7YnJlYWt9UChxLiRtb2RlbFZhbHVlKSYmaXNOYU4ocS4kbW9kZWxWYWx1ZSkmJihxLiRtb2RlbFZhbHVlPXMoYSkpO3ZhciBkPXEuJG1vZGVsVmFsdWUsZT1xLiRvcHRpb25zJiZxLiRvcHRpb25zLmFsbG93SW52YWxpZDtxLiQkcmF3TW9kZWxWYWx1ZT1iO2UmJihxLiRtb2RlbFZhbHVlPWIscS4kbW9kZWxWYWx1ZSE9PWQmJnEuJCR3cml0ZU1vZGVsVG9TY29wZSgpKTtxLiQkcnVuVmFsaWRhdG9ycyhiLHEuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlLGZ1bmN0aW9uKGEpe2V8fChxLiRtb2RlbFZhbHVlPWE/Yjp4LHEuJG1vZGVsVmFsdWUhPT1kJiZxLiQkd3JpdGVNb2RlbFRvU2NvcGUoKSl9KX07dGhpcy4kJHdyaXRlTW9kZWxUb1Njb3BlPQpmdW5jdGlvbigpe3ooYSxxLiRtb2RlbFZhbHVlKTtwKHEuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMsZnVuY3Rpb24oYSl7dHJ5e2EoKX1jYXRjaChjKXtiKGMpfX0pfTt0aGlzLiRzZXRWaWV3VmFsdWU9ZnVuY3Rpb24oYSxiKXtxLiR2aWV3VmFsdWU9YTtxLiRvcHRpb25zJiYhcS4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHR8fHEuJCRkZWJvdW5jZVZpZXdWYWx1ZUNvbW1pdChiKX07dGhpcy4kJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0PWZ1bmN0aW9uKGIpe3ZhciBjPTAsZD1xLiRvcHRpb25zO2QmJnUoZC5kZWJvdW5jZSkmJihkPWQuZGVib3VuY2UsUChkKT9jPWQ6UChkW2JdKT9jPWRbYl06UChkWyJkZWZhdWx0Il0pJiYoYz1kWyJkZWZhdWx0Il0pKTtnLmNhbmNlbCh0KTtjP3Q9ZyhmdW5jdGlvbigpe3EuJGNvbW1pdFZpZXdWYWx1ZSgpfSxjKTpoLiQkcGhhc2U/cS4kY29tbWl0Vmlld1ZhbHVlKCk6YS4kYXBwbHkoZnVuY3Rpb24oKXtxLiRjb21taXRWaWV3VmFsdWUoKX0pfTthLiR3YXRjaChmdW5jdGlvbigpe3ZhciBiPQpzKGEpO2lmKGIhPT1xLiRtb2RlbFZhbHVlJiYocS4kbW9kZWxWYWx1ZT09PXEuJG1vZGVsVmFsdWV8fGI9PT1iKSl7cS4kbW9kZWxWYWx1ZT1xLiQkcmF3TW9kZWxWYWx1ZT1iO0E9eDtmb3IodmFyIGM9cS4kZm9ybWF0dGVycyxkPWMubGVuZ3RoLGU9YjtkLS07KWU9Y1tkXShlKTtxLiR2aWV3VmFsdWUhPT1lJiYocS4kdmlld1ZhbHVlPXEuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlPWUscS4kcmVuZGVyKCkscS4kJHJ1blZhbGlkYXRvcnMoYixlLHYpKX1yZXR1cm4gYn0pfV0sUGU9WyIkcm9vdFNjb3BlIixmdW5jdGlvbihhKXtyZXR1cm57cmVzdHJpY3Q6IkEiLHJlcXVpcmU6WyJuZ01vZGVsIiwiXj9mb3JtIiwiXj9uZ01vZGVsT3B0aW9ucyJdLGNvbnRyb2xsZXI6SWcscHJpb3JpdHk6MSxjb21waWxlOmZ1bmN0aW9uKGIpe2IuYWRkQ2xhc3MoWGEpLmFkZENsYXNzKCJuZy11bnRvdWNoZWQiKS5hZGRDbGFzcyhsYik7cmV0dXJue3ByZTpmdW5jdGlvbihhLGIsZSxmKXt2YXIgZz0KZlswXTtiPWZbMV18fGcuJCRwYXJlbnRGb3JtO2cuJCRzZXRPcHRpb25zKGZbMl0mJmZbMl0uJG9wdGlvbnMpO2IuJGFkZENvbnRyb2woZyk7ZS4kb2JzZXJ2ZSgibmFtZSIsZnVuY3Rpb24oYSl7Zy4kbmFtZSE9PWEmJmcuJCRwYXJlbnRGb3JtLiQkcmVuYW1lQ29udHJvbChnLGEpfSk7YS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe2cuJCRwYXJlbnRGb3JtLiRyZW1vdmVDb250cm9sKGcpfSl9LHBvc3Q6ZnVuY3Rpb24oYixjLGUsZil7dmFyIGc9ZlswXTtpZihnLiRvcHRpb25zJiZnLiRvcHRpb25zLnVwZGF0ZU9uKWMub24oZy4kb3B0aW9ucy51cGRhdGVPbixmdW5jdGlvbihhKXtnLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQoYSYmYS50eXBlKX0pO2Mub24oImJsdXIiLGZ1bmN0aW9uKGMpe2cuJHRvdWNoZWR8fChhLiQkcGhhc2U/Yi4kZXZhbEFzeW5jKGcuJHNldFRvdWNoZWQpOmIuJGFwcGx5KGcuJHNldFRvdWNoZWQpKX0pfX19fX1dLEpnPS8oXHMrfF4pZGVmYXVsdChccyt8JCkvLApUZT1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiQSIsY29udHJvbGxlcjpbIiRzY29wZSIsIiRhdHRycyIsZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzO3RoaXMuJG9wdGlvbnM9TmEoYS4kZXZhbChiLm5nTW9kZWxPcHRpb25zKSk7dSh0aGlzLiRvcHRpb25zLnVwZGF0ZU9uKT8odGhpcy4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQ9ITEsdGhpcy4kb3B0aW9ucy51cGRhdGVPbj1UKHRoaXMuJG9wdGlvbnMudXBkYXRlT24ucmVwbGFjZShKZyxmdW5jdGlvbigpe2QuJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0PSEwO3JldHVybiIgIn0pKSk6dGhpcy4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQ9ITB9XX19LEZlPUthKHt0ZXJtaW5hbDohMCxwcmlvcml0eToxRTN9KSxLZz1CKCJuZ09wdGlvbnMiKSxMZz0vXlxzKihbXHNcU10rPykoPzpccythc1xzKyhbXHNcU10rPykpPyg/OlxzK2dyb3VwXHMrYnlccysoW1xzXFNdKz8pKT8oPzpccytkaXNhYmxlXHMrd2hlblxzKyhbXHNcU10rPykpP1xzK2ZvclxzKyg/OihbXCRcd11bXCRcd10qKXwoPzpcKFxzKihbXCRcd11bXCRcd10qKVxzKixccyooW1wkXHddW1wkXHddKilccypcKSkpXHMraW5ccysoW1xzXFNdKz8pKD86XHMrdHJhY2tccytieVxzKyhbXHNcU10rPykpPyQvLApOZT1bIiRjb21waWxlIiwiJHBhcnNlIixmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoYSxjLGQpe2Z1bmN0aW9uIGUoYSxiLGMsZCxmKXt0aGlzLnNlbGVjdFZhbHVlPWE7dGhpcy52aWV3VmFsdWU9Yjt0aGlzLmxhYmVsPWM7dGhpcy5ncm91cD1kO3RoaXMuZGlzYWJsZWQ9Zn1mdW5jdGlvbiBtKGEpe3ZhciBiO2lmKCFwJiZBYShhKSliPWE7ZWxzZXtiPVtdO2Zvcih2YXIgYyBpbiBhKWEuaGFzT3duUHJvcGVydHkoYykmJiIkIiE9PWMuY2hhckF0KDApJiZiLnB1c2goYyl9cmV0dXJuIGJ9dmFyIGw9YS5tYXRjaChMZyk7aWYoIWwpdGhyb3cgS2coImlleHAiLGEsdWEoYykpO3ZhciBuPWxbNV18fGxbN10scD1sWzZdO2E9LyBhcyAvLnRlc3QobFswXSkmJmxbMV07dmFyIHI9bFs5XTtjPWIobFsyXT9sWzFdOm4pO3ZhciB0PWEmJmIoYSl8fGMscz1yJiZiKHIpLHE9cj9mdW5jdGlvbihhLGIpe3JldHVybiBzKGQsYil9OmZ1bmN0aW9uKGEpe3JldHVybiBEYShhKX0seT1mdW5jdGlvbihhLApiKXtyZXR1cm4gcShhLEMoYSxiKSl9LHc9YihsWzJdfHxsWzFdKSx4PWIobFszXXx8IiIpLEY9YihsWzRdfHwiIiksdT1iKGxbOF0pLHY9e30sQz1wP2Z1bmN0aW9uKGEsYil7dltwXT1iO3Zbbl09YTtyZXR1cm4gdn06ZnVuY3Rpb24oYSl7dltuXT1hO3JldHVybiB2fTtyZXR1cm57dHJhY2tCeTpyLGdldFRyYWNrQnlWYWx1ZTp5LGdldFdhdGNoYWJsZXM6Yih1LGZ1bmN0aW9uKGEpe3ZhciBiPVtdO2E9YXx8W107Zm9yKHZhciBjPW0oYSksZT1jLmxlbmd0aCxmPTA7ZjxlO2YrKyl7dmFyIGc9YT09PWM/ZjpjW2ZdLGs9QyhhW2ddLGcpLGc9cShhW2ddLGspO2IucHVzaChnKTtpZihsWzJdfHxsWzFdKWc9dyhkLGspLGIucHVzaChnKTtsWzRdJiYoaz1GKGQsayksYi5wdXNoKGspKX1yZXR1cm4gYn0pLGdldE9wdGlvbnM6ZnVuY3Rpb24oKXtmb3IodmFyIGE9W10sYj17fSxjPXUoZCl8fFtdLGY9bShjKSxnPWYubGVuZ3RoLGw9MDtsPGc7bCsrKXt2YXIgbj1jPT09Zj9sOmZbbF0scD0KQyhjW25dLG4pLHM9dChkLHApLG49cShzLHApLHY9dyhkLHApLEE9eChkLHApLHA9RihkLHApLHM9bmV3IGUobixzLHYsQSxwKTthLnB1c2gocyk7YltuXT1zfXJldHVybntpdGVtczphLHNlbGVjdFZhbHVlTWFwOmIsZ2V0T3B0aW9uRnJvbVZpZXdWYWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gYlt5KGEpXX0sZ2V0Vmlld1ZhbHVlRnJvbU9wdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gcj9kYS5jb3B5KGEudmlld1ZhbHVlKTphLnZpZXdWYWx1ZX19fX19dmFyIGM9VS5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSxlPVUuY3JlYXRlRWxlbWVudCgib3B0Z3JvdXAiKTtyZXR1cm57cmVzdHJpY3Q6IkEiLHRlcm1pbmFsOiEwLHJlcXVpcmU6WyJzZWxlY3QiLCI/bmdNb2RlbCJdLGxpbms6e3ByZTpmdW5jdGlvbihhLGIsYyxkKXtkWzBdLnJlZ2lzdGVyT3B0aW9uPXZ9LHBvc3Q6ZnVuY3Rpb24oYixnLGgsayl7ZnVuY3Rpb24gbShhLGIpe2EuZWxlbWVudD1iO2IuZGlzYWJsZWQ9YS5kaXNhYmxlZDsKYS5sYWJlbCE9PWIubGFiZWwmJihiLmxhYmVsPWEubGFiZWwsYi50ZXh0Q29udGVudD1hLmxhYmVsKTthLnZhbHVlIT09Yi52YWx1ZSYmKGIudmFsdWU9YS5zZWxlY3RWYWx1ZSl9ZnVuY3Rpb24gbChhLGIsYyxkKXtiJiZNKGIubm9kZU5hbWUpPT09Yz9jPWI6KGM9ZC5jbG9uZU5vZGUoITEpLGI/YS5pbnNlcnRCZWZvcmUoYyxiKTphLmFwcGVuZENoaWxkKGMpKTtyZXR1cm4gY31mdW5jdGlvbiBuKGEpe2Zvcih2YXIgYjthOyliPWEubmV4dFNpYmxpbmcsWGIoYSksYT1ifWZ1bmN0aW9uIHIoYSl7dmFyIGI9eSYmeVswXSxjPXUmJnVbMF07aWYoYnx8Yylmb3IoO2EmJihhPT09Ynx8YT09PWN8fDg9PT1hLm5vZGVUeXBlfHwib3B0aW9uIj09PW9hKGEpJiYiIj09PWEudmFsdWUpOylhPWEubmV4dFNpYmxpbmc7cmV0dXJuIGF9ZnVuY3Rpb24gcygpe3ZhciBhPUUmJngucmVhZFZhbHVlKCk7RT1DLmdldE9wdGlvbnMoKTt2YXIgYj17fSxkPWdbMF0uZmlyc3RDaGlsZDtGJiZnLnByZXBlbmQoeSk7CmQ9cihkKTtFLml0ZW1zLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGYsaDthLmdyb3VwPyhmPWJbYS5ncm91cF0sZnx8KGY9bChnWzBdLGQsIm9wdGdyb3VwIixlKSxkPWYubmV4dFNpYmxpbmcsZi5sYWJlbD1hLmdyb3VwLGY9YlthLmdyb3VwXT17Z3JvdXBFbGVtZW50OmYsY3VycmVudE9wdGlvbkVsZW1lbnQ6Zi5maXJzdENoaWxkfSksaD1sKGYuZ3JvdXBFbGVtZW50LGYuY3VycmVudE9wdGlvbkVsZW1lbnQsIm9wdGlvbiIsYyksbShhLGgpLGYuY3VycmVudE9wdGlvbkVsZW1lbnQ9aC5uZXh0U2libGluZyk6KGg9bChnWzBdLGQsIm9wdGlvbiIsYyksbShhLGgpLGQ9aC5uZXh0U2libGluZyl9KTtPYmplY3Qua2V5cyhiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe24oYlthXS5jdXJyZW50T3B0aW9uRWxlbWVudCl9KTtuKGQpO3QuJHJlbmRlcigpO2lmKCF0LiRpc0VtcHR5KGEpKXt2YXIgZj14LnJlYWRWYWx1ZSgpOyhDLnRyYWNrQnl8fHE/bGEoYSxmKTphPT09Zil8fCh0LiRzZXRWaWV3VmFsdWUoZiksCnQuJHJlbmRlcigpKX19dmFyIHQ9a1sxXTtpZih0KXt2YXIgeD1rWzBdLHE9aC5tdWx0aXBsZSx5O2s9MDtmb3IodmFyIHc9Zy5jaGlsZHJlbigpLHY9dy5sZW5ndGg7azx2O2srKylpZigiIj09PXdba10udmFsdWUpe3k9dy5lcShrKTticmVha312YXIgRj0hIXksdT1EKGMuY2xvbmVOb2RlKCExKSk7dS52YWwoIj8iKTt2YXIgRSxDPWQoaC5uZ09wdGlvbnMsZyxiKTtxPyh0LiRpc0VtcHR5PWZ1bmN0aW9uKGEpe3JldHVybiFhfHwwPT09YS5sZW5ndGh9LHgud3JpdGVWYWx1ZT1mdW5jdGlvbihhKXtFLml0ZW1zLmZvckVhY2goZnVuY3Rpb24oYSl7YS5lbGVtZW50LnNlbGVjdGVkPSExfSk7YSYmYS5mb3JFYWNoKGZ1bmN0aW9uKGEpeyhhPUUuZ2V0T3B0aW9uRnJvbVZpZXdWYWx1ZShhKSkmJiFhLmRpc2FibGVkJiYoYS5lbGVtZW50LnNlbGVjdGVkPSEwKX0pfSx4LnJlYWRWYWx1ZT1mdW5jdGlvbigpe3ZhciBhPWcudmFsKCl8fFtdLGI9W107cChhLGZ1bmN0aW9uKGEpeyhhPUUuc2VsZWN0VmFsdWVNYXBbYV0pJiYKIWEuZGlzYWJsZWQmJmIucHVzaChFLmdldFZpZXdWYWx1ZUZyb21PcHRpb24oYSkpfSk7cmV0dXJuIGJ9LEMudHJhY2tCeSYmYi4kd2F0Y2hDb2xsZWN0aW9uKGZ1bmN0aW9uKCl7aWYoTCh0LiR2aWV3VmFsdWUpKXJldHVybiB0LiR2aWV3VmFsdWUubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBDLmdldFRyYWNrQnlWYWx1ZShhKX0pfSxmdW5jdGlvbigpe3QuJHJlbmRlcigpfSkpOih4LndyaXRlVmFsdWU9ZnVuY3Rpb24oYSl7dmFyIGI9RS5nZXRPcHRpb25Gcm9tVmlld1ZhbHVlKGEpO2ImJiFiLmRpc2FibGVkPyhnWzBdLnZhbHVlIT09Yi5zZWxlY3RWYWx1ZSYmKHUucmVtb3ZlKCksRnx8eS5yZW1vdmUoKSxnWzBdLnZhbHVlPWIuc2VsZWN0VmFsdWUsYi5lbGVtZW50LnNlbGVjdGVkPSEwKSxiLmVsZW1lbnQuc2V0QXR0cmlidXRlKCJzZWxlY3RlZCIsInNlbGVjdGVkIikpOm51bGw9PT1hfHxGPyh1LnJlbW92ZSgpLEZ8fGcucHJlcGVuZCh5KSxnLnZhbCgiIikseS5wcm9wKCJzZWxlY3RlZCIsCiEwKSx5LmF0dHIoInNlbGVjdGVkIiwhMCkpOihGfHx5LnJlbW92ZSgpLGcucHJlcGVuZCh1KSxnLnZhbCgiPyIpLHUucHJvcCgic2VsZWN0ZWQiLCEwKSx1LmF0dHIoInNlbGVjdGVkIiwhMCkpfSx4LnJlYWRWYWx1ZT1mdW5jdGlvbigpe3ZhciBhPUUuc2VsZWN0VmFsdWVNYXBbZy52YWwoKV07cmV0dXJuIGEmJiFhLmRpc2FibGVkPyhGfHx5LnJlbW92ZSgpLHUucmVtb3ZlKCksRS5nZXRWaWV3VmFsdWVGcm9tT3B0aW9uKGEpKTpudWxsfSxDLnRyYWNrQnkmJmIuJHdhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIEMuZ2V0VHJhY2tCeVZhbHVlKHQuJHZpZXdWYWx1ZSl9LGZ1bmN0aW9uKCl7dC4kcmVuZGVyKCl9KSk7Rj8oeS5yZW1vdmUoKSxhKHkpKGIpLHkucmVtb3ZlQ2xhc3MoIm5nLXNjb3BlIikpOnk9RChjLmNsb25lTm9kZSghMSkpO3MoKTtiLiR3YXRjaENvbGxlY3Rpb24oQy5nZXRXYXRjaGFibGVzLHMpfX19fX1dLEdlPVsiJGxvY2FsZSIsIiRpbnRlcnBvbGF0ZSIsIiRsb2ciLApmdW5jdGlvbihhLGIsZCl7dmFyIGM9L3t9L2csZT0vXndoZW4oTWludXMpPyguKykkLztyZXR1cm57bGluazpmdW5jdGlvbihmLGcsaCl7ZnVuY3Rpb24gayhhKXtnLnRleHQoYXx8IiIpfXZhciBtPWguY291bnQsbD1oLiRhdHRyLndoZW4mJmcuYXR0cihoLiRhdHRyLndoZW4pLG49aC5vZmZzZXR8fDAscz1mLiRldmFsKGwpfHx7fSx4PXt9LHQ9Yi5zdGFydFN5bWJvbCgpLHU9Yi5lbmRTeW1ib2woKSxxPXQrbSsiLSIrbit1LHk9ZGEubm9vcCx3O3AoaCxmdW5jdGlvbihhLGIpe3ZhciBjPWUuZXhlYyhiKTtjJiYoYz0oY1sxXT8iLSI6IiIpK00oY1syXSksc1tjXT1nLmF0dHIoaC4kYXR0cltiXSkpfSk7cChzLGZ1bmN0aW9uKGEsZCl7eFtkXT1iKGEucmVwbGFjZShjLHEpKX0pO2YuJHdhdGNoKG0sZnVuY3Rpb24oYil7dmFyIGM9cGFyc2VGbG9hdChiKSxlPWlzTmFOKGMpO2V8fGMgaW4gc3x8KGM9YS5wbHVyYWxDYXQoYy1uKSk7Yz09PXd8fGUmJlAodykmJmlzTmFOKHcpfHwoeSgpLAplPXhbY10scihlKT8obnVsbCE9YiYmZC5kZWJ1ZygibmdQbHVyYWxpemU6IG5vIHJ1bGUgZGVmaW5lZCBmb3IgJyIrYysiJyBpbiAiK2wpLHk9dixrKCkpOnk9Zi4kd2F0Y2goZSxrKSx3PWMpfSl9fX1dLEhlPVsiJHBhcnNlIiwiJGFuaW1hdGUiLGZ1bmN0aW9uKGEsYil7dmFyIGQ9QigibmdSZXBlYXQiKSxjPWZ1bmN0aW9uKGEsYixjLGQsayxtLGwpe2FbY109ZDtrJiYoYVtrXT1tKTthLiRpbmRleD1iO2EuJGZpcnN0PTA9PT1iO2EuJGxhc3Q9Yj09PWwtMTthLiRtaWRkbGU9IShhLiRmaXJzdHx8YS4kbGFzdCk7YS4kb2RkPSEoYS4kZXZlbj0wPT09KGImMSkpfTtyZXR1cm57cmVzdHJpY3Q6IkEiLG11bHRpRWxlbWVudDohMCx0cmFuc2NsdWRlOiJlbGVtZW50Iixwcmlvcml0eToxRTMsdGVybWluYWw6ITAsJCR0bGI6ITAsY29tcGlsZTpmdW5jdGlvbihlLGYpe3ZhciBnPWYubmdSZXBlYXQsaD1VLmNyZWF0ZUNvbW1lbnQoIiBlbmQgbmdSZXBlYXQ6ICIrZysiICIpLGs9Zy5tYXRjaCgvXlxzKihbXHNcU10rPylccytpblxzKyhbXHNcU10rPykoPzpccythc1xzKyhbXHNcU10rPykpPyg/OlxzK3RyYWNrXHMrYnlccysoW1xzXFNdKz8pKT9ccyokLyk7CmlmKCFrKXRocm93IGQoImlleHAiLGcpO3ZhciBtPWtbMV0sbD1rWzJdLG49a1szXSxyPWtbNF0saz1tLm1hdGNoKC9eKD86KFxzKltcJFx3XSspfFwoXHMqKFtcJFx3XSspXHMqLFxzKihbXCRcd10rKVxzKlwpKSQvKTtpZighayl0aHJvdyBkKCJpaWRleHAiLG0pO3ZhciBzPWtbM118fGtbMV0sdD1rWzJdO2lmKG4mJighL15bJGEtekEtWl9dWyRhLXpBLVowLTlfXSokLy50ZXN0KG4pfHwvXihudWxsfHVuZGVmaW5lZHx0aGlzfFwkaW5kZXh8XCRmaXJzdHxcJG1pZGRsZXxcJGxhc3R8XCRldmVufFwkb2RkfFwkcGFyZW50fFwkcm9vdHxcJGlkKSQvLnRlc3QobikpKXRocm93IGQoImJhZGlkZW50IixuKTt2YXIgdSxxLHksdyx2PXskaWQ6RGF9O3I/dT1hKHIpOih5PWZ1bmN0aW9uKGEsYil7cmV0dXJuIERhKGIpfSx3PWZ1bmN0aW9uKGEpe3JldHVybiBhfSk7cmV0dXJuIGZ1bmN0aW9uKGEsZSxmLGssbSl7dSYmKHE9ZnVuY3Rpb24oYixjLGQpe3QmJih2W3RdPWIpO3Zbc109Yzt2LiRpbmRleD0KZDtyZXR1cm4gdShhLHYpfSk7dmFyIHI9WigpO2EuJHdhdGNoQ29sbGVjdGlvbihsLGZ1bmN0aW9uKGYpe3ZhciBrLGwsdT1lWzBdLHYsQT1aKCksQyxELEosRSxHLEIsSDtuJiYoYVtuXT1mKTtpZihBYShmKSlHPWYsbD1xfHx5O2Vsc2UgZm9yKEggaW4gbD1xfHx3LEc9W10sZilzYS5jYWxsKGYsSCkmJiIkIiE9PUguY2hhckF0KDApJiZHLnB1c2goSCk7Qz1HLmxlbmd0aDtIPUFycmF5KEMpO2ZvcihrPTA7azxDO2srKylpZihEPWY9PT1HP2s6R1trXSxKPWZbRF0sRT1sKEQsSixrKSxyW0VdKUI9cltFXSxkZWxldGUgcltFXSxBW0VdPUIsSFtrXT1CO2Vsc2V7aWYoQVtFXSl0aHJvdyBwKEgsZnVuY3Rpb24oYSl7YSYmYS5zY29wZSYmKHJbYS5pZF09YSl9KSxkKCJkdXBlcyIsZyxFLEopO0hba109e2lkOkUsc2NvcGU6eCxjbG9uZTp4fTtBW0VdPSEwfWZvcih2IGluIHIpe0I9clt2XTtFPXFiKEIuY2xvbmUpO2IubGVhdmUoRSk7aWYoRVswXS5wYXJlbnROb2RlKWZvcihrPTAsbD1FLmxlbmd0aDtrPApsO2srKylFW2tdLiQkTkdfUkVNT1ZFRD0hMDtCLnNjb3BlLiRkZXN0cm95KCl9Zm9yKGs9MDtrPEM7aysrKWlmKEQ9Zj09PUc/azpHW2tdLEo9ZltEXSxCPUhba10sQi5zY29wZSl7dj11O2RvIHY9di5uZXh0U2libGluZzt3aGlsZSh2JiZ2LiQkTkdfUkVNT1ZFRCk7Qi5jbG9uZVswXSE9diYmYi5tb3ZlKHFiKEIuY2xvbmUpLG51bGwsdSk7dT1CLmNsb25lW0IuY2xvbmUubGVuZ3RoLTFdO2MoQi5zY29wZSxrLHMsSix0LEQsQyl9ZWxzZSBtKGZ1bmN0aW9uKGEsZCl7Qi5zY29wZT1kO3ZhciBlPWguY2xvbmVOb2RlKCExKTthW2EubGVuZ3RoKytdPWU7Yi5lbnRlcihhLG51bGwsdSk7dT1lO0IuY2xvbmU9YTtBW0IuaWRdPUI7YyhCLnNjb3BlLGsscyxKLHQsRCxDKX0pO3I9QX0pfX19fV0sSWU9WyIkYW5pbWF0ZSIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OiJBIixtdWx0aUVsZW1lbnQ6ITAsbGluazpmdW5jdGlvbihiLGQsYyl7Yi4kd2F0Y2goYy5uZ1Nob3csZnVuY3Rpb24oYil7YVtiPwoicmVtb3ZlQ2xhc3MiOiJhZGRDbGFzcyJdKGQsIm5nLWhpZGUiLHt0ZW1wQ2xhc3NlczoibmctaGlkZS1hbmltYXRlIn0pfSl9fX1dLEJlPVsiJGFuaW1hdGUiLGZ1bmN0aW9uKGEpe3JldHVybntyZXN0cmljdDoiQSIsbXVsdGlFbGVtZW50OiEwLGxpbms6ZnVuY3Rpb24oYixkLGMpe2IuJHdhdGNoKGMubmdIaWRlLGZ1bmN0aW9uKGIpe2FbYj8iYWRkQ2xhc3MiOiJyZW1vdmVDbGFzcyJdKGQsIm5nLWhpZGUiLHt0ZW1wQ2xhc3NlczoibmctaGlkZS1hbmltYXRlIn0pfSl9fX1dLEplPUthKGZ1bmN0aW9uKGEsYixkKXthLiR3YXRjaChkLm5nU3R5bGUsZnVuY3Rpb24oYSxkKXtkJiZhIT09ZCYmcChkLGZ1bmN0aW9uKGEsYyl7Yi5jc3MoYywiIil9KTthJiZiLmNzcyhhKX0sITApfSksS2U9WyIkYW5pbWF0ZSIsZnVuY3Rpb24oYSl7cmV0dXJue3JlcXVpcmU6Im5nU3dpdGNoIixjb250cm9sbGVyOlsiJHNjb3BlIixmdW5jdGlvbigpe3RoaXMuY2FzZXM9e319XSxsaW5rOmZ1bmN0aW9uKGIsCmQsYyxlKXt2YXIgZj1bXSxnPVtdLGg9W10saz1bXSxtPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7YS5zcGxpY2UoYiwxKX19O2IuJHdhdGNoKGMubmdTd2l0Y2h8fGMub24sZnVuY3Rpb24oYil7dmFyIGMsZDtjPTA7Zm9yKGQ9aC5sZW5ndGg7YzxkOysrYylhLmNhbmNlbChoW2NdKTtjPWgubGVuZ3RoPTA7Zm9yKGQ9ay5sZW5ndGg7YzxkOysrYyl7dmFyIHI9cWIoZ1tjXS5jbG9uZSk7a1tjXS4kZGVzdHJveSgpOyhoW2NdPWEubGVhdmUocikpLnRoZW4obShoLGMpKX1nLmxlbmd0aD0wO2subGVuZ3RoPTA7KGY9ZS5jYXNlc1siISIrYl18fGUuY2FzZXNbIj8iXSkmJnAoZixmdW5jdGlvbihiKXtiLnRyYW5zY2x1ZGUoZnVuY3Rpb24oYyxkKXtrLnB1c2goZCk7dmFyIGU9Yi5lbGVtZW50O2NbYy5sZW5ndGgrK109VS5jcmVhdGVDb21tZW50KCIgZW5kIG5nU3dpdGNoV2hlbjogIik7Zy5wdXNoKHtjbG9uZTpjfSk7YS5lbnRlcihjLGUucGFyZW50KCksZSl9KX0pfSl9fX1dLApMZT1LYSh7dHJhbnNjbHVkZToiZWxlbWVudCIscHJpb3JpdHk6MTIwMCxyZXF1aXJlOiJebmdTd2l0Y2giLG11bHRpRWxlbWVudDohMCxsaW5rOmZ1bmN0aW9uKGEsYixkLGMsZSl7Yy5jYXNlc1siISIrZC5uZ1N3aXRjaFdoZW5dPWMuY2FzZXNbIiEiK2QubmdTd2l0Y2hXaGVuXXx8W107Yy5jYXNlc1siISIrZC5uZ1N3aXRjaFdoZW5dLnB1c2goe3RyYW5zY2x1ZGU6ZSxlbGVtZW50OmJ9KX19KSxNZT1LYSh7dHJhbnNjbHVkZToiZWxlbWVudCIscHJpb3JpdHk6MTIwMCxyZXF1aXJlOiJebmdTd2l0Y2giLG11bHRpRWxlbWVudDohMCxsaW5rOmZ1bmN0aW9uKGEsYixkLGMsZSl7Yy5jYXNlc1siPyJdPWMuY2FzZXNbIj8iXXx8W107Yy5jYXNlc1siPyJdLnB1c2goe3RyYW5zY2x1ZGU6ZSxlbGVtZW50OmJ9KX19KSxPZT1LYSh7cmVzdHJpY3Q6IkVBQyIsbGluazpmdW5jdGlvbihhLGIsZCxjLGUpe2lmKCFlKXRocm93IEIoIm5nVHJhbnNjbHVkZSIpKCJvcnBoYW4iLHVhKGIpKTtlKGZ1bmN0aW9uKGEpe2IuZW1wdHkoKTsKYi5hcHBlbmQoYSl9KX19KSxvZT1bIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbihhKXtyZXR1cm57cmVzdHJpY3Q6IkUiLHRlcm1pbmFsOiEwLGNvbXBpbGU6ZnVuY3Rpb24oYixkKXsidGV4dC9uZy10ZW1wbGF0ZSI9PWQudHlwZSYmYS5wdXQoZC5pZCxiWzBdLnRleHQpfX19XSxNZz17JHNldFZpZXdWYWx1ZTp2LCRyZW5kZXI6dn0sTmc9WyIkZWxlbWVudCIsIiRzY29wZSIsIiRhdHRycyIsZnVuY3Rpb24oYSxiLGQpe3ZhciBjPXRoaXMsZT1uZXcgVGE7Yy5uZ01vZGVsQ3RybD1NZztjLnVua25vd25PcHRpb249RChVLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKTtjLnJlbmRlclVua25vd25PcHRpb249ZnVuY3Rpb24oYil7Yj0iPyAiK0RhKGIpKyIgPyI7Yy51bmtub3duT3B0aW9uLnZhbChiKTthLnByZXBlbmQoYy51bmtub3duT3B0aW9uKTthLnZhbChiKX07Yi4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe2MucmVuZGVyVW5rbm93bk9wdGlvbj12fSk7Yy5yZW1vdmVVbmtub3duT3B0aW9uPQpmdW5jdGlvbigpe2MudW5rbm93bk9wdGlvbi5wYXJlbnQoKSYmYy51bmtub3duT3B0aW9uLnJlbW92ZSgpfTtjLnJlYWRWYWx1ZT1mdW5jdGlvbigpe2MucmVtb3ZlVW5rbm93bk9wdGlvbigpO3JldHVybiBhLnZhbCgpfTtjLndyaXRlVmFsdWU9ZnVuY3Rpb24oYil7Yy5oYXNPcHRpb24oYik/KGMucmVtb3ZlVW5rbm93bk9wdGlvbigpLGEudmFsKGIpLCIiPT09YiYmYy5lbXB0eU9wdGlvbi5wcm9wKCJzZWxlY3RlZCIsITApKTpudWxsPT1iJiZjLmVtcHR5T3B0aW9uPyhjLnJlbW92ZVVua25vd25PcHRpb24oKSxhLnZhbCgiIikpOmMucmVuZGVyVW5rbm93bk9wdGlvbihiKX07Yy5hZGRPcHRpb249ZnVuY3Rpb24oYSxiKXtpZig4IT09YlswXS5ub2RlVHlwZSl7U2EoYSwnIm9wdGlvbiB2YWx1ZSInKTsiIj09PWEmJihjLmVtcHR5T3B0aW9uPWIpO3ZhciBkPWUuZ2V0KGEpfHwwO2UucHV0KGEsZCsxKTtjLm5nTW9kZWxDdHJsLiRyZW5kZXIoKTtiWzBdLmhhc0F0dHJpYnV0ZSgic2VsZWN0ZWQiKSYmCihiWzBdLnNlbGVjdGVkPSEwKX19O2MucmVtb3ZlT3B0aW9uPWZ1bmN0aW9uKGEpe3ZhciBiPWUuZ2V0KGEpO2ImJigxPT09Yj8oZS5yZW1vdmUoYSksIiI9PT1hJiYoYy5lbXB0eU9wdGlvbj14KSk6ZS5wdXQoYSxiLTEpKX07Yy5oYXNPcHRpb249ZnVuY3Rpb24oYSl7cmV0dXJuISFlLmdldChhKX07Yy5yZWdpc3Rlck9wdGlvbj1mdW5jdGlvbihhLGIsZCxlLG0pe2lmKGUpe3ZhciBsO2QuJG9ic2VydmUoInZhbHVlIixmdW5jdGlvbihhKXt1KGwpJiZjLnJlbW92ZU9wdGlvbihsKTtsPWE7Yy5hZGRPcHRpb24oYSxiKX0pfWVsc2UgbT9hLiR3YXRjaChtLGZ1bmN0aW9uKGEsZSl7ZC4kc2V0KCJ2YWx1ZSIsYSk7ZSE9PWEmJmMucmVtb3ZlT3B0aW9uKGUpO2MuYWRkT3B0aW9uKGEsYil9KTpjLmFkZE9wdGlvbihkLnZhbHVlLGIpO2Iub24oIiRkZXN0cm95IixmdW5jdGlvbigpe2MucmVtb3ZlT3B0aW9uKGQudmFsdWUpO2MubmdNb2RlbEN0cmwuJHJlbmRlcigpfSl9fV0scGU9ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkUiLApyZXF1aXJlOlsic2VsZWN0IiwiP25nTW9kZWwiXSxjb250cm9sbGVyOk5nLHByaW9yaXR5OjEsbGluazp7cHJlOmZ1bmN0aW9uKGEsYixkLGMpe3ZhciBlPWNbMV07aWYoZSl7dmFyIGY9Y1swXTtmLm5nTW9kZWxDdHJsPWU7Yi5vbigiY2hhbmdlIixmdW5jdGlvbigpe2EuJGFwcGx5KGZ1bmN0aW9uKCl7ZS4kc2V0Vmlld1ZhbHVlKGYucmVhZFZhbHVlKCkpfSl9KTtpZihkLm11bHRpcGxlKXtmLnJlYWRWYWx1ZT1mdW5jdGlvbigpe3ZhciBhPVtdO3AoYi5maW5kKCJvcHRpb24iKSxmdW5jdGlvbihiKXtiLnNlbGVjdGVkJiZhLnB1c2goYi52YWx1ZSl9KTtyZXR1cm4gYX07Zi53cml0ZVZhbHVlPWZ1bmN0aW9uKGEpe3ZhciBjPW5ldyBUYShhKTtwKGIuZmluZCgib3B0aW9uIiksZnVuY3Rpb24oYSl7YS5zZWxlY3RlZD11KGMuZ2V0KGEudmFsdWUpKX0pfTt2YXIgZyxoPU5hTjthLiR3YXRjaChmdW5jdGlvbigpe2ghPT1lLiR2aWV3VmFsdWV8fGxhKGcsZS4kdmlld1ZhbHVlKXx8KGc9CmZhKGUuJHZpZXdWYWx1ZSksZS4kcmVuZGVyKCkpO2g9ZS4kdmlld1ZhbHVlfSk7ZS4kaXNFbXB0eT1mdW5jdGlvbihhKXtyZXR1cm4hYXx8MD09PWEubGVuZ3RofX19fSxwb3N0OmZ1bmN0aW9uKGEsYixkLGMpe3ZhciBlPWNbMV07aWYoZSl7dmFyIGY9Y1swXTtlLiRyZW5kZXI9ZnVuY3Rpb24oKXtmLndyaXRlVmFsdWUoZS4kdmlld1ZhbHVlKX19fX19fSxyZT1bIiRpbnRlcnBvbGF0ZSIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OiJFIixwcmlvcml0eToxMDAsY29tcGlsZTpmdW5jdGlvbihiLGQpe2lmKHUoZC52YWx1ZSkpdmFyIGM9YShkLnZhbHVlLCEwKTtlbHNle3ZhciBlPWEoYi50ZXh0KCksITApO2V8fGQuJHNldCgidmFsdWUiLGIudGV4dCgpKX1yZXR1cm4gZnVuY3Rpb24oYSxiLGQpe3ZhciBrPWIucGFyZW50KCk7KGs9ay5kYXRhKCIkc2VsZWN0Q29udHJvbGxlciIpfHxrLnBhcmVudCgpLmRhdGEoIiRzZWxlY3RDb250cm9sbGVyIikpJiZrLnJlZ2lzdGVyT3B0aW9uKGEsCmIsZCxjLGUpfX19fV0scWU9bWEoe3Jlc3RyaWN0OiJFIix0ZXJtaW5hbDohMX0pLEZjPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJBIixyZXF1aXJlOiI/bmdNb2RlbCIsbGluazpmdW5jdGlvbihhLGIsZCxjKXtjJiYoZC5yZXF1aXJlZD0hMCxjLiR2YWxpZGF0b3JzLnJlcXVpcmVkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIWQucmVxdWlyZWR8fCFjLiRpc0VtcHR5KGIpfSxkLiRvYnNlcnZlKCJyZXF1aXJlZCIsZnVuY3Rpb24oKXtjLiR2YWxpZGF0ZSgpfSkpfX19LEVjPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJBIixyZXF1aXJlOiI/bmdNb2RlbCIsbGluazpmdW5jdGlvbihhLGIsZCxjKXtpZihjKXt2YXIgZSxmPWQubmdQYXR0ZXJufHxkLnBhdHRlcm47ZC4kb2JzZXJ2ZSgicGF0dGVybiIsZnVuY3Rpb24oYSl7SChhKSYmMDxhLmxlbmd0aCYmKGE9bmV3IFJlZ0V4cCgiXiIrYSsiJCIpKTtpZihhJiYhYS50ZXN0KXRocm93IEIoIm5nUGF0dGVybiIpKCJub3JlZ2V4cCIsCmYsYSx1YShiKSk7ZT1hfHx4O2MuJHZhbGlkYXRlKCl9KTtjLiR2YWxpZGF0b3JzLnBhdHRlcm49ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYy4kaXNFbXB0eShiKXx8cihlKXx8ZS50ZXN0KGIpfX19fX0sSGM9ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkEiLHJlcXVpcmU6Ij9uZ01vZGVsIixsaW5rOmZ1bmN0aW9uKGEsYixkLGMpe2lmKGMpe3ZhciBlPS0xO2QuJG9ic2VydmUoIm1heGxlbmd0aCIsZnVuY3Rpb24oYSl7YT1jYShhKTtlPWlzTmFOKGEpPy0xOmE7Yy4kdmFsaWRhdGUoKX0pO2MuJHZhbGlkYXRvcnMubWF4bGVuZ3RoPWZ1bmN0aW9uKGEsYil7cmV0dXJuIDA+ZXx8Yy4kaXNFbXB0eShiKXx8Yi5sZW5ndGg8PWV9fX19fSxHYz1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiQSIscmVxdWlyZToiP25nTW9kZWwiLGxpbms6ZnVuY3Rpb24oYSxiLGQsYyl7aWYoYyl7dmFyIGU9MDtkLiRvYnNlcnZlKCJtaW5sZW5ndGgiLGZ1bmN0aW9uKGEpe2U9Y2EoYSl8fDA7Yy4kdmFsaWRhdGUoKX0pOwpjLiR2YWxpZGF0b3JzLm1pbmxlbmd0aD1mdW5jdGlvbihhLGIpe3JldHVybiBjLiRpc0VtcHR5KGIpfHxiLmxlbmd0aD49ZX19fX19O1IuYW5ndWxhci5ib290c3RyYXA/Ui5jb25zb2xlJiZjb25zb2xlLmxvZygiV0FSTklORzogVHJpZWQgdG8gbG9hZCBhbmd1bGFyIG1vcmUgdGhhbiBvbmNlLiIpOihoZSgpLGplKGRhKSxkYS5tb2R1bGUoIm5nTG9jYWxlIixbXSxbIiRwcm92aWRlIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2ErPSIiO3ZhciBiPWEuaW5kZXhPZigiLiIpO3JldHVybi0xPT1iPzA6YS5sZW5ndGgtYi0xfWEudmFsdWUoIiRsb2NhbGUiLHtEQVRFVElNRV9GT1JNQVRTOntBTVBNUzpbIkFNIiwiUE0iXSxEQVk6IlN1bmRheSBNb25kYXkgVHVlc2RheSBXZWRuZXNkYXkgVGh1cnNkYXkgRnJpZGF5IFNhdHVyZGF5Ii5zcGxpdCgiICIpLEVSQU5BTUVTOlsiQmVmb3JlIENocmlzdCIsIkFubm8gRG9taW5pIl0sRVJBUzpbIkJDIiwiQUQiXSxGSVJTVERBWU9GV0VFSzo2LApNT05USDoiSmFudWFyeSBGZWJydWFyeSBNYXJjaCBBcHJpbCBNYXkgSnVuZSBKdWx5IEF1Z3VzdCBTZXB0ZW1iZXIgT2N0b2JlciBOb3ZlbWJlciBEZWNlbWJlciIuc3BsaXQoIiAiKSxTSE9SVERBWToiU3VuIE1vbiBUdWUgV2VkIFRodSBGcmkgU2F0Ii5zcGxpdCgiICIpLFNIT1JUTU9OVEg6IkphbiBGZWIgTWFyIEFwciBNYXkgSnVuIEp1bCBBdWcgU2VwIE9jdCBOb3YgRGVjIi5zcGxpdCgiICIpLFNUQU5EQUxPTkVNT05USDoiSmFudWFyeSBGZWJydWFyeSBNYXJjaCBBcHJpbCBNYXkgSnVuZSBKdWx5IEF1Z3VzdCBTZXB0ZW1iZXIgT2N0b2JlciBOb3ZlbWJlciBEZWNlbWJlciIuc3BsaXQoIiAiKSxXRUVLRU5EUkFOR0U6WzUsNl0sZnVsbERhdGU6IkVFRUUsIE1NTU0gZCwgeSIsbG9uZ0RhdGU6Ik1NTU0gZCwgeSIsbWVkaXVtOiJNTU0gZCwgeSBoOm1tOnNzIGEiLG1lZGl1bURhdGU6Ik1NTSBkLCB5IixtZWRpdW1UaW1lOiJoOm1tOnNzIGEiLCJzaG9ydCI6Ik0vZC95eSBoOm1tIGEiLApzaG9ydERhdGU6Ik0vZC95eSIsc2hvcnRUaW1lOiJoOm1tIGEifSxOVU1CRVJfRk9STUFUUzp7Q1VSUkVOQ1lfU1lNOiIkIixERUNJTUFMX1NFUDoiLiIsR1JPVVBfU0VQOiIsIixQQVRURVJOUzpbe2dTaXplOjMsbGdTaXplOjMsbWF4RnJhYzozLG1pbkZyYWM6MCxtaW5JbnQ6MSxuZWdQcmU6Ii0iLG5lZ1N1ZjoiIixwb3NQcmU6IiIscG9zU3VmOiIifSx7Z1NpemU6MyxsZ1NpemU6MyxtYXhGcmFjOjIsbWluRnJhYzoyLG1pbkludDoxLG5lZ1ByZToiLVx1MDBhNCIsbmVnU3VmOiIiLHBvc1ByZToiXHUwMGE0Iixwb3NTdWY6IiJ9XX0saWQ6ImVuLXVzIixsb2NhbGVJRDoiZW5fVVMiLHBsdXJhbENhdDpmdW5jdGlvbihhLGMpe3ZhciBlPWF8MCxmPWM7eD09PWYmJihmPU1hdGgubWluKGIoYSksMykpO01hdGgucG93KDEwLGYpO3JldHVybiAxPT1lJiYwPT1mPyJvbmUiOiJvdGhlciJ9fSl9XSksRChVKS5yZWFkeShmdW5jdGlvbigpe2RlKFUseWMpfSkpfSkod2luZG93LGRvY3VtZW50KTsKIXdpbmRvdy5hbmd1bGFyLiQkY3NwKCkubm9JbmxpbmVTdHlsZSYmd2luZG93LmFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5oZWFkKS5wcmVwZW5kKCc8c3R5bGUgdHlwZT0idGV4dC9jc3MiPkBjaGFyc2V0ICJVVEYtOCI7W25nXFw6Y2xvYWtdLFtuZy1jbG9ha10sW2RhdGEtbmctY2xvYWtdLFt4LW5nLWNsb2FrXSwubmctY2xvYWssLngtbmctY2xvYWssLm5nLWhpZGU6bm90KC5uZy1oaWRlLWFuaW1hdGUpe2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50O31uZ1xcOmZvcm17ZGlzcGxheTpibG9jazt9Lm5nLWFuaW1hdGUtc2hpbXt2aXNpYmlsaXR5OmhpZGRlbjt9Lm5nLWFuY2hvcntwb3NpdGlvbjphYnNvbHV0ZTt9PC9zdHlsZT4nKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5ndWxhci5taW4uanMubWFwCjsKZGVmaW5lKCJhbmd1bGFyIiwgKGZ1bmN0aW9uIChnbG9iYWwpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHJldCwgZm47CiAgICAgICAgcmV0dXJuIHJldCB8fCBnbG9iYWwuYW5ndWxhcjsKICAgIH07Cn0odGhpcykpKTsKCi8qISBqUXVlcnkgdjIuMS40IHwgKGMpIDIwMDUsIDIwMTUgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8KIWZ1bmN0aW9uKGEsYil7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YS5kb2N1bWVudD9iKGEsITApOmZ1bmN0aW9uKGEpe2lmKCFhLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiBiKGEpfTpiKGEpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ9Yy5zbGljZSxlPWMuY29uY2F0LGY9Yy5wdXNoLGc9Yy5pbmRleE9mLGg9e30saT1oLnRvU3RyaW5nLGo9aC5oYXNPd25Qcm9wZXJ0eSxrPXt9LGw9YS5kb2N1bWVudCxtPSIyLjEuNCIsbj1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgbi5mbi5pbml0KGEsYil9LG89L15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nLHA9L14tbXMtLyxxPS8tKFtcZGEtel0pL2dpLHI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50b1VwcGVyQ2FzZSgpfTtuLmZuPW4ucHJvdG90eXBlPXtqcXVlcnk6bSxjb25zdHJ1Y3RvcjpuLHNlbGVjdG9yOiIiLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gZC5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/MD5hP3RoaXNbYSt0aGlzLmxlbmd0aF06dGhpc1thXTpkLmNhbGwodGhpcyl9LHB1c2hTdGFjazpmdW5jdGlvbihhKXt2YXIgYj1uLm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxhKTtyZXR1cm4gYi5wcmV2T2JqZWN0PXRoaXMsYi5jb250ZXh0PXRoaXMuY29udGV4dCxifSxlYWNoOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG4uZWFjaCh0aGlzLGEsYil9LG1hcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobi5tYXAodGhpcyxmdW5jdGlvbihiLGMpe3JldHVybiBhLmNhbGwoYixjLGIpfSkpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhkLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGVxOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubGVuZ3RoLGM9K2ErKDA+YT9iOjApO3JldHVybiB0aGlzLnB1c2hTdGFjayhjPj0wJiZiPmM/W3RoaXNbY11dOltdKX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldk9iamVjdHx8dGhpcy5jb25zdHJ1Y3RvcihudWxsKX0scHVzaDpmLHNvcnQ6Yy5zb3J0LHNwbGljZTpjLnNwbGljZX0sbi5leHRlbmQ9bi5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZz1hcmd1bWVudHNbMF18fHt9LGg9MSxpPWFyZ3VtZW50cy5sZW5ndGgsaj0hMTtmb3IoImJvb2xlYW4iPT10eXBlb2YgZyYmKGo9ZyxnPWFyZ3VtZW50c1toXXx8e30saCsrKSwib2JqZWN0Ij09dHlwZW9mIGd8fG4uaXNGdW5jdGlvbihnKXx8KGc9e30pLGg9PT1pJiYoZz10aGlzLGgtLSk7aT5oO2grKylpZihudWxsIT0oYT1hcmd1bWVudHNbaF0pKWZvcihiIGluIGEpYz1nW2JdLGQ9YVtiXSxnIT09ZCYmKGomJmQmJihuLmlzUGxhaW5PYmplY3QoZCl8fChlPW4uaXNBcnJheShkKSkpPyhlPyhlPSExLGY9YyYmbi5pc0FycmF5KGMpP2M6W10pOmY9YyYmbi5pc1BsYWluT2JqZWN0KGMpP2M6e30sZ1tiXT1uLmV4dGVuZChqLGYsZCkpOnZvaWQgMCE9PWQmJihnW2JdPWQpKTtyZXR1cm4gZ30sbi5leHRlbmQoe2V4cGFuZG86ImpRdWVyeSIrKG0rTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoYSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuImZ1bmN0aW9uIj09PW4udHlwZShhKX0saXNBcnJheTpBcnJheS5pc0FycmF5LGlzV2luZG93OmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZhPT09YS53aW5kb3d9LGlzTnVtZXJpYzpmdW5jdGlvbihhKXtyZXR1cm4hbi5pc0FycmF5KGEpJiZhLXBhcnNlRmxvYXQoYSkrMT49MH0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihhKXtyZXR1cm4ib2JqZWN0IiE9PW4udHlwZShhKXx8YS5ub2RlVHlwZXx8bi5pc1dpbmRvdyhhKT8hMTphLmNvbnN0cnVjdG9yJiYhai5jYWxsKGEuY29uc3RydWN0b3IucHJvdG90eXBlLCJpc1Byb3RvdHlwZU9mIik/ITE6ITB9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI7Zm9yKGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH0sdHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9hKyIiOiJvYmplY3QiPT10eXBlb2YgYXx8ImZ1bmN0aW9uIj09dHlwZW9mIGE/aFtpLmNhbGwoYSldfHwib2JqZWN0Ijp0eXBlb2YgYX0sZ2xvYmFsRXZhbDpmdW5jdGlvbihhKXt2YXIgYixjPWV2YWw7YT1uLnRyaW0oYSksYSYmKDE9PT1hLmluZGV4T2YoInVzZSBzdHJpY3QiKT8oYj1sLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpLGIudGV4dD1hLGwuaGVhZC5hcHBlbmRDaGlsZChiKS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpKTpjKGEpKX0sY2FtZWxDYXNlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UocCwibXMtIikucmVwbGFjZShxLHIpfSxub2RlTmFtZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iLnRvTG93ZXJDYXNlKCl9LGVhY2g6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9MCxmPWEubGVuZ3RoLGc9cyhhKTtpZihjKXtpZihnKXtmb3IoO2Y+ZTtlKyspaWYoZD1iLmFwcGx5KGFbZV0sYyksZD09PSExKWJyZWFrfWVsc2UgZm9yKGUgaW4gYSlpZihkPWIuYXBwbHkoYVtlXSxjKSxkPT09ITEpYnJlYWt9ZWxzZSBpZihnKXtmb3IoO2Y+ZTtlKyspaWYoZD1iLmNhbGwoYVtlXSxlLGFbZV0pLGQ9PT0hMSlicmVha31lbHNlIGZvcihlIGluIGEpaWYoZD1iLmNhbGwoYVtlXSxlLGFbZV0pLGQ9PT0hMSlicmVhaztyZXR1cm4gYX0sdHJpbTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT8iIjooYSsiIikucmVwbGFjZShvLCIiKX0sbWFrZUFycmF5OmZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8W107cmV0dXJuIG51bGwhPWEmJihzKE9iamVjdChhKSk/bi5tZXJnZShjLCJzdHJpbmciPT10eXBlb2YgYT9bYV06YSk6Zi5jYWxsKGMsYSkpLGN9LGluQXJyYXk6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBudWxsPT1iPy0xOmcuY2FsbChiLGEsYyl9LG1lcmdlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPStiLmxlbmd0aCxkPTAsZT1hLmxlbmd0aDtjPmQ7ZCsrKWFbZSsrXT1iW2RdO3JldHVybiBhLmxlbmd0aD1lLGF9LGdyZXA6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZCxlPVtdLGY9MCxnPWEubGVuZ3RoLGg9IWM7Zz5mO2YrKylkPSFiKGFbZl0sZiksZCE9PWgmJmUucHVzaChhW2ZdKTtyZXR1cm4gZX0sbWFwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxmPTAsZz1hLmxlbmd0aCxoPXMoYSksaT1bXTtpZihoKWZvcig7Zz5mO2YrKylkPWIoYVtmXSxmLGMpLG51bGwhPWQmJmkucHVzaChkKTtlbHNlIGZvcihmIGluIGEpZD1iKGFbZl0sZixjKSxudWxsIT1kJiZpLnB1c2goZCk7cmV0dXJuIGUuYXBwbHkoW10saSl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZjtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGImJihjPWFbYl0sYj1hLGE9Yyksbi5pc0Z1bmN0aW9uKGEpPyhlPWQuY2FsbChhcmd1bWVudHMsMiksZj1mdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGJ8fHRoaXMsZS5jb25jYXQoZC5jYWxsKGFyZ3VtZW50cykpKX0sZi5ndWlkPWEuZ3VpZD1hLmd1aWR8fG4uZ3VpZCsrLGYpOnZvaWQgMH0sbm93OkRhdGUubm93LHN1cHBvcnQ6a30pLG4uZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe2hbIltvYmplY3QgIitiKyJdIl09Yi50b0xvd2VyQ2FzZSgpfSk7ZnVuY3Rpb24gcyhhKXt2YXIgYj0ibGVuZ3RoImluIGEmJmEubGVuZ3RoLGM9bi50eXBlKGEpO3JldHVybiJmdW5jdGlvbiI9PT1jfHxuLmlzV2luZG93KGEpPyExOjE9PT1hLm5vZGVUeXBlJiZiPyEwOiJhcnJheSI9PT1jfHwwPT09Ynx8Im51bWJlciI9PXR5cGVvZiBiJiZiPjAmJmItMSBpbiBhfXZhciB0PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHU9InNpenpsZSIrMSpuZXcgRGF0ZSx2PWEuZG9jdW1lbnQsdz0wLHg9MCx5PWhhKCksej1oYSgpLEE9aGEoKSxCPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1iJiYobD0hMCksMH0sQz0xPDwzMSxEPXt9Lmhhc093blByb3BlcnR5LEU9W10sRj1FLnBvcCxHPUUucHVzaCxIPUUucHVzaCxJPUUuc2xpY2UsSj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKylpZihhW2NdPT09YilyZXR1cm4gYztyZXR1cm4tMX0sSz0iY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLEw9IltcXHgyMFxcdFxcclxcblxcZl0iLE09Iig/OlxcXFwufFtcXHctXXxbXlxceDAwLVxceGEwXSkrIixOPU0ucmVwbGFjZSgidyIsIncjIiksTz0iXFxbIitMKyIqKCIrTSsiKSg/OiIrTCsiKihbKl4kfCF+XT89KSIrTCsiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiK04rIikpfCkiK0wrIipcXF0iLFA9IjooIitNKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitPKyIpKil8LiopXFwpfCkiLFE9bmV3IFJlZ0V4cChMKyIrIiwiZyIpLFI9bmV3IFJlZ0V4cCgiXiIrTCsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitMKyIrJCIsImciKSxTPW5ldyBSZWdFeHAoIl4iK0wrIiosIitMKyIqIiksVD1uZXcgUmVnRXhwKCJeIitMKyIqKFs+K35dfCIrTCsiKSIrTCsiKiIpLFU9bmV3IFJlZ0V4cCgiPSIrTCsiKihbXlxcXSdcIl0qPykiK0wrIipcXF0iLCJnIiksVj1uZXcgUmVnRXhwKFApLFc9bmV3IFJlZ0V4cCgiXiIrTisiJCIpLFg9e0lEOm5ldyBSZWdFeHAoIl4jKCIrTSsiKSIpLENMQVNTOm5ldyBSZWdFeHAoIl5cXC4oIitNKyIpIiksVEFHOm5ldyBSZWdFeHAoIl4oIitNLnJlcGxhY2UoInciLCJ3KiIpKyIpIiksQVRUUjpuZXcgUmVnRXhwKCJeIitPKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrUCksQ0hJTEQ6bmV3IFJlZ0V4cCgiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFwoIitMKyIqKGV2ZW58b2RkfCgoWystXXwpKFxcZCopbnwpIitMKyIqKD86KFsrLV18KSIrTCsiKihcXGQrKXwpKSIrTCsiKlxcKXwpIiwiaSIpLGJvb2w6bmV3IFJlZ0V4cCgiXig/OiIrSysiKSQiLCJpIiksbmVlZHNDb250ZXh0Om5ldyBSZWdFeHAoIl4iK0wrIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIrTCsiKigoPzotXFxkKT9cXGQqKSIrTCsiKlxcKXwpKD89W14tXXwkKSIsImkiKX0sWT0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFo9L15oXGQkL2ksJD0vXltee10rXHtccypcW25hdGl2ZSBcdy8sXz0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLGFhPS9bK35dLyxiYT0vJ3xcXC9nLGNhPW5ldyBSZWdFeHAoIlxcXFwoW1xcZGEtZl17MSw2fSIrTCsiP3woIitMKyIpfC4pIiwiaWciKSxkYT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9IjB4IitiLTY1NTM2O3JldHVybiBkIT09ZHx8Yz9iOjA+ZD9TdHJpbmcuZnJvbUNoYXJDb2RlKGQrNjU1MzYpOlN0cmluZy5mcm9tQ2hhckNvZGUoZD4+MTB8NTUyOTYsMTAyMyZkfDU2MzIwKX0sZWE9ZnVuY3Rpb24oKXttKCl9O3RyeXtILmFwcGx5KEU9SS5jYWxsKHYuY2hpbGROb2Rlcyksdi5jaGlsZE5vZGVzKSxFW3YuY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlfWNhdGNoKGZhKXtIPXthcHBseTpFLmxlbmd0aD9mdW5jdGlvbihhLGIpe0cuYXBwbHkoYSxJLmNhbGwoYikpfTpmdW5jdGlvbihhLGIpe3ZhciBjPWEubGVuZ3RoLGQ9MDt3aGlsZShhW2MrK109YltkKytdKTthLmxlbmd0aD1jLTF9fX1mdW5jdGlvbiBnYShhLGIsZCxlKXt2YXIgZixoLGosayxsLG8scixzLHcseDtpZigoYj9iLm93bmVyRG9jdW1lbnR8fGI6dikhPT1uJiZtKGIpLGI9Ynx8bixkPWR8fFtdLGs9Yi5ub2RlVHlwZSwic3RyaW5nIiE9dHlwZW9mIGF8fCFhfHwxIT09ayYmOSE9PWsmJjExIT09aylyZXR1cm4gZDtpZighZSYmcCl7aWYoMTEhPT1rJiYoZj1fLmV4ZWMoYSkpKWlmKGo9ZlsxXSl7aWYoOT09PWspe2lmKGg9Yi5nZXRFbGVtZW50QnlJZChqKSwhaHx8IWgucGFyZW50Tm9kZSlyZXR1cm4gZDtpZihoLmlkPT09ailyZXR1cm4gZC5wdXNoKGgpLGR9ZWxzZSBpZihiLm93bmVyRG9jdW1lbnQmJihoPWIub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChqKSkmJnQoYixoKSYmaC5pZD09PWopcmV0dXJuIGQucHVzaChoKSxkfWVsc2V7aWYoZlsyXSlyZXR1cm4gSC5hcHBseShkLGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSkpLGQ7aWYoKGo9ZlszXSkmJmMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSlyZXR1cm4gSC5hcHBseShkLGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShqKSksZH1pZihjLnFzYSYmKCFxfHwhcS50ZXN0KGEpKSl7aWYocz1yPXUsdz1iLHg9MSE9PWsmJmEsMT09PWsmJiJvYmplY3QiIT09Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXtvPWcoYSksKHI9Yi5nZXRBdHRyaWJ1dGUoImlkIikpP3M9ci5yZXBsYWNlKGJhLCJcXCQmIik6Yi5zZXRBdHRyaWJ1dGUoImlkIixzKSxzPSJbaWQ9JyIrcysiJ10gIixsPW8ubGVuZ3RoO3doaWxlKGwtLSlvW2xdPXMrcmEob1tsXSk7dz1hYS50ZXN0KGEpJiZwYShiLnBhcmVudE5vZGUpfHxiLHg9by5qb2luKCIsIil9aWYoeCl0cnl7cmV0dXJuIEguYXBwbHkoZCx3LnF1ZXJ5U2VsZWN0b3JBbGwoeCkpLGR9Y2F0Y2goeSl7fWZpbmFsbHl7cnx8Yi5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fX1yZXR1cm4gaShhLnJlcGxhY2UoUiwiJDEiKSxiLGQsZSl9ZnVuY3Rpb24gaGEoKXt2YXIgYT1bXTtmdW5jdGlvbiBiKGMsZSl7cmV0dXJuIGEucHVzaChjKyIgIik+ZC5jYWNoZUxlbmd0aCYmZGVsZXRlIGJbYS5zaGlmdCgpXSxiW2MrIiAiXT1lfXJldHVybiBifWZ1bmN0aW9uIGlhKGEpe3JldHVybiBhW3VdPSEwLGF9ZnVuY3Rpb24gamEoYSl7dmFyIGI9bi5jcmVhdGVFbGVtZW50KCJkaXYiKTt0cnl7cmV0dXJuISFhKGIpfWNhdGNoKGMpe3JldHVybiExfWZpbmFsbHl7Yi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksYj1udWxsfX1mdW5jdGlvbiBrYShhLGIpe3ZhciBjPWEuc3BsaXQoInwiKSxlPWEubGVuZ3RoO3doaWxlKGUtLSlkLmF0dHJIYW5kbGVbY1tlXV09Yn1mdW5jdGlvbiBsYShhLGIpe3ZhciBjPWImJmEsZD1jJiYxPT09YS5ub2RlVHlwZSYmMT09PWIubm9kZVR5cGUmJih+Yi5zb3VyY2VJbmRleHx8QyktKH5hLnNvdXJjZUluZGV4fHxDKTtpZihkKXJldHVybiBkO2lmKGMpd2hpbGUoYz1jLm5leHRTaWJsaW5nKWlmKGM9PT1iKXJldHVybi0xO3JldHVybiBhPzE6LTF9ZnVuY3Rpb24gbWEoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YyYmYi50eXBlPT09YX19ZnVuY3Rpb24gbmEoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PWN8fCJidXR0b24iPT09YykmJmIudHlwZT09PWF9fWZ1bmN0aW9uIG9hKGEpe3JldHVybiBpYShmdW5jdGlvbihiKXtyZXR1cm4gYj0rYixpYShmdW5jdGlvbihjLGQpe3ZhciBlLGY9YShbXSxjLmxlbmd0aCxiKSxnPWYubGVuZ3RoO3doaWxlKGctLSljW2U9ZltnXV0mJihjW2VdPSEoZFtlXT1jW2VdKSl9KX0pfWZ1bmN0aW9uIHBhKGEpe3JldHVybiBhJiYidW5kZWZpbmVkIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUmJmF9Yz1nYS5zdXBwb3J0PXt9LGY9Z2EuaXNYTUw9ZnVuY3Rpb24oYSl7dmFyIGI9YSYmKGEub3duZXJEb2N1bWVudHx8YSkuZG9jdW1lbnRFbGVtZW50O3JldHVybiBiPyJIVE1MIiE9PWIubm9kZU5hbWU6ITF9LG09Z2Euc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oYSl7dmFyIGIsZSxnPWE/YS5vd25lckRvY3VtZW50fHxhOnY7cmV0dXJuIGchPT1uJiY5PT09Zy5ub2RlVHlwZSYmZy5kb2N1bWVudEVsZW1lbnQ/KG49ZyxvPWcuZG9jdW1lbnRFbGVtZW50LGU9Zy5kZWZhdWx0VmlldyxlJiZlIT09ZS50b3AmJihlLmFkZEV2ZW50TGlzdGVuZXI/ZS5hZGRFdmVudExpc3RlbmVyKCJ1bmxvYWQiLGVhLCExKTplLmF0dGFjaEV2ZW50JiZlLmF0dGFjaEV2ZW50KCJvbnVubG9hZCIsZWEpKSxwPSFmKGcpLGMuYXR0cmlidXRlcz1qYShmdW5jdGlvbihhKXtyZXR1cm4gYS5jbGFzc05hbWU9ImkiLCFhLmdldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIil9KSxjLmdldEVsZW1lbnRzQnlUYWdOYW1lPWphKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFwcGVuZENoaWxkKGcuY3JlYXRlQ29tbWVudCgiIikpLCFhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSksYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPSQudGVzdChnLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpLGMuZ2V0QnlJZD1qYShmdW5jdGlvbihhKXtyZXR1cm4gby5hcHBlbmRDaGlsZChhKS5pZD11LCFnLmdldEVsZW1lbnRzQnlOYW1lfHwhZy5nZXRFbGVtZW50c0J5TmFtZSh1KS5sZW5ndGh9KSxjLmdldEJ5SWQ/KGQuZmluZC5JRD1mdW5jdGlvbihhLGIpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgYi5nZXRFbGVtZW50QnlJZCYmcCl7dmFyIGM9Yi5nZXRFbGVtZW50QnlJZChhKTtyZXR1cm4gYyYmYy5wYXJlbnROb2RlP1tjXTpbXX19LGQuZmlsdGVyLklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShjYSxkYSk7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZSgiaWQiKT09PWJ9fSk6KGRlbGV0ZSBkLmZpbmQuSUQsZC5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKGNhLGRhKTtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGM9InVuZGVmaW5lZCIhPXR5cGVvZiBhLmdldEF0dHJpYnV0ZU5vZGUmJmEuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gYyYmYy52YWx1ZT09PWJ9fSksZC5maW5kLlRBRz1jLmdldEVsZW1lbnRzQnlUYWdOYW1lP2Z1bmN0aW9uKGEsYil7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlUYWdOYW1lP2IuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk6Yy5xc2E/Yi5xdWVyeVNlbGVjdG9yQWxsKGEpOnZvaWQgMH06ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9MCxmPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk7aWYoIioiPT09YSl7d2hpbGUoYz1mW2UrK10pMT09PWMubm9kZVR5cGUmJmQucHVzaChjKTtyZXR1cm4gZH1yZXR1cm4gZn0sZC5maW5kLkNMQVNTPWMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZnVuY3Rpb24oYSxiKXtyZXR1cm4gcD9iLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYSk6dm9pZCAwfSxyPVtdLHE9W10sKGMucXNhPSQudGVzdChnLnF1ZXJ5U2VsZWN0b3JBbGwpKSYmKGphKGZ1bmN0aW9uKGEpe28uYXBwZW5kQ2hpbGQoYSkuaW5uZXJIVE1MPSI8YSBpZD0nIit1KyInPjwvYT48c2VsZWN0IGlkPSciK3UrIi1cZl0nIG1zYWxsb3djYXB0dXJlPScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+IixhLnF1ZXJ5U2VsZWN0b3JBbGwoIlttc2FsbG93Y2FwdHVyZV49JyddIikubGVuZ3RoJiZxLnB1c2goIlsqXiRdPSIrTCsiKig/OicnfFwiXCIpIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJbc2VsZWN0ZWRdIikubGVuZ3RofHxxLnB1c2goIlxcWyIrTCsiKig/OnZhbHVlfCIrSysiKSIpLGEucXVlcnlTZWxlY3RvckFsbCgiW2lkfj0iK3UrIi1dIikubGVuZ3RofHxxLnB1c2goIn49IiksYS5xdWVyeVNlbGVjdG9yQWxsKCI6Y2hlY2tlZCIpLmxlbmd0aHx8cS5wdXNoKCI6Y2hlY2tlZCIpLGEucXVlcnlTZWxlY3RvckFsbCgiYSMiK3UrIisqIikubGVuZ3RofHxxLnB1c2goIi4jLitbK35dIil9KSxqYShmdW5jdGlvbihhKXt2YXIgYj1nLmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7Yi5zZXRBdHRyaWJ1dGUoInR5cGUiLCJoaWRkZW4iKSxhLmFwcGVuZENoaWxkKGIpLnNldEF0dHJpYnV0ZSgibmFtZSIsIkQiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIltuYW1lPWRdIikubGVuZ3RoJiZxLnB1c2goIm5hbWUiK0wrIipbKl4kfCF+XT89IiksYS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aHx8cS5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLGEucXVlcnlTZWxlY3RvckFsbCgiKiw6eCIpLHEucHVzaCgiLC4qOiIpfSkpLChjLm1hdGNoZXNTZWxlY3Rvcj0kLnRlc3Qocz1vLm1hdGNoZXN8fG8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxvLm1vek1hdGNoZXNTZWxlY3Rvcnx8by5vTWF0Y2hlc1NlbGVjdG9yfHxvLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJmphKGZ1bmN0aW9uKGEpe2MuZGlzY29ubmVjdGVkTWF0Y2g9cy5jYWxsKGEsImRpdiIpLHMuY2FsbChhLCJbcyE9JyddOngiKSxyLnB1c2goIiE9IixQKX0pLHE9cS5sZW5ndGgmJm5ldyBSZWdFeHAocS5qb2luKCJ8IikpLHI9ci5sZW5ndGgmJm5ldyBSZWdFeHAoci5qb2luKCJ8IikpLGI9JC50ZXN0KG8uY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHQ9Ynx8JC50ZXN0KG8uY29udGFpbnMpP2Z1bmN0aW9uKGEsYil7dmFyIGM9OT09PWEubm9kZVR5cGU/YS5kb2N1bWVudEVsZW1lbnQ6YSxkPWImJmIucGFyZW50Tm9kZTtyZXR1cm4gYT09PWR8fCEoIWR8fDEhPT1kLm5vZGVUeXBlfHwhKGMuY29udGFpbnM/Yy5jb250YWlucyhkKTphLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGQpKSl9OmZ1bmN0aW9uKGEsYil7aWYoYil3aGlsZShiPWIucGFyZW50Tm9kZSlpZihiPT09YSlyZXR1cm4hMDtyZXR1cm4hMX0sQj1iP2Z1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGw9ITAsMDt2YXIgZD0hYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gZD9kOihkPShhLm93bmVyRG9jdW1lbnR8fGEpPT09KGIub3duZXJEb2N1bWVudHx8Yik/YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKToxLDEmZHx8IWMuc29ydERldGFjaGVkJiZiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGEpPT09ZD9hPT09Z3x8YS5vd25lckRvY3VtZW50PT09diYmdCh2LGEpPy0xOmI9PT1nfHxiLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYik/MTprP0ooayxhKS1KKGssYik6MDo0JmQ/LTE6MSl9OmZ1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGw9ITAsMDt2YXIgYyxkPTAsZT1hLnBhcmVudE5vZGUsZj1iLnBhcmVudE5vZGUsaD1bYV0saT1bYl07aWYoIWV8fCFmKXJldHVybiBhPT09Zz8tMTpiPT09Zz8xOmU/LTE6Zj8xOms/SihrLGEpLUooayxiKTowO2lmKGU9PT1mKXJldHVybiBsYShhLGIpO2M9YTt3aGlsZShjPWMucGFyZW50Tm9kZSloLnVuc2hpZnQoYyk7Yz1iO3doaWxlKGM9Yy5wYXJlbnROb2RlKWkudW5zaGlmdChjKTt3aGlsZShoW2RdPT09aVtkXSlkKys7cmV0dXJuIGQ/bGEoaFtkXSxpW2RdKTpoW2RdPT09dj8tMTppW2RdPT09dj8xOjB9LGcpOm59LGdhLm1hdGNoZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZ2EoYSxudWxsLG51bGwsYil9LGdhLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihhLGIpe2lmKChhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSxiPWIucmVwbGFjZShVLCI9JyQxJ10iKSwhKCFjLm1hdGNoZXNTZWxlY3Rvcnx8IXB8fHImJnIudGVzdChiKXx8cSYmcS50ZXN0KGIpKSl0cnl7dmFyIGQ9cy5jYWxsKGEsYik7aWYoZHx8Yy5kaXNjb25uZWN0ZWRNYXRjaHx8YS5kb2N1bWVudCYmMTEhPT1hLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiBkfWNhdGNoKGUpe31yZXR1cm4gZ2EoYixuLG51bGwsW2FdKS5sZW5ndGg+MH0sZ2EuY29udGFpbnM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4oYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSksdChhLGIpfSxnYS5hdHRyPWZ1bmN0aW9uKGEsYil7KGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpO3ZhciBlPWQuYXR0ckhhbmRsZVtiLnRvTG93ZXJDYXNlKCldLGY9ZSYmRC5jYWxsKGQuYXR0ckhhbmRsZSxiLnRvTG93ZXJDYXNlKCkpP2UoYSxiLCFwKTp2b2lkIDA7cmV0dXJuIHZvaWQgMCE9PWY/ZjpjLmF0dHJpYnV0ZXN8fCFwP2EuZ2V0QXR0cmlidXRlKGIpOihmPWEuZ2V0QXR0cmlidXRlTm9kZShiKSkmJmYuc3BlY2lmaWVkP2YudmFsdWU6bnVsbH0sZ2EuZXJyb3I9ZnVuY3Rpb24oYSl7dGhyb3cgbmV3IEVycm9yKCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiK2EpfSxnYS51bmlxdWVTb3J0PWZ1bmN0aW9uKGEpe3ZhciBiLGQ9W10sZT0wLGY9MDtpZihsPSFjLmRldGVjdER1cGxpY2F0ZXMsaz0hYy5zb3J0U3RhYmxlJiZhLnNsaWNlKDApLGEuc29ydChCKSxsKXt3aGlsZShiPWFbZisrXSliPT09YVtmXSYmKGU9ZC5wdXNoKGYpKTt3aGlsZShlLS0pYS5zcGxpY2UoZFtlXSwxKX1yZXR1cm4gaz1udWxsLGF9LGU9Z2EuZ2V0VGV4dD1mdW5jdGlvbihhKXt2YXIgYixjPSIiLGQ9MCxmPWEubm9kZVR5cGU7aWYoZil7aWYoMT09PWZ8fDk9PT1mfHwxMT09PWYpe2lmKCJzdHJpbmciPT10eXBlb2YgYS50ZXh0Q29udGVudClyZXR1cm4gYS50ZXh0Q29udGVudDtmb3IoYT1hLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpYys9ZShhKX1lbHNlIGlmKDM9PT1mfHw0PT09ZilyZXR1cm4gYS5ub2RlVmFsdWV9ZWxzZSB3aGlsZShiPWFbZCsrXSljKz1lKGIpO3JldHVybiBjfSxkPWdhLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmlhLG1hdGNoOlgsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sIisiOntkaXI6InByZXZpb3VzU2libGluZyIsZmlyc3Q6ITB9LCJ+Ijp7ZGlyOiJwcmV2aW91c1NpYmxpbmcifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPWFbMV0ucmVwbGFjZShjYSxkYSksYVszXT0oYVszXXx8YVs0XXx8YVs1XXx8IiIpLnJlcGxhY2UoY2EsZGEpLCJ+PSI9PT1hWzJdJiYoYVszXT0iICIrYVszXSsiICIpLGEuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbMV09YVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09YVsxXS5zbGljZSgwLDMpPyhhWzNdfHxnYS5lcnJvcihhWzBdKSxhWzRdPSsoYVs0XT9hWzVdKyhhWzZdfHwxKToyKigiZXZlbiI9PT1hWzNdfHwib2RkIj09PWFbM10pKSxhWzVdPSsoYVs3XSthWzhdfHwib2RkIj09PWFbM10pKTphWzNdJiZnYS5lcnJvcihhWzBdKSxhfSxQU0VVRE86ZnVuY3Rpb24oYSl7dmFyIGIsYz0hYVs2XSYmYVsyXTtyZXR1cm4gWC5DSElMRC50ZXN0KGFbMF0pP251bGw6KGFbM10/YVsyXT1hWzRdfHxhWzVdfHwiIjpjJiZWLnRlc3QoYykmJihiPWcoYywhMCkpJiYoYj1jLmluZGV4T2YoIikiLGMubGVuZ3RoLWIpLWMubGVuZ3RoKSYmKGFbMF09YVswXS5zbGljZSgwLGIpLGFbMl09Yy5zbGljZSgwLGIpKSxhLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKGNhLGRhKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PWE/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWJ9fSxDTEFTUzpmdW5jdGlvbihhKXt2YXIgYj15W2ErIiAiXTtyZXR1cm4gYnx8KGI9bmV3IFJlZ0V4cCgiKF58IitMKyIpIithKyIoIitMKyJ8JCkiKSkmJnkoYSxmdW5jdGlvbihhKXtyZXR1cm4gYi50ZXN0KCJzdHJpbmciPT10eXBlb2YgYS5jbGFzc05hbWUmJmEuY2xhc3NOYW1lfHwidW5kZWZpbmVkIiE9dHlwZW9mIGEuZ2V0QXR0cmlidXRlJiZhLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSl9LEFUVFI6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmdW5jdGlvbihkKXt2YXIgZT1nYS5hdHRyKGQsYSk7cmV0dXJuIG51bGw9PWU/IiE9Ij09PWI6Yj8oZSs9IiIsIj0iPT09Yj9lPT09YzoiIT0iPT09Yj9lIT09YzoiXj0iPT09Yj9jJiYwPT09ZS5pbmRleE9mKGMpOiIqPSI9PT1iP2MmJmUuaW5kZXhPZihjKT4tMToiJD0iPT09Yj9jJiZlLnNsaWNlKC1jLmxlbmd0aCk9PT1jOiJ+PSI9PT1iPygiICIrZS5yZXBsYWNlKFEsIiAiKSsiICIpLmluZGV4T2YoYyk+LTE6Inw9Ij09PWI/ZT09PWN8fGUuc2xpY2UoMCxjLmxlbmd0aCsxKT09PWMrIi0iOiExKTohMH19LENISUxEOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9Im50aCIhPT1hLnNsaWNlKDAsMyksZz0ibGFzdCIhPT1hLnNsaWNlKC00KSxoPSJvZi10eXBlIj09PWI7cmV0dXJuIDE9PT1kJiYwPT09ZT9mdW5jdGlvbihhKXtyZXR1cm4hIWEucGFyZW50Tm9kZX06ZnVuY3Rpb24oYixjLGkpe3ZhciBqLGssbCxtLG4sbyxwPWYhPT1nPyJuZXh0U2libGluZyI6InByZXZpb3VzU2libGluZyIscT1iLnBhcmVudE5vZGUscj1oJiZiLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkscz0haSYmIWg7aWYocSl7aWYoZil7d2hpbGUocCl7bD1iO3doaWxlKGw9bFtwXSlpZihoP2wubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PWwubm9kZVR5cGUpcmV0dXJuITE7bz1wPSJvbmx5Ij09PWEmJiFvJiYibmV4dFNpYmxpbmcifXJldHVybiEwfWlmKG89W2c/cS5maXJzdENoaWxkOnEubGFzdENoaWxkXSxnJiZzKXtrPXFbdV18fChxW3VdPXt9KSxqPWtbYV18fFtdLG49alswXT09PXcmJmpbMV0sbT1qWzBdPT09dyYmalsyXSxsPW4mJnEuY2hpbGROb2Rlc1tuXTt3aGlsZShsPSsrbiYmbCYmbFtwXXx8KG09bj0wKXx8by5wb3AoKSlpZigxPT09bC5ub2RlVHlwZSYmKyttJiZsPT09Yil7a1thXT1bdyxuLG1dO2JyZWFrfX1lbHNlIGlmKHMmJihqPShiW3VdfHwoYlt1XT17fSkpW2FdKSYmalswXT09PXcpbT1qWzFdO2Vsc2Ugd2hpbGUobD0rK24mJmwmJmxbcF18fChtPW49MCl8fG8ucG9wKCkpaWYoKGg/bC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09cjoxPT09bC5ub2RlVHlwZSkmJisrbSYmKHMmJigobFt1XXx8KGxbdV09e30pKVthXT1bdyxtXSksbD09PWIpKWJyZWFrO3JldHVybiBtLT1lLG09PT1kfHxtJWQ9PT0wJiZtL2Q+PTB9fX0sUFNFVURPOmZ1bmN0aW9uKGEsYil7dmFyIGMsZT1kLnBzZXVkb3NbYV18fGQuc2V0RmlsdGVyc1thLnRvTG93ZXJDYXNlKCldfHxnYS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2EpO3JldHVybiBlW3VdP2UoYik6ZS5sZW5ndGg+MT8oYz1bYSxhLCIiLGJdLGQuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShhLnRvTG93ZXJDYXNlKCkpP2lhKGZ1bmN0aW9uKGEsYyl7dmFyIGQsZj1lKGEsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pZD1KKGEsZltnXSksYVtkXT0hKGNbZF09ZltnXSl9KTpmdW5jdGlvbihhKXtyZXR1cm4gZShhLDAsYyl9KTplfX0scHNldWRvczp7bm90OmlhKGZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9W10sZD1oKGEucmVwbGFjZShSLCIkMSIpKTtyZXR1cm4gZFt1XT9pYShmdW5jdGlvbihhLGIsYyxlKXt2YXIgZixnPWQoYSxudWxsLGUsW10pLGg9YS5sZW5ndGg7d2hpbGUoaC0tKShmPWdbaF0pJiYoYVtoXT0hKGJbaF09ZikpfSk6ZnVuY3Rpb24oYSxlLGYpe3JldHVybiBiWzBdPWEsZChiLG51bGwsZixjKSxiWzBdPW51bGwsIWMucG9wKCl9fSksaGFzOmlhKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gZ2EoYSxiKS5sZW5ndGg+MH19KSxjb250YWluczppYShmdW5jdGlvbihhKXtyZXR1cm4gYT1hLnJlcGxhY2UoY2EsZGEpLGZ1bmN0aW9uKGIpe3JldHVybihiLnRleHRDb250ZW50fHxiLmlubmVyVGV4dHx8ZShiKSkuaW5kZXhPZihhKT4tMX19KSxsYW5nOmlhKGZ1bmN0aW9uKGEpe3JldHVybiBXLnRlc3QoYXx8IiIpfHxnYS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIithKSxhPWEucmVwbGFjZShjYSxkYSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihiKXt2YXIgYztkbyBpZihjPXA/Yi5sYW5nOmIuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxiLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybiBjPWMudG9Mb3dlckNhc2UoKSxjPT09YXx8MD09PWMuaW5kZXhPZihhKyItIik7d2hpbGUoKGI9Yi5wYXJlbnROb2RlKSYmMT09PWIubm9kZVR5cGUpO3JldHVybiExfX0pLHRhcmdldDpmdW5jdGlvbihiKXt2YXIgYz1hLmxvY2F0aW9uJiZhLmxvY2F0aW9uLmhhc2g7cmV0dXJuIGMmJmMuc2xpY2UoMSk9PT1iLmlkfSxyb290OmZ1bmN0aW9uKGEpe3JldHVybiBhPT09b30sZm9jdXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1uLmFjdGl2ZUVsZW1lbnQmJighbi5oYXNGb2N1c3x8bi5oYXNGb2N1cygpKSYmISEoYS50eXBlfHxhLmhyZWZ8fH5hLnRhYkluZGV4KX0sZW5hYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSExfSxkaXNhYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSEwfSxjaGVja2VkOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YiYmISFhLmNoZWNrZWR8fCJvcHRpb24iPT09YiYmISFhLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxhLnNlbGVjdGVkPT09ITB9LGVtcHR5OmZ1bmN0aW9uKGEpe2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylpZihhLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihhKXtyZXR1cm4hZC5wc2V1ZG9zLmVtcHR5KGEpfSxoZWFkZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIFoudGVzdChhLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFkudGVzdChhLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YiYmImJ1dHRvbiI9PT1hLnR5cGV8fCJidXR0b24iPT09Yn0sdGV4dDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4iaW5wdXQiPT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYidGV4dCI9PT1hLnR5cGUmJihudWxsPT0oYj1hLmdldEF0dHJpYnV0ZSgidHlwZSIpKXx8InRleHQiPT09Yi50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6b2EoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0Om9hKGZ1bmN0aW9uKGEsYil7cmV0dXJuW2ItMV19KSxlcTpvYShmdW5jdGlvbihhLGIsYyl7cmV0dXJuWzA+Yz9jK2I6Y119KSxldmVuOm9hKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yj5jO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksb2RkOm9hKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTE7Yj5jO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksbHQ6b2EoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wPmM/YytiOmM7LS1kPj0wOylhLnB1c2goZCk7cmV0dXJuIGF9KSxndDpvYShmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA+Yz9jK2I6YzsrK2Q8YjspYS5wdXNoKGQpO3JldHVybiBhfSl9fSxkLnBzZXVkb3MubnRoPWQucHNldWRvcy5lcTtmb3IoYiBpbntyYWRpbzohMCxjaGVja2JveDohMCxmaWxlOiEwLHBhc3N3b3JkOiEwLGltYWdlOiEwfSlkLnBzZXVkb3NbYl09bWEoYik7Zm9yKGIgaW57c3VibWl0OiEwLHJlc2V0OiEwfSlkLnBzZXVkb3NbYl09bmEoYik7ZnVuY3Rpb24gcWEoKXt9cWEucHJvdG90eXBlPWQuZmlsdGVycz1kLnBzZXVkb3MsZC5zZXRGaWx0ZXJzPW5ldyBxYSxnPWdhLnRva2VuaXplPWZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGcsaCxpLGosaz16W2ErIiAiXTtpZihrKXJldHVybiBiPzA6ay5zbGljZSgwKTtoPWEsaT1bXSxqPWQucHJlRmlsdGVyO3doaWxlKGgpeyghY3x8KGU9Uy5leGVjKGgpKSkmJihlJiYoaD1oLnNsaWNlKGVbMF0ubGVuZ3RoKXx8aCksaS5wdXNoKGY9W10pKSxjPSExLChlPVQuZXhlYyhoKSkmJihjPWUuc2hpZnQoKSxmLnB1c2goe3ZhbHVlOmMsdHlwZTplWzBdLnJlcGxhY2UoUiwiICIpfSksaD1oLnNsaWNlKGMubGVuZ3RoKSk7Zm9yKGcgaW4gZC5maWx0ZXIpIShlPVhbZ10uZXhlYyhoKSl8fGpbZ10mJiEoZT1qW2ddKGUpKXx8KGM9ZS5zaGlmdCgpLGYucHVzaCh7dmFsdWU6Yyx0eXBlOmcsbWF0Y2hlczplfSksaD1oLnNsaWNlKGMubGVuZ3RoKSk7aWYoIWMpYnJlYWt9cmV0dXJuIGI/aC5sZW5ndGg6aD9nYS5lcnJvcihhKTp6KGEsaSkuc2xpY2UoMCl9O2Z1bmN0aW9uIHJhKGEpe2Zvcih2YXIgYj0wLGM9YS5sZW5ndGgsZD0iIjtjPmI7YisrKWQrPWFbYl0udmFsdWU7cmV0dXJuIGR9ZnVuY3Rpb24gc2EoYSxiLGMpe3ZhciBkPWIuZGlyLGU9YyYmInBhcmVudE5vZGUiPT09ZCxmPXgrKztyZXR1cm4gYi5maXJzdD9mdW5jdGlvbihiLGMsZil7d2hpbGUoYj1iW2RdKWlmKDE9PT1iLm5vZGVUeXBlfHxlKXJldHVybiBhKGIsYyxmKX06ZnVuY3Rpb24oYixjLGcpe3ZhciBoLGksaj1bdyxmXTtpZihnKXt3aGlsZShiPWJbZF0paWYoKDE9PT1iLm5vZGVUeXBlfHxlKSYmYShiLGMsZykpcmV0dXJuITB9ZWxzZSB3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGUpe2lmKGk9Ylt1XXx8KGJbdV09e30pLChoPWlbZF0pJiZoWzBdPT09dyYmaFsxXT09PWYpcmV0dXJuIGpbMl09aFsyXTtpZihpW2RdPWosalsyXT1hKGIsYyxnKSlyZXR1cm4hMH19fWZ1bmN0aW9uIHRhKGEpe3JldHVybiBhLmxlbmd0aD4xP2Z1bmN0aW9uKGIsYyxkKXt2YXIgZT1hLmxlbmd0aDt3aGlsZShlLS0paWYoIWFbZV0oYixjLGQpKXJldHVybiExO3JldHVybiEwfTphWzBdfWZ1bmN0aW9uIHVhKGEsYixjKXtmb3IodmFyIGQ9MCxlPWIubGVuZ3RoO2U+ZDtkKyspZ2EoYSxiW2RdLGMpO3JldHVybiBjfWZ1bmN0aW9uIHZhKGEsYixjLGQsZSl7Zm9yKHZhciBmLGc9W10saD0wLGk9YS5sZW5ndGgsaj1udWxsIT1iO2k+aDtoKyspKGY9YVtoXSkmJighY3x8YyhmLGQsZSkpJiYoZy5wdXNoKGYpLGomJmIucHVzaChoKSk7cmV0dXJuIGd9ZnVuY3Rpb24gd2EoYSxiLGMsZCxlLGYpe3JldHVybiBkJiYhZFt1XSYmKGQ9d2EoZCkpLGUmJiFlW3VdJiYoZT13YShlLGYpKSxpYShmdW5jdGlvbihmLGcsaCxpKXt2YXIgaixrLGwsbT1bXSxuPVtdLG89Zy5sZW5ndGgscD1mfHx1YShifHwiKiIsaC5ub2RlVHlwZT9baF06aCxbXSkscT0hYXx8IWYmJmI/cDp2YShwLG0sYSxoLGkpLHI9Yz9lfHwoZj9hOm98fGQpP1tdOmc6cTtpZihjJiZjKHEscixoLGkpLGQpe2o9dmEocixuKSxkKGosW10saCxpKSxrPWoubGVuZ3RoO3doaWxlKGstLSkobD1qW2tdKSYmKHJbbltrXV09IShxW25ba11dPWwpKX1pZihmKXtpZihlfHxhKXtpZihlKXtqPVtdLGs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiZqLnB1c2gocVtrXT1sKTtlKG51bGwscj1bXSxqLGkpfWs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiYoaj1lP0ooZixsKTptW2tdKT4tMSYmKGZbal09IShnW2pdPWwpKX19ZWxzZSByPXZhKHI9PT1nP3Iuc3BsaWNlKG8sci5sZW5ndGgpOnIpLGU/ZShudWxsLGcscixpKTpILmFwcGx5KGcscil9KX1mdW5jdGlvbiB4YShhKXtmb3IodmFyIGIsYyxlLGY9YS5sZW5ndGgsZz1kLnJlbGF0aXZlW2FbMF0udHlwZV0saD1nfHxkLnJlbGF0aXZlWyIgIl0saT1nPzE6MCxrPXNhKGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yn0saCwhMCksbD1zYShmdW5jdGlvbihhKXtyZXR1cm4gSihiLGEpPi0xfSxoLCEwKSxtPVtmdW5jdGlvbihhLGMsZCl7dmFyIGU9IWcmJihkfHxjIT09ail8fCgoYj1jKS5ub2RlVHlwZT9rKGEsYyxkKTpsKGEsYyxkKSk7cmV0dXJuIGI9bnVsbCxlfV07Zj5pO2krKylpZihjPWQucmVsYXRpdmVbYVtpXS50eXBlXSltPVtzYSh0YShtKSxjKV07ZWxzZXtpZihjPWQuZmlsdGVyW2FbaV0udHlwZV0uYXBwbHkobnVsbCxhW2ldLm1hdGNoZXMpLGNbdV0pe2ZvcihlPSsraTtmPmU7ZSsrKWlmKGQucmVsYXRpdmVbYVtlXS50eXBlXSlicmVhaztyZXR1cm4gd2EoaT4xJiZ0YShtKSxpPjEmJnJhKGEuc2xpY2UoMCxpLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09YVtpLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoUiwiJDEiKSxjLGU+aSYmeGEoYS5zbGljZShpLGUpKSxmPmUmJnhhKGE9YS5zbGljZShlKSksZj5lJiZyYShhKSl9bS5wdXNoKGMpfXJldHVybiB0YShtKX1mdW5jdGlvbiB5YShhLGIpe3ZhciBjPWIubGVuZ3RoPjAsZT1hLmxlbmd0aD4wLGY9ZnVuY3Rpb24oZixnLGgsaSxrKXt2YXIgbCxtLG8scD0wLHE9IjAiLHI9ZiYmW10scz1bXSx0PWosdT1mfHxlJiZkLmZpbmQuVEFHKCIqIixrKSx2PXcrPW51bGw9PXQ/MTpNYXRoLnJhbmRvbSgpfHwuMSx4PXUubGVuZ3RoO2ZvcihrJiYoaj1nIT09biYmZyk7cSE9PXgmJm51bGwhPShsPXVbcV0pO3ErKyl7aWYoZSYmbCl7bT0wO3doaWxlKG89YVttKytdKWlmKG8obCxnLGgpKXtpLnB1c2gobCk7YnJlYWt9ayYmKHc9dil9YyYmKChsPSFvJiZsKSYmcC0tLGYmJnIucHVzaChsKSl9aWYocCs9cSxjJiZxIT09cCl7bT0wO3doaWxlKG89YlttKytdKW8ocixzLGcsaCk7aWYoZil7aWYocD4wKXdoaWxlKHEtLSlyW3FdfHxzW3FdfHwoc1txXT1GLmNhbGwoaSkpO3M9dmEocyl9SC5hcHBseShpLHMpLGsmJiFmJiZzLmxlbmd0aD4wJiZwK2IubGVuZ3RoPjEmJmdhLnVuaXF1ZVNvcnQoaSl9cmV0dXJuIGsmJih3PXYsaj10KSxyfTtyZXR1cm4gYz9pYShmKTpmfXJldHVybiBoPWdhLmNvbXBpbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9W10sZj1BW2ErIiAiXTtpZighZil7Ynx8KGI9ZyhhKSksYz1iLmxlbmd0aDt3aGlsZShjLS0pZj14YShiW2NdKSxmW3VdP2QucHVzaChmKTplLnB1c2goZik7Zj1BKGEseWEoZSxkKSksZi5zZWxlY3Rvcj1hfXJldHVybiBmfSxpPWdhLnNlbGVjdD1mdW5jdGlvbihhLGIsZSxmKXt2YXIgaSxqLGssbCxtLG49ImZ1bmN0aW9uIj09dHlwZW9mIGEmJmEsbz0hZiYmZyhhPW4uc2VsZWN0b3J8fGEpO2lmKGU9ZXx8W10sMT09PW8ubGVuZ3RoKXtpZihqPW9bMF09b1swXS5zbGljZSgwKSxqLmxlbmd0aD4yJiYiSUQiPT09KGs9alswXSkudHlwZSYmYy5nZXRCeUlkJiY5PT09Yi5ub2RlVHlwZSYmcCYmZC5yZWxhdGl2ZVtqWzFdLnR5cGVdKXtpZihiPShkLmZpbmQuSUQoay5tYXRjaGVzWzBdLnJlcGxhY2UoY2EsZGEpLGIpfHxbXSlbMF0sIWIpcmV0dXJuIGU7biYmKGI9Yi5wYXJlbnROb2RlKSxhPWEuc2xpY2Uoai5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1YLm5lZWRzQ29udGV4dC50ZXN0KGEpPzA6ai5sZW5ndGg7d2hpbGUoaS0tKXtpZihrPWpbaV0sZC5yZWxhdGl2ZVtsPWsudHlwZV0pYnJlYWs7aWYoKG09ZC5maW5kW2xdKSYmKGY9bShrLm1hdGNoZXNbMF0ucmVwbGFjZShjYSxkYSksYWEudGVzdChqWzBdLnR5cGUpJiZwYShiLnBhcmVudE5vZGUpfHxiKSkpe2lmKGouc3BsaWNlKGksMSksYT1mLmxlbmd0aCYmcmEoaiksIWEpcmV0dXJuIEguYXBwbHkoZSxmKSxlO2JyZWFrfX19cmV0dXJuKG58fGgoYSxvKSkoZixiLCFwLGUsYWEudGVzdChhKSYmcGEoYi5wYXJlbnROb2RlKXx8YiksZX0sYy5zb3J0U3RhYmxlPXUuc3BsaXQoIiIpLnNvcnQoQikuam9pbigiIik9PT11LGMuZGV0ZWN0RHVwbGljYXRlcz0hIWwsbSgpLGMuc29ydERldGFjaGVkPWphKGZ1bmN0aW9uKGEpe3JldHVybiAxJmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24obi5jcmVhdGVFbGVtZW50KCJkaXYiKSl9KSxqYShmdW5jdGlvbihhKXtyZXR1cm4gYS5pbm5lckhUTUw9IjxhIGhyZWY9JyMnPjwvYT4iLCIjIj09PWEuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKX0pfHxrYSgidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjP3ZvaWQgMDphLmdldEF0dHJpYnV0ZShiLCJ0eXBlIj09PWIudG9Mb3dlckNhc2UoKT8xOjIpfSksYy5hdHRyaWJ1dGVzJiZqYShmdW5jdGlvbihhKXtyZXR1cm4gYS5pbm5lckhUTUw9IjxpbnB1dC8+IixhLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIiIpLCIiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgidmFsdWUiKX0pfHxrYSgidmFsdWUiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gY3x8ImlucHV0IiE9PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT92b2lkIDA6YS5kZWZhdWx0VmFsdWV9KSxqYShmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YS5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIil9KXx8a2EoSyxmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGM/dm9pZCAwOmFbYl09PT0hMD9iLnRvTG93ZXJDYXNlKCk6KGQ9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZC5zcGVjaWZpZWQ/ZC52YWx1ZTpudWxsfSksZ2F9KGEpO24uZmluZD10LG4uZXhwcj10LnNlbGVjdG9ycyxuLmV4cHJbIjoiXT1uLmV4cHIucHNldWRvcyxuLnVuaXF1ZT10LnVuaXF1ZVNvcnQsbi50ZXh0PXQuZ2V0VGV4dCxuLmlzWE1MRG9jPXQuaXNYTUwsbi5jb250YWlucz10LmNvbnRhaW5zO3ZhciB1PW4uZXhwci5tYXRjaC5uZWVkc0NvbnRleHQsdj0vXjwoXHcrKVxzKlwvPz4oPzo8XC9cMT58KSQvLHc9L14uW146I1xbXC4sXSokLztmdW5jdGlvbiB4KGEsYixjKXtpZihuLmlzRnVuY3Rpb24oYikpcmV0dXJuIG4uZ3JlcChhLGZ1bmN0aW9uKGEsZCl7cmV0dXJuISFiLmNhbGwoYSxkLGEpIT09Y30pO2lmKGIubm9kZVR5cGUpcmV0dXJuIG4uZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBhPT09YiE9PWN9KTtpZigic3RyaW5nIj09dHlwZW9mIGIpe2lmKHcudGVzdChiKSlyZXR1cm4gbi5maWx0ZXIoYixhLGMpO2I9bi5maWx0ZXIoYixhKX1yZXR1cm4gbi5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGcuY2FsbChiLGEpPj0wIT09Y30pfW4uZmlsdGVyPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1iWzBdO3JldHVybiBjJiYoYT0iOm5vdCgiK2ErIikiKSwxPT09Yi5sZW5ndGgmJjE9PT1kLm5vZGVUeXBlP24uZmluZC5tYXRjaGVzU2VsZWN0b3IoZCxhKT9bZF06W106bi5maW5kLm1hdGNoZXMoYSxuLmdyZXAoYixmdW5jdGlvbihhKXtyZXR1cm4gMT09PWEubm9kZVR5cGV9KSl9LG4uZm4uZXh0ZW5kKHtmaW5kOmZ1bmN0aW9uKGEpe3ZhciBiLGM9dGhpcy5sZW5ndGgsZD1bXSxlPXRoaXM7aWYoInN0cmluZyIhPXR5cGVvZiBhKXJldHVybiB0aGlzLnB1c2hTdGFjayhuKGEpLmZpbHRlcihmdW5jdGlvbigpe2ZvcihiPTA7Yz5iO2IrKylpZihuLmNvbnRhaW5zKGVbYl0sdGhpcykpcmV0dXJuITB9KSk7Zm9yKGI9MDtjPmI7YisrKW4uZmluZChhLGVbYl0sZCk7cmV0dXJuIGQ9dGhpcy5wdXNoU3RhY2soYz4xP24udW5pcXVlKGQpOmQpLGQuc2VsZWN0b3I9dGhpcy5zZWxlY3Rvcj90aGlzLnNlbGVjdG9yKyIgIithOmEsZH0sZmlsdGVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayh4KHRoaXMsYXx8W10sITEpKX0sbm90OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayh4KHRoaXMsYXx8W10sITApKX0saXM6ZnVuY3Rpb24oYSl7cmV0dXJuISF4KHRoaXMsInN0cmluZyI9PXR5cGVvZiBhJiZ1LnRlc3QoYSk/bihhKTphfHxbXSwhMSkubGVuZ3RofX0pO3ZhciB5LHo9L14oPzpccyooPFtcd1xXXSs+KVtePl0qfCMoW1x3LV0qKSkkLyxBPW4uZm4uaW5pdD1mdW5jdGlvbihhLGIpe3ZhciBjLGQ7aWYoIWEpcmV0dXJuIHRoaXM7aWYoInN0cmluZyI9PXR5cGVvZiBhKXtpZihjPSI8Ij09PWFbMF0mJiI+Ij09PWFbYS5sZW5ndGgtMV0mJmEubGVuZ3RoPj0zP1tudWxsLGEsbnVsbF06ei5leGVjKGEpLCFjfHwhY1sxXSYmYilyZXR1cm4hYnx8Yi5qcXVlcnk/KGJ8fHkpLmZpbmQoYSk6dGhpcy5jb25zdHJ1Y3RvcihiKS5maW5kKGEpO2lmKGNbMV0pe2lmKGI9YiBpbnN0YW5jZW9mIG4/YlswXTpiLG4ubWVyZ2UodGhpcyxuLnBhcnNlSFRNTChjWzFdLGImJmIubm9kZVR5cGU/Yi5vd25lckRvY3VtZW50fHxiOmwsITApKSx2LnRlc3QoY1sxXSkmJm4uaXNQbGFpbk9iamVjdChiKSlmb3IoYyBpbiBiKW4uaXNGdW5jdGlvbih0aGlzW2NdKT90aGlzW2NdKGJbY10pOnRoaXMuYXR0cihjLGJbY10pO3JldHVybiB0aGlzfXJldHVybiBkPWwuZ2V0RWxlbWVudEJ5SWQoY1syXSksZCYmZC5wYXJlbnROb2RlJiYodGhpcy5sZW5ndGg9MSx0aGlzWzBdPWQpLHRoaXMuY29udGV4dD1sLHRoaXMuc2VsZWN0b3I9YSx0aGlzfXJldHVybiBhLm5vZGVUeXBlPyh0aGlzLmNvbnRleHQ9dGhpc1swXT1hLHRoaXMubGVuZ3RoPTEsdGhpcyk6bi5pc0Z1bmN0aW9uKGEpPyJ1bmRlZmluZWQiIT10eXBlb2YgeS5yZWFkeT95LnJlYWR5KGEpOmEobik6KHZvaWQgMCE9PWEuc2VsZWN0b3ImJih0aGlzLnNlbGVjdG9yPWEuc2VsZWN0b3IsdGhpcy5jb250ZXh0PWEuY29udGV4dCksbi5tYWtlQXJyYXkoYSx0aGlzKSl9O0EucHJvdG90eXBlPW4uZm4seT1uKGwpO3ZhciBCPS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLEM9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07bi5leHRlbmQoe2RpcjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9W10sZT12b2lkIDAhPT1jO3doaWxlKChhPWFbYl0pJiY5IT09YS5ub2RlVHlwZSlpZigxPT09YS5ub2RlVHlwZSl7aWYoZSYmbihhKS5pcyhjKSlicmVhaztkLnB1c2goYSl9cmV0dXJuIGR9LHNpYmxpbmc6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9W107YTthPWEubmV4dFNpYmxpbmcpMT09PWEubm9kZVR5cGUmJmEhPT1iJiZjLnB1c2goYSk7cmV0dXJuIGN9fSksbi5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihhKXt2YXIgYj1uKGEsdGhpcyksYz1iLmxlbmd0aDtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIGE9MDtjPmE7YSsrKWlmKG4uY29udGFpbnModGhpcyxiW2FdKSlyZXR1cm4hMH0pfSxjbG9zZXN0OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9MCxlPXRoaXMubGVuZ3RoLGY9W10sZz11LnRlc3QoYSl8fCJzdHJpbmciIT10eXBlb2YgYT9uKGEsYnx8dGhpcy5jb250ZXh0KTowO2U+ZDtkKyspZm9yKGM9dGhpc1tkXTtjJiZjIT09YjtjPWMucGFyZW50Tm9kZSlpZihjLm5vZGVUeXBlPDExJiYoZz9nLmluZGV4KGMpPi0xOjE9PT1jLm5vZGVUeXBlJiZuLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGMsYSkpKXtmLnB1c2goYyk7YnJlYWt9cmV0dXJuIHRoaXMucHVzaFN0YWNrKGYubGVuZ3RoPjE/bi51bmlxdWUoZik6Zil9LGluZGV4OmZ1bmN0aW9uKGEpe3JldHVybiBhPyJzdHJpbmciPT10eXBlb2YgYT9nLmNhbGwobihhKSx0aGlzWzBdKTpnLmNhbGwodGhpcyxhLmpxdWVyeT9hWzBdOmEpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4udW5pcXVlKG4ubWVyZ2UodGhpcy5nZXQoKSxuKGEsYikpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWE/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoYSkpfX0pO2Z1bmN0aW9uIEQoYSxiKXt3aGlsZSgoYT1hW2JdKSYmMSE9PWEubm9kZVR5cGUpO3JldHVybiBhfW4uZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmMTEhPT1iLm5vZGVUeXBlP2I6bnVsbH0scGFyZW50czpmdW5jdGlvbihhKXtyZXR1cm4gbi5kaXIoYSwicGFyZW50Tm9kZSIpfSxwYXJlbnRzVW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuLmRpcihhLCJwYXJlbnROb2RlIixjKX0sbmV4dDpmdW5jdGlvbihhKXtyZXR1cm4gRChhLCJuZXh0U2libGluZyIpfSxwcmV2OmZ1bmN0aW9uKGEpe3JldHVybiBEKGEsInByZXZpb3VzU2libGluZyIpfSxuZXh0QWxsOmZ1bmN0aW9uKGEpe3JldHVybiBuLmRpcihhLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGEpe3JldHVybiBuLmRpcihhLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbi5kaXIoYSwibmV4dFNpYmxpbmciLGMpfSxwcmV2VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuLmRpcihhLCJwcmV2aW91c1NpYmxpbmciLGMpfSxzaWJsaW5nczpmdW5jdGlvbihhKXtyZXR1cm4gbi5zaWJsaW5nKChhLnBhcmVudE5vZGV8fHt9KS5maXJzdENoaWxkLGEpfSxjaGlsZHJlbjpmdW5jdGlvbihhKXtyZXR1cm4gbi5zaWJsaW5nKGEuZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnRlbnREb2N1bWVudHx8bi5tZXJnZShbXSxhLmNoaWxkTm9kZXMpfX0sZnVuY3Rpb24oYSxiKXtuLmZuW2FdPWZ1bmN0aW9uKGMsZCl7dmFyIGU9bi5tYXAodGhpcyxiLGMpO3JldHVybiJVbnRpbCIhPT1hLnNsaWNlKC01KSYmKGQ9YyksZCYmInN0cmluZyI9PXR5cGVvZiBkJiYoZT1uLmZpbHRlcihkLGUpKSx0aGlzLmxlbmd0aD4xJiYoQ1thXXx8bi51bmlxdWUoZSksQi50ZXN0KGEpJiZlLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2soZSl9fSk7dmFyIEU9L1xTKy9nLEY9e307ZnVuY3Rpb24gRyhhKXt2YXIgYj1GW2FdPXt9O3JldHVybiBuLmVhY2goYS5tYXRjaChFKXx8W10sZnVuY3Rpb24oYSxjKXtiW2NdPSEwfSksYn1uLkNhbGxiYWNrcz1mdW5jdGlvbihhKXthPSJzdHJpbmciPT10eXBlb2YgYT9GW2FdfHxHKGEpOm4uZXh0ZW5kKHt9LGEpO3ZhciBiLGMsZCxlLGYsZyxoPVtdLGk9IWEub25jZSYmW10saj1mdW5jdGlvbihsKXtmb3IoYj1hLm1lbW9yeSYmbCxjPSEwLGc9ZXx8MCxlPTAsZj1oLmxlbmd0aCxkPSEwO2gmJmY+ZztnKyspaWYoaFtnXS5hcHBseShsWzBdLGxbMV0pPT09ITEmJmEuc3RvcE9uRmFsc2Upe2I9ITE7YnJlYWt9ZD0hMSxoJiYoaT9pLmxlbmd0aCYmaihpLnNoaWZ0KCkpOmI/aD1bXTprLmRpc2FibGUoKSl9LGs9e2FkZDpmdW5jdGlvbigpe2lmKGgpe3ZhciBjPWgubGVuZ3RoOyFmdW5jdGlvbiBnKGIpe24uZWFjaChiLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9bi50eXBlKGMpOyJmdW5jdGlvbiI9PT1kP2EudW5pcXVlJiZrLmhhcyhjKXx8aC5wdXNoKGMpOmMmJmMubGVuZ3RoJiYic3RyaW5nIiE9PWQmJmcoYyl9KX0oYXJndW1lbnRzKSxkP2Y9aC5sZW5ndGg6YiYmKGU9YyxqKGIpKX1yZXR1cm4gdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIGgmJm4uZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oYSxiKXt2YXIgYzt3aGlsZSgoYz1uLmluQXJyYXkoYixoLGMpKT4tMSloLnNwbGljZShjLDEpLGQmJihmPj1jJiZmLS0sZz49YyYmZy0tKX0pLHRoaXN9LGhhczpmdW5jdGlvbihhKXtyZXR1cm4gYT9uLmluQXJyYXkoYSxoKT4tMTohKCFofHwhaC5sZW5ndGgpfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBoPVtdLGY9MCx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGg9aT1iPXZvaWQgMCx0aGlzfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiFofSxsb2NrOmZ1bmN0aW9uKCl7cmV0dXJuIGk9dm9pZCAwLGJ8fGsuZGlzYWJsZSgpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiFpfSxmaXJlV2l0aDpmdW5jdGlvbihhLGIpe3JldHVybiFofHxjJiYhaXx8KGI9Ynx8W10sYj1bYSxiLnNsaWNlP2Iuc2xpY2UoKTpiXSxkP2kucHVzaChiKTpqKGIpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGsuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFjfX07cmV0dXJuIGt9LG4uZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihhKXt2YXIgYj1bWyJyZXNvbHZlIiwiZG9uZSIsbi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlc29sdmVkIl0sWyJyZWplY3QiLCJmYWlsIixuLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwicmVqZWN0ZWQiXSxbIm5vdGlmeSIsInByb2dyZXNzIixuLkNhbGxiYWNrcygibWVtb3J5IildXSxjPSJwZW5kaW5nIixkPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBjfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gZS5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LHRoZW46ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7cmV0dXJuIG4uRGVmZXJyZWQoZnVuY3Rpb24oYyl7bi5lYWNoKGIsZnVuY3Rpb24oYixmKXt2YXIgZz1uLmlzRnVuY3Rpb24oYVtiXSkmJmFbYl07ZVtmWzFdXShmdW5jdGlvbigpe3ZhciBhPWcmJmcuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EmJm4uaXNGdW5jdGlvbihhLnByb21pc2UpP2EucHJvbWlzZSgpLmRvbmUoYy5yZXNvbHZlKS5mYWlsKGMucmVqZWN0KS5wcm9ncmVzcyhjLm5vdGlmeSk6Y1tmWzBdKyJXaXRoIl0odGhpcz09PWQ/Yy5wcm9taXNlKCk6dGhpcyxnP1thXTphcmd1bWVudHMpfSl9KSxhPW51bGx9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/bi5leHRlbmQoYSxkKTpkfX0sZT17fTtyZXR1cm4gZC5waXBlPWQudGhlbixuLmVhY2goYixmdW5jdGlvbihhLGYpe3ZhciBnPWZbMl0saD1mWzNdO2RbZlsxXV09Zy5hZGQsaCYmZy5hZGQoZnVuY3Rpb24oKXtjPWh9LGJbMV5hXVsyXS5kaXNhYmxlLGJbMl1bMl0ubG9jayksZVtmWzBdXT1mdW5jdGlvbigpe3JldHVybiBlW2ZbMF0rIldpdGgiXSh0aGlzPT09ZT9kOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxlW2ZbMF0rIldpdGgiXT1nLmZpcmVXaXRofSksZC5wcm9taXNlKGUpLGEmJmEuY2FsbChlLGUpLGV9LHdoZW46ZnVuY3Rpb24oYSl7dmFyIGI9MCxjPWQuY2FsbChhcmd1bWVudHMpLGU9Yy5sZW5ndGgsZj0xIT09ZXx8YSYmbi5pc0Z1bmN0aW9uKGEucHJvbWlzZSk/ZTowLGc9MT09PWY/YTpuLkRlZmVycmVkKCksaD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGUpe2JbYV09dGhpcyxjW2FdPWFyZ3VtZW50cy5sZW5ndGg+MT9kLmNhbGwoYXJndW1lbnRzKTplLGM9PT1pP2cubm90aWZ5V2l0aChiLGMpOi0tZnx8Zy5yZXNvbHZlV2l0aChiLGMpfX0saSxqLGs7aWYoZT4xKWZvcihpPW5ldyBBcnJheShlKSxqPW5ldyBBcnJheShlKSxrPW5ldyBBcnJheShlKTtlPmI7YisrKWNbYl0mJm4uaXNGdW5jdGlvbihjW2JdLnByb21pc2UpP2NbYl0ucHJvbWlzZSgpLmRvbmUoaChiLGssYykpLmZhaWwoZy5yZWplY3QpLnByb2dyZXNzKGgoYixqLGkpKTotLWY7cmV0dXJuIGZ8fGcucmVzb2x2ZVdpdGgoayxjKSxnLnByb21pc2UoKX19KTt2YXIgSDtuLmZuLnJlYWR5PWZ1bmN0aW9uKGEpe3JldHVybiBuLnJlYWR5LnByb21pc2UoKS5kb25lKGEpLHRoaXN9LG4uZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLGhvbGRSZWFkeTpmdW5jdGlvbihhKXthP24ucmVhZHlXYWl0Kys6bi5yZWFkeSghMCl9LHJlYWR5OmZ1bmN0aW9uKGEpeyhhPT09ITA/LS1uLnJlYWR5V2FpdDpuLmlzUmVhZHkpfHwobi5pc1JlYWR5PSEwLGEhPT0hMCYmLS1uLnJlYWR5V2FpdD4wfHwoSC5yZXNvbHZlV2l0aChsLFtuXSksbi5mbi50cmlnZ2VySGFuZGxlciYmKG4obCkudHJpZ2dlckhhbmRsZXIoInJlYWR5IiksbihsKS5vZmYoInJlYWR5IikpKSl9fSk7ZnVuY3Rpb24gSSgpe2wucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsSSwhMSksYS5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixJLCExKSxuLnJlYWR5KCl9bi5yZWFkeS5wcm9taXNlPWZ1bmN0aW9uKGIpe3JldHVybiBIfHwoSD1uLkRlZmVycmVkKCksImNvbXBsZXRlIj09PWwucmVhZHlTdGF0ZT9zZXRUaW1lb3V0KG4ucmVhZHkpOihsLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEksITEpLGEuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsSSwhMSkpKSxILnByb21pc2UoYil9LG4ucmVhZHkucHJvbWlzZSgpO3ZhciBKPW4uYWNjZXNzPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3ZhciBoPTAsaT1hLmxlbmd0aCxqPW51bGw9PWM7aWYoIm9iamVjdCI9PT1uLnR5cGUoYykpe2U9ITA7Zm9yKGggaW4gYyluLmFjY2VzcyhhLGIsaCxjW2hdLCEwLGYsZyl9ZWxzZSBpZih2b2lkIDAhPT1kJiYoZT0hMCxuLmlzRnVuY3Rpb24oZCl8fChnPSEwKSxqJiYoZz8oYi5jYWxsKGEsZCksYj1udWxsKTooaj1iLGI9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBqLmNhbGwobihhKSxjKX0pKSxiKSlmb3IoO2k+aDtoKyspYihhW2hdLGMsZz9kOmQuY2FsbChhW2hdLGgsYihhW2hdLGMpKSk7cmV0dXJuIGU/YTpqP2IuY2FsbChhKTppP2IoYVswXSxjKTpmfTtuLmFjY2VwdERhdGE9ZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlfHw5PT09YS5ub2RlVHlwZXx8ISthLm5vZGVUeXBlfTtmdW5jdGlvbiBLKCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMuY2FjaGU9e30sMCx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJue319fSksdGhpcy5leHBhbmRvPW4uZXhwYW5kbytLLnVpZCsrfUsudWlkPTEsSy5hY2NlcHRzPW4uYWNjZXB0RGF0YSxLLnByb3RvdHlwZT17a2V5OmZ1bmN0aW9uKGEpe2lmKCFLLmFjY2VwdHMoYSkpcmV0dXJuIDA7dmFyIGI9e30sYz1hW3RoaXMuZXhwYW5kb107aWYoIWMpe2M9Sy51aWQrKzt0cnl7Ylt0aGlzLmV4cGFuZG9dPXt2YWx1ZTpjfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhhLGIpfWNhdGNoKGQpe2JbdGhpcy5leHBhbmRvXT1jLG4uZXh0ZW5kKGEsYil9fXJldHVybiB0aGlzLmNhY2hlW2NdfHwodGhpcy5jYWNoZVtjXT17fSksY30sc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPXRoaXMua2V5KGEpLGY9dGhpcy5jYWNoZVtlXTtpZigic3RyaW5nIj09dHlwZW9mIGIpZltiXT1jO2Vsc2UgaWYobi5pc0VtcHR5T2JqZWN0KGYpKW4uZXh0ZW5kKHRoaXMuY2FjaGVbZV0sYik7ZWxzZSBmb3IoZCBpbiBiKWZbZF09YltkXTtyZXR1cm4gZn0sZ2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jYWNoZVt0aGlzLmtleShhKV07cmV0dXJuIHZvaWQgMD09PWI/YzpjW2JdfSxhY2Nlc3M6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiB2b2lkIDA9PT1ifHxiJiYic3RyaW5nIj09dHlwZW9mIGImJnZvaWQgMD09PWM/KGQ9dGhpcy5nZXQoYSxiKSx2b2lkIDAhPT1kP2Q6dGhpcy5nZXQoYSxuLmNhbWVsQ2FzZShiKSkpOih0aGlzLnNldChhLGIsYyksdm9pZCAwIT09Yz9jOmIpfSxyZW1vdmU6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj10aGlzLmtleShhKSxnPXRoaXMuY2FjaGVbZl07aWYodm9pZCAwPT09Yil0aGlzLmNhY2hlW2ZdPXt9O2Vsc2V7bi5pc0FycmF5KGIpP2Q9Yi5jb25jYXQoYi5tYXAobi5jYW1lbENhc2UpKTooZT1uLmNhbWVsQ2FzZShiKSxiIGluIGc/ZD1bYixlXTooZD1lLGQ9ZCBpbiBnP1tkXTpkLm1hdGNoKEUpfHxbXSkpLGM9ZC5sZW5ndGg7d2hpbGUoYy0tKWRlbGV0ZSBnW2RbY11dfX0saGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4hbi5pc0VtcHR5T2JqZWN0KHRoaXMuY2FjaGVbYVt0aGlzLmV4cGFuZG9dXXx8e30pfSxkaXNjYXJkOmZ1bmN0aW9uKGEpe2FbdGhpcy5leHBhbmRvXSYmZGVsZXRlIHRoaXMuY2FjaGVbYVt0aGlzLmV4cGFuZG9dXX19O3ZhciBMPW5ldyBLLE09bmV3IEssTj0vXig/Olx7W1x3XFddKlx9fFxbW1x3XFddKlxdKSQvLE89LyhbQS1aXSkvZztmdW5jdGlvbiBQKGEsYixjKXt2YXIgZDtpZih2b2lkIDA9PT1jJiYxPT09YS5ub2RlVHlwZSlpZihkPSJkYXRhLSIrYi5yZXBsYWNlKE8sIi0kMSIpLnRvTG93ZXJDYXNlKCksYz1hLmdldEF0dHJpYnV0ZShkKSwic3RyaW5nIj09dHlwZW9mIGMpe3RyeXtjPSJ0cnVlIj09PWM/ITA6ImZhbHNlIj09PWM/ITE6Im51bGwiPT09Yz9udWxsOitjKyIiPT09Yz8rYzpOLnRlc3QoYyk/bi5wYXJzZUpTT04oYyk6Y31jYXRjaChlKXt9TS5zZXQoYSxiLGMpfWVsc2UgYz12b2lkIDA7cmV0dXJuIGN9bi5leHRlbmQoe2hhc0RhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIE0uaGFzRGF0YShhKXx8TC5oYXNEYXRhKGEpfSxkYXRhOmZ1bmN0aW9uKGEsYixjKXsKcmV0dXJuIE0uYWNjZXNzKGEsYixjKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihhLGIpe00ucmVtb3ZlKGEsYil9LF9kYXRhOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gTC5hY2Nlc3MoYSxiLGMpfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihhLGIpe0wucmVtb3ZlKGEsYil9fSksbi5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj10aGlzWzBdLGc9ZiYmZi5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PWEpe2lmKHRoaXMubGVuZ3RoJiYoZT1NLmdldChmKSwxPT09Zi5ub2RlVHlwZSYmIUwuZ2V0KGYsImhhc0RhdGFBdHRycyIpKSl7Yz1nLmxlbmd0aDt3aGlsZShjLS0pZ1tjXSYmKGQ9Z1tjXS5uYW1lLDA9PT1kLmluZGV4T2YoImRhdGEtIikmJihkPW4uY2FtZWxDYXNlKGQuc2xpY2UoNSkpLFAoZixkLGVbZF0pKSk7TC5zZXQoZiwiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIGV9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBhP3RoaXMuZWFjaChmdW5jdGlvbigpe00uc2V0KHRoaXMsYSl9KTpKKHRoaXMsZnVuY3Rpb24oYil7dmFyIGMsZD1uLmNhbWVsQ2FzZShhKTtpZihmJiZ2b2lkIDA9PT1iKXtpZihjPU0uZ2V0KGYsYSksdm9pZCAwIT09YylyZXR1cm4gYztpZihjPU0uZ2V0KGYsZCksdm9pZCAwIT09YylyZXR1cm4gYztpZihjPVAoZixkLHZvaWQgMCksdm9pZCAwIT09YylyZXR1cm4gY31lbHNlIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPU0uZ2V0KHRoaXMsZCk7TS5zZXQodGhpcyxkLGIpLC0xIT09YS5pbmRleE9mKCItIikmJnZvaWQgMCE9PWMmJk0uc2V0KHRoaXMsYSxiKX0pfSxudWxsLGIsYXJndW1lbnRzLmxlbmd0aD4xLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtNLnJlbW92ZSh0aGlzLGEpfSl9fSksbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYT8oYj0oYnx8ImZ4IikrInF1ZXVlIixkPUwuZ2V0KGEsYiksYyYmKCFkfHxuLmlzQXJyYXkoYyk/ZD1MLmFjY2VzcyhhLGIsbi5tYWtlQXJyYXkoYykpOmQucHVzaChjKSksZHx8W10pOnZvaWQgMH0sZGVxdWV1ZTpmdW5jdGlvbihhLGIpe2I9Ynx8ImZ4Ijt2YXIgYz1uLnF1ZXVlKGEsYiksZD1jLmxlbmd0aCxlPWMuc2hpZnQoKSxmPW4uX3F1ZXVlSG9va3MoYSxiKSxnPWZ1bmN0aW9uKCl7bi5kZXF1ZXVlKGEsYil9OyJpbnByb2dyZXNzIj09PWUmJihlPWMuc2hpZnQoKSxkLS0pLGUmJigiZngiPT09YiYmYy51bnNoaWZ0KCJpbnByb2dyZXNzIiksZGVsZXRlIGYuc3RvcCxlLmNhbGwoYSxnLGYpKSwhZCYmZiYmZi5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YisicXVldWVIb29rcyI7cmV0dXJuIEwuZ2V0KGEsYyl8fEwuYWNjZXNzKGEsYyx7ZW1wdHk6bi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7TC5yZW1vdmUoYSxbYisicXVldWUiLGNdKX0pfSl9fSksbi5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYil7dmFyIGM9MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGEmJihiPWEsYT0iZngiLGMtLSksYXJndW1lbnRzLmxlbmd0aDxjP24ucXVldWUodGhpc1swXSxhKTp2b2lkIDA9PT1iP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9bi5xdWV1ZSh0aGlzLGEsYik7bi5fcXVldWVIb29rcyh0aGlzLGEpLCJmeCI9PT1hJiYiaW5wcm9ncmVzcyIhPT1jWzBdJiZuLmRlcXVldWUodGhpcyxhKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLmRlcXVldWUodGhpcyxhKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnF1ZXVlKGF8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0xLGU9bi5EZWZlcnJlZCgpLGY9dGhpcyxnPXRoaXMubGVuZ3RoLGg9ZnVuY3Rpb24oKXstLWR8fGUucmVzb2x2ZVdpdGgoZixbZl0pfTsic3RyaW5nIiE9dHlwZW9mIGEmJihiPWEsYT12b2lkIDApLGE9YXx8ImZ4Ijt3aGlsZShnLS0pYz1MLmdldChmW2ddLGErInF1ZXVlSG9va3MiKSxjJiZjLmVtcHR5JiYoZCsrLGMuZW1wdHkuYWRkKGgpKTtyZXR1cm4gaCgpLGUucHJvbWlzZShiKX19KTt2YXIgUT0vWystXT8oPzpcZCpcLnwpXGQrKD86W2VFXVsrLV0/XGQrfCkvLnNvdXJjZSxSPVsiVG9wIiwiUmlnaHQiLCJCb3R0b20iLCJMZWZ0Il0sUz1mdW5jdGlvbihhLGIpe3JldHVybiBhPWJ8fGEsIm5vbmUiPT09bi5jc3MoYSwiZGlzcGxheSIpfHwhbi5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSl9LFQ9L14oPzpjaGVja2JveHxyYWRpbykkL2k7IWZ1bmN0aW9uKCl7dmFyIGE9bC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksYj1hLmFwcGVuZENoaWxkKGwuY3JlYXRlRWxlbWVudCgiZGl2IikpLGM9bC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO2Muc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSxjLnNldEF0dHJpYnV0ZSgiY2hlY2tlZCIsImNoZWNrZWQiKSxjLnNldEF0dHJpYnV0ZSgibmFtZSIsInQiKSxiLmFwcGVuZENoaWxkKGMpLGsuY2hlY2tDbG9uZT1iLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZCxiLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiIsay5ub0Nsb25lQ2hlY2tlZD0hIWIuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlfSgpO3ZhciBVPSJ1bmRlZmluZWQiO2suZm9jdXNpbkJ1YmJsZXM9Im9uZm9jdXNpbiJpbiBhO3ZhciBWPS9ea2V5LyxXPS9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudSl8Y2xpY2svLFg9L14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvLFk9L14oW14uXSopKD86XC4oLispfCkkLztmdW5jdGlvbiBaKCl7cmV0dXJuITB9ZnVuY3Rpb24gJCgpe3JldHVybiExfWZ1bmN0aW9uIF8oKXt0cnl7cmV0dXJuIGwuYWN0aXZlRWxlbWVudH1jYXRjaChhKXt9fW4uZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG8scCxxLHI9TC5nZXQoYSk7aWYocil7Yy5oYW5kbGVyJiYoZj1jLGM9Zi5oYW5kbGVyLGU9Zi5zZWxlY3RvciksYy5ndWlkfHwoYy5ndWlkPW4uZ3VpZCsrKSwoaT1yLmV2ZW50cyl8fChpPXIuZXZlbnRzPXt9KSwoZz1yLmhhbmRsZSl8fChnPXIuaGFuZGxlPWZ1bmN0aW9uKGIpe3JldHVybiB0eXBlb2YgbiE9PVUmJm4uZXZlbnQudHJpZ2dlcmVkIT09Yi50eXBlP24uZXZlbnQuZGlzcGF0Y2guYXBwbHkoYSxhcmd1bWVudHMpOnZvaWQgMH0pLGI9KGJ8fCIiKS5tYXRjaChFKXx8WyIiXSxqPWIubGVuZ3RoO3doaWxlKGotLSloPVkuZXhlYyhiW2pdKXx8W10sbz1xPWhbMV0scD0oaFsyXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLG8mJihsPW4uZXZlbnQuc3BlY2lhbFtvXXx8e30sbz0oZT9sLmRlbGVnYXRlVHlwZTpsLmJpbmRUeXBlKXx8byxsPW4uZXZlbnQuc3BlY2lhbFtvXXx8e30saz1uLmV4dGVuZCh7dHlwZTpvLG9yaWdUeXBlOnEsZGF0YTpkLGhhbmRsZXI6YyxndWlkOmMuZ3VpZCxzZWxlY3RvcjplLG5lZWRzQ29udGV4dDplJiZuLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoZSksbmFtZXNwYWNlOnAuam9pbigiLiIpfSxmKSwobT1pW29dKXx8KG09aVtvXT1bXSxtLmRlbGVnYXRlQ291bnQ9MCxsLnNldHVwJiZsLnNldHVwLmNhbGwoYSxkLHAsZykhPT0hMXx8YS5hZGRFdmVudExpc3RlbmVyJiZhLmFkZEV2ZW50TGlzdGVuZXIobyxnLCExKSksbC5hZGQmJihsLmFkZC5jYWxsKGEsayksay5oYW5kbGVyLmd1aWR8fChrLmhhbmRsZXIuZ3VpZD1jLmd1aWQpKSxlP20uc3BsaWNlKG0uZGVsZWdhdGVDb3VudCsrLDAsayk6bS5wdXNoKGspLG4uZXZlbnQuZ2xvYmFsW29dPSEwKX19LHJlbW92ZTpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaCxpLGosayxsLG0sbyxwLHEscj1MLmhhc0RhdGEoYSkmJkwuZ2V0KGEpO2lmKHImJihpPXIuZXZlbnRzKSl7Yj0oYnx8IiIpLm1hdGNoKEUpfHxbIiJdLGo9Yi5sZW5ndGg7d2hpbGUoai0tKWlmKGg9WS5leGVjKGJbal0pfHxbXSxvPXE9aFsxXSxwPShoWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksbyl7bD1uLmV2ZW50LnNwZWNpYWxbb118fHt9LG89KGQ/bC5kZWxlZ2F0ZVR5cGU6bC5iaW5kVHlwZSl8fG8sbT1pW29dfHxbXSxoPWhbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK3Auam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksZz1mPW0ubGVuZ3RoO3doaWxlKGYtLSlrPW1bZl0sIWUmJnEhPT1rLm9yaWdUeXBlfHxjJiZjLmd1aWQhPT1rLmd1aWR8fGgmJiFoLnRlc3Qoay5uYW1lc3BhY2UpfHxkJiZkIT09ay5zZWxlY3RvciYmKCIqKiIhPT1kfHwhay5zZWxlY3Rvcil8fChtLnNwbGljZShmLDEpLGsuc2VsZWN0b3ImJm0uZGVsZWdhdGVDb3VudC0tLGwucmVtb3ZlJiZsLnJlbW92ZS5jYWxsKGEsaykpO2cmJiFtLmxlbmd0aCYmKGwudGVhcmRvd24mJmwudGVhcmRvd24uY2FsbChhLHAsci5oYW5kbGUpIT09ITF8fG4ucmVtb3ZlRXZlbnQoYSxvLHIuaGFuZGxlKSxkZWxldGUgaVtvXSl9ZWxzZSBmb3IobyBpbiBpKW4uZXZlbnQucmVtb3ZlKGEsbytiW2pdLGMsZCwhMCk7bi5pc0VtcHR5T2JqZWN0KGkpJiYoZGVsZXRlIHIuaGFuZGxlLEwucmVtb3ZlKGEsImV2ZW50cyIpKX19LHRyaWdnZXI6ZnVuY3Rpb24oYixjLGQsZSl7dmFyIGYsZyxoLGksayxtLG8scD1bZHx8bF0scT1qLmNhbGwoYiwidHlwZSIpP2IudHlwZTpiLHI9ai5jYWxsKGIsIm5hbWVzcGFjZSIpP2IubmFtZXNwYWNlLnNwbGl0KCIuIik6W107aWYoZz1oPWQ9ZHx8bCwzIT09ZC5ub2RlVHlwZSYmOCE9PWQubm9kZVR5cGUmJiFYLnRlc3QocStuLmV2ZW50LnRyaWdnZXJlZCkmJihxLmluZGV4T2YoIi4iKT49MCYmKHI9cS5zcGxpdCgiLiIpLHE9ci5zaGlmdCgpLHIuc29ydCgpKSxrPXEuaW5kZXhPZigiOiIpPDAmJiJvbiIrcSxiPWJbbi5leHBhbmRvXT9iOm5ldyBuLkV2ZW50KHEsIm9iamVjdCI9PXR5cGVvZiBiJiZiKSxiLmlzVHJpZ2dlcj1lPzI6MyxiLm5hbWVzcGFjZT1yLmpvaW4oIi4iKSxiLm5hbWVzcGFjZV9yZT1iLm5hbWVzcGFjZT9uZXcgUmVnRXhwKCIoXnxcXC4pIityLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpOm51bGwsYi5yZXN1bHQ9dm9pZCAwLGIudGFyZ2V0fHwoYi50YXJnZXQ9ZCksYz1udWxsPT1jP1tiXTpuLm1ha2VBcnJheShjLFtiXSksbz1uLmV2ZW50LnNwZWNpYWxbcV18fHt9LGV8fCFvLnRyaWdnZXJ8fG8udHJpZ2dlci5hcHBseShkLGMpIT09ITEpKXtpZighZSYmIW8ubm9CdWJibGUmJiFuLmlzV2luZG93KGQpKXtmb3IoaT1vLmRlbGVnYXRlVHlwZXx8cSxYLnRlc3QoaStxKXx8KGc9Zy5wYXJlbnROb2RlKTtnO2c9Zy5wYXJlbnROb2RlKXAucHVzaChnKSxoPWc7aD09PShkLm93bmVyRG9jdW1lbnR8fGwpJiZwLnB1c2goaC5kZWZhdWx0Vmlld3x8aC5wYXJlbnRXaW5kb3d8fGEpfWY9MDt3aGlsZSgoZz1wW2YrK10pJiYhYi5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWIudHlwZT1mPjE/aTpvLmJpbmRUeXBlfHxxLG09KEwuZ2V0KGcsImV2ZW50cyIpfHx7fSlbYi50eXBlXSYmTC5nZXQoZywiaGFuZGxlIiksbSYmbS5hcHBseShnLGMpLG09ayYmZ1trXSxtJiZtLmFwcGx5JiZuLmFjY2VwdERhdGEoZykmJihiLnJlc3VsdD1tLmFwcGx5KGcsYyksYi5yZXN1bHQ9PT0hMSYmYi5wcmV2ZW50RGVmYXVsdCgpKTtyZXR1cm4gYi50eXBlPXEsZXx8Yi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8by5fZGVmYXVsdCYmby5fZGVmYXVsdC5hcHBseShwLnBvcCgpLGMpIT09ITF8fCFuLmFjY2VwdERhdGEoZCl8fGsmJm4uaXNGdW5jdGlvbihkW3FdKSYmIW4uaXNXaW5kb3coZCkmJihoPWRba10saCYmKGRba109bnVsbCksbi5ldmVudC50cmlnZ2VyZWQ9cSxkW3FdKCksbi5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGgmJihkW2tdPWgpKSxiLnJlc3VsdH19LGRpc3BhdGNoOmZ1bmN0aW9uKGEpe2E9bi5ldmVudC5maXgoYSk7dmFyIGIsYyxlLGYsZyxoPVtdLGk9ZC5jYWxsKGFyZ3VtZW50cyksaj0oTC5nZXQodGhpcywiZXZlbnRzIil8fHt9KVthLnR5cGVdfHxbXSxrPW4uZXZlbnQuc3BlY2lhbFthLnR5cGVdfHx7fTtpZihpWzBdPWEsYS5kZWxlZ2F0ZVRhcmdldD10aGlzLCFrLnByZURpc3BhdGNofHxrLnByZURpc3BhdGNoLmNhbGwodGhpcyxhKSE9PSExKXtoPW4uZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLGEsaiksYj0wO3doaWxlKChmPWhbYisrXSkmJiFhLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpe2EuY3VycmVudFRhcmdldD1mLmVsZW0sYz0wO3doaWxlKChnPWYuaGFuZGxlcnNbYysrXSkmJiFhLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpKCFhLm5hbWVzcGFjZV9yZXx8YS5uYW1lc3BhY2VfcmUudGVzdChnLm5hbWVzcGFjZSkpJiYoYS5oYW5kbGVPYmo9ZyxhLmRhdGE9Zy5kYXRhLGU9KChuLmV2ZW50LnNwZWNpYWxbZy5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fGcuaGFuZGxlcikuYXBwbHkoZi5lbGVtLGkpLHZvaWQgMCE9PWUmJihhLnJlc3VsdD1lKT09PSExJiYoYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCkpKX1yZXR1cm4gay5wb3N0RGlzcGF0Y2gmJmsucG9zdERpc3BhdGNoLmNhbGwodGhpcyxhKSxhLnJlc3VsdH19LGhhbmRsZXJzOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGYsZz1bXSxoPWIuZGVsZWdhdGVDb3VudCxpPWEudGFyZ2V0O2lmKGgmJmkubm9kZVR5cGUmJighYS5idXR0b258fCJjbGljayIhPT1hLnR5cGUpKWZvcig7aSE9PXRoaXM7aT1pLnBhcmVudE5vZGV8fHRoaXMpaWYoaS5kaXNhYmxlZCE9PSEwfHwiY2xpY2siIT09YS50eXBlKXtmb3IoZD1bXSxjPTA7aD5jO2MrKylmPWJbY10sZT1mLnNlbGVjdG9yKyIgIix2b2lkIDA9PT1kW2VdJiYoZFtlXT1mLm5lZWRzQ29udGV4dD9uKGUsdGhpcykuaW5kZXgoaSk+PTA6bi5maW5kKGUsdGhpcyxudWxsLFtpXSkubGVuZ3RoKSxkW2VdJiZkLnB1c2goZik7ZC5sZW5ndGgmJmcucHVzaCh7ZWxlbTppLGhhbmRsZXJzOmR9KX1yZXR1cm4gaDxiLmxlbmd0aCYmZy5wdXNoKHtlbGVtOnRoaXMsaGFuZGxlcnM6Yi5zbGljZShoKX0pLGd9LHByb3BzOiJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2giLnNwbGl0KCIgIiksZml4SG9va3M6e30sa2V5SG9va3M6e3Byb3BzOiJjaGFyIGNoYXJDb2RlIGtleSBrZXlDb2RlIi5zcGxpdCgiICIpLGZpbHRlcjpmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1hLndoaWNoJiYoYS53aGljaD1udWxsIT1iLmNoYXJDb2RlP2IuY2hhckNvZGU6Yi5rZXlDb2RlKSxhfX0sbW91c2VIb29rczp7cHJvcHM6ImJ1dHRvbiBidXR0b25zIGNsaWVudFggY2xpZW50WSBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudCIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj1iLmJ1dHRvbjtyZXR1cm4gbnVsbD09YS5wYWdlWCYmbnVsbCE9Yi5jbGllbnRYJiYoYz1hLnRhcmdldC5vd25lckRvY3VtZW50fHxsLGQ9Yy5kb2N1bWVudEVsZW1lbnQsZT1jLmJvZHksYS5wYWdlWD1iLmNsaWVudFgrKGQmJmQuc2Nyb2xsTGVmdHx8ZSYmZS5zY3JvbGxMZWZ0fHwwKS0oZCYmZC5jbGllbnRMZWZ0fHxlJiZlLmNsaWVudExlZnR8fDApLGEucGFnZVk9Yi5jbGllbnRZKyhkJiZkLnNjcm9sbFRvcHx8ZSYmZS5zY3JvbGxUb3B8fDApLShkJiZkLmNsaWVudFRvcHx8ZSYmZS5jbGllbnRUb3B8fDApKSxhLndoaWNofHx2b2lkIDA9PT1mfHwoYS53aGljaD0xJmY/MToyJmY/Mzo0JmY/MjowKSxhfX0sZml4OmZ1bmN0aW9uKGEpe2lmKGFbbi5leHBhbmRvXSlyZXR1cm4gYTt2YXIgYixjLGQsZT1hLnR5cGUsZj1hLGc9dGhpcy5maXhIb29rc1tlXTtnfHwodGhpcy5maXhIb29rc1tlXT1nPVcudGVzdChlKT90aGlzLm1vdXNlSG9va3M6Vi50ZXN0KGUpP3RoaXMua2V5SG9va3M6e30pLGQ9Zy5wcm9wcz90aGlzLnByb3BzLmNvbmNhdChnLnByb3BzKTp0aGlzLnByb3BzLGE9bmV3IG4uRXZlbnQoZiksYj1kLmxlbmd0aDt3aGlsZShiLS0pYz1kW2JdLGFbY109ZltjXTtyZXR1cm4gYS50YXJnZXR8fChhLnRhcmdldD1sKSwzPT09YS50YXJnZXQubm9kZVR5cGUmJihhLnRhcmdldD1hLnRhcmdldC5wYXJlbnROb2RlKSxnLmZpbHRlcj9nLmZpbHRlcihhLGYpOmF9LHNwZWNpYWw6e2xvYWQ6e25vQnViYmxlOiEwfSxmb2N1czp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzIT09XygpJiZ0aGlzLmZvY3VzPyh0aGlzLmZvY3VzKCksITEpOnZvaWQgMH0sZGVsZWdhdGVUeXBlOiJmb2N1c2luIn0sYmx1cjp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzPT09XygpJiZ0aGlzLmJsdXI/KHRoaXMuYmx1cigpLCExKTp2b2lkIDB9LGRlbGVnYXRlVHlwZToiZm9jdXNvdXQifSxjbGljazp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiJjaGVja2JveCI9PT10aGlzLnR5cGUmJnRoaXMuY2xpY2smJm4ubm9kZU5hbWUodGhpcywiaW5wdXQiKT8odGhpcy5jbGljaygpLCExKTp2b2lkIDB9LF9kZWZhdWx0OmZ1bmN0aW9uKGEpe3JldHVybiBuLm5vZGVOYW1lKGEudGFyZ2V0LCJhIil9fSxiZWZvcmV1bmxvYWQ6e3Bvc3REaXNwYXRjaDpmdW5jdGlvbihhKXt2b2lkIDAhPT1hLnJlc3VsdCYmYS5vcmlnaW5hbEV2ZW50JiYoYS5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlPWEucmVzdWx0KX19fSxzaW11bGF0ZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1uLmV4dGVuZChuZXcgbi5FdmVudCxjLHt0eXBlOmEsaXNTaW11bGF0ZWQ6ITAsb3JpZ2luYWxFdmVudDp7fX0pO2Q/bi5ldmVudC50cmlnZ2VyKGUsbnVsbCxiKTpuLmV2ZW50LmRpc3BhdGNoLmNhbGwoYixlKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZjLnByZXZlbnREZWZhdWx0KCl9fSxuLnJlbW92ZUV2ZW50PWZ1bmN0aW9uKGEsYixjKXthLnJlbW92ZUV2ZW50TGlzdGVuZXImJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGMsITEpfSxuLkV2ZW50PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBuLkV2ZW50PyhhJiZhLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1hLHRoaXMudHlwZT1hLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9YS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1hLmRlZmF1bHRQcmV2ZW50ZWQmJmEucmV0dXJuVmFsdWU9PT0hMT9aOiQpOnRoaXMudHlwZT1hLGImJm4uZXh0ZW5kKHRoaXMsYiksdGhpcy50aW1lU3RhbXA9YSYmYS50aW1lU3RhbXB8fG4ubm93KCksdm9pZCh0aGlzW24uZXhwYW5kb109ITApKTpuZXcgbi5FdmVudChhLGIpfSxuLkV2ZW50LnByb3RvdHlwZT17aXNEZWZhdWx0UHJldmVudGVkOiQsaXNQcm9wYWdhdGlvblN0b3BwZWQ6JCxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDokLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPVosYSYmYS5wcmV2ZW50RGVmYXVsdCYmYS5wcmV2ZW50RGVmYXVsdCgpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1aLGEmJmEuc3RvcFByb3BhZ2F0aW9uJiZhLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1aLGEmJmEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uJiZhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHRoaXMuc3RvcFByb3BhZ2F0aW9uKCl9fSxuLmVhY2goe21vdXNlZW50ZXI6Im1vdXNlb3ZlciIsbW91c2VsZWF2ZToibW91c2VvdXQiLHBvaW50ZXJlbnRlcjoicG9pbnRlcm92ZXIiLHBvaW50ZXJsZWF2ZToicG9pbnRlcm91dCJ9LGZ1bmN0aW9uKGEsYil7bi5ldmVudC5zcGVjaWFsW2FdPXtkZWxlZ2F0ZVR5cGU6YixiaW5kVHlwZTpiLGhhbmRsZTpmdW5jdGlvbihhKXt2YXIgYyxkPXRoaXMsZT1hLnJlbGF0ZWRUYXJnZXQsZj1hLmhhbmRsZU9iajtyZXR1cm4oIWV8fGUhPT1kJiYhbi5jb250YWlucyhkLGUpKSYmKGEudHlwZT1mLm9yaWdUeXBlLGM9Zi5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhLnR5cGU9YiksY319fSksay5mb2N1c2luQnViYmxlc3x8bi5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGEpe24uZXZlbnQuc2ltdWxhdGUoYixhLnRhcmdldCxuLmV2ZW50LmZpeChhKSwhMCl9O24uZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1MLmFjY2VzcyhkLGIpO2V8fGQuYWRkRXZlbnRMaXN0ZW5lcihhLGMsITApLEwuYWNjZXNzKGQsYiwoZXx8MCkrMSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLGU9TC5hY2Nlc3MoZCxiKS0xO2U/TC5hY2Nlc3MoZCxiLGUpOihkLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxjLCEwKSxMLnJlbW92ZShkLGIpKX19fSksbi5mbi5leHRlbmQoe29uOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZztpZigib2JqZWN0Ij09dHlwZW9mIGEpeyJzdHJpbmciIT10eXBlb2YgYiYmKGM9Y3x8YixiPXZvaWQgMCk7Zm9yKGcgaW4gYSl0aGlzLm9uKGcsYixjLGFbZ10sZSk7cmV0dXJuIHRoaXN9aWYobnVsbD09YyYmbnVsbD09ZD8oZD1iLGM9Yj12b2lkIDApOm51bGw9PWQmJigic3RyaW5nIj09dHlwZW9mIGI/KGQ9YyxjPXZvaWQgMCk6KGQ9YyxjPWIsYj12b2lkIDApKSxkPT09ITEpZD0kO2Vsc2UgaWYoIWQpcmV0dXJuIHRoaXM7cmV0dXJuIDE9PT1lJiYoZj1kLGQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG4oKS5vZmYoYSksZi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGQuZ3VpZD1mLmd1aWR8fChmLmd1aWQ9bi5ndWlkKyspKSx0aGlzLmVhY2goZnVuY3Rpb24oKXtuLmV2ZW50LmFkZCh0aGlzLGEsZCxjLGIpfSl9LG9uZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5vbihhLGIsYyxkLDEpfSxvZmY6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU7aWYoYSYmYS5wcmV2ZW50RGVmYXVsdCYmYS5oYW5kbGVPYmopcmV0dXJuIGQ9YS5oYW5kbGVPYmosbihhLmRlbGVnYXRlVGFyZ2V0KS5vZmYoZC5uYW1lc3BhY2U/ZC5vcmlnVHlwZSsiLiIrZC5uYW1lc3BhY2U6ZC5vcmlnVHlwZSxkLnNlbGVjdG9yLGQuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIGEpe2ZvcihlIGluIGEpdGhpcy5vZmYoZSxiLGFbZV0pO3JldHVybiB0aGlzfXJldHVybihiPT09ITF8fCJmdW5jdGlvbiI9PXR5cGVvZiBiKSYmKGM9YixiPXZvaWQgMCksYz09PSExJiYoYz0kKSx0aGlzLmVhY2goZnVuY3Rpb24oKXtuLmV2ZW50LnJlbW92ZSh0aGlzLGEsYyxiKX0pfSx0cmlnZ2VyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQudHJpZ2dlcihhLGIsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzWzBdO3JldHVybiBjP24uZXZlbnQudHJpZ2dlcihhLGIsYywhMCk6dm9pZCAwfX0pO3ZhciBhYT0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXHc6XSspW14+XSopXC8+L2dpLGJhPS88KFtcdzpdKykvLGNhPS88fCYjP1x3KzsvLGRhPS88KD86c2NyaXB0fHN0eWxlfGxpbmspL2ksZWE9L2NoZWNrZWRccyooPzpbXj1dfD1ccyouY2hlY2tlZC4pL2ksZmE9L14kfFwvKD86amF2YXxlY21hKXNjcmlwdC9pLGdhPS9edHJ1ZVwvKC4qKS8saGE9L15ccyo8ISg/OlxbQ0RBVEFcW3wtLSl8KD86XF1cXXwtLSk+XHMqJC9nLGlhPXtvcHRpb246WzEsIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz4iLCI8L3NlbGVjdD4iXSx0aGVhZDpbMSwiPHRhYmxlPiIsIjwvdGFibGU+Il0sY29sOlsyLCI8dGFibGU+PGNvbGdyb3VwPiIsIjwvY29sZ3JvdXA+PC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il0sdGQ6WzMsIjx0YWJsZT48dGJvZHk+PHRyPiIsIjwvdHI+PC90Ym9keT48L3RhYmxlPiJdLF9kZWZhdWx0OlswLCIiLCIiXX07aWEub3B0Z3JvdXA9aWEub3B0aW9uLGlhLnRib2R5PWlhLnRmb290PWlhLmNvbGdyb3VwPWlhLmNhcHRpb249aWEudGhlYWQsaWEudGg9aWEudGQ7ZnVuY3Rpb24gamEoYSxiKXtyZXR1cm4gbi5ub2RlTmFtZShhLCJ0YWJsZSIpJiZuLm5vZGVOYW1lKDExIT09Yi5ub2RlVHlwZT9iOmIuZmlyc3RDaGlsZCwidHIiKT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0Ym9keSIpWzBdfHxhLmFwcGVuZENoaWxkKGEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIpKTphfWZ1bmN0aW9uIGthKGEpe3JldHVybiBhLnR5cGU9KG51bGwhPT1hLmdldEF0dHJpYnV0ZSgidHlwZSIpKSsiLyIrYS50eXBlLGF9ZnVuY3Rpb24gbGEoYSl7dmFyIGI9Z2EuZXhlYyhhLnR5cGUpO3JldHVybiBiP2EudHlwZT1iWzFdOmEucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksYX1mdW5jdGlvbiBtYShhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKylMLnNldChhW2NdLCJnbG9iYWxFdmFsIiwhYnx8TC5nZXQoYltjXSwiZ2xvYmFsRXZhbCIpKX1mdW5jdGlvbiBuYShhLGIpe3ZhciBjLGQsZSxmLGcsaCxpLGo7aWYoMT09PWIubm9kZVR5cGUpe2lmKEwuaGFzRGF0YShhKSYmKGY9TC5hY2Nlc3MoYSksZz1MLnNldChiLGYpLGo9Zi5ldmVudHMpKXtkZWxldGUgZy5oYW5kbGUsZy5ldmVudHM9e307Zm9yKGUgaW4gailmb3IoYz0wLGQ9altlXS5sZW5ndGg7ZD5jO2MrKyluLmV2ZW50LmFkZChiLGUsaltlXVtjXSl9TS5oYXNEYXRhKGEpJiYoaD1NLmFjY2VzcyhhKSxpPW4uZXh0ZW5kKHt9LGgpLE0uc2V0KGIsaSkpfX1mdW5jdGlvbiBvYShhLGIpe3ZhciBjPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWU/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShifHwiKiIpOmEucXVlcnlTZWxlY3RvckFsbD9hLnF1ZXJ5U2VsZWN0b3JBbGwoYnx8IioiKTpbXTtyZXR1cm4gdm9pZCAwPT09Ynx8YiYmbi5ub2RlTmFtZShhLGIpP24ubWVyZ2UoW2FdLGMpOmN9ZnVuY3Rpb24gcGEoYSxiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7ImlucHV0Ij09PWMmJlQudGVzdChhLnR5cGUpP2IuY2hlY2tlZD1hLmNoZWNrZWQ6KCJpbnB1dCI9PT1jfHwidGV4dGFyZWEiPT09YykmJihiLmRlZmF1bHRWYWx1ZT1hLmRlZmF1bHRWYWx1ZSl9bi5leHRlbmQoe2Nsb25lOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuY2xvbmVOb2RlKCEwKSxpPW4uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpO2lmKCEoay5ub0Nsb25lQ2hlY2tlZHx8MSE9PWEubm9kZVR5cGUmJjExIT09YS5ub2RlVHlwZXx8bi5pc1hNTERvYyhhKSkpZm9yKGc9b2EoaCksZj1vYShhKSxkPTAsZT1mLmxlbmd0aDtlPmQ7ZCsrKXBhKGZbZF0sZ1tkXSk7aWYoYilpZihjKWZvcihmPWZ8fG9hKGEpLGc9Z3x8b2EoaCksZD0wLGU9Zi5sZW5ndGg7ZT5kO2QrKyluYShmW2RdLGdbZF0pO2Vsc2UgbmEoYSxoKTtyZXR1cm4gZz1vYShoLCJzY3JpcHQiKSxnLmxlbmd0aD4wJiZtYShnLCFpJiZvYShhLCJzY3JpcHQiKSksaH0sYnVpbGRGcmFnbWVudDpmdW5jdGlvbihhLGIsYyxkKXtmb3IodmFyIGUsZixnLGgsaSxqLGs9Yi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbD1bXSxtPTAsbz1hLmxlbmd0aDtvPm07bSsrKWlmKGU9YVttXSxlfHwwPT09ZSlpZigib2JqZWN0Ij09PW4udHlwZShlKSluLm1lcmdlKGwsZS5ub2RlVHlwZT9bZV06ZSk7ZWxzZSBpZihjYS50ZXN0KGUpKXtmPWZ8fGsuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KCJkaXYiKSksZz0oYmEuZXhlYyhlKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKSxoPWlhW2ddfHxpYS5fZGVmYXVsdCxmLmlubmVySFRNTD1oWzFdK2UucmVwbGFjZShhYSwiPCQxPjwvJDI+IikraFsyXSxqPWhbMF07d2hpbGUoai0tKWY9Zi5sYXN0Q2hpbGQ7bi5tZXJnZShsLGYuY2hpbGROb2RlcyksZj1rLmZpcnN0Q2hpbGQsZi50ZXh0Q29udGVudD0iIn1lbHNlIGwucHVzaChiLmNyZWF0ZVRleHROb2RlKGUpKTtrLnRleHRDb250ZW50PSIiLG09MDt3aGlsZShlPWxbbSsrXSlpZigoIWR8fC0xPT09bi5pbkFycmF5KGUsZCkpJiYoaT1uLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKSxmPW9hKGsuYXBwZW5kQ2hpbGQoZSksInNjcmlwdCIpLGkmJm1hKGYpLGMpKXtqPTA7d2hpbGUoZT1mW2orK10pZmEudGVzdChlLnR5cGV8fCIiKSYmYy5wdXNoKGUpfXJldHVybiBrfSxjbGVhbkRhdGE6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGMsZCxlLGY9bi5ldmVudC5zcGVjaWFsLGc9MDt2b2lkIDAhPT0oYz1hW2ddKTtnKyspe2lmKG4uYWNjZXB0RGF0YShjKSYmKGU9Y1tMLmV4cGFuZG9dLGUmJihiPUwuY2FjaGVbZV0pKSl7aWYoYi5ldmVudHMpZm9yKGQgaW4gYi5ldmVudHMpZltkXT9uLmV2ZW50LnJlbW92ZShjLGQpOm4ucmVtb3ZlRXZlbnQoYyxkLGIuaGFuZGxlKTtMLmNhY2hlW2VdJiZkZWxldGUgTC5jYWNoZVtlXX1kZWxldGUgTS5jYWNoZVtjW00uZXhwYW5kb11dfX19KSxuLmZuLmV4dGVuZCh7dGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiB2b2lkIDA9PT1hP24udGV4dCh0aGlzKTp0aGlzLmVtcHR5KCkuZWFjaChmdW5jdGlvbigpeygxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSkmJih0aGlzLnRleHRDb250ZW50PWEpfSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj1qYSh0aGlzLGEpO2IuYXBwZW5kQ2hpbGQoYSl9fSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oYSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciBiPWphKHRoaXMsYSk7Yi5pbnNlcnRCZWZvcmUoYSxiLmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcy5uZXh0U2libGluZyl9KX0scmVtb3ZlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9YT9uLmZpbHRlcihhLHRoaXMpOnRoaXMsZT0wO251bGwhPShjPWRbZV0pO2UrKylifHwxIT09Yy5ub2RlVHlwZXx8bi5jbGVhbkRhdGEob2EoYykpLGMucGFyZW50Tm9kZSYmKGImJm4uY29udGFpbnMoYy5vd25lckRvY3VtZW50LGMpJiZtYShvYShjLCJzY3JpcHQiKSksYy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGMpKTtyZXR1cm4gdGhpc30sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYj0wO251bGwhPShhPXRoaXNbYl0pO2IrKykxPT09YS5ub2RlVHlwZSYmKG4uY2xlYW5EYXRhKG9hKGEsITEpKSxhLnRleHRDb250ZW50PSIiKTtyZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT1udWxsPT1hPyExOmEsYj1udWxsPT1iP2E6Yix0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBuLmNsb25lKHRoaXMsYSxiKX0pfSxodG1sOmZ1bmN0aW9uKGEpe3JldHVybiBKKHRoaXMsZnVuY3Rpb24oYSl7dmFyIGI9dGhpc1swXXx8e30sYz0wLGQ9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09YSYmMT09PWIubm9kZVR5cGUpcmV0dXJuIGIuaW5uZXJIVE1MO2lmKCJzdHJpbmciPT10eXBlb2YgYSYmIWRhLnRlc3QoYSkmJiFpYVsoYmEuZXhlYyhhKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2E9YS5yZXBsYWNlKGFhLCI8JDE+PC8kMj4iKTt0cnl7Zm9yKDtkPmM7YysrKWI9dGhpc1tjXXx8e30sMT09PWIubm9kZVR5cGUmJihuLmNsZWFuRGF0YShvYShiLCExKSksYi5pbm5lckhUTUw9YSk7Yj0wfWNhdGNoKGUpe319YiYmdGhpcy5lbXB0eSgpLmFwcGVuZChhKX0sbnVsbCxhLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oYil7YT10aGlzLnBhcmVudE5vZGUsbi5jbGVhbkRhdGEob2EodGhpcykpLGEmJmEucmVwbGFjZUNoaWxkKGIsdGhpcyl9KSxhJiYoYS5sZW5ndGh8fGEubm9kZVR5cGUpP3RoaXM6dGhpcy5yZW1vdmUoKX0sZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJlbW92ZShhLCEwKX0sZG9tTWFuaXA6ZnVuY3Rpb24oYSxiKXthPWUuYXBwbHkoW10sYSk7dmFyIGMsZCxmLGcsaCxpLGo9MCxsPXRoaXMubGVuZ3RoLG09dGhpcyxvPWwtMSxwPWFbMF0scT1uLmlzRnVuY3Rpb24ocCk7aWYocXx8bD4xJiYic3RyaW5nIj09dHlwZW9mIHAmJiFrLmNoZWNrQ2xvbmUmJmVhLnRlc3QocCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjKXt2YXIgZD1tLmVxKGMpO3EmJihhWzBdPXAuY2FsbCh0aGlzLGMsZC5odG1sKCkpKSxkLmRvbU1hbmlwKGEsYil9KTtpZihsJiYoYz1uLmJ1aWxkRnJhZ21lbnQoYSx0aGlzWzBdLm93bmVyRG9jdW1lbnQsITEsdGhpcyksZD1jLmZpcnN0Q2hpbGQsMT09PWMuY2hpbGROb2Rlcy5sZW5ndGgmJihjPWQpLGQpKXtmb3IoZj1uLm1hcChvYShjLCJzY3JpcHQiKSxrYSksZz1mLmxlbmd0aDtsPmo7aisrKWg9YyxqIT09byYmKGg9bi5jbG9uZShoLCEwLCEwKSxnJiZuLm1lcmdlKGYsb2EoaCwic2NyaXB0IikpKSxiLmNhbGwodGhpc1tqXSxoLGopO2lmKGcpZm9yKGk9ZltmLmxlbmd0aC0xXS5vd25lckRvY3VtZW50LG4ubWFwKGYsbGEpLGo9MDtnPmo7aisrKWg9ZltqXSxmYS50ZXN0KGgudHlwZXx8IiIpJiYhTC5hY2Nlc3MoaCwiZ2xvYmFsRXZhbCIpJiZuLmNvbnRhaW5zKGksaCkmJihoLnNyYz9uLl9ldmFsVXJsJiZuLl9ldmFsVXJsKGguc3JjKTpuLmdsb2JhbEV2YWwoaC50ZXh0Q29udGVudC5yZXBsYWNlKGhhLCIiKSkpfXJldHVybiB0aGlzfX0pLG4uZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhKXtmb3IodmFyIGMsZD1bXSxlPW4oYSksZz1lLmxlbmd0aC0xLGg9MDtnPj1oO2grKyljPWg9PT1nP3RoaXM6dGhpcy5jbG9uZSghMCksbihlW2hdKVtiXShjKSxmLmFwcGx5KGQsYy5nZXQoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGQpfX0pO3ZhciBxYSxyYT17fTtmdW5jdGlvbiBzYShiLGMpe3ZhciBkLGU9bihjLmNyZWF0ZUVsZW1lbnQoYikpLmFwcGVuZFRvKGMuYm9keSksZj1hLmdldERlZmF1bHRDb21wdXRlZFN0eWxlJiYoZD1hLmdldERlZmF1bHRDb21wdXRlZFN0eWxlKGVbMF0pKT9kLmRpc3BsYXk6bi5jc3MoZVswXSwiZGlzcGxheSIpO3JldHVybiBlLmRldGFjaCgpLGZ9ZnVuY3Rpb24gdGEoYSl7dmFyIGI9bCxjPXJhW2FdO3JldHVybiBjfHwoYz1zYShhLGIpLCJub25lIiE9PWMmJmN8fChxYT0ocWF8fG4oIjxpZnJhbWUgZnJhbWVib3JkZXI9JzAnIHdpZHRoPScwJyBoZWlnaHQ9JzAnLz4iKSkuYXBwZW5kVG8oYi5kb2N1bWVudEVsZW1lbnQpLGI9cWFbMF0uY29udGVudERvY3VtZW50LGIud3JpdGUoKSxiLmNsb3NlKCksYz1zYShhLGIpLHFhLmRldGFjaCgpKSxyYVthXT1jKSxjfXZhciB1YT0vXm1hcmdpbi8sdmE9bmV3IFJlZ0V4cCgiXigiK1ErIikoPyFweClbYS16JV0rJCIsImkiKSx3YT1mdW5jdGlvbihiKXtyZXR1cm4gYi5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3Lm9wZW5lcj9iLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShiLG51bGwpOmEuZ2V0Q29tcHV0ZWRTdHlsZShiLG51bGwpfTtmdW5jdGlvbiB4YShhLGIsYyl7dmFyIGQsZSxmLGcsaD1hLnN0eWxlO3JldHVybiBjPWN8fHdhKGEpLGMmJihnPWMuZ2V0UHJvcGVydHlWYWx1ZShiKXx8Y1tiXSksYyYmKCIiIT09Z3x8bi5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSl8fChnPW4uc3R5bGUoYSxiKSksdmEudGVzdChnKSYmdWEudGVzdChiKSYmKGQ9aC53aWR0aCxlPWgubWluV2lkdGgsZj1oLm1heFdpZHRoLGgubWluV2lkdGg9aC5tYXhXaWR0aD1oLndpZHRoPWcsZz1jLndpZHRoLGgud2lkdGg9ZCxoLm1pbldpZHRoPWUsaC5tYXhXaWR0aD1mKSksdm9pZCAwIT09Zz9nKyIiOmd9ZnVuY3Rpb24geWEoYSxiKXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEoKT92b2lkIGRlbGV0ZSB0aGlzLmdldDoodGhpcy5nZXQ9YikuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19IWZ1bmN0aW9uKCl7dmFyIGIsYyxkPWwuZG9jdW1lbnRFbGVtZW50LGU9bC5jcmVhdGVFbGVtZW50KCJkaXYiKSxmPWwuY3JlYXRlRWxlbWVudCgiZGl2Iik7aWYoZi5zdHlsZSl7Zi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iY29udGVudC1ib3giLGYuY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iIixrLmNsZWFyQ2xvbmVTdHlsZT0iY29udGVudC1ib3giPT09Zi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCxlLnN0eWxlLmNzc1RleHQ9ImJvcmRlcjowO3dpZHRoOjA7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4O21hcmdpbi10b3A6MXB4O3Bvc2l0aW9uOmFic29sdXRlIixlLmFwcGVuZENoaWxkKGYpO2Z1bmN0aW9uIGcoKXtmLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbi10b3A6MSU7dG9wOjElO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NHB4O3Bvc2l0aW9uOmFic29sdXRlIixmLmlubmVySFRNTD0iIixkLmFwcGVuZENoaWxkKGUpO3ZhciBnPWEuZ2V0Q29tcHV0ZWRTdHlsZShmLG51bGwpO2I9IjElIiE9PWcudG9wLGM9IjRweCI9PT1nLndpZHRoLGQucmVtb3ZlQ2hpbGQoZSl9YS5nZXRDb21wdXRlZFN0eWxlJiZuLmV4dGVuZChrLHtwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGcoKSxifSxib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT1jJiZnKCksY30scmVsaWFibGVNYXJnaW5SaWdodDpmdW5jdGlvbigpe3ZhciBiLGM9Zi5hcHBlbmRDaGlsZChsLmNyZWF0ZUVsZW1lbnQoImRpdiIpKTtyZXR1cm4gYy5zdHlsZS5jc3NUZXh0PWYuc3R5bGUuY3NzVGV4dD0iLXdlYmtpdC1ib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy1tb3otYm94LXNpemluZzpjb250ZW50LWJveDtib3gtc2l6aW5nOmNvbnRlbnQtYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzowIixjLnN0eWxlLm1hcmdpblJpZ2h0PWMuc3R5bGUud2lkdGg9IjAiLGYuc3R5bGUud2lkdGg9IjFweCIsZC5hcHBlbmRDaGlsZChlKSxiPSFwYXJzZUZsb2F0KGEuZ2V0Q29tcHV0ZWRTdHlsZShjLG51bGwpLm1hcmdpblJpZ2h0KSxkLnJlbW92ZUNoaWxkKGUpLGYucmVtb3ZlQ2hpbGQoYyksYn19KX19KCksbi5zd2FwPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZz17fTtmb3IoZiBpbiBiKWdbZl09YS5zdHlsZVtmXSxhLnN0eWxlW2ZdPWJbZl07ZT1jLmFwcGx5KGEsZHx8W10pO2ZvcihmIGluIGIpYS5zdHlsZVtmXT1nW2ZdO3JldHVybiBlfTt2YXIgemE9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLEFhPW5ldyBSZWdFeHAoIl4oIitRKyIpKC4qKSQiLCJpIiksQmE9bmV3IFJlZ0V4cCgiXihbKy1dKT0oIitRKyIpIiwiaSIpLENhPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxEYT17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn0sRWE9WyJXZWJraXQiLCJPIiwiTW96IiwibXMiXTtmdW5jdGlvbiBGYShhLGIpe2lmKGIgaW4gYSlyZXR1cm4gYjt2YXIgYz1iWzBdLnRvVXBwZXJDYXNlKCkrYi5zbGljZSgxKSxkPWIsZT1FYS5sZW5ndGg7d2hpbGUoZS0tKWlmKGI9RWFbZV0rYyxiIGluIGEpcmV0dXJuIGI7cmV0dXJuIGR9ZnVuY3Rpb24gR2EoYSxiLGMpe3ZhciBkPUFhLmV4ZWMoYik7cmV0dXJuIGQ/TWF0aC5tYXgoMCxkWzFdLShjfHwwKSkrKGRbMl18fCJweCIpOmJ9ZnVuY3Rpb24gSGEoYSxiLGMsZCxlKXtmb3IodmFyIGY9Yz09PShkPyJib3JkZXIiOiJjb250ZW50Iik/NDoid2lkdGgiPT09Yj8xOjAsZz0wOzQ+ZjtmKz0yKSJtYXJnaW4iPT09YyYmKGcrPW4uY3NzKGEsYytSW2ZdLCEwLGUpKSxkPygiY29udGVudCI9PT1jJiYoZy09bi5jc3MoYSwicGFkZGluZyIrUltmXSwhMCxlKSksIm1hcmdpbiIhPT1jJiYoZy09bi5jc3MoYSwiYm9yZGVyIitSW2ZdKyJXaWR0aCIsITAsZSkpKTooZys9bi5jc3MoYSwicGFkZGluZyIrUltmXSwhMCxlKSwicGFkZGluZyIhPT1jJiYoZys9bi5jc3MoYSwiYm9yZGVyIitSW2ZdKyJXaWR0aCIsITAsZSkpKTtyZXR1cm4gZ31mdW5jdGlvbiBJYShhLGIsYyl7dmFyIGQ9ITAsZT0id2lkdGgiPT09Yj9hLm9mZnNldFdpZHRoOmEub2Zmc2V0SGVpZ2h0LGY9d2EoYSksZz0iYm9yZGVyLWJveCI9PT1uLmNzcyhhLCJib3hTaXppbmciLCExLGYpO2lmKDA+PWV8fG51bGw9PWUpe2lmKGU9eGEoYSxiLGYpLCgwPmV8fG51bGw9PWUpJiYoZT1hLnN0eWxlW2JdKSx2YS50ZXN0KGUpKXJldHVybiBlO2Q9ZyYmKGsuYm94U2l6aW5nUmVsaWFibGUoKXx8ZT09PWEuc3R5bGVbYl0pLGU9cGFyc2VGbG9hdChlKXx8MH1yZXR1cm4gZStIYShhLGIsY3x8KGc/ImJvcmRlciI6ImNvbnRlbnQiKSxkLGYpKyJweCJ9ZnVuY3Rpb24gSmEoYSxiKXtmb3IodmFyIGMsZCxlLGY9W10sZz0wLGg9YS5sZW5ndGg7aD5nO2crKylkPWFbZ10sZC5zdHlsZSYmKGZbZ109TC5nZXQoZCwib2xkZGlzcGxheSIpLGM9ZC5zdHlsZS5kaXNwbGF5LGI/KGZbZ118fCJub25lIiE9PWN8fChkLnN0eWxlLmRpc3BsYXk9IiIpLCIiPT09ZC5zdHlsZS5kaXNwbGF5JiZTKGQpJiYoZltnXT1MLmFjY2VzcyhkLCJvbGRkaXNwbGF5Iix0YShkLm5vZGVOYW1lKSkpKTooZT1TKGQpLCJub25lIj09PWMmJmV8fEwuc2V0KGQsIm9sZGRpc3BsYXkiLGU/YzpuLmNzcyhkLCJkaXNwbGF5IikpKSk7Zm9yKGc9MDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoYiYmIm5vbmUiIT09ZC5zdHlsZS5kaXNwbGF5JiYiIiE9PWQuc3R5bGUuZGlzcGxheXx8KGQuc3R5bGUuZGlzcGxheT1iP2ZbZ118fCIiOiJub25lIikpO3JldHVybiBhfW4uZXh0ZW5kKHtjc3NIb29rczp7b3BhY2l0eTp7Z2V0OmZ1bmN0aW9uKGEsYil7aWYoYil7dmFyIGM9eGEoYSwib3BhY2l0eSIpO3JldHVybiIiPT09Yz8iMSI6Y319fX0sY3NzTnVtYmVyOntjb2x1bW5Db3VudDohMCxmaWxsT3BhY2l0eTohMCxmbGV4R3JvdzohMCxmbGV4U2hyaW5rOiEwLGZvbnRXZWlnaHQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwfSxjc3NQcm9wczp7ImZsb2F0IjoiY3NzRmxvYXQifSxzdHlsZTpmdW5jdGlvbihhLGIsYyxkKXtpZihhJiYzIT09YS5ub2RlVHlwZSYmOCE9PWEubm9kZVR5cGUmJmEuc3R5bGUpe3ZhciBlLGYsZyxoPW4uY2FtZWxDYXNlKGIpLGk9YS5zdHlsZTtyZXR1cm4gYj1uLmNzc1Byb3BzW2hdfHwobi5jc3NQcm9wc1toXT1GYShpLGgpKSxnPW4uY3NzSG9va3NbYl18fG4uY3NzSG9va3NbaF0sdm9pZCAwPT09Yz9nJiYiZ2V0ImluIGcmJnZvaWQgMCE9PShlPWcuZ2V0KGEsITEsZCkpP2U6aVtiXTooZj10eXBlb2YgYywic3RyaW5nIj09PWYmJihlPUJhLmV4ZWMoYykpJiYoYz0oZVsxXSsxKSplWzJdK3BhcnNlRmxvYXQobi5jc3MoYSxiKSksZj0ibnVtYmVyIiksbnVsbCE9YyYmYz09PWMmJigibnVtYmVyIiE9PWZ8fG4uY3NzTnVtYmVyW2hdfHwoYys9InB4Iiksay5jbGVhckNsb25lU3R5bGV8fCIiIT09Y3x8MCE9PWIuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwoaVtiXT0iaW5oZXJpdCIpLGcmJiJzZXQiaW4gZyYmdm9pZCAwPT09KGM9Zy5zZXQoYSxjLGQpKXx8KGlbYl09YykpLHZvaWQgMCl9fSxjc3M6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnLGg9bi5jYW1lbENhc2UoYik7cmV0dXJuIGI9bi5jc3NQcm9wc1toXXx8KG4uY3NzUHJvcHNbaF09RmEoYS5zdHlsZSxoKSksZz1uLmNzc0hvb2tzW2JdfHxuLmNzc0hvb2tzW2hdLGcmJiJnZXQiaW4gZyYmKGU9Zy5nZXQoYSwhMCxjKSksdm9pZCAwPT09ZSYmKGU9eGEoYSxiLGQpKSwibm9ybWFsIj09PWUmJmIgaW4gRGEmJihlPURhW2JdKSwiIj09PWN8fGM/KGY9cGFyc2VGbG9hdChlKSxjPT09ITB8fG4uaXNOdW1lcmljKGYpP2Z8fDA6ZSk6ZX19KSxuLmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gYz96YS50ZXN0KG4uY3NzKGEsImRpc3BsYXkiKSkmJjA9PT1hLm9mZnNldFdpZHRoP24uc3dhcChhLENhLGZ1bmN0aW9uKCl7cmV0dXJuIElhKGEsYixkKX0pOklhKGEsYixkKTp2b2lkIDB9LHNldDpmdW5jdGlvbihhLGMsZCl7dmFyIGU9ZCYmd2EoYSk7cmV0dXJuIEdhKGEsYyxkP0hhKGEsYixkLCJib3JkZXItYm94Ij09PW4uY3NzKGEsImJveFNpemluZyIsITEsZSksZSk6MCl9fX0pLG4uY3NzSG9va3MubWFyZ2luUmlnaHQ9eWEoay5yZWxpYWJsZU1hcmdpblJpZ2h0LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/bi5zd2FwKGEse2Rpc3BsYXk6ImlubGluZS1ibG9jayJ9LHhhLFthLCJtYXJnaW5SaWdodCJdKTp2b2lkIDB9KSxuLmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihhLGIpe24uY3NzSG9va3NbYStiXT17ZXhwYW5kOmZ1bmN0aW9uKGMpe2Zvcih2YXIgZD0wLGU9e30sZj0ic3RyaW5nIj09dHlwZW9mIGM/Yy5zcGxpdCgiICIpOltjXTs0PmQ7ZCsrKWVbYStSW2RdK2JdPWZbZF18fGZbZC0yXXx8ZlswXTtyZXR1cm4gZX19LHVhLnRlc3QoYSl8fChuLmNzc0hvb2tzW2ErYl0uc2V0PUdhKX0pLG4uZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSih0aGlzLGZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9e30sZz0wO2lmKG4uaXNBcnJheShiKSl7Zm9yKGQ9d2EoYSksZT1iLmxlbmd0aDtlPmc7ZysrKWZbYltnXV09bi5jc3MoYSxiW2ddLCExLGQpO3JldHVybiBmfXJldHVybiB2b2lkIDAhPT1jP24uc3R5bGUoYSxiLGMpOm4uY3NzKGEsYil9LGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIEphKHRoaXMsITApfSxoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIEphKHRoaXMpfSx0b2dnbGU6ZnVuY3Rpb24oYSl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgYT9hP3RoaXMuc2hvdygpOnRoaXMuaGlkZSgpOnRoaXMuZWFjaChmdW5jdGlvbigpe1ModGhpcyk/bih0aGlzKS5zaG93KCk6bih0aGlzKS5oaWRlKCl9KX19KTtmdW5jdGlvbiBLYShhLGIsYyxkLGUpe3JldHVybiBuZXcgS2EucHJvdG90eXBlLmluaXQoYSxiLGMsZCxlKX1uLlR3ZWVuPUthLEthLnByb3RvdHlwZT17Y29uc3RydWN0b3I6S2EsaW5pdDpmdW5jdGlvbihhLGIsYyxkLGUsZil7dGhpcy5lbGVtPWEsdGhpcy5wcm9wPWMsdGhpcy5lYXNpbmc9ZXx8InN3aW5nIix0aGlzLm9wdGlvbnM9Yix0aGlzLnN0YXJ0PXRoaXMubm93PXRoaXMuY3VyKCksdGhpcy5lbmQ9ZCx0aGlzLnVuaXQ9Znx8KG4uY3NzTnVtYmVyW2NdPyIiOiJweCIpfSxjdXI6ZnVuY3Rpb24oKXt2YXIgYT1LYS5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gYSYmYS5nZXQ/YS5nZXQodGhpcyk6S2EucHJvcEhvb2tzLl9kZWZhdWx0LmdldCh0aGlzKX0scnVuOmZ1bmN0aW9uKGEpe3ZhciBiLGM9S2EucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIHRoaXMub3B0aW9ucy5kdXJhdGlvbj90aGlzLnBvcz1iPW4uZWFzaW5nW3RoaXMuZWFzaW5nXShhLHRoaXMub3B0aW9ucy5kdXJhdGlvbiphLDAsMSx0aGlzLm9wdGlvbnMuZHVyYXRpb24pOnRoaXMucG9zPWI9YSx0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqYit0aGlzLnN0YXJ0LHRoaXMub3B0aW9ucy5zdGVwJiZ0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSx0aGlzLm5vdyx0aGlzKSxjJiZjLnNldD9jLnNldCh0aGlzKTpLYS5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fSxLYS5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGU9S2EucHJvdG90eXBlLEthLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gbnVsbD09YS5lbGVtW2EucHJvcF18fGEuZWxlbS5zdHlsZSYmbnVsbCE9YS5lbGVtLnN0eWxlW2EucHJvcF0/KGI9bi5jc3MoYS5lbGVtLGEucHJvcCwiIiksYiYmImF1dG8iIT09Yj9iOjApOmEuZWxlbVthLnByb3BdfSxzZXQ6ZnVuY3Rpb24oYSl7bi5meC5zdGVwW2EucHJvcF0/bi5meC5zdGVwW2EucHJvcF0oYSk6YS5lbGVtLnN0eWxlJiYobnVsbCE9YS5lbGVtLnN0eWxlW24uY3NzUHJvcHNbYS5wcm9wXV18fG4uY3NzSG9va3NbYS5wcm9wXSk/bi5zdHlsZShhLmVsZW0sYS5wcm9wLGEubm93K2EudW5pdCk6YS5lbGVtW2EucHJvcF09YS5ub3d9fX0sS2EucHJvcEhvb2tzLnNjcm9sbFRvcD1LYS5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGEpe2EuZWxlbS5ub2RlVHlwZSYmYS5lbGVtLnBhcmVudE5vZGUmJihhLmVsZW1bYS5wcm9wXT1hLm5vdyl9fSxuLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxzd2luZzpmdW5jdGlvbihhKXtyZXR1cm4uNS1NYXRoLmNvcyhhKk1hdGguUEkpLzJ9fSxuLmZ4PUthLnByb3RvdHlwZS5pbml0LG4uZnguc3RlcD17fTt2YXIgTGEsTWEsTmE9L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLE9hPW5ldyBSZWdFeHAoIl4oPzooWystXSk9fCkoIitRKyIpKFthLXolXSopJCIsImkiKSxQYT0vcXVldWVIb29rcyQvLFFhPVtWYV0sUmE9eyIqIjpbZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNyZWF0ZVR3ZWVuKGEsYiksZD1jLmN1cigpLGU9T2EuZXhlYyhiKSxmPWUmJmVbM118fChuLmNzc051bWJlclthXT8iIjoicHgiKSxnPShuLmNzc051bWJlclthXXx8InB4IiE9PWYmJitkKSYmT2EuZXhlYyhuLmNzcyhjLmVsZW0sYSkpLGg9MSxpPTIwO2lmKGcmJmdbM10hPT1mKXtmPWZ8fGdbM10sZT1lfHxbXSxnPStkfHwxO2RvIGg9aHx8Ii41IixnLz1oLG4uc3R5bGUoYy5lbGVtLGEsZytmKTt3aGlsZShoIT09KGg9Yy5jdXIoKS9kKSYmMSE9PWgmJi0taSl9cmV0dXJuIGUmJihnPWMuc3RhcnQ9K2d8fCtkfHwwLGMudW5pdD1mLGMuZW5kPWVbMV0/ZysoZVsxXSsxKSplWzJdOitlWzJdKSxjfV19O2Z1bmN0aW9uIFNhKCl7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtMYT12b2lkIDB9KSxMYT1uLm5vdygpfWZ1bmN0aW9uIFRhKGEsYil7dmFyIGMsZD0wLGU9e2hlaWdodDphfTtmb3IoYj1iPzE6MDs0PmQ7ZCs9Mi1iKWM9UltkXSxlWyJtYXJnaW4iK2NdPWVbInBhZGRpbmciK2NdPWE7cmV0dXJuIGImJihlLm9wYWNpdHk9ZS53aWR0aD1hKSxlfWZ1bmN0aW9uIFVhKGEsYixjKXtmb3IodmFyIGQsZT0oUmFbYl18fFtdKS5jb25jYXQoUmFbIioiXSksZj0wLGc9ZS5sZW5ndGg7Zz5mO2YrKylpZihkPWVbZl0uY2FsbChjLGIsYSkpcmV0dXJuIGR9ZnVuY3Rpb24gVmEoYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbD10aGlzLG09e30sbz1hLnN0eWxlLHA9YS5ub2RlVHlwZSYmUyhhKSxxPUwuZ2V0KGEsImZ4c2hvdyIpO2MucXVldWV8fChoPW4uX3F1ZXVlSG9va3MoYSwiZngiKSxudWxsPT1oLnVucXVldWVkJiYoaC51bnF1ZXVlZD0wLGk9aC5lbXB0eS5maXJlLGguZW1wdHkuZmlyZT1mdW5jdGlvbigpe2gudW5xdWV1ZWR8fGkoKX0pLGgudW5xdWV1ZWQrKyxsLmFsd2F5cyhmdW5jdGlvbigpe2wuYWx3YXlzKGZ1bmN0aW9uKCl7aC51bnF1ZXVlZC0tLG4ucXVldWUoYSwiZngiKS5sZW5ndGh8fGguZW1wdHkuZmlyZSgpfSl9KSksMT09PWEubm9kZVR5cGUmJigiaGVpZ2h0ImluIGJ8fCJ3aWR0aCJpbiBiKSYmKGMub3ZlcmZsb3c9W28ub3ZlcmZsb3csby5vdmVyZmxvd1gsby5vdmVyZmxvd1ldLGo9bi5jc3MoYSwiZGlzcGxheSIpLGs9Im5vbmUiPT09aj9MLmdldChhLCJvbGRkaXNwbGF5Iil8fHRhKGEubm9kZU5hbWUpOmosImlubGluZSI9PT1rJiYibm9uZSI9PT1uLmNzcyhhLCJmbG9hdCIpJiYoby5kaXNwbGF5PSJpbmxpbmUtYmxvY2siKSksYy5vdmVyZmxvdyYmKG8ub3ZlcmZsb3c9ImhpZGRlbiIsbC5hbHdheXMoZnVuY3Rpb24oKXtvLm92ZXJmbG93PWMub3ZlcmZsb3dbMF0sby5vdmVyZmxvd1g9Yy5vdmVyZmxvd1sxXSxvLm92ZXJmbG93WT1jLm92ZXJmbG93WzJdfSkpO2ZvcihkIGluIGIpaWYoZT1iW2RdLE5hLmV4ZWMoZSkpe2lmKGRlbGV0ZSBiW2RdLGY9Znx8InRvZ2dsZSI9PT1lLGU9PT0ocD8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09ZXx8IXF8fHZvaWQgMD09PXFbZF0pY29udGludWU7cD0hMH1tW2RdPXEmJnFbZF18fG4uc3R5bGUoYSxkKX1lbHNlIGo9dm9pZCAwO2lmKG4uaXNFbXB0eU9iamVjdChtKSkiaW5saW5lIj09PSgibm9uZSI9PT1qP3RhKGEubm9kZU5hbWUpOmopJiYoby5kaXNwbGF5PWopO2Vsc2V7cT8iaGlkZGVuImluIHEmJihwPXEuaGlkZGVuKTpxPUwuYWNjZXNzKGEsImZ4c2hvdyIse30pLGYmJihxLmhpZGRlbj0hcCkscD9uKGEpLnNob3coKTpsLmRvbmUoZnVuY3Rpb24oKXtuKGEpLmhpZGUoKX0pLGwuZG9uZShmdW5jdGlvbigpe3ZhciBiO0wucmVtb3ZlKGEsImZ4c2hvdyIpO2ZvcihiIGluIG0pbi5zdHlsZShhLGIsbVtiXSl9KTtmb3IoZCBpbiBtKWc9VWEocD9xW2RdOjAsZCxsKSxkIGluIHF8fChxW2RdPWcuc3RhcnQscCYmKGcuZW5kPWcuc3RhcnQsZy5zdGFydD0id2lkdGgiPT09ZHx8ImhlaWdodCI9PT1kPzE6MCkpfX1mdW5jdGlvbiBXYShhLGIpe3ZhciBjLGQsZSxmLGc7Zm9yKGMgaW4gYSlpZihkPW4uY2FtZWxDYXNlKGMpLGU9YltkXSxmPWFbY10sbi5pc0FycmF5KGYpJiYoZT1mWzFdLGY9YVtjXT1mWzBdKSxjIT09ZCYmKGFbZF09ZixkZWxldGUgYVtjXSksZz1uLmNzc0hvb2tzW2RdLGcmJiJleHBhbmQiaW4gZyl7Zj1nLmV4cGFuZChmKSxkZWxldGUgYVtkXTtmb3IoYyBpbiBmKWMgaW4gYXx8KGFbY109ZltjXSxiW2NdPWUpfWVsc2UgYltkXT1lfWZ1bmN0aW9uIFhhKGEsYixjKXt2YXIgZCxlLGY9MCxnPVFhLmxlbmd0aCxoPW4uRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgaS5lbGVtfSksaT1mdW5jdGlvbigpe2lmKGUpcmV0dXJuITE7Zm9yKHZhciBiPUxhfHxTYSgpLGM9TWF0aC5tYXgoMCxqLnN0YXJ0VGltZStqLmR1cmF0aW9uLWIpLGQ9Yy9qLmR1cmF0aW9ufHwwLGY9MS1kLGc9MCxpPWoudHdlZW5zLmxlbmd0aDtpPmc7ZysrKWoudHdlZW5zW2ddLnJ1bihmKTtyZXR1cm4gaC5ub3RpZnlXaXRoKGEsW2osZixjXSksMT5mJiZpP2M6KGgucmVzb2x2ZVdpdGgoYSxbal0pLCExKX0saj1oLnByb21pc2Uoe2VsZW06YSxwcm9wczpuLmV4dGVuZCh7fSxiKSxvcHRzOm4uZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9fSxjKSxvcmlnaW5hbFByb3BlcnRpZXM6YixvcmlnaW5hbE9wdGlvbnM6YyxzdGFydFRpbWU6TGF8fFNhKCksZHVyYXRpb246Yy5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24oYixjKXt2YXIgZD1uLlR3ZWVuKGEsai5vcHRzLGIsYyxqLm9wdHMuc3BlY2lhbEVhc2luZ1tiXXx8ai5vcHRzLmVhc2luZyk7cmV0dXJuIGoudHdlZW5zLnB1c2goZCksZH0sc3RvcDpmdW5jdGlvbihiKXt2YXIgYz0wLGQ9Yj9qLnR3ZWVucy5sZW5ndGg6MDtpZihlKXJldHVybiB0aGlzO2ZvcihlPSEwO2Q+YztjKyspai50d2VlbnNbY10ucnVuKDEpO3JldHVybiBiP2gucmVzb2x2ZVdpdGgoYSxbaixiXSk6aC5yZWplY3RXaXRoKGEsW2osYl0pLHRoaXN9fSksaz1qLnByb3BzO2ZvcihXYShrLGoub3B0cy5zcGVjaWFsRWFzaW5nKTtnPmY7ZisrKWlmKGQ9UWFbZl0uY2FsbChqLGEsayxqLm9wdHMpKXJldHVybiBkO3JldHVybiBuLm1hcChrLFVhLGopLG4uaXNGdW5jdGlvbihqLm9wdHMuc3RhcnQpJiZqLm9wdHMuc3RhcnQuY2FsbChhLGopLG4uZngudGltZXIobi5leHRlbmQoaSx7ZWxlbTphLGFuaW06aixxdWV1ZTpqLm9wdHMucXVldWV9KSksai5wcm9ncmVzcyhqLm9wdHMucHJvZ3Jlc3MpLmRvbmUoai5vcHRzLmRvbmUsai5vcHRzLmNvbXBsZXRlKS5mYWlsKGoub3B0cy5mYWlsKS5hbHdheXMoai5vcHRzLmFsd2F5cyl9bi5BbmltYXRpb249bi5leHRlbmQoWGEse3R3ZWVuZXI6ZnVuY3Rpb24oYSxiKXtuLmlzRnVuY3Rpb24oYSk/KGI9YSxhPVsiKiJdKTphPWEuc3BsaXQoIiAiKTtmb3IodmFyIGMsZD0wLGU9YS5sZW5ndGg7ZT5kO2QrKyljPWFbZF0sUmFbY109UmFbY118fFtdLFJhW2NdLnVuc2hpZnQoYil9LHByZWZpbHRlcjpmdW5jdGlvbihhLGIpe2I/UWEudW5zaGlmdChhKTpRYS5wdXNoKGEpfX0pLG4uc3BlZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEmJiJvYmplY3QiPT10eXBlb2YgYT9uLmV4dGVuZCh7fSxhKTp7Y29tcGxldGU6Y3x8IWMmJmJ8fG4uaXNGdW5jdGlvbihhKSYmYSxkdXJhdGlvbjphLGVhc2luZzpjJiZifHxiJiYhbi5pc0Z1bmN0aW9uKGIpJiZifTtyZXR1cm4gZC5kdXJhdGlvbj1uLmZ4Lm9mZj8wOiJudW1iZXIiPT10eXBlb2YgZC5kdXJhdGlvbj9kLmR1cmF0aW9uOmQuZHVyYXRpb24gaW4gbi5meC5zcGVlZHM/bi5meC5zcGVlZHNbZC5kdXJhdGlvbl06bi5meC5zcGVlZHMuX2RlZmF1bHQsKG51bGw9PWQucXVldWV8fGQucXVldWU9PT0hMCkmJihkLnF1ZXVlPSJmeCIpLGQub2xkPWQuY29tcGxldGUsZC5jb21wbGV0ZT1mdW5jdGlvbigpe24uaXNGdW5jdGlvbihkLm9sZCkmJmQub2xkLmNhbGwodGhpcyksZC5xdWV1ZSYmbi5kZXF1ZXVlKHRoaXMsZC5xdWV1ZSl9LGR9LG4uZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuZmlsdGVyKFMpLmNzcygib3BhY2l0eSIsMCkuc2hvdygpLmVuZCgpLmFuaW1hdGUoe29wYWNpdHk6Yn0sYSxjLGQpfSxhbmltYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW4uaXNFbXB0eU9iamVjdChhKSxmPW4uc3BlZWQoYixjLGQpLGc9ZnVuY3Rpb24oKXt2YXIgYj1YYSh0aGlzLG4uZXh0ZW5kKHt9LGEpLGYpOyhlfHxMLmdldCh0aGlzLCJmaW5pc2giKSkmJmIuc3RvcCghMCl9O3JldHVybiBnLmZpbmlzaD1nLGV8fGYucXVldWU9PT0hMT90aGlzLmVhY2goZyk6dGhpcy5xdWV1ZShmLnF1ZXVlLGcpfSxzdG9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihhKXt2YXIgYj1hLnN0b3A7ZGVsZXRlIGEuc3RvcCxiKGMpfTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGEmJihjPWIsYj1hLGE9dm9pZCAwKSxiJiZhIT09ITEmJnRoaXMucXVldWUoYXx8ImZ4IixbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9ITAsZT1udWxsIT1hJiZhKyJxdWV1ZUhvb2tzIixmPW4udGltZXJzLGc9TC5nZXQodGhpcyk7aWYoZSlnW2VdJiZnW2VdLnN0b3AmJmQoZ1tlXSk7ZWxzZSBmb3IoZSBpbiBnKWdbZV0mJmdbZV0uc3RvcCYmUGEudGVzdChlKSYmZChnW2VdKTtmb3IoZT1mLmxlbmd0aDtlLS07KWZbZV0uZWxlbSE9PXRoaXN8fG51bGwhPWEmJmZbZV0ucXVldWUhPT1hfHwoZltlXS5hbmltLnN0b3AoYyksYj0hMSxmLnNwbGljZShlLDEpKTsoYnx8IWMpJiZuLmRlcXVldWUodGhpcyxhKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT0hMSYmKGE9YXx8ImZ4IiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsYz1MLmdldCh0aGlzKSxkPWNbYSsicXVldWUiXSxlPWNbYSsicXVldWVIb29rcyJdLGY9bi50aW1lcnMsZz1kP2QubGVuZ3RoOjA7Zm9yKGMuZmluaXNoPSEwLG4ucXVldWUodGhpcyxhLFtdKSxlJiZlLnN0b3AmJmUuc3RvcC5jYWxsKHRoaXMsITApLGI9Zi5sZW5ndGg7Yi0tOylmW2JdLmVsZW09PT10aGlzJiZmW2JdLnF1ZXVlPT09YSYmKGZbYl0uYW5pbS5zdG9wKCEwKSxmLnNwbGljZShiLDEpKTtmb3IoYj0wO2c+YjtiKyspZFtiXSYmZFtiXS5maW5pc2gmJmRbYl0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIGMuZmluaXNofSl9fSksbi5lYWNoKFsidG9nZ2xlIiwic2hvdyIsImhpZGUiXSxmdW5jdGlvbihhLGIpe3ZhciBjPW4uZm5bYl07bi5mbltiXT1mdW5jdGlvbihhLGQsZSl7cmV0dXJuIG51bGw9PWF8fCJib29sZWFuIj09dHlwZW9mIGE/Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKFRhKGIsITApLGEsZCxlKX19KSxuLmVhY2goe3NsaWRlRG93bjpUYSgic2hvdyIpLHNsaWRlVXA6VGEoImhpZGUiKSxzbGlkZVRvZ2dsZTpUYSgidG9nZ2xlIiksZmFkZUluOntvcGFjaXR5OiJzaG93In0sZmFkZU91dDp7b3BhY2l0eToiaGlkZSJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6InRvZ2dsZSJ9fSxmdW5jdGlvbihhLGIpe24uZm5bYV09ZnVuY3Rpb24oYSxjLGQpe3JldHVybiB0aGlzLmFuaW1hdGUoYixhLGMsZCl9fSksbi50aW1lcnM9W10sbi5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGEsYj0wLGM9bi50aW1lcnM7Zm9yKExhPW4ubm93KCk7YjxjLmxlbmd0aDtiKyspYT1jW2JdLGEoKXx8Y1tiXSE9PWF8fGMuc3BsaWNlKGItLSwxKTtjLmxlbmd0aHx8bi5meC5zdG9wKCksTGE9dm9pZCAwfSxuLmZ4LnRpbWVyPWZ1bmN0aW9uKGEpe24udGltZXJzLnB1c2goYSksYSgpP24uZnguc3RhcnQoKTpuLnRpbWVycy5wb3AoKX0sbi5meC5pbnRlcnZhbD0xMyxuLmZ4LnN0YXJ0PWZ1bmN0aW9uKCl7TWF8fChNYT1zZXRJbnRlcnZhbChuLmZ4LnRpY2ssbi5meC5pbnRlcnZhbCkpfSxuLmZ4LnN0b3A9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKE1hKSxNYT1udWxsfSxuLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxuLmZuLmRlbGF5PWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9bi5meD9uLmZ4LnNwZWVkc1thXXx8YTphLGI9Ynx8ImZ4Iix0aGlzLnF1ZXVlKGIsZnVuY3Rpb24oYixjKXt2YXIgZD1zZXRUaW1lb3V0KGIsYSk7Yy5zdG9wPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGQpfX0pfSxmdW5jdGlvbigpe3ZhciBhPWwuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxiPWwuY3JlYXRlRWxlbWVudCgic2VsZWN0IiksYz1iLmFwcGVuZENoaWxkKGwuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpO2EudHlwZT0iY2hlY2tib3giLGsuY2hlY2tPbj0iIiE9PWEudmFsdWUsay5vcHRTZWxlY3RlZD1jLnNlbGVjdGVkLGIuZGlzYWJsZWQ9ITAsay5vcHREaXNhYmxlZD0hYy5kaXNhYmxlZCxhPWwuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxhLnZhbHVlPSJ0IixhLnR5cGU9InJhZGlvIixrLnJhZGlvVmFsdWU9InQiPT09YS52YWx1ZX0oKTt2YXIgWWEsWmEsJGE9bi5leHByLmF0dHJIYW5kbGU7bi5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSih0aGlzLG4uYXR0cixhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5yZW1vdmVBdHRyKHRoaXMsYSl9KX19KSxuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEubm9kZVR5cGU7aWYoYSYmMyE9PWYmJjghPT1mJiYyIT09ZilyZXR1cm4gdHlwZW9mIGEuZ2V0QXR0cmlidXRlPT09VT9uLnByb3AoYSxiLGMpOigxPT09ZiYmbi5pc1hNTERvYyhhKXx8KGI9Yi50b0xvd2VyQ2FzZSgpLGQ9bi5hdHRySG9va3NbYl18fChuLmV4cHIubWF0Y2guYm9vbC50ZXN0KGIpP1phOllhKSksCnZvaWQgMD09PWM/ZCYmImdldCJpbiBkJiZudWxsIT09KGU9ZC5nZXQoYSxiKSk/ZTooZT1uLmZpbmQuYXR0cihhLGIpLG51bGw9PWU/dm9pZCAwOmUpOm51bGwhPT1jP2QmJiJzZXQiaW4gZCYmdm9pZCAwIT09KGU9ZC5zZXQoYSxjLGIpKT9lOihhLnNldEF0dHJpYnV0ZShiLGMrIiIpLGMpOnZvaWQgbi5yZW1vdmVBdHRyKGEsYikpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPTAsZj1iJiZiLm1hdGNoKEUpO2lmKGYmJjE9PT1hLm5vZGVUeXBlKXdoaWxlKGM9ZltlKytdKWQ9bi5wcm9wRml4W2NdfHxjLG4uZXhwci5tYXRjaC5ib29sLnRlc3QoYykmJihhW2RdPSExKSxhLnJlbW92ZUF0dHJpYnV0ZShjKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oYSxiKXtpZighay5yYWRpb1ZhbHVlJiYicmFkaW8iPT09YiYmbi5ub2RlTmFtZShhLCJpbnB1dCIpKXt2YXIgYz1hLnZhbHVlO3JldHVybiBhLnNldEF0dHJpYnV0ZSgidHlwZSIsYiksYyYmKGEudmFsdWU9YyksYn19fX19KSxaYT17c2V0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYj09PSExP24ucmVtb3ZlQXR0cihhLGMpOmEuc2V0QXR0cmlidXRlKGMsYyksY319LG4uZWFjaChuLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihhLGIpe3ZhciBjPSRhW2JdfHxuLmZpbmQuYXR0cjskYVtiXT1mdW5jdGlvbihhLGIsZCl7dmFyIGUsZjtyZXR1cm4gZHx8KGY9JGFbYl0sJGFbYl09ZSxlPW51bGwhPWMoYSxiLGQpP2IudG9Mb3dlckNhc2UoKTpudWxsLCRhW2JdPWYpLGV9fSk7dmFyIF9hPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2k7bi5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSih0aGlzLG4ucHJvcCxhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbbi5wcm9wRml4W2FdfHxhXX0pfX0pLG4uZXh0ZW5kKHtwcm9wRml4OnsiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIn0scHJvcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGc9YS5ub2RlVHlwZTtpZihhJiYzIT09ZyYmOCE9PWcmJjIhPT1nKXJldHVybiBmPTEhPT1nfHwhbi5pc1hNTERvYyhhKSxmJiYoYj1uLnByb3BGaXhbYl18fGIsZT1uLnByb3BIb29rc1tiXSksdm9pZCAwIT09Yz9lJiYic2V0ImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDphW2JdPWM6ZSYmImdldCJpbiBlJiZudWxsIT09KGQ9ZS5nZXQoYSxiKSk/ZDphW2JdfSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuaGFzQXR0cmlidXRlKCJ0YWJpbmRleCIpfHxfYS50ZXN0KGEubm9kZU5hbWUpfHxhLmhyZWY/YS50YWJJbmRleDotMX19fX0pLGsub3B0U2VsZWN0ZWR8fChuLnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxudWxsfX0pLG4uZWFjaChbInRhYkluZGV4IiwicmVhZE9ubHkiLCJtYXhMZW5ndGgiLCJjZWxsU3BhY2luZyIsImNlbGxQYWRkaW5nIiwicm93U3BhbiIsImNvbFNwYW4iLCJ1c2VNYXAiLCJmcmFtZUJvcmRlciIsImNvbnRlbnRFZGl0YWJsZSJdLGZ1bmN0aW9uKCl7bi5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV09dGhpc30pO3ZhciBhYj0vW1x0XHJcblxmXS9nO24uZm4uZXh0ZW5kKHthZGRDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaD0ic3RyaW5nIj09dHlwZW9mIGEmJmEsaT0wLGo9dGhpcy5sZW5ndGg7aWYobi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS5hZGRDbGFzcyhhLmNhbGwodGhpcyxiLHRoaXMuY2xhc3NOYW1lKSl9KTtpZihoKWZvcihiPShhfHwiIikubWF0Y2goRSl8fFtdO2o+aTtpKyspaWYoYz10aGlzW2ldLGQ9MT09PWMubm9kZVR5cGUmJihjLmNsYXNzTmFtZT8oIiAiK2MuY2xhc3NOYW1lKyIgIikucmVwbGFjZShhYiwiICIpOiIgIikpe2Y9MDt3aGlsZShlPWJbZisrXSlkLmluZGV4T2YoIiAiK2UrIiAiKTwwJiYoZCs9ZSsiICIpO2c9bi50cmltKGQpLGMuY2xhc3NOYW1lIT09ZyYmKGMuY2xhc3NOYW1lPWcpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaD0wPT09YXJndW1lbnRzLmxlbmd0aHx8InN0cmluZyI9PXR5cGVvZiBhJiZhLGk9MCxqPXRoaXMubGVuZ3RoO2lmKG4uaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24odGhpcykucmVtb3ZlQ2xhc3MoYS5jYWxsKHRoaXMsYix0aGlzLmNsYXNzTmFtZSkpfSk7aWYoaClmb3IoYj0oYXx8IiIpLm1hdGNoKEUpfHxbXTtqPmk7aSsrKWlmKGM9dGhpc1tpXSxkPTE9PT1jLm5vZGVUeXBlJiYoYy5jbGFzc05hbWU/KCIgIitjLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UoYWIsIiAiKToiIikpe2Y9MDt3aGlsZShlPWJbZisrXSl3aGlsZShkLmluZGV4T2YoIiAiK2UrIiAiKT49MClkPWQucmVwbGFjZSgiICIrZSsiICIsIiAiKTtnPWE/bi50cmltKGQpOiIiLGMuY2xhc3NOYW1lIT09ZyYmKGMuY2xhc3NOYW1lPWcpfXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihhLGIpe3ZhciBjPXR5cGVvZiBhO3JldHVybiJib29sZWFuIj09dHlwZW9mIGImJiJzdHJpbmciPT09Yz9iP3RoaXMuYWRkQ2xhc3MoYSk6dGhpcy5yZW1vdmVDbGFzcyhhKTp0aGlzLmVhY2gobi5pc0Z1bmN0aW9uKGEpP2Z1bmN0aW9uKGMpe24odGhpcykudG9nZ2xlQ2xhc3MoYS5jYWxsKHRoaXMsYyx0aGlzLmNsYXNzTmFtZSxiKSxiKX06ZnVuY3Rpb24oKXtpZigic3RyaW5nIj09PWMpe3ZhciBiLGQ9MCxlPW4odGhpcyksZj1hLm1hdGNoKEUpfHxbXTt3aGlsZShiPWZbZCsrXSllLmhhc0NsYXNzKGIpP2UucmVtb3ZlQ2xhc3MoYik6ZS5hZGRDbGFzcyhiKX1lbHNlKGM9PT1VfHwiYm9vbGVhbiI9PT1jKSYmKHRoaXMuY2xhc3NOYW1lJiZMLnNldCh0aGlzLCJfX2NsYXNzTmFtZV9fIix0aGlzLmNsYXNzTmFtZSksdGhpcy5jbGFzc05hbWU9dGhpcy5jbGFzc05hbWV8fGE9PT0hMT8iIjpMLmdldCh0aGlzLCJfX2NsYXNzTmFtZV9fIil8fCIiKX0pfSxoYXNDbGFzczpmdW5jdGlvbihhKXtmb3IodmFyIGI9IiAiK2ErIiAiLGM9MCxkPXRoaXMubGVuZ3RoO2Q+YztjKyspaWYoMT09PXRoaXNbY10ubm9kZVR5cGUmJigiICIrdGhpc1tjXS5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKGFiLCIgIikuaW5kZXhPZihiKT49MClyZXR1cm4hMDtyZXR1cm4hMX19KTt2YXIgYmI9L1xyL2c7bi5mbi5leHRlbmQoe3ZhbDpmdW5jdGlvbihhKXt2YXIgYixjLGQsZT10aGlzWzBdO3tpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiBkPW4uaXNGdW5jdGlvbihhKSx0aGlzLmVhY2goZnVuY3Rpb24oYyl7dmFyIGU7MT09PXRoaXMubm9kZVR5cGUmJihlPWQ/YS5jYWxsKHRoaXMsYyxuKHRoaXMpLnZhbCgpKTphLG51bGw9PWU/ZT0iIjoibnVtYmVyIj09dHlwZW9mIGU/ZSs9IiI6bi5pc0FycmF5KGUpJiYoZT1uLm1hcChlLGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hPyIiOmErIiJ9KSksYj1uLnZhbEhvb2tzW3RoaXMudHlwZV18fG4udmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiYic2V0ImluIGImJnZvaWQgMCE9PWIuc2V0KHRoaXMsZSwidmFsdWUiKXx8KHRoaXMudmFsdWU9ZSkpfSk7aWYoZSlyZXR1cm4gYj1uLnZhbEhvb2tzW2UudHlwZV18fG4udmFsSG9va3NbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiYiZ2V0ImluIGImJnZvaWQgMCE9PShjPWIuZ2V0KGUsInZhbHVlIikpP2M6KGM9ZS52YWx1ZSwic3RyaW5nIj09dHlwZW9mIGM/Yy5yZXBsYWNlKGJiLCIiKTpudWxsPT1jPyIiOmMpfX19KSxuLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPW4uZmluZC5hdHRyKGEsInZhbHVlIik7cmV0dXJuIG51bGwhPWI/YjpuLnRyaW0obi50ZXh0KGEpKX19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjLGQ9YS5vcHRpb25zLGU9YS5zZWxlY3RlZEluZGV4LGY9InNlbGVjdC1vbmUiPT09YS50eXBlfHwwPmUsZz1mP251bGw6W10saD1mP2UrMTpkLmxlbmd0aCxpPTA+ZT9oOmY/ZTowO2g+aTtpKyspaWYoYz1kW2ldLCEoIWMuc2VsZWN0ZWQmJmkhPT1lfHwoay5vcHREaXNhYmxlZD9jLmRpc2FibGVkOm51bGwhPT1jLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKSl8fGMucGFyZW50Tm9kZS5kaXNhYmxlZCYmbi5ub2RlTmFtZShjLnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXtpZihiPW4oYykudmFsKCksZilyZXR1cm4gYjtnLnB1c2goYil9cmV0dXJuIGd9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZT1hLm9wdGlvbnMsZj1uLm1ha2VBcnJheShiKSxnPWUubGVuZ3RoO3doaWxlKGctLSlkPWVbZ10sKGQuc2VsZWN0ZWQ9bi5pbkFycmF5KGQudmFsdWUsZik+PTApJiYoYz0hMCk7cmV0dXJuIGN8fChhLnNlbGVjdGVkSW5kZXg9LTEpLGZ9fX19KSxuLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtuLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbi5pc0FycmF5KGIpP2EuY2hlY2tlZD1uLmluQXJyYXkobihhKS52YWwoKSxiKT49MDp2b2lkIDB9fSxrLmNoZWNrT258fChuLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09PWEuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpPyJvbiI6YS52YWx1ZX0pfSksbi5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgbG9hZCByZXNpemUgc2Nyb2xsIHVubG9hZCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yIGNvbnRleHRtZW51Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7bi5mbltiXT1mdW5jdGlvbihhLGMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5vbihiLG51bGwsYSxjKTp0aGlzLnRyaWdnZXIoYil9fSksbi5mbi5leHRlbmQoe2hvdmVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMubW91c2VlbnRlcihhKS5tb3VzZWxlYXZlKGJ8fGEpfSxiaW5kOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5vbihhLG51bGwsYixjKX0sdW5iaW5kOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub2ZmKGEsbnVsbCxiKX0sZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMub24oYixhLGMsZCl9LHVuZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLm9mZihhLCIqKiIpOnRoaXMub2ZmKGIsYXx8IioqIixjKX19KTt2YXIgY2I9bi5ub3coKSxkYj0vXD8vO24ucGFyc2VKU09OPWZ1bmN0aW9uKGEpe3JldHVybiBKU09OLnBhcnNlKGErIiIpfSxuLnBhcnNlWE1MPWZ1bmN0aW9uKGEpe3ZhciBiLGM7aWYoIWF8fCJzdHJpbmciIT10eXBlb2YgYSlyZXR1cm4gbnVsbDt0cnl7Yz1uZXcgRE9NUGFyc2VyLGI9Yy5wYXJzZUZyb21TdHJpbmcoYSwidGV4dC94bWwiKX1jYXRjaChkKXtiPXZvaWQgMH1yZXR1cm4oIWJ8fGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIikubGVuZ3RoKSYmbi5lcnJvcigiSW52YWxpZCBYTUw6ICIrYSksYn07dmFyIGViPS8jLiokLyxmYj0vKFs/Jl0pXz1bXiZdKi8sZ2I9L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxoYj0vXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxpYj0vXig/OkdFVHxIRUFEKSQvLGpiPS9eXC9cLy8sa2I9L14oW1x3ListXSs6KSg/OlwvXC8oPzpbXlwvPyNdKkB8KShbXlwvPyM6XSopKD86OihcZCspfCl8KS8sbGI9e30sbWI9e30sbmI9IiovIi5jb25jYXQoIioiKSxvYj1hLmxvY2F0aW9uLmhyZWYscGI9a2IuZXhlYyhvYi50b0xvd2VyQ2FzZSgpKXx8W107ZnVuY3Rpb24gcWIoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7InN0cmluZyIhPXR5cGVvZiBiJiYoYz1iLGI9IioiKTt2YXIgZCxlPTAsZj1iLnRvTG93ZXJDYXNlKCkubWF0Y2goRSl8fFtdO2lmKG4uaXNGdW5jdGlvbihjKSl3aGlsZShkPWZbZSsrXSkiKyI9PT1kWzBdPyhkPWQuc2xpY2UoMSl8fCIqIiwoYVtkXT1hW2RdfHxbXSkudW5zaGlmdChjKSk6KGFbZF09YVtkXXx8W10pLnB1c2goYyl9fWZ1bmN0aW9uIHJiKGEsYixjLGQpe3ZhciBlPXt9LGY9YT09PW1iO2Z1bmN0aW9uIGcoaCl7dmFyIGk7cmV0dXJuIGVbaF09ITAsbi5lYWNoKGFbaF18fFtdLGZ1bmN0aW9uKGEsaCl7dmFyIGo9aChiLGMsZCk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBqfHxmfHxlW2pdP2Y/IShpPWopOnZvaWQgMDooYi5kYXRhVHlwZXMudW5zaGlmdChqKSxnKGopLCExKX0pLGl9cmV0dXJuIGcoYi5kYXRhVHlwZXNbMF0pfHwhZVsiKiJdJiZnKCIqIil9ZnVuY3Rpb24gc2IoYSxiKXt2YXIgYyxkLGU9bi5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihjIGluIGIpdm9pZCAwIT09YltjXSYmKChlW2NdP2E6ZHx8KGQ9e30pKVtjXT1iW2NdKTtyZXR1cm4gZCYmbi5leHRlbmQoITAsYSxkKSxhfWZ1bmN0aW9uIHRiKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuY29udGVudHMsaT1hLmRhdGFUeXBlczt3aGlsZSgiKiI9PT1pWzBdKWkuc2hpZnQoKSx2b2lkIDA9PT1kJiYoZD1hLm1pbWVUeXBlfHxiLmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKSk7aWYoZClmb3IoZSBpbiBoKWlmKGhbZV0mJmhbZV0udGVzdChkKSl7aS51bnNoaWZ0KGUpO2JyZWFrfWlmKGlbMF1pbiBjKWY9aVswXTtlbHNle2ZvcihlIGluIGMpe2lmKCFpWzBdfHxhLmNvbnZlcnRlcnNbZSsiICIraVswXV0pe2Y9ZTticmVha31nfHwoZz1lKX1mPWZ8fGd9cmV0dXJuIGY/KGYhPT1pWzBdJiZpLnVuc2hpZnQoZiksY1tmXSk6dm9pZCAwfWZ1bmN0aW9uIHViKGEsYixjLGQpe3ZhciBlLGYsZyxoLGksaj17fSxrPWEuZGF0YVR5cGVzLnNsaWNlKCk7aWYoa1sxXSlmb3IoZyBpbiBhLmNvbnZlcnRlcnMpaltnLnRvTG93ZXJDYXNlKCldPWEuY29udmVydGVyc1tnXTtmPWsuc2hpZnQoKTt3aGlsZShmKWlmKGEucmVzcG9uc2VGaWVsZHNbZl0mJihjW2EucmVzcG9uc2VGaWVsZHNbZl1dPWIpLCFpJiZkJiZhLmRhdGFGaWx0ZXImJihiPWEuZGF0YUZpbHRlcihiLGEuZGF0YVR5cGUpKSxpPWYsZj1rLnNoaWZ0KCkpaWYoIioiPT09ZilmPWk7ZWxzZSBpZigiKiIhPT1pJiZpIT09Zil7aWYoZz1qW2krIiAiK2ZdfHxqWyIqICIrZl0sIWcpZm9yKGUgaW4gailpZihoPWUuc3BsaXQoIiAiKSxoWzFdPT09ZiYmKGc9altpKyIgIitoWzBdXXx8alsiKiAiK2hbMF1dKSl7Zz09PSEwP2c9altlXTpqW2VdIT09ITAmJihmPWhbMF0say51bnNoaWZ0KGhbMV0pKTticmVha31pZihnIT09ITApaWYoZyYmYVsidGhyb3dzIl0pYj1nKGIpO2Vsc2UgdHJ5e2I9ZyhiKX1jYXRjaChsKXtyZXR1cm57c3RhdGU6InBhcnNlcmVycm9yIixlcnJvcjpnP2w6Ik5vIGNvbnZlcnNpb24gZnJvbSAiK2krIiB0byAiK2Z9fX1yZXR1cm57c3RhdGU6InN1Y2Nlc3MiLGRhdGE6Yn19bi5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9LGFqYXhTZXR0aW5nczp7dXJsOm9iLHR5cGU6IkdFVCIsaXNMb2NhbDpoYi50ZXN0KHBiWzFdKSxnbG9iYWw6ITAscHJvY2Vzc0RhdGE6ITAsYXN5bmM6ITAsY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCIsYWNjZXB0czp7IioiOm5iLHRleHQ6InRleHQvcGxhaW4iLGh0bWw6InRleHQvaHRtbCIseG1sOiJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sIixqc29uOiJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQifSxjb250ZW50czp7eG1sOi94bWwvLGh0bWw6L2h0bWwvLGpzb246L2pzb24vfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIsdGV4dDoicmVzcG9uc2VUZXh0Iixqc29uOiJyZXNwb25zZUpTT04ifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjpTdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6bi5wYXJzZUpTT04sInRleHQgeG1sIjpuLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9zYihzYihhLG4uYWpheFNldHRpbmdzKSxiKTpzYihuLmFqYXhTZXR0aW5ncyxhKX0sYWpheFByZWZpbHRlcjpxYihsYiksYWpheFRyYW5zcG9ydDpxYihtYiksYWpheDpmdW5jdGlvbihhLGIpeyJvYmplY3QiPT10eXBlb2YgYSYmKGI9YSxhPXZvaWQgMCksYj1ifHx7fTt2YXIgYyxkLGUsZixnLGgsaSxqLGs9bi5hamF4U2V0dXAoe30sYiksbD1rLmNvbnRleHR8fGssbT1rLmNvbnRleHQmJihsLm5vZGVUeXBlfHxsLmpxdWVyeSk/bihsKTpuLmV2ZW50LG89bi5EZWZlcnJlZCgpLHA9bi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikscT1rLnN0YXR1c0NvZGV8fHt9LHI9e30scz17fSx0PTAsdT0iY2FuY2VsZWQiLHY9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihhKXt2YXIgYjtpZigyPT09dCl7aWYoIWYpe2Y9e307d2hpbGUoYj1nYi5leGVjKGUpKWZbYlsxXS50b0xvd2VyQ2FzZSgpXT1iWzJdfWI9ZlthLnRvTG93ZXJDYXNlKCldfXJldHVybiBudWxsPT1iP251bGw6Yn0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIDI9PT10P2U6bnVsbH0sc2V0UmVxdWVzdEhlYWRlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWEudG9Mb3dlckNhc2UoKTtyZXR1cm4gdHx8KGE9c1tjXT1zW2NdfHxhLHJbYV09YiksdGhpc30sb3ZlcnJpZGVNaW1lVHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gdHx8KGsubWltZVR5cGU9YSksdGhpc30sc3RhdHVzQ29kZTpmdW5jdGlvbihhKXt2YXIgYjtpZihhKWlmKDI+dClmb3IoYiBpbiBhKXFbYl09W3FbYl0sYVtiXV07ZWxzZSB2LmFsd2F5cyhhW3Yuc3RhdHVzXSk7cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGEpe3ZhciBiPWF8fHU7cmV0dXJuIGMmJmMuYWJvcnQoYikseCgwLGIpLHRoaXN9fTtpZihvLnByb21pc2UodikuY29tcGxldGU9cC5hZGQsdi5zdWNjZXNzPXYuZG9uZSx2LmVycm9yPXYuZmFpbCxrLnVybD0oKGF8fGsudXJsfHxvYikrIiIpLnJlcGxhY2UoZWIsIiIpLnJlcGxhY2UoamIscGJbMV0rIi8vIiksay50eXBlPWIubWV0aG9kfHxiLnR5cGV8fGsubWV0aG9kfHxrLnR5cGUsay5kYXRhVHlwZXM9bi50cmltKGsuZGF0YVR5cGV8fCIqIikudG9Mb3dlckNhc2UoKS5tYXRjaChFKXx8WyIiXSxudWxsPT1rLmNyb3NzRG9tYWluJiYoaD1rYi5leGVjKGsudXJsLnRvTG93ZXJDYXNlKCkpLGsuY3Jvc3NEb21haW49ISghaHx8aFsxXT09PXBiWzFdJiZoWzJdPT09cGJbMl0mJihoWzNdfHwoImh0dHA6Ij09PWhbMV0/IjgwIjoiNDQzIikpPT09KHBiWzNdfHwoImh0dHA6Ij09PXBiWzFdPyI4MCI6IjQ0MyIpKSkpLGsuZGF0YSYmay5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiBrLmRhdGEmJihrLmRhdGE9bi5wYXJhbShrLmRhdGEsay50cmFkaXRpb25hbCkpLHJiKGxiLGssYix2KSwyPT09dClyZXR1cm4gdjtpPW4uZXZlbnQmJmsuZ2xvYmFsLGkmJjA9PT1uLmFjdGl2ZSsrJiZuLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLGsudHlwZT1rLnR5cGUudG9VcHBlckNhc2UoKSxrLmhhc0NvbnRlbnQ9IWliLnRlc3Qoay50eXBlKSxkPWsudXJsLGsuaGFzQ29udGVudHx8KGsuZGF0YSYmKGQ9ay51cmwrPShkYi50ZXN0KGQpPyImIjoiPyIpK2suZGF0YSxkZWxldGUgay5kYXRhKSxrLmNhY2hlPT09ITEmJihrLnVybD1mYi50ZXN0KGQpP2QucmVwbGFjZShmYiwiJDFfPSIrY2IrKyk6ZCsoZGIudGVzdChkKT8iJiI6Ij8iKSsiXz0iK2NiKyspKSxrLmlmTW9kaWZpZWQmJihuLmxhc3RNb2RpZmllZFtkXSYmdi5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Nb2RpZmllZC1TaW5jZSIsbi5sYXN0TW9kaWZpZWRbZF0pLG4uZXRhZ1tkXSYmdi5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Ob25lLU1hdGNoIixuLmV0YWdbZF0pKSwoay5kYXRhJiZrLmhhc0NvbnRlbnQmJmsuY29udGVudFR5cGUhPT0hMXx8Yi5jb250ZW50VHlwZSkmJnYuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixrLmNvbnRlbnRUeXBlKSx2LnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsay5kYXRhVHlwZXNbMF0mJmsuYWNjZXB0c1trLmRhdGFUeXBlc1swXV0/ay5hY2NlcHRzW2suZGF0YVR5cGVzWzBdXSsoIioiIT09ay5kYXRhVHlwZXNbMF0/IiwgIituYisiOyBxPTAuMDEiOiIiKTprLmFjY2VwdHNbIioiXSk7Zm9yKGogaW4gay5oZWFkZXJzKXYuc2V0UmVxdWVzdEhlYWRlcihqLGsuaGVhZGVyc1tqXSk7aWYoay5iZWZvcmVTZW5kJiYoay5iZWZvcmVTZW5kLmNhbGwobCx2LGspPT09ITF8fDI9PT10KSlyZXR1cm4gdi5hYm9ydCgpO3U9ImFib3J0Ijtmb3IoaiBpbntzdWNjZXNzOjEsZXJyb3I6MSxjb21wbGV0ZToxfSl2W2pdKGtbal0pO2lmKGM9cmIobWIsayxiLHYpKXt2LnJlYWR5U3RhdGU9MSxpJiZtLnRyaWdnZXIoImFqYXhTZW5kIixbdixrXSksay5hc3luYyYmay50aW1lb3V0PjAmJihnPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2LmFib3J0KCJ0aW1lb3V0Iil9LGsudGltZW91dCkpO3RyeXt0PTEsYy5zZW5kKHIseCl9Y2F0Y2godyl7aWYoISgyPnQpKXRocm93IHc7eCgtMSx3KX19ZWxzZSB4KC0xLCJObyBUcmFuc3BvcnQiKTtmdW5jdGlvbiB4KGEsYixmLGgpe3ZhciBqLHIscyx1LHcseD1iOzIhPT10JiYodD0yLGcmJmNsZWFyVGltZW91dChnKSxjPXZvaWQgMCxlPWh8fCIiLHYucmVhZHlTdGF0ZT1hPjA/NDowLGo9YT49MjAwJiYzMDA+YXx8MzA0PT09YSxmJiYodT10YihrLHYsZikpLHU9dWIoayx1LHYsaiksaj8oay5pZk1vZGlmaWVkJiYodz12LmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIiksdyYmKG4ubGFzdE1vZGlmaWVkW2RdPXcpLHc9di5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpLHcmJihuLmV0YWdbZF09dykpLDIwND09PWF8fCJIRUFEIj09PWsudHlwZT94PSJub2NvbnRlbnQiOjMwND09PWE/eD0ibm90bW9kaWZpZWQiOih4PXUuc3RhdGUscj11LmRhdGEscz11LmVycm9yLGo9IXMpKToocz14LChhfHwheCkmJih4PSJlcnJvciIsMD5hJiYoYT0wKSkpLHYuc3RhdHVzPWEsdi5zdGF0dXNUZXh0PShifHx4KSsiIixqP28ucmVzb2x2ZVdpdGgobCxbcix4LHZdKTpvLnJlamVjdFdpdGgobCxbdix4LHNdKSx2LnN0YXR1c0NvZGUocSkscT12b2lkIDAsaSYmbS50cmlnZ2VyKGo/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbdixrLGo/cjpzXSkscC5maXJlV2l0aChsLFt2LHhdKSxpJiYobS50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFt2LGtdKSwtLW4uYWN0aXZlfHxuLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4gdn0sZ2V0SlNPTjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG4uZ2V0KGEsYixjLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihhLGIpe3JldHVybiBuLmdldChhLHZvaWQgMCxiLCJzY3JpcHQiKX19KSxuLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oYSxiKXtuW2JdPWZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBuLmlzRnVuY3Rpb24oYykmJihlPWV8fGQsZD1jLGM9dm9pZCAwKSxuLmFqYXgoe3VybDphLHR5cGU6YixkYXRhVHlwZTplLGRhdGE6YyxzdWNjZXNzOmR9KX19KSxuLl9ldmFsVXJsPWZ1bmN0aW9uKGEpe3JldHVybiBuLmFqYXgoe3VybDphLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsYXN5bmM6ITEsZ2xvYmFsOiExLCJ0aHJvd3MiOiEwfSl9LG4uZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiBuLmlzRnVuY3Rpb24oYSk/dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24odGhpcykud3JhcEFsbChhLmNhbGwodGhpcyxiKSl9KToodGhpc1swXSYmKGI9bihhLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApLHRoaXNbMF0ucGFyZW50Tm9kZSYmYi5pbnNlcnRCZWZvcmUodGhpc1swXSksYi5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzO3doaWxlKGEuZmlyc3RFbGVtZW50Q2hpbGQpYT1hLmZpcnN0RWxlbWVudENoaWxkO3JldHVybiBhfSkuYXBwZW5kKHRoaXMpKSx0aGlzKX0sd3JhcElubmVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2gobi5pc0Z1bmN0aW9uKGEpP2Z1bmN0aW9uKGIpe24odGhpcykud3JhcElubmVyKGEuY2FsbCh0aGlzLGIpKX06ZnVuY3Rpb24oKXt2YXIgYj1uKHRoaXMpLGM9Yi5jb250ZW50cygpO2MubGVuZ3RoP2Mud3JhcEFsbChhKTpiLmFwcGVuZChhKX0pfSx3cmFwOmZ1bmN0aW9uKGEpe3ZhciBiPW4uaXNGdW5jdGlvbihhKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe24odGhpcykud3JhcEFsbChiP2EuY2FsbCh0aGlzLGMpOmEpfSl9LHVud3JhcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCgpLmVhY2goZnVuY3Rpb24oKXtuLm5vZGVOYW1lKHRoaXMsImJvZHkiKXx8bih0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpfSkuZW5kKCl9fSksbi5leHByLmZpbHRlcnMuaGlkZGVuPWZ1bmN0aW9uKGEpe3JldHVybiBhLm9mZnNldFdpZHRoPD0wJiZhLm9mZnNldEhlaWdodDw9MH0sbi5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hbi5leHByLmZpbHRlcnMuaGlkZGVuKGEpfTt2YXIgdmI9LyUyMC9nLHdiPS9cW1xdJC8seGI9L1xyP1xuL2cseWI9L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLHpiPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtmdW5jdGlvbiBBYihhLGIsYyxkKXt2YXIgZTtpZihuLmlzQXJyYXkoYikpbi5lYWNoKGIsZnVuY3Rpb24oYixlKXtjfHx3Yi50ZXN0KGEpP2QoYSxlKTpBYihhKyJbIisoIm9iamVjdCI9PXR5cGVvZiBlP2I6IiIpKyJdIixlLGMsZCl9KTtlbHNlIGlmKGN8fCJvYmplY3QiIT09bi50eXBlKGIpKWQoYSxiKTtlbHNlIGZvcihlIGluIGIpQWIoYSsiWyIrZSsiXSIsYltlXSxjLGQpfW4ucGFyYW09ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9ZnVuY3Rpb24oYSxiKXtiPW4uaXNGdW5jdGlvbihiKT9iKCk6bnVsbD09Yj8iIjpiLGRbZC5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChhKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KGIpfTtpZih2b2lkIDA9PT1iJiYoYj1uLmFqYXhTZXR0aW5ncyYmbi5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwpLG4uaXNBcnJheShhKXx8YS5qcXVlcnkmJiFuLmlzUGxhaW5PYmplY3QoYSkpbi5lYWNoKGEsZnVuY3Rpb24oKXtlKHRoaXMubmFtZSx0aGlzLnZhbHVlKX0pO2Vsc2UgZm9yKGMgaW4gYSlBYihjLGFbY10sYixlKTtyZXR1cm4gZC5qb2luKCImIikucmVwbGFjZSh2YiwiKyIpfSxuLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIG4ucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT1uLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gYT9uLm1ha2VBcnJheShhKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFuKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYmemIudGVzdCh0aGlzLm5vZGVOYW1lKSYmIXliLnRlc3QoYSkmJih0aGlzLmNoZWNrZWR8fCFULnRlc3QoYSkpfSkubWFwKGZ1bmN0aW9uKGEsYil7dmFyIGM9bih0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09Yz9udWxsOm4uaXNBcnJheShjKT9uLm1hcChjLGZ1bmN0aW9uKGEpe3JldHVybntuYW1lOmIubmFtZSx2YWx1ZTphLnJlcGxhY2UoeGIsIlxyXG4iKX19KTp7bmFtZTpiLm5hbWUsdmFsdWU6Yy5yZXBsYWNlKHhiLCJcclxuIil9fSkuZ2V0KCl9fSksbi5hamF4U2V0dGluZ3MueGhyPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgWE1MSHR0cFJlcXVlc3R9Y2F0Y2goYSl7fX07dmFyIEJiPTAsQ2I9e30sRGI9ezA6MjAwLDEyMjM6MjA0fSxFYj1uLmFqYXhTZXR0aW5ncy54aHIoKTthLmF0dGFjaEV2ZW50JiZhLmF0dGFjaEV2ZW50KCJvbnVubG9hZCIsZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gQ2IpQ2JbYV0oKX0pLGsuY29ycz0hIUViJiYid2l0aENyZWRlbnRpYWxzImluIEViLGsuYWpheD1FYj0hIUViLG4uYWpheFRyYW5zcG9ydChmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gay5jb3JzfHxFYiYmIWEuY3Jvc3NEb21haW4/e3NlbmQ6ZnVuY3Rpb24oYyxkKXt2YXIgZSxmPWEueGhyKCksZz0rK0JiO2lmKGYub3BlbihhLnR5cGUsYS51cmwsYS5hc3luYyxhLnVzZXJuYW1lLGEucGFzc3dvcmQpLGEueGhyRmllbGRzKWZvcihlIGluIGEueGhyRmllbGRzKWZbZV09YS54aHJGaWVsZHNbZV07YS5taW1lVHlwZSYmZi5vdmVycmlkZU1pbWVUeXBlJiZmLm92ZXJyaWRlTWltZVR5cGUoYS5taW1lVHlwZSksYS5jcm9zc0RvbWFpbnx8Y1siWC1SZXF1ZXN0ZWQtV2l0aCJdfHwoY1siWC1SZXF1ZXN0ZWQtV2l0aCJdPSJYTUxIdHRwUmVxdWVzdCIpO2ZvcihlIGluIGMpZi5zZXRSZXF1ZXN0SGVhZGVyKGUsY1tlXSk7Yj1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtiJiYoZGVsZXRlIENiW2ddLGI9Zi5vbmxvYWQ9Zi5vbmVycm9yPW51bGwsImFib3J0Ij09PWE/Zi5hYm9ydCgpOiJlcnJvciI9PT1hP2QoZi5zdGF0dXMsZi5zdGF0dXNUZXh0KTpkKERiW2Yuc3RhdHVzXXx8Zi5zdGF0dXMsZi5zdGF0dXNUZXh0LCJzdHJpbmciPT10eXBlb2YgZi5yZXNwb25zZVRleHQ/e3RleHQ6Zi5yZXNwb25zZVRleHR9OnZvaWQgMCxmLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSl9fSxmLm9ubG9hZD1iKCksZi5vbmVycm9yPWIoImVycm9yIiksYj1DYltnXT1iKCJhYm9ydCIpO3RyeXtmLnNlbmQoYS5oYXNDb250ZW50JiZhLmRhdGF8fG51bGwpfWNhdGNoKGgpe2lmKGIpdGhyb3cgaH19LGFib3J0OmZ1bmN0aW9uKCl7YiYmYigpfX06dm9pZCAwfSksbi5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDoidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHQifSxjb250ZW50czp7c2NyaXB0Oi8oPzpqYXZhfGVjbWEpc2NyaXB0L30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihhKXtyZXR1cm4gbi5nbG9iYWxFdmFsKGEpLGF9fX0pLG4uYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihhKXt2b2lkIDA9PT1hLmNhY2hlJiYoYS5jYWNoZT0hMSksYS5jcm9zc0RvbWFpbiYmKGEudHlwZT0iR0VUIil9KSxuLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24oYSl7aWYoYS5jcm9zc0RvbWFpbil7dmFyIGIsYztyZXR1cm57c2VuZDpmdW5jdGlvbihkLGUpe2I9bigiPHNjcmlwdD4iKS5wcm9wKHthc3luYzohMCxjaGFyc2V0OmEuc2NyaXB0Q2hhcnNldCxzcmM6YS51cmx9KS5vbigibG9hZCBlcnJvciIsYz1mdW5jdGlvbihhKXtiLnJlbW92ZSgpLGM9bnVsbCxhJiZlKCJlcnJvciI9PT1hLnR5cGU/NDA0OjIwMCxhLnR5cGUpfSksbC5oZWFkLmFwcGVuZENoaWxkKGJbMF0pfSxhYm9ydDpmdW5jdGlvbigpe2MmJmMoKX19fX0pO3ZhciBGYj1bXSxHYj0vKD0pXD8oPz0mfCQpfFw/XD8vO24uYWpheFNldHVwKHtqc29ucDoiY2FsbGJhY2siLGpzb25wQ2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgYT1GYi5wb3AoKXx8bi5leHBhbmRvKyJfIitjYisrO3JldHVybiB0aGlzW2FdPSEwLGF9fSksbi5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnLGg9Yi5qc29ucCE9PSExJiYoR2IudGVzdChiLnVybCk/InVybCI6InN0cmluZyI9PXR5cGVvZiBiLmRhdGEmJiEoYi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZHYi50ZXN0KGIuZGF0YSkmJiJkYXRhIik7cmV0dXJuIGh8fCJqc29ucCI9PT1iLmRhdGFUeXBlc1swXT8oZT1iLmpzb25wQ2FsbGJhY2s9bi5pc0Z1bmN0aW9uKGIuanNvbnBDYWxsYmFjayk/Yi5qc29ucENhbGxiYWNrKCk6Yi5qc29ucENhbGxiYWNrLGg/YltoXT1iW2hdLnJlcGxhY2UoR2IsIiQxIitlKTpiLmpzb25wIT09ITEmJihiLnVybCs9KGRiLnRlc3QoYi51cmwpPyImIjoiPyIpK2IuanNvbnArIj0iK2UpLGIuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiBnfHxuLmVycm9yKGUrIiB3YXMgbm90IGNhbGxlZCIpLGdbMF19LGIuZGF0YVR5cGVzWzBdPSJqc29uIixmPWFbZV0sYVtlXT1mdW5jdGlvbigpe2c9YXJndW1lbnRzfSxkLmFsd2F5cyhmdW5jdGlvbigpe2FbZV09ZixiW2VdJiYoYi5qc29ucENhbGxiYWNrPWMuanNvbnBDYWxsYmFjayxGYi5wdXNoKGUpKSxnJiZuLmlzRnVuY3Rpb24oZikmJmYoZ1swXSksZz1mPXZvaWQgMH0pLCJzY3JpcHQiKTp2b2lkIDB9KSxuLnBhcnNlSFRNTD1mdW5jdGlvbihhLGIsYyl7aWYoIWF8fCJzdHJpbmciIT10eXBlb2YgYSlyZXR1cm4gbnVsbDsiYm9vbGVhbiI9PXR5cGVvZiBiJiYoYz1iLGI9ITEpLGI9Ynx8bDt2YXIgZD12LmV4ZWMoYSksZT0hYyYmW107cmV0dXJuIGQ/W2IuY3JlYXRlRWxlbWVudChkWzFdKV06KGQ9bi5idWlsZEZyYWdtZW50KFthXSxiLGUpLGUmJmUubGVuZ3RoJiZuKGUpLnJlbW92ZSgpLG4ubWVyZ2UoW10sZC5jaGlsZE5vZGVzKSl9O3ZhciBIYj1uLmZuLmxvYWQ7bi5mbi5sb2FkPWZ1bmN0aW9uKGEsYixjKXtpZigic3RyaW5nIiE9dHlwZW9mIGEmJkhiKXJldHVybiBIYi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGQsZSxmLGc9dGhpcyxoPWEuaW5kZXhPZigiICIpO3JldHVybiBoPj0wJiYoZD1uLnRyaW0oYS5zbGljZShoKSksYT1hLnNsaWNlKDAsaCkpLG4uaXNGdW5jdGlvbihiKT8oYz1iLGI9dm9pZCAwKTpiJiYib2JqZWN0Ij09dHlwZW9mIGImJihlPSJQT1NUIiksZy5sZW5ndGg+MCYmbi5hamF4KHt1cmw6YSx0eXBlOmUsZGF0YVR5cGU6Imh0bWwiLGRhdGE6Yn0pLmRvbmUoZnVuY3Rpb24oYSl7Zj1hcmd1bWVudHMsZy5odG1sKGQ/bigiPGRpdj4iKS5hcHBlbmQobi5wYXJzZUhUTUwoYSkpLmZpbmQoZCk6YSl9KS5jb21wbGV0ZShjJiZmdW5jdGlvbihhLGIpe2cuZWFjaChjLGZ8fFthLnJlc3BvbnNlVGV4dCxiLGFdKX0pLHRoaXN9LG4uZWFjaChbImFqYXhTdGFydCIsImFqYXhTdG9wIiwiYWpheENvbXBsZXRlIiwiYWpheEVycm9yIiwiYWpheFN1Y2Nlc3MiLCJhamF4U2VuZCJdLGZ1bmN0aW9uKGEsYil7bi5mbltiXT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vbihiLGEpfX0pLG4uZXhwci5maWx0ZXJzLmFuaW1hdGVkPWZ1bmN0aW9uKGEpe3JldHVybiBuLmdyZXAobi50aW1lcnMsZnVuY3Rpb24oYil7cmV0dXJuIGE9PT1iLmVsZW19KS5sZW5ndGh9O3ZhciBJYj1hLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtmdW5jdGlvbiBKYihhKXtyZXR1cm4gbi5pc1dpbmRvdyhhKT9hOjk9PT1hLm5vZGVUeXBlJiZhLmRlZmF1bHRWaWV3fW4ub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGs9bi5jc3MoYSwicG9zaXRpb24iKSxsPW4oYSksbT17fTsic3RhdGljIj09PWsmJihhLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpLGg9bC5vZmZzZXQoKSxmPW4uY3NzKGEsInRvcCIpLGk9bi5jc3MoYSwibGVmdCIpLGo9KCJhYnNvbHV0ZSI9PT1rfHwiZml4ZWQiPT09aykmJihmK2kpLmluZGV4T2YoImF1dG8iKT4tMSxqPyhkPWwucG9zaXRpb24oKSxnPWQudG9wLGU9ZC5sZWZ0KTooZz1wYXJzZUZsb2F0KGYpfHwwLGU9cGFyc2VGbG9hdChpKXx8MCksbi5pc0Z1bmN0aW9uKGIpJiYoYj1iLmNhbGwoYSxjLGgpKSxudWxsIT1iLnRvcCYmKG0udG9wPWIudG9wLWgudG9wK2cpLG51bGwhPWIubGVmdCYmKG0ubGVmdD1iLmxlZnQtaC5sZWZ0K2UpLCJ1c2luZyJpbiBiP2IudXNpbmcuY2FsbChhLG0pOmwuY3NzKG0pfX0sbi5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbihhKXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT1hP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24ub2Zmc2V0LnNldE9mZnNldCh0aGlzLGEsYil9KTt2YXIgYixjLGQ9dGhpc1swXSxlPXt0b3A6MCxsZWZ0OjB9LGY9ZCYmZC5vd25lckRvY3VtZW50O2lmKGYpcmV0dXJuIGI9Zi5kb2N1bWVudEVsZW1lbnQsbi5jb250YWlucyhiLGQpPyh0eXBlb2YgZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QhPT1VJiYoZT1kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSxjPUpiKGYpLHt0b3A6ZS50b3ArYy5wYWdlWU9mZnNldC1iLmNsaWVudFRvcCxsZWZ0OmUubGVmdCtjLnBhZ2VYT2Zmc2V0LWIuY2xpZW50TGVmdH0pOmV9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGEsYixjPXRoaXNbMF0sZD17dG9wOjAsbGVmdDowfTtyZXR1cm4iZml4ZWQiPT09bi5jc3MoYywicG9zaXRpb24iKT9iPWMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6KGE9dGhpcy5vZmZzZXRQYXJlbnQoKSxiPXRoaXMub2Zmc2V0KCksbi5ub2RlTmFtZShhWzBdLCJodG1sIil8fChkPWEub2Zmc2V0KCkpLGQudG9wKz1uLmNzcyhhWzBdLCJib3JkZXJUb3BXaWR0aCIsITApLGQubGVmdCs9bi5jc3MoYVswXSwiYm9yZGVyTGVmdFdpZHRoIiwhMCkpLHt0b3A6Yi50b3AtZC50b3Atbi5jc3MoYywibWFyZ2luVG9wIiwhMCksbGVmdDpiLmxlZnQtZC5sZWZ0LW4uY3NzKGMsIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9mZnNldFBhcmVudHx8SWI7d2hpbGUoYSYmIW4ubm9kZU5hbWUoYSwiaHRtbCIpJiYic3RhdGljIj09PW4uY3NzKGEsInBvc2l0aW9uIikpYT1hLm9mZnNldFBhcmVudDtyZXR1cm4gYXx8SWJ9KX19KSxuLmVhY2goe3Njcm9sbExlZnQ6InBhZ2VYT2Zmc2V0IixzY3JvbGxUb3A6InBhZ2VZT2Zmc2V0In0sZnVuY3Rpb24oYixjKXt2YXIgZD0icGFnZVlPZmZzZXQiPT09YztuLmZuW2JdPWZ1bmN0aW9uKGUpe3JldHVybiBKKHRoaXMsZnVuY3Rpb24oYixlLGYpe3ZhciBnPUpiKGIpO3JldHVybiB2b2lkIDA9PT1mP2c/Z1tjXTpiW2VdOnZvaWQoZz9nLnNjcm9sbFRvKGQ/YS5wYWdlWE9mZnNldDpmLGQ/ZjphLnBhZ2VZT2Zmc2V0KTpiW2VdPWYpfSxiLGUsYXJndW1lbnRzLmxlbmd0aCxudWxsKX19KSxuLmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2JdPXlhKGsucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihhLGMpe3JldHVybiBjPyhjPXhhKGEsYiksdmEudGVzdChjKT9uKGEpLnBvc2l0aW9uKClbYl0rInB4IjpjKTp2b2lkIDB9KX0pLG4uZWFjaCh7SGVpZ2h0OiJoZWlnaHQiLFdpZHRoOiJ3aWR0aCJ9LGZ1bmN0aW9uKGEsYil7bi5lYWNoKHtwYWRkaW5nOiJpbm5lciIrYSxjb250ZW50OmIsIiI6Im91dGVyIithfSxmdW5jdGlvbihjLGQpe24uZm5bZF09ZnVuY3Rpb24oZCxlKXt2YXIgZj1hcmd1bWVudHMubGVuZ3RoJiYoY3x8ImJvb2xlYW4iIT10eXBlb2YgZCksZz1jfHwoZD09PSEwfHxlPT09ITA/Im1hcmdpbiI6ImJvcmRlciIpO3JldHVybiBKKHRoaXMsZnVuY3Rpb24oYixjLGQpe3ZhciBlO3JldHVybiBuLmlzV2luZG93KGIpP2IuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2FdOjk9PT1iLm5vZGVUeXBlPyhlPWIuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KGIuYm9keVsic2Nyb2xsIithXSxlWyJzY3JvbGwiK2FdLGIuYm9keVsib2Zmc2V0IithXSxlWyJvZmZzZXQiK2FdLGVbImNsaWVudCIrYV0pKTp2b2lkIDA9PT1kP24uY3NzKGIsYyxnKTpuLnN0eWxlKGIsYyxkLGcpfSxiLGY/ZDp2b2lkIDAsZixudWxsKX19KX0pLG4uZm4uc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0sbi5mbi5hbmRTZWxmPW4uZm4uYWRkQmFjaywiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoImpxdWVyeSIsW10sZnVuY3Rpb24oKXtyZXR1cm4gbn0pO3ZhciBLYj1hLmpRdWVyeSxMYj1hLiQ7cmV0dXJuIG4ubm9Db25mbGljdD1mdW5jdGlvbihiKXtyZXR1cm4gYS4kPT09biYmKGEuJD1MYiksYiYmYS5qUXVlcnk9PT1uJiYoYS5qUXVlcnk9S2IpLG59LHR5cGVvZiBiPT09VSYmKGEualF1ZXJ5PWEuJD1uKSxufSk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPWpxdWVyeS5taW4ubWFwOwovKiEKICogQm9vdHN0cmFwIHYzLjMuNyAoaHR0cDovL2dldGJvb3RzdHJhcC5jb20pCiAqIENvcHlyaWdodCAyMDExLTIwMTYgVHdpdHRlciwgSW5jLgogKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UKICovCmlmKCJ1bmRlZmluZWQiPT10eXBlb2YgalF1ZXJ5KXRocm93IG5ldyBFcnJvcigiQm9vdHN0cmFwJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBqUXVlcnkiKTsrZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO3ZhciBiPWEuZm4uanF1ZXJ5LnNwbGl0KCIgIilbMF0uc3BsaXQoIi4iKTtpZihiWzBdPDImJmJbMV08OXx8MT09YlswXSYmOT09YlsxXSYmYlsyXTwxfHxiWzBdPjMpdGhyb3cgbmV3IEVycm9yKCJCb290c3RyYXAncyBKYXZhU2NyaXB0IHJlcXVpcmVzIGpRdWVyeSB2ZXJzaW9uIDEuOS4xIG9yIGhpZ2hlciwgYnV0IGxvd2VyIHRoYW4gdmVyc2lvbiA0Iil9KGpRdWVyeSksK2Z1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYm9vdHN0cmFwIiksYj17V2Via2l0VHJhbnNpdGlvbjoid2Via2l0VHJhbnNpdGlvbkVuZCIsTW96VHJhbnNpdGlvbjoidHJhbnNpdGlvbmVuZCIsT1RyYW5zaXRpb246Im9UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kIix0cmFuc2l0aW9uOiJ0cmFuc2l0aW9uZW5kIn07Zm9yKHZhciBjIGluIGIpaWYodm9pZCAwIT09YS5zdHlsZVtjXSlyZXR1cm57ZW5kOmJbY119O3JldHVybiExfWEuZm4uZW11bGF0ZVRyYW5zaXRpb25FbmQ9ZnVuY3Rpb24oYil7dmFyIGM9ITEsZD10aGlzO2EodGhpcykub25lKCJic1RyYW5zaXRpb25FbmQiLGZ1bmN0aW9uKCl7Yz0hMH0pO3ZhciBlPWZ1bmN0aW9uKCl7Y3x8YShkKS50cmlnZ2VyKGEuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCl9O3JldHVybiBzZXRUaW1lb3V0KGUsYiksdGhpc30sYShmdW5jdGlvbigpe2Euc3VwcG9ydC50cmFuc2l0aW9uPWIoKSxhLnN1cHBvcnQudHJhbnNpdGlvbiYmKGEuZXZlbnQuc3BlY2lhbC5ic1RyYW5zaXRpb25FbmQ9e2JpbmRUeXBlOmEuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxkZWxlZ2F0ZVR5cGU6YS5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLGhhbmRsZTpmdW5jdGlvbihiKXtpZihhKGIudGFyZ2V0KS5pcyh0aGlzKSlyZXR1cm4gYi5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSl9KX0oalF1ZXJ5KSwrZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksZT1jLmRhdGEoImJzLmFsZXJ0Iik7ZXx8Yy5kYXRhKCJicy5hbGVydCIsZT1uZXcgZCh0aGlzKSksInN0cmluZyI9PXR5cGVvZiBiJiZlW2JdLmNhbGwoYyl9KX12YXIgYz0nW2RhdGEtZGlzbWlzcz0iYWxlcnQiXScsZD1mdW5jdGlvbihiKXthKGIpLm9uKCJjbGljayIsYyx0aGlzLmNsb3NlKX07ZC5WRVJTSU9OPSIzLjMuNyIsZC5UUkFOU0lUSU9OX0RVUkFUSU9OPTE1MCxkLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbihiKXtmdW5jdGlvbiBjKCl7Zy5kZXRhY2goKS50cmlnZ2VyKCJjbG9zZWQuYnMuYWxlcnQiKS5yZW1vdmUoKX12YXIgZT1hKHRoaXMpLGY9ZS5hdHRyKCJkYXRhLXRhcmdldCIpO2Z8fChmPWUuYXR0cigiaHJlZiIpLGY9ZiYmZi5yZXBsYWNlKC8uKig/PSNbXlxzXSokKS8sIiIpKTt2YXIgZz1hKCIjIj09PWY/W106Zik7YiYmYi5wcmV2ZW50RGVmYXVsdCgpLGcubGVuZ3RofHwoZz1lLmNsb3Nlc3QoIi5hbGVydCIpKSxnLnRyaWdnZXIoYj1hLkV2ZW50KCJjbG9zZS5icy5hbGVydCIpKSxiLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoZy5yZW1vdmVDbGFzcygiaW4iKSxhLnN1cHBvcnQudHJhbnNpdGlvbiYmZy5oYXNDbGFzcygiZmFkZSIpP2cub25lKCJic1RyYW5zaXRpb25FbmQiLGMpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGQuVFJBTlNJVElPTl9EVVJBVElPTik6YygpKX07dmFyIGU9YS5mbi5hbGVydDthLmZuLmFsZXJ0PWIsYS5mbi5hbGVydC5Db25zdHJ1Y3Rvcj1kLGEuZm4uYWxlcnQubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBhLmZuLmFsZXJ0PWUsdGhpc30sYShkb2N1bWVudCkub24oImNsaWNrLmJzLmFsZXJ0LmRhdGEtYXBpIixjLGQucHJvdG90eXBlLmNsb3NlKX0oalF1ZXJ5KSwrZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZT1kLmRhdGEoImJzLmJ1dHRvbiIpLGY9Im9iamVjdCI9PXR5cGVvZiBiJiZiO2V8fGQuZGF0YSgiYnMuYnV0dG9uIixlPW5ldyBjKHRoaXMsZikpLCJ0b2dnbGUiPT1iP2UudG9nZ2xlKCk6YiYmZS5zZXRTdGF0ZShiKX0pfXZhciBjPWZ1bmN0aW9uKGIsZCl7dGhpcy4kZWxlbWVudD1hKGIpLHRoaXMub3B0aW9ucz1hLmV4dGVuZCh7fSxjLkRFRkFVTFRTLGQpLHRoaXMuaXNMb2FkaW5nPSExfTtjLlZFUlNJT049IjMuMy43IixjLkRFRkFVTFRTPXtsb2FkaW5nVGV4dDoibG9hZGluZy4uLiJ9LGMucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKGIpe3ZhciBjPSJkaXNhYmxlZCIsZD10aGlzLiRlbGVtZW50LGU9ZC5pcygiaW5wdXQiKT8idmFsIjoiaHRtbCIsZj1kLmRhdGEoKTtiKz0iVGV4dCIsbnVsbD09Zi5yZXNldFRleHQmJmQuZGF0YSgicmVzZXRUZXh0IixkW2VdKCkpLHNldFRpbWVvdXQoYS5wcm94eShmdW5jdGlvbigpe2RbZV0obnVsbD09ZltiXT90aGlzLm9wdGlvbnNbYl06ZltiXSksImxvYWRpbmdUZXh0Ij09Yj8odGhpcy5pc0xvYWRpbmc9ITAsZC5hZGRDbGFzcyhjKS5hdHRyKGMsYykucHJvcChjLCEwKSk6dGhpcy5pc0xvYWRpbmcmJih0aGlzLmlzTG9hZGluZz0hMSxkLnJlbW92ZUNsYXNzKGMpLnJlbW92ZUF0dHIoYykucHJvcChjLCExKSl9LHRoaXMpLDApfSxjLnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oKXt2YXIgYT0hMCxiPXRoaXMuJGVsZW1lbnQuY2xvc2VzdCgnW2RhdGEtdG9nZ2xlPSJidXR0b25zIl0nKTtpZihiLmxlbmd0aCl7dmFyIGM9dGhpcy4kZWxlbWVudC5maW5kKCJpbnB1dCIpOyJyYWRpbyI9PWMucHJvcCgidHlwZSIpPyhjLnByb3AoImNoZWNrZWQiKSYmKGE9ITEpLGIuZmluZCgiLmFjdGl2ZSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSx0aGlzLiRlbGVtZW50LmFkZENsYXNzKCJhY3RpdmUiKSk6ImNoZWNrYm94Ij09Yy5wcm9wKCJ0eXBlIikmJihjLnByb3AoImNoZWNrZWQiKSE9PXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoImFjdGl2ZSIpJiYoYT0hMSksdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcygiYWN0aXZlIikpLGMucHJvcCgiY2hlY2tlZCIsdGhpcy4kZWxlbWVudC5oYXNDbGFzcygiYWN0aXZlIikpLGEmJmMudHJpZ2dlcigiY2hhbmdlIil9ZWxzZSB0aGlzLiRlbGVtZW50LmF0dHIoImFyaWEtcHJlc3NlZCIsIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoImFjdGl2ZSIpKSx0aGlzLiRlbGVtZW50LnRvZ2dsZUNsYXNzKCJhY3RpdmUiKX07dmFyIGQ9YS5mbi5idXR0b247YS5mbi5idXR0b249YixhLmZuLmJ1dHRvbi5Db25zdHJ1Y3Rvcj1jLGEuZm4uYnV0dG9uLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYS5mbi5idXR0b249ZCx0aGlzfSxhKGRvY3VtZW50KS5vbigiY2xpY2suYnMuYnV0dG9uLmRhdGEtYXBpIiwnW2RhdGEtdG9nZ2xlXj0iYnV0dG9uIl0nLGZ1bmN0aW9uKGMpe3ZhciBkPWEoYy50YXJnZXQpLmNsb3Nlc3QoIi5idG4iKTtiLmNhbGwoZCwidG9nZ2xlIiksYShjLnRhcmdldCkuaXMoJ2lucHV0W3R5cGU9InJhZGlvIl0sIGlucHV0W3R5cGU9ImNoZWNrYm94Il0nKXx8KGMucHJldmVudERlZmF1bHQoKSxkLmlzKCJpbnB1dCxidXR0b24iKT9kLnRyaWdnZXIoImZvY3VzIik6ZC5maW5kKCJpbnB1dDp2aXNpYmxlLGJ1dHRvbjp2aXNpYmxlIikuZmlyc3QoKS50cmlnZ2VyKCJmb2N1cyIpKX0pLm9uKCJmb2N1cy5icy5idXR0b24uZGF0YS1hcGkgYmx1ci5icy5idXR0b24uZGF0YS1hcGkiLCdbZGF0YS10b2dnbGVePSJidXR0b24iXScsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuY2xvc2VzdCgiLmJ0biIpLnRvZ2dsZUNsYXNzKCJmb2N1cyIsL15mb2N1cyhpbik/JC8udGVzdChiLnR5cGUpKX0pfShqUXVlcnkpLCtmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKSxlPWQuZGF0YSgiYnMuY2Fyb3VzZWwiKSxmPWEuZXh0ZW5kKHt9LGMuREVGQVVMVFMsZC5kYXRhKCksIm9iamVjdCI9PXR5cGVvZiBiJiZiKSxnPSJzdHJpbmciPT10eXBlb2YgYj9iOmYuc2xpZGU7ZXx8ZC5kYXRhKCJicy5jYXJvdXNlbCIsZT1uZXcgYyh0aGlzLGYpKSwibnVtYmVyIj09dHlwZW9mIGI/ZS50byhiKTpnP2VbZ10oKTpmLmludGVydmFsJiZlLnBhdXNlKCkuY3ljbGUoKX0pfXZhciBjPWZ1bmN0aW9uKGIsYyl7dGhpcy4kZWxlbWVudD1hKGIpLHRoaXMuJGluZGljYXRvcnM9dGhpcy4kZWxlbWVudC5maW5kKCIuY2Fyb3VzZWwtaW5kaWNhdG9ycyIpLHRoaXMub3B0aW9ucz1jLHRoaXMucGF1c2VkPW51bGwsdGhpcy5zbGlkaW5nPW51bGwsdGhpcy5pbnRlcnZhbD1udWxsLHRoaXMuJGFjdGl2ZT1udWxsLHRoaXMuJGl0ZW1zPW51bGwsdGhpcy5vcHRpb25zLmtleWJvYXJkJiZ0aGlzLiRlbGVtZW50Lm9uKCJrZXlkb3duLmJzLmNhcm91c2VsIixhLnByb3h5KHRoaXMua2V5ZG93bix0aGlzKSksImhvdmVyIj09dGhpcy5vcHRpb25zLnBhdXNlJiYhKCJvbnRvdWNoc3RhcnQiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSYmdGhpcy4kZWxlbWVudC5vbigibW91c2VlbnRlci5icy5jYXJvdXNlbCIsYS5wcm94eSh0aGlzLnBhdXNlLHRoaXMpKS5vbigibW91c2VsZWF2ZS5icy5jYXJvdXNlbCIsYS5wcm94eSh0aGlzLmN5Y2xlLHRoaXMpKX07Yy5WRVJTSU9OPSIzLjMuNyIsYy5UUkFOU0lUSU9OX0RVUkFUSU9OPTYwMCxjLkRFRkFVTFRTPXtpbnRlcnZhbDo1ZTMscGF1c2U6ImhvdmVyIix3cmFwOiEwLGtleWJvYXJkOiEwfSxjLnByb3RvdHlwZS5rZXlkb3duPWZ1bmN0aW9uKGEpe2lmKCEvaW5wdXR8dGV4dGFyZWEvaS50ZXN0KGEudGFyZ2V0LnRhZ05hbWUpKXtzd2l0Y2goYS53aGljaCl7Y2FzZSAzNzp0aGlzLnByZXYoKTticmVhaztjYXNlIDM5OnRoaXMubmV4dCgpO2JyZWFrO2RlZmF1bHQ6cmV0dXJufWEucHJldmVudERlZmF1bHQoKX19LGMucHJvdG90eXBlLmN5Y2xlPWZ1bmN0aW9uKGIpe3JldHVybiBifHwodGhpcy5wYXVzZWQ9ITEpLHRoaXMuaW50ZXJ2YWwmJmNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCksdGhpcy5vcHRpb25zLmludGVydmFsJiYhdGhpcy5wYXVzZWQmJih0aGlzLmludGVydmFsPXNldEludGVydmFsKGEucHJveHkodGhpcy5uZXh0LHRoaXMpLHRoaXMub3B0aW9ucy5pbnRlcnZhbCkpLHRoaXN9LGMucHJvdG90eXBlLmdldEl0ZW1JbmRleD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy4kaXRlbXM9YS5wYXJlbnQoKS5jaGlsZHJlbigiLml0ZW0iKSx0aGlzLiRpdGVtcy5pbmRleChhfHx0aGlzLiRhY3RpdmUpfSxjLnByb3RvdHlwZS5nZXRJdGVtRm9yRGlyZWN0aW9uPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRJdGVtSW5kZXgoYiksZD0icHJldiI9PWEmJjA9PT1jfHwibmV4dCI9PWEmJmM9PXRoaXMuJGl0ZW1zLmxlbmd0aC0xO2lmKGQmJiF0aGlzLm9wdGlvbnMud3JhcClyZXR1cm4gYjt2YXIgZT0icHJldiI9PWE/LTE6MSxmPShjK2UpJXRoaXMuJGl0ZW1zLmxlbmd0aDtyZXR1cm4gdGhpcy4kaXRlbXMuZXEoZil9LGMucHJvdG90eXBlLnRvPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz10aGlzLmdldEl0ZW1JbmRleCh0aGlzLiRhY3RpdmU9dGhpcy4kZWxlbWVudC5maW5kKCIuaXRlbS5hY3RpdmUiKSk7aWYoIShhPnRoaXMuJGl0ZW1zLmxlbmd0aC0xfHxhPDApKXJldHVybiB0aGlzLnNsaWRpbmc/dGhpcy4kZWxlbWVudC5vbmUoInNsaWQuYnMuY2Fyb3VzZWwiLGZ1bmN0aW9uKCl7Yi50byhhKX0pOmM9PWE/dGhpcy5wYXVzZSgpLmN5Y2xlKCk6dGhpcy5zbGlkZShhPmM/Im5leHQiOiJwcmV2Iix0aGlzLiRpdGVtcy5lcShhKSl9LGMucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKGIpe3JldHVybiBifHwodGhpcy5wYXVzZWQ9ITApLHRoaXMuJGVsZW1lbnQuZmluZCgiLm5leHQsIC5wcmV2IikubGVuZ3RoJiZhLnN1cHBvcnQudHJhbnNpdGlvbiYmKHRoaXMuJGVsZW1lbnQudHJpZ2dlcihhLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpLHRoaXMuY3ljbGUoITApKSx0aGlzLmludGVydmFsPWNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCksdGhpc30sYy5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe2lmKCF0aGlzLnNsaWRpbmcpcmV0dXJuIHRoaXMuc2xpZGUoIm5leHQiKX0sYy5wcm90b3R5cGUucHJldj1mdW5jdGlvbigpe2lmKCF0aGlzLnNsaWRpbmcpcmV0dXJuIHRoaXMuc2xpZGUoInByZXYiKX0sYy5wcm90b3R5cGUuc2xpZGU9ZnVuY3Rpb24oYixkKXt2YXIgZT10aGlzLiRlbGVtZW50LmZpbmQoIi5pdGVtLmFjdGl2ZSIpLGY9ZHx8dGhpcy5nZXRJdGVtRm9yRGlyZWN0aW9uKGIsZSksZz10aGlzLmludGVydmFsLGg9Im5leHQiPT1iPyJsZWZ0IjoicmlnaHQiLGk9dGhpcztpZihmLmhhc0NsYXNzKCJhY3RpdmUiKSlyZXR1cm4gdGhpcy5zbGlkaW5nPSExO3ZhciBqPWZbMF0saz1hLkV2ZW50KCJzbGlkZS5icy5jYXJvdXNlbCIse3JlbGF0ZWRUYXJnZXQ6aixkaXJlY3Rpb246aH0pO2lmKHRoaXMuJGVsZW1lbnQudHJpZ2dlcihrKSwhay5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7aWYodGhpcy5zbGlkaW5nPSEwLGcmJnRoaXMucGF1c2UoKSx0aGlzLiRpbmRpY2F0b3JzLmxlbmd0aCl7dGhpcy4kaW5kaWNhdG9ycy5maW5kKCIuYWN0aXZlIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpO3ZhciBsPWEodGhpcy4kaW5kaWNhdG9ycy5jaGlsZHJlbigpW3RoaXMuZ2V0SXRlbUluZGV4KGYpXSk7bCYmbC5hZGRDbGFzcygiYWN0aXZlIil9dmFyIG09YS5FdmVudCgic2xpZC5icy5jYXJvdXNlbCIse3JlbGF0ZWRUYXJnZXQ6aixkaXJlY3Rpb246aH0pO3JldHVybiBhLnN1cHBvcnQudHJhbnNpdGlvbiYmdGhpcy4kZWxlbWVudC5oYXNDbGFzcygic2xpZGUiKT8oZi5hZGRDbGFzcyhiKSxmWzBdLm9mZnNldFdpZHRoLGUuYWRkQ2xhc3MoaCksZi5hZGRDbGFzcyhoKSxlLm9uZSgiYnNUcmFuc2l0aW9uRW5kIixmdW5jdGlvbigpe2YucmVtb3ZlQ2xhc3MoW2IsaF0uam9pbigiICIpKS5hZGRDbGFzcygiYWN0aXZlIiksZS5yZW1vdmVDbGFzcyhbImFjdGl2ZSIsaF0uam9pbigiICIpKSxpLnNsaWRpbmc9ITEsc2V0VGltZW91dChmdW5jdGlvbigpe2kuJGVsZW1lbnQudHJpZ2dlcihtKX0sMCl9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZChjLlRSQU5TSVRJT05fRFVSQVRJT04pKTooZS5yZW1vdmVDbGFzcygiYWN0aXZlIiksZi5hZGRDbGFzcygiYWN0aXZlIiksdGhpcy5zbGlkaW5nPSExLHRoaXMuJGVsZW1lbnQudHJpZ2dlcihtKSksZyYmdGhpcy5jeWNsZSgpLHRoaXN9fTt2YXIgZD1hLmZuLmNhcm91c2VsO2EuZm4uY2Fyb3VzZWw9YixhLmZuLmNhcm91c2VsLkNvbnN0cnVjdG9yPWMsYS5mbi5jYXJvdXNlbC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZm4uY2Fyb3VzZWw9ZCx0aGlzfTt2YXIgZT1mdW5jdGlvbihjKXt2YXIgZCxlPWEodGhpcyksZj1hKGUuYXR0cigiZGF0YS10YXJnZXQiKXx8KGQ9ZS5hdHRyKCJocmVmIikpJiZkLnJlcGxhY2UoLy4qKD89I1teXHNdKyQpLywiIikpO2lmKGYuaGFzQ2xhc3MoImNhcm91c2VsIikpe3ZhciBnPWEuZXh0ZW5kKHt9LGYuZGF0YSgpLGUuZGF0YSgpKSxoPWUuYXR0cigiZGF0YS1zbGlkZS10byIpO2gmJihnLmludGVydmFsPSExKSxiLmNhbGwoZixnKSxoJiZmLmRhdGEoImJzLmNhcm91c2VsIikudG8oaCksYy5wcmV2ZW50RGVmYXVsdCgpfX07YShkb2N1bWVudCkub24oImNsaWNrLmJzLmNhcm91c2VsLmRhdGEtYXBpIiwiW2RhdGEtc2xpZGVdIixlKS5vbigiY2xpY2suYnMuY2Fyb3VzZWwuZGF0YS1hcGkiLCJbZGF0YS1zbGlkZS10b10iLGUpLGEod2luZG93KS5vbigibG9hZCIsZnVuY3Rpb24oKXthKCdbZGF0YS1yaWRlPSJjYXJvdXNlbCJdJykuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyk7Yi5jYWxsKGMsYy5kYXRhKCkpfSl9KX0oalF1ZXJ5KSwrZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYil7dmFyIGMsZD1iLmF0dHIoImRhdGEtdGFyZ2V0Iil8fChjPWIuYXR0cigiaHJlZiIpKSYmYy5yZXBsYWNlKC8uKig/PSNbXlxzXSskKS8sIiIpO3JldHVybiBhKGQpfWZ1bmN0aW9uIGMoYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksZT1jLmRhdGEoImJzLmNvbGxhcHNlIiksZj1hLmV4dGVuZCh7fSxkLkRFRkFVTFRTLGMuZGF0YSgpLCJvYmplY3QiPT10eXBlb2YgYiYmYik7IWUmJmYudG9nZ2xlJiYvc2hvd3xoaWRlLy50ZXN0KGIpJiYoZi50b2dnbGU9ITEpLGV8fGMuZGF0YSgiYnMuY29sbGFwc2UiLGU9bmV3IGQodGhpcyxmKSksInN0cmluZyI9PXR5cGVvZiBiJiZlW2JdKCl9KX12YXIgZD1mdW5jdGlvbihiLGMpe3RoaXMuJGVsZW1lbnQ9YShiKSx0aGlzLm9wdGlvbnM9YS5leHRlbmQoe30sZC5ERUZBVUxUUyxjKSx0aGlzLiR0cmlnZ2VyPWEoJ1tkYXRhLXRvZ2dsZT0iY29sbGFwc2UiXVtocmVmPSIjJytiLmlkKyciXSxbZGF0YS10b2dnbGU9ImNvbGxhcHNlIl1bZGF0YS10YXJnZXQ9IiMnK2IuaWQrJyJdJyksdGhpcy50cmFuc2l0aW9uaW5nPW51bGwsdGhpcy5vcHRpb25zLnBhcmVudD90aGlzLiRwYXJlbnQ9dGhpcy5nZXRQYXJlbnQoKTp0aGlzLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyh0aGlzLiRlbGVtZW50LHRoaXMuJHRyaWdnZXIpLHRoaXMub3B0aW9ucy50b2dnbGUmJnRoaXMudG9nZ2xlKCl9O2QuVkVSU0lPTj0iMy4zLjciLGQuVFJBTlNJVElPTl9EVVJBVElPTj0zNTAsZC5ERUZBVUxUUz17dG9nZ2xlOiEwfSxkLnByb3RvdHlwZS5kaW1lbnNpb249ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJ3aWR0aCIpO3JldHVybiBhPyJ3aWR0aCI6ImhlaWdodCJ9LGQucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXtpZighdGhpcy50cmFuc2l0aW9uaW5nJiYhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygiaW4iKSl7dmFyIGIsZT10aGlzLiRwYXJlbnQmJnRoaXMuJHBhcmVudC5jaGlsZHJlbigiLnBhbmVsIikuY2hpbGRyZW4oIi5pbiwgLmNvbGxhcHNpbmciKTtpZighKGUmJmUubGVuZ3RoJiYoYj1lLmRhdGEoImJzLmNvbGxhcHNlIiksYiYmYi50cmFuc2l0aW9uaW5nKSkpe3ZhciBmPWEuRXZlbnQoInNob3cuYnMuY29sbGFwc2UiKTtpZih0aGlzLiRlbGVtZW50LnRyaWdnZXIoZiksIWYuaXNEZWZhdWx0UHJldmVudGVkKCkpe2UmJmUubGVuZ3RoJiYoYy5jYWxsKGUsImhpZGUiKSxifHxlLmRhdGEoImJzLmNvbGxhcHNlIixudWxsKSk7dmFyIGc9dGhpcy5kaW1lbnNpb24oKTt0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJjb2xsYXBzZSIpLmFkZENsYXNzKCJjb2xsYXBzaW5nIilbZ10oMCkuYXR0cigiYXJpYS1leHBhbmRlZCIsITApLHRoaXMuJHRyaWdnZXIucmVtb3ZlQ2xhc3MoImNvbGxhcHNlZCIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCEwKSx0aGlzLnRyYW5zaXRpb25pbmc9MTt2YXIgaD1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoImNvbGxhcHNpbmciKS5hZGRDbGFzcygiY29sbGFwc2UgaW4iKVtnXSgiIiksdGhpcy50cmFuc2l0aW9uaW5nPTAsdGhpcy4kZWxlbWVudC50cmlnZ2VyKCJzaG93bi5icy5jb2xsYXBzZSIpfTtpZighYS5zdXBwb3J0LnRyYW5zaXRpb24pcmV0dXJuIGguY2FsbCh0aGlzKTt2YXIgaT1hLmNhbWVsQ2FzZShbInNjcm9sbCIsZ10uam9pbigiLSIpKTt0aGlzLiRlbGVtZW50Lm9uZSgiYnNUcmFuc2l0aW9uRW5kIixhLnByb3h5KGgsdGhpcykpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGQuVFJBTlNJVElPTl9EVVJBVElPTilbZ10odGhpcy4kZWxlbWVudFswXVtpXSl9fX19LGQucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXtpZighdGhpcy50cmFuc2l0aW9uaW5nJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJpbiIpKXt2YXIgYj1hLkV2ZW50KCJoaWRlLmJzLmNvbGxhcHNlIik7aWYodGhpcy4kZWxlbWVudC50cmlnZ2VyKGIpLCFiLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgYz10aGlzLmRpbWVuc2lvbigpO3RoaXMuJGVsZW1lbnRbY10odGhpcy4kZWxlbWVudFtjXSgpKVswXS5vZmZzZXRIZWlnaHQsdGhpcy4kZWxlbWVudC5hZGRDbGFzcygiY29sbGFwc2luZyIpLnJlbW92ZUNsYXNzKCJjb2xsYXBzZSBpbiIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCExKSx0aGlzLiR0cmlnZ2VyLmFkZENsYXNzKCJjb2xsYXBzZWQiKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMSksdGhpcy50cmFuc2l0aW9uaW5nPTE7dmFyIGU9ZnVuY3Rpb24oKXt0aGlzLnRyYW5zaXRpb25pbmc9MCx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJjb2xsYXBzaW5nIikuYWRkQ2xhc3MoImNvbGxhcHNlIikudHJpZ2dlcigiaGlkZGVuLmJzLmNvbGxhcHNlIil9O3JldHVybiBhLnN1cHBvcnQudHJhbnNpdGlvbj92b2lkIHRoaXMuJGVsZW1lbnRbY10oMCkub25lKCJic1RyYW5zaXRpb25FbmQiLGEucHJveHkoZSx0aGlzKSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoZC5UUkFOU0lUSU9OX0RVUkFUSU9OKTplLmNhbGwodGhpcyl9fX0sZC5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKCl7dGhpc1t0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJpbiIpPyJoaWRlIjoic2hvdyJdKCl9LGQucHJvdG90eXBlLmdldFBhcmVudD1mdW5jdGlvbigpe3JldHVybiBhKHRoaXMub3B0aW9ucy5wYXJlbnQpLmZpbmQoJ1tkYXRhLXRvZ2dsZT0iY29sbGFwc2UiXVtkYXRhLXBhcmVudD0iJyt0aGlzLm9wdGlvbnMucGFyZW50KyciXScpLmVhY2goYS5wcm94eShmdW5jdGlvbihjLGQpe3ZhciBlPWEoZCk7dGhpcy5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MoYihlKSxlKX0sdGhpcykpLmVuZCgpfSxkLnByb3RvdHlwZS5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3M9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmhhc0NsYXNzKCJpbiIpO2EuYXR0cigiYXJpYS1leHBhbmRlZCIsYyksYi50b2dnbGVDbGFzcygiY29sbGFwc2VkIiwhYykuYXR0cigiYXJpYS1leHBhbmRlZCIsYyl9O3ZhciBlPWEuZm4uY29sbGFwc2U7YS5mbi5jb2xsYXBzZT1jLGEuZm4uY29sbGFwc2UuQ29uc3RydWN0b3I9ZCxhLmZuLmNvbGxhcHNlLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYS5mbi5jb2xsYXBzZT1lLHRoaXN9LGEoZG9jdW1lbnQpLm9uKCJjbGljay5icy5jb2xsYXBzZS5kYXRhLWFwaSIsJ1tkYXRhLXRvZ2dsZT0iY29sbGFwc2UiXScsZnVuY3Rpb24oZCl7dmFyIGU9YSh0aGlzKTtlLmF0dHIoImRhdGEtdGFyZ2V0Iil8fGQucHJldmVudERlZmF1bHQoKTt2YXIgZj1iKGUpLGc9Zi5kYXRhKCJicy5jb2xsYXBzZSIpLGg9Zz8idG9nZ2xlIjplLmRhdGEoKTtjLmNhbGwoZixoKX0pfShqUXVlcnkpLCtmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihiKXt2YXIgYz1iLmF0dHIoImRhdGEtdGFyZ2V0Iik7Y3x8KGM9Yi5hdHRyKCJocmVmIiksYz1jJiYvI1tBLVphLXpdLy50ZXN0KGMpJiZjLnJlcGxhY2UoLy4qKD89I1teXHNdKiQpLywiIikpO3ZhciBkPWMmJmEoYyk7cmV0dXJuIGQmJmQubGVuZ3RoP2Q6Yi5wYXJlbnQoKX1mdW5jdGlvbiBjKGMpe2MmJjM9PT1jLndoaWNofHwoYShlKS5yZW1vdmUoKSxhKGYpLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLGU9YihkKSxmPXtyZWxhdGVkVGFyZ2V0OnRoaXN9O2UuaGFzQ2xhc3MoIm9wZW4iKSYmKGMmJiJjbGljayI9PWMudHlwZSYmL2lucHV0fHRleHRhcmVhL2kudGVzdChjLnRhcmdldC50YWdOYW1lKSYmYS5jb250YWlucyhlWzBdLGMudGFyZ2V0KXx8KGUudHJpZ2dlcihjPWEuRXZlbnQoImhpZGUuYnMuZHJvcGRvd24iLGYpKSxjLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoZC5hdHRyKCJhcmlhLWV4cGFuZGVkIiwiZmFsc2UiKSxlLnJlbW92ZUNsYXNzKCJvcGVuIikudHJpZ2dlcihhLkV2ZW50KCJoaWRkZW4uYnMuZHJvcGRvd24iLGYpKSkpKX0pKX1mdW5jdGlvbiBkKGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9Yy5kYXRhKCJicy5kcm9wZG93biIpO2R8fGMuZGF0YSgiYnMuZHJvcGRvd24iLGQ9bmV3IGcodGhpcykpLCJzdHJpbmciPT10eXBlb2YgYiYmZFtiXS5jYWxsKGMpfSl9dmFyIGU9Ii5kcm9wZG93bi1iYWNrZHJvcCIsZj0nW2RhdGEtdG9nZ2xlPSJkcm9wZG93biJdJyxnPWZ1bmN0aW9uKGIpe2EoYikub24oImNsaWNrLmJzLmRyb3Bkb3duIix0aGlzLnRvZ2dsZSl9O2cuVkVSU0lPTj0iMy4zLjciLGcucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihkKXt2YXIgZT1hKHRoaXMpO2lmKCFlLmlzKCIuZGlzYWJsZWQsIDpkaXNhYmxlZCIpKXt2YXIgZj1iKGUpLGc9Zi5oYXNDbGFzcygib3BlbiIpO2lmKGMoKSwhZyl7Im9udG91Y2hzdGFydCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJiFmLmNsb3Nlc3QoIi5uYXZiYXItbmF2IikubGVuZ3RoJiZhKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpKS5hZGRDbGFzcygiZHJvcGRvd24tYmFja2Ryb3AiKS5pbnNlcnRBZnRlcihhKHRoaXMpKS5vbigiY2xpY2siLGMpO3ZhciBoPXtyZWxhdGVkVGFyZ2V0OnRoaXN9O2lmKGYudHJpZ2dlcihkPWEuRXZlbnQoInNob3cuYnMuZHJvcGRvd24iLGgpKSxkLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybjtlLnRyaWdnZXIoImZvY3VzIikuYXR0cigiYXJpYS1leHBhbmRlZCIsInRydWUiKSxmLnRvZ2dsZUNsYXNzKCJvcGVuIikudHJpZ2dlcihhLkV2ZW50KCJzaG93bi5icy5kcm9wZG93biIsaCkpfXJldHVybiExfX0sZy5wcm90b3R5cGUua2V5ZG93bj1mdW5jdGlvbihjKXtpZigvKDM4fDQwfDI3fDMyKS8udGVzdChjLndoaWNoKSYmIS9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoYy50YXJnZXQudGFnTmFtZSkpe3ZhciBkPWEodGhpcyk7aWYoYy5wcmV2ZW50RGVmYXVsdCgpLGMuc3RvcFByb3BhZ2F0aW9uKCksIWQuaXMoIi5kaXNhYmxlZCwgOmRpc2FibGVkIikpe3ZhciBlPWIoZCksZz1lLmhhc0NsYXNzKCJvcGVuIik7aWYoIWcmJjI3IT1jLndoaWNofHxnJiYyNz09Yy53aGljaClyZXR1cm4gMjc9PWMud2hpY2gmJmUuZmluZChmKS50cmlnZ2VyKCJmb2N1cyIpLGQudHJpZ2dlcigiY2xpY2siKTt2YXIgaD0iIGxpOm5vdCguZGlzYWJsZWQpOnZpc2libGUgYSIsaT1lLmZpbmQoIi5kcm9wZG93bi1tZW51IitoKTtpZihpLmxlbmd0aCl7dmFyIGo9aS5pbmRleChjLnRhcmdldCk7Mzg9PWMud2hpY2gmJmo+MCYmai0tLDQwPT1jLndoaWNoJiZqPGkubGVuZ3RoLTEmJmorKyx+anx8KGo9MCksaS5lcShqKS50cmlnZ2VyKCJmb2N1cyIpfX19fTt2YXIgaD1hLmZuLmRyb3Bkb3duO2EuZm4uZHJvcGRvd249ZCxhLmZuLmRyb3Bkb3duLkNvbnN0cnVjdG9yPWcsYS5mbi5kcm9wZG93bi5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZm4uZHJvcGRvd249aCx0aGlzfSxhKGRvY3VtZW50KS5vbigiY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGkiLGMpLm9uKCJjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaSIsIi5kcm9wZG93biBmb3JtIixmdW5jdGlvbihhKXthLnN0b3BQcm9wYWdhdGlvbigpfSkub24oImNsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpIixmLGcucHJvdG90eXBlLnRvZ2dsZSkub24oImtleWRvd24uYnMuZHJvcGRvd24uZGF0YS1hcGkiLGYsZy5wcm90b3R5cGUua2V5ZG93bikub24oImtleWRvd24uYnMuZHJvcGRvd24uZGF0YS1hcGkiLCIuZHJvcGRvd24tbWVudSIsZy5wcm90b3R5cGUua2V5ZG93bil9KGpRdWVyeSksK2Z1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGIsZCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlPWEodGhpcyksZj1lLmRhdGEoImJzLm1vZGFsIiksZz1hLmV4dGVuZCh7fSxjLkRFRkFVTFRTLGUuZGF0YSgpLCJvYmplY3QiPT10eXBlb2YgYiYmYik7Znx8ZS5kYXRhKCJicy5tb2RhbCIsZj1uZXcgYyh0aGlzLGcpKSwic3RyaW5nIj09dHlwZW9mIGI/ZltiXShkKTpnLnNob3cmJmYuc2hvdyhkKX0pfXZhciBjPWZ1bmN0aW9uKGIsYyl7dGhpcy5vcHRpb25zPWMsdGhpcy4kYm9keT1hKGRvY3VtZW50LmJvZHkpLHRoaXMuJGVsZW1lbnQ9YShiKSx0aGlzLiRkaWFsb2c9dGhpcy4kZWxlbWVudC5maW5kKCIubW9kYWwtZGlhbG9nIiksdGhpcy4kYmFja2Ryb3A9bnVsbCx0aGlzLmlzU2hvd249bnVsbCx0aGlzLm9yaWdpbmFsQm9keVBhZD1udWxsLHRoaXMuc2Nyb2xsYmFyV2lkdGg9MCx0aGlzLmlnbm9yZUJhY2tkcm9wQ2xpY2s9ITEsdGhpcy5vcHRpb25zLnJlbW90ZSYmdGhpcy4kZWxlbWVudC5maW5kKCIubW9kYWwtY29udGVudCIpLmxvYWQodGhpcy5vcHRpb25zLnJlbW90ZSxhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC50cmlnZ2VyKCJsb2FkZWQuYnMubW9kYWwiKX0sdGhpcykpfTtjLlZFUlNJT049IjMuMy43IixjLlRSQU5TSVRJT05fRFVSQVRJT049MzAwLGMuQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTj0xNTAsYy5ERUZBVUxUUz17YmFja2Ryb3A6ITAsa2V5Ym9hcmQ6ITAsc2hvdzohMH0sYy5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzU2hvd24/dGhpcy5oaWRlKCk6dGhpcy5zaG93KGEpfSxjLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKGIpe3ZhciBkPXRoaXMsZT1hLkV2ZW50KCJzaG93LmJzLm1vZGFsIix7cmVsYXRlZFRhcmdldDpifSk7dGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpLHRoaXMuaXNTaG93bnx8ZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KHRoaXMuaXNTaG93bj0hMCx0aGlzLmNoZWNrU2Nyb2xsYmFyKCksdGhpcy5zZXRTY3JvbGxiYXIoKSx0aGlzLiRib2R5LmFkZENsYXNzKCJtb2RhbC1vcGVuIiksdGhpcy5lc2NhcGUoKSx0aGlzLnJlc2l6ZSgpLHRoaXMuJGVsZW1lbnQub24oImNsaWNrLmRpc21pc3MuYnMubW9kYWwiLCdbZGF0YS1kaXNtaXNzPSJtb2RhbCJdJyxhLnByb3h5KHRoaXMuaGlkZSx0aGlzKSksdGhpcy4kZGlhbG9nLm9uKCJtb3VzZWRvd24uZGlzbWlzcy5icy5tb2RhbCIsZnVuY3Rpb24oKXtkLiRlbGVtZW50Lm9uZSgibW91c2V1cC5kaXNtaXNzLmJzLm1vZGFsIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5pcyhkLiRlbGVtZW50KSYmKGQuaWdub3JlQmFja2Ryb3BDbGljaz0hMCl9KX0pLHRoaXMuYmFja2Ryb3AoZnVuY3Rpb24oKXt2YXIgZT1hLnN1cHBvcnQudHJhbnNpdGlvbiYmZC4kZWxlbWVudC5oYXNDbGFzcygiZmFkZSIpO2QuJGVsZW1lbnQucGFyZW50KCkubGVuZ3RofHxkLiRlbGVtZW50LmFwcGVuZFRvKGQuJGJvZHkpLGQuJGVsZW1lbnQuc2hvdygpLnNjcm9sbFRvcCgwKSxkLmFkanVzdERpYWxvZygpLGUmJmQuJGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGgsZC4kZWxlbWVudC5hZGRDbGFzcygiaW4iKSxkLmVuZm9yY2VGb2N1cygpO3ZhciBmPWEuRXZlbnQoInNob3duLmJzLm1vZGFsIix7cmVsYXRlZFRhcmdldDpifSk7ZT9kLiRkaWFsb2cub25lKCJic1RyYW5zaXRpb25FbmQiLGZ1bmN0aW9uKCl7ZC4kZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIpLnRyaWdnZXIoZil9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZChjLlRSQU5TSVRJT05fRFVSQVRJT04pOmQuJGVsZW1lbnQudHJpZ2dlcigiZm9jdXMiKS50cmlnZ2VyKGYpfSkpfSxjLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKGIpe2ImJmIucHJldmVudERlZmF1bHQoKSxiPWEuRXZlbnQoImhpZGUuYnMubW9kYWwiKSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoYiksdGhpcy5pc1Nob3duJiYhYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKHRoaXMuaXNTaG93bj0hMSx0aGlzLmVzY2FwZSgpLHRoaXMucmVzaXplKCksYShkb2N1bWVudCkub2ZmKCJmb2N1c2luLmJzLm1vZGFsIiksdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygiaW4iKS5vZmYoImNsaWNrLmRpc21pc3MuYnMubW9kYWwiKS5vZmYoIm1vdXNldXAuZGlzbWlzcy5icy5tb2RhbCIpLHRoaXMuJGRpYWxvZy5vZmYoIm1vdXNlZG93bi5kaXNtaXNzLmJzLm1vZGFsIiksYS5zdXBwb3J0LnRyYW5zaXRpb24mJnRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoImZhZGUiKT90aGlzLiRlbGVtZW50Lm9uZSgiYnNUcmFuc2l0aW9uRW5kIixhLnByb3h5KHRoaXMuaGlkZU1vZGFsLHRoaXMpKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChjLlRSQU5TSVRJT05fRFVSQVRJT04pOnRoaXMuaGlkZU1vZGFsKCkpfSxjLnByb3RvdHlwZS5lbmZvcmNlRm9jdXM9ZnVuY3Rpb24oKXthKGRvY3VtZW50KS5vZmYoImZvY3VzaW4uYnMubW9kYWwiKS5vbigiZm9jdXNpbi5icy5tb2RhbCIsYS5wcm94eShmdW5jdGlvbihhKXtkb2N1bWVudD09PWEudGFyZ2V0fHx0aGlzLiRlbGVtZW50WzBdPT09YS50YXJnZXR8fHRoaXMuJGVsZW1lbnQuaGFzKGEudGFyZ2V0KS5sZW5ndGh8fHRoaXMuJGVsZW1lbnQudHJpZ2dlcigiZm9jdXMiKX0sdGhpcykpfSxjLnByb3RvdHlwZS5lc2NhcGU9ZnVuY3Rpb24oKXt0aGlzLmlzU2hvd24mJnRoaXMub3B0aW9ucy5rZXlib2FyZD90aGlzLiRlbGVtZW50Lm9uKCJrZXlkb3duLmRpc21pc3MuYnMubW9kYWwiLGEucHJveHkoZnVuY3Rpb24oYSl7Mjc9PWEud2hpY2gmJnRoaXMuaGlkZSgpfSx0aGlzKSk6dGhpcy5pc1Nob3dufHx0aGlzLiRlbGVtZW50Lm9mZigia2V5ZG93bi5kaXNtaXNzLmJzLm1vZGFsIil9LGMucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbigpe3RoaXMuaXNTaG93bj9hKHdpbmRvdykub24oInJlc2l6ZS5icy5tb2RhbCIsYS5wcm94eSh0aGlzLmhhbmRsZVVwZGF0ZSx0aGlzKSk6YSh3aW5kb3cpLm9mZigicmVzaXplLmJzLm1vZGFsIil9LGMucHJvdG90eXBlLmhpZGVNb2RhbD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy4kZWxlbWVudC5oaWRlKCksdGhpcy5iYWNrZHJvcChmdW5jdGlvbigpe2EuJGJvZHkucmVtb3ZlQ2xhc3MoIm1vZGFsLW9wZW4iKSxhLnJlc2V0QWRqdXN0bWVudHMoKSxhLnJlc2V0U2Nyb2xsYmFyKCksYS4kZWxlbWVudC50cmlnZ2VyKCJoaWRkZW4uYnMubW9kYWwiKX0pfSxjLnByb3RvdHlwZS5yZW1vdmVCYWNrZHJvcD1mdW5jdGlvbigpe3RoaXMuJGJhY2tkcm9wJiZ0aGlzLiRiYWNrZHJvcC5yZW1vdmUoKSx0aGlzLiRiYWNrZHJvcD1udWxsfSxjLnByb3RvdHlwZS5iYWNrZHJvcD1mdW5jdGlvbihiKXt2YXIgZD10aGlzLGU9dGhpcy4kZWxlbWVudC5oYXNDbGFzcygiZmFkZSIpPyJmYWRlIjoiIjtpZih0aGlzLmlzU2hvd24mJnRoaXMub3B0aW9ucy5iYWNrZHJvcCl7dmFyIGY9YS5zdXBwb3J0LnRyYW5zaXRpb24mJmU7aWYodGhpcy4kYmFja2Ryb3A9YShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSkuYWRkQ2xhc3MoIm1vZGFsLWJhY2tkcm9wICIrZSkuYXBwZW5kVG8odGhpcy4kYm9keSksdGhpcy4kZWxlbWVudC5vbigiY2xpY2suZGlzbWlzcy5icy5tb2RhbCIsYS5wcm94eShmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pZ25vcmVCYWNrZHJvcENsaWNrP3ZvaWQodGhpcy5pZ25vcmVCYWNrZHJvcENsaWNrPSExKTp2b2lkKGEudGFyZ2V0PT09YS5jdXJyZW50VGFyZ2V0JiYoInN0YXRpYyI9PXRoaXMub3B0aW9ucy5iYWNrZHJvcD90aGlzLiRlbGVtZW50WzBdLmZvY3VzKCk6dGhpcy5oaWRlKCkpKX0sdGhpcykpLGYmJnRoaXMuJGJhY2tkcm9wWzBdLm9mZnNldFdpZHRoLHRoaXMuJGJhY2tkcm9wLmFkZENsYXNzKCJpbiIpLCFiKXJldHVybjtmP3RoaXMuJGJhY2tkcm9wLm9uZSgiYnNUcmFuc2l0aW9uRW5kIixiKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChjLkJBQ0tEUk9QX1RSQU5TSVRJT05fRFVSQVRJT04pOmIoKX1lbHNlIGlmKCF0aGlzLmlzU2hvd24mJnRoaXMuJGJhY2tkcm9wKXt0aGlzLiRiYWNrZHJvcC5yZW1vdmVDbGFzcygiaW4iKTt2YXIgZz1mdW5jdGlvbigpe2QucmVtb3ZlQmFja2Ryb3AoKSxiJiZiKCl9O2Euc3VwcG9ydC50cmFuc2l0aW9uJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJmYWRlIik/dGhpcy4kYmFja2Ryb3Aub25lKCJic1RyYW5zaXRpb25FbmQiLGcpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGMuQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTik6ZygpfWVsc2UgYiYmYigpfSxjLnByb3RvdHlwZS5oYW5kbGVVcGRhdGU9ZnVuY3Rpb24oKXt0aGlzLmFkanVzdERpYWxvZygpfSxjLnByb3RvdHlwZS5hZGp1c3REaWFsb2c9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiRlbGVtZW50WzBdLnNjcm9sbEhlaWdodD5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O3RoaXMuJGVsZW1lbnQuY3NzKHtwYWRkaW5nTGVmdDohdGhpcy5ib2R5SXNPdmVyZmxvd2luZyYmYT90aGlzLnNjcm9sbGJhcldpZHRoOiIiLHBhZGRpbmdSaWdodDp0aGlzLmJvZHlJc092ZXJmbG93aW5nJiYhYT90aGlzLnNjcm9sbGJhcldpZHRoOiIifSl9LGMucHJvdG90eXBlLnJlc2V0QWRqdXN0bWVudHM9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmNzcyh7cGFkZGluZ0xlZnQ6IiIscGFkZGluZ1JpZ2h0OiIifSl9LGMucHJvdG90eXBlLmNoZWNrU2Nyb2xsYmFyPWZ1bmN0aW9uKCl7dmFyIGE9d2luZG93LmlubmVyV2lkdGg7aWYoIWEpe3ZhciBiPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTthPWIucmlnaHQtTWF0aC5hYnMoYi5sZWZ0KX10aGlzLmJvZHlJc092ZXJmbG93aW5nPWRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg8YSx0aGlzLnNjcm9sbGJhcldpZHRoPXRoaXMubWVhc3VyZVNjcm9sbGJhcigpfSxjLnByb3RvdHlwZS5zZXRTY3JvbGxiYXI9ZnVuY3Rpb24oKXt2YXIgYT1wYXJzZUludCh0aGlzLiRib2R5LmNzcygicGFkZGluZy1yaWdodCIpfHwwLDEwKTt0aGlzLm9yaWdpbmFsQm9keVBhZD1kb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodHx8IiIsdGhpcy5ib2R5SXNPdmVyZmxvd2luZyYmdGhpcy4kYm9keS5jc3MoInBhZGRpbmctcmlnaHQiLGErdGhpcy5zY3JvbGxiYXJXaWR0aCl9LGMucHJvdG90eXBlLnJlc2V0U2Nyb2xsYmFyPWZ1bmN0aW9uKCl7dGhpcy4kYm9keS5jc3MoInBhZGRpbmctcmlnaHQiLHRoaXMub3JpZ2luYWxCb2R5UGFkKX0sYy5wcm90b3R5cGUubWVhc3VyZVNjcm9sbGJhcj1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2EuY2xhc3NOYW1lPSJtb2RhbC1zY3JvbGxiYXItbWVhc3VyZSIsdGhpcy4kYm9keS5hcHBlbmQoYSk7dmFyIGI9YS5vZmZzZXRXaWR0aC1hLmNsaWVudFdpZHRoO3JldHVybiB0aGlzLiRib2R5WzBdLnJlbW92ZUNoaWxkKGEpLGJ9O3ZhciBkPWEuZm4ubW9kYWw7YS5mbi5tb2RhbD1iLGEuZm4ubW9kYWwuQ29uc3RydWN0b3I9YyxhLmZuLm1vZGFsLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYS5mbi5tb2RhbD1kLHRoaXN9LGEoZG9jdW1lbnQpLm9uKCJjbGljay5icy5tb2RhbC5kYXRhLWFwaSIsJ1tkYXRhLXRvZ2dsZT0ibW9kYWwiXScsZnVuY3Rpb24oYyl7dmFyIGQ9YSh0aGlzKSxlPWQuYXR0cigiaHJlZiIpLGY9YShkLmF0dHIoImRhdGEtdGFyZ2V0Iil8fGUmJmUucmVwbGFjZSgvLiooPz0jW15cc10rJCkvLCIiKSksZz1mLmRhdGEoImJzLm1vZGFsIik/InRvZ2dsZSI6YS5leHRlbmQoe3JlbW90ZTohLyMvLnRlc3QoZSkmJmV9LGYuZGF0YSgpLGQuZGF0YSgpKTtkLmlzKCJhIikmJmMucHJldmVudERlZmF1bHQoKSxmLm9uZSgic2hvdy5icy5tb2RhbCIsZnVuY3Rpb24oYSl7YS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8Zi5vbmUoImhpZGRlbi5icy5tb2RhbCIsZnVuY3Rpb24oKXtkLmlzKCI6dmlzaWJsZSIpJiZkLnRyaWdnZXIoImZvY3VzIil9KX0pLGIuY2FsbChmLGcsdGhpcyl9KX0oalF1ZXJ5KSwrZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZT1kLmRhdGEoImJzLnRvb2x0aXAiKSxmPSJvYmplY3QiPT10eXBlb2YgYiYmYjshZSYmL2Rlc3Ryb3l8aGlkZS8udGVzdChiKXx8KGV8fGQuZGF0YSgiYnMudG9vbHRpcCIsZT1uZXcgYyh0aGlzLGYpKSwic3RyaW5nIj09dHlwZW9mIGImJmVbYl0oKSl9KX12YXIgYz1mdW5jdGlvbihhLGIpe3RoaXMudHlwZT1udWxsLHRoaXMub3B0aW9ucz1udWxsLHRoaXMuZW5hYmxlZD1udWxsLHRoaXMudGltZW91dD1udWxsLHRoaXMuaG92ZXJTdGF0ZT1udWxsLHRoaXMuJGVsZW1lbnQ9bnVsbCx0aGlzLmluU3RhdGU9bnVsbCx0aGlzLmluaXQoInRvb2x0aXAiLGEsYil9O2MuVkVSU0lPTj0iMy4zLjciLGMuVFJBTlNJVElPTl9EVVJBVElPTj0xNTAsYy5ERUZBVUxUUz17YW5pbWF0aW9uOiEwLHBsYWNlbWVudDoidG9wIixzZWxlY3RvcjohMSx0ZW1wbGF0ZTonPGRpdiBjbGFzcz0idG9vbHRpcCIgcm9sZT0idG9vbHRpcCI+PGRpdiBjbGFzcz0idG9vbHRpcC1hcnJvdyI+PC9kaXY+PGRpdiBjbGFzcz0idG9vbHRpcC1pbm5lciI+PC9kaXY+PC9kaXY+Jyx0cmlnZ2VyOiJob3ZlciBmb2N1cyIsdGl0bGU6IiIsZGVsYXk6MCxodG1sOiExLGNvbnRhaW5lcjohMSx2aWV3cG9ydDp7c2VsZWN0b3I6ImJvZHkiLHBhZGRpbmc6MH19LGMucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oYixjLGQpe2lmKHRoaXMuZW5hYmxlZD0hMCx0aGlzLnR5cGU9Yix0aGlzLiRlbGVtZW50PWEoYyksdGhpcy5vcHRpb25zPXRoaXMuZ2V0T3B0aW9ucyhkKSx0aGlzLiR2aWV3cG9ydD10aGlzLm9wdGlvbnMudmlld3BvcnQmJmEoYS5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy52aWV3cG9ydCk/dGhpcy5vcHRpb25zLnZpZXdwb3J0LmNhbGwodGhpcyx0aGlzLiRlbGVtZW50KTp0aGlzLm9wdGlvbnMudmlld3BvcnQuc2VsZWN0b3J8fHRoaXMub3B0aW9ucy52aWV3cG9ydCksdGhpcy5pblN0YXRlPXtjbGljazohMSxob3ZlcjohMSxmb2N1czohMX0sdGhpcy4kZWxlbWVudFswXWluc3RhbmNlb2YgZG9jdW1lbnQuY29uc3RydWN0b3ImJiF0aGlzLm9wdGlvbnMuc2VsZWN0b3IpdGhyb3cgbmV3IEVycm9yKCJgc2VsZWN0b3JgIG9wdGlvbiBtdXN0IGJlIHNwZWNpZmllZCB3aGVuIGluaXRpYWxpemluZyAiK3RoaXMudHlwZSsiIG9uIHRoZSB3aW5kb3cuZG9jdW1lbnQgb2JqZWN0ISIpO2Zvcih2YXIgZT10aGlzLm9wdGlvbnMudHJpZ2dlci5zcGxpdCgiICIpLGY9ZS5sZW5ndGg7Zi0tOyl7dmFyIGc9ZVtmXTtpZigiY2xpY2siPT1nKXRoaXMuJGVsZW1lbnQub24oImNsaWNrLiIrdGhpcy50eXBlLHRoaXMub3B0aW9ucy5zZWxlY3RvcixhLnByb3h5KHRoaXMudG9nZ2xlLHRoaXMpKTtlbHNlIGlmKCJtYW51YWwiIT1nKXt2YXIgaD0iaG92ZXIiPT1nPyJtb3VzZWVudGVyIjoiZm9jdXNpbiIsaT0iaG92ZXIiPT1nPyJtb3VzZWxlYXZlIjoiZm9jdXNvdXQiO3RoaXMuJGVsZW1lbnQub24oaCsiLiIrdGhpcy50eXBlLHRoaXMub3B0aW9ucy5zZWxlY3RvcixhLnByb3h5KHRoaXMuZW50ZXIsdGhpcykpLHRoaXMuJGVsZW1lbnQub24oaSsiLiIrdGhpcy50eXBlLHRoaXMub3B0aW9ucy5zZWxlY3RvcixhLnByb3h5KHRoaXMubGVhdmUsdGhpcykpfX10aGlzLm9wdGlvbnMuc2VsZWN0b3I/dGhpcy5fb3B0aW9ucz1hLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMse3RyaWdnZXI6Im1hbnVhbCIsc2VsZWN0b3I6IiJ9KTp0aGlzLmZpeFRpdGxlKCl9LGMucHJvdG90eXBlLmdldERlZmF1bHRzPWZ1bmN0aW9uKCl7cmV0dXJuIGMuREVGQVVMVFN9LGMucHJvdG90eXBlLmdldE9wdGlvbnM9ZnVuY3Rpb24oYil7cmV0dXJuIGI9YS5leHRlbmQoe30sdGhpcy5nZXREZWZhdWx0cygpLHRoaXMuJGVsZW1lbnQuZGF0YSgpLGIpLGIuZGVsYXkmJiJudW1iZXIiPT10eXBlb2YgYi5kZWxheSYmKGIuZGVsYXk9e3Nob3c6Yi5kZWxheSxoaWRlOmIuZGVsYXl9KSxifSxjLnByb3RvdHlwZS5nZXREZWxlZ2F0ZU9wdGlvbnM9ZnVuY3Rpb24oKXt2YXIgYj17fSxjPXRoaXMuZ2V0RGVmYXVsdHMoKTtyZXR1cm4gdGhpcy5fb3B0aW9ucyYmYS5lYWNoKHRoaXMuX29wdGlvbnMsZnVuY3Rpb24oYSxkKXtjW2FdIT1kJiYoYlthXT1kKX0pLGJ9LGMucHJvdG90eXBlLmVudGVyPWZ1bmN0aW9uKGIpe3ZhciBjPWIgaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yP2I6YShiLmN1cnJlbnRUYXJnZXQpLmRhdGEoImJzLiIrdGhpcy50eXBlKTtyZXR1cm4gY3x8KGM9bmV3IHRoaXMuY29uc3RydWN0b3IoYi5jdXJyZW50VGFyZ2V0LHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpLGEoYi5jdXJyZW50VGFyZ2V0KS5kYXRhKCJicy4iK3RoaXMudHlwZSxjKSksYiBpbnN0YW5jZW9mIGEuRXZlbnQmJihjLmluU3RhdGVbImZvY3VzaW4iPT1iLnR5cGU/ImZvY3VzIjoiaG92ZXIiXT0hMCksYy50aXAoKS5oYXNDbGFzcygiaW4iKXx8ImluIj09Yy5ob3ZlclN0YXRlP3ZvaWQoYy5ob3ZlclN0YXRlPSJpbiIpOihjbGVhclRpbWVvdXQoYy50aW1lb3V0KSxjLmhvdmVyU3RhdGU9ImluIixjLm9wdGlvbnMuZGVsYXkmJmMub3B0aW9ucy5kZWxheS5zaG93P3ZvaWQoYy50aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXsiaW4iPT1jLmhvdmVyU3RhdGUmJmMuc2hvdygpfSxjLm9wdGlvbnMuZGVsYXkuc2hvdykpOmMuc2hvdygpKX0sYy5wcm90b3R5cGUuaXNJblN0YXRlVHJ1ZT1mdW5jdGlvbigpe2Zvcih2YXIgYSBpbiB0aGlzLmluU3RhdGUpaWYodGhpcy5pblN0YXRlW2FdKXJldHVybiEwO3JldHVybiExfSxjLnByb3RvdHlwZS5sZWF2ZT1mdW5jdGlvbihiKXt2YXIgYz1iIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3Rvcj9iOmEoYi5jdXJyZW50VGFyZ2V0KS5kYXRhKCJicy4iK3RoaXMudHlwZSk7aWYoY3x8KGM9bmV3IHRoaXMuY29uc3RydWN0b3IoYi5jdXJyZW50VGFyZ2V0LHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpLGEoYi5jdXJyZW50VGFyZ2V0KS5kYXRhKCJicy4iK3RoaXMudHlwZSxjKSksYiBpbnN0YW5jZW9mIGEuRXZlbnQmJihjLmluU3RhdGVbImZvY3Vzb3V0Ij09Yi50eXBlPyJmb2N1cyI6ImhvdmVyIl09ITEpLCFjLmlzSW5TdGF0ZVRydWUoKSlyZXR1cm4gY2xlYXJUaW1lb3V0KGMudGltZW91dCksYy5ob3ZlclN0YXRlPSJvdXQiLGMub3B0aW9ucy5kZWxheSYmYy5vcHRpb25zLmRlbGF5LmhpZGU/dm9pZChjLnRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpeyJvdXQiPT1jLmhvdmVyU3RhdGUmJmMuaGlkZSgpfSxjLm9wdGlvbnMuZGVsYXkuaGlkZSkpOmMuaGlkZSgpfSxjLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dmFyIGI9YS5FdmVudCgic2hvdy5icy4iK3RoaXMudHlwZSk7aWYodGhpcy5oYXNDb250ZW50KCkmJnRoaXMuZW5hYmxlZCl7dGhpcy4kZWxlbWVudC50cmlnZ2VyKGIpO3ZhciBkPWEuY29udGFpbnModGhpcy4kZWxlbWVudFswXS5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCx0aGlzLiRlbGVtZW50WzBdKTtpZihiLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwhZClyZXR1cm47dmFyIGU9dGhpcyxmPXRoaXMudGlwKCksZz10aGlzLmdldFVJRCh0aGlzLnR5cGUpO3RoaXMuc2V0Q29udGVudCgpLGYuYXR0cigiaWQiLGcpLHRoaXMuJGVsZW1lbnQuYXR0cigiYXJpYS1kZXNjcmliZWRieSIsZyksdGhpcy5vcHRpb25zLmFuaW1hdGlvbiYmZi5hZGRDbGFzcygiZmFkZSIpO3ZhciBoPSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLm9wdGlvbnMucGxhY2VtZW50P3RoaXMub3B0aW9ucy5wbGFjZW1lbnQuY2FsbCh0aGlzLGZbMF0sdGhpcy4kZWxlbWVudFswXSk6dGhpcy5vcHRpb25zLnBsYWNlbWVudCxpPS9ccz9hdXRvP1xzPy9pLGo9aS50ZXN0KGgpO2omJihoPWgucmVwbGFjZShpLCIiKXx8InRvcCIpLGYuZGV0YWNoKCkuY3NzKHt0b3A6MCxsZWZ0OjAsZGlzcGxheToiYmxvY2sifSkuYWRkQ2xhc3MoaCkuZGF0YSgiYnMuIit0aGlzLnR5cGUsdGhpcyksdGhpcy5vcHRpb25zLmNvbnRhaW5lcj9mLmFwcGVuZFRvKHRoaXMub3B0aW9ucy5jb250YWluZXIpOmYuaW5zZXJ0QWZ0ZXIodGhpcy4kZWxlbWVudCksdGhpcy4kZWxlbWVudC50cmlnZ2VyKCJpbnNlcnRlZC5icy4iK3RoaXMudHlwZSk7dmFyIGs9dGhpcy5nZXRQb3NpdGlvbigpLGw9ZlswXS5vZmZzZXRXaWR0aCxtPWZbMF0ub2Zmc2V0SGVpZ2h0O2lmKGope3ZhciBuPWgsbz10aGlzLmdldFBvc2l0aW9uKHRoaXMuJHZpZXdwb3J0KTtoPSJib3R0b20iPT1oJiZrLmJvdHRvbSttPm8uYm90dG9tPyJ0b3AiOiJ0b3AiPT1oJiZrLnRvcC1tPG8udG9wPyJib3R0b20iOiJyaWdodCI9PWgmJmsucmlnaHQrbD5vLndpZHRoPyJsZWZ0IjoibGVmdCI9PWgmJmsubGVmdC1sPG8ubGVmdD8icmlnaHQiOmgsZi5yZW1vdmVDbGFzcyhuKS5hZGRDbGFzcyhoKX12YXIgcD10aGlzLmdldENhbGN1bGF0ZWRPZmZzZXQoaCxrLGwsbSk7dGhpcy5hcHBseVBsYWNlbWVudChwLGgpO3ZhciBxPWZ1bmN0aW9uKCl7dmFyIGE9ZS5ob3ZlclN0YXRlO2UuJGVsZW1lbnQudHJpZ2dlcigic2hvd24uYnMuIitlLnR5cGUpLGUuaG92ZXJTdGF0ZT1udWxsLCJvdXQiPT1hJiZlLmxlYXZlKGUpfTthLnN1cHBvcnQudHJhbnNpdGlvbiYmdGhpcy4kdGlwLmhhc0NsYXNzKCJmYWRlIik/Zi5vbmUoImJzVHJhbnNpdGlvbkVuZCIscSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoYy5UUkFOU0lUSU9OX0RVUkFUSU9OKTpxKCl9fSxjLnByb3RvdHlwZS5hcHBseVBsYWNlbWVudD1mdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMudGlwKCksZT1kWzBdLm9mZnNldFdpZHRoLGY9ZFswXS5vZmZzZXRIZWlnaHQsZz1wYXJzZUludChkLmNzcygibWFyZ2luLXRvcCIpLDEwKSxoPXBhcnNlSW50KGQuY3NzKCJtYXJnaW4tbGVmdCIpLDEwKTtpc05hTihnKSYmKGc9MCksaXNOYU4oaCkmJihoPTApLGIudG9wKz1nLGIubGVmdCs9aCxhLm9mZnNldC5zZXRPZmZzZXQoZFswXSxhLmV4dGVuZCh7dXNpbmc6ZnVuY3Rpb24oYSl7ZC5jc3Moe3RvcDpNYXRoLnJvdW5kKGEudG9wKSxsZWZ0Ok1hdGgucm91bmQoYS5sZWZ0KX0pfX0sYiksMCksZC5hZGRDbGFzcygiaW4iKTt2YXIgaT1kWzBdLm9mZnNldFdpZHRoLGo9ZFswXS5vZmZzZXRIZWlnaHQ7InRvcCI9PWMmJmohPWYmJihiLnRvcD1iLnRvcCtmLWopO3ZhciBrPXRoaXMuZ2V0Vmlld3BvcnRBZGp1c3RlZERlbHRhKGMsYixpLGopO2subGVmdD9iLmxlZnQrPWsubGVmdDpiLnRvcCs9ay50b3A7dmFyIGw9L3RvcHxib3R0b20vLnRlc3QoYyksbT1sPzIqay5sZWZ0LWUraToyKmsudG9wLWYraixuPWw/Im9mZnNldFdpZHRoIjoib2Zmc2V0SGVpZ2h0IjtkLm9mZnNldChiKSx0aGlzLnJlcGxhY2VBcnJvdyhtLGRbMF1bbl0sbCl9LGMucHJvdG90eXBlLnJlcGxhY2VBcnJvdz1mdW5jdGlvbihhLGIsYyl7dGhpcy5hcnJvdygpLmNzcyhjPyJsZWZ0IjoidG9wIiw1MCooMS1hL2IpKyIlIikuY3NzKGM/InRvcCI6ImxlZnQiLCIiKX0sYy5wcm90b3R5cGUuc2V0Q29udGVudD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudGlwKCksYj10aGlzLmdldFRpdGxlKCk7YS5maW5kKCIudG9vbHRpcC1pbm5lciIpW3RoaXMub3B0aW9ucy5odG1sPyJodG1sIjoidGV4dCJdKGIpLGEucmVtb3ZlQ2xhc3MoImZhZGUgaW4gdG9wIGJvdHRvbSBsZWZ0IHJpZ2h0Iil9LGMucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oYil7ZnVuY3Rpb24gZCgpeyJpbiIhPWUuaG92ZXJTdGF0ZSYmZi5kZXRhY2goKSxlLiRlbGVtZW50JiZlLiRlbGVtZW50LnJlbW92ZUF0dHIoImFyaWEtZGVzY3JpYmVkYnkiKS50cmlnZ2VyKCJoaWRkZW4uYnMuIitlLnR5cGUpLGImJmIoKX12YXIgZT10aGlzLGY9YSh0aGlzLiR0aXApLGc9YS5FdmVudCgiaGlkZS5icy4iK3RoaXMudHlwZSk7aWYodGhpcy4kZWxlbWVudC50cmlnZ2VyKGcpLCFnLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybiBmLnJlbW92ZUNsYXNzKCJpbiIpLGEuc3VwcG9ydC50cmFuc2l0aW9uJiZmLmhhc0NsYXNzKCJmYWRlIik/Zi5vbmUoImJzVHJhbnNpdGlvbkVuZCIsZCkuZW11bGF0ZVRyYW5zaXRpb25FbmQoYy5UUkFOU0lUSU9OX0RVUkFUSU9OKTpkKCksdGhpcy5ob3ZlclN0YXRlPW51bGwsdGhpc30sYy5wcm90b3R5cGUuZml4VGl0bGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiRlbGVtZW50OyhhLmF0dHIoInRpdGxlIil8fCJzdHJpbmciIT10eXBlb2YgYS5hdHRyKCJkYXRhLW9yaWdpbmFsLXRpdGxlIikpJiZhLmF0dHIoImRhdGEtb3JpZ2luYWwtdGl0bGUiLGEuYXR0cigidGl0bGUiKXx8IiIpLmF0dHIoInRpdGxlIiwiIil9LGMucHJvdG90eXBlLmhhc0NvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUaXRsZSgpfSxjLnByb3RvdHlwZS5nZXRQb3NpdGlvbj1mdW5jdGlvbihiKXtiPWJ8fHRoaXMuJGVsZW1lbnQ7dmFyIGM9YlswXSxkPSJCT0RZIj09Yy50YWdOYW1lLGU9Yy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtudWxsPT1lLndpZHRoJiYoZT1hLmV4dGVuZCh7fSxlLHt3aWR0aDplLnJpZ2h0LWUubGVmdCxoZWlnaHQ6ZS5ib3R0b20tZS50b3B9KSk7dmFyIGY9d2luZG93LlNWR0VsZW1lbnQmJmMgaW5zdGFuY2VvZiB3aW5kb3cuU1ZHRWxlbWVudCxnPWQ/e3RvcDowLGxlZnQ6MH06Zj9udWxsOmIub2Zmc2V0KCksaD17c2Nyb2xsOmQ/ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A6Yi5zY3JvbGxUb3AoKX0saT1kP3t3aWR0aDphKHdpbmRvdykud2lkdGgoKSxoZWlnaHQ6YSh3aW5kb3cpLmhlaWdodCgpfTpudWxsO3JldHVybiBhLmV4dGVuZCh7fSxlLGgsaSxnKX0sYy5wcm90b3R5cGUuZ2V0Q2FsY3VsYXRlZE9mZnNldD1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4iYm90dG9tIj09YT97dG9wOmIudG9wK2IuaGVpZ2h0LGxlZnQ6Yi5sZWZ0K2Iud2lkdGgvMi1jLzJ9OiJ0b3AiPT1hP3t0b3A6Yi50b3AtZCxsZWZ0OmIubGVmdCtiLndpZHRoLzItYy8yfToibGVmdCI9PWE/e3RvcDpiLnRvcCtiLmhlaWdodC8yLWQvMixsZWZ0OmIubGVmdC1jfTp7dG9wOmIudG9wK2IuaGVpZ2h0LzItZC8yLGxlZnQ6Yi5sZWZ0K2Iud2lkdGh9fSxjLnByb3RvdHlwZS5nZXRWaWV3cG9ydEFkanVzdGVkRGVsdGE9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9e3RvcDowLGxlZnQ6MH07aWYoIXRoaXMuJHZpZXdwb3J0KXJldHVybiBlO3ZhciBmPXRoaXMub3B0aW9ucy52aWV3cG9ydCYmdGhpcy5vcHRpb25zLnZpZXdwb3J0LnBhZGRpbmd8fDAsZz10aGlzLmdldFBvc2l0aW9uKHRoaXMuJHZpZXdwb3J0KTtpZigvcmlnaHR8bGVmdC8udGVzdChhKSl7dmFyIGg9Yi50b3AtZi1nLnNjcm9sbCxpPWIudG9wK2YtZy5zY3JvbGwrZDtoPGcudG9wP2UudG9wPWcudG9wLWg6aT5nLnRvcCtnLmhlaWdodCYmKGUudG9wPWcudG9wK2cuaGVpZ2h0LWkpfWVsc2V7dmFyIGo9Yi5sZWZ0LWYsaz1iLmxlZnQrZitjO2o8Zy5sZWZ0P2UubGVmdD1nLmxlZnQtajprPmcucmlnaHQmJihlLmxlZnQ9Zy5sZWZ0K2cud2lkdGgtayl9cmV0dXJuIGV9LGMucHJvdG90eXBlLmdldFRpdGxlPWZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLiRlbGVtZW50LGM9dGhpcy5vcHRpb25zO3JldHVybiBhPWIuYXR0cigiZGF0YS1vcmlnaW5hbC10aXRsZSIpfHwoImZ1bmN0aW9uIj09dHlwZW9mIGMudGl0bGU/Yy50aXRsZS5jYWxsKGJbMF0pOmMudGl0bGUpfSxjLnByb3RvdHlwZS5nZXRVSUQ9ZnVuY3Rpb24oYSl7ZG8gYSs9fn4oMWU2Kk1hdGgucmFuZG9tKCkpO3doaWxlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpKTtyZXR1cm4gYX0sYy5wcm90b3R5cGUudGlwPWZ1bmN0aW9uKCl7aWYoIXRoaXMuJHRpcCYmKHRoaXMuJHRpcD1hKHRoaXMub3B0aW9ucy50ZW1wbGF0ZSksMSE9dGhpcy4kdGlwLmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKHRoaXMudHlwZSsiIGB0ZW1wbGF0ZWAgb3B0aW9uIG11c3QgY29uc2lzdCBvZiBleGFjdGx5IDEgdG9wLWxldmVsIGVsZW1lbnQhIik7cmV0dXJuIHRoaXMuJHRpcH0sYy5wcm90b3R5cGUuYXJyb3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kYXJyb3c9dGhpcy4kYXJyb3d8fHRoaXMudGlwKCkuZmluZCgiLnRvb2x0aXAtYXJyb3ciKX0sYy5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSEwfSxjLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSExfSxjLnByb3RvdHlwZS50b2dnbGVFbmFibGVkPWZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSF0aGlzLmVuYWJsZWR9LGMucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihiKXt2YXIgYz10aGlzO2ImJihjPWEoYi5jdXJyZW50VGFyZ2V0KS5kYXRhKCJicy4iK3RoaXMudHlwZSksY3x8KGM9bmV3IHRoaXMuY29uc3RydWN0b3IoYi5jdXJyZW50VGFyZ2V0LHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpLGEoYi5jdXJyZW50VGFyZ2V0KS5kYXRhKCJicy4iK3RoaXMudHlwZSxjKSkpLGI/KGMuaW5TdGF0ZS5jbGljaz0hYy5pblN0YXRlLmNsaWNrLGMuaXNJblN0YXRlVHJ1ZSgpP2MuZW50ZXIoYyk6Yy5sZWF2ZShjKSk6Yy50aXAoKS5oYXNDbGFzcygiaW4iKT9jLmxlYXZlKGMpOmMuZW50ZXIoYyl9LGMucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2NsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpLHRoaXMuaGlkZShmdW5jdGlvbigpe2EuJGVsZW1lbnQub2ZmKCIuIithLnR5cGUpLnJlbW92ZURhdGEoImJzLiIrYS50eXBlKSxhLiR0aXAmJmEuJHRpcC5kZXRhY2goKSxhLiR0aXA9bnVsbCxhLiRhcnJvdz1udWxsLGEuJHZpZXdwb3J0PW51bGwsYS4kZWxlbWVudD1udWxsfSl9O3ZhciBkPWEuZm4udG9vbHRpcDthLmZuLnRvb2x0aXA9YixhLmZuLnRvb2x0aXAuQ29uc3RydWN0b3I9YyxhLmZuLnRvb2x0aXAubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBhLmZuLnRvb2x0aXA9ZCx0aGlzfX0oalF1ZXJ5KSwrZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZT1kLmRhdGEoImJzLnBvcG92ZXIiKSxmPSJvYmplY3QiPT10eXBlb2YgYiYmYjshZSYmL2Rlc3Ryb3l8aGlkZS8udGVzdChiKXx8KGV8fGQuZGF0YSgiYnMucG9wb3ZlciIsZT1uZXcgYyh0aGlzLGYpKSwic3RyaW5nIj09dHlwZW9mIGImJmVbYl0oKSl9KX12YXIgYz1mdW5jdGlvbihhLGIpe3RoaXMuaW5pdCgicG9wb3ZlciIsYSxiKX07aWYoIWEuZm4udG9vbHRpcCl0aHJvdyBuZXcgRXJyb3IoIlBvcG92ZXIgcmVxdWlyZXMgdG9vbHRpcC5qcyIpO2MuVkVSU0lPTj0iMy4zLjciLGMuREVGQVVMVFM9YS5leHRlbmQoe30sYS5mbi50b29sdGlwLkNvbnN0cnVjdG9yLkRFRkFVTFRTLHtwbGFjZW1lbnQ6InJpZ2h0Iix0cmlnZ2VyOiJjbGljayIsY29udGVudDoiIix0ZW1wbGF0ZTonPGRpdiBjbGFzcz0icG9wb3ZlciIgcm9sZT0idG9vbHRpcCI+PGRpdiBjbGFzcz0iYXJyb3ciPjwvZGl2PjxoMyBjbGFzcz0icG9wb3Zlci10aXRsZSI+PC9oMz48ZGl2IGNsYXNzPSJwb3BvdmVyLWNvbnRlbnQiPjwvZGl2PjwvZGl2Pid9KSxjLnByb3RvdHlwZT1hLmV4dGVuZCh7fSxhLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IucHJvdG90eXBlKSxjLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1jLGMucHJvdG90eXBlLmdldERlZmF1bHRzPWZ1bmN0aW9uKCl7cmV0dXJuIGMuREVGQVVMVFN9LGMucHJvdG90eXBlLnNldENvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRpcCgpLGI9dGhpcy5nZXRUaXRsZSgpLGM9dGhpcy5nZXRDb250ZW50KCk7YS5maW5kKCIucG9wb3Zlci10aXRsZSIpW3RoaXMub3B0aW9ucy5odG1sPyJodG1sIjoidGV4dCJdKGIpLGEuZmluZCgiLnBvcG92ZXItY29udGVudCIpLmNoaWxkcmVuKCkuZGV0YWNoKCkuZW5kKClbdGhpcy5vcHRpb25zLmh0bWw/InN0cmluZyI9PXR5cGVvZiBjPyJodG1sIjoiYXBwZW5kIjoidGV4dCJdKGMpLGEucmVtb3ZlQ2xhc3MoImZhZGUgdG9wIGJvdHRvbSBsZWZ0IHJpZ2h0IGluIiksYS5maW5kKCIucG9wb3Zlci10aXRsZSIpLmh0bWwoKXx8YS5maW5kKCIucG9wb3Zlci10aXRsZSIpLmhpZGUoKX0sYy5wcm90b3R5cGUuaGFzQ29udGVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRpdGxlKCl8fHRoaXMuZ2V0Q29udGVudCgpfSxjLnByb3RvdHlwZS5nZXRDb250ZW50PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kZWxlbWVudCxiPXRoaXMub3B0aW9ucztyZXR1cm4gYS5hdHRyKCJkYXRhLWNvbnRlbnQiKXx8KCJmdW5jdGlvbiI9PXR5cGVvZiBiLmNvbnRlbnQ/Yi5jb250ZW50LmNhbGwoYVswXSk6Yi5jb250ZW50KX0sYy5wcm90b3R5cGUuYXJyb3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kYXJyb3c9dGhpcy4kYXJyb3d8fHRoaXMudGlwKCkuZmluZCgiLmFycm93Iil9O3ZhciBkPWEuZm4ucG9wb3ZlcjthLmZuLnBvcG92ZXI9YixhLmZuLnBvcG92ZXIuQ29uc3RydWN0b3I9YyxhLmZuLnBvcG92ZXIubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBhLmZuLnBvcG92ZXI9ZCx0aGlzfX0oalF1ZXJ5KSwrZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYyxkKXt0aGlzLiRib2R5PWEoZG9jdW1lbnQuYm9keSksdGhpcy4kc2Nyb2xsRWxlbWVudD1hKGEoYykuaXMoZG9jdW1lbnQuYm9keSk/d2luZG93OmMpLHRoaXMub3B0aW9ucz1hLmV4dGVuZCh7fSxiLkRFRkFVTFRTLGQpLHRoaXMuc2VsZWN0b3I9KHRoaXMub3B0aW9ucy50YXJnZXR8fCIiKSsiIC5uYXYgbGkgPiBhIix0aGlzLm9mZnNldHM9W10sdGhpcy50YXJnZXRzPVtdLHRoaXMuYWN0aXZlVGFyZ2V0PW51bGwsdGhpcy5zY3JvbGxIZWlnaHQ9MCx0aGlzLiRzY3JvbGxFbGVtZW50Lm9uKCJzY3JvbGwuYnMuc2Nyb2xsc3B5IixhLnByb3h5KHRoaXMucHJvY2Vzcyx0aGlzKSksdGhpcy5yZWZyZXNoKCksdGhpcy5wcm9jZXNzKCl9ZnVuY3Rpb24gYyhjKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKSxlPWQuZGF0YSgiYnMuc2Nyb2xsc3B5IiksZj0ib2JqZWN0Ij09dHlwZW9mIGMmJmM7ZXx8ZC5kYXRhKCJicy5zY3JvbGxzcHkiLGU9bmV3IGIodGhpcyxmKSksInN0cmluZyI9PXR5cGVvZiBjJiZlW2NdKCl9KX1iLlZFUlNJT049IjMuMy43IixiLkRFRkFVTFRTPXtvZmZzZXQ6MTB9LGIucHJvdG90eXBlLmdldFNjcm9sbEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRzY3JvbGxFbGVtZW50WzBdLnNjcm9sbEhlaWdodHx8TWF0aC5tYXgodGhpcy4kYm9keVswXS5zY3JvbGxIZWlnaHQsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCl9LGIucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9Im9mZnNldCIsZD0wO3RoaXMub2Zmc2V0cz1bXSx0aGlzLnRhcmdldHM9W10sdGhpcy5zY3JvbGxIZWlnaHQ9dGhpcy5nZXRTY3JvbGxIZWlnaHQoKSxhLmlzV2luZG93KHRoaXMuJHNjcm9sbEVsZW1lbnRbMF0pfHwoYz0icG9zaXRpb24iLGQ9dGhpcy4kc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoKSksdGhpcy4kYm9keS5maW5kKHRoaXMuc2VsZWN0b3IpLm1hcChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksZT1iLmRhdGEoInRhcmdldCIpfHxiLmF0dHIoImhyZWYiKSxmPS9eIy4vLnRlc3QoZSkmJmEoZSk7cmV0dXJuIGYmJmYubGVuZ3RoJiZmLmlzKCI6dmlzaWJsZSIpJiZbW2ZbY10oKS50b3ArZCxlXV18fG51bGx9KS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGFbMF0tYlswXX0pLmVhY2goZnVuY3Rpb24oKXtiLm9mZnNldHMucHVzaCh0aGlzWzBdKSxiLnRhcmdldHMucHVzaCh0aGlzWzFdKX0pfSxiLnByb3RvdHlwZS5wcm9jZXNzPWZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLiRzY3JvbGxFbGVtZW50LnNjcm9sbFRvcCgpK3RoaXMub3B0aW9ucy5vZmZzZXQsYz10aGlzLmdldFNjcm9sbEhlaWdodCgpLGQ9dGhpcy5vcHRpb25zLm9mZnNldCtjLXRoaXMuJHNjcm9sbEVsZW1lbnQuaGVpZ2h0KCksZT10aGlzLm9mZnNldHMsZj10aGlzLnRhcmdldHMsZz10aGlzLmFjdGl2ZVRhcmdldDtpZih0aGlzLnNjcm9sbEhlaWdodCE9YyYmdGhpcy5yZWZyZXNoKCksYj49ZClyZXR1cm4gZyE9KGE9ZltmLmxlbmd0aC0xXSkmJnRoaXMuYWN0aXZhdGUoYSk7aWYoZyYmYjxlWzBdKXJldHVybiB0aGlzLmFjdGl2ZVRhcmdldD1udWxsLHRoaXMuY2xlYXIoKTtmb3IoYT1lLmxlbmd0aDthLS07KWchPWZbYV0mJmI+PWVbYV0mJih2b2lkIDA9PT1lW2ErMV18fGI8ZVthKzFdKSYmdGhpcy5hY3RpdmF0ZShmW2FdKX0sYi5wcm90b3R5cGUuYWN0aXZhdGU9ZnVuY3Rpb24oYil7CnRoaXMuYWN0aXZlVGFyZ2V0PWIsdGhpcy5jbGVhcigpO3ZhciBjPXRoaXMuc2VsZWN0b3IrJ1tkYXRhLXRhcmdldD0iJytiKyciXSwnK3RoaXMuc2VsZWN0b3IrJ1tocmVmPSInK2IrJyJdJyxkPWEoYykucGFyZW50cygibGkiKS5hZGRDbGFzcygiYWN0aXZlIik7ZC5wYXJlbnQoIi5kcm9wZG93bi1tZW51IikubGVuZ3RoJiYoZD1kLmNsb3Nlc3QoImxpLmRyb3Bkb3duIikuYWRkQ2xhc3MoImFjdGl2ZSIpKSxkLnRyaWdnZXIoImFjdGl2YXRlLmJzLnNjcm9sbHNweSIpfSxiLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe2EodGhpcy5zZWxlY3RvcikucGFyZW50c1VudGlsKHRoaXMub3B0aW9ucy50YXJnZXQsIi5hY3RpdmUiKS5yZW1vdmVDbGFzcygiYWN0aXZlIil9O3ZhciBkPWEuZm4uc2Nyb2xsc3B5O2EuZm4uc2Nyb2xsc3B5PWMsYS5mbi5zY3JvbGxzcHkuQ29uc3RydWN0b3I9YixhLmZuLnNjcm9sbHNweS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZm4uc2Nyb2xsc3B5PWQsdGhpc30sYSh3aW5kb3cpLm9uKCJsb2FkLmJzLnNjcm9sbHNweS5kYXRhLWFwaSIsZnVuY3Rpb24oKXthKCdbZGF0YS1zcHk9InNjcm9sbCJdJykuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7Yy5jYWxsKGIsYi5kYXRhKCkpfSl9KX0oalF1ZXJ5KSwrZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZT1kLmRhdGEoImJzLnRhYiIpO2V8fGQuZGF0YSgiYnMudGFiIixlPW5ldyBjKHRoaXMpKSwic3RyaW5nIj09dHlwZW9mIGImJmVbYl0oKX0pfXZhciBjPWZ1bmN0aW9uKGIpe3RoaXMuZWxlbWVudD1hKGIpfTtjLlZFUlNJT049IjMuMy43IixjLlRSQU5TSVRJT05fRFVSQVRJT049MTUwLGMucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz1iLmNsb3Nlc3QoInVsOm5vdCguZHJvcGRvd24tbWVudSkiKSxkPWIuZGF0YSgidGFyZ2V0Iik7aWYoZHx8KGQ9Yi5hdHRyKCJocmVmIiksZD1kJiZkLnJlcGxhY2UoLy4qKD89I1teXHNdKiQpLywiIikpLCFiLnBhcmVudCgibGkiKS5oYXNDbGFzcygiYWN0aXZlIikpe3ZhciBlPWMuZmluZCgiLmFjdGl2ZTpsYXN0IGEiKSxmPWEuRXZlbnQoImhpZGUuYnMudGFiIix7cmVsYXRlZFRhcmdldDpiWzBdfSksZz1hLkV2ZW50KCJzaG93LmJzLnRhYiIse3JlbGF0ZWRUYXJnZXQ6ZVswXX0pO2lmKGUudHJpZ2dlcihmKSxiLnRyaWdnZXIoZyksIWcuaXNEZWZhdWx0UHJldmVudGVkKCkmJiFmLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgaD1hKGQpO3RoaXMuYWN0aXZhdGUoYi5jbG9zZXN0KCJsaSIpLGMpLHRoaXMuYWN0aXZhdGUoaCxoLnBhcmVudCgpLGZ1bmN0aW9uKCl7ZS50cmlnZ2VyKHt0eXBlOiJoaWRkZW4uYnMudGFiIixyZWxhdGVkVGFyZ2V0OmJbMF19KSxiLnRyaWdnZXIoe3R5cGU6InNob3duLmJzLnRhYiIscmVsYXRlZFRhcmdldDplWzBdfSl9KX19fSxjLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbihiLGQsZSl7ZnVuY3Rpb24gZigpe2cucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLmZpbmQoIj4gLmRyb3Bkb3duLW1lbnUgPiAuYWN0aXZlIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLmVuZCgpLmZpbmQoJ1tkYXRhLXRvZ2dsZT0idGFiIl0nKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMSksYi5hZGRDbGFzcygiYWN0aXZlIikuZmluZCgnW2RhdGEtdG9nZ2xlPSJ0YWIiXScpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCEwKSxoPyhiWzBdLm9mZnNldFdpZHRoLGIuYWRkQ2xhc3MoImluIikpOmIucmVtb3ZlQ2xhc3MoImZhZGUiKSxiLnBhcmVudCgiLmRyb3Bkb3duLW1lbnUiKS5sZW5ndGgmJmIuY2xvc2VzdCgibGkuZHJvcGRvd24iKS5hZGRDbGFzcygiYWN0aXZlIikuZW5kKCkuZmluZCgnW2RhdGEtdG9nZ2xlPSJ0YWIiXScpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCEwKSxlJiZlKCl9dmFyIGc9ZC5maW5kKCI+IC5hY3RpdmUiKSxoPWUmJmEuc3VwcG9ydC50cmFuc2l0aW9uJiYoZy5sZW5ndGgmJmcuaGFzQ2xhc3MoImZhZGUiKXx8ISFkLmZpbmQoIj4gLmZhZGUiKS5sZW5ndGgpO2cubGVuZ3RoJiZoP2cub25lKCJic1RyYW5zaXRpb25FbmQiLGYpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGMuVFJBTlNJVElPTl9EVVJBVElPTik6ZigpLGcucmVtb3ZlQ2xhc3MoImluIil9O3ZhciBkPWEuZm4udGFiO2EuZm4udGFiPWIsYS5mbi50YWIuQ29uc3RydWN0b3I9YyxhLmZuLnRhYi5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZm4udGFiPWQsdGhpc307dmFyIGU9ZnVuY3Rpb24oYyl7Yy5wcmV2ZW50RGVmYXVsdCgpLGIuY2FsbChhKHRoaXMpLCJzaG93Iil9O2EoZG9jdW1lbnQpLm9uKCJjbGljay5icy50YWIuZGF0YS1hcGkiLCdbZGF0YS10b2dnbGU9InRhYiJdJyxlKS5vbigiY2xpY2suYnMudGFiLmRhdGEtYXBpIiwnW2RhdGEtdG9nZ2xlPSJwaWxsIl0nLGUpfShqUXVlcnkpLCtmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKSxlPWQuZGF0YSgiYnMuYWZmaXgiKSxmPSJvYmplY3QiPT10eXBlb2YgYiYmYjtlfHxkLmRhdGEoImJzLmFmZml4IixlPW5ldyBjKHRoaXMsZikpLCJzdHJpbmciPT10eXBlb2YgYiYmZVtiXSgpfSl9dmFyIGM9ZnVuY3Rpb24oYixkKXt0aGlzLm9wdGlvbnM9YS5leHRlbmQoe30sYy5ERUZBVUxUUyxkKSx0aGlzLiR0YXJnZXQ9YSh0aGlzLm9wdGlvbnMudGFyZ2V0KS5vbigic2Nyb2xsLmJzLmFmZml4LmRhdGEtYXBpIixhLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbix0aGlzKSkub24oImNsaWNrLmJzLmFmZml4LmRhdGEtYXBpIixhLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbldpdGhFdmVudExvb3AsdGhpcykpLHRoaXMuJGVsZW1lbnQ9YShiKSx0aGlzLmFmZml4ZWQ9bnVsbCx0aGlzLnVucGluPW51bGwsdGhpcy5waW5uZWRPZmZzZXQ9bnVsbCx0aGlzLmNoZWNrUG9zaXRpb24oKX07Yy5WRVJTSU9OPSIzLjMuNyIsYy5SRVNFVD0iYWZmaXggYWZmaXgtdG9wIGFmZml4LWJvdHRvbSIsYy5ERUZBVUxUUz17b2Zmc2V0OjAsdGFyZ2V0OndpbmRvd30sYy5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpLGY9dGhpcy4kZWxlbWVudC5vZmZzZXQoKSxnPXRoaXMuJHRhcmdldC5oZWlnaHQoKTtpZihudWxsIT1jJiYidG9wIj09dGhpcy5hZmZpeGVkKXJldHVybiBlPGMmJiJ0b3AiO2lmKCJib3R0b20iPT10aGlzLmFmZml4ZWQpcmV0dXJuIG51bGwhPWM/IShlK3RoaXMudW5waW48PWYudG9wKSYmImJvdHRvbSI6IShlK2c8PWEtZCkmJiJib3R0b20iO3ZhciBoPW51bGw9PXRoaXMuYWZmaXhlZCxpPWg/ZTpmLnRvcCxqPWg/ZzpiO3JldHVybiBudWxsIT1jJiZlPD1jPyJ0b3AiOm51bGwhPWQmJmkraj49YS1kJiYiYm90dG9tIn0sYy5wcm90b3R5cGUuZ2V0UGlubmVkT2Zmc2V0PWZ1bmN0aW9uKCl7aWYodGhpcy5waW5uZWRPZmZzZXQpcmV0dXJuIHRoaXMucGlubmVkT2Zmc2V0O3RoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoYy5SRVNFVCkuYWRkQ2xhc3MoImFmZml4Iik7dmFyIGE9dGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpLGI9dGhpcy4kZWxlbWVudC5vZmZzZXQoKTtyZXR1cm4gdGhpcy5waW5uZWRPZmZzZXQ9Yi50b3AtYX0sYy5wcm90b3R5cGUuY2hlY2tQb3NpdGlvbldpdGhFdmVudExvb3A9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGEucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uLHRoaXMpLDEpfSxjLnByb3RvdHlwZS5jaGVja1Bvc2l0aW9uPWZ1bmN0aW9uKCl7aWYodGhpcy4kZWxlbWVudC5pcygiOnZpc2libGUiKSl7dmFyIGI9dGhpcy4kZWxlbWVudC5oZWlnaHQoKSxkPXRoaXMub3B0aW9ucy5vZmZzZXQsZT1kLnRvcCxmPWQuYm90dG9tLGc9TWF0aC5tYXgoYShkb2N1bWVudCkuaGVpZ2h0KCksYShkb2N1bWVudC5ib2R5KS5oZWlnaHQoKSk7Im9iamVjdCIhPXR5cGVvZiBkJiYoZj1lPWQpLCJmdW5jdGlvbiI9PXR5cGVvZiBlJiYoZT1kLnRvcCh0aGlzLiRlbGVtZW50KSksImZ1bmN0aW9uIj09dHlwZW9mIGYmJihmPWQuYm90dG9tKHRoaXMuJGVsZW1lbnQpKTt2YXIgaD10aGlzLmdldFN0YXRlKGcsYixlLGYpO2lmKHRoaXMuYWZmaXhlZCE9aCl7bnVsbCE9dGhpcy51bnBpbiYmdGhpcy4kZWxlbWVudC5jc3MoInRvcCIsIiIpO3ZhciBpPSJhZmZpeCIrKGg/Ii0iK2g6IiIpLGo9YS5FdmVudChpKyIuYnMuYWZmaXgiKTtpZih0aGlzLiRlbGVtZW50LnRyaWdnZXIoaiksai5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm47dGhpcy5hZmZpeGVkPWgsdGhpcy51bnBpbj0iYm90dG9tIj09aD90aGlzLmdldFBpbm5lZE9mZnNldCgpOm51bGwsdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhjLlJFU0VUKS5hZGRDbGFzcyhpKS50cmlnZ2VyKGkucmVwbGFjZSgiYWZmaXgiLCJhZmZpeGVkIikrIi5icy5hZmZpeCIpfSJib3R0b20iPT1oJiZ0aGlzLiRlbGVtZW50Lm9mZnNldCh7dG9wOmctYi1mfSl9fTt2YXIgZD1hLmZuLmFmZml4O2EuZm4uYWZmaXg9YixhLmZuLmFmZml4LkNvbnN0cnVjdG9yPWMsYS5mbi5hZmZpeC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZm4uYWZmaXg9ZCx0aGlzfSxhKHdpbmRvdykub24oImxvYWQiLGZ1bmN0aW9uKCl7YSgnW2RhdGEtc3B5PSJhZmZpeCJdJykuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksZD1jLmRhdGEoKTtkLm9mZnNldD1kLm9mZnNldHx8e30sbnVsbCE9ZC5vZmZzZXRCb3R0b20mJihkLm9mZnNldC5ib3R0b209ZC5vZmZzZXRCb3R0b20pLG51bGwhPWQub2Zmc2V0VG9wJiYoZC5vZmZzZXQudG9wPWQub2Zmc2V0VG9wKSxiLmNhbGwoYyxkKX0pfSl9KGpRdWVyeSk7CmRlZmluZSgiYm9vdHN0cmFwIiwgWyJqcXVlcnkiXSwgZnVuY3Rpb24oKXt9KTsKCi8qIQogKiBqUHVzaE1lbnUuanMKICogMS4xLjEKICogQGF1dGhvcjogdGFraWVuCiAqIGh0dHA6Ly90YWtpZW4uY29tCiAqIE9yaWdpbmFsIHZlcnNpb24gKHB1cmUgSlMpIGlzIGNyZWF0ZWQgYnkgTWFyeSBMb3UgaHR0cDovL3R5bXBhbnVzLm5ldC8KICovCgooZnVuY3Rpb24oJCkgewoKICAgICQuZm4ualB1c2hNZW51ID0gZnVuY3Rpb24oY3VzdG9tT3B0aW9ucykgewogICAgICAgIHZhciBvID0gJC5leHRlbmQoe30sICQuZm4ualB1c2hNZW51LmRlZmF1bHRPcHRpb25zLCBjdXN0b21PcHRpb25zKTsKCiAgICAgICAgLyogYWRkIGNsYXNzIHRvIHRoZSBib2R5LiovCgogICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcyhvLmJvZHlDbGFzcyk7CiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnalB1c2hNZW51QnRuJyk7CiAgICAgICAgJCh0aGlzKS5jbGljayhmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIHRhcmdldCAgICAgICAgID0gJycsCiAgICAgICAgICAgICAgICBwdXNoX2RpcmVjdGlvbiAgICAgPSAnJzsKCgogICAgICAgICAgICBpZigkKHRoaXMpLmlzKCcuJytvLnNob3dMZWZ0Q2xhc3MpKSB7CiAgICAgICAgICAgICAgICB0YXJnZXQgICAgICAgICA9ICcuY2JwLXNwbWVudS1sZWZ0JzsKICAgICAgICAgICAgICAgIHB1c2hfZGlyZWN0aW9uID0gJ3RvcmlnaHQnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYoJCh0aGlzKS5pcygnLicrby5zaG93UmlnaHRDbGFzcykpIHsKICAgICAgICAgICAgICAgIHRhcmdldCAgICAgICAgID0gJy5jYnAtc3BtZW51LXJpZ2h0JzsKICAgICAgICAgICAgICAgIHB1c2hfZGlyZWN0aW9uID0gJ3RvbGVmdCc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZigkKHRoaXMpLmlzKCcuJytvLnNob3dUb3BDbGFzcykpIHsKICAgICAgICAgICAgICAgIHRhcmdldCAgICAgICAgID0gJy5jYnAtc3BtZW51LXRvcCc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZigkKHRoaXMpLmlzKCcuJytvLnNob3dCb3R0b21DbGFzcykpIHsKICAgICAgICAgICAgICAgIHRhcmdldCAgICAgICAgID0gJy5jYnAtc3BtZW51LWJvdHRvbSc7CiAgICAgICAgICAgIH0KCgogICAgICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKG8uYWN0aXZlQ2xhc3MpOwogICAgICAgICAgICAkKHRhcmdldCkudG9nZ2xlQ2xhc3Moby5tZW51T3BlbkNsYXNzKTsKCiAgICAgICAgICAgIGlmKCQodGhpcykuaXMoJy4nK28ucHVzaEJvZHlDbGFzcykpIHsKICAgICAgICAgICAgICAgICQoJ2JvZHknKS50b2dnbGVDbGFzcyggJ2NicC1zcG1lbnUtcHVzaC0nK3B1c2hfZGlyZWN0aW9uICk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8qIGRpc2FibGUgYWxsIG90aGVyIGJ1dHRvbiovCiAgICAgICAgICAgICQoJy5qUHVzaE1lbnVCdG4nKS5ub3QoJCh0aGlzKSkudG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJyk7CgogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIGpQdXNoTWVudSA9IHsKICAgICAgICAgICAgY2xvc2U6IGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICAgICAgICAkKCcualB1c2hNZW51QnRuLGJvZHksLmNicC1zcG1lbnUnKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQgYWN0aXZlIGNicC1zcG1lbnUtb3BlbiBjYnAtc3BtZW51LXB1c2gtdG9sZWZ0IGNicC1zcG1lbnUtcHVzaC10b3JpZ2h0Jyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmKG8uY2xvc2VPbkNsaWNrT3V0c2lkZSkgewogICAgICAgICAgICAkKGRvY3VtZW50KS5jbGljayhmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIGpQdXNoTWVudS5jbG9zZSgpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICQoJy5jYnAtc3BtZW51LC50b2dnbGUtbWVudScpLmNsaWNrKGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfTsKCiAgICAvKiBpbiBjYXNlIHlvdSB3YW50IHRvIGN1c3RvbWl6ZSBjbGFzcyBuYW1lLAogICAgICogIGRvIG5vdCBkaXJlY3RseSBlZGl0IGhlcmUsIHVzZSBmdW5jdGlvbiBwYXJhbWV0ZXIgd2hlbiBjYWxsIGpQdXNoTWVudS4KICAgICAqLwogICAgJC5mbi5qUHVzaE1lbnUuZGVmYXVsdE9wdGlvbnMgPSB7CiAgICAgICAgYm9keUNsYXNzICAgICAgIDogJ2NicC1zcG1lbnUtcHVzaCcsCiAgICAgICAgYWN0aXZlQ2xhc3MgICAgIDogJ21lbnUtYWN0aXZlJywKICAgICAgICBzaG93TGVmdENsYXNzICAgOiAnbWVudS1sZWZ0JywKICAgICAgICBzaG93UmlnaHRDbGFzcyAgOiAnbWVudS1yaWdodCcsCiAgICAgICAgc2hvd1RvcENsYXNzICAgIDogJ21lbnUtdG9wJywKICAgICAgICBzaG93Qm90dG9tQ2xhc3MgOiAnbWVudS1ib3R0b20nLAogICAgICAgIG1lbnVPcGVuQ2xhc3MgICA6ICdjYnAtc3BtZW51LW9wZW4nLAogICAgICAgIHB1c2hCb2R5Q2xhc3MgICA6ICdwdXNoLWJvZHknLAogICAgICAgIGNsb3NlT25DbGlja091dHNpZGU6IHRydWUKICAgIH07Cn0pKGpRdWVyeSk7CmRlZmluZSgialB1c2hNZW51IiwgWyJqcXVlcnkiXSwgZnVuY3Rpb24oKXt9KTsKCi8qKgogKiBDcmVhdGVkIGJ5IGt1YmFueSBvbiAxMC8xMy8yMDE1LgogKi8KCmRlZmluZSgnYXBwL2NvbmZpZ3VyYXRpb24vYXBwQ29uZmlnJyxbXSwgZnVuY3Rpb24gKCkgewoKICAgIGZ1bmN0aW9uIGNvbmZpZygkdHJhbnNsYXRlUHJvdmlkZXIsICRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIvKiwgJGxvY2F0aW9uUHJvdmlkZXIqLykgewoKICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5KCdlc2NhcGVQYXJhbWV0ZXJzJyk7CgogICAgICAgICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuJywgZW5nbGlzaCk7CgogICAgICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoIi8jIik7CgogICAgICAgIC8vJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpLmhhc2hQcmVmaXgoIiMiKTsKCiAgICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnByZWZlcnJlZExhbmd1YWdlKCdlbicpOwoKICAgICAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSgnZGVmYXVsdCcsIHsKICAgICAgICAgICAgICAgIHVybDogJy8nLAogICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvdmlld3MvaG9tZS1wYWdlLmh0bWwnLAogICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2NhdGVnb3JpZXNDdHJsJywKICAgICAgICAgICAgICAgIHJlc29sdmU6IHsKCiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZVBhcmFtczogZnVuY3Rpb24gKHVzZXJTZXJ2aWNlLCBjYXRlZ29yeVNlcnZpY2UsIGRlYWxTZXJ2aWNlLCAkcSkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVmZXIgPSAkcS5kZWZlcigpOwoKICAgICAgICAgICAgICAgICAgICAgICAgdXNlclNlcnZpY2UuaGF2ZUNvbmZpZ3VyYXRpb24oKS50aGVuKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeVNlcnZpY2UuZ2V0Q2F0ZWdvcmllcygpLnRoZW4oZnVuY3Rpb24gKGNhdGVnb3JpZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWFsU2VydmljZS5nZXREZWFsT2ZUaGVEYXkoKS50aGVuKGZ1bmN0aW9uIChkZWFsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5U2VydmljZS5nZXRQb3B1bGFyUHJvZHVjdHMoKS50aGVuKGZ1bmN0aW9uIChwb3B1bGFyUHJvZHVjdHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5U2VydmljZS5udkhhbmRsZXIoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYW1zVG9SZXR1cm4gPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXM6IGNhdGVnb3JpZXMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwZWNpYWxPZmZlcjogZGVhbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdWxhclByb2R1Y3RzOiBwb3B1bGFyUHJvZHVjdHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUocGFyYW1zVG9SZXR1cm4pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC8qCiAgICAgICAgICAgIC5zdGF0ZSgnZG93bmxvYWRzJywgewogICAgICAgICAgICAgICAgdXJsOiAnL2Rvd25sb2FkcycsCiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC92aWV3cy9kb3dubG9hZHMuaHRtbCcsCiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZG93bmxvYWRzQ3RybCcsCiAgICAgICAgICAgICAgICByZXNvbHZlOiB7fQogICAgICAgICAgICB9KSovCiAgICAgICAgICAgIC5zdGF0ZSgncmVnaXN0ZXInLCB7CiAgICAgICAgICAgICAgICB1cmw6ICcvcmVnaXN0ZXInLAogICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvdXNlci92aWV3cy9yZWdpc3Rlci1wYWdlLmh0bWwnLAogICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3JlZ2lzdGVyQ3RybCcsCiAgICAgICAgICAgICAgICByZXNvbHZlOiB7fQogICAgICAgICAgICB9KQogICAgICAgICAgICAuc3RhdGUoJ2Fib3V0JywgewogICAgICAgICAgICAgICAgdXJsOiAnL2Fib3V0JywKICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3VzZXIvdmlld3MvYWJvdXQtcGFnZS5odG1sJywKICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdhYm91dEN0cmwnLAogICAgICAgICAgICAgICAgcmVzb2x2ZToge30KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLnN0YXRlKCd2ZXJzaW9uJywgewogICAgICAgICAgICAgICAgdXJsOiAnL3ZlcnNpb24nLAogICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvdXNlci92aWV3cy92ZXJzaW9uLXBhZ2UuaHRtbCcsCiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmVyc2lvbkN0cmwnLAogICAgICAgICAgICAgICAgcmVzb2x2ZToge30KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLnN0YXRlKCdzdXBwb3J0JywgewogICAgICAgICAgICAgICAgdXJsOiAnL3N1cHBvcnQnLAogICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvdmlld3Mvc3VwcG9ydC1wYWdlLmh0bWwnLAogICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3N1cHBvcnRDdHJsJywKICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3N1cHBDdHJsJywKICAgICAgICAgICAgICAgIHJlc29sdmU6IHsKICAgICAgICAgICAgICAgICAgICBwYXJhbXNUb1Jlc29ydmU6IGZ1bmN0aW9uIChjYXRlZ29yeVNlcnZpY2UsICRxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWZlciA9ICRxLmRlZmVyKCkKICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlTZXJ2aWNlLmdldENhdGVnb3JpZXMoKS50aGVuKGZ1bmN0aW9uIChjYXRlZ29yaWVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiBjYXRlZ29yaWVzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5zdGF0ZSgnc2hvcHBpbmdDYXJ0JywgewogICAgICAgICAgICAgICAgdXJsOiAnL3Nob3BwaW5nQ2FydCcsCiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC92aWV3cy9zaG9wcGluZ0NhcnQuaHRtbCcsCiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2hvcHBpbmdDYXJ0Q3RybCcsCiAgICAgICAgICAgICAgICByZXNvbHZlOiB7CiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGZ1bmN0aW9uIChwcm9kdWN0c0NhcnRTZXJ2aWNlLCAkc3RhdGVQYXJhbXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb2R1Y3RzQ2FydFNlcnZpY2UubG9hZENhcnRQcm9kdWN0cygpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLnN0YXRlKCdjYXRlZ29yeScsIHsKICAgICAgICAgICAgICAgIHVybDogJy9jYXRlZ29yeS86bmFtZS86aWQ/dmlld0FsbCcsCiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC92aWV3cy9jYXRlZ29yeS1wYWdlLmh0bWwnLAogICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2NhdGVnb3J5Q3RybCcsCiAgICAgICAgICAgICAgICByZXNvbHZlOiB7CiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGZ1bmN0aW9uIChjYXRlZ29yeVNlcnZpY2UsIHByb2R1Y3RTZXJ2aWNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlUGFyYW1zLCAkcSwgdXNlclNlcnZpY2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlTZXJ2aWNlLmdldENhdGVnb3J5QnlJZCgkc3RhdGVQYXJhbXMuaWQsICRzdGF0ZVBhcmFtcy5uYW1lKS4KICAgICAgICAgICAgICAgICAgICAgICAgdGhlbihmdW5jdGlvbiAoY2F0ZWdvcnkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RTZXJ2aWNlLmdldEFsbENhdGVnb3JpZXNBdHRyaWJ1dGVzKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoYXR0cmlidXRlcykgewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodXNlclNlcnZpY2UubnZfc2xvd1BhZ2UoKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeVNlcnZpY2UuZ2V0Q2F0ZWdvcmllcygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeVNlcnZpY2UubnZfbG9hZFVudXNlU2NyaXB0cygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBhdHRyaWJ1dGVzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFJlc3VsdDogW2NhdGVnb3J5XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeU5hbWU6IGNhdGVnb3J5LmNhdGVnb3J5TmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IGF0dHJpYnV0ZXMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0OiBbY2F0ZWdvcnldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5TmFtZTogY2F0ZWdvcnkuY2F0ZWdvcnlOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0FuIGVycm9yIG9jY3VycmVkLCBwbGVhc2UgdHJ5IGFnYWluJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKGVycik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnJlamVjdCgnZXJyb3IgaW4gbG9hZCBjYXRlZ29yeScpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLnN0YXRlKCdzZWFyY2gnLCB7CiAgICAgICAgICAgICAgICB1cmw6ICcvc2VhcmNoLzppZD92aWV3QWxsJywKICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3ZpZXdzL3NlYXJjaC1wYWdlLmh0bWwnLAogICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NlYXJjaEN0cmwnLAogICAgICAgICAgICAgICAgcmVzb2x2ZTogewogICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBmdW5jdGlvbiAoY2F0ZWdvcnlTZXJ2aWNlLCBwcm9kdWN0U2VydmljZSwgJHN0YXRlUGFyYW1zLCAkcSwgJGZpbHRlcikgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVmZXIgPSAkcS5kZWZlcigpOwogICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0U2VydmljZS5nZXRQcm9kdWN0c0J5U2VhcmNoKCRzdGF0ZVBhcmFtcy52aWV3QWxsLCAtMSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2F0ZWdvcmllc0ZpbHRlciA9ICRmaWx0ZXIoImdldENhdGVnb3JpZXNJbkFycmF5IikoW10sIHJlc3VsdCwgJHN0YXRlUGFyYW1zLmlkKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtc1RvUmV0dXJuID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFJlc3VsdDogcmVzdWx0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdBbGw6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlJZDogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hLZXk6ICRzdGF0ZVBhcmFtcy52aWV3QWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNGaWx0ZXI6IGNhdGVnb3JpZXNGaWx0ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKHBhcmFtc1RvUmV0dXJuKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZWZlci5wcm9taXNlOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC8vLnN0YXRlKCdwcm9kdWN0JywgewogICAgICAgICAgICAvLyAgICB1cmw6ICcvcHJvZHVjdC86aWQ/Y29sb3ImcXVhbnRpdHkmcGFnZVN0YXRlJywKICAgICAgICAgICAgLy8gICAgdGVtcGxhdGVVcmw6ICdhcHAvdmlld3MvcHJvZHVjdC1wYWdlLmh0bWwnLAogICAgICAgICAgICAvLyAgICBjb250cm9sbGVyOiAncHJvZHVjdEN0cmwnLAogICAgICAgICAgICAvLyAgICByZXNvbHZlOiB7CiAgICAgICAgICAgIC8vICAgICAgICByZXNvbHZlUGFyYW1zOiBmdW5jdGlvbiAocHJvZHVjdFNlcnZpY2UsIGNhdGVnb3J5U2VydmljZSwgJHN0YXRlUGFyYW1zLCAkcSkgewogICAgICAgICAgICAvLyAgICAgICAgICAgIHZhciBkZWZlciA9ICRxLmRlZmVyKCk7CiAgICAgICAgICAgIC8vICAgICAgICAgICAgcHJvZHVjdFNlcnZpY2UuZ2V0UHJvZHVjdEJ5SWQoJHN0YXRlUGFyYW1zLmlkKS50aGVuKGZ1bmN0aW9uIChwcm9kdWN0KSB7CiAgICAgICAgICAgIC8vCiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICRxLmFsbChbY2F0ZWdvcnlTZXJ2aWNlLmdldENhdGVnb3J5QnlJZChwcm9kdWN0LmNhdGVnb3J5SWQpLAogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5U2VydmljZS5oYXZlSW50ZXJuZXQocHJvZHVjdC5jYXRlZ29yeUlkKSwKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeVNlcnZpY2UuZ2V0TW9zdFBvcHVsYXJDb21tZW50cyhwcm9kdWN0LmNhdGVnb3J5SWQpLAogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAvLwogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgdmFyIGNhdGVnb3J5ID0gcmVzWzBdOwogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgdmFyIGhhdmVJbnRlcm5ldCA9IHJlc1sxXTsKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgIHZhciBtb3N0UG9wdWxhckNvbW1lbnRzID0gcmVzWzJdOwogICAgICAgICAgICAvLwogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtc1RvUmV0dXJuID0gewogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ29sb3I6ICRzdGF0ZVBhcmFtcy5jb2xvciwKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogJHN0YXRlUGFyYW1zLnF1YW50aXR5LAogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VTdGF0ZTogJHN0YXRlUGFyYW1zLnBhZ2VTdGF0ZSwKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeU5hbWU6IGNhdGVnb3J5LmNhdGVnb3J5TmFtZSwKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiBwcm9kdWN0LAogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIGhhdmVJbnRlcm5ldDogaGF2ZUludGVybmV0LAogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIG1vc3RQb3B1bGFyQ29tbWVudHM6IG1vc3RQb3B1bGFyQ29tbWVudHMKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUocGFyYW1zVG9SZXR1cm4pCiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAvLyAgICAgICAgICAgIH0pOwogICAgICAgICAgICAvLyAgICAgICAgICAgIHJldHVybiBkZWZlci5wcm9taXNlOwogICAgICAgICAgICAvLyAgICAgICAgfQogICAgICAgICAgICAvLyAgICB9CiAgICAgICAgICAgIC8vfSkuCgogICAgICAgICAgICAuc3RhdGUoJ3Byb2R1Y3QnLCB7CiAgICAgICAgICAgICAgICB1cmw6ICcvcHJvZHVjdC86aWQ/Y29sb3ImcXVhbnRpdHkmcGFnZVN0YXRlJywKICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3ZpZXdzL3Byb2R1Y3QtcGFnZS5odG1sJywKICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwcm9kdWN0Q3RybCcsCiAgICAgICAgICAgICAgICByZXNvbHZlOiB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZVBhcmFtczogZnVuY3Rpb24gKHByb2R1Y3RTZXJ2aWNlLCBjYXRlZ29yeVNlcnZpY2UsICRzdGF0ZVBhcmFtcywgJHEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFNlcnZpY2UuZ2V0UHJvZHVjdEJ5SWQoJHN0YXRlUGFyYW1zLmlkKS50aGVuKGZ1bmN0aW9uIChwcm9kdWN0KSB7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHEuYWxsKFtjYXRlZ29yeVNlcnZpY2UuZ2V0Q2F0ZWdvcnlCeUlkKHByb2R1Y3QuY2F0ZWdvcnlJZCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5U2VydmljZS5oYXZlSW50ZXJuZXQocHJvZHVjdC5jYXRlZ29yeUlkKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykgewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2F0ZWdvcnkgPSByZXNbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhhdmVJbnRlcm5ldCA9IHJlc1sxXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0LmNvbG9ycyA9IHByb2R1Y3QuY29sb3JzLmZpbHRlcihmdW5jdGlvbihjb2wpe3JldHVybiBjb2wuaW5TdG9jayA+IDB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJhbXNUb1JldHVybiA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ29sb3I6ICRzdGF0ZVBhcmFtcy5jb2xvciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiAkc3RhdGVQYXJhbXMucXVhbnRpdHksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlU3RhdGU6ICRzdGF0ZVBhcmFtcy5wYWdlU3RhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeU5hbWU6IGNhdGVnb3J5LmNhdGVnb3J5TmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6IHByb2R1Y3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXZlSW50ZXJuZXQ6IGhhdmVJbnRlcm5ldCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKHBhcmFtc1RvUmV0dXJuKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0FuIGVycm9yIG9jY3VycmVkLCBwbGVhc2UgdHJ5IGFnYWluJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKGVycik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnJlamVjdCgnZXJyb3IgaW4gbG9hZCBwcm9kdWN0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLgogICAgICAgIHN0YXRlKCc0MDQnLCB7CiAgICAgICAgICAgIHVybDogJy80MDQnLAogICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC92aWV3cy80MDQuaHRtbCcsCiAgICAgICAgfSk7CiAgICB9CgogICAgY29uZmlnLiRpbmplY3QgPSBbJyR0cmFuc2xhdGVQcm92aWRlcicsICckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInXTsKICAgIHJldHVybiBjb25maWc7Cgp9KTsKCgovKioKICogQ3JlYXRlZCBieSBrdWJhbnkgb24gMTEvMTYvMjAxNS4KICovCgpkZWZpbmUoJ2FwcC91c2VyL3VzZXJDb25maWcnLFtdLGZ1bmN0aW9uKCl7CiAgICBmdW5jdGlvbiBjb25maWcoJHRyYW5zbGF0ZVByb3ZpZGVyLCAkaHR0cFByb3ZpZGVyLCAkc3RhdGVQcm92aWRlcikgewoKICAgIH0KICAgIGNvbmZpZy4kaW5qZWN0PVsnJHRyYW5zbGF0ZVByb3ZpZGVyJywgJyRodHRwUHJvdmlkZXInLCAnJHN0YXRlUHJvdmlkZXInXTsKICAgIHJldHVybiBjb25maWc7Cn0pOwovKioKICogQ3JlYXRlZCBieSBjb3JyZW50aSBvbiAzMS8xMi8yMDE1LgogKi8KCmRlZmluZSgnYXBwL29yZGVyL29yZGVyQ29uZmlnJyxbXSwgZnVuY3Rpb24gKCkgewoKICAgIGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlcikgewoKICAgICAgICAkc3RhdGVQcm92aWRlci4KICAgICAgICBzdGF0ZSgnb3JkZXJQYXltZW50JywgewogICAgICAgICAgICB1cmw6ICcvb3JkZXJQYXltZW50JywKICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvb3JkZXIvdmlld3Mvb3JkZXJQYXltZW50LXBhZ2UuaHRtbCcsCiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdvcmRlclBheW1lbnRDdHJsJywKICAgICAgICAgICAgY29udHJvbGxlckFzOiAnb3BDdHJsJywKICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgLy9yZXF1aXJlTG9naW46IHRydWUsICAvLyB0aGlzIHByb3BlcnR5IHdpbGwgYXBwbHkgdG8gYWxsIGNoaWxkcmVuIG9mICdhcHAnCiAgICAgICAgICAgICAgICBicmVhZGNydW1iTmFtZTogIm9yZGVyUGF5bWVudCIsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJlc29sdmU6IHsKICAgICAgICAgICAgICAgIHJlc29sdmVQYXJhbXM6IGZ1bmN0aW9uICgkcSwgb3JkZXJTZXJ2aWNlLCBhY2NvdW50U2VydmljZSkgewogICAgICAgICAgICAgICAgICAgIHZhciBkZWZlciA9ICRxLmRlZmVyKCk7CgogICAgICAgICAgICAgICAgICAgIG9yZGVyU2VydmljZS5nZXRBY2NvdW50QnlJZCgpLgogICAgICAgICAgICAgICAgICAgIHRoZW4oZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXIpIHsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudFNlcnZpY2UuZ2V0QWNjb3VudERldGFpbHMoKS50aGVuKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoYWNjb3VudERldGFpbHMpIHsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlclNlcnZpY2UuZ2V0U2hpcHBpbmdDb3N0KHVzZXIpLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlbihmdW5jdGlvbiAoc2hpcHBpbmdDb3N0KSB7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRTZXJ2aWNlLmdldEFjY291bnRQYXltZW50UHJlZmVyZW5jZXMoKS4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGVuKGZ1bmN0aW9uIChwYXltZW50UHJlZmVyZW5jZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50UHJlZmVyZW5jZXM6IHBheW1lbnRQcmVmZXJlbmNlcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoaXBwaW5nQ29zdDogc2hpcHBpbmdDb3N0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjogdXNlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnREZXRhaWxzOiBhY2NvdW50RGV0YWlscywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGlwcGluZ0Nvc3Q6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjogbnVsbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0pLgogICAgICAgIHN0YXRlKCdsb2dpbicsIHsKICAgICAgICAgICAgdXJsOiAnL2xvZ2luJywKICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvb3JkZXIvdmlld3MvdXNlci1ub3QtbG9naW4tcGFnZS5odG1sJywKICAgICAgICAgICAgY29udHJvbGxlcjogJ3VzZXJOb3RMb2dpbkN0cmwnLAogICAgICAgIH0pOwogICAgfQoKICAgIHJldHVybiBbJyRzdGF0ZVByb3ZpZGVyJywgY29uZmlnXTsKCn0pOwoKCi8qKgogKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDMxLzEyLzIwMTUuCiAqLwoKZGVmaW5lKCdhcHAvYWNjb3VudC9hY2NvdW50Q29uZmlnJyxbXSwgZnVuY3Rpb24gKCkgewoKICAgIGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlcikgewoKICAgICAgICAkc3RhdGVQcm92aWRlci4KICAgICAgICBzdGF0ZSgnbXlBY2NvdW50JywgewogICAgICAgICAgICB1cmw6ICcvbXlBY2NvdW50JywKICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvYWNjb3VudC92aWV3cy9teUFjY291bnQtcGFnZS5odG1sJywKICAgICAgICAgICAgY29udHJvbGxlcjogJ215QWNjb3VudEN0cmwnLAogICAgICAgICAgICBjb250cm9sbGVyQXM6ICdtYUN0cmwnLAogICAgICAgICAgICByZXNvbHZlOiB7CiAgICAgICAgICAgICAgICByZXNvbHZlUGFyYW1zOiBmdW5jdGlvbiAoJHEsIGFjY291bnRTZXJ2aWNlKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTsKICAgICAgICAgICAgICAgICAgICBhY2NvdW50U2VydmljZS5nZXRBY2NvdW50RGV0YWlscygpLnRoZW4oCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChhY2NvdW50RGV0YWlscykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudFNlcnZpY2UuZ2V0U2hpcHBpbmdEZXRhaWxzKGFjY291bnREZXRhaWxzKS50aGVuKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChzaGlwcGluZ0RldGFpbHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudFNlcnZpY2UuZ2V0QWNjb3VudFBheW1lbnRQcmVmZXJlbmNlcygpLnRoZW4oCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAocGF5bWVudFByZWZlcmVuY2VzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnREZXRhaWxzOiBhY2NvdW50RGV0YWlscywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hpcHBpbmdEZXRhaWxzOiBzaGlwcGluZ0RldGFpbHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRQcmVmZXJlbmNlczogcGF5bWVudFByZWZlcmVuY2VzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBkZWZlci5wcm9taXNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSkuCiAgICAgICAgc3RhdGUoJ2FjY291bnREZXRhaWxzJywgewogICAgICAgICAgICB1cmw6ICcvYWNjb3VudERldGFpbHMnLAogICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9hY2NvdW50L3ZpZXdzL2FjY291bnREZXRhaWxzLXBhZ2UuaHRtbCcsCiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdhY2NvdW50RGV0YWlsc0N0cmwnLAogICAgICAgICAgICBjb250cm9sbGVyQXM6ICdhZEN0cmwnLAogICAgICAgICAgICByZXNvbHZlOiB7CiAgICAgICAgICAgICAgICByZXNvbHZlUGFyYW1zOiBmdW5jdGlvbiAoJHEsIGFjY291bnRTZXJ2aWNlKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKQogICAgICAgICAgICAgICAgICAgIGFjY291bnRTZXJ2aWNlLmdldEFjY291bnREZXRhaWxzKCkudGhlbigKICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGFjY291bnREZXRhaWxzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50RGV0YWlsczogYWNjb3VudERldGFpbHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KS4KICAgICAgICBzdGF0ZSgnYWNjb3VudFBheW1lbnRFZGl0JywgewogICAgICAgICAgICB1cmw6ICcvYWNjb3VudFBheW1lbnRFZGl0JywKICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvYWNjb3VudC92aWV3cy9hY2NvdW50UGF5bWVudEVkaXQtcGFnZS5odG1sJywKICAgICAgICAgICAgY29udHJvbGxlcjogJ2FjY291bnRQYXltZW50RWRpdEN0cmwnLAogICAgICAgICAgICBjb250cm9sbGVyQXM6ICdhcGVDdHJsJywKICAgICAgICAgICAgcmVzb2x2ZTogewogICAgICAgICAgICAgICAgcmVzb2x2ZVBhcmFtczogZnVuY3Rpb24gKCRxLCBhY2NvdW50U2VydmljZSkgewogICAgICAgICAgICAgICAgICAgIHZhciBkZWZlciA9ICRxLmRlZmVyKCkKICAgICAgICAgICAgICAgICAgICBhY2NvdW50U2VydmljZS5nZXRBY2NvdW50RGV0YWlscygpLnRoZW4oCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChhY2NvdW50RGV0YWlscykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudFNlcnZpY2UuZ2V0QWNjb3VudFBheW1lbnRQcmVmZXJlbmNlcygpLnRoZW4oCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHBheW1lbnRQcmVmZXJlbmNlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRQcmVmZXJlbmNlczogcGF5bWVudFByZWZlcmVuY2VzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudERldGFpbHM6IGFjY291bnREZXRhaWxzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KS4KICAgICAgICBzdGF0ZSgnTXlPcmRlcnMnLCB7CiAgICAgICAgICAgIHVybDogJy9NeU9yZGVycycsCiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL2FjY291bnQvdmlld3MvTXlPcmRlcnMtcGFnZS5odG1sJywKICAgICAgICAgICAgY29udHJvbGxlcjogJ215T3JkZXJzQ3RybCcsCiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ215T3JkZXJzQ3RybCcsCiAgICAgICAgICAgIHJlc29sdmU6IHsKICAgICAgICAgICAgICAgIHJlc29sdmVQYXJhbXM6IGZ1bmN0aW9uICgkcSwgYWNjb3VudFNlcnZpY2UpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZGVmZXIgPSAkcS5kZWZlcigpCiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFNlcnZpY2UuZ2V0QWNjb3VudE9yZGVyKCkudGhlbigKICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKG9yZGVycykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJzOiBvcmRlcnMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZWplY3QoZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQoKICAgIHJldHVybiBbJyRzdGF0ZVByb3ZpZGVyJywgY29uZmlnXTsKCn0pOwoKCi8vdmFyIGRlZmVyID0gJHEuZGVmZXIoKTsKLy9vcmRlclNlcnZpY2UuZ2V0QWNjb3VudEJ5SWQoKS4KLy90aGVuKGZ1bmN0aW9uICh1c2VyKSB7Ci8vICAgIGlmKHVzZXIpCi8vICAgIHsKLy8gICAgICAgIG9yZGVyU2VydmljZS5nZXRTaGlwcGluZ0Nvc3QodXNlcikuCi8vICAgICAgICB0aGVuKGZ1bmN0aW9uIChzaGlwcGluZ0Nvc3QpIHsKLy8KLy8gICAgICAgICAgICBkZWZlci5yZXNvbHZlKHsKLy8gICAgICAgICAgICAgICAgc2hpcHBpbmdDb3N0IDogc2hpcHBpbmdDb3N0LAovLyAgICAgICAgICAgICAgICB1c2VyIDogdXNlciwKLy8gICAgICAgICAgICAgICAgbm9DYXJkczogdHJ1ZSwKLy8gICAgICAgICAgICAgICAgQ2FyZE51bWJlcjogW10sCi8vICAgICAgICAgICAgfSk7Ci8vICAgICAgICB9KTsKLy8gICAgfQovLyAgICBlbHNlIHsKLy8gICAgICAgIGRlZmVyLnJlc29sdmUoewovLyAgICAgICAgICAgIHNoaXBwaW5nQ29zdCA6IG51bGwsCi8vICAgICAgICAgICAgdXNlciA6IG51bGwKLy8gICAgICAgIH0pOwovLyAgICB9Ci8vfSk7Ci8vcmV0dXJuIGRlZmVyLnByb21pc2U7CgoKCgoKLyoqCiAqIENyZWF0ZWQgYnkga3ViYW55IG9uIDcvMjUvMjAxNy4KICovCmRlZmluZSgnYXBwL2NvbmZpZ3VyYXRpb24vY29tbW9uQ29uZmlnJyxbXSwgZnVuY3Rpb24gKCkgewoKICAgIGZ1bmN0aW9uIGNvbmZpZyhBbmFseXRpY3NQcm92aWRlcikgewogICAgICAgIEFuYWx5dGljc1Byb3ZpZGVyLnNldEFjY291bnQoJ1VBLTgxMzM0MjI3LTEnKTsKICAgICAgICBBbmFseXRpY3NQcm92aWRlci50cmFja1VybFBhcmFtcyh0cnVlKTsKICAgICAgICBBbmFseXRpY3NQcm92aWRlci50cmFja1BhZ2VzKHRydWUpOwogICAgICAgIEFuYWx5dGljc1Byb3ZpZGVyLnNldFBhZ2VFdmVudCgnJHN0YXRlQ2hhbmdlU3VjY2VzcycpOwogICAgfQoKICAgIHJldHVybiBbJ0FuYWx5dGljc1Byb3ZpZGVyJywgY29uZmlnXTsKCn0pOwovKioKICogQ3JlYXRlZCBieSBrdWJhbnkgb24gMTAvMTMvMjAxNS4KICovCmRlZmluZSgnYXBwL2NvbnRyb2xsZXJzL21vZHVsZScsWydhbmd1bGFyJ10sIGZ1bmN0aW9uIChhbmd1bGFyKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICByZXR1cm4gYW5ndWxhci5tb2R1bGUoJ2Fvcy5jb250cm9sbGVycycsIFtdKTsKfSk7Ci8qKgogKiBDcmVhdGVkIGJ5IGt1YmFueSBvbiAxMC8xMy8yMDE1LgogKi8KZGVmaW5lKCdhcHAvY29udHJvbGxlcnMvbWFpbkN0cmwnLFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKGNvbnRyb2xsZXJzKSB7CgoKICAgICd1c2Ugc3RyaWN0JzsKICAgIGNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ21haW5DdHJsJywgWyckc2NvcGUnLCAnJHEnLCAncHJvZHVjdFNlcnZpY2UnLCAnc21vb3RoU2Nyb2xsJywgJ3VzZXJTZXJ2aWNlJywgJ29yZGVyU2VydmljZScsCiAgICAgICAgJyRsb2NhdGlvbicsICdpcENvb2tpZScsICckcm9vdFNjb3BlJywgJ3Byb2R1Y3RzQ2FydFNlcnZpY2UnLCAnJGZpbHRlcicsICckc3RhdGUnLCAnJHRpbWVvdXQnLCAnY2F0ZWdvcnlTZXJ2aWNlJywKICAgICAgICAnQW5hbHl0aWNzJywKICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcSwgcHJvZHVjdFNlcnZpY2UsIHNtb290aFNjcm9sbCwgdXNlclNlcnZpY2UsIG9yZGVyU2VydmljZSwgJGxvY2F0aW9uLCAkY29va2llLCAkcm9vdFNjb3BlLAogICAgICAgICAgICAgICAgICBwcm9kdWN0c0NhcnRTZXJ2aWNlLCAkZmlsdGVyLCAkc3RhdGUsICR0aW1lb3V0LCBjYXRlZ29yeVNlcnZpY2UsIEFuYWx5dGljcykgewoKICAgICAgICAgICAgdmFyIGN0cmwgPSB0aGlzOwogICAgICAgICAgICBjdHJsLmNvbmZpZyA9IHt9OwogICAgICAgICAgICAkc2NvcGUuY2FydDsKICAgICAgICAgICAgJHNjb3BlLmF1dG9Db21wbGV0ZVZhbHVlID0gJyc7CiAgICAgICAgICAgICRzY29wZS5hdXRvQ29tcGxldGVSZXN1bHQgPSB7fTsKCgogICAgICAgICAgICB2YXIgRW50ZXJJbkZvY3VzID0gewogICAgICAgICAgICAgICAgbG9naW46ICdsb2dpbicsCiAgICAgICAgICAgICAgICBzZWFyY2g6ICdzZWFyY2gnCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHZhciBlbnRlckluRm9jdXMgPSAiIjsKCiAgICAgICAgICAgIGNhdGVnb3J5U2VydmljZS5sb2FkU2VydmVyKCkudGhlbihmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICAgICAgJChkb2N1bWVudCkub24oewogICAgICAgICAgICAgICAgICAgIGtleWRvd246IGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29kZSA9IGV2ZW50LmtleUNvZGUgfHwgZXZlbnQud2hpY2g7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2RlID09PSAxMykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChlbnRlckluRm9jdXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEVudGVySW5Gb2N1cy5sb2dpbjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5sb2dpblVzZXIubG9naW5QYXNzd29yZCAhPSAiIiAmJiAkc2NvcGUubG9naW5Vc2VyLmxvZ2luVXNlciAhPSAiIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5sb2dpblVzZXIuZW1haWwgPT0gIiIgJiYgY3RybC5jb25maWcuZW1haWxBZGRyZXNzSW5Mb2dpbikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2lnbkluKCRzY29wZS5sb2dpblVzZXIsIGN0cmwucmVtZW1iZXJNZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBFbnRlckluRm9jdXMuc2VhcmNoOgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAvKiBHZXQgYWxsIHByb2R1Y3RzIGRhdGEgKi8KICAgICAgICAgICAgICAgIC8vY2F0ZWdvcnlTZXJ2aWNlLmdldEFsbERhdGEoKTsKICAgICAgICAgICAgICAgIC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09ICBlbmQgR2V0IGFsbCBwcm9kdWN0cyBkYXRhID09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLwoKCiAgICAgICAgICAgICAgICAvKiBHZXQgY29uZmlndXJhdGlvbiAqLwogICAgICAgICAgICAgICAgLy9CVUc6ICMxNjEwMDEgLSBSZW1vdmUgZHVwbGljYXRlIHJlcXVlc3RzCiAgICAgICAgICAgICAgICAkc2NvcGUuJG9uKCdjb25maWd1cmF0aW9uTG9hZGVkJywgZnVuY3Rpb24gKGV2ZW50LCBkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgY3RybC5jb25maWcgPSBkYXRhLnJlc3BvbnNlOwogICAgICAgICAgICAgICAgICAgICRzY29wZS5yZWZyZXNoVGltZU91dCgpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAvLyB1c2VyU2VydmljZS5nZXRDb25maWd1cmF0aW9uKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIC8vICAgICBjdHJsLmNvbmZpZyA9IHJlc3BvbnNlOwogICAgICAgICAgICAgICAgLy8gICAgICRzY29wZS5yZWZyZXNoVGltZU91dCgpOwogICAgICAgICAgICAgICAgLy8gfSk7CiAgICAgICAgICAgICAgICAvKj09PT09PT09PT09PT09PT09PT09PT09PT09PSAgZW5kIEdldCBjb25maWd1cmF0aW9uID09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLwoKICAgICAgICAgICAgICAgIC8qIGxvYWRpbmcgQ2FydCBzZWN0aW9uICAqLwoKICAgICAgICAgICAgICAgIHByb2R1Y3RzQ2FydFNlcnZpY2UubG9hZENhcnRQcm9kdWN0cygpLnRoZW4oZnVuY3Rpb24gKGNhcnQpIHsKICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FydCA9IGNhcnQ7CiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c0NhcnRTZXJ2aWNlLmNoZWNrT3V0T2ZTdG9ja1Byb2R1Y3RzSW5DYXJ0KCkudGhlbihmdW5jdGlvbiAoX2NhcnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYXJ0ID0gX2NhcnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIC8qIGVuZCBsb2FkaW5nIENhcnQgc2VjdGlvbiAgKi8KCgogICAgICAgICAgICAgICAgJHNjb3BlLmdvX3VwID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICQoJ2JvZHksIGh0bWwnKS5hbmltYXRlKHtzY3JvbGxUb3A6IDB9LCAxMCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCgiLmF1dG9Db21wbGV0ZUNvdmVyIikud2lkdGgoKSA8IDEwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgibmF2IC5uYXZMaW5rcyIpLmNzcygiZGlzcGxheSIsICJibG9jayIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIC8qIEFib3V0IHNlY3Rpb24gKi8KCiAgICAgICAgICAgICAgICAkc2NvcGUuaGVscCA9IGZ1bmN0aW9uIChtaW5pVGl0bGVJZCkgewogICAgICAgICAgICAgICAgICAgICQoIiNsb2dpbk1pbmlUaXRsZSIpLmZhZGVPdXQoMzAwKTsKICAgICAgICAgICAgICAgICAgICAkKCIjbG9naW5Nb2JpbGVNaW5pVGl0bGUiKS5mYWRlT3V0KDMwMCk7CiAgICAgICAgICAgICAgICAgICAgJCgiIyIgKyBtaW5pVGl0bGVJZCkuZmFkZVRvZ2dsZSgzMDApOwogICAgICAgICAgICAgICAgfTsKCgogICAgICAgICAgICAgICAgLyogVXNlciBzZWN0aW9uICovCgoKICAgICAgICAgICAgICAgICRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uIChtaW5pVGl0bGVJZCkgewogICAgICAgICAgICAgICAgICAgICQoIiNoZWxwTWluaVRpdGxlIikuZmFkZU91dCgzMDApOwoKICAgICAgICAgICAgICAgICAgICBpZiAoJHJvb3RTY29wZS51c2VyQ29va2llKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICQoIiNoZWxwTW9iaWxlTWluaVRpdGxlIikuZmFkZU91dCgzMDApOwogICAgICAgICAgICAgICAgICAgICAgICAkKCIjIiArIG1pbmlUaXRsZUlkKS5mYWRlVG9nZ2xlKDMwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGVudGVySW5Gb2N1cyA9IEVudGVySW5Gb2N1cy5sb2dpbjsKICAgICAgICAgICAgICAgICAgICB2YXIgdXNlckluZm8gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncmVtZW1iZXJNZScpOwogICAgICAgICAgICAgICAgICAgIGlmICh1c2VySW5mbykgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyc2VkVXNlckluZm8gPSBKU09OLnBhcnNlKHVzZXJJbmZvKTsKICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxvZ2luVXNlci5sb2dpblVzZXIgPSBwYXJzZWRVc2VySW5mby5uYW1lOwogICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubG9naW5Vc2VyLmxvZ2luUGFzc3dvcmQgPSBwYXJzZWRVc2VySW5mby51c2VyUGFzc3dvcmQ7CiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYWluQ3RybC5yZW1lbWJlck1lID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIEhlbHBlci5tb2JpbGVTZWN0aW9uQ2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICAkKCcjdG9vbFRpcENhcnQnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpOwogICAgICAgICAgICAgICAgICAgIHZhciB3aW5kb3dzV2lkdGggPSAkKHdpbmRvdykud2lkdGgoKTsKICAgICAgICAgICAgICAgICAgICB2YXIgdG9wID0gIjUlIjsKICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93c1dpZHRoIDwgNDgwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRvcCA9ICIwIjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvd3NXaWR0aCA8IDcwMCkgewogICAgICAgICAgICAgICAgICAgICAgICB0b3AgPSAiMTglIjsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICQoIi5Qb3BVcCIpLmZhZGVJbigxMDAsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJCgiLlBvcFVwID4gZGl2Om50aC1jaGlsZCgxKSIpLmFuaW1hdGUoeyJ0b3AiOiB0b3B9LCA2MDApOwogICAgICAgICAgICAgICAgICAgICAgICAkKCJib2R5IikuY3NzKHsibGVmdCI6ICIwcHgifSkKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgidXNlcm5hbWUiKVswXS5mb2N1cygpOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAkKCIuUG9wVXAsIC5jbG9zZUJ0bi5sb2dpblBvcFVwQ2xvc2VCdG4iKS5jbGljayhmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICAgICAgICAgIHNldEVudGVySW5Gb2N1c0hhbmRsZXIoKTsKCiAgICAgICAgICAgICAgICAgICAgJCgiLlBvcFVwID4gZGl2Om50aC1jaGlsZCgxKSIpLmFuaW1hdGUoewogICAgICAgICAgICAgICAgICAgICAgICAidG9wIjogIi0xNTAlIgogICAgICAgICAgICAgICAgICAgIH0sIDYwMCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAkKCIuUG9wVXAiKS5mYWRlT3V0KDEwMCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgiYm9keSIpLmNzcygib3ZlcmZsb3cteSIsICJzY3JvbGwiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCgogICAgICAgICAgICAgICAgZnVuY3Rpb24gc2V0RW50ZXJJbkZvY3VzSGFuZGxlcigpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQubG9jYXRpb24uaGFzaC5pbmRleE9mKCIjL3NlYXJjaCIpICE9IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVudGVySW5Gb2N1cyA9IGVudGVySW5Gb2N1cy5zZWFyY2g7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgZW50ZXJJbkZvY3VzID0gIiI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKCiAgICAgICAgICAgICAgICAkKCIuUG9wVXAgPiBkaXYiKS5jbGljayhmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAvKiBFTkQgVXNlciBzZWN0aW9uICovCgoKICAgICAgICAgICAgICAgIC8qIEFwcGxpY2F0aW9uIGhlbHBlciBzZWN0aW9uICovCgoKICAgICAgICAgICAgICAgICRzY29wZS5yZWRpcmVjdCA9IGZ1bmN0aW9uIChwYXRoKSB7CiAgICAgICAgICAgICAgICAgICAgSGVscGVyLm1vYmlsZVNlY3Rpb25DbG9zZSgpOwogICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKHBhdGgpOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAkc2NvcGUubW9iaWxlUmVkaXJlY3QgPSBmdW5jdGlvbiAocGF0aCkgewogICAgICAgICAgICAgICAgICAgIEhlbHBlci5tb2JpbGVTZWN0aW9uQ2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28ocGF0aCkKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgJHNjb3BlLm1vYmlsZVJlZGlyZWN0SGVscCA9IGZ1bmN0aW9uIChwYXRoKSB7CgogICAgICAgICAgICAgICAgICAgIEhlbHBlci5tb2JpbGVTZWN0aW9uQ2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28ocGF0aCkKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgLy9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAvLyAgICAkc2NvcGUuZ290b0VsZW1lbnQoImNvbnRhY3RfdXMiKQogICAgICAgICAgICAgICAgLy99LCAxNTAwKQoKICAgICAgICAgICAgICAgICRzY29wZS5nb3RvRWxlbWVudCA9IGZ1bmN0aW9uIChpZCkgewogICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gJCgiIyIgKyBpZCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAkKCJib2R5LCBodG1sIikuYW5pbWF0ZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IChlbGVtZW50Lm9mZnNldCgpLnRvcCAtIDY1KSArICJweCIKICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwoKCiAgICAgICAgICAgICAgICB2YXIgX19fX19hdXRvTG9nT3V0OwogICAgICAgICAgICAgICAgJHNjb3BlLnJlZnJlc2hUaW1lT3V0ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgICAgICAgICBpZiAoY3RybC5jb25maWcgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChKU09OLnN0cmluZ2lmeShjdHJsLmNvbmZpZykgPT0gSlNPTi5zdHJpbmdpZnkoe30pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChvcmRlclNlcnZpY2UudXNlcklzTG9naW4oKSkgewoKICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKF9fX19fYXV0b0xvZ091dCk7CiAgICAgICAgICAgICAgICAgICAgICAgIF9fX19fYXV0b0xvZ091dCA9ICR0aW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaWduT3V0KCkKICAgICAgICAgICAgICAgICAgICAgICAgfSwgY3RybC5jb25maWcudXNlckxvZ2luVGltZU91dCA9PSAwID8gKDYwICogNjAwMDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IChjdHJsLmNvbmZpZy51c2VyTG9naW5UaW1lT3V0ICogNjAwMDApKTsKCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAvKiBFTkQgQXBwbGljYXRpb24gaGVscGVyIHNlY3Rpb24gKi8KCgogICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJ2NsZWFyQ2FydEV2ZW50JywgZnVuY3Rpb24gKGV2ZW50LCBhcmdzKSB7CiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNDYXJ0U2VydmljZS5jbGVhckNhcnQoKS50aGVuKGZ1bmN0aW9uIChjYXJ0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYXJ0ID0gY2FydDsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKCiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbiAoZXZlbnQsIGN1cnJlbnQsIHByZXZpb3VzKSB7CiAgICAgICAgICAgICAgICAgICAgLy8kKCJodG1sLCBib2R5IikuY3NzKHtvcGFjaXR5OiAwfSk7CiAgICAgICAgICAgICAgICAgICAgLy8kKCIud2FpdEJhY2tncm91bmQiKS5jc3Moe29wYWNpdHk6IDEsIGRpc3BsYXk6ICJibG9jayIsfSk7CiAgICAgICAgICAgICAgICAgICAgLy8kKCJkaXYubG9hZGVyIikuY3NzKHtvcGFjaXR5OiAxLCBkaXNwbGF5OiAiYmxvY2siLH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbiAoZXZlbnQsIGN1cnJlbnQsIHByZXZpb3VzKSB7CgogICAgICAgICAgICAgICAgICAgICRzY29wZS53ZWxjb21lID0gJGxvY2F0aW9uLnBhdGgoKS5pbmRleE9mKCcvd2VsY29tZScpIDw9IC0xICYmICRsb2NhdGlvbi5wYXRoKCkuaW5kZXhPZignLzQwNCcpIDw9IC0xOwogICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93Q2F0ZWdvcnlIZWFkZXIgPSAkbG9jYXRpb24ucGF0aCgpLmluZGV4T2YoJy9zZWFyY2gnKSA8PSAtMTsKCiAgICAgICAgICAgICAgICAgICAgLy8kKCIjc2VhcmNoU2VjdGlvbiAjb3V0cHV0IikuY3NzKCJvcGFjaXR5IiwgJGxvY2F0aW9uLnBhdGgoKS5pbmRleE9mKCcvc2VhcmNoJykgPT0gLTEgPyAxIDogMCk7CgogICAgICAgICAgICAgICAgICAgIEhlbHBlci5VcGRhdGVQYWdlRml4ZWQoKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKCRsb2NhdGlvbi5wYXRoKCkuaW5kZXhPZignL3NlYXJjaCcpID09IC0xICYmICRzY29wZS5jbG9zZVNlYXJjaEZvcmNlICsgIiIgIT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlU2VhcmNoRm9yY2UoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgSGVscGVyLm1vYmlsZVNlY3Rpb25DbG9zZSgpOwoKICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkbG9jYXRpb24ucGF0aCgpID09ICcvJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQoIi5hdXRvQ29tcGxldGVDb3ZlciIpLndpZHRoKCkgPCAxMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCJuYXYgLm5hdkxpbmtzIikuY3NzKCJkaXNwbGF5IiwgImJsb2NrIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCJuYXYgLm5hdkxpbmtzIikuY3NzKCJkaXNwbGF5IiwgIm5vbmUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIDEwNTApOwogICAgICAgICAgICAgICAgICAgICRzY29wZS5yZWZyZXNoVGltZU91dCgpOwogICAgICAgICAgICAgICAgICAgICRzY29wZS5taW5pVGl0bGVPdXQoKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICQoIiNtb2JpbGUtc2VjdGlvbiIpLmNzcygibGVmdCIsICItIiArICQoIiNtb2JpbGUtc2VjdGlvbiIpLmNzcygid2lkdGgiKSk7CiAgICAgICAgICAgICAgICBIZWxwZXIubW9iaWxlX3NlY3Rpb25fbW92ZWQgPSAkKCIjbW9iaWxlLXNlY3Rpb24iKS53aWR0aCgpOwoKICAgICAgICAgICAgICAgICRzY29wZS5vcGVuTW9iaWxlU2VjdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBIZWxwZXIubW9iaWxlU2VjdGlvbkhhbmRsZXIoKTsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgJHNjb3BlLiRvbignJHZpZXdDb250ZW50TG9hZGVkJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgSGVscGVyLmZvckFsbFBhZ2UoKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAkc2NvcGUubG9naW5Vc2VyID0ge2VtYWlsOiAnJywgbG9naW5QYXNzd29yZDogJycsIGxvZ2luVXNlcjogJyd9OwogICAgICAgICAgICB0aGlzLnJlbWVtYmVyTWUgPSBmYWxzZTsKCiAgICAgICAgICAgICRzY29wZS5jaGVja0NhcnQgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jYXJ0ICsgIiIgPT0gInVuZGVmaW5lZCIgfHwgJHNjb3BlLmNhcnQucHJvZHVjdHNJbkNhcnQubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKCRsb2NhdGlvbi4kJHBhdGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnL2xvZ2luJzoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnL015T3JkZXJzJzoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnL29yZGVyUGF5bWVudCc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oImRlZmF1bHQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICRzY29wZS5jaGVja0xvZ2luID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyIHVzZXIgPSAkcm9vdFNjb3BlLnVzZXJDb29raWU7CiAgICAgICAgICAgICAgICBpZiAoISh1c2VyICYmIHVzZXIucmVzcG9uc2UgJiYgdXNlci5yZXNwb25zZS51c2VySWQgIT0gLTEgJiYgdXNlci5yZXNwb25zZS50X2F1dGhvcml6YXRpb24pKSB7CiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCJkZWZhdWx0Iik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CgoKICAgICAgICAgICAgdmFyIF9zZXRVc2VyID0gMDsKICAgICAgICAgICAgJHNjb3BlLnNldFVzZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBpZiAoX3NldFVzZXIgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpZ25Jbih7ZW1haWw6ICIiLCBsb2dpblBhc3N3b3JkOiAiQWExMjMiLCBsb2dpblVzZXI6ICJzZXJnaW8ifSwgdHJ1ZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBfc2V0VXNlcisrOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgX3NldFVzZXIgPSAwOwogICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgIH07CgoKICAgICAgICAgICAgJHNjb3BlLmFjY291bnRTZWN0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdteUFjY291bnQnKTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICRzY29wZS5vcGVuQWRtaW5DbGllbnQgPSBmdW5jdGlvbigpewogICAgICAgICAgICAgICAgQW5hbHl0aWNzLnRyYWNrRXZlbnQoJ01hbmFnZW1lbnQgQ29uc29sZScsICdOYXZpZ2F0ZScpOwogICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oJy9hZG1pbicpOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgJHNjb3BlLnNpZ25PdXQgPSBmdW5jdGlvbiAoZXZlbikgewoKICAgICAgICAgICAgICAgIGlmIChldmVuKSB7CiAgICAgICAgICAgICAgICAgICAgZXZlbi5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHVzZXJTZXJ2aWNlLnNpbmdPdXQoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAkY29va2llLnJlbW92ZSh1c2VyQ29va2llLmdldEtleSgkcm9vdFNjb3BlLnVzZXJDb29raWUpLnJlcGxhY2UoL1teYS16QS1aIF0vZywgIiIpKTsKICAgICAgICAgICAgICAgICAgICAkY29va2llLnJlbW92ZSgnbGFzdExvZ2luJyk7CiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS51c2VyQ29va2llID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgICAgICRzY29wZS5sb2dpblVzZXIgPSB7ZW1haWw6ICcnLCBsb2dpblBhc3N3b3JkOiAnJywgbG9naW5Vc2VyOiAnJ307CgogICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzQ2FydFNlcnZpY2UubG9hZENhcnRQcm9kdWN0cygpLnRoZW4oZnVuY3Rpb24gKGNhcnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhcnQgPSBjYXJ0OwogICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tDYXJ0KCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgJCgiLm1pbmktdGl0bGUiKS5jc3MoImRpc3BsYXkiLCAibm9uZSIpOwogICAgICAgICAgICAgICAgICAgICQoIi5taW5pLXRpdGxlLWhlbHAiKS5jc3MoImRpc3BsYXkiLCAibm9uZSIpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICAkc2NvcGUubWluaVRpdGxlSW4gPSBmdW5jdGlvbiAobWluaVRpdGxlSWQpIHsKICAgICAgICAgICAgICAgIGlmICgkcm9vdFNjb3BlLnVzZXJDb29raWUpIHsKICAgICAgICAgICAgICAgICAgICAkKCIjIiArIG1pbmlUaXRsZUlkKS5zdG9wKCkuZGVsYXkoNTAwKS5mYWRlSW4oMzAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICRzY29wZS5taW5pVGl0bGVPdXQgPSBmdW5jdGlvbiAobWluaVRpdGxlSWQpIHsKICAgICAgICAgICAgICAgIGlmICgkcm9vdFNjb3BlLnVzZXJDb29raWUpIHsKICAgICAgICAgICAgICAgICAgICAkKCIjIiArIG1pbmlUaXRsZUlkKS5zdG9wKCkuZGVsYXkoNTAwKS5mYWRlT3V0KDMwMCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CgogICAgICAgICAgICB2YXIgX19fX2xvZ2luSW50ZXJ2YWw7CiAgICAgICAgICAgICRzY29wZS5taW5pVGl0bGVJbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGlmIChfX19fbG9naW5JbnRlcnZhbCkgewogICAgICAgICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChfX19fbG9naW5JbnRlcnZhbCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CgogICAgICAgICAgICAkc2NvcGUubWluaVRpdGxlT3V0ID0gZnVuY3Rpb24gKG1pbmlUaXRsZUlkKSB7CiAgICAgICAgICAgICAgICBpZiAoJCgiIyIgKyBtaW5pVGl0bGVJZCkuY3NzKCdkaXNwbGF5JykgIT0gJ25vbmUnKSB7CiAgICAgICAgICAgICAgICAgICAgX19fX2xvZ2luSW50ZXJ2YWwgPSAkdGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICQoIiMiICsgbWluaVRpdGxlSWQpLmZhZGVPdXQoMzAwKTsKICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIC8qIENhcnQgc2VjdGlvbiAgKi8KCiAgICAgICAgICAgICRzY29wZS5yZW1vdmVQcm9kdWN0ID0gZnVuY3Rpb24gKGluZGV4LCBldmVudCkgewoKICAgICAgICAgICAgICAgIGlmIChldmVudCkgewogICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcHJvZHVjdHNDYXJ0U2VydmljZS5yZW1vdmVQcm9kdWN0KGluZGV4KS50aGVuKGZ1bmN0aW9uIChjYXJ0KSB7CiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhcnQgPSBjYXJ0OwogICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGVja0NhcnQoKTsKICAgICAgICAgICAgICAgICAgICBmaXhUb29sVGlwQ2FydEhlaWdodCgpOwoKICAgICAgICAgICAgICAgICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA0ODApIHsKICAgICAgICAgICAgICAgICAgICAgICAgJCgiI3RvYXN0IGEiKS5odG1sKCRmaWx0ZXIoInRyYW5zbGF0ZSIpKCJQcm9kdWN0X3JlbW92ZWQiKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICQoIiN0b2FzdCIpLnN0b3AoKS5mYWRlSW4oNTAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCIjdG9hc3QiKS5zdG9wKCkuZmFkZU91dCgxNTAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTUwMCkKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICAkc2NvcGUuYWRkUHJvZHVjdCA9IGZ1bmN0aW9uIChwcm9kdWN0LCBxdWFudGl0eSwgaGFzV2FycmFudHksIHRvYXN0TWVzc2FnZSkgewogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChIZWxwZXIuX19fX2Nsb3NlVG9vVGlwQ2FydCk7CiAgICAgICAgICAgICAgICB2YXIgZGVmZXIgPSAkcS5kZWZlcigpOwogICAgICAgICAgICAgICAgcHJvZHVjdHNDYXJ0U2VydmljZS5hZGRQcm9kdWN0KHByb2R1Y3QsIHF1YW50aXR5LCBoYXNXYXJyYW50eSkudGhlbihmdW5jdGlvbiAoY2FydCkgewogICAgICAgICAgICAgICAgICAgICRzY29wZS5jYXJ0ID0gY2FydDsKICAgICAgICAgICAgICAgICAgICBhbmltYXRlVG9vbFRpcENhcnQodG9hc3RNZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgICBmaXhUb29sVGlwQ2FydEhlaWdodCgpOwogICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUoY2FydCk7CiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpewogICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlamVjdChlcnIpCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBkZWZlci5wcm9taXNlOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZVByb2R1Y3QgPSBmdW5jdGlvbiAocHJvZHVjdCwgY29sb3IsIHF1YW50aXR5LCBvbGRDb2xvciwgdG9hc3RNZXNzYWdlKSB7CiAgICAgICAgICAgICAgICB2YXIgZGVmZXIgPSAkcS5kZWZlcigpOwogICAgICAgICAgICAgICAgcHJvZHVjdHNDYXJ0U2VydmljZS51cGRhdGVQcm9kdWN0KHByb2R1Y3QsIGNvbG9yLCBxdWFudGl0eSwgb2xkQ29sb3IpCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGNhcnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhcnQgPSBjYXJ0OwogICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlVG9vbFRpcENhcnQodG9hc3RNZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShjYXJ0KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBkZWZlci5wcm9taXNlOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgZnVuY3Rpb24gYW5pbWF0ZVRvb2xUaXBDYXJ0KHRvYXN0TWVzc2FnZSkgewogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChIZWxwZXIuX19fX2Nsb3NlVG9vVGlwQ2FydCk7CgogICAgICAgICAgICAgICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgNDgwKSB7CiAgICAgICAgICAgICAgICAgICAgJCgiI3RvYXN0IGEiKS5odG1sKHRvYXN0TWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgJCgiI3RvYXN0Iikuc3RvcCgpLmZhZGVJbigyMDApOwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAkKCIjdG9hc3QiKS5zdG9wKCkuZmFkZU91dCg2MDApOwogICAgICAgICAgICAgICAgICAgIH0sIDE1MDApCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgJCgnI3Rvb2xUaXBDYXJ0JykuZGVsYXkoMTAwKS5zbGlkZURvd24oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICQoJyN0b29sVGlwQ2FydCB0Ym9keScpLnN0b3AoKS5hbmltYXRlKHsKICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiAwICsgJ3B4JwogICAgICAgICAgICAgICAgICAgIH0sIDUwMCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuX19fX2Nsb3NlVG9vVGlwQ2FydCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3Rvb2xUaXBDYXJ0Jykuc3RvcCgpLnNsaWRlVXAoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwgNDAwMCkKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgX19fX19lbnRlckNhcnQ7CiAgICAgICAgICAgIHZhciBlbnRlckluQ2FydCA9IGZhbHNlOwogICAgICAgICAgICAkc2NvcGUuZW50ZXJDYXJ0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChIZWxwZXIuX19fX2Nsb3NlVG9vVGlwQ2FydCk7IC8vIGRlZmluZWQgaW4gY2F0ZWdvcnlUeXBlUHJvZHVjdHNEcnR2IC0+IGFkZFByb2R1Y3QKICAgICAgICAgICAgICAgIGVudGVySW5DYXJ0ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9fX19fZW50ZXJDYXJ0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgJCgnI3Rvb2xUaXBDYXJ0Jykuc3RvcCgpLnNsaWRlRG93bigpOwogICAgICAgICAgICAgICAgICAgIGZpeFRvb2xUaXBDYXJ0SGVpZ2h0KCk7CiAgICAgICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgJHNjb3BlLmxlYXZlQ2FydCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGVudGVySW5DYXJ0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKF9fX19fZW50ZXJDYXJ0KTsKICAgICAgICAgICAgICAgIGNsb3NlVG9vbFRpcENhcnQoKTsKICAgICAgICAgICAgfTsKCgogICAgICAgICAgICBmdW5jdGlvbiBjbG9zZVRvb2xUaXBDYXJ0KCkgewoKICAgICAgICAgICAgICAgIHZhciB0b29sVGlwQ2FydCA9ICQoJyN0b29sVGlwQ2FydCcpOwogICAgICAgICAgICAgICAgaWYgKHRvb2xUaXBDYXJ0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlbnRlckluQ2FydCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbFRpcENhcnQuc3RvcCgpLnNsaWRlVXAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyN0b29sVGlwQ2FydCB0Ym9keScpLmFuaW1hdGUoe3Njcm9sbFRvcDogMH0sIDUwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIDMwMDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBmaXhUb29sVGlwQ2FydEhlaWdodCgpIHsKICAgICAgICAgICAgICAgIHZhciB3aW5IZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCkgLSAyMDA7CiAgICAgICAgICAgICAgICB2YXIgcHJvZHNIZWlnaHQgPSAoJHNjb3BlLmNhcnQucHJvZHVjdHNJbkNhcnQubGVuZ3RoICogMTA0KTsKICAgICAgICAgICAgICAgIHZhciBoZWlnaHRUb0FzaWduID0gKE1hdGgucm91bmQod2luSGVpZ2h0IC8gMTA0KSAqIDEwNCk7CiAgICAgICAgICAgICAgICBpZiAod2luSGVpZ2h0IDwgcHJvZHNIZWlnaHQpIHsKICAgICAgICAgICAgICAgICAgICAkKCIjdG9vbFRpcENhcnQgdGJvZHkiKS5jc3MoewogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogaGVpZ2h0VG9Bc2lnbiArICJweCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJvdmVyZmxvdy15IjogImF1dG8iCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkKCIjdG9vbFRpcENhcnQgdGJvZHkiKS5jc3MoewogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogcHJvZHNIZWlnaHQgKyAicHgiLAogICAgICAgICAgICAgICAgICAgICAgICAib3ZlcmZsb3cteSI6ICJoaWRkZW4iCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8qIEVORCBDYXJ0IHNlY3Rpb24gKi8KCgogICAgICAgICAgICB0aGlzLmdldFJlcXVpcmUgPSBmdW5jdGlvbiAobmFtZVJlcXVpcmUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICAgICAgZXJyb3I6ICRmaWx0ZXIoInRyYW5zbGF0ZSIpKG5hbWVSZXF1aXJlKSArICIgIiArICRmaWx0ZXIoInRyYW5zbGF0ZSIpKCJmaWVsZF9pc19yZXF1aXJlZCIpCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfTsKCgogICAgICAgICAgICB0aGlzLmdldENvbXBhcmUgPSBmdW5jdGlvbiAobmFtZSwgbW9kZWwpIHsKICAgICAgICAgICAgICAgIHZhciBuYW1lQWZ0ZXJUcmFuc2xhdGUgPSAkZmlsdGVyKCJ0cmFuc2xhdGUiKShuYW1lKTsKICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG5hbWVBZnRlclRyYW5zbGF0ZSArICRmaWx0ZXIoInRyYW5zbGF0ZSIpKCdUaGlzX2ZpZWxkX25vdF9tYXRjaF93aXRoJyksCiAgICAgICAgICAgICAgICAgICAgaW5mbzogIi0gIiArICRmaWx0ZXIoInRyYW5zbGF0ZSIpKCJTYW1lX2FzIikgKyAiICIgKyBuYW1lQWZ0ZXJUcmFuc2xhdGUsCiAgICAgICAgICAgICAgICAgICAgbW9kZWw6IG1vZGVsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIHRoaXMuZ2V0Q2FyZE51bWJlciA9IGZ1bmN0aW9uIChleGFjdGx5TnVtKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgIGVycm9yOiAkZmlsdGVyKCJ0cmFuc2xhdGUiKSgnSW52YWxpZF9DYXJkX251bWJlcicpLAogICAgICAgICAgICAgICAgICAgIGluZm86ICItICIgKyAkZmlsdGVyKCJ0cmFuc2xhdGUiKSgiVXNlX2V4YWN0bHkiKSArICIgIiArIGV4YWN0bHlOdW0gKyAiICIgKyAkZmlsdGVyKCJ0cmFuc2xhdGUiKSgnbnVtYmVycycpLAogICAgICAgICAgICAgICAgICAgIGV4YWN0bHk6IGV4YWN0bHlOdW0sCiAgICAgICAgICAgICAgICAgICAgcmVnZXg6ICJeWzAtOV0qJCIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgdGhpcy5nZXRQYXR0ZXJuID0gZnVuY3Rpb24gKGRhdGEpIHsKCiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1VzZXJuYW1lJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWydsZXR0ZXJzX251bWJlcl9zeW1ib2xzX29ubHknLCAnbGV0dGVyc19udW1iZXJfc3ltYm9sc19vbmx5JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ15bQS1aYS16MC05Xy4tXXswLDk5OX0kJ11dOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0VtYWlsJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBbWydlbWFpbF9ub19mb3JtYXR0ZWRfY29ycmVjdGx5JywgJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ15bX0EtWmEtejAtOS1cK10rKFwuW19BLVphLXowLTktXSspKkBbQS1aYS16MC05LV0rKFwuW0EtWmEtejAtOV0rKSooXC5bQS1aYS16XXsyLDEwMH0pJCddXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdQYXNzd29yZCc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsnb25lX2xvd2VyX2xldHRlcl9yZXF1aXJlZCcsICdJbmNsdWRpbmdfb25lX2xvd2VyX2xldHRlcicsICcoPz0uKlthLXpdKSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsnb25lX3VwcGVyX2xldHRlcl9yZXF1aXJlZCcsICdJbmNsdWRpbmdfb25lX3VwcGVyX2xldHRlcicsICcoPz0uKltBLVpdKSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsnb25lX251bWJlcl9yZXF1aXJlZCcsICdJbmNsdWRpbmdfb25lX251bWJlcicsICcoPz0uKlswLTldKSddCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0NvbXBhcmUnOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbJ2xldHRlcnNfbnVtYmVyX3N5bWJvbHNfb25seScsICdsZXR0ZXJzX251bWJlcl9zeW1ib2xzX29ubHknLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXltBLVphLXowLTlfLi1dezAsOTk5fSQnXV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnQ0NWX051bWJlcic6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsnSW52YWxpZF9DQ1ZfbnVtYmVyJywgJ1ZhbGlkX0NDVl9udW1iZXJfcmVxdWlyZWQnLCAnXlswLTldezMsM30kJ11dOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyAidHlwZSBvZiBwYXR0ZXJuIG5vdCBtYXRjaCAodGhpcy5nZXRQYXR0ZXJuKCciICsgZGF0YSArICInKTsiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFyIGFyciA9IFtdOwogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGluZm8gPSAkZmlsdGVyKCJ0cmFuc2xhdGUiKShkYXRhW2ldWzFdKTsKICAgICAgICAgICAgICAgICAgICBhcnIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiAkZmlsdGVyKCJ0cmFuc2xhdGUiKShkYXRhW2ldWzBdKSwKICAgICAgICAgICAgICAgICAgICAgICAgaW5mbzogaW5mbyAhPSAnJyA/ICItICIgKyBpbmZvIDogJycsCiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2V4OiBkYXRhW2ldWzJdCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgIHJlZ2V4ZXM6IGFycgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICB0aGlzLmdldE1pbiA9IGZ1bmN0aW9uIChtaW4pIHsKICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICAgICAgZXJyb3I6ICRmaWx0ZXIoInRyYW5zbGF0ZSIpKCJVc2VfdXBfb2YiKSArICIgIiArIG1pbiArICIgIiArICRmaWx0ZXIoInRyYW5zbGF0ZSIpKCJjaGFyYWN0ZXJfb3JfbG9uZ2VyIiksCiAgICAgICAgICAgICAgICAgICAgaW5mbzogIi0gIiArICRmaWx0ZXIoInRyYW5zbGF0ZSIpKCJVc2VfdXBfb2YiKSArICIgIiArIG1pbiArICIgIiArICRmaWx0ZXIoInRyYW5zbGF0ZSIpKCJjaGFyYWN0ZXJfb3JfbG9uZ2VyIiksCiAgICAgICAgICAgICAgICAgICAgbWluOiBtaW4KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9OwoKCiAgICAgICAgICAgIHRoaXMuZ2V0TWF4ID0gZnVuY3Rpb24gKG1heCkgewogICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICAgICAgICBlcnJvcjogJGZpbHRlcigidHJhbnNsYXRlIikoIlVzZV9tYXhpbXVtIikgKyAiICIgKyBtYXggKyAiICIgKyAkZmlsdGVyKCJ0cmFuc2xhdGUiKSgiY2hhcmFjdGVyIiksCiAgICAgICAgICAgICAgICAgICAgaW5mbzogIi0gIiArICRmaWx0ZXIoInRyYW5zbGF0ZSIpKCJVc2VfbWF4aW11bSIpICsgIiAiICsgbWF4ICsgIiAiICsgJGZpbHRlcigidHJhbnNsYXRlIikoImNoYXJhY3RlciIpLAogICAgICAgICAgICAgICAgICAgIG1heDogbWF4CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIHRoaXMuZ2V0QWdyZWVBZ3JlZW1lbnRSZXF1aXJlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICAgICAgICBlcnJvcjogJGZpbHRlcigidHJhbnNsYXRlIikoIkFncmVlQWdyZWVtZW50UmVxdWlyZSIpLAogICAgICAgICAgICAgICAgICAgIGluZm86ICRmaWx0ZXIoInRyYW5zbGF0ZSIpKCJBZ3JlZUFncmVlbWVudFJlcXVpcmUiKQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICB0aGlzLmdldE5vdGljZUluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoWwogICAgICAgICAgICAgICAgICAgICRmaWx0ZXIoInRyYW5zbGF0ZSIpKCJUaGlzX2lzX2FfZGVtbyIpLAogICAgICAgICAgICAgICAgICAgICRmaWx0ZXIoInRyYW5zbGF0ZSIpKCJQbGVhc2VfZW50ZXJfYV9mYWtlX2RhdGEiKQogICAgICAgICAgICAgICAgXSk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICB0aGlzLmNsb3NlSW1nVGVhbSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICQoIiN0ZWFtSWRUb0FuaW1hdGUiKS5hZGRDbGFzcygiaGluZ2UiKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICQoIiN0ZWFtIikuZmFkZU91dCgxMDAwKTsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJCgiI3RlYW1JZFRvQW5pbWF0ZSIpLnJlbW92ZUNsYXNzKCJoaW5nZSIpOwogICAgICAgICAgICAgICAgICAgICAgICAkKCIjdGVhbUlkVG9BbmltYXRlIikuY3NzKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICJub25lIgogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKQogICAgICAgICAgICAgICAgfSwgMjUwMCkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIF0pOwp9KTsKCgoKCgoKCgoKLyoqCiAqIENyZWF0ZWQgYnkga3ViYW55IG9uIDEwLzEzLzIwMTUuCiAqLwpkZWZpbmUoJ2FwcC9jb250cm9sbGVycy9jYXRlZ29yaWVzQ3RybCcsWycuL21vZHVsZSddLCBmdW5jdGlvbiAoY29udHJvbGxlcnMpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ2NhdGVnb3JpZXNDdHJsJywgWyckc2NvcGUnLCAnY2F0ZWdvcnlTZXJ2aWNlJywKICAgICAgICAnZGVhbFNlcnZpY2UnLCAnJGxvY2F0aW9uJywgJ3Jlc29sdmVQYXJhbXMnLCAnc3VwcG9ydFNlcnZpY2UnLCAnJHRpbWVvdXQnLAogICAgICAgICd1c2VyU2VydmljZScsCiAgICAgICAgZnVuY3Rpb24gKHMsIGNhdGVnb3J5U2VydmljZSwgZGVhbFNlcnZpY2UsICRsb2NhdGlvbiwgcmVzb2x2ZVBhcmFtcywKICAgICAgICAgICAgICAgICAgc3VwcG9ydFNlcnZpY2UsICR0aW1lb3V0LCB1c2VyU2VydmljZSkgewoKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNvbHZlUGFyYW1zLmNhdGVnb3JpZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIHZhciBjYXRlID0gW107CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgcmVzb2x2ZVBhcmFtcy5jYXRlZ29yaWVzW2ldLmNhdGVnb3J5TmFtZS5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgICAgICAgICAgICBjYXRlLnB1c2goaW5kZXggPT0gMCA/IHJlc29sdmVQYXJhbXMuY2F0ZWdvcmllc1tpXS5jYXRlZ29yeU5hbWVbaW5kZXhdIDogcmVzb2x2ZVBhcmFtcy5jYXRlZ29yaWVzW2ldLmNhdGVnb3J5TmFtZVtpbmRleF0udG9Mb3dlckNhc2UoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXNvbHZlUGFyYW1zLmNhdGVnb3JpZXNbaV0uY2F0ZWdvcnlOYW1lID0gY2F0ZS5qb2luKCIiKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcy5jYXRlZ29yaWVzID0gcmVzb2x2ZVBhcmFtcy5jYXRlZ29yaWVzOwogICAgICAgICAgICBzLnNwZWNpYWxPZmZlciA9IHJlc29sdmVQYXJhbXMuc3BlY2lhbE9mZmVyOwogICAgICAgICAgICBzLnBvcHVsYXJQcm9kdWN0cyA9IHJlc29sdmVQYXJhbXMucG9wdWxhclByb2R1Y3RzOwoKICAgICAgICAgICAgLyoKICAgICAgICAgICAgdW5jb21tZW50IHRoaXMgbGluZSBmb3IgVUZUIHR5cG8gZGVtbwogICAgICAgICAgICAgKi8KICAgICAgICAgICAgLy9zLmNhdGVnb3JpZXNbM10uY2F0ZWdvcnlOYW1lID0gIkF1ZGlvIjsKCiAgICAgICAgICAgIHZhciBfbnYgPSB1c2VyU2VydmljZS5udl9zbG93UGFnZSgpID8gIl9udiIgOiAiIjsKICAgICAgICAgICAgdmFyIGltYWdlc0Jhbm5lciA9IFsKICAgICAgICAgICAgICAgICdCYW5uZXIxJyArIF9udiArICcuanBnJywKICAgICAgICAgICAgICAgICdCYW5uZXIyJyArIF9udiArICcuanBnJywKICAgICAgICAgICAgICAgICdCYW5uZXIzJyArIF9udiArICcuanBnJywKICAgICAgICAgICAgXTsKICAgICAgICAgICAgcy5pbWFnZXMgPSBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaW1hZ2VOYW1lOiBpbWFnZXNCYW5uZXJbMF0sCiAgICAgICAgICAgICAgICAgICAgaW1hZ2VJZDogMCwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAiQUxMIFlPVSBXQU5UIEZST00gQSBUQUJMRVQiLAogICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5SWQ6IDJ9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGltYWdlTmFtZTogaW1hZ2VzQmFubmVyWzFdLAogICAgICAgICAgICAgICAgICAgIGltYWdlSWQ6IDEsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIkVYUExPUkUgT1VSIExBVEVTVCA8YnIgLz5JTk5PVkFUSVZFIFBST0RVQ1RTIiwKICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeUlkOiAzCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAge2ltYWdlTmFtZTogaW1hZ2VzQmFubmVyWzJdLCBpbWFnZUlkOiAyLCBtZXNzYWdlOiAiU1RBUlQgRVhQTE9SSU5HIEhQIE5PVEVCT09LUyIsIGNhdGVnb3J5SWQ6IDB9CiAgICAgICAgICAgIF07CgogICAgICAgICAgICAvKiBzdXBvcnQgc2VjdGlvbiAqLwoKICAgICAgICAgICAgcy5zdXBwb3J0U3VjY2VzcyA9IGZhbHNlOwogICAgICAgICAgICBzLnJlZ2lzdGVyQW5zd2VyID0ge2NsYXNzOiAiIiwgbWVzc2FnZTogIiJ9CiAgICAgICAgICAgIHMuc3VwcG9ydE1vZGVsID0gewogICAgICAgICAgICAgICAgImNhdGVnb3J5Ijoge30sCiAgICAgICAgICAgICAgICAiZW1haWwiOiAiIiwKICAgICAgICAgICAgICAgICJwcm9kdWN0Ijoge30sCiAgICAgICAgICAgICAgICAic3ViamVjdCI6ICIiCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHMucHJvZHVjdHM7CgogICAgICAgICAgICBzLmNhdGVnb3J5Q2hhbmdlID0gZnVuY3Rpb24gKGNhdGVnb3J5KSB7CiAgICAgICAgICAgICAgICBzLnN1cHBvcnRNb2RlbC5jYXRlZ29yeSA9IGNhdGVnb3J5OwogICAgICAgICAgICAgICAgY2F0ZWdvcnlTZXJ2aWNlLmdldENhdGVnb3J5QnlJZChzLnN1cHBvcnRNb2RlbC5jYXRlZ29yeS5jYXRlZ29yeUlkKS4KICAgICAgICAgICAgICAgIHRoZW4oZnVuY3Rpb24gKGNhdGVnb3J5KSB7CiAgICAgICAgICAgICAgICAgICAgcy5wcm9kdWN0cyA9IGNhdGVnb3J5LnByb2R1Y3RzOwogICAgICAgICAgICAgICAgICAgIC8vcy5zdXBwb3J0TW9kZWwucHJvZHVjdCA9IGNhdGVnb3J5LnByb2R1Y3RzWzBdOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHMucHJvZHVjdENoYW5nZSA9IGZ1bmN0aW9uIChwcm9kdWN0KSB7CiAgICAgICAgICAgICAgICBzLnN1cHBvcnRNb2RlbC5wcm9kdWN0ID0gcHJvZHVjdDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIF9fX19fY29udGludWVTaG9wcGluZzsKICAgICAgICAgICAgcy5zZW5kU3VwcG9ydEVtYWlsID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgICAgIC8vIGlmIChzLnN1cHBvcnRNb2RlbC5zdWJqZWN0LnRyaW0oKS50b0xvd2VyQ2FzZSgpID09ICJ3aG8gYXJlIHlvdSIgfHwKICAgICAgICAgICAgICAgIC8vICAgICBzLnN1cHBvcnRNb2RlbC5zdWJqZWN0LnRyaW0oKS50b0xvd2VyQ2FzZSgpID09ICJ3aG8gYXJlIHlvdT8iKSB7CiAgICAgICAgICAgICAgICAvLwogICAgICAgICAgICAgICAgLy8gICAgICQoIiN0ZWFtIikuZmFkZUluKDUwMCkuY3NzKCJkaXNwbGF5IiwgInRhYmxlIik7CiAgICAgICAgICAgICAgICAvLyAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgICQoIiN0ZWFtSWRUb0FuaW1hdGUiKS5jc3MoewogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgZGlzcGxheTogImJsb2NrIgogICAgICAgICAgICAgICAgLy8gICAgICAgICB9KTsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgJCgiI3RlYW1JZFRvQW5pbWF0ZSIpLmFkZENsYXNzKCJ6b29tSW5Eb3duIik7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgJCgiI3RlYW1JZFRvQW5pbWF0ZSIpLnJlbW92ZUNsYXNzKCJ6b29tSW5Eb3duIik7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0sIDMwMDApOwogICAgICAgICAgICAgICAgLy8gICAgIH0sIDMwMCk7CiAgICAgICAgICAgICAgICAvLyAgICAgcy5zdXBwb3J0TW9kZWwgPSB7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgICJjYXRlZ29yeSI6IHMuc3VwcG9ydE1vZGVsLmNhdGVnb3J5LAogICAgICAgICAgICAgICAgLy8gICAgICAgICAiZW1haWwiOiAiIiwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgInByb2R1Y3QiOiBzLnN1cHBvcnRNb2RlbC5wcm9kdWN0LAogICAgICAgICAgICAgICAgLy8gICAgICAgICAic3ViamVjdCI6ICIiCiAgICAgICAgICAgICAgICAvLyAgICAgfQogICAgICAgICAgICAgICAgLy8gICAgIHJldHVybjsKICAgICAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgICAgICBzdXBwb3J0U2VydmljZS5zZW5kU3VwcG9ydEVtYWlsKHMuc3VwcG9ydE1vZGVsKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKCiAgICAgICAgICAgICAgICAgICAgcy5yZWdpc3RlckFuc3dlci5jbGFzcyA9IHJlcy5zdWNjZXNzID8gInZhbGlkIiA6ICJpbnZhbGlkIjsKICAgICAgICAgICAgICAgICAgICBzLnJlZ2lzdGVyQW5zd2VyLm1lc3NhZ2UgPSByZXMucmVhc29uOwogICAgICAgICAgICAgICAgICAgIHMuc3VwcG9ydFN1Y2Nlc3MgPSByZXMuc3VjY2VzczsKICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF9fX19fY29udGludWVTaG9wcGluZyA9ICR0aW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMucmVnaXN0ZXJBbnN3ZXIgPSB7Y2xhc3M6ICIiLCBtZXNzYWdlOiAiIn0KICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwMCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHMuc3VwcG9ydE1vZGVsID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgImNhdGVnb3J5Ijoge30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZW1haWwiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJwcm9kdWN0Ijoge30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAic3ViamVjdCI6ICIiCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgX19fX19jb250aW51ZVNob3BwaW5nID0gJHRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5zdXBwb3J0U3VjY2VzcyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5yZWdpc3RlckFuc3dlciA9IHtjbGFzczogIiIsIG1lc3NhZ2U6ICIifQogICAgICAgICAgICAgICAgICAgICAgICB9LCA2MDAwMCkKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgewoKICAgICAgICAgICAgICAgIH0pOwoKCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHMuY29udGludWVTaG9wcGluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGlmIChfX19fX2NvbnRpbnVlU2hvcHBpbmcpIHsKICAgICAgICAgICAgICAgICAgICBzLnN1cHBvcnRTdWNjZXNzID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgcy5yZWdpc3RlckFuc3dlciA9IHtjbGFzczogIiIsIG1lc3NhZ2U6ICIifQogICAgICAgICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChfX19fX2NvbnRpbnVlU2hvcHBpbmcpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzLmdvX3VwKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8qIGVuZCBzdXBvcnQgc2VjdGlvbiAqLwoKCiAgICAgICAgICAgIFNsaWRlci5BZGRTbGlkZXJMaXN0ZW5lcigpOwoKICAgICAgICAgICAgSGVscGVyLmZvckFsbFBhZ2UoKTsKCiAgICAgICAgICAgICQoJyNzY3JvbGxUb1RvcCcpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICQoJ2JvZHksIGh0bWwnKS5hbmltYXRlKHtzY3JvbGxUb3A6IDB9LCAxMDAwKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAkKHdpbmRvdykub24oewogICAgICAgICAgICAgICAgICAgIHNjcm9sbDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCh3aW5kb3cpLnNjcm9sbFRvcCgpID4gODAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjc2Nyb2xsVG9Ub3AnKS5zdG9wKCkuZmFkZUluKDMwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3Njcm9sbFRvVG9wJykuc3RvcCgpLmZhZGVPdXQoMzAwKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogcmVzaXplLAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBmdW5jdGlvbiByZXNpemUoKSB7CiAgICAgICAgICAgICAgICAgICAgdHVyblRoZU9yZGVyT2ZJbWFnZXNJbkNhdGVnb3JpZXNHcmlkKCkKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHJlc2l6ZSwgMCkKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHR1cm5UaGVPcmRlck9mSW1hZ2VzSW5DYXRlZ29yaWVzR3JpZCgpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbVRvTW92ZSA9ICQoIiNTcGVha2Vyc0ltZyIpOwogICAgICAgICAgICAgICAgICAgIHZhciBpbmRleFRvRmluZCA9ICJUYWJsZXRzSW1nIjsKICAgICAgICAgICAgICAgICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPD0gNDgwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1Ub01vdmUgPSAkKCIjVGFibGV0c0ltZyIpOwogICAgICAgICAgICAgICAgICAgICAgICBpbmRleFRvRmluZCA9ICJTcGVha2Vyc0ltZyI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChlbGVtVG9Nb3ZlLnByZXYoKS5hdHRyKCJpZCIpICYmIGVsZW1Ub01vdmUucHJldigpLmF0dHIoImlkIikuaW5kZXhPZihpbmRleFRvRmluZCkgIT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZWxlbVRvTW92ZS5wYXJlbnQoKS5wcmVwZW5kKGVsZW1Ub01vdmUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBzLm9wZW5DaGF0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyIHBhdGggPSBzZXJ2ZXIuY2F0YWxvZy5nZXRLZXkoKS5yZXBsYWNlKHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICcvLycsICIiKS5yZXBsYWNlKCIvYXBpL3YxIiwgIiIpOwogICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgic2VydmVyS2V5IiwgcGF0aCk7CgogICAgICAgICAgICAgICAgd2luZG93Lm9wZW4od2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIHdpbmRvdy5sb2NhdGlvbi5ob3N0ICsgIi9jaGF0Lmh0bWwiLCAiQWR2YW50YWdlIE9ubGluZSBTaG9wcGluZyBDaGF0IFdpbmRvd3MiLAogICAgICAgICAgICAgICAgICAgICJ3aWR0aD02NTBweCwgaGVpZ2h0PTQ1MHB4LCB0b3A9MzAwcHgsIGxlZnQ9MzAwcHgsIHNjcm9sbGJhcnM9bm8sIHJlc2l6YWJsZT1ubywgIiArCiAgICAgICAgICAgICAgICAgICAgImRpcmVjdG9yaWVzPW5vLCB0aXRsZWJhcj1ubywgdG9vbGJhcj1ubywgbG9jYXRpb249bm8sIHN0YXR1cz1ubywgbWVudWJhcj0wLCIpOwogICAgICAgICAgICB9CgoKICAgICAgICAgICAgcy5zbG93UGFnZVN0cmluZyA9ICJ5dHJkdWhibDtraXlnaXl0ZyI7CiAgICAgICAgICAgIGNhdGVnb3J5U2VydmljZS5udl9sb2FkVW51c2VTY3JpcHRzKCkudGhlbihmdW5jdGlvbihyZXMpewogICAgICAgICAgICAgICAgcy5zbG93UGFnZVN0cmluZyA9IHJlczsKICAgICAgICAgICAgfSk7CgoKCiAgICAgICAgfV0pOwp9KTsKLyoqCiAqIENyZWF0ZWQgYnkga3ViYW55IG9uIDEwLzE4LzIwMTUuCiAqLwoKZGVmaW5lKCdhcHAvY29udHJvbGxlcnMvY2F0ZWdvcnlDdHJsJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChjb250cm9sbGVycykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgY29udHJvbGxlcnMuY29udHJvbGxlcignY2F0ZWdvcnlDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgJ2NhdGVnb3J5U2VydmljZScsICdjYXRlZ29yeScsCiAgICAgICAgZnVuY3Rpb24gKHMsICRzdGF0ZVBhcmFtcywgY2F0ZWdvcnlTZXJ2aWNlLCBwYXJhbXNUb1JldHVybikgewoKICAgICAgICAgICAgcy5jYXRJZCA9ICRzdGF0ZVBhcmFtcy5pZDsKCiAgICAgICAgICAgIHMucGFyYW1zVG9QYXNzID0gcGFyYW1zVG9SZXR1cm47CgogICAgICAgICAgICBzLnZpZXdBbGwgPSBwYXJhbXNUb1JldHVybi52aWV3QWxsOwoKICAgICAgICAgICAgcy5jYXRlZ29yeURhdGEgPSBwYXJhbXNUb1JldHVybi5zZWFyY2hSZXN1bHQubGVuZ3RoID4gMCA/IHBhcmFtc1RvUmV0dXJuLnNlYXJjaFJlc3VsdFswXSA6IFtdOwoKICAgICAgICAgICAgcy5ub1Byb2R1Y3RzID0gcy5jYXRlZ29yeURhdGEucHJvZHVjdHMgPT0gdW5kZWZpbmVkIHx8IHMuY2F0ZWdvcnlEYXRhLnByb2R1Y3RzLmxlbmd0aCA9PSAwOwoKICAgICAgICAgICAgcy5jYXRlZ29yeU5hbWUgPSBwYXJhbXNUb1JldHVybi5jYXRlZ29yeU5hbWU7CgogICAgICAgICAgICBIZWxwZXIuZm9yQWxsUGFnZSgpOwoKICAgIH1dKTsKCn0pOwoKCgoKLy8vKioKLy8gKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDIxLzExLzIwMTUuCi8vICovCi8vCi8vZGVmaW5lKFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKGNvbnRyb2xsZXJzKSB7Ci8vICAgICd1c2Ugc3RyaWN0JzsKLy8gICAgY29udHJvbGxlcnMuY29udHJvbGxlcigncHJvZHVjdEN0cmwnLCBbJyRzY29wZScsICdyZXNvbHZlUGFyYW1zJywgJyRzdGF0ZScsICckZmlsdGVyJywKLy8gICAgICAgICckcm9vdFNjb3BlJywgJyR0aW1lb3V0JywKLy8KLy8gICAgICAgIGZ1bmN0aW9uIChzLCByZXNvbHZlUGFyYW1zLCAkc3RhdGUsICRmaWx0ZXIsICRyb290U2NvcGUsICR0aW1lb3V0KSB7Ci8vCi8vICAgICAgICAgICAgcy5wYWdlU3RhdGUgPSByZXNvbHZlUGFyYW1zLnBhZ2VTdGF0ZTsKLy8gICAgICAgICAgICB2YXIgcmVzb2x2ZVBhcmFtc19zZWxlY3RlZENvbG9yID0gcmVzb2x2ZVBhcmFtcy5zZWxlY3RlZENvbG9yOwovLwovLyAgICAgICAgICAgIHMubWVzc2FnZSA9IHt9OwovLyAgICAgICAgICAgIHMucXVhbnRpdHkgPSByZXNvbHZlUGFyYW1zLnF1YW50aXR5IHx8IDE7Ci8vICAgICAgICAgICAgcy5jYXRlZ29yeU5hbWUgPSByZXNvbHZlUGFyYW1zLmNhdGVnb3J5TmFtZTsKLy8gICAgICAgICAgICBzLnByb2R1Y3QgPSByZXNvbHZlUGFyYW1zLnByb2R1Y3Q7Ci8vICAgICAgICAgICAgcy5tb3N0UG9wdWxhckNvbW1lbnRzID0gcmVzb2x2ZVBhcmFtcy5tb3N0UG9wdWxhckNvbW1lbnRzCi8vCi8vICAgICAgICAgICAgcy5oYXZlSW50ZXJuZXQgPSByZXNvbHZlUGFyYW1zLmhhdmVJbnRlcm5ldDsKLy8KLy8gICAgICAgICAgICBzLnNob3dWaWRlbyA9IHMucHJvZHVjdC5wcm9kdWN0SWQgPT0gMjIgfHwgcy5wcm9kdWN0LnByb2R1Y3RJZCA9PSAxNSB8fCBzLnByb2R1Y3QucHJvZHVjdElkID09IDE2OwovLyAgICAgICAgICAgIHMuaW1hZ2VVcmwgPSBhbmd1bGFyLmNvcHkocy5wcm9kdWN0LmltYWdlVXJsKTsKLy8KLy8gICAgICAgICAgICBzLmdldEZpcnN0SW1hZ2VVcmwgPSBmdW5jdGlvbiAoKSB7Ci8vICAgICAgICAgICAgICAgIHMuaW1hZ2VzQXJyYXkgPSAkZmlsdGVyKCJnZXRBbGxJbWFnZXNCeUNvbG9yIikocy5wcm9kdWN0LmltYWdlcywgcy5jb2xvclNlbGVjdGVkLCBzLnByb2R1Y3QuaW1hZ2VVcmwpOwovLyAgICAgICAgICAgICAgICBzLmltYWdlVXJsID0gcy5pbWFnZXNBcnJheVswXTsKLy8gICAgICAgICAgICAgICAgcmV0dXJuIHMuaW1hZ2VzQXJyYXk7Ci8vICAgICAgICAgICAgfTsKLy8KLy8gICAgICAgICAgICBzLnByb2R1Y3RfYXR0cmlidXRlcyA9IEhlbHBlci5zb3J0QXR0cmlidXRlc0J5TmFtZShzLnByb2R1Y3QuYXR0cmlidXRlcyk7Ci8vCi8vICAgICAgICAgICAgaWYgKCFyZXNvbHZlUGFyYW1zLnNlbGVjdGVkQ29sb3IgJiYgcy5wcm9kdWN0LmNvbG9ycy5sZW5ndGggPiAwKSB7Ci8vICAgICAgICAgICAgICAgIHZhciBjb2xvcnMgPSBIZWxwZXIuc29ydEFycmF5QnlDb2xvck5hbWUocy5wcm9kdWN0LmNvbG9ycyk7Ci8vICAgICAgICAgICAgICAgIHMuY29sb3JTZWxlY3RlZCA9IGNvbG9yc1swXTsKLy8gICAgICAgICAgICB9Ci8vICAgICAgICAgICAgZWxzZSB7Ci8vICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcy5wcm9kdWN0LmNvbG9ycy5sZW5ndGg7IGkrKykgewovLyAgICAgICAgICAgICAgICAgICAgaWYgKHMucHJvZHVjdC5jb2xvcnNbaV0uY29kZSA9PSByZXNvbHZlUGFyYW1zLnNlbGVjdGVkQ29sb3IpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICBzLmNvbG9yU2VsZWN0ZWQgPSBzLnByb2R1Y3QuY29sb3JzW2ldOwovLyAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwovLyAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgfQovLwovLyAgICAgICAgICAgIHMuY29sb3JTZWxlY3RlZCA9IHMuY29sb3JTZWxlY3RlZCB8fCBzLnByb2R1Y3QuY29sb3JzWzBdOwovLyAgICAgICAgICAgIHMuZ2V0Rmlyc3RJbWFnZVVybCgpOwovLwovLyAgICAgICAgICAgIHMuYWRkVG9DYXJ0ID0gZnVuY3Rpb24gKGRpc2FibGUpIHsKLy8KLy8gICAgICAgICAgICAgICAgaWYgKGRpc2FibGUpIHsKLy8gICAgICAgICAgICAgICAgICAgIHJldHVybjsKLy8gICAgICAgICAgICAgICAgfQovLwovLyAgICAgICAgICAgICAgICB2YXIgcHJvZHVjdFRvQWRkID0gYW5ndWxhci5jb3B5KHMucHJvZHVjdCk7Ci8vICAgICAgICAgICAgICAgIHByb2R1Y3RUb0FkZC5jb2xvcnMgPSBbcy5jb2xvclNlbGVjdGVkXTsKLy8KLy8gICAgICAgICAgICAgICAgaWYgKHMucGFnZVN0YXRlID09ICdlZGl0JykgewovLyAgICAgICAgICAgICAgICAgICAgcy4kcGFyZW50LnVwZGF0ZVByb2R1Y3QocHJvZHVjdFRvQWRkLCBzLmNvbG9yU2VsZWN0ZWQsIHMucXVhbnRpdHksIHJlc29sdmVQYXJhbXNfc2VsZWN0ZWRDb2xvciwKLy8gICAgICAgICAgICAgICAgICAgICAgICAkZmlsdGVyKCJ0cmFuc2xhdGUiKSgidG9hc3RfUHJvZHVjdF9VcGRhdGVkX1N1Y2Nlc3NmdWxseSIpKS50aGVuKGZ1bmN0aW9uKHJlcyl7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzLm1lc3NhZ2UpewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLm1lc3NhZ2UudGV4dCA9IHJlcy5tZXNzYWdlOyAvL3MuX2NsYXNzID0gcmVzLnN1Y2Nlc3MgPyAidmFsaWQiIDogImludmFsaWQiOwovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihfX19fX3Byb2R1Y3RBZGRlZCl7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwoX19fX19wcm9kdWN0QWRkZWQpOwovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fX19fcHJvZHVjdEFkZGVkID0gJHRpbWVvdXQoZnVuY3Rpb24oKXsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMubWVzc2FnZS50ZXh0ID0gIiI7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLm1lc3NhZ2UuX2NsYXNzID0gIiI7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ3Nob3BwaW5nQ2FydCcpOwovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKTsKLy8gICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdzaG9wcGluZ0NhcnQnKTsKLy8gICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICB9KTsKLy8gICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICBlbHNlIHsKLy8gICAgICAgICAgICAgICAgICAgIHZhciBxdWFudGl0eSA9IHMucXVhbnRpdHk7Ci8vCi8vICAgICAgICAgICAgICAgICAgICB2YXIgdXNlciA9ICRyb290U2NvcGUudXNlckNvb2tpZTsKLy8gICAgICAgICAgICAgICAgICAgIGlmICghKHVzZXIgJiYgdXNlci5yZXNwb25zZSAmJiB1c2VyLnJlc3BvbnNlLnVzZXJJZCAhPSAtMSkpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHMuJHBhcmVudC5jYXJ0LnByb2R1Y3RzSW5DYXJ0Lmxlbmd0aDsgaSsrKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9kID0gcy4kcGFyZW50LmNhcnQucHJvZHVjdHNJbkNhcnRbaV07Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9kLnByb2R1Y3RJZCA9PSBwcm9kdWN0VG9BZGQucHJvZHVjdElkICYmIHByb2QuY29sb3IuY29kZSA9PSBzLmNvbG9yU2VsZWN0ZWQuY29kZSkgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2QucXVhbnRpdHkgKyBxdWFudGl0eSA+IHMucHJvZHVjdC5jb2xvcnNbMF0uaW5TdG9jaykgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YW50aXR5ID0gcy5wcm9kdWN0LmNvbG9yc1swXS5pblN0b2NrIC0gcHJvZC5xdWFudGl0eTsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgIGlmIChxdWFudGl0eSA+IDApIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdCA9IHMuJHBhcmVudC5hZGRQcm9kdWN0KHByb2R1Y3RUb0FkZCwgcXVhbnRpdHksICRmaWx0ZXIoInRyYW5zbGF0ZSIpKCJ0b2FzdF9Qcm9kdWN0X0FkZGVkX1N1Y2Nlc3NmdWxseSIpKTsKLy8gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LnRoZW4oZnVuY3Rpb24gKHJlcykgewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihyZXMubWVzc2FnZSl7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLm1lc3NhZ2UudGV4dCA9IHJlcy5tZXNzYWdlOyAvL3MuX2NsYXNzID0gcmVzLnN1Y2Nlc3MgPyAidmFsaWQiIDogImludmFsaWQiOwovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoX19fX19wcm9kdWN0QWRkZWQpewovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChfX19fX3Byb2R1Y3RBZGRlZCk7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX19fX3Byb2R1Y3RBZGRlZCA9ICR0aW1lb3V0KGZ1bmN0aW9uKCl7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5tZXNzYWdlLnRleHQgPSAiIjsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLm1lc3NhZ2UuX2NsYXNzID0gIiI7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA0MDAwKTsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICAgICAgICAgIH0pOwovLyAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgfTsKLy8gICAgICAgICAgICB2YXIgX19fX19wcm9kdWN0QWRkZWQ7Ci8vCi8vCi8vICAgICAgICAgICAgcy5jaGFuZ2VJbWFnZSA9IGZ1bmN0aW9uIChpbWcpIHsKLy8gICAgICAgICAgICAgICAgcy5pbWFnZVVybCA9IGltZzsKLy8gICAgICAgICAgICB9OwovLwovLyAgICAgICAgICAgIHMuc2V0Q29sb3IgPSBmdW5jdGlvbiAoY29sb3IpIHsKLy8gICAgICAgICAgICAgICAgcy5pbWFnZVVybCA9IHMucHJvZHVjdC5pbWFnZVVybDsKLy8gICAgICAgICAgICAgICAgcy5jb2xvclNlbGVjdGVkID0gY29sb3I7Ci8vICAgICAgICAgICAgICAgIHMuZ2V0Rmlyc3RJbWFnZVVybCgpOwovLyAgICAgICAgICAgIH07Ci8vCi8vICAgICAgICAgICAgSGVscGVyLmZvckFsbFBhZ2UoKTsKLy8KLy8gICAgICAgICAgICBjb25zb2xlLmxvZygicmVzb2x2ZVBhcmFtcyIpOwovLyAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc29sdmVQYXJhbXMpOwovLwovLwovLyAgICAgICAgICAgIHMubmV4dFJldmlldyA9IGZ1bmN0aW9uKCl7Ci8vICAgICAgICAgICAgICAgIGlmKHNsaWRlckluZGV4ICsgMSA+PSBzLm1vc3RQb3B1bGFyQ29tbWVudHMubGVuZ3RoKXsKLy8gICAgICAgICAgICAgICAgICAgIHJldHVybjsKLy8gICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICBzbGlkZXJJbmRleCsrOwovLyAgICAgICAgICAgICAgICByZXZpZXdHbygpOwovLyAgICAgICAgICAgIH07Ci8vICAgICAgICAgICAgcy5wcmV2aW91c1JldmlldyA9IGZ1bmN0aW9uKCl7Ci8vICAgICAgICAgICAgICAgIGlmKHNsaWRlckluZGV4ID09IDApewovLyAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwovLyAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgIHNsaWRlckluZGV4LS07Ci8vICAgICAgICAgICAgICAgIHJldmlld0dvKCk7Ci8vICAgICAgICAgICAgfTsKLy8gICAgICAgICAgICBmdW5jdGlvbiByZXZpZXdHbygpewovLyAgICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwoc2xpZGVyX2ludGVydmFsKTsKLy8gICAgICAgICAgICAgICAgc2xpZGVySGFuZGxlcigpOwovLyAgICAgICAgICAgIH0KLy8gICAgICAgICAgICBmdW5jdGlvbiByZXZpZXdHb3RvTmV3KCl7Ci8vICAgICAgICAgICAgICAgIHNsaWRlckluZGV4Kys7Ci8vICAgICAgICAgICAgICAgIHNsaWRlckhhbmRsZXIoKTsKLy8gICAgICAgICAgICB9Ci8vCi8vCi8vICAgICAgICAgICAgdmFyIHNsaWRlckluZGV4ID0gMDsKLy8gICAgICAgICAgICB2YXIgc2xpZGVyX2ludGVydmFsOwovLyAgICAgICAgICAgIHJldmlld0dvKCk7Ci8vICAgICAgICAgICAgZnVuY3Rpb24gc2xpZGVySGFuZGxlcigpewovLwovLyAgICAgICAgICAgICAgICB2YXIgbGVmdCA9IHNsaWRlckluZGV4IDwgcy5tb3N0UG9wdWxhckNvbW1lbnRzLmxlbmd0aCA/Ci8vICAgICAgICAgICAgICAgICItIiArICgkKCIjcHJvZHVjdF8yIC5yZXZpZXdzIikud2lkdGgoKSAqIHNsaWRlckluZGV4KSA6IDA7Ci8vCi8vICAgICAgICAgICAgICAgIGlmKGxlZnQgPT0gMCl7IHNsaWRlckluZGV4ID0gMDsgfQovLwovLyAgICAgICAgICAgICAgICAkKCIjcHJvZHVjdF8yIC5yZXZpZXdzIC5yZXZpZXdzQ292ZXIiKS5jc3MoeyBsZWZ0OiBsZWZ0ICsgInB4IiB9KTsKLy8KLy8gICAgICAgICAgICAgICAgJCgiI3Byb2R1Y3RfMiAucmV2aWV3cyAucmlnaHRBcnJvdyBpbWciKS5hdHRyKCJzcmMiLCIuLi8uLi9jc3MvaW1hZ2VzL3Jldmlld19yaWdodCIgKwovLyAgICAgICAgICAgICAgICAgICAgKHNsaWRlckluZGV4ICsgMSA8IHMubW9zdFBvcHVsYXJDb21tZW50cy5sZW5ndGggPyAiIiA6ICJfZGlzYWJsZWQiKSArIi5wbmciKQovLwovLyAgICAgICAgICAgICAgICAkKCIjcHJvZHVjdF8yIC5yZXZpZXdzIC5sZWZ0QXJyb3cgaW1nIikuYXR0cigic3JjIiwgIi4uLy4uL2Nzcy9pbWFnZXMvcmV2aWV3X0xlZnQiCi8vICAgICAgICAgICAgICAgICAgICArIChzbGlkZXJJbmRleCA9PSAwID8gIl9kaXNhYmxlZCIgOiAiIikgKyIucG5nIikKLy8KLy8gICAgICAgICAgICAgICAgaWYoZG9jdW1lbnQubG9jYXRpb24uaGFzaC5pbmRleE9mKCIvcHJvZHVjdC8iKSAhPSAtMSl7Ci8vICAgICAgICAgICAgICAgICAgICBzbGlkZXJfaW50ZXJ2YWwgPSAkdGltZW91dChyZXZpZXdHb3RvTmV3LCAxMjAwMCk7Ci8vICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICB9Ci8vICAgICAgICB9XSk7Ci8vfSk7Ci8vCi8vCi8vCi8vCi8vCi8vLyoqCi8vICogQ3JlYXRlZCBieSBjb3JyZW50aSBvbiAyMS8xMS8yMDE1LgovLyAqLwovLwovLwovLwovLy8qCi8vIHZhciBpbWcgPSAkKCIjaW1nVG9CdXkiKS5jbG9uZSgpOwovLyB2YXIgaW1nUG9zcyA9ICQoIiNpbWdUb0J1eSIpLm9mZnNldCgpOwovLyB2YXIgbWFpbkNhcnRQb3NzaXRpb24gPSAkKCIjbWFpbkNhcnQiKS5vZmZzZXQoKTsKLy8KLy8gaW1nLmNzcyh7Ci8vICJwb3NpdGlvbiIgOiAiYWJzb2x1dGUiLAovLyAidG9wIjogaW1nUG9zcy50b3AgKyAicHgiLAovLyAibGVmdCI6IGltZ1Bvc3MubGVmdCArICJweCIsCi8vICJkaXNwbGF5IiA6ICJub25lIiwKLy8gfSkKLy8gaW1nLmFwcGVuZFRvKCIjcHJvZHVjdC1pbWFnZSIpOwovLyBpbWcuZmFkZUluKDEwMDAsIGZ1bmN0aW9uKCl7Ci8vIGltZy5hbmltYXRlKHsKLy8gdG9wIDogbWFpbkNhcnRQb3NzaXRpb24udG9wICsgNSwKLy8gbGVmdCA6IG1haW5DYXJ0UG9zc2l0aW9uLmxlZnQgKyAxMCwKLy8gd2lkdGg6IDEwLAovLyBoZWlnaHQ6IDEwLAovLyBvcGFjaXR5OiAwLjMKLy8gfSwgMTAwMCwgZnVuY3Rpb24oKXsKLy8gaW1nLnJlbW92ZSgpOwovLyAvLyRyb290U2NvcGUudXNlci5jYXJ0LmxhcHRvcHMucHVzaCgkc2NvcGUucHJvZHVjdCkgPSBnZXQgdXNlcgovLyB9KTsKLy8gfSkKLy8gKi8KLyoqCiAqIENyZWF0ZWQgYnkgY29ycmVudGkgb24gMjEvMTEvMjAxNS4KICovCgpkZWZpbmUoJ2FwcC9jb250cm9sbGVycy9wcm9kdWN0Q3RybCcsWycuL21vZHVsZSddLCBmdW5jdGlvbiAoY29udHJvbGxlcnMpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ3Byb2R1Y3RDdHJsJywgWyckc2NvcGUnLCAncmVzb2x2ZVBhcmFtcycsICckc3RhdGUnLCAnJGZpbHRlcicsCiAgICAgICAgJyRyb290U2NvcGUnLCAnJHRpbWVvdXQnLCAnY2F0ZWdvcnlTZXJ2aWNlJywgJyRzY2UnLCAnJGRvY3VtZW50JywgJyR3aW5kb3cnLCAndXNlclNlcnZpY2UnLAoKICAgICAgICBmdW5jdGlvbiAocywgcmVzb2x2ZVBhcmFtcywgJHN0YXRlLCAkZmlsdGVyLCAkcm9vdFNjb3BlLCAkdGltZW91dCwgY2F0ZWdvcnlTZXJ2aWNlLCAkc2NlLCBkb2N1bWVudCwgJHdpbmRvdywgdXNlclNlcnZpY2UpIHsKCiAgICAgICAgICAgIHMucGFnZVN0YXRlID0gcmVzb2x2ZVBhcmFtcy5wYWdlU3RhdGU7CiAgICAgICAgICAgIHZhciByZXNvbHZlUGFyYW1zX3NlbGVjdGVkQ29sb3IgPSByZXNvbHZlUGFyYW1zLnNlbGVjdGVkQ29sb3I7CgogICAgICAgICAgICBzLm1lc3NhZ2UgPSB7fTsKICAgICAgICAgICAgcy5xdWFudGl0eSA9IHJlc29sdmVQYXJhbXMucXVhbnRpdHkgfHwgMTsKICAgICAgICAgICAgcy5jYXRlZ29yeU5hbWUgPSByZXNvbHZlUGFyYW1zLmNhdGVnb3J5TmFtZTsKICAgICAgICAgICAgcy5wcm9kdWN0ID0gcmVzb2x2ZVBhcmFtcy5wcm9kdWN0OwogICAgICAgICAgICBzLm1vc3RQb3B1bGFyQ29tbWVudHMgPSBbXTsKICAgICAgICAgICAgcy53YXJyYW50eVByaWNlID0gMTAwOwogICAgICAgICAgICBzLmhhdmVJbnRlcm5ldCA9IHJlc29sdmVQYXJhbXMuaGF2ZUludGVybmV0OwogICAgICAgICAgICBzLndhcnJhbnR5UHJvcGVydGllcyA9IHtlbmFibGVXYXJyYW50eSA6IGZhbHNlfQogICAgICAgICAgICB1c2VyU2VydmljZS5oYXZlQ29uZmlndXJhdGlvbigpLnRoZW4oZnVuY3Rpb24ocmVzKXsKICAgICAgICAgICAgICAgICAgICBzLndhcnJhbnR5UHJvcGVydGllcyA9IHVzZXJTZXJ2aWNlLmdldFdhcnJhbnR5UHJvcGVydGllcygpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGVycil7CgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBzLndhcnJhbnR5Q2hlY2tib3ggPSBmYWxzZTsKICAgICAgICAgICAgcy5icmVhZENydW1iQ2F0ZWdvcnlOYW1lID0gcy5jYXRlZ29yeU5hbWUuc3Vic3RyaW5nKDAsMSkgKyBzLmNhdGVnb3J5TmFtZS5zdWJzdHJpbmcoMSwgcy5jYXRlZ29yeU5hbWUubGVuZ3RoLTEpLnRvTG93ZXJDYXNlKCkKICAgICAgICAgICAgaWYocy5wcm9kdWN0LnByb2R1Y3RJZCA9PSAyMiB8fCBzLnByb2R1Y3QucHJvZHVjdElkID09IDE1IHx8IHMucHJvZHVjdC5wcm9kdWN0SWQgPT0gMTYpewogICAgICAgICAgICAgICAgcy5zcmNWMSA9ICRzY2UudHJ1c3RBc0h0bWwoIjx2aWRlbyBjb250cm9scyA+PHNvdXJjZSBzcmM9Jy4uLy4uL2Nzcy92aWRlb3MvMTM1NDMzNjFfMjk5ODIzOTIzNjg4ODI0XzE0MTAwMDUxNDRfbi5tcDQnPjwvdmlkZW8+Iik7CiAgICAgICAgICAgICAgICBzLnNob3dWaWRlbyA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgIHMuc2hvd1ZpZGVvID0gZmFsc2U7CiAgICAgICAgICAgICAgICBzLnNyY1YxID0gIiI7fQoKICAgICAgICAgICAgcy5pbWFnZVVybCA9IGFuZ3VsYXIuY29weShzLnByb2R1Y3QuaW1hZ2VVcmwpOwoKICAgICAgICAgICAgcy5nZXRGaXJzdEltYWdlVXJsID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcy5pbWFnZXNBcnJheSA9ICRmaWx0ZXIoImdldEFsbEltYWdlc0J5Q29sb3IiKShzLnByb2R1Y3QuaW1hZ2VzLCBzLmNvbG9yU2VsZWN0ZWQsIHMucHJvZHVjdC5pbWFnZVVybCk7CiAgICAgICAgICAgICAgICBzLmltYWdlVXJsID0gcy5pbWFnZXNBcnJheVswXTsKICAgICAgICAgICAgICAgIHJldHVybiBzLmltYWdlc0FycmF5OwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgcy5wcm9kdWN0X2F0dHJpYnV0ZXMgPSBIZWxwZXIuc29ydEF0dHJpYnV0ZXNCeU5hbWUocy5wcm9kdWN0LmF0dHJpYnV0ZXMpOwoKICAgICAgICAgICAgaWYgKCFyZXNvbHZlUGFyYW1zLnNlbGVjdGVkQ29sb3IgJiYgcy5wcm9kdWN0LmNvbG9ycy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICB2YXIgY29sb3JzID0gSGVscGVyLnNvcnRBcnJheUJ5Q29sb3JOYW1lKHMucHJvZHVjdC5jb2xvcnMpOwogICAgICAgICAgICAgICAgLy9Gcm9tIGhlcmUgdG8gbGluZSAyNjcgd2Ugb3JnYW5pemUgdGhlIGNvbG9yIGFycmF5IHRvIHN0YXJ0IHdpdGggdGhlIGNvbG9yIGluIHRoZQogICAgICAgICAgICAgICAgLy9jYXRlZ29yeSBzZWN0aW9uLgogICAgICAgICAgICAgICAgLy8gdmFyIGltYWdlVXJsSW5Qcm9kdWN0SW1hZ2VzID0gcy5wcm9kdWN0LmltYWdlcy5maW5kKGZ1bmN0aW9uKGltYWdlKSB7CiAgICAgICAgICAgICAgICAvLyAgICAgcmV0dXJuIGltYWdlLnN1YnN0cmluZyg4KT09IHMuaW1hZ2VVcmw7CiAgICAgICAgICAgICAgICAvLyB9KTsKICAgICAgICAgICAgICAgIHZhciBpbWFnZVVybEluUHJvZHVjdEltYWdlcyA9IGFsdEZpbmQocy5wcm9kdWN0LmltYWdlcywgZnVuY3Rpb24oaW1hZ2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW1hZ2Uuc3Vic3RyaW5nKDgpPT0gcy5pbWFnZVVybDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgLy8gcy5maXJzdEltYWdlVG9TaG93ID0gY29sb3JzLmZpbmQoZnVuY3Rpb24gKGNvbG9yKSB7CiAgICAgICAgICAgICAgICAvLyAgICAgcmV0dXJuIGNvbG9yLmNvZGUgPT0gaW1hZ2VVcmxJblByb2R1Y3RJbWFnZXMuc3Vic3RyaW5nKDAsIDYpOwogICAgICAgICAgICAgICAgLy8gfSk7CiAgICAgICAgICAgICAgICBzLmZpcnN0SW1hZ2VUb1Nob3cgPSBhbHRGaW5kKGNvbG9ycywgZnVuY3Rpb24oY29sb3IpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29sb3IuY29kZSA9PSBpbWFnZVVybEluUHJvZHVjdEltYWdlcy5zdWJzdHJpbmcoMCwgNik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIC8vRGFtYWdlZCBpbWFnZXMgcHJvZHVjdHMuCiAgICAgICAgICAgICAgICBpZiAoIXMuZmlyc3RJbWFnZVRvU2hvdyl7CiAgICAgICAgICAgICAgICAgICAgcy5jb2xvclNlbGVjdGVkID0gY29sb3JzWzBdOwogICAgICAgICAgICAgICAgICAgIC8vVGVzdGluZyBpc3N1ZSBvdmVyIGhlcmUuIFNpbmNlIHRoZXJlIGFyZSB0d28gaWRlbnRpY2FsIGVsZW1lbnRzIGhlcmUgICdsZWFuRlQgJyBnZXRzIGNvbmZ1c2VkLCB0aGlzIGlzIHRoZSByZWFzb24gZm9yIHRoaXMgY2xhc3Nlcy4KICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNvbWVWYXIgPSBkb2N1bWVudFswXS5nZXRFbGVtZW50QnlJZCgncmFiYml0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoc29tZVZhcikucmVtb3ZlQ2xhc3MoJ3JhYmJpdCcpOwogICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKTsKCiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vU29ydGluZyB0aGUgaW1hZ2UgZnJvbSBjYXRlZ29yeSBwYWdlIHRvIGJlIHRoZSBiZSBpbWFnZSB0byBzaG93IGFuZCBmaXJzdCBpbiAnY29sb3JzJy4KICAgICAgICAgICAgICAgICAgICBjb2xvcnMgPSAkZmlsdGVyKCdmaWx0ZXInKShjb2xvcnMsIGZ1bmN0aW9uIChjb2xvcikgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29sb3IubmFtZSAhPSBzLmZpcnN0SW1hZ2VUb1Nob3cubmFtZTsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIGNvbG9ycy51bnNoaWZ0KHMuZmlyc3RJbWFnZVRvU2hvdyk7CiAgICAgICAgICAgICAgICAgICAgcy5jb2xvclNlbGVjdGVkID0gY29sb3JzWzBdOwogICAgICAgICAgICAgICAgICAgIHMuY29sb3JzID0gY29sb3JzOwogICAgICAgICAgICAgICAgICAgIC8vVGVzdGluZyBpc3N1ZSBvdmVyIGhlcmUuIFNpbmNlIHRoZXJlIGFyZSB0d28gaWRlbnRpY2FsIGVsZW1lbnRzIGhlcmUgICdsZWFuRlQgJyBnZXRzIGNvbmZ1c2VkLCB0aGlzIGlzIHRoZSByZWFzb24gZm9yIHRoaXMgY2xhc3Nlcy4KICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNvbWVWYXIgPSBkb2N1bWVudFswXS5nZXRFbGVtZW50QnlJZCgnYnVubnknKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChzb21lVmFyKS5yZW1vdmVDbGFzcygnYnVubnknKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwMCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzLnByb2R1Y3QuY29sb3JzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHMucHJvZHVjdC5jb2xvcnNbaV0uY29kZSA9PSByZXNvbHZlUGFyYW1zLnNlbGVjdGVkQ29sb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcy5jb2xvclNlbGVjdGVkID0gcy5wcm9kdWN0LmNvbG9yc1tpXTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgoKICAgICAgICAgICAgZnVuY3Rpb24gYWx0RmluZChsaXN0LCBjYWxsYmFjaykgewogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gY2FsbGJhY2sobGlzdFtpXSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsaXN0W2ldOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgcy5jb2xvclNlbGVjdGVkID0gcy5jb2xvclNlbGVjdGVkIHx8IHMucHJvZHVjdC5jb2xvcnNbMF07CiAgICAgICAgICAgIHMuZ2V0Rmlyc3RJbWFnZVVybCgpOwoKICAgICAgICAgICAgcy5hZGRUb0NhcnQgPSBmdW5jdGlvbiAoZGlzYWJsZSkgewoKICAgICAgICAgICAgICAgIGlmIChkaXNhYmxlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHZhciBwcm9kdWN0VG9BZGQgPSBhbmd1bGFyLmNvcHkocy5wcm9kdWN0KTsKICAgICAgICAgICAgICAgIHByb2R1Y3RUb0FkZC5jb2xvcnMgPSBbcy5jb2xvclNlbGVjdGVkXTsKCiAgICAgICAgICAgICAgICBpZiAocy5wYWdlU3RhdGUgPT0gJ2VkaXQnKSB7CiAgICAgICAgICAgICAgICAgICAgcy4kcGFyZW50LnVwZGF0ZVByb2R1Y3QocHJvZHVjdFRvQWRkLCBzLmNvbG9yU2VsZWN0ZWQsIHMucXVhbnRpdHksIHJlc29sdmVQYXJhbXNfc2VsZWN0ZWRDb2xvciwKICAgICAgICAgICAgICAgICAgICAgICAgJGZpbHRlcigidHJhbnNsYXRlIikoInRvYXN0X1Byb2R1Y3RfVXBkYXRlZF9TdWNjZXNzZnVsbHkiKSkudGhlbihmdW5jdGlvbihyZXMpewogICAgICAgICAgICAgICAgICAgICAgICBpZihyZXMubWVzc2FnZSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLm1lc3NhZ2UudGV4dCA9IHJlcy5tZXNzYWdlOyAvL3MuX2NsYXNzID0gcmVzLnN1Y2Nlc3MgPyAidmFsaWQiIDogImludmFsaWQiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoX19fX19wcm9kdWN0QWRkZWQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChfX19fX3Byb2R1Y3RBZGRlZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX19fX3Byb2R1Y3RBZGRlZCA9ICR0aW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5tZXNzYWdlLnRleHQgPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLm1lc3NhZ2UuX2NsYXNzID0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdzaG9wcGluZ0NhcnQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMDApOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ3Nob3BwaW5nQ2FydCcpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcXVhbnRpdHkgPSBzLnF1YW50aXR5OwogICAgICAgICAgICAgICAgICAgIHZhciB1c2VyID0gJHJvb3RTY29wZS51c2VyQ29va2llOwogICAgICAgICAgICAgICAgICAgIGlmICghKHVzZXIgJiYgdXNlci5yZXNwb25zZSAmJiB1c2VyLnJlc3BvbnNlLnVzZXJJZCAhPSAtMSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYocy5wcm9kdWN0LmNvbG9yc1swXSA9PSBudWxsIHx8IHF1YW50aXR5ID4gcy5wcm9kdWN0LmNvbG9yc1swXS5pblN0b2NrKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMubWVzc2FnZS50ZXh0ID0gJGZpbHRlcigidHJhbnNsYXRlIikoJ1BST0RVQ1RfUVVBTlRJVFlfRVJST1JfTUVTU0FHRScpLmZvcm1hdChzLnByb2R1Y3QuY29sb3JzWzBdID09IG51bGwgPyAwIDogcy5wcm9kdWN0LmNvbG9yc1swXS5pblN0b2NrKTsgLy9zLl9jbGFzcyA9IHJlcy5zdWNjZXNzID8gInZhbGlkIiA6ICJpbnZhbGlkIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKF9fX19fcHJvZHVjdEFkZGVkKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwoX19fX19wcm9kdWN0QWRkZWQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgX19fX19wcm9kdWN0QWRkZWQgPSAkdGltZW91dChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMubWVzc2FnZS50ZXh0ID0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5tZXNzYWdlLl9jbGFzcyA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNDAwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eSA9IHMucHJvZHVjdC5jb2xvcnNbMF0uaW5TdG9jazsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzLiRwYXJlbnQuY2FydC5wcm9kdWN0c0luQ2FydC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb2QgPSBzLiRwYXJlbnQuY2FydC5wcm9kdWN0c0luQ2FydFtpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9kLnByb2R1Y3RJZCA9PSBwcm9kdWN0VG9BZGQucHJvZHVjdElkICYmIHByb2QuY29sb3IuY29kZSA9PSBzLmNvbG9yU2VsZWN0ZWQuY29kZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9kLnF1YW50aXR5ICsgcXVhbnRpdHkgPiBzLnByb2R1Y3QuY29sb3JzWzBdLmluU3RvY2spIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHkgPSBzLnByb2R1Y3QuY29sb3JzWzBdLmluU3RvY2sgLSBwcm9kLnF1YW50aXR5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAocXVhbnRpdHkgPiAwKSB7CgogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdCA9IHMuJHBhcmVudC5hZGRQcm9kdWN0KHByb2R1Y3RUb0FkZCwgcXVhbnRpdHksIHMud2FycmFudHlDaGVja2JveCwgJGZpbHRlcigidHJhbnNsYXRlIikoInRvYXN0X1Byb2R1Y3RfQWRkZWRfU3VjY2Vzc2Z1bGx5IikpOwogICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzLm1lc3NhZ2UpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMubWVzc2FnZS50ZXh0ID0gcmVzLm1lc3NhZ2U7IC8vcy5fY2xhc3MgPSByZXMuc3VjY2VzcyA/ICJ2YWxpZCIgOiAiaW52YWxpZCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoX19fX19wcm9kdWN0QWRkZWQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwoX19fX19wcm9kdWN0QWRkZWQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX19fX3Byb2R1Y3RBZGRlZCA9ICR0aW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMubWVzc2FnZS50ZXh0ID0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMubWVzc2FnZS5fY2xhc3MgPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA0MDAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKXsKCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgdmFyIF9fX19fcHJvZHVjdEFkZGVkOwoKCiAgICAgICAgICAgIHMuY2hhbmdlSW1hZ2UgPSBmdW5jdGlvbiAoaW1nKSB7CiAgICAgICAgICAgICAgICBzLmltYWdlVXJsID0gaW1nOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgcy5zZXRDb2xvciA9IGZ1bmN0aW9uIChjb2xvciwgZSkgewogICAgICAgICAgICAgICAgcy5pbWFnZVVybCA9IHMucHJvZHVjdC5pbWFnZVVybDsKICAgICAgICAgICAgICAgIHMuY29sb3JTZWxlY3RlZCA9IGNvbG9yOwogICAgICAgICAgICAgICAgcy5nZXRGaXJzdEltYWdlVXJsKCk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICBIZWxwZXIuZm9yQWxsUGFnZSgpOwoKICAgICAgICAgICAgcy5uZXh0UmV2aWV3ID0gZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIGlmKHNsaWRlckluZGV4ICsgMSA+PSBzLm1vc3RQb3B1bGFyQ29tbWVudHMubGVuZ3RoKXsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzbGlkZXJJbmRleCsrOwogICAgICAgICAgICAgICAgcmV2aWV3R28oKTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIHMucHJldmlvdXNSZXZpZXcgPSBmdW5jdGlvbigpewogICAgICAgICAgICAgICAgaWYoc2xpZGVySW5kZXggPT0gMCl7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2xpZGVySW5kZXgtLTsKICAgICAgICAgICAgICAgIHJldmlld0dvKCk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICBmdW5jdGlvbiByZXZpZXdHbygpewogICAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHNsaWRlcl9pbnRlcnZhbCk7CiAgICAgICAgICAgICAgICBzbGlkZXJIYW5kbGVyKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHJldmlld0dvdG9OZXcoKXsKICAgICAgICAgICAgICAgIHNsaWRlckluZGV4Kys7CiAgICAgICAgICAgICAgICBzbGlkZXJIYW5kbGVyKCk7CiAgICAgICAgICAgIH0KCgogICAgICAgICAgICB2YXIgc2xpZGVySW5kZXggPSAwOwogICAgICAgICAgICB2YXIgc2xpZGVyX2ludGVydmFsOwoKICAgICAgICAgICAgZnVuY3Rpb24gc2xpZGVySGFuZGxlcigpewoKICAgICAgICAgICAgICAgIHZhciBsZWZ0ID0gc2xpZGVySW5kZXggPCBzLm1vc3RQb3B1bGFyQ29tbWVudHMubGVuZ3RoID8KICAgICAgICAgICAgICAgICItIiArICgkKCIjcHJvZHVjdF8yIC5yZXZpZXdzIikud2lkdGgoKSAqIHNsaWRlckluZGV4KSA6IDA7CgogICAgICAgICAgICAgICAgaWYobGVmdCA9PSAwKXsgc2xpZGVySW5kZXggPSAwOyB9CgogICAgICAgICAgICAgICAgJCgiI3Byb2R1Y3RfMiAucmV2aWV3cyAucmV2aWV3c0NvdmVyIikuY3NzKHsgbGVmdDogbGVmdCArICJweCIgfSk7CgogICAgICAgICAgICAgICAgJCgiI3Byb2R1Y3RfMiAucmV2aWV3cyAucmlnaHRBcnJvdyBpbWciKS5hdHRyKCJzcmMiLCIuLi8uLi9jc3MvaW1hZ2VzL3Jldmlld19yaWdodCIgKwogICAgICAgICAgICAgICAgICAgIChzbGlkZXJJbmRleCArIDEgPCBzLm1vc3RQb3B1bGFyQ29tbWVudHMubGVuZ3RoID8gIiIgOiAiX2Rpc2FibGVkIikgKyIucG5nIikKCiAgICAgICAgICAgICAgICAkKCIjcHJvZHVjdF8yIC5yZXZpZXdzIC5sZWZ0QXJyb3cgaW1nIikuYXR0cigic3JjIiwgIi4uLy4uL2Nzcy9pbWFnZXMvcmV2aWV3X0xlZnQiCiAgICAgICAgICAgICAgICAgICAgKyAoc2xpZGVySW5kZXggPT0gMCA/ICJfZGlzYWJsZWQiIDogIiIpICsiLnBuZyIpCgogICAgICAgICAgICAgICAgaWYoZG9jdW1lbnQubG9jYXRpb24uaGFzaC5pbmRleE9mKCIvcHJvZHVjdC8iKSAhPSAtMSl7CiAgICAgICAgICAgICAgICAgICAgc2xpZGVyX2ludGVydmFsID0gJHRpbWVvdXQocmV2aWV3R290b05ldywgMTIwMDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZihzLnByb2R1Y3QuY2F0ZWdvcnlJZCA9PSAyKQogICAgICAgICAgICAgICAgY2F0ZWdvcnlTZXJ2aWNlLmdldE1vc3RQb3B1bGFyQ29tbWVudHMocy5wcm9kdWN0LmNhdGVnb3J5SWQpLnRoZW4oZnVuY3Rpb24ocmVzKXsKICAgICAgICAgICAgICAgICAgICBzLm1vc3RQb3B1bGFyQ29tbWVudHMgPSByZXM7CiAgICAgICAgICAgICAgICAgICAgcmV2aWV3R28oKTsKICAgICAgICAgICAgICAgIH0pOwoKCiAgICAgICAgICAgIHMuYWRkV2FycmVudHkgPSBmdW5jdGlvbigpewogICAgICAgICAgICAgICAgaWYocy53YXJyYW50eUNoZWNrYm94KXsKICAgICAgICAgICAgICAgICAgICBzLnByb2R1Y3QucHJpY2UgKz0gcy53YXJyYW50eVByaWNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICBzLnByb2R1Y3QucHJpY2UgLT0gcy53YXJyYW50eVByaWNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfQoKCiAgICAgICAgfV0pOwoKCgoKCn0pOwoKCgoKLyoqCiAqIENyZWF0ZWQgYnkgY29ycmVudGkgb24gMTgvMDIvMjAxNi4KICovCgpkZWZpbmUoJ2FwcC9jb250cm9sbGVycy9zdXBwb3J0Q3RybCcsWycuL21vZHVsZSddLCBmdW5jdGlvbiAoY29udHJvbGxlcnMpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ3N1cHBvcnRDdHJsJywgWyckc2NvcGUnLCAncmVnaXN0ZXJTZXJ2aWNlJywKCiAgICAgICAgZnVuY3Rpb24gKHMsIHJlZ2lzdGVyU2VydmljZSkgewoKICAgICAgICAgICAgcy5ob2xhX211bmRvID0gImhvbGFfbXVuZG9ob2xhX211bmRvaG9sYV9tdW5kb2hvbGFfbXVuZG8iCgogICAgICAgICAgICAvL3MubW9kZWwgPSAiIjsKICAgICAgICAgICAgcy5tb2RlbDIgPSAidEB5LnNlYyI7CiAgICAgICAgICAgIHMubW9kZWwzID0gImVAZS5zZWMiOwogICAgICAgICAgICBzLm1vZGVsNCA9ICJyQHIuc2VjIjsKCiAgICAgICAgICAgIHMubW9kZWwzMCA9IG51bGw7CgogICAgICAgICAgICBzLmlzU2VuZGVkID0gZnVuY3Rpb24gKHNlbmRlZCkgewogICAgICAgICAgICAgICAgYWxlcnQoc2VuZGVkKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy9zLmlzU2VuZGVkID0gZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgICAgIC8vICAgIGNvbnNvbGUubG9nKHZhbGlkKTsKICAgICAgICAgICAgLy99CgogICAgICAgICAgICAvL25nLW9wdGlvbnM9ImNvdW50cnkubmFtZSBmb3IgY291bnRyeSBpbiBjb3VudHJpZXMgdHJhY2sgYnkgY291bnRyeS5pZCIKCgogICAgICAgICAgICBzLmNvdW50cmllczsKICAgICAgICAgICAgcmVnaXN0ZXJTZXJ2aWNlLmdldEFsbENvdW50cmllcygpLnRoZW4oZnVuY3Rpb24gKGNvdW50cmllcykgewogICAgICAgICAgICAgICAgcy5jb3VudHJpZXMgPSBjb3VudHJpZXM7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgcy5zZWNfc2VsZWN0X29yZGVyID0gewogICAgICAgICAgICAgICAgc2hvd0J5IDogJ25hbWUnLAogICAgICAgICAgICB9CgogICAgICAgICAgICAvL29wdGlvbi5uYW1lIGZvciBvcHRpb24gaW4gZGF0YS5hdmFpbGFibGVPcHRpb25zIHRyYWNrIGJ5IG9wdGlvbi5pZAoKCgogICAgICAgICAgICBzLnJlcXVpcmUgPSB7CiAgICAgICAgICAgICAgICBlcnJvcjogJ3RoaXMgZmllbGQgaXMgcmVxdWlyZWQgJywKICAgICAgICAgICAgICAgIGluZm86ICctIHRoaXMgZmllbGQgaGF2ZSB0byBoYXZlIHZhbHVlJywKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcy5jaGVja2JveFJlcXVpcmUgPSB7CiAgICAgICAgICAgICAgICBlcnJvcjogJyBZb3UgbXVzdCBhZ3JlZSB0byB0aGUgd3d3LkFkdmFudGFnZU9ubGluZVNob3BwaW5nLmNvbSBDb25kaXRpb25zIG9mIFVzZSBhbmQgUHJpdmFjeSBOb3RpY2UuICcsCiAgICAgICAgICAgICAgICBpbmZvOiAnSSBhZ3JlZSB0byB0aGUgd3d3LkFkdmFudGFnZU9ubGluZVNob3BwaW5nLmNvbSBDb25kaXRpb25zIG9mIFVzZSBhbmQgUHJpdmFjeSBOb3RpY2UnLAogICAgICAgICAgICB9CgoKICAgICAgICAgICAgcy5taW5MZW5ndGggPSB7CiAgICAgICAgICAgICAgICBlcnJvcjogJ1VzZSB1cCBvZiA0IGNoYXJhY3RlcicsCiAgICAgICAgICAgICAgICBpbmZvOiAnLSBVc2UgdXAgb2YgNCBjaGFyYWN0ZXInLAogICAgICAgICAgICAgICAgbWluOiA0LAogICAgICAgICAgICB9CgogICAgICAgICAgICBzLm1heExlbmd0aCA9IHsKICAgICAgICAgICAgICAgIGVycm9yOiAnVXNlIG1heGltdW0gOCBjaGFyYWN0ZXInLAogICAgICAgICAgICAgICAgaW5mbzogJy0gVXNlIG1heGltdW0gOCBjaGFyYWN0ZXInLAogICAgICAgICAgICAgICAgbWF4OiA4LAogICAgICAgICAgICB9CgogICAgICAgICAgICBzLmVtYWlsID0gewogICAgICAgICAgICAgICAgZXJyb3IgOiAiWW91ciBlbWFpbCBhZGRyZXNzIGlzbuKAmXQgZm9ybWF0dGVkIGNvcnJlY3RseSIsCiAgICAgICAgICAgICAgICBpbmZvOiAiLSBBIHZhbGlkIGVtYWlsIHJlcXVpcmVkIiwKICAgICAgICAgICAgICAgIHJlZ2V4IDogIl5bX0EtWmEtejAtOS1cK10rKFwuW19BLVphLXowLTktXSspKkBbQS1aYS16MC05LV0rKFwuW0EtWmEtejAtOV0rKSooXC5bQS1aYS16XXsyLH0pJCIKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcy5jb21wYXJlVG8gPSB7CiAgICAgICAgICAgICAgICBlcnJvciA6ICJTYW1lIGFzIFVzZXJuYW1lIiwKICAgICAgICAgICAgICAgIGluZm86ICItIEEgcGFyYW0gaGF2ZSB0byBiZSBleGFjdGx5IGxpa2UgVXNlck5hbWUiLAogICAgICAgICAgICAgICAgbW9kZWwgOiBzLm1vZGVsCiAgICAgICAgICAgIH0KICAgICAgICB9XSk7Cn0pOwoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgovL2wocGFyYW1zVG9SZXNvcnZlLmNhdGVnb3JpZXMpCgoKLy9zLnN1cHBvcnRTdWNjZXNzID0gZmFsc2U7Ci8vcy5yZWdpc3RlckFuc3dlciA9IHsgY2xhc3M6ICIiLCBtZXNzYWdlOiAiIiB9Ci8vcy5zdXBwb3J0TW9kZWwgPSB7Ci8vICAgICJjYXRlZ29yeSI6IHt9LAovLyAgICAiZW1haWwiOiAiIiwKLy8gICAgInByb2R1Y3QiOiB7fSwKLy8gICAgInN1YmplY3QiOiAiIgovL30KLy8KLy9zLmNhdGVnb3JpZXMgPSBwYXJhbXNUb1Jlc29ydmUuY2F0ZWdvcmllczsKLy9zLnByb2R1Y3RzOwovLwovL3MuY2F0ZWdvcnlDaGFuZ2UgPSBmdW5jdGlvbigpIHsKLy8gICAgY2F0ZWdvcnlTZXJ2aWNlLmdldENhdGVnb3J5QnlJZChzLnN1cHBvcnRNb2RlbC5jYXRlZ29yeS5jYXRlZ29yeUlkKS4KLy8gICAgdGhlbihmdW5jdGlvbiAoY2F0ZWdvcnkpIHsKLy8gICAgICAgIGwoY2F0ZWdvcnkucHJvZHVjdHMpCi8vICAgICAgICBzLnByb2R1Y3RzID0gY2F0ZWdvcnkucHJvZHVjdHM7Ci8vICAgICAgICBzLnN1cHBvcnRNb2RlbC5wcm9kdWN0ID0gY2F0ZWdvcnkucHJvZHVjdHNbMF07Ci8vICAgIH0pOwovL30KLy8KLy9zLnByb2R1Y3RDaGFuZ2UgPSBmdW5jdGlvbigpIHsKLy8gICAgbCgicy5zdXBwb3J0TW9kZWwuPT09PT09PT09PT09PT09PSIpCi8vICAgIGwocy5zdXBwb3J0TW9kZWwucHJvZHVjdCk7Ci8vICAgIGwocy5zdXBwb3J0TW9kZWwuY2F0ZWdvcnkuY2F0ZWdvcnlJZCk7Ci8vICAgIGwocy5zdXBwb3J0TW9kZWwuY2F0ZWdvcnkuY2F0ZWdvcnlOYW1lKTsKLy8gICAgbChzLnN1cHBvcnRNb2RlbC50ZXh0KTsKLy8gICAgbChzLnN1cHBvcnRNb2RlbC5wcm9kdWN0LnByb2R1Y3RJZCk7Ci8vICAgIGwocy5zdXBwb3J0TW9kZWwucHJvZHVjdC5wcm9kdWN0TmFtZSk7Ci8vICAgIGwocy5zdXBwb3J0TW9kZWwuc3ViamVjdCk7Ci8vICAgIGwoInMuc3VwcG9ydE1vZGVsLnByb2R1Y3QgKysrKysrKysrKysrKysrKysrKysiKQovL30KLy8KLy9zLnNlbmRTdXBwb3J0RW1haWwgPSBmdW5jdGlvbigpewovLwovLyAgICBzdXBwb3J0U2VydmljZS5zZW5kU3VwcG9ydEVtYWlsKHMuc3VwcG9ydE1vZGVsKS50aGVuKGZ1bmN0aW9uKHJlcyl7Ci8vCi8vICAgICAgICBzLnJlZ2lzdGVyQW5zd2VyLmNsYXNzID0gcmVzLnN1Y2Nlc3MgPyAidmFsaWQiIDogImludmFsaWQiOwovLyAgICAgICAgcy5zdXBwb3J0U3VjY2VzcyA9IHJlcy5zdWNjZXNzOwovLyAgICAgICAgcy5yZWdpc3RlckFuc3dlci5tZXNzYWdlID0gcmVzLnJlYXNvbjsKLy8KLy8gICAgfSwgZnVuY3Rpb24oZXJyKXsKLy8gICAgfSk7Ci8vCi8vfQovLwoKLy9IZWxwZXIuZm9yQWxsUGFnZSgpOwoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLyoqCiAqIENyZWF0ZWQgYnkgY29ycmVudGkgb24gMDYvMTIvMjAxNS4KICovCgpkZWZpbmUoJ2FwcC9jb250cm9sbGVycy9zaG9wcGluZ0NhcnRDdHJsJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uKGNvbnRyb2xsZXJzKXsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ3Nob3BwaW5nQ2FydEN0cmwnLCBbJyRzY29wZScsICdwcm9kdWN0c0NhcnRTZXJ2aWNlJywgJ3VzZXJTZXJ2aWNlJywKICAgICAgICBmdW5jdGlvbihzLCBjYXJ0U2VydmljZSwgdXNlclNlcnZpY2UpewoKICAgICAgICAgICAgSGVscGVyLmZvckFsbFBhZ2UoKTsKICAgICAgICAgICAgcy5lbmFibGVXYXJyYW50eSA9IGZhbHNlOwogICAgICAgICAgICB1c2VyU2VydmljZS5oYXZlQ29uZmlndXJhdGlvbigpLnRoZW4oZnVuY3Rpb24ocmVzKXsKICAgICAgICAgICAgICAgICAgICBzLmVuYWJsZVdhcnJhbnR5ID0gdXNlclNlcnZpY2UuZ2V0V2FycmFudHlQcm9wZXJ0aWVzKCkuZW5hYmxlV2FycmFudHk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZnVuY3Rpb24oZXJyKXsKCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInVmdC1jbGFzcyIpOwoKICAgICAgICAgICAgICAgIHZhciBjaGVja291dEJ0biA9IGFuZ3VsYXIuZWxlbWVudChyZXN1bHQpOwoKICAgICAgICAgICAgICAgIGNoZWNrb3V0QnRuLmF0dHIoImlkIiwgImNoZWNrT3V0QnV0dG9uIik7CiAgICAgICAgICAgICAgICBjaGVja291dEJ0bi5hdHRyKCJuYW1lIiwgImNoZWNrX291dF9idG4iKTsKICAgICAgICAgICAgfSk7CgoKCgogICAgICAgICAgICBzLnNhdmVDYXJ0ID0gZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIGNhcnRTZXJ2aWNlLnNhdmVDYXJ0KHMuY2FydCk7CiAgICAgICAgICAgIH0KICAgIH1dKTsKfSk7CgovKioKICogQ3JlYXRlZCBieSBjb3JyZW50aSBvbiAyNC8wMi8yMDE2LgogKi8KCgoKZGVmaW5lKCdhcHAvY29udHJvbGxlcnMvc2VhcmNoQ3RybCcsWycuL21vZHVsZSddLCBmdW5jdGlvbiAoY29udHJvbGxlcnMpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ3NlYXJjaEN0cmwnLCBbJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCAnY2F0ZWdvcnlTZXJ2aWNlJywgJ2NhdGVnb3J5JywKICAgICAgICBmdW5jdGlvbiAocywgJHN0YXRlUGFyYW1zLCBjYXRlZ29yeVNlcnZpY2UsIHBhcmFtc1RvUmV0dXJuKSB7CgogICAgICAgICAgICBzLmNhdElkID0gJHN0YXRlUGFyYW1zLmlkOwoKICAgICAgICAgICAgcy5wYXJhbXNUb1Bhc3MgPSBwYXJhbXNUb1JldHVybjsKCiAgICAgICAgICAgIHMuY2F0ZWdvcnlEYXRhID0gcGFyYW1zVG9SZXR1cm4uc2VhcmNoUmVzdWx0Lmxlbmd0aCA+IDAgPyBwYXJhbXNUb1JldHVybi5zZWFyY2hSZXN1bHRbMF0gOiBbXTsKCiAgICAgICAgICAgIHMubm9Qcm9kdWN0cyA9IHMuY2F0ZWdvcnlEYXRhLnByb2R1Y3RzID09IHVuZGVmaW5lZCB8fCBzLmNhdGVnb3J5RGF0YS5wcm9kdWN0cy5sZW5ndGggPT0gMDsKCiAgICAgICAgICAgIHMuc2VhcmNoS2V5ID0gcGFyYW1zVG9SZXR1cm4uc2VhcmNoS2V5OwoKICAgICAgICAgICAgSGVscGVyLmZvckFsbFBhZ2UoKTsKCiAgICAgICAgfV0pOwoKfSk7CgoKLyoqCiAqIENyZWF0ZWQgYnkga3ViYW55IG9uIDEwLzEzLzIwMTUuCiAqLwoKCmRlZmluZSgnYXBwL2NvbnRyb2xsZXJzL2luZGV4JyxbCiAgICAnLi9tYWluQ3RybCcsCiAgICAnLi9jYXRlZ29yaWVzQ3RybCcsCiAgICAnLi9jYXRlZ29yeUN0cmwnLAogICAgJy4vcHJvZHVjdEN0cmwnLAogICAgJy4vc3VwcG9ydEN0cmwnLAogICAgJy4vc2hvcHBpbmdDYXJ0Q3RybCcsCiAgICAnLi9zZWFyY2hDdHJsJywKXQogICAgLCBmdW5jdGlvbigpIHt9KTsKLyoqCiAqIENyZWF0ZWQgYnkga3ViYW55IG9uIDEwLzEzLzIwMTUuCiAqLwpkZWZpbmUoJ2FwcC91c2VyL2NvbnRyb2xsZXJzL21vZHVsZScsWydhbmd1bGFyJ10sIGZ1bmN0aW9uIChhbmd1bGFyKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICByZXR1cm4gYW5ndWxhci5tb2R1bGUoJ2Fvcy51c2VyLmNvbnRyb2xsZXJzJywgW10pOwp9KTsKLyoqCiAqIENyZWF0ZWQgYnkga3ViYW55IG9uIDExLzExLzIwMTUuCiAqLwpkZWZpbmUoJ2FwcC91c2VyL2NvbnRyb2xsZXJzL3VzZXJDb250cm9sbGVyJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChjb250cm9sbGVycykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgY29udHJvbGxlcnMuY29udHJvbGxlcigndXNlckNvbnRyb2xsZXInLCBbJyRzY29wZScsICckdWliTW9kYWwnLCAnJGxvZycsICdpcENvb2tpZScsCiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsLCAkbG9nLCAkY29va2llKSB7CgogICAgICAgICAgICAkc2NvcGUuYWNjb3VudFNlY3Rpb24gPSBmdW5jdGlvbigpewoKICAgICAgICAgICAgICAgICRyb290U2NvcGUudXNlcmlkID0gbnVsbDsKICAgICAgICAgICAgICAgICRjb29raWUucmVtb3ZlKCJ1c2VyQ29va2llIik7CiAgICAgICAgICAgIH0KCgogICAgICAgIH1dKTsKfSk7Ci8qKgogKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDI5LzExLzIwMTUuCiAqLwoKZGVmaW5lKCdhcHAvdXNlci9jb250cm9sbGVycy9yZWdpc3RlckN0cmwnLFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKGNvbnRyb2xsZXJzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb250cm9sbGVycy5jb250cm9sbGVyKCdyZWdpc3RlckN0cmwnLCBbJyRzY29wZScsICdyZWdpc3RlclNlcnZpY2UnLCAnJGxvY2F0aW9uJywKICAgICAgICAnJHRpbWVvdXQnLCAnJGZpbHRlcicsICckc3RhdGUnLCAnQW5hbHl0aWNzJywKICAgICAgICBmdW5jdGlvbiAocywgcmVnaXN0ZXJTZXJ2aWNlLCAkbG9jYXRpb24sICR0aW1lb3V0LCAkZmlsdGVyLCAkc3RhdGUsIEFuYWx5dGljcykgewoKCiAgICAgICAgICAgIHMucmVnaXN0ZXJTdWNjZXNzID0gZmFsc2U7CiAgICAgICAgICAgIHMuV2VsbGNvbWVOYW1lID0gIiI7CgogICAgICAgICAgICBzLmNvdW50cmllcyA9IHt9OwogICAgICAgICAgICBzLnJlZ2lzdGVyQW5zd2VyID0gewogICAgICAgICAgICAgICAgbWVzc2FnZTogJycsCiAgICAgICAgICAgICAgICBjbGFzczogJ2ludmFsaWQnCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJlZ2lzdGVyU2VydmljZS5nZXRBbGxDb3VudHJpZXMoKS50aGVuKGZ1bmN0aW9uIChjb3VudHJpZXMpIHsKICAgICAgICAgICAgICAgIHMuY291bnRyaWVzID0gY291bnRyaWVzOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHMubW9kZWwgPSB7CiAgICAgICAgICAgICAgICB1c2VybmFtZTogJycsIGVtYWlsOiAnJywgcGFzc3dvcmQ6ICcnLCBjb25maXJtX3Bhc3N3b3JkOiAnJywKICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogJycsIGxhc3ROYW1lOiAnJywgcGhvbmVOdW1iZXI6ICcnLCBjb3VudHJ5OiB7fSwgYWRkcmVzczogJycsCiAgICAgICAgICAgICAgICBjaXR5OiAnJywgcG9zdGFsQ29kZTogJycsIHN0YXRlOiAnJywgb2ZmZXJzX3Byb21vdGlvbjogdHJ1ZSwKICAgICAgICAgICAgfQoKCiAgICAgICAgICAgIHMucmVnaXN0ZXIgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICAgICAgcmVnaXN0ZXJTZXJ2aWNlLnJlZ2lzdGVyKHMubW9kZWwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CgogICAgICAgICAgICAgICAgICAgIHMucmVnaXN0ZXJBbnN3ZXIubWVzc2FnZSA9IHJlc3BvbnNlLnJlYXNvbiB8fCAkZmlsdGVyKCd0cmFuc2xhdGUnKSgncmVnaXN0ZXJfZmFpbGQnKTsKICAgICAgICAgICAgICAgICAgICBzLnJlZ2lzdGVyQW5zd2VyLmNsYXNzID0gcmVzcG9uc2Uuc3VjY2VzcyA/ICd2YWxpZCcgOiAnaW52YWxpZCc7CgogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7CgogICAgICAgICAgICAgICAgICAgICAgICBBbmFseXRpY3MudHJhY2tFdmVudCgnQWNjb3VudCcsICdyZWdpc3RlcicsIHMubW9kZWwpOwogICAgICAgICAgICAgICAgICAgICAgICAkKCdib2R5LCBodG1sJykuYW5pbWF0ZSh7c2Nyb2xsVG9wOiAwfSwgMTApOwogICAgICAgICAgICAgICAgICAgICAgICBzLldlbGxjb21lTmFtZSA9IHMubW9kZWwuZmlyc3ROYW1lLnJlcGxhY2UoL1xzL2csICIiKS5sZW5ndGggPiAwID8gcy5tb2RlbC5maXJzdE5hbWUgOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5tb2RlbC5sYXN0TmFtZS5yZXBsYWNlKC9ccy9nLCAiIikubGVuZ3RoID4gMCA/IHMubW9kZWwubGFzdE5hbWUgOiBzLm1vZGVsLnVzZXJuYW1lOwoKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXIgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogcy5tb2RlbC5lbWFpbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2luUGFzc3dvcmQ6IHMubW9kZWwucGFzc3dvcmQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dpblVzZXI6IHMubW9kZWwudXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICAgICBzLnNpZ25Jbih1c2VyLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRvY3VtZW50LmxvY2F0aW9uLmhhc2ggPT0gIiMvcmVnaXN0ZXIiKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMucmVnaXN0ZXJBbnN3ZXIubWVzc2FnZSA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5yZWdpc3RlckFuc3dlci5jbGFzcyA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDAwKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICAgICAgICAgIHMucmVnaXN0ZXJBbnN3ZXIubWVzc2FnZSA9ICRmaWx0ZXIoJ3RyYW5zbGF0ZScpKCdyZWdpc3Rlcl9mYWlsZCcpOwogICAgICAgICAgICAgICAgICAgIHMucmVnaXN0ZXJBbnN3ZXIuY2xhc3MgPSAnaW52YWxpZCc7CiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBzLnJlZ2lzdGVyQW5zd2VyLm1lc3NhZ2UgPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgcy5yZWdpc3RlckFuc3dlci5jbGFzcyA9ICIiOwogICAgICAgICAgICAgICAgICAgIH0sIDUwMDApCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcy52YWxpZEZvcm0gID0gZmFsc2U7CiAgICAgICAgICAgIHMuaXNWYWxpZEZvcm0gPSBmdW5jdGlvbih2YWxpZCl7CiAgICAgICAgICAgICAgICBzLnZhbGlkRm9ybSAgPSB2YWxpZDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJChkb2N1bWVudCkub24oImtleWRvd24iLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDEzICYmIHMudmFsaWRGb3JtKSB7CiAgICAgICAgICAgICAgICAgICAgcy5yZWdpc3RlcigpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBIZWxwZXIuZm9yQWxsUGFnZSgpOwoKICAgICAgICB9XSk7Cgp9KTsKZGVmaW5lKCdhcHAvdXNlci9jb250cm9sbGVycy9hYm91dEN0cmwnLFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKGNvbnRyb2xsZXJzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb250cm9sbGVycy5jb250cm9sbGVyKCdhYm91dEN0cmwnLCBbJyRzY29wZScsICdhYm91dFNlcnZpY2UnLCAnJGxvY2F0aW9uJywKICAgICAgICAnJHRpbWVvdXQnLCAnJGZpbHRlcicsICckc3RhdGUnLCAnQW5hbHl0aWNzJywKICAgICAgICBmdW5jdGlvbiAocywgYWJvdXRTZXJ2aWNlLCAkbG9jYXRpb24sICR0aW1lb3V0LCAkZmlsdGVyLCAkc3RhdGUsIEFuYWx5dGljcykgewoKICAgICAgICB9XSk7Cgp9KTsKZGVmaW5lKCdhcHAvdXNlci9jb250cm9sbGVycy92ZXJzaW9uQ3RybCcsWycuL21vZHVsZSddLCBmdW5jdGlvbiAoY29udHJvbGxlcnMpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ3ZlcnNpb25DdHJsJywgWyckc2NvcGUnLCAndmVyc2lvblNlcnZpY2UnLCAnJGxvY2F0aW9uJywKICAgICAgICAnJHRpbWVvdXQnLCAnJGZpbHRlcicsICckc3RhdGUnLCAnQW5hbHl0aWNzJywKICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCB2ZXJzaW9uU2VydmljZSwgJGxvY2F0aW9uLCAkdGltZW91dCwgJGZpbHRlciwgJHN0YXRlLCBBbmFseXRpY3MpIHsKCiAgICAgICAgICAgIC8qIHJlY29yZCBvZiB0aGUgdmVyc2lvbnMgKi8KICAgICAgICAgICAgJHNjb3BlLnJlY29yZHMgPSBbCiAgICAgICAgICAgICAgICAiVkVSU0lPTiAzLjIiLAogICAgICAgICAgICAgICAgIlZFUlNJT04gMy4xIiwKICAgICAgICAgICAgICAgICJWRVJTSU9OIDMuMCIsCiAgICAgICAgICAgICAgICAiVkVSU0lPTiAyLjUiLAogICAgICAgICAgICAgICAgIlZFUlNJT04gMi40IiwKICAgICAgICAgICAgICAgICJWRVJTSU9OIDIuMyIsCiAgICAgICAgICAgICAgICAiVkVSU0lPTiAyLjIiLAogICAgICAgICAgICAgICAgIlZFUlNJT04gMi4xIiwKICAgICAgICAgICAgICAgICJWRVJTSU9OIDIuMCIsCiAgICAgICAgICAgICAgICAiVkVSU0lPTiAxLjEuNyIsCiAgICAgICAgICAgIF0KCgogICAgICAgICAgICAvKiBTZXQgZGVmYXVsdCB2YWx1ZSB0byByZWxlYXNlX3ZlcnNpb24gKi8KICAgICAgICAgICAgdmFyIHJlbGVhc2VfdmVyc2lvbjsKICAgICAgICAgICAgdmFyIHJlbGVhc2VfdmVyc2lvbl9vbmx5OwogICAgICAgICAgICAkc2NvcGUucmVsZWFzZV92ZXJzaW9uPSRzY29wZS5yZWNvcmRzWzBdOwogICAgICAgICAgICAkc2NvcGUucmVsZWFzZV92ZXJzaW9uX29ubHk9JHNjb3BlLnJlY29yZHNbMF0uc3BsaXQoJyAnKVsxXTsKCiAgICAgICAgICAgIC8qIFNldCB2YWx1ZSBhY2NvcmRpbmcgdG8gdmFsdWUgY2hvc2UgZnJvbSB0aGUgbGlzdCAqLwogICAgICAgICAgICAkc2NvcGUuZ2V0VmVyc2lvbiA9IGZ1bmN0aW9uIChpbmRleCkgewogICAgICAgICAgICAgICAgJHNjb3BlLnJlbGVhc2VfdmVyc2lvbj0kc2NvcGUucmVjb3Jkc1tpbmRleF07CiAgICAgICAgICAgICAgICAkc2NvcGUucmVsZWFzZV92ZXJzaW9uX29ubHk9JHNjb3BlLnJlY29yZHNbaW5kZXhdLnNwbGl0KCcgJylbMV07CiAgICAgICAgICAgICAgICAkc2NvcGUuY29udGVudFVybCA9ICdhcHAvdXNlci92aWV3cy92ZXJzaW9uLXBhZ2UtJyArICRzY29wZS5yZWxlYXNlX3ZlcnNpb25fb25seSArICcuaHRtbCc7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICAvKiBzaG93IGFuZCBoaWRkZW4gbGlzdCBvZiB2ZXJzaW9ucyovCiAgICAgICAgICAgICRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uIChtaW5pVGl0bGVJZCkgewogICAgICAgICAgICAgICAgJCgiIyIgKyBtaW5pVGl0bGVJZCkuZmFkZVRvZ2dsZSgzMDApOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgX19fX2xvZ2luSW50ZXJ2YWw7CiAgICAgICAgICAgICRzY29wZS5taW5pVGl0bGVPdXQgPSBmdW5jdGlvbiAobWluaVRpdGxlSWQpIHsKICAgICAgICAgICAgICAgIGlmICgkKCIjIiArIG1pbmlUaXRsZUlkKS5jc3MoJ2Rpc3BsYXknKSAhPSAnbm9uZScpIHsKICAgICAgICAgICAgICAgICAgICBfX19fbG9naW5JbnRlcnZhbCA9ICR0aW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJCgiIyIgKyBtaW5pVGl0bGVJZCkuZmFkZU91dCgzMDApOwogICAgICAgICAgICAgICAgICAgIH0sIDIwMDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwoKICAgICAgICAgICAgdmFyIGN1cnJlbnRfc2VsZWN0ZWRfbGluazsKCiAgICAgICAgICAgICRzY29wZS5nb3RvRWxlbWVudCA9IGZ1bmN0aW9uIChzZWN0aW9uSWQsIGlkKSB7CiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRfbWVudV9zaWRlX2xpbmsoaWQpOwogICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSAkKCIjIiArIHNlY3Rpb25JZCk7CiAgICAgICAgICAgICAgICB2YXIgbmF2SGVpZ2h0ID0gJCgibmF2LnBhZ2VzIikuaGVpZ2h0KCk7CiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsSGlnaHQgPSAkKCJib2R5LCBodG1sIikuc2Nyb2xsVG9wKCk7CiAgICAgICAgICAgICAgICBpZiAoIHNjcm9sbEhpZ2h0ID09IDApCiAgICAgICAgICAgICAgICAgICAgbmF2SGVpZ2h0ID0gMipuYXZIZWlnaHQ7CiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5sZW5ndGggPiAwKXsKICAgICAgICAgICAgICAgICAgICAkKCJib2R5LCBodG1sIikuYW5pbWF0ZSh7CiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogKGVsZW1lbnQub2Zmc2V0KCkudG9wIC0gKG5hdkhlaWdodCkgLSA2NSApCiAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZF9tZW51X3NpZGVfbGluayA9IGZ1bmN0aW9uIChpZCkgewogICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSAkKCIjIiArIGlkKTsKICAgICAgICAgICAgICAgIGlmIChjdXJyZW50X3NlbGVjdGVkX2xpbmspCiAgICAgICAgICAgICAgICAgICAgY3VycmVudF9zZWxlY3RlZF9saW5rLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpOwogICAgICAgICAgICAgICAgZWxlbWVudC5hZGRDbGFzcygnc2VsZWN0ZWQnKTsKICAgICAgICAgICAgICAgIGN1cnJlbnRfc2VsZWN0ZWRfbGluaz1lbGVtZW50OwogICAgICAgICAgICB9OwoKICAgIH1dKTsKCn0pOwoKLyoqCiAqIENyZWF0ZWQgYnkga3ViYW55IG9uIDEwLzEzLzIwMTUuCiAqLwoKCmRlZmluZSgnYXBwL3VzZXIvY29udHJvbGxlcnMvaW5kZXgnLFsKICAgICcuL3VzZXJDb250cm9sbGVyJywKICAgICcuL3JlZ2lzdGVyQ3RybCcsCiAgICAnLi9hYm91dEN0cmwnLAogICAgJy4vdmVyc2lvbkN0cmwnCl0sIGZ1bmN0aW9uKCkge30pOwovKioKICogQ3JlYXRlZCBieSBrdWJhbnkgb24gMTAvMTMvMjAxNS4KICovCmRlZmluZSgnYXBwL29yZGVyL2NvbnRyb2xsZXJzL21vZHVsZScsWydhbmd1bGFyJ10sIGZ1bmN0aW9uIChhbmd1bGFyKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICByZXR1cm4gYW5ndWxhci5tb2R1bGUoJ2Fvcy5vcmRlci5jb250cm9sbGVycycsIFtdKTsKfSk7Ci8qKgogKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDMxLzEyLzIwMTUuCiAqLwoKCmRlZmluZSgnYXBwL29yZGVyL2NvbnRyb2xsZXJzL29yZGVyUGF5bWVudEN0cmwnLFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKGNvbnRyb2xsZXJzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb250cm9sbGVycy5jb250cm9sbGVyKCdvcmRlclBheW1lbnRDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICdyZXNvbHZlUGFyYW1zJywKICAgICAgICAnb3JkZXJTZXJ2aWNlJywgJ3Byb2R1Y3RzQ2FydFNlcnZpY2UnLCAnJGZpbHRlcicsICckbG9jYXRpb24nLAogICAgICAgIGZ1bmN0aW9uIChzLCBycywgcmVzb2x2ZVBhcmFtcywgb3JkZXJTZXJ2aWNlLCBjYXJ0U2VydmljZSwgJGZpbHRlciwgJGxvY2F0aW9uKSB7CgoKICAgICAgICAgICAgaWYgKHJlc29sdmVQYXJhbXMudXNlciA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnbG9naW4nKQogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHMudXNlciA9IHJlc29sdmVQYXJhbXMudXNlcjsKICAgICAgICAgICAgcy5hY2NvdW50RGV0YWlscyA9IHJlc29sdmVQYXJhbXMuYWNjb3VudERldGFpbHM7CiAgICAgICAgICAgIHMuY2hlY2tDYXJ0KCk7CgogICAgICAgICAgICAvLy8vLyBQQVlNRU5UIFNVQ0NFU1MgLy8vLwogICAgICAgICAgICBzLnBheW1lbnRFbmQgPSBmYWxzZTsKICAgICAgICAgICAgcy4kb24oJ3VwZGF0ZVBheW1lbnRFbmQnLCBmdW5jdGlvbiAoZXZlbnQsIGFyZ3MpIHsKICAgICAgICAgICAgICAgIHMucGF5bWVudEVuZCA9IGFyZ3MucGF5bWVudEVuZDsKICAgICAgICAgICAgICAgIHMub3JkZXJOdW1iZXIgPSBhcmdzLm9yZGVyTnVtYmVyOwogICAgICAgICAgICAgICAgcy50cmFja2luZ051bWJlciA9IGFyZ3MudHJhY2tpbmdOdW1iZXI7CiAgICAgICAgICAgICAgICBzLmhhc1dhcnJhbnR5ID0gYXJncy5oYXNXYXJyYW50eTsKICAgICAgICAgICAgICAgIHMud2FycmFudHlOdW1iZXIgPSBhcmdzLndhcnJhbnR5TnVtYmVyOwogICAgICAgICAgICAgICAgcy5jYXJkTnVtYmVyID0gWycwMDAwJywgJzAwMDAnLCAnMDAwMCcsIGFyZ3MuY2FyZE51bWJlci5zdWJzdHJpbmcoYXJncy5jYXJkTnVtYmVyLmxlbmd0aCAtIDQpXTsKICAgICAgICAgICAgICAgIHMuc3ViVG90YWwgPSAoJGZpbHRlcigicHJvZHVjdHNDYXJ0U3VtIikocy5jYXJ0KSk7CiAgICAgICAgICAgICAgICBzLnRvdGFsID0gKCRmaWx0ZXIoInByb2R1Y3RzQ2FydFN1bSIpKHMuY2FydCwgcy5zaGlwcGluZ0Nvc3QpKTsKICAgICAgICAgICAgICAgIHMuVHJhbnNQYXltZW50TWV0aG9kID0gYXJncy5UcmFuc1BheW1lbnRNZXRob2Q7CiAgICAgICAgICAgICAgICBycy4kYnJvYWRjYXN0KCdjbGVhckNhcnRFdmVudCcpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgLy8vLy8gRU5EIFBBWU1FTlQgU1VDQ0VTUyAvLy8vCgogICAgICAgICAgICBzLm5vQ2FyZHMgPSAhKHJlc29sdmVQYXJhbXMucGF5bWVudFByZWZlcmVuY2VzICYmIHJlc29sdmVQYXJhbXMucGF5bWVudFByZWZlcmVuY2VzLm1hc3RlckNyZWRpdCk7CiAgICAgICAgICAgIHMuc2hvd01hc3RlckNhcnQgPSBmYWxzZTsKICAgICAgICAgICAgcy5jYXJkID0ge251bWJlcjogJycsIGN2djogJycsIGV4cGlyYXRpb25EYXRlOiB7bW9udGg6ICcnLCB5ZWFyOiAnJ30sIG5hbWU6ICcnfQogICAgICAgICAgICBzLnNhdmVQYXkgPSB7dXNlcm5hbWU6ICcnLCBwYXNzd29yZDogJyd9CgogICAgICAgICAgICB2YXIgbWFzdGVyQ3JlZGl0ID0gcmVzb2x2ZVBhcmFtcy5wYXltZW50UHJlZmVyZW5jZXMgJiYgcmVzb2x2ZVBhcmFtcy5wYXltZW50UHJlZmVyZW5jZXMubWFzdGVyQ3JlZGl0ID8KICAgICAgICAgICAgICAgIHJlc29sdmVQYXJhbXMucGF5bWVudFByZWZlcmVuY2VzLm1hc3RlckNyZWRpdCA6IG51bGw7CgogICAgICAgICAgICBzLkNhcmROdW1iZXIgPSBbXTsKICAgICAgICAgICAgaWYgKG1hc3RlckNyZWRpdCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAvL25vaW5zcGVjdGlvbiBKU0Fubm90YXRvcgogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IG1hc3RlckNyZWRpdC5leHBpcmF0aW9uRGF0ZS5zdWJzdHJpbmcoMCwgMikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoKGVycikgewogICAgICAgICAgICAgICAgICAgIG0gPSAoIG1hc3RlckNyZWRpdC5leHBpcmF0aW9uRGF0ZSArPSAiIikuc3Vic3RyaW5nKDAsMikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHMuY2FyZCA9IHsKICAgICAgICAgICAgICAgICAgICBudW1iZXI6IG1hc3RlckNyZWRpdC5jYXJkTnVtYmVyLnN1YnN0cmluZyg0KSwKICAgICAgICAgICAgICAgICAgICBjdnY6IG1hc3RlckNyZWRpdC5jdnZOdW1iZXIsCiAgICAgICAgICAgICAgICAgICAgZXhwaXJhdGlvbkRhdGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgbW9udGg6IG0sCiAgICAgICAgICAgICAgICAgICAgICAgIHllYXI6IG1hc3RlckNyZWRpdC5leHBpcmF0aW9uRGF0ZS5zdWJzdHJpbmcoMikKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGNhcnRFeHBpcmVkOiBtYXN0ZXJDcmVkaXQuY2FydEV4cGlyZWQsCiAgICAgICAgICAgICAgICAgICAgbmFtZTogbWFzdGVyQ3JlZGl0LmN1c3RvbWVybmFtZSwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHMuQ2FyZE51bWJlciA9IHNwbGl0Q2FydE51bWJlcihtYXN0ZXJDcmVkaXQuY2FyZE51bWJlcik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNwbGl0Q2FydE51bWJlcihjYXJ0TnVtKSB7CiAgICAgICAgICAgICAgICB2YXIgYXJyID0gW107CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhcnROdW0ubGVuZ3RoICYmIGkgKyAzIDwgY2FydE51bS5sZW5ndGg7IGkgKz0gNCkgewogICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKGNhcnROdW0uc3Vic3RyaW5nKGksIGkgKyA0KSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gYXJyOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgc2FmZVBheSA9IHJlc29sdmVQYXJhbXMucGF5bWVudFByZWZlcmVuY2VzICYmIHJlc29sdmVQYXJhbXMucGF5bWVudFByZWZlcmVuY2VzLnNhZmVQYXkgPwogICAgICAgICAgICAgICAgcmVzb2x2ZVBhcmFtcy5wYXltZW50UHJlZmVyZW5jZXMuc2FmZVBheSA6IG51bGw7CiAgICAgICAgICAgIHMuc2VjcmV0UGFzc3dvcmQgPSAiKioqKiI7CiAgICAgICAgICAgIGlmIChzYWZlUGF5ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIHMuc2F2ZVBheS51c2VybmFtZSA9IHNhZmVQYXkuc2FmZXBheVVzZXJuYW1lOwogICAgICAgICAgICAgICAgcy5zZWNyZXRQYXNzd29yZCA9IHNhZmVQYXkuc2FmZXBheVBhc3N3b3JkOwogICAgICAgICAgICAgICAgcy5zYXZlUGF5LnBhc3N3b3JkID0gcy5zZWNyZXRQYXNzd29yZC5zdWJzdHJpbmcoMCwgMTIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHMuc2F2ZVNhZmVQYXkgPSB0cnVlOwogICAgICAgICAgICBzLnNhdmVNYXN0ZXJDcmVkaXQgPSB0cnVlOwoKICAgICAgICAgICAgcy5hZ3JlZV9BZ3JlZW1lbnQgPSB0cnVlOwoKICAgICAgICAgICAgcy5zaGlwcGluZyA9IHJlc29sdmVQYXJhbXMuc2hpcHBpbmdDb3N0OwogICAgICAgICAgICBzLnNoaXBwaW5nQ29zdCA9IHJlc29sdmVQYXJhbXMuc2hpcHBpbmdDb3N0ID8gcmVzb2x2ZVBhcmFtcy5zaGlwcGluZ0Nvc3QuYW1vdW50IDogbnVsbDsKICAgICAgICAgICAgcy5pdGVtc1BhaWQgPSBzLmNhcnQgPyBzLmNhcnQucHJvZHVjdHNJbkNhcnQubGVuZ3RoIDogMDsKCiAgICAgICAgICAgIHZhciBkID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgcy5EYXRlX09yZGVyZWQgPSBbZC5nZXREYXRlKCksIChkLmdldE1vbnRoKCkgKyAxKSwgZC5nZXRGdWxsWWVhcigpXS5qb2luKCcvJyk7CgogICAgICAgICAgICBIZWxwZXIuZm9yQWxsUGFnZSgpOwoKICAgICAgICB9XSk7Cn0pOwoKCgoKCi8qKgogKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDI1LzAxLzIwMTYuCiAqLwoKCmRlZmluZSgnYXBwL29yZGVyL2NvbnRyb2xsZXJzL3VzZXJOb3RMb2dpbkN0cmwnLFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKGNvbnRyb2xsZXJzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb250cm9sbGVycy5jb250cm9sbGVyKCd1c2VyTm90TG9naW5DdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJyRsb2NhdGlvbicsCiAgICAgICAgZnVuY3Rpb24gKHMsICRzdGF0ZSwgJGxvY2F0aW9uKSB7CgogICAgICAgICAgICBzLmNoZWNrQ2FydCgpOwoKICAgICAgICAgICAgSGVscGVyLmZvckFsbFBhZ2UoKTsKCiAgICAgICAgICAgIHMub3JkZXJQYXltZW50TG9naW4gPSB7CiAgICAgICAgICAgICAgICBsb2dpblVzZXIgOiAnJywKICAgICAgICAgICAgICAgIGxvZ2luUGFzc3dvcmQgOiAnJywKICAgICAgICAgICAgICAgIGVtYWlsIDogJycsCiAgICAgICAgICAgIH07CgogICAgICAgICAgICA8IS0tRDM3MDE4LSBDaGFuZ2luZyB0YXJnZXQgc2lnbkluIGZ1bmN0aW9uIGZyb20gJ3VzZXJOb3RMb2dpbkN0cmwub3JkZXJQYXltZW50TG9naW5fc2lnbkluJyB0byBkaXJlY3RseSBnbyAnbG9naW5Nb2RhbC5zaWduSW4nLS0+CiAgICAgICAgICAgIC8vIHMub3JkZXJQYXltZW50TG9naW5fc2lnbkluID0gZnVuY3Rpb24oKXsKICAgICAgICAgICAgLy8gICAgIHMuc2lnbkluKHMub3JkZXJQYXltZW50TG9naW4sIGZhbHNlKTsKICAgICAgICAgICAgLy8gfQoKICAgICAgICAgICAgcy5yZWdpc3RyYXRpb25SZWRpcmVjdCA9IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3JlZ2lzdGVyJyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHMuJHdhdGNoKCJ1c2VyQ29va2llLnJlc3BvbnNlIiwgZnVuY3Rpb24odXNlcil7CiAgICAgICAgICAgICAgICBpZih1c2VyICYmIHVzZXIudXNlcklkKXsKICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ29yZGVyUGF5bWVudCcpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfV0pOwp9KTsKCgoKCgovKioKICogQ3JlYXRlZCBieSBrdWJhbnkgb24gMTAvMTMvMjAxNS4KICovCgoKZGVmaW5lKCdhcHAvb3JkZXIvY29udHJvbGxlcnMvaW5kZXgnLFsnLi9vcmRlclBheW1lbnRDdHJsJywgJy4vdXNlck5vdExvZ2luQ3RybCddLCBmdW5jdGlvbigpIHt9KTsKLyoqCiAqIENyZWF0ZWQgYnkga3ViYW55IG9uIDEwLzEzLzIwMTUuCiAqLwpkZWZpbmUoJ2FwcC9hY2NvdW50L2NvbnRyb2xsZXJzL21vZHVsZScsWydhbmd1bGFyJ10sIGZ1bmN0aW9uIChhbmd1bGFyKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICByZXR1cm4gYW5ndWxhci5tb2R1bGUoJ2Fvcy5hY2NvdW50LmNvbnRyb2xsZXJzJywgW10pOwp9KTsKLyoqCiAqIENyZWF0ZWQgYnkgY29ycmVudGkgb24gMzEvMTIvMjAxNS4KICovCgoKZGVmaW5lKCdhcHAvYWNjb3VudC9jb250cm9sbGVycy9teUFjY291bnRDdHJsJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChjb250cm9sbGVycykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgY29udHJvbGxlcnMuY29udHJvbGxlcignbXlBY2NvdW50Q3RybCcsIFsnJHNjb3BlJywgJyR0aW1lb3V0JywKICAgICAgICAnJGxvY2F0aW9uJywgJ3Jlc29sdmVQYXJhbXMnLCAnYWNjb3VudFNlcnZpY2UnLCAnaXBDb29raWUnLAogICAgICAgIGZ1bmN0aW9uIChzLCAkdGltZW91dCwgJGxvY2F0aW9uLCByZXNvbHZlUGFyYW1zLCBhY2NvdW50U2VydmljZSwgJGNvb2tpZSkgewoKICAgICAgICAgICAgY2hlY2tMb2dpbigpOwogICAgICAgICAgICBmdW5jdGlvbiBjaGVja0xvZ2luKCl7CiAgICAgICAgICAgICAgICBzLmNoZWNrTG9naW4oKTsKICAgICAgICAgICAgICAgIGlmKCRsb2NhdGlvbi5wYXRoKCkuaW5kZXhPZignL215QWNjb3VudCcpICE9IC0xKXsKICAgICAgICAgICAgICAgICAgICAkdGltZW91dChjaGVja0xvZ2luLCAyMDAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAkKGRvY3VtZW50KS5jbGljayhmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICAgICAgaWYgKCEkKGV2ZW50LnRhcmdldCkuY2xvc2VzdCgiLmRlbGV0ZUFjY291bnRQb3B1cCwuZGVsZXRlTWFpbkJ0bkNvbnRhaW5lciIpLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgICQoImJvZHkiKS5maW5kKCIuZGVsZXRlQWNjb3VudFBvcHVwIikuZmFkZU91dCgzNTApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHMuY2xvc2VEZWxldGVEaWFsb2dCb3ggPSBmdW5jdGlvbigpewoKCiAgICAgICAgICAgICAgICAkKCIuZGVsZXRlQWNjb3VudFBvcHVwIikuZmFkZU91dCgzNTApOwogICAgICAgICAgICAgICAgJCgiLlBvcFVwID4gZGl2Om50aC1jaGlsZCgxKSIpLmFuaW1hdGUoewogICAgICAgICAgICAgICAgICAgICJ0b3AiOiAiLTE1MCUiCiAgICAgICAgICAgICAgICB9LCAzMDAsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAkKCIuUG9wVXAiKS5mYWRlT3V0KDEwMCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAkKCJib2R5IikuY3NzKCJvdmVyZmxvdy15IiwgInNjcm9sbCIpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgoKICAgICAgICAgICAgcy5tYXN0ZXJDcmVkaXQ0RGlnaXRzID0gcmVzb2x2ZVBhcmFtcy5wYXltZW50UHJlZmVyZW5jZXMgJiYKICAgICAgICAgICAgcmVzb2x2ZVBhcmFtcy5wYXltZW50UHJlZmVyZW5jZXMubWFzdGVyQ3JlZGl0ICYmCiAgICAgICAgICAgIHJlc29sdmVQYXJhbXMucGF5bWVudFByZWZlcmVuY2VzLm1hc3RlckNyZWRpdC5jYXJkTnVtYmVyID8KICAgICAgICAgICAgICAgIHJlc29sdmVQYXJhbXMucGF5bWVudFByZWZlcmVuY2VzLm1hc3RlckNyZWRpdC5jYXJkTnVtYmVyLnN1YnN0cmluZyhyZXNvbHZlUGFyYW1zLnBheW1lbnRQcmVmZXJlbmNlcy5tYXN0ZXJDcmVkaXQuY2FyZE51bWJlci5sZW5ndGggLSA0KSA6IG51bGw7CgogICAgICAgICAgICBzLnNhZmVQYXlOYW1lID0gcmVzb2x2ZVBhcmFtcy5wYXltZW50UHJlZmVyZW5jZXMgJiYKICAgICAgICAgICAgcmVzb2x2ZVBhcmFtcy5wYXltZW50UHJlZmVyZW5jZXMuc2FmZVBheSAmJgogICAgICAgICAgICByZXNvbHZlUGFyYW1zLnBheW1lbnRQcmVmZXJlbmNlcy5zYWZlUGF5LnNhZmVwYXlVc2VybmFtZSA/CiAgICAgICAgICAgICAgICByZXNvbHZlUGFyYW1zLnBheW1lbnRQcmVmZXJlbmNlcy5zYWZlUGF5LnNhZmVwYXlVc2VybmFtZSA6IG51bGw7CgogICAgICAgICAgICBzLmFjY291bnREZXRhaWxzID0gcmVzb2x2ZVBhcmFtcy5hY2NvdW50RGV0YWlsczsKICAgICAgICAgICAgcy5zaGlwcGluZ0RldGFpbHMgPSByZXNvbHZlUGFyYW1zLnNoaXBwaW5nRGV0YWlsczsKCiAgICAgICAgICAgIHMuZGVmYXVsdFBheW1lbnRNZXRob2RJZCA9IHJlc29sdmVQYXJhbXMuYWNjb3VudERldGFpbHMuZGVmYXVsdFBheW1lbnRNZXRob2RJZCA9PSAwID8KICAgICAgICAgICAgICAgIHMubWFzdGVyQ3JlZGl0NERpZ2l0cyAhPSBudWxsID8gMjAgOiBzLnNhZmVQYXlOYW1lICE9IG51bGwgPyAxMCA6IDAgOiByZXNvbHZlUGFyYW1zLmFjY291bnREZXRhaWxzLmRlZmF1bHRQYXltZW50TWV0aG9kSWQ7CgogICAgICAgICAgICBzLmNhdGVnb3JpZXNQcm9tb3Rpb25zID0gWwogICAgICAgICAgICAgICAgeyBjYXRlZ29yeU5hbWUgOiAnVGFibGV0cycsIGNhdGVnb3J5VmFsdWUgOiB0cnVlLCB9LAogICAgICAgICAgICAgICAgeyBjYXRlZ29yeU5hbWUgOiAnTGFwdG9wcycsIGNhdGVnb3J5VmFsdWUgOiB0cnVlLCB9LAogICAgICAgICAgICAgICAgeyBjYXRlZ29yeU5hbWUgOiAnSGVhZHBob25lcycsIGNhdGVnb3J5VmFsdWUgOiB0cnVlLCB9LAogICAgICAgICAgICAgICAgeyBjYXRlZ29yeU5hbWUgOiAnU3BlYWtlcnMnLCBjYXRlZ29yeVZhbHVlIDogdHJ1ZSwgfSwKICAgICAgICAgICAgICAgIHsgY2F0ZWdvcnlOYW1lIDogJ01pY2UnLCBjYXRlZ29yeVZhbHVlIDogdHJ1ZSwgfSwKICAgICAgICAgICAgXTsKCiAgICAgICAgICAgIHMuYWxsb3dPZmZlcnNQcm9tb3Rpb25DaGFuZ2VkID0gZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIGFjY291bnRTZXJ2aWNlLmFjY291bnRVcGRhdGUocy5hY2NvdW50RGV0YWlscyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcy5kZWxldGVBY2NvdW50VWkgPSBmdW5jdGlvbigpewoKICAgICAgICAgICAgICAgICQoIi5Qb3BVcCIpLmZhZGVJbigxMDAsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAkKCIuUG9wVXAgPiBkaXY6bnRoLWNoaWxkKDEpIikuYW5pbWF0ZSh7InRvcCI6IHRvcH0sIDYwMCk7CiAgICAgICAgICAgICAgICAgICAgJCgiYm9keSIpLmNzcyh7ImxlZnQiOiAiMHB4In0pCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAkKCcuZGVsZXRlQWNjb3VudFBvcHVwJykuZmFkZUluKDM1MCk7CgogICAgICAgICAgICB9CgogICAgICAgICAgICBzLmRlbGV0ZUFjY291bnRDb25maXJtZWQgPSBmdW5jdGlvbigpewoKICAgICAgICAgICAgICAgIHMuY2xvc2VEZWxldGVEaWFsb2dCb3goKTsKCiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2VQcm9taXNlID0gYWNjb3VudFNlcnZpY2UuZGVsZXRlQWNjb3VudCgpOwogICAgICAgICAgICAgICAgcmVzcG9uc2VQcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7CgogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgb25seSBydW4gYWZ0ZXIgZ2V0RGF0YSgpIHJlc29sdmVzCiAgICAgICAgICAgICAgICAgICAgdmFyIGlzU3VjY2VzcyAgPSByZXN1bHQuU3RhdHVzTWVzc2FnZS5zdWNjZXNzOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJyZXN1bHQgaXMgc3VjY2VzcyAtICIraXNTdWNjZXNzICsiICBSZXN1bHQgb3V0Y29tZSAtICIrIHJlc3VsdC5TdGF0dXNNZXNzYWdlLnJlYXNvbiApOwogICAgICAgICAgICAgICAgICAgIGlmKGlzU3VjY2Vzcyl7CgogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncmVtZW1iZXJNZScpOwogICAgICAgICAgICAgICAgICAgICAgICAkY29va2llLnJlbW92ZSgkY29va2llKCdsYXN0TG9naW4nKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAkKCIuUG9wVXAiKS5mYWRlSW4oMTAwLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCIuUG9wVXAgPiBkaXY6bnRoLWNoaWxkKDEpIikuYW5pbWF0ZSh7InRvcCI6IHRvcH0sIDYwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCJib2R5IikuY3NzKHsibGVmdCI6ICIwcHgifSkKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAkKCcuc3VjY2Vzc2Z1bERlbGV0ZU1lc3NhZ2UnKS5mYWRlSW4oMzUwKTsKCiAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoIi5zdWNjZXNzZnVsRGVsZXRlTWVzc2FnZSIpLmZhZGVPdXQoMzUwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoIi5Qb3BVcCA+IGRpdjpudGgtY2hpbGQoMSkiKS5hbmltYXRlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidG9wIjogIi0xNTAlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgiLlBvcFVwIikuZmFkZU91dCgxMDAsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgiYm9keSIpLmNzcygib3ZlcmZsb3cteSIsICJzY3JvbGwiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CgogICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKTsKICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBIZWxwZXIuZm9yQWxsUGFnZSgpOwoKICAgICAgICB9XSk7Cn0pOwoKCgoKCi8qKgogKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDMxLzEyLzIwMTUuCiAqLwoKZGVmaW5lKCdhcHAvYWNjb3VudC9jb250cm9sbGVycy9hY2NvdW50RGV0YWlsc0N0cmwnLFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKGNvbnRyb2xsZXJzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb250cm9sbGVycy5jb250cm9sbGVyKCdhY2NvdW50RGV0YWlsc0N0cmwnLCBbJyRzY29wZScsICckdGltZW91dCcsCiAgICAgICAgJyRsb2NhdGlvbicsICdyZXNvbHZlUGFyYW1zJywgJ3JlZ2lzdGVyU2VydmljZScsICdhY2NvdW50U2VydmljZScsCiAgICAgICAgZnVuY3Rpb24gKHMsICR0aW1lb3V0LCAkbG9jYXRpb24sIHJlc29sdmVQYXJhbXMsIHJlZ2lzdGVyU2VydmljZSwgYWNjb3VudFNlcnZpY2UpIHsKCiAgICAgICAgICAgIGNoZWNrTG9naW4oKTsKICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2tMb2dpbigpIHsKICAgICAgICAgICAgICAgIHMuY2hlY2tMb2dpbigpOwogICAgICAgICAgICAgICAgaWYgKCRsb2NhdGlvbi5wYXRoKCkuaW5kZXhPZignL2FjY291bnREZXRhaWxzJykgIT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICAkdGltZW91dChjaGVja0xvZ2luLCAyMDAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfS8vTW92aW5nIHRvIEFXUyEKCiAgICAgICAgICAgIHMuYWNjb3VudERldGFpbHMgPSByZXNvbHZlUGFyYW1zLmFjY291bnREZXRhaWxzOwogICAgICAgICAgICBzLmFjY291bnREZXRhaWxzQW5zd2VyID0ge21lc3NhZ2U6ICcnLCBjbGFzczogJ2ludmFsaWQnfQogICAgICAgICAgICBzLnNhdmVBY2NvdW50RGV0YWlscyA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgICAgICBzLmFjY291bnREZXRhaWxzLmNvdW50cnlJZCA9IHMuY291bnRyeS5pZDsKICAgICAgICAgICAgICAgIHMuYWNjb3VudERldGFpbHMuY291bnRyeUlkID0gcy5jb3VudHJ5Lm5hbWUgKyAiLCIgKyBzLmNvdW50cnkuaXNvTmFtZTsKICAgICAgICAgICAgICAgIHMuYWNjb3VudERldGFpbHMuY291bnRyeUlzb05hbWUgPSBzLmNvdW50cnkuaXNvTmFtZTsKICAgICAgICAgICAgICAgIHMuYWNjb3VudERldGFpbHMuY291bnRyeU5hbWUgPSBzLmNvdW50cnkubmFtZTsKICAgICAgICAgICAgICAgIGFjY291bnRTZXJ2aWNlLmNoYW5nZVVzZXJQYXNzd29yZChzLmFjY291bnREZXRhaWxzLmlkLCBzLnBhc3N3b3JkcykKICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoY2hhbmdlVXNlclBhc3N3b3JkUmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VVc2VyUGFzc3dvcmRSZXMgJiYgY2hhbmdlVXNlclBhc3N3b3JkUmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRTZXJ2aWNlLmFjY291bnRVcGRhdGUocy5hY2NvdW50RGV0YWlscykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UucmVhc29uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuYWNjb3VudERldGFpbHNBbnN3ZXIgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5yZWFzb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHJlc3BvbnNlLnN1Y2Nlc3MgPyAndmFsaWQnIDogJ2ludmFsaWQnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCdteUFjY291bnQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLmFjY291bnREZXRhaWxzQW5zd2VyID0ge21lc3NhZ2U6ICcnLCBjbGFzczogJ2ludmFsaWQnfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNDAwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuYWNjb3VudERldGFpbHNBbnN3ZXIgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICdpbnZhbGlkJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGFuZ2VVc2VyUGFzc3dvcmRSZXMucmVhc29uLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuYWNjb3VudERldGFpbHNBbnN3ZXIgPSB7bWVzc2FnZTogJycsIGNsYXNzOiAnaW52YWxpZCd9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA0MDAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBzLmNvdW50cmllcyA9IG51bGw7CiAgICAgICAgICAgIHJlZ2lzdGVyU2VydmljZS5nZXRBbGxDb3VudHJpZXMoKS50aGVuKGZ1bmN0aW9uIChjb3VudHJpZXMpIHsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgIGluIGNvdW50cmllcykgewogICAgICAgICAgICAgICAgICAgIGlmIChjb3VudHJpZXNbaV0uaWQgPT0gcy5hY2NvdW50RGV0YWlscy5jb3VudHJ5SWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcy5jb3VudHJ5ID0gY291bnRyaWVzW2ldOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzLmNvdW50cmllcyA9IGNvdW50cmllczsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBzLnBhc3N3b3JkcyA9IHsKICAgICAgICAgICAgICAgIG5ldzogJycsCiAgICAgICAgICAgICAgICBvbGQ6ICcnLAogICAgICAgICAgICAgICAgY29uZmlybV9uZXc6ICcnLAogICAgICAgICAgICB9CgogICAgICAgICAgICBzLnNsaWRlVG9nZ2xlID0gZnVuY3Rpb24gKGlkKSB7CiAgICAgICAgICAgICAgICAkKCIjIiArIGlkICsgIiwgLiIgKyBpZCkuc2xpZGVUb2dnbGUoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgSGVscGVyLmZvckFsbFBhZ2UoKTsKCiAgICAgICAgfV0pOwp9KTsKCgoKCgovKioKICogQ3JlYXRlZCBieSBjb3JyZW50aSBvbiAwMi8wMi8yMDE2LgogKi8KCgpkZWZpbmUoJ2FwcC9hY2NvdW50L2NvbnRyb2xsZXJzL2FjY291bnRQYXltZW50RWRpdEN0cmwnLFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKGNvbnRyb2xsZXJzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb250cm9sbGVycy5jb250cm9sbGVyKCdhY2NvdW50UGF5bWVudEVkaXRDdHJsJywgWyckc2NvcGUnLCAnJHRpbWVvdXQnLAogICAgICAgICckbG9jYXRpb24nLCAncmVzb2x2ZVBhcmFtcycsICdhY2NvdW50U2VydmljZScsCiAgICAgICAgZnVuY3Rpb24gKHMsICR0aW1lb3V0LCAkbG9jYXRpb24sIHJlc29sdmVQYXJhbXMsIGFjY291bnRTZXJ2aWNlKSB7CgogICAgICAgICAgICBjaGVja0xvZ2luKCk7CiAgICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrTG9naW4oKSB7CiAgICAgICAgICAgICAgICBzLmNoZWNrTG9naW4oKTsKICAgICAgICAgICAgICAgIGlmICgkbG9jYXRpb24ucGF0aCgpLmluZGV4T2YoJy9hY2NvdW50UGF5bWVudEVkaXQnKSAhPSAtMSkgewogICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGNoZWNrTG9naW4sIDIwMDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBzLnllYXJzID0gW107CiAgICAgICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHsKICAgICAgICAgICAgICAgIHMueWVhcnMucHVzaCgobm93LmdldEZ1bGxZZWFyKCkgKyBpKSArICIiKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcy5tb250aCA9IFsiMDEiLCAiMDIiLCAiMDMiLCAiMDQiLCAiMDUiLCAiMDYiLCAiMDciLCAiMDgiLCAiMDkiLCAiMTAiLCAiMTEiLCAiMTIiXTsKICAgICAgICAgICAgcy5jYWxjdWxhdGVNb250aHMgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICAgIHZhciBhcnIgPSBIZWxwZXIuZ2V0TW9udGhJblllYXJGb3JNYXN0ZXJDcmVkaXQodmFsdWUsIHMubW9udGgpOwogICAgICAgICAgICAgICAgaWYgKGFyciAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgcy5tb250aCA9IGFycjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKCiAgICAgICAgICAgIHMuY2FyZCA9IHtudW1iZXI6ICcnLCBjdnY6ICcnLCBleHBpcmF0aW9uRGF0ZToge21vbnRoOiAnJywgeWVhcjogJyd9LCBuYW1lOiAnJ30KICAgICAgICAgICAgcy5zYXZlUGF5ID0ge3VzZXJuYW1lOiAnJywgcGFzc3dvcmQ6ICcnfQoKICAgICAgICAgICAgdmFyIGFscmVhZHlIYXZlTWFzdGVyQ3JlZGl0Q2FydCA9IGZhbHNlOwogICAgICAgICAgICB2YXIgYWxyZWFkeUhhdmVTYWZlUGF5Q2FydCA9IGZhbHNlOwogICAgICAgICAgICB2YXIgbWFzdGVyQ3JlZGl0ID0gcmVzb2x2ZVBhcmFtcy5wYXltZW50UHJlZmVyZW5jZXMgJiYgcmVzb2x2ZVBhcmFtcy5wYXltZW50UHJlZmVyZW5jZXMubWFzdGVyQ3JlZGl0ID8KICAgICAgICAgICAgICAgIHJlc29sdmVQYXJhbXMucGF5bWVudFByZWZlcmVuY2VzLm1hc3RlckNyZWRpdCA6IG51bGw7CgogICAgICAgICAgICBpZiAobWFzdGVyQ3JlZGl0ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG0gPSBtYXN0ZXJDcmVkaXQuZXhwaXJhdGlvbkRhdGUuc3Vic3RyaW5nKDAsIDIpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaChlcnIpIHsKICAgICAgICAgICAgICAgICAgICBtID0gKCBtYXN0ZXJDcmVkaXQuZXhwaXJhdGlvbkRhdGUgKz0gIiIpLnN1YnN0cmluZygwLDIpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzLmNhcmQgPSB7CiAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBtYXN0ZXJDcmVkaXQuY2FyZE51bWJlci5zdWJzdHJpbmcoNCksCiAgICAgICAgICAgICAgICAgICAgY3Z2OiBtYXN0ZXJDcmVkaXQuY3Z2TnVtYmVyLAogICAgICAgICAgICAgICAgICAgIGV4cGlyYXRpb25EYXRlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoOiBtLAogICAgICAgICAgICAgICAgICAgICAgICB5ZWFyOiBtYXN0ZXJDcmVkaXQuZXhwaXJhdGlvbkRhdGUuc3Vic3RyaW5nKDIpCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBuYW1lOiBtYXN0ZXJDcmVkaXQuY3VzdG9tZXJuYW1lLAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYWxyZWFkeUhhdmVNYXN0ZXJDcmVkaXRDYXJ0ID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgICBpZiAoZGF0ZS5nZXRGdWxsWWVhcigpID09IHMuY2FyZC5leHBpcmF0aW9uRGF0ZS55ZWFyKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRNb250aCA9IGRhdGUuZ2V0TW9udGgoKSArIDE7CiAgICAgICAgICAgICAgICAgICAgcy5tb250aCA9IFtdOwogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBjdXJyZW50TW9udGg7IGkgPD0gMTI7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICBzLm1vbnRoLnB1c2goKGkgPCAxMCA/ICIwIiArIGkgOiAiIiArIGkpKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIHNhZmVQYXkgPSByZXNvbHZlUGFyYW1zLnBheW1lbnRQcmVmZXJlbmNlcyAmJiByZXNvbHZlUGFyYW1zLnBheW1lbnRQcmVmZXJlbmNlcy5zYWZlUGF5ID8KICAgICAgICAgICAgICAgIHJlc29sdmVQYXJhbXMucGF5bWVudFByZWZlcmVuY2VzLnNhZmVQYXkgOiBudWxsOwogICAgICAgICAgICBpZiAoc2FmZVBheSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBzLnNhdmVQYXkudXNlcm5hbWUgPSBzYWZlUGF5LnNhZmVwYXlVc2VybmFtZTsKICAgICAgICAgICAgICAgIC8vcy5zYXZlUGF5LnBhc3N3b3JkID0gc2FmZVBheS5zYWZlcGF5UGFzc3dvcmQ7CiAgICAgICAgICAgICAgICBhbHJlYWR5SGF2ZVNhZmVQYXlDYXJ0ID0gdHJ1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcy5wcmVmZXJyZWRQYXltZW50X01hc3RlckNyZWRpdCA9IHRydWU7CiAgICAgICAgICAgIHMucHJlZmVycmVkUGF5bWVudF9TYWZlUGF5ID0gdHJ1ZTsKICAgICAgICAgICAgcy5zYXZlUGF5QmxvY2tlZCA9IHNhZmVQYXkgPT0gbnVsbCB8fCBtYXN0ZXJDcmVkaXQgPT0gbnVsbDsKCiAgICAgICAgICAgIHMuaW1nUmFkaW9CdXR0b24gPSByZXNvbHZlUGFyYW1zLmFjY291bnREZXRhaWxzLmRlZmF1bHRQYXltZW50TWV0aG9kSWQgKyAiIiA9PSAiMjAiID8gMgogICAgICAgICAgICAgICAgOiBzYWZlUGF5ICE9IG51bGwgPyAxCiAgICAgICAgICAgICAgICA6IG1hc3RlckNyZWRpdCAhPSBudWxsID8gMiA6IDE7CgogICAgICAgICAgICBzLl9zYXZlTWFzdGVyQ3JlZGl0ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICAgICAgICAgIHMuY2FyZC5udW1iZXIgPSBzLmNhcmQubnVtYmVyLnJlcGxhY2UoL1xzL2csJycpOwogICAgICAgICAgICAgICAgaWYgKCFhbHJlYWR5SGF2ZU1hc3RlckNyZWRpdENhcnQpIHsKICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IGFjY291bnRTZXJ2aWNlLmFkZE1hc3RlckNyZWRpdE1ldGhvZChzLmNhcmQpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IGFjY291bnRTZXJ2aWNlLnVwZGF0ZU1hc3RlckNyZWRpdE1ldGhvZChzLmNhcmQpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXNwb25zZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewoKICAgICAgICAgICAgICAgICAgICBpZiAocy5wcmVmZXJyZWRQYXltZW50X01hc3RlckNyZWRpdCAmJiByZXNwb25zZSAmJiByZXNwb25zZS5yZWFzb24gJiYgcmVzcG9uc2Uuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50U2VydmljZS51cGRhdGVQcmVmZmVyZWRQYXltZW50TWV0aG9kKDIwKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE1lc3NhZ2UocmVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBzZXRNZXNzYWdlKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcy5zYXZlU2FmZVBheSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICAgICAgICAgIGlmICghYWxyZWFkeUhhdmVTYWZlUGF5Q2FydCkgewogICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gYWNjb3VudFNlcnZpY2UuYWRkU2FmZVBheU1ldGhvZChzLnNhdmVQYXkpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IGFjY291bnRTZXJ2aWNlLnVwZGF0ZVNhZmVQYXlNZXRob2Qocy5zYXZlUGF5KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmVzcG9uc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHMucHJlZmVycmVkUGF5bWVudF9TYWZlUGF5ICYmIHJlc3BvbnNlICYmIHJlc3BvbnNlLnJlYXNvbiAmJiByZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRTZXJ2aWNlLnVwZGF0ZVByZWZmZXJlZFBheW1lbnRNZXRob2QoMTApLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0TWVzc2FnZShyZXMpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldE1lc3NhZ2UocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBzZXRNZXNzYWdlKHJlc3BvbnNlKSB7CgogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLnJlYXNvbikgewogICAgICAgICAgICAgICAgICAgIHMuYWNjb3VudERldGFpbHNBbnN3ZXIgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLnJlYXNvbiwKICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHJlc3BvbnNlLnN1Y2Nlc3MgPyAndmFsaWQnIDogJ2ludmFsaWQnCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCdteUFjY291bnQnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICQoIiNzYWZlUGF5RGV0YWlsRXJyb3JMYWJlbCIpLmh0bWwocmVzcG9uc2UucmVhc29uKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuYWNjb3VudERldGFpbHNBbnN3ZXIgPSB7bWVzc2FnZTogJycsIGNsYXNzOiAnaW52YWxpZCd9CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDQwMDApCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBIZWxwZXIuZm9yQWxsUGFnZSgpOwoKICAgICAgICB9XSk7Cn0pOwoKCgoKCgoKLyoqCiAqIENyZWF0ZWQgYnkgY29ycmVudGkgb24gMjcvMDcvMjAxNi4KICovCgoKCmRlZmluZSgnYXBwL2FjY291bnQvY29udHJvbGxlcnMvTXlPcmRlcnNDdHJsJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChjb250cm9sbGVycykgewogICAgJ3VzZSBzdHJpY3QnOwpjb250cm9sbGVycy5jb250cm9sbGVyKCdteU9yZGVyc0N0cmwnLCBbJ3Jlc29sdmVQYXJhbXMnLCAnJHNjb3BlJywgJ01vZGFsU2VydmljZScsICdvcmRlclNlcnZpY2UnLAoKICAgIGZ1bmN0aW9uIChyZXNvbHZlUGFyYW1zLCAkc2NvcGUsIE1vZGFsU2VydmljZSwgT3JkZXJTZXJ2aWNlKSB7CgogICAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgICAgdmFyIG1vZGFsSWQgPSAnZGVsZXRlLW9yZGVyLWNvbmZpcm1hdGlvbicKICAgICAgICB2bS5vcmRlcnMgPSByZXNvbHZlUGFyYW1zLm9yZGVyczsKCiAgICAgICAgdm0ucmVtb3ZlUHJvZHVjdEZyb21PcmRlcnMgPSBmdW5jdGlvbihvcmRlcil7CiAgICAgICAgICAgIHZtLmRlbGV0ZU9yZGVyQ2FuZGlkYXRlID0gb3JkZXI7CiAgICAgICAgICAgIHZtLm9wZW5Db25maXJtYXRpb25Nb2RhbCgpOwogICAgICAgIH07CgogICAgICAgIHZtLm9wZW5Db25maXJtYXRpb25Nb2RhbCA9IGZ1bmN0aW9uKGlkKXsKICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLk9wZW4obW9kYWxJZCk7CiAgICAgICAgfQoKICAgICAgICAkc2NvcGUuY29uZmlybURlbGV0ZU9yZGVyID0gZnVuY3Rpb24oaWQpewogICAgICAgICAgICBPcmRlclNlcnZpY2UucmVtb3ZlT3JkZXIodm0uZGVsZXRlT3JkZXJDYW5kaWRhdGUpLnRoZW4oZnVuY3Rpb24ob3JkZXJzKXsKICAgICAgICAgICAgICAgIHZtLmRlbGV0ZU9yZGVyQ2FuZGlkYXRlID0gbnVsbDsKICAgICAgICAgICAgICAgIHZtLm9yZGVycyA9IG9yZGVyczsKICAgICAgICAgICAgfSk7CgogICAgICAgIH0KCiAgICAgICAgJHNjb3BlLmNhbmNlbERlbGV0ZU9yZGVyID0gZnVuY3Rpb24oaWQpewogICAgICAgICAgICB2bS5kZWxldGVPcmRlckNhbmRpZGF0ZSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICAvLyBNb2RhbFNlcnZpY2UuU2V0QnRuc0NiKG1vZGFsSWQsIFskc2NvcGUuY29uZmlybURlbGV0ZU9yZGVyLCAkc2NvcGUuY2FuY2VsRGVsZXRlT3JkZXJdKTsKCiAgICAgICAgdm0uZ2V0VG90YWxQcmljZSA9IGZ1bmN0aW9uKGFycil7CiAgICAgICAgICAgIHZhciB0b3RhbCA9IDA7CiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChhcnIsIGZ1bmN0aW9uKHByb2R1Y3QpewogICAgICAgICAgICAgICAgdG90YWwgKz0gcHJvZHVjdC5QcmljZVBlclVuaXQgKiBwcm9kdWN0LlF1YW50aXR5OwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHRvdGFsOwogICAgICAgIH0KCiAgICB9XSk7Cn0pOwoKLyoqCiAqIENyZWF0ZWQgYnkga3ViYW55IG9uIDEwLzEzLzIwMTUuCiAqLwoKCmRlZmluZSgnYXBwL2FjY291bnQvY29udHJvbGxlcnMvaW5kZXgnLFsKICAgICcuL215QWNjb3VudEN0cmwnLAogICAgJy4vYWNjb3VudERldGFpbHNDdHJsJywKICAgICcuL2FjY291bnRQYXltZW50RWRpdEN0cmwnLAogICAgJy4vTXlPcmRlcnNDdHJsJwpdLCBmdW5jdGlvbigpIHt9KTsKLyoqCiAqIENyZWF0ZWQgYnkga3ViYW55IG9uIDEwLzEzLzIwMTUuCiAqLwpkZWZpbmUoJ2FwcC91c2VyL3NlcnZpY2VzL21vZHVsZScsWydhbmd1bGFyJ10sIGZ1bmN0aW9uIChhbmd1bGFyKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICByZXR1cm4gYW5ndWxhci5tb2R1bGUoJ2Fvcy51c2VyLnNlcnZpY2VzJywgW10pOwp9KTsKLyoqCiAqIENyZWF0ZWQgYnkga3ViYW55IG9uIDExLzExLzIwMTUuCiAqLwpkZWZpbmUoJ2FwcC91c2VyL3NlcnZpY2VzL3VzZXJTZXJ2aWNlJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChzZXJ2aWNlcykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgc2VydmljZXMuZmFjdG9yeSgndXNlclNlcnZpY2UnLCBbJyRyb290U2NvcGUnLCAnJHEnLCAnJGh0dHAnLAoKICAgICAgICBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJHEsICRodHRwKSB7CgogICAgICAgICAgICByZXR1cm4gKHsKICAgICAgICAgICAgICAgIGxvZ2luOiBsb2dpbiwKICAgICAgICAgICAgICAgIGdldENvbmZpZ3VyYXRpb246IGdldENvbmZpZ3VyYXRpb24sCiAgICAgICAgICAgICAgICBzaW5nT3V0OiBzaW5nT3V0LAogICAgICAgICAgICAgICAgZ2V0Q2FydEluY3JlbWVudDogZ2V0Q2FydEluY3JlbWVudCwKICAgICAgICAgICAgICAgIGdldER1cGxpY2F0ZVByb2R1Y3RQcmljZTogZ2V0RHVwbGljYXRlUHJvZHVjdFByaWNlLAogICAgICAgICAgICAgICAgbnZfc2xvd1BhZ2U6IG52X3Nsb3dQYWdlLAogICAgICAgICAgICAgICAgaGF2ZUNvbmZpZ3VyYXRpb246IGhhdmVDb25maWd1cmF0aW9uLAogICAgICAgICAgICAgICAgZmFjZWJvb2tMb2dpbiA6IGZhY2Vib29rTG9naW4sCiAgICAgICAgICAgICAgICBnZXRXYXJyYW50eVByb3BlcnRpZXM6IGdldFdhcnJhbnR5UHJvcGVydGllcywKICAgICAgICAgICAgICAgIGdldFZvbHRhZ2VQcm9wZXJ0aWVzOiBnZXRWb2x0YWdlUHJvcGVydGllcwoKICAgICAgICAgICAgfSk7CgoKICAgICAgICAgICAgZnVuY3Rpb24gaGF2ZUNvbmZpZ3VyYXRpb24oKXsKICAgICAgICAgICAgICAgIHZhciBkZWZlciA9ICRxLmRlZmVyKCk7CiAgICAgICAgICAgICAgICBpZihhcHBDb25maWd1cmF0aW9uICYmIGFwcENvbmZpZ3VyYXRpb24uc2xvd1BhZ2UpewogICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICAgICAgZ2V0Q29uZmlndXJhdGlvbigpLnRoZW4oZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZSgpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGdldENhcnRJbmNyZW1lbnQoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYXBwQ29uZmlndXJhdGlvbiAmJiBhcHBDb25maWd1cmF0aW9uLmNhcnRJbmNyZW1lbnQgPyBhcHBDb25maWd1cmF0aW9uLmNhcnRJbmNyZW1lbnQgOiAwOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBnZXREdXBsaWNhdGVQcm9kdWN0UHJpY2UoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYXBwQ29uZmlndXJhdGlvbiAmJiBhcHBDb25maWd1cmF0aW9uLmR1cGxpY2F0ZVByb2R1Y3RQcmljZSA/IGFwcENvbmZpZ3VyYXRpb24uZHVwbGljYXRlUHJvZHVjdFByaWNlIDogMTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gZ2V0V2FycmFudHlQcm9wZXJ0aWVzKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGFwcENvbmZpZ3VyYXRpb24gJiYgYXBwQ29uZmlndXJhdGlvbi5lbmFibGVXYXJyYW50eSA/CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVXYXJyYW50eTogYXBwQ29uZmlndXJhdGlvbi5lbmFibGVXYXJyYW50eSA9PSAyID8gdHJ1ZSA6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICB3YXJyYW50eVVybDogYXBwQ29uZmlndXJhdGlvbi53YXJyYW50eVVybAogICAgICAgICAgICAgICAgICAgIH0gOiB7fTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gZ2V0Vm9sdGFnZVByb3BlcnRpZXMoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYXBwQ29uZmlndXJhdGlvbiAmJiBhcHBDb25maWd1cmF0aW9uLmVuYWJsZVZvbHRhZ2UgPwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlVm9sdGFnZTogYXBwQ29uZmlndXJhdGlvbi5lbmFibGVWb2x0YWdlID09IDIgPyB0cnVlIDogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgIHZvbHRhZ2VVcmw6IGFwcENvbmZpZ3VyYXRpb24udm9sdGFnZVVybCArICcvdmliZXNpbXBsZS9yZXN0L3YxL3Byb3RlY3QtZmllbGRzJwogICAgICAgICAgICAgICAgICAgIH0gOiB7fTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gc2luZ091dCgpIHsKCiAgICAgICAgICAgICAgICB2YXIgZGVmZXIgPSAkcS5kZWZlcigpOwogICAgICAgICAgICAgICAgdmFyIHVzZXIgPSAkcm9vdFNjb3BlLnVzZXJDb29raWU7CiAgICAgICAgICAgICAgICBpZiAodXNlciAmJiB1c2VyLnJlc3BvbnNlICYmIHVzZXIucmVzcG9uc2UudXNlcklkICE9IC0xKSB7CgogICAgICAgICAgICAgICAgICAgIHZhciBwYXJhbXNUb1NlbmQgPSBzZXJ2ZXIuYWNjb3VudC5hY2NvdW50TG9nb3V0KCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGV4cGVjdFRvUmVjZWl2ZSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgbG9naW5Vc2VyOiB1c2VyLnJlc3BvbnNlLnVzZXJJZCwKICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTY0VG9rZW46ICJCYXNpYyAiICsgdXNlci5yZXNwb25zZS50X2F1dGhvcml6YXRpb24sCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZW5hYmxlTG9hZGVyKCk7CgogICAgICAgICAgICAgICAgICAgIExvZ2VyLlBhcmFtcyhleHBlY3RUb1JlY2VpdmUsIHBhcmFtc1RvU2VuZC5tZXRob2QpOwogICAgICAgICAgICAgICAgICAgICQuc29hcCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogcGFyYW1zVG9TZW5kLnBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogcGFyYW1zVG9TZW5kLm1ldGhvZCwKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlVVJMOiBzZXJ2ZXIubmFtZXNwYWNlVVJMLAogICAgICAgICAgICAgICAgICAgICAgICBTT0FQQWN0aW9uOiBzZXJ2ZXIubmFtZXNwYWNlVVJMICsgcGFyYW1zVG9TZW5kLm1ldGhvZCwKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZXhwZWN0VG9SZWNlaXZlLAogICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoc29hcFJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBzb2FwUmVzcG9uc2UudG9KU09OKHBhcmFtc1RvU2VuZC5yZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShyZXNwb25zZS5TdGF0dXNNZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVyLmRpc2FibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlamVjdCgiUmVxdWVzdCBmYWlsZWQhICIpOwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVMb2dnaW5nOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKCJubyB1c2VyIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTsKICAgICAgICAgICAgfQoKCiAgICAgICAgICAgIHZhciBhcHBDb25maWd1cmF0aW9uOwoKICAgICAgICAgICAgZnVuY3Rpb24gbnZfc2xvd1BhZ2UoKXsKICAgICAgICAgICAgICAgIGlmKGFwcENvbmZpZ3VyYXRpb249PSB1bmRlZmluZWQpewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIHJldHVybiBhcHBDb25maWd1cmF0aW9uLnNsb3dQYWdlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gZ2V0Q29uZmlndXJhdGlvbigpIHsKCiAgICAgICAgICAgICAgICB2YXIgY29uZmlnID0ge307CgogICAgICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTsKICAgICAgICAgICAgICAgIGlmIChhcHBDb25maWd1cmF0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShhcHBDb25maWd1cmF0aW9uKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vSGVscGVyLmVuYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICRodHRwKHsKICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXIuY2F0YWxvZy5nZXRDb25maWd1cmF0aW9ucygpLAogICAgICAgICAgICAgICAgICAgIH0pLgogICAgICAgICAgICAgICAgICAgIHRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChyZXMpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLnNob3dDaGFuZ2VQYXNzd29yZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMgJiYgcmVzLmRhdGEgJiYgcmVzLmRhdGEucGFyYW1ldGVycykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXMuZGF0YS5wYXJhbWV0ZXJzLmxlbmd0aDsgaSsrKSB7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocmVzLmRhdGEucGFyYW1ldGVyc1tpXS5wYXJhbWV0ZXJOYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIkVtYWlsX2luX2xvZ2luIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5lbWFpbEFkZHJlc3NJbkxvZ2luID0gcmVzLmRhdGEucGFyYW1ldGVyc1tpXS5wYXJhbWV0ZXJWYWx1ZSAmJgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5kYXRhLnBhcmFtZXRlcnNbaV0ucGFyYW1ldGVyVmFsdWUudG9Mb3dlckNhc2UoKSA9PSAieWVzIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJTaG93X3Nsb3dfcGFnZXMiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLnNsb3dQYWdlID0gcmVzLmRhdGEucGFyYW1ldGVyc1tpXS5wYXJhbWV0ZXJWYWx1ZSAmJgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5kYXRhLnBhcmFtZXRlcnNbaV0ucGFyYW1ldGVyVmFsdWUudG9Mb3dlckNhc2UoKSA9PSAieWVzIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJJbXBsZW1lbnRfRGV2T3BzX1Byb2Nlc3MiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLnNob3dDaGFuZ2VQYXNzd29yZCA9IHJlcy5kYXRhLnBhcmFtZXRlcnNbaV0ucGFyYW1ldGVyVmFsdWUgJiYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMuZGF0YS5wYXJhbWV0ZXJzW2ldLnBhcmFtZXRlclZhbHVlLnRvTG93ZXJDYXNlKCkgPT0gInllcyI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiVHlwb3Nfb25fb3JkZXJfcGF5bWVudCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuc3BlbGxpbmdNaXN0YWtlcyA9IHJlcy5kYXRhLnBhcmFtZXRlcnNbaV0ucGFyYW1ldGVyVmFsdWUgJiYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMuZGF0YS5wYXJhbWV0ZXJzW2ldLnBhcmFtZXRlclZhbHVlLnRvTG93ZXJDYXNlKCkgPT0gInllcyI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiU3VtX2FkZGVkX3RvX2NhcnQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLmNhcnRJbmNyZW1lbnQgPSByZXMuZGF0YS5wYXJhbWV0ZXJzW2ldLnBhcmFtZXRlclZhbHVlIHx8ICIwIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5jYXJ0SW5jcmVtZW50ID0gcGFyc2VJbnQoY29uZmlnLmNhcnRJbmNyZW1lbnQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb25maWcuY2FydEluY3JlbWVudCB8fCBjb25maWcuY2FydEluY3JlbWVudCA8IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuY2FydEluY3JlbWVudCA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiUHJpY2VfZGlmZnNfVUlfdnNfQVBJIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5kdXBsaWNhdGVQcm9kdWN0UHJpY2UgPSByZXMuZGF0YS5wYXJhbWV0ZXJzW2ldLnBhcmFtZXRlclZhbHVlICYmCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMuZGF0YS5wYXJhbWV0ZXJzW2ldLnBhcmFtZXRlclZhbHVlLnRvTG93ZXJDYXNlKCkgPT0gInllcyIgPyAyIDogMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJFbmFibGVfV2FycmFudHkiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLmVuYWJsZVdhcnJhbnR5ID0gcmVzLmRhdGEucGFyYW1ldGVyc1tpXS5wYXJhbWV0ZXJWYWx1ZSAmJgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmRhdGEucGFyYW1ldGVyc1tpXS5wYXJhbWV0ZXJWYWx1ZS50b0xvd2VyQ2FzZSgpID09ICJ5ZXMiID8gMiA6IDE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcud2FycmFudHlVcmwgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJFbmFibGVfVm9sdGFnZV9FbmNyeXB0aW9uIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5lbmFibGVWb2x0YWdlID0gcmVzLmRhdGEucGFyYW1ldGVyc1tpXS5wYXJhbWV0ZXJWYWx1ZSAmJgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmRhdGEucGFyYW1ldGVyc1tpXS5wYXJhbWV0ZXJWYWx1ZS50b0xvd2VyQ2FzZSgpID09ICJ5ZXMiID8gMiA6IDE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiVm9sdGFnZV9TZXJ2aWNlX1VSTCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcudm9sdGFnZVVybCA9IHJlcy5kYXRhLnBhcmFtZXRlcnNbaV0ucGFyYW1ldGVyVmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FzZSAiV2FycmFudHlfbG9jYXRpb24iOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29uZmlnLndhcnJhbnR5VXJsID0gcmVzLmRhdGEucGFyYW1ldGVyc1tpXS5wYXJhbWV0ZXJWYWx1ZSA9PSAnZGVmYXVsdCcgPyAnJyA6IHJlcy5kYXRhLnBhcmFtZXRlcnNbaV0ucGFyYW1ldGVyVmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJhbXNUb1NlbmQgPSBzZXJ2ZXIuY2F0YWxvZy5nZXRBY2NvdW50Q29uZmlndXJhdGlvbigpOwogICAgICAgICAgICAgICAgICAgICAgICAkLnNvYXAoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBwYXJhbXNUb1NlbmQucGF0aCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogcGFyYW1zVG9TZW5kLm1ldGhvZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZVVSTDogc2VydmVyLm5hbWVzcGFjZVVSTCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNPQVBBY3Rpb246IHNlcnZlci5uYW1lc3BhY2VVUkwgKyBwYXJhbXNUb1NlbmQubWV0aG9kLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoc29hcFJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBzb2FwUmVzcG9uc2UudG9KU09OKHBhcmFtc1RvU2VuZC5yZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLmFsbG93VXNlckNvbmZpZ3VyYXRpb24gPSBqc29uLmFsbG93VXNlckNvbmZpZ3VyYXRpb247CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLmxvZ2luQmxvY2tpbmdJbnRlcnZhbEluU2Vjb25kcyA9IGpzb24ubG9naW5CbG9ja2luZ0ludGVydmFsSW5TZWNvbmRzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5udW1iZXJPZkZhaWxlZExvZ2luQXR0ZW1wdHNCZWZvcmVCbG9ja2luZyA9IGpzb24ubnVtYmVyT2ZGYWlsZWRMb2dpbkF0dGVtcHRzQmVmb3JlQmxvY2tpbmc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLnByb2R1Y3RJblN0b2NrRGVmYXVsdFZhbHVlID0ganNvbi5wcm9kdWN0SW5TdG9ja0RlZmF1bHRWYWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcudXNlckxvZ2luVGltZU91dCA9IGpzb24udXNlckxvZ2luVGltZW91dDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcudXNlclNlY29uZFdTREwgPSBqc29uLnVzZXJTZWNvbmRXc2RsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcENvbmZpZ3VyYXRpb24gPSBjb25maWc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQlVHOiAjMTYxMDAxIC0gUmVtb3ZlIGR1cGxpY2F0ZSByZXF1ZXN0cwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnY29uZmlndXJhdGlvbkxvYWRlZCcsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IGNvbmZpZwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUoY29uZmlnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlci5kaXNhYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVqZWN0KCJSZXF1ZXN0IGZhaWxlZCEgIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlTG9nZ2luZzogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChlcnIpOwogICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZWplY3QoInByb2JsLiIpCiAgICAgICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gbG9naW4odXNlcikgewoKICAgICAgICAgICAgICAgIHZhciBkZWZlciA9ICRxLmRlZmVyKCk7CiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gc2VydmVyLmFjY291bnQubG9naW4oKTsKCiAgICAgICAgICAgICAgICBIZWxwZXIuZW5hYmxlTG9hZGVyKCk7CgogICAgICAgICAgICAgICAgTG9nZXIuUGFyYW1zKHVzZXIsIHBhcmFtcy5tZXRob2QpOwogICAgICAgICAgICAgICAgLy8gSFRUUEhlYWRlcnM6IHsKICAgICAgICAgICAgICAgIC8vICAgICAnQXV0aG9yaXphdGlvbic6ICdCYXNpYyAnICsgYnRvYSh1c2VyLmxvZ2luVXNlciArICI6IiArIHVzZXIubG9naW5QYXNzd29yZCkKICAgICAgICAgICAgICAgIC8vIH0sCiAgICAgICAgICAgICAgICAkLnNvYXAoewogICAgICAgICAgICAgICAgICAgIHVybDogcGFyYW1zLnBhdGgsCiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBwYXJhbXMubWV0aG9kLAogICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZVVSTDogc2VydmVyLm5hbWVzcGFjZVVSTCwKICAgICAgICAgICAgICAgICAgICBTT0FQQWN0aW9uOiBzZXJ2ZXIubmFtZXNwYWNlVVJMICsgcGFyYW1zLm1ldGhvZCwKICAgICAgICAgICAgICAgICAgICBkYXRhOiB1c2VyLAogICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChzb2FwUmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gc29hcFJlc3BvbnNlLnRvSlNPTihwYXJhbXMucmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUocmVzcG9uc2UuU3RhdHVzTWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVyLmRpc2FibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVqZWN0KCJSZXF1ZXN0IGZhaWxlZCEgIik7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBlbmFibGVMb2dnaW5nOiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gZmFjZWJvb2tMb2dpbigpewogICAgICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTsKICAgICAgICAgICAgICAgIHZhciBwYXJhbXNUb1NlbmQgPSB7fTsKICAgICAgICAgICAgICAgIHZhciBleHBlY3RUb1JlY2VpdmUgPSB7fQoKICAgICAgICAgICAgICAgIEhlbHBlci5lbmFibGVMb2FkZXIoKTsKCiAgICAgICAgICAgICAgICBMb2dlci5QYXJhbXMoZXhwZWN0VG9SZWNlaXZlLCBwYXJhbXNUb1NlbmQubWV0aG9kKTsKICAgICAgICAgICAgICAgICRodHRwKHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgICAgICAgICAgICB1cmw6IHNlcnZlci5hY2NvdW50LmZhY2Vib29rTG9naW4oKSwKICAgICAgICAgICAgICAgICAgICBkYXRhOiB7fSwKICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0pLgogICAgICAgICAgICAgICAgdGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgSGVscGVyLmRpc2FibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChyZXMpOwogICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUocmVzLmRhdGEpCiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgSGVscGVyLmRpc2FibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChlcnIpOwogICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlamVjdChlcnIpCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgfV0pOwp9KTsKCgoKLyoqCiAqIENyZWF0ZWQgYnkga3ViYW55IG9uIDEwLzEzLzIwMTUuCiAqLwpkZWZpbmUoJ2FwcC91c2VyL3NlcnZpY2VzL3JlZ2lzdGVyU2VydmljZScsWycuL21vZHVsZSddLCBmdW5jdGlvbiAoc2VydmljZXMpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHNlcnZpY2VzLnNlcnZpY2UoJ3JlZ2lzdGVyU2VydmljZScsIFsnJGh0dHAnLCAnJHEnLCBmdW5jdGlvbiAoJGh0dHAsICRxKSB7CiAgICAgICAgICAgIC8vIFJldHVybiBwdWJsaWMgQVBJLgogICAgICAgICAgICByZXR1cm4gKHsKICAgICAgICAgICAgICAgIHJlZ2lzdGVyOiByZWdpc3RlciwKICAgICAgICAgICAgICAgIGdldEFsbENvdW50cmllczogZ2V0QWxsQ291bnRyaWVzLAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHZhciBjb3VudHJpZXM7CgogICAgICAgICAgICBmdW5jdGlvbiBnZXRBbGxDb3VudHJpZXMoKSB7CgogICAgICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTsKICAgICAgICAgICAgICAgIGlmIChjb3VudHJpZXMpIHsKICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKGNvdW50cmllcyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gc2VydmVyLmFjY291bnQuZ2V0QWxsQ291bnRyaWVzKCk7CgogICAgICAgICAgICAgICAgICAgICQuc29hcCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogcGFyYW1zLnBhdGggLAogICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IHBhcmFtcy5tZXRob2QsCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZVVSTDogc2VydmVyLm5hbWVzcGFjZVVSTCwKICAgICAgICAgICAgICAgICAgICAgICAgU09BUEFjdGlvbjogc2VydmVyLm5hbWVzcGFjZVVSTCArIHBhcmFtcy5tZXRob2QsCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHt9LAogICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoc29hcFJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBzb2FwUmVzcG9uc2UudG9KU09OKHBhcmFtcy5yZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudHJpZXMgPSByZXNwb25zZS5Db3VudHJ5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVyLmRpc2FibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUoY291bnRyaWVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVyLmRpc2FibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlamVjdCgiUmVxdWVzdCBmYWlsZWQhICIpOwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVMb2dnaW5nOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXIobW9kZWwpIHsKCiAgICAgICAgICAgICAgICB2YXIgZXhwZWN0VG9SZWNlaXZlID0gewogICAgICAgICAgICAgICAgICAgICJhY2NvdW50VHlwZSI6ICJVU0VSIiwKICAgICAgICAgICAgICAgICAgICAiYWRkcmVzcyI6IG1vZGVsLmFkZHJlc3MsCiAgICAgICAgICAgICAgICAgICAgImFsbG93T2ZmZXJzUHJvbW90aW9uIjogbW9kZWwub2ZmZXJzX3Byb21vdGlvbiA/ICd0cnVlJyA6ICdmYWxzZScsCiAgICAgICAgICAgICAgICAgICAgImNpdHlOYW1lIjogbW9kZWwuY2l0eSwKICAgICAgICAgICAgICAgICAgICAiY291bnRyeUlkIjogbW9kZWwuY291bnRyeSAmJiBtb2RlbC5jb3VudHJ5LmlkID8gbW9kZWwuY291bnRyeS5uYW1lICsgIiwiICsgbW9kZWwuY291bnRyeS5pc29OYW1lIDogIlVuaXRlZCBTdGF0ZXMsdXMiLAogICAgICAgICAgICAgICAgICAgICJlbWFpbCI6IG1vZGVsLmVtYWlsLAogICAgICAgICAgICAgICAgICAgICJmaXJzdE5hbWUiOiBtb2RlbC5maXJzdE5hbWUsCiAgICAgICAgICAgICAgICAgICAgImxhc3ROYW1lIjogbW9kZWwubGFzdE5hbWUsCiAgICAgICAgICAgICAgICAgICAgImxvZ2luTmFtZSI6IG1vZGVsLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgICAgICJwYXNzd29yZCI6IG1vZGVsLnBhc3N3b3JkLAogICAgICAgICAgICAgICAgICAgICJwaG9uZU51bWJlciI6IG1vZGVsLnBob25lTnVtYmVyLAogICAgICAgICAgICAgICAgICAgICJzdGF0ZVByb3ZpbmNlIjogbW9kZWwuc3RhdGUsCiAgICAgICAgICAgICAgICAgICAgInppcGNvZGUiOiBtb2RlbC5wb3N0YWxDb2RlLAogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHZhciBkZWZlciA9ICRxLmRlZmVyKCk7CiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gc2VydmVyLmFjY291bnQucmVnaXN0ZXIoKTsKICAgICAgICAgICAgICAgIExvZ2VyLlBhcmFtcyhleHBlY3RUb1JlY2VpdmUsIHBhcmFtcy5tZXRob2QpOwoKICAgICAgICAgICAgICAgIEhlbHBlci5lbmFibGVMb2FkZXIoMTApOwoKICAgICAgICAgICAgICAgICQuc29hcCh7CiAgICAgICAgICAgICAgICAgICAgdXJsOiBwYXJhbXMucGF0aCAsCiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBwYXJhbXMubWV0aG9kLAogICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZVVSTDogc2VydmVyLm5hbWVzcGFjZVVSTCwKICAgICAgICAgICAgICAgICAgICBTT0FQQWN0aW9uOiBzZXJ2ZXIubmFtZXNwYWNlVVJMICsgcGFyYW1zLm1ldGhvZCwKICAgICAgICAgICAgICAgICAgICBkYXRhOiBleHBlY3RUb1JlY2VpdmUsCiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHNvYXBSZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBzb2FwUmVzcG9uc2UudG9KU09OKHBhcmFtcy5yZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlci5kaXNhYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShyZXNwb25zZS5TdGF0dXNNZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZWplY3QoIlJlcXVlc3QgZmFpbGVkISAiKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGVuYWJsZUxvZ2dpbmc6IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIHJldHVybiBkZWZlci5wcm9taXNlOwogICAgICAgICAgICB9CgogICAgICAgIH1dKTsKfSk7CmRlZmluZSgnYXBwL3VzZXIvc2VydmljZXMvYWJvdXRTZXJ2aWNlJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChzZXJ2aWNlcykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgc2VydmljZXMuc2VydmljZSgnYWJvdXRTZXJ2aWNlJywgWyckaHR0cCcsICckcScsIGZ1bmN0aW9uICgkaHR0cCwgJHEpIHsKCiAgICAgICAgICAgIC8vIFJldHVybiBwdWJsaWMgQVBJLgogICAgICAgICAgICByZXR1cm4gKHsKICAgICAgICAgICAgICAgIC8vIHJlZ2lzdGVyOiByZWdpc3RlciwKICAgICAgICAgICAgICAgIC8vIGdldEFsbENvdW50cmllczogZ2V0QWxsQ291bnRyaWVzCiAgICAgICAgICAgIH0pOwoKICAgICAgICB9XSk7Cn0pOwpkZWZpbmUoJ2FwcC91c2VyL3NlcnZpY2VzL3ZlcnNpb25TZXJ2aWNlJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChzZXJ2aWNlcykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgc2VydmljZXMuc2VydmljZSgndmVyc2lvblNlcnZpY2UnLCBbJyRodHRwJywgJyRxJywgZnVuY3Rpb24gKCRodHRwLCAkcSkgewoKICAgICAgICAgICAgLy8gUmV0dXJuIHB1YmxpYyBBUEkuCiAgICAgICAgICAgIHJldHVybiAoewogICAgICAgICAgICAgICAgLy8gcmVnaXN0ZXI6IHJlZ2lzdGVyLAogICAgICAgICAgICAgICAgLy8gZ2V0QWxsQ291bnRyaWVzOiBnZXRBbGxDb3VudHJpZXMKICAgICAgICAgICAgfSk7CgogICAgICAgIH1dKTsKfSk7Ci8qKgogKiBDcmVhdGVkIGJ5IGt1YmFueSBvbiAxMC8xMy8yMDE1LgogKi8KCgpkZWZpbmUoJ2FwcC91c2VyL3NlcnZpY2VzL2luZGV4JyxbJy4vdXNlclNlcnZpY2UnLAogICAgICAgICcuL3JlZ2lzdGVyU2VydmljZScsCiAgICAgICAgJy4vYWJvdXRTZXJ2aWNlJywKICAgICAgICAnLi92ZXJzaW9uU2VydmljZScKICAgICAgICBdLCBmdW5jdGlvbigpIHt9KTsKIC8qKgogKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDEwLzAxLzIwMTYuCiAqLwoKZGVmaW5lKCdhcHAvb3JkZXIvc2VydmljZXMvbW9kdWxlJyxbJ2FuZ3VsYXInXSwgZnVuY3Rpb24gKGFuZ3VsYXIpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHJldHVybiBhbmd1bGFyLm1vZHVsZSgnYW9zLm9yZGVyLnNlcnZpY2VzJywgW10pOwp9KTsKLyoqCiAqIENyZWF0ZWQgYnkgY29ycmVudGkgb24gMTAvMDEvMjAxNi4KCiBb4oCOMjUv4oCOMDEv4oCOMjAxNiAxMToxMl0gUmVnZXYsIEJpbnlhbWluOgogYWNjb3VudFR5cGU6CiAxMCA9IGFkbWluCiAyMCA9IHVzZXIKIDMwID0gZ3Vlc3QKCiAqLwoKZGVmaW5lKCdhcHAvb3JkZXIvc2VydmljZXMvb3JkZXJTZXJ2aWNlJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChzZXJ2aWNlcykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgc2VydmljZXMuc2VydmljZSgnb3JkZXJTZXJ2aWNlJywgWyckcm9vdFNjb3BlJywgJyRxJywgJyRodHRwJywgJyRmaWx0ZXInLCAncHJvZHVjdHNDYXJ0U2VydmljZScsICd1c2VyU2VydmljZScsCgogICAgICAgIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkcSwgJGh0dHAsICRmaWx0ZXIsIHByb2R1Y3RzQ2FydFNlcnZpY2UsIHVzZXJTZXJ2aWNlKSB7CgogICAgICAgICAgICByZXR1cm4gKHsKICAgICAgICAgICAgICAgIGdldEFjY291bnRCeUlkOiBnZXRBY2NvdW50QnlJZCwKICAgICAgICAgICAgICAgIGdldFNoaXBwaW5nQ29zdDogZ2V0U2hpcHBpbmdDb3N0LAogICAgICAgICAgICAgICAgU2FmZVBheTogU2FmZVBheSwKICAgICAgICAgICAgICAgIGFjY291bnRVcGRhdGU6IGFjY291bnRVcGRhdGUsCiAgICAgICAgICAgICAgICB1c2VySXNMb2dpbjogdXNlcklzTG9naW4sCiAgICAgICAgICAgICAgICByZW1vdmVPcmRlcjogcmVtb3ZlT3JkZXIKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBmdW5jdGlvbiB1c2VySXNMb2dpbigpIHsKICAgICAgICAgICAgICAgIHZhciB1c2VyID0gJHJvb3RTY29wZS51c2VyQ29va2llOwogICAgICAgICAgICAgICAgcmV0dXJuIHVzZXIgJiYgdXNlci5yZXNwb25zZSAmJiB1c2VyLnJlc3BvbnNlLnVzZXJJZCAhPSAtMTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gU2FmZVBheSh1c2VyLCBzYXZlUGF5LCBjYXJkLCBzaGlwcGluZywgY2FydCwgYWNjb3VudE51bWJlciwgVHJhbnNQYXltZW50TWV0aG9kLCBjYXJ0SW5jcmVtZW50KSB7CiAgICAgICAgICAgICAgICB2YXIgZGVmZXIgPSAkcS5kZWZlcigpOwoKICAgICAgICAgICAgICAgIHZhciBwdXJjaGFzZWRQcm9kdWN0cyA9IFtdOwogICAgICAgICAgICAgICAgdmFyIHVzaW5nV2FycmFudHkgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChjYXJ0LnByb2R1Y3RzSW5DYXJ0LCBmdW5jdGlvbiAocHJvZHVjdCkgewogICAgICAgICAgICAgICAgICAgIHB1cmNoYXNlZFByb2R1Y3RzLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAiaGV4Q29sb3IiOiBwcm9kdWN0LmNvbG9yLmNvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICJwcm9kdWN0SWQiOiBwcm9kdWN0LnByb2R1Y3RJZCwKICAgICAgICAgICAgICAgICAgICAgICAgInF1YW50aXR5IjogcHJvZHVjdC5xdWFudGl0eSwKICAgICAgICAgICAgICAgICAgICAgICAgImhhc1dhcnJhbnR5IiA6IHByb2R1Y3QuaGFzV2FycmFudHkKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBpZighdXNpbmdXYXJyYW50eSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHVzaW5nV2FycmFudHkgPSBwcm9kdWN0Lmhhc1dhcnJhbnR5OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdXNpbmdXYXJyYW50eSA/IEFuYWx5dGljcy50cmFja0V2ZW50KCdTYWZlUGF5JywgJ1dhcnJhbnR5IGFjdGl2YXRlZCcsIGNhcnQucHJvZHVjdHNJbkNhcnQpIDogIiI7CiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zVG9QYXNzID0gewogICAgICAgICAgICAgICAgICAgICJvcmRlclBheW1lbnRJbmZvcm1hdGlvbiI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIlRyYW5zYWN0aW9uX0FjY291bnROdW1iZXIiOiBhY2NvdW50TnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAiVHJhbnNhY3Rpb25fQ3VycmVuY3kiOiBzaGlwcGluZy5jdXJyZW5jeSwKICAgICAgICAgICAgICAgICAgICAgICAgIlRyYW5zYWN0aW9uX0N1c3RvbWVyUGhvbmUiOiB1c2VyLnBob25lTnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAiVHJhbnNhY3Rpb25fTWFzdGVyQ3JlZGl0X0NWVk51bWJlciI6IGNhcmQuY3Z2LAogICAgICAgICAgICAgICAgICAgICAgICAiVHJhbnNhY3Rpb25fTWFzdGVyQ3JlZGl0X0NhcmROdW1iZXIiOiAnNDg4NicgKyBjYXJkLm51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgIlRyYW5zYWN0aW9uX01hc3RlckNyZWRpdF9DdXN0b21lck5hbWUiOiBjYXJkLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICJUcmFuc2FjdGlvbl9NYXN0ZXJDcmVkaXRfRXhwaXJhdGlvbkRhdGUiOiBjYXJkLmV4cGlyYXRpb25EYXRlLm1vbnRoICsgIiIgKyBjYXJkLmV4cGlyYXRpb25EYXRlLnllYXIsCiAgICAgICAgICAgICAgICAgICAgICAgICJUcmFuc2FjdGlvbl9QYXltZW50TWV0aG9kIjogVHJhbnNQYXltZW50TWV0aG9kLAogICAgICAgICAgICAgICAgICAgICAgICAiVHJhbnNhY3Rpb25fUmVmZXJlbmNlTnVtYmVyIjogMCwKICAgICAgICAgICAgICAgICAgICAgICAgIlRyYW5zYWN0aW9uX1NhZmVQYXlfUGFzc3dvcmQiOiBzYXZlUGF5LnBhc3N3b3JkLAogICAgICAgICAgICAgICAgICAgICAgICAiVHJhbnNhY3Rpb25fU2FmZVBheV9Vc2VyTmFtZSI6IHNhdmVQYXkudXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICJUcmFuc2FjdGlvbl9UcmFuc2FjdGlvbkRhdGUiOiBzaGlwcGluZy50cmFuc2FjdGlvbkRhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICJUcmFuc2FjdGlvbl9UeXBlIjogIlBBWU1FTlQiCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAib3JkZXJTaGlwcGluZ0luZm9ybWF0aW9uIjogewogICAgICAgICAgICAgICAgICAgICAgICAiU2hpcHBpbmdfQWRkcmVzc19BZGRyZXNzIjogdXNlci5hZGRyZXNzLAogICAgICAgICAgICAgICAgICAgICAgICAiU2hpcHBpbmdfQWRkcmVzc19DaXR5IjogdXNlci5jaXR5TmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgIlNoaXBwaW5nX0FkZHJlc3NfQ291bnRyeUNvZGUiOiB1c2VyLmNvdW50cnlJZCwKICAgICAgICAgICAgICAgICAgICAgICAgIlNoaXBwaW5nX0FkZHJlc3NfQ3VzdG9tZXJOYW1lIjogdXNlci5maXJzdE5hbWUgKyAiICIgKyB1c2VyLmxhc3ROYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAiU2hpcHBpbmdfQWRkcmVzc19DdXN0b21lclBob25lIjogdXNlci5waG9uZU51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgIlNoaXBwaW5nX0FkZHJlc3NfUG9zdGFsQ29kZSI6IHVzZXIuemlwY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgIlNoaXBwaW5nX0FkZHJlc3NfU3RhdGUiOiB1c2VyLnN0YXRlUHJvdmluY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJTaGlwcGluZ19Db3N0IjogJGZpbHRlcigncHJvZHVjdHNDYXJ0U3VtJykoY2FydCksCiAgICAgICAgICAgICAgICAgICAgICAgICJTaGlwcGluZ19OdW1iZXJPZlByb2R1Y3RzIjogJGZpbHRlcigncHJvZHVjdHNDYXJ0Q291bnQnKShjYXJ0KSwKICAgICAgICAgICAgICAgICAgICAgICAgIlNoaXBwaW5nX1RyYWNraW5nTnVtYmVyIjogMAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgInB1cmNoYXNlZFByb2R1Y3RzIjogcHVyY2hhc2VkUHJvZHVjdHMsCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBMb2dlci5QYXJhbXMocGFyYW1zVG9QYXNzLCBzZXJ2ZXIub3JkZXIuc2FmZVBheSh1c2VyLmlkKSk7CiAgICAgICAgICAgICAgICBIZWxwZXIuZW5hYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICB2YXIgdm9sdGFnZVByb3AgPSB1c2VyU2VydmljZS5nZXRWb2x0YWdlUHJvcGVydGllcygpOwogICAgICAgICAgICAgICAgaWYodm9sdGFnZVByb3AuZW5hYmxlVm9sdGFnZSl7CiAgICAgICAgICAgICAgICAgICAgZW5jcnlwdENyZWRpdENhcmROdW1iZXIocGFyYW1zVG9QYXNzLm9yZGVyUGF5bWVudEluZm9ybWF0aW9uLlRyYW5zYWN0aW9uX01hc3RlckNyZWRpdF9DYXJkTnVtYmVyLCBhY2NvdW50TnVtYmVyLCB2b2x0YWdlUHJvcCkudGhlbihmdW5jdGlvbihyZXMpewogICAgICAgICAgICAgICAgICAgICAgICBpZihyZXMuc3RhdHVzID09IDIwMCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXNUb1Bhc3Mub3JkZXJQYXltZW50SW5mb3JtYXRpb24uVHJhbnNhY3Rpb25fTWFzdGVyQ3JlZGl0X0NhcmROdW1iZXIgPSByZXMuZGF0YS5maWVsZHNbMF0uZGF0YVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgZG9QYXkodXNlciwgcGFyYW1zVG9QYXNzKS50aGVuKGZ1bmN0aW9uKHJlcyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKHJlcyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZWplY3QoZXJyKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKXsKICAgICAgICAgICAgICAgICAgICAgICAgZG9QYXkodXNlciwgcGFyYW1zVG9QYXNzKS50aGVuKGZ1bmN0aW9uKHJlcyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKHJlcyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sZnVuY3Rpb24oZXJyKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlamVjdChlcnIpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZXsKICAgICAgICAgICAgICAgICAgICBkb1BheSh1c2VyLCBwYXJhbXNUb1Bhc3MpLnRoZW4oZnVuY3Rpb24ocmVzKXsKICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShyZXMpOwogICAgICAgICAgICAgICAgICAgIH0pOzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gZG9QYXkodXNlciwgcGFyYW1zVG9QYXNzKXsKICAgICAgICAgICAgICAgIHZhciBkZWZlciA9ICRxLmRlZmVyKCk7CiAgICAgICAgICAgICAgICAkaHR0cCh7CiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXIub3JkZXIuc2FmZVBheSh1c2VyLmlkKSwKICAgICAgICAgICAgICAgICAgICBkYXRhOiBwYXJhbXNUb1Bhc3MsCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAgICAgICAgICAgICAiQXV0aG9yaXphdGlvbiI6ICJCYXNpYyAiICsgJHJvb3RTY29wZS51c2VyQ29va2llLnJlc3BvbnNlLnRfYXV0aG9yaXphdGlvbiwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfSkuCiAgICAgICAgICAgICAgICB0aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKHJlcyk7CiAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShyZXMuZGF0YSkKICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKGVycik7CiAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVqZWN0KEpTT04uc3RyaW5naWZ5KGVycikpCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBkZWZlci5wcm9taXNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBhY2NvdW50VXBkYXRlKHVzZXIpIHsKCiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zVG9QYXNzID0gewogICAgICAgICAgICAgICAgICAgIGxhc3ROYW1lOiB1c2VyLmxhc3ROYW1lLAogICAgICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogdXNlci5maXJzdE5hbWUsCiAgICAgICAgICAgICAgICAgICAgYWNjb3VudElkOiB1c2VyLmlkLAogICAgICAgICAgICAgICAgICAgIGNvdW50cnlJZDogdXNlci5jb3VudHJ5SWQsCiAgICAgICAgICAgICAgICAgICAgc3RhdGVQcm92aW5jZTogdXNlci5zdGF0ZVByb3ZpbmNlLAogICAgICAgICAgICAgICAgICAgIGNpdHlOYW1lOiB1c2VyLmNpdHlOYW1lLAogICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IHVzZXIuYWRkcmVzcywKICAgICAgICAgICAgICAgICAgICB6aXBjb2RlOiB1c2VyLnppcGNvZGUsCiAgICAgICAgICAgICAgICAgICAgcGhvbmVOdW1iZXI6IHVzZXIucGhvbmVOdW1iZXIsCiAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsCiAgICAgICAgICAgICAgICAgICAgYWNjb3VudFR5cGU6IDIwLAogICAgICAgICAgICAgICAgICAgIGFsbG93T2ZmZXJzUHJvbW90aW9uOiB1c2VyLmFsbG93T2ZmZXJzUHJvbW90aW9uCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgTG9nZXIuUGFyYW1zKHBhcmFtc1RvUGFzcywgc2VydmVyLm9yZGVyLmFjY291bnRVcGRhdGUoKS5tZXRob2QpOwoKICAgICAgICAgICAgICAgIHZhciBkZWZlciA9ICRxLmRlZmVyKCk7CiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gc2VydmVyLm9yZGVyLmFjY291bnRVcGRhdGUoKTsKCiAgICAgICAgICAgICAgICBIZWxwZXIuZW5hYmxlTG9hZGVyKCk7CgogICAgICAgICAgICAgICAgJC5zb2FwKHsKICAgICAgICAgICAgICAgICAgICB1cmw6IHBhcmFtcy5wYXRoLAogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogcGFyYW1zLm1ldGhvZCwKICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2VVUkw6IHNlcnZlci5uYW1lc3BhY2VVUkwsCiAgICAgICAgICAgICAgICAgICAgU09BUEFjdGlvbjogc2VydmVyLm5hbWVzcGFjZVVSTCArIHBhcmFtcy5tZXRob2QsCiAgICAgICAgICAgICAgICAgICAgZGF0YTogcGFyYW1zVG9QYXNzLAogICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChzb2FwUmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gc29hcFJlc3BvbnNlLnRvSlNPTihwYXJhbXMucmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUocmVzcG9uc2UuQWNjb3VudFJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZWplY3QoIlJlcXVlc3QgZmFpbGVkISAiKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGVuYWJsZUxvZ2dpbmc6IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIHJldHVybiBkZWZlci5wcm9taXNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBnZXRBY2NvdW50QnlJZCgpIHsKCiAgICAgICAgICAgICAgICB2YXIgZGVmZXIgPSAkcS5kZWZlcigpOwogICAgICAgICAgICAgICAgdmFyIHVzZXIgPSAkcm9vdFNjb3BlLnVzZXJDb29raWU7CiAgICAgICAgICAgICAgICBpZiAodXNlciAmJiB1c2VyLnJlc3BvbnNlICYmIHVzZXIucmVzcG9uc2UudXNlcklkICE9IC0xKSB7CgogICAgICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSBzZXJ2ZXIuYWNjb3VudC5nZXRBY2NvdW50QnlJZCgpOwogICAgICAgICAgICAgICAgICAgIEhlbHBlci5lbmFibGVMb2FkZXIoKTsKCiAgICAgICAgICAgICAgICAgICAgJC5zb2FwKHsKICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBwYXJhbXMucGF0aCwKICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBwYXJhbXMubWV0aG9kLAogICAgICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2VVUkw6IHNlcnZlci5uYW1lc3BhY2VVUkwsCiAgICAgICAgICAgICAgICAgICAgICAgIFNPQVBBY3Rpb246IHNlcnZlci5uYW1lc3BhY2VVUkwgKyBwYXJhbXMubWV0aG9kLAogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRJZDogdXNlci5yZXNwb25zZS51c2VySWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTY0VG9rZW46ICJCYXNpYyAiK3VzZXIucmVzcG9uc2UudF9hdXRob3JpemF0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoc29hcFJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBzb2FwUmVzcG9uc2UudG9KU09OKHBhcmFtcy5yZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihyZXNwb25zZSAmJiByZXNwb25zZS5BY2NvdW50UmVzcG9uc2UpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLkFjY291bnRSZXNwb25zZS5jb3VudHJ5ID0gcmVzcG9uc2UuQWNjb3VudFJlc3BvbnNlLmNvdW50cnlJc29OYW1lOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVyLmRpc2FibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUocmVzcG9uc2UuQWNjb3VudFJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVyLmRpc2FibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlamVjdCgiUmVxdWVzdCBmYWlsZWQhICIpOwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVMb2dnaW5nOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKG51bGwpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFNoaXBwaW5nQ29zdCh1c2VyKSB7CgogICAgICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTsKCiAgICAgICAgICAgICAgICAvL2lmKCh1c2VyLmZpcnN0TmFtZSArIHVzZXIubGFzdE5hbWUpLnJlcGxhY2UoL1xzL2csICIiKS5sZW5ndGggPCAxKXsKICAgICAgICAgICAgICAgIC8vICAgIGRlZmVyLnJlc29sdmUobnVsbCk7CiAgICAgICAgICAgICAgICAvL30KCiAgICAgICAgICAgICAgICBwcm9kdWN0c0NhcnRTZXJ2aWNlLmdldENhcnQoKS50aGVuKGZ1bmN0aW9uIChjYXJ0KSB7CgogICAgICAgICAgICAgICAgICAgIC8vLyBwbGFzdGVyCiAgICAgICAgICAgICAgICAgICAgaWYgKCh1c2VyLmZpcnN0TmFtZSArIHVzZXIubGFzdE5hbWUpLnRyaW0oKS5sZW5ndGggPCAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIuZmlyc3ROYW1lID0gJHJvb3RTY29wZS51c2VyQ29va2llLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIC8vLyBlbmQgcGxhc3RlcgoKICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYW1zVG9QYXNzID0gewogICAgICAgICAgICAgICAgICAgICAgICAic2VhZGRyZXNzIjogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgImFkZHJlc3NMaW5lMSI6IHVzZXIuYWRkcmVzcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhZGRyZXNzTGluZTIiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjaXR5IjogdXNlci5jaXR5TmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjb3VudHJ5IjogdXNlci5jb3VudHJ5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgInBvc3RhbENvZGUiOiB1c2VyLnppcGNvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAic3RhdGUiOiB1c2VyLnN0YXRlUHJvdmluY2UKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgInNlY3VzdG9tZXJOYW1lIjogdXNlci5maXJzdE5hbWUgKyAiICIgKyB1c2VyLmxhc3ROYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAic2VjdXN0b21lclBob25lIjogdXNlci5waG9uZU51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgInNlbnVtYmVyT2ZQcm9kdWN0cyI6ICRmaWx0ZXIoJ3Byb2R1Y3RzQ2FydENvdW50JykoY2FydCksCiAgICAgICAgICAgICAgICAgICAgICAgICJzZXRyYW5zYWN0aW9uVHlwZSI6ICJTSElQUElOR19DT1NUIiwKICAgICAgICAgICAgICAgICAgICAgICAgInNlc3Npb25JZCIgOiAkcm9vdFNjb3BlLm9yZGVyU2Vzc2lvbklkID8gJHJvb3RTY29wZS5vcmRlclNlc3Npb25JZCA6IG51bGwKICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICBMb2dlci5QYXJhbXMocGFyYW1zVG9QYXNzLCBzZXJ2ZXIub3JkZXIuZ2V0U2hpcHBpbmdDb3N0KCkpOwoKICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZW5hYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgJGh0dHAoewogICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXIub3JkZXIuZ2V0U2hpcHBpbmdDb3N0KCksIC8vJ2h0dHBzOi8vOTF5anI1bHpyNy5leGVjdXRlLWFwaS51cy1lYXN0LTEuYW1hem9uYXdzLmNvbS9TaGlwRXgnCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHBhcmFtc1RvUGFzcywKICAgICAgICAgICAgICAgICAgICB9KS4KICAgICAgICAgICAgICAgICAgICB0aGVuKGZ1bmN0aW9uIChzaGlwcGluZ0Nvc3QpIHsKCiAgICAgICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKHNoaXBwaW5nQ29zdCk7CiAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlci5kaXNhYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUoc2hpcHBpbmdDb3N0LmRhdGEpCiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChlcnIpOwogICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZWplY3QoSlNPTi5zdHJpbmdpZnkoZXJyKSkKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZU9yZGVyKG9yZGVyKXsKICAgICAgICAgICAgICAgIHZhciBkZWZlciA9ICRxLmRlZmVyKCk7CgogICAgICAgICAgICAgICAgdmFyIHVzZXIgPSAkcm9vdFNjb3BlLnVzZXJDb29raWU7CgogICAgICAgICAgICAgICAgSGVscGVyLmVuYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICRodHRwKHsKICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiZGVsZXRlIiwKICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXIub3JkZXIuZGVsZXRlT3JkZXIob3JkZXIsIHVzZXIucmVzcG9uc2UudXNlcklkKSwKICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJBdXRob3JpemF0aW9uIjogIkJhc2ljICIgKyAkcm9vdFNjb3BlLnVzZXJDb29raWUucmVzcG9uc2UudF9hdXRob3JpemF0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIH0pLgogICAgICAgICAgICAgICAgICAgIHRoZW4oZnVuY3Rpb24gKHJlcykgewoKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9yZGVyc09iaiA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZGF0YS5PcmRlckxpbmVzLCBmdW5jdGlvbihvYmopewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9yZGVyc09ialtvYmouT3JkZXJOdW1iZXJdID09IG51bGwpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyc09ialtvYmouT3JkZXJOdW1iZXJdID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JkZXJEYXRlIjogb2JqLk9yZGVyRGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInByb2R1Y3RzIjogW10KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJzT2JqW29iai5PcmRlck51bWJlcl0ucHJvZHVjdHMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlByb2R1Y3RJbWFnZVVybCI6IG9iai5Qcm9kdWN0SW1hZ2VVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlByb2R1Y3ROYW1lIjogb2JqLlByb2R1Y3ROYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJQcm9kdWN0Q29sb3JDb2RlIjogb2JqLlByb2R1Y3RDb2xvckNvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlByb2R1Y3RDb2xvck5hbWUiOiBvYmouUHJvZHVjdENvbG9yTmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiUHJpY2VQZXJVbml0Ijogb2JqLlByaWNlUGVyVW5pdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiUXVhbnRpdHkiOiBvYmouUXVhbnRpdHkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcmRlcnMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpbmRleCBpbiBPYmplY3Qua2V5cyhvcmRlcnNPYmopKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuYW1lID0gT2JqZWN0LmtleXMob3JkZXJzT2JqKVtpbmRleF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3JkZXIgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJOdW1iZXI6IG5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJEYXRlOiBvcmRlcnNPYmpbbmFtZV0ub3JkZXJEYXRlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzOiBvcmRlcnNPYmpbbmFtZV0ucHJvZHVjdHMKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVycy5wdXNoKG9yZGVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQob3JkZXJzKTsKICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVyLmRpc2FibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShvcmRlcnMpCiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChlcnIpOwogICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZWplY3QoSlNPTi5zdHJpbmdpZnkoZXJyKSkKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gZW5jcnlwdENyZWRpdENhcmROdW1iZXIoY2FyZE51bSwgYWNjb3VudCwgdm9sdGFnZVByb3ApewogICAgICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTsKICAgICAgICAgICAgICAgIHZhciBwYXJhbXNUb1Bhc3MgPSAneyJmaWVsZHMiOiBbeyJmaWVsZE5hbWUiOiAiQ3JlZGl0Q2FyZE51bWJlciIsICJmb3JtYXQiOiAiY2MtZnBlMiIsICJkYXRhIjogWyInICsgY2FyZE51bSArICciXX1dfSc7CiAgICAgICAgICAgICAgICAkaHR0cCh7CiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly92b2x0YWdlLXBwLTAwMDAuZGF0YXByb3RlY3Rpb24udm9sdGFnZS5jb20vdmliZXNpbXBsZS9yZXN0L3YxL3Byb3RlY3QtZmllbGRzJywKICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJBdXRob3JpemF0aW9uIjogJ1ZTQXV0aCB2c2F1dGhfbWV0aG9kPSJzaGFyZWRTZWNyZXQiLHZzYXV0aF9kYXRhPSJkbTlzZEdGblpURXlNdz09Iix2c2F1dGhfaWRlbnRpdHlfYXNjaWk9ImFjY291bnRzMjJAZGF0YXByb3RlY3Rpb24udm9sdGFnZS5jb20iLHZzYXV0aF92ZXJzaW9uPSIyMDAiJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3JlamVjdFVuYXV0aG9yaXplZCc6ICdmYWxzZScsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBkYXRhOiBwYXJhbXNUb1Bhc3MKICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKHJlcyk7CiAgICAgICAgICAgICAgICAgICAgSGVscGVyLmRpc2FibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKHJlcyk7CiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQoZXJyKTsKICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlamVjdChKU09OLnN0cmluZ2lmeShlcnIpKQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9XSk7Cn0pOwoKCi8qKgogKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDEwLzAxLzIwMTYuCiAqLwoKZGVmaW5lKCdhcHAvb3JkZXIvc2VydmljZXMvaW5kZXgnLFsKICAgICcuL29yZGVyU2VydmljZScsCiAgICBdLCBmdW5jdGlvbigpIHt9KTsKLyoqCiAqIENyZWF0ZWQgYnkga3ViYW55IG9uIDEwLzEzLzIwMTUuCiAqLwoKZGVmaW5lKCdhcHAvc2VydmljZXMvbW9kdWxlJyxbJ2FuZ3VsYXInXSwgZnVuY3Rpb24gKGFuZ3VsYXIpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHJldHVybiBhbmd1bGFyLm1vZHVsZSgnYW9zLnNlcnZpY2VzJywgW10pOwp9KTsKCgoKCi8qKgogKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDA2LzEyLzIwMTUuCiAqLwoKZGVmaW5lKCdhcHAvc2VydmljZXMvcHJvZHVjdHNDYXJ0U2VydmljZScsWycuL21vZHVsZSddLCBmdW5jdGlvbiAoc2VydmljZXMpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHNlcnZpY2VzLnNlcnZpY2UoJ3Byb2R1Y3RzQ2FydFNlcnZpY2UnLCBbJyRodHRwJywgJyRxJywgJ3Jlc0hhbmRsZVNlcnZpY2UnLCAnaXBDb29raWUnLAogICAgICAgICckcm9vdFNjb3BlJywgJ3RvYXN0ZXInLCAndXNlclNlcnZpY2UnLAogICAgICAgIGZ1bmN0aW9uICgkaHR0cCwgJHEsIHJlc3BvbnNlU2VydmljZSwgJGNvb2tpZSwgJHJvb3RTY29wZSwgdG9hc3RlciwgdXNlclNlcnZpY2UpIHsKCiAgICAgICAgICAgIHZhciBjYXJ0ID0gbnVsbDsKICAgICAgICAgICAgdmFyIGVuYWJsZVdhcnJhbnR5ID0gZmFsc2U7CiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFRlbXBDYXJ0KCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHsidXNlcklkIjogLTEsICJwcm9kdWN0c0luQ2FydCI6IFtdLH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuICh7CiAgICAgICAgICAgICAgICBhZGRQcm9kdWN0OiBhZGRQcm9kdWN0LAogICAgICAgICAgICAgICAgdXBkYXRlUHJvZHVjdDogdXBkYXRlUHJvZHVjdCwKICAgICAgICAgICAgICAgIGxvYWRDYXJ0UHJvZHVjdHM6IGxvYWRDYXJ0UHJvZHVjdHMsCiAgICAgICAgICAgICAgICBqb2luQ2FydFByb2R1Y3RzOiBqb2luQ2FydFByb2R1Y3RzLAogICAgICAgICAgICAgICAgcmVtb3ZlUHJvZHVjdDogcmVtb3ZlUHJvZHVjdCwKICAgICAgICAgICAgICAgIGNoZWNrb3V0OiBjaGVja291dCwKICAgICAgICAgICAgICAgIGdldENhcnQ6IGdldENhcnQsCiAgICAgICAgICAgICAgICBzYXZlQ2FydDogc2F2ZUNhcnQsCiAgICAgICAgICAgICAgICBjbGVhckNhcnQ6IGNsZWFyQ2FydCwKICAgICAgICAgICAgICAgIGNoZWNrT3V0T2ZTdG9ja1Byb2R1Y3RzSW5DYXJ0OiBjaGVja091dE9mU3RvY2tQcm9kdWN0c0luQ2FydCwKICAgICAgICAgICAgICAgIHNldEVuYWJsZVdhcnJhbnR5OiBzZXRFbmFibGVXYXJyYW50eQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8qIHJldHVybmVkIGZ1bmN0aW9ucyAqLwoKICAgICAgICAgICAgZnVuY3Rpb24gY2xlYXJDYXJ0KCkgewogICAgICAgICAgICAgICAgdmFyIHJlc3BvbmNlID0gJHEuZGVmZXIoKTsKICAgICAgICAgICAgICAgIHZhciB1c2VyID0gJHJvb3RTY29wZS51c2VyQ29va2llOwogICAgICAgICAgICAgICAgaWYgKHVzZXIgJiYgdXNlci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGlmICh1c2VyLnJlc3BvbnNlLnVzZXJJZCAhPSAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICAkaHR0cCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJkZWxldGUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkF1dGhvcml6YXRpb24iOiAiQmFzaWMgIiArIHVzZXIucmVzcG9uc2UudF9hdXRob3JpemF0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogc2VydmVyLm9yZGVyLmNsZWFyQ2FydCh1c2VyLnJlc3BvbnNlLnVzZXJJZCkKICAgICAgICAgICAgICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJ0ID0gcmVzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQocmVzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uY2UucmVzb2x2ZShjYXJ0KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0FuIGVycm9yIG9jY3VycmVkLCBwbGVhc2UgdHJ5IGFnYWluJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKGVycik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25jZS5yZWplY3QoJ2Vycm9yIGluIGxvYWQgY2FydCAocHJvZHVjdENhcnRTZXJ2aWNlIC0gbG9hZENhcnRQcm9kdWN0cyknKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmVzcG9uY2UucmVzb2x2ZShudWxsKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25jZS5wcm9taXNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBzYXZlQ2FydChfY2FydCkgewogICAgICAgICAgICAgICAgdXBkYXRlQ2FydChfY2FydCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGdldENhcnQoKSB7CgogICAgICAgICAgICAgICAgdmFyIHJlc3BvbmNlID0gJHEuZGVmZXIoKTsKICAgICAgICAgICAgICAgIHZhciB1c2VyID0gJHJvb3RTY29wZS51c2VyQ29va2llOwogICAgICAgICAgICAgICAgaWYgKHVzZXIgJiYgdXNlci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGlmICh1c2VyLnJlc3BvbnNlLnVzZXJJZCAhPSAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICAkaHR0cCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmM6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkF1dGhvcml6YXRpb24iOiAiQmFzaWMgIiArIHVzZXIucmVzcG9uc2UudF9hdXRob3JpemF0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogc2VydmVyLm9yZGVyLmxvYWRDYXJ0UHJvZHVjdHModXNlci5yZXNwb25zZS51c2VySWQpCiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQocmVzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FydCA9IHJlczsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbmNlLnJlc29sdmUoY2FydCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdBbiBlcnJvciBvY2N1cnJlZCwgcGxlYXNlIHRyeSBhZ2FpbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChlcnIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25jZS5yZWplY3QoJ2Vycm9yIGluIGxvYWQgY2FydCAocHJvZHVjdENhcnRTZXJ2aWNlIC0gbG9hZENhcnRQcm9kdWN0cyknKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmVzcG9uY2UucmVzb2x2ZShudWxsKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25jZS5wcm9taXNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBjaGVja291dCgpIHsKICAgICAgICAgICAgICAgIHZhciByZXNwb25jZSA9ICRxLmRlZmVyKCk7CiAgICAgICAgICAgICAgICByZXNwb25jZS5yZXNvbHZlKGZhbHNlKTsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25jZS5wcm9taXNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiByZW1vdmVQcm9kdWN0KGluZGV4KSB7CiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uY2UgPSAkcS5kZWZlcigpOwogICAgICAgICAgICAgICAgdmFyIHVzZXIgPSAkcm9vdFNjb3BlLnVzZXJDb29raWU7CiAgICAgICAgICAgICAgICB2YXIgcHJvZCA9IGNhcnQucHJvZHVjdHNJbkNhcnRbaW5kZXhdOwogICAgICAgICAgICAgICAgY2FydC5wcm9kdWN0c0luQ2FydC5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgICAgICAgICAgaWYgKHVzZXIgJiYgdXNlci5yZXNwb25zZSAmJiB1c2VyLnJlc3BvbnNlLnVzZXJJZCAhPSAtMSkgewogICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKCJkZWxldGVkIHByb2R1Y3QsIG5vIHJldHVybnMhIik7CiAgICAgICAgICAgICAgICAgICAgJGh0dHAoewogICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJkZWxldGUiLAogICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHNlcnZlci5vcmRlci5yZW1vdmVQcm9kdWN0VG9Vc2VyKHVzZXIucmVzcG9uc2UudXNlcklkLCBwcm9kLnByb2R1Y3RJZCwgcHJvZC5jb2xvci5jb2RlKSwKICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJBdXRob3JpemF0aW9uIjogIkJhc2ljICIgKyB1c2VyLnJlc3BvbnNlLnRfYXV0aG9yaXphdGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ2FydChjYXJ0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJlc3BvbmNlLnJlc29sdmUoY2FydCk7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uY2UucHJvbWlzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gbG9hZENhcnRQcm9kdWN0cygpIHsKCiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uY2UgPSAkcS5kZWZlcigpOwogICAgICAgICAgICAgICAgdmFyIHVzZXIgPSAkcm9vdFNjb3BlLnVzZXJDb29raWU7CiAgICAgICAgICAgICAgICBpZiAodXNlciAmJiB1c2VyLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXIucmVzcG9uc2UudXNlcklkICE9IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3luYzogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQXV0aG9yaXphdGlvbiI6ICJCYXNpYyAiICsgdXNlci5yZXNwb25zZS50X2F1dGhvcml6YXRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXIub3JkZXIubG9hZENhcnRQcm9kdWN0cyh1c2VyLnJlc3BvbnNlLnVzZXJJZCkKICAgICAgICAgICAgICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChyZXMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJ0ID0gcmVzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uY2UucmVzb2x2ZShjYXJ0KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQoZXJyKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0FuIGVycm9yIG9jY3VycmVkLCBwbGVhc2UgdHJ5IGFnYWluJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbmNlLnJlamVjdCgnZXJyb3IgaW4gbG9hZCBjYXJ0IChwcm9kdWN0Q2FydFNlcnZpY2UgLSBsb2FkQ2FydFByb2R1Y3RzKScpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjYXJ0ID0gbG9hZEd1ZXN0Q2FydFByb2R1Y3RzKCk7CiAgICAgICAgICAgICAgICAgICAgcmVzcG9uY2UucmVzb2x2ZShjYXJ0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25jZS5wcm9taXNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBsb2FkR3Vlc3RDYXJ0UHJvZHVjdHMoKSB7CgogICAgICAgICAgICAgICAgdmFyIGd1ZXN0Q2FydCA9ICRjb29raWUoInVzZXJDYXJ0Iik7CiAgICAgICAgICAgICAgICBpZiAoIWd1ZXN0Q2FydCkgewogICAgICAgICAgICAgICAgICAgIGd1ZXN0Q2FydCA9IGdldFRlbXBDYXJ0KCk7CiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ2FydChndWVzdENhcnQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIGd1ZXN0Q2FydDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gam9pbkNhcnRQcm9kdWN0cygpIHsKCiAgICAgICAgICAgICAgICB2YXIgZGVmZXIgPSAkcS5kZWZlcigpOwogICAgICAgICAgICAgICAgbG9hZENhcnRQcm9kdWN0cygpLnRoZW4oZnVuY3Rpb24gKF9jYXJ0KSB7CiAgICAgICAgICAgICAgICAgICAgY2FydCA9IF9jYXJ0OwogICAgICAgICAgICAgICAgICAgIHZhciBndWVzdENhcnQgPSBsb2FkR3Vlc3RDYXJ0UHJvZHVjdHMoKTsKCiAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXBDYXJ0ID0gW107CiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGNhcnQucHJvZHVjdHNJbkNhcnQsIGZ1bmN0aW9uICh1c2VyUHJvZHVjdCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmluZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZ3Vlc3RDYXJ0LnByb2R1Y3RzSW5DYXJ0LCBmdW5jdGlvbiAoZ3Vlc3RQcm9kdWN0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlclByb2R1Y3QucHJvZHVjdElkID09IGd1ZXN0UHJvZHVjdC5wcm9kdWN0SWQgJiYgdXNlclByb2R1Y3QuY29sb3IuY29kZSA9PSBndWVzdFByb2R1Y3QuY29sb3IuY29kZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYm90aCB1c2VyIGFuZCBndWVzdCBwcm9kdWN0IHF1YW50aXR5IGV4Y2VlZGVkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZ3Vlc3RQcm9kdWN0LnF1YW50aXR5ICsgdXNlclByb2R1Y3QucXVhbnRpdHkgPiB1c2VyUHJvZHVjdC5jb2xvci5pblN0b2NrKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUEFSVCBPRiBCVUcgIzE0MjAwNAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUT0RPIC0gc2hvdyBwb3BVcCAiT25lIG9yIG1vcmUgb2YgdGhlIGl0ZW1zIGluIHlvdSBjYXJ0IGV4Y2VlZCB0aGUgcXVhbnRpdHkgaW4gc3RvY2suIFdlIGhhdmUgYWRqdXN0ZWQgeW91ciBjYXJ0IGFjY29yZGluZ2x5IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqICovCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd1ZXN0UHJvZHVjdC5xdWFudGl0eSA9IHVzZXJQcm9kdWN0LmNvbG9yLmluU3RvY2s7IC8vdGhlIHVzZXIgd2lsbCBnZXQgdGhlIG1heCBxdWFudGl0eSBhbGxvd2VkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ZXIucG9wKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6ICJPbmUgb3IgbW9yZSBvZiB0aGUgaXRlbXMgaW4geW91IGNhcnQgZXhjZWVkIHRoZSBxdWFudGl0eSBpbiBzdG9jay4gIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIldlIGhhdmUgYWRqdXN0ZWQgeW91ciBjYXJ0IGFjY29yZGluZ2x5IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmluZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcENhcnQucHVzaCh1c2VyUHJvZHVjdCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZ3Vlc3RDYXJ0LnByb2R1Y3RzSW5DYXJ0LCBmdW5jdGlvbiAoZ3Vlc3RQcm9kdWN0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBDYXJ0LnB1c2goZ3Vlc3RQcm9kdWN0KTsKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgY2FydC5wcm9kdWN0c0luQ2FydCA9IHRlbXBDYXJ0OwogICAgICAgICAgICAgICAgICAgIHVwZGF0ZVVzZXJDYXJ0KGNhcnQpOwogICAgICAgICAgICAgICAgICAgIGlmKF9jYXJ0LnNlc3Npb25JZCl7CiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUub3JkZXJTZXNzaW9uSWQgPSBfY2FydC5zZXNzaW9uSWQKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJGNvb2tpZS5yZW1vdmUoInVzZXJDYXJ0Iik7CiAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShjYXJ0KTsKICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlamVjdChlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIHJldHVybiBkZWZlci5wcm9taXNlOwogICAgICAgICAgICB9CgoKICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlVXNlckNhcnQoKSB7CgogICAgICAgICAgICAgICAgdmFyIHVzZXIgPSAkcm9vdFNjb3BlLnVzZXJDb29raWU7CiAgICAgICAgICAgICAgICBpZiAodXNlciAmJiB1c2VyLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXIucmVzcG9uc2UudXNlcklkICE9IC0xKSB7CgogICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FydFRvUmVwbGFjZSA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goY2FydC5wcm9kdWN0c0luQ2FydCwgZnVuY3Rpb24gKHByb2R1Y3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcnRUb1JlcGxhY2UucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhleENvbG9yIjogcHJvZHVjdC5jb2xvci5jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJwcm9kdWN0SWQiOiBwcm9kdWN0LnByb2R1Y3RJZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicXVhbnRpdHkiOiBwcm9kdWN0LnF1YW50aXR5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYXJ0VG9SZXBsYWNlLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJwdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGNhcnRUb1JlcGxhY2UpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkF1dGhvcml6YXRpb24iOiAiQmFzaWMgIiArIHVzZXIucmVzcG9uc2UudF9hdXRob3JpemF0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXIub3JkZXIudXBkYXRlVXNlckNhcnQodXNlci5yZXNwb25zZS51c2VySWQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChyZXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5lcnJvcihmdW5jdGlvbiAoX2VycikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKF9lcnIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ1cGRhdGVVc2VyQ2FydCgpIHJlamVjdGVkISAgPT09PT09ICIgKyBfZXJyKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUNhcnQoZ3Vlc3RDYXJ0KSB7CiAgICAgICAgICAgICAgICAkY29va2llKCJ1c2VyQ2FydCIsIGd1ZXN0Q2FydCwge2V4cGlyZXM6IDM2NSAqIDV9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlUHJvZHVjdChwcm9kdWN0LCBjb2xvciwgcXVhbnRpdHksIG9sZENvbG9yKSB7CiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSAkcS5kZWZlcigpOwogICAgICAgICAgICAgICAgdmFyIHVzZXIgPSAkcm9vdFNjb3BlLnVzZXJDb29raWU7CiAgICAgICAgICAgICAgICBpZiAocHJvZHVjdC5jb2xvcnMpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodXNlciAmJiB1c2VyLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VyLnJlc3BvbnNlLnVzZXJJZCAhPSAtMSkgewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gJGh0dHAoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogInB1dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQXV0aG9yaXphdGlvbiI6ICJCYXNpYyAiICsgdXNlci5yZXNwb25zZS50X2F1dGhvcml6YXRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3luYzogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXIub3JkZXIudXBkYXRlUHJvZHVjdFRvVXNlcih1c2VyLnJlc3BvbnNlLnVzZXJJZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdC5wcm9kdWN0SWQsIHByb2R1Y3QuY29sb3JzWzBdLmNvZGUsIHF1YW50aXR5LCBvbGRDb2xvciksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3QudGhlbihmdW5jdGlvbiAobmV3Q2FydCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKG5ld0NhcnQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcnQgPSBuZXdDYXJ0LmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UucmVzb2x2ZShjYXJ0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnByb21pc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9kdWN0SW5kZXggPSAtMTsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggaW4gY2FydC5wcm9kdWN0c0luQ2FydCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb2R1Y3RJbkNhcnQgPSBjYXJ0LnByb2R1Y3RzSW5DYXJ0W2luZGV4XTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9kdWN0LnByb2R1Y3RJZCA9PSBwcm9kdWN0SW5DYXJ0LnByb2R1Y3RJZCAmJiBwcm9kdWN0SW5DYXJ0LmNvbG9yLmNvZGUgPT0gb2xkQ29sb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SW5kZXggPSBpbmRleDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sb3IuY29kZSA9PSBvbGRDb2xvcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SW5DYXJ0LnF1YW50aXR5ID0gcXVhbnRpdHk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm91bmRlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaW5kZXggaW4gY2FydC5wcm9kdWN0c0luQ2FydCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9wcm9kdWN0SW5DYXJ0ID0gY2FydC5wcm9kdWN0c0luQ2FydFtfaW5kZXhdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2R1Y3QucHJvZHVjdElkID09IF9wcm9kdWN0SW5DYXJ0LnByb2R1Y3RJZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfcHJvZHVjdEluQ2FydC5jb2xvci5jb2RlID09IGNvbG9yLmNvZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnN0b2NrID0gcHJvZHVjdC5jb2xvcnNbMF0uaW5TdG9jazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Byb2R1Y3RJbkNhcnQucXVhbnRpdHkgPSBfcHJvZHVjdEluQ2FydC5xdWFudGl0eSArIHF1YW50aXR5ID4gIGluc3RvY2sgPyBpbnN0b2NrIDogX3Byb2R1Y3RJbkNhcnQucXVhbnRpdHkgKyBxdWFudGl0eTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJ0LnByb2R1Y3RzSW5DYXJ0LnNwbGljZShwcm9kdWN0SW5kZXgsIDEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdEluQ2FydC5jb2xvciA9IGNvbG9yCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SW5DYXJ0LnF1YW50aXR5ID0gcXVhbnRpdHkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzYW1lUHJvZHVjdElkQ291bnQgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pbmRleCBpbiBjYXJ0LnByb2R1Y3RzSW5DYXJ0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfcHJvZHVjdEluQ2FydCA9IGNhcnQucHJvZHVjdHNJbkNhcnRbX2luZGV4XTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2R1Y3QucHJvZHVjdElkID09IF9wcm9kdWN0SW5DYXJ0LnByb2R1Y3RJZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FtZVByb2R1Y3RJZENvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNhbWVQcm9kdWN0SWRDb3VudCA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RJbkNhcnQuY29sb3IgPSBjb2xvcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SW5DYXJ0LnF1YW50aXR5ID0gcXVhbnRpdHkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNhcnQoY2FydCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnJlc29sdmUoY2FydCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnByb21pc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZFByb2R1Y3QocHJvZHVjdCwgcXVhbnRpdHksIGhhc1dhcnJhbnR5KSB7CgogICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gJHEuZGVmZXIoKTsKICAgICAgICAgICAgICAgIHZhciB1c2VyID0gJHJvb3RTY29wZS51c2VyQ29va2llOwoKICAgICAgICAgICAgICAgIGlmICh1c2VyICYmIHVzZXIucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodXNlci5yZXNwb25zZS51c2VySWQgIT0gLTEpIHsKCiAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlci5lbmFibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSAkaHR0cCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQXV0aG9yaXphdGlvbiI6ICJCYXNpYyAiICsgdXNlci5yZXNwb25zZS50X2F1dGhvcml6YXRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogZnVuY3Rpb24ob2JqKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0ciA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgcCBpbiBvYmopCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ci5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChwKSArICI9IiArIGVuY29kZVVSSUNvbXBvbmVudChvYmpbcF0pKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyLmpvaW4oIiYiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7c2Vzc2lvbklkOiAkcm9vdFNjb3BlLm9yZGVyU2Vzc2lvbklkLH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3luYzogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHNlcnZlci5vcmRlci5hZGRQcm9kdWN0VG9Vc2VyKHVzZXIucmVzcG9uc2UudXNlcklkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3QucHJvZHVjdElkLCBwcm9kdWN0LmNvbG9yc1swXS5jb2RlLCBxdWFudGl0eSwgaGFzV2FycmFudHkgPyB0cnVlIDogZmFsc2UpLAogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC50aGVuKGZ1bmN0aW9uIChuZXdDYXJ0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQobmV3Q2FydCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJ0ID0gbmV3Q2FydC5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UucmVzb2x2ZShjYXJ0KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQoZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UucmVqZWN0KGVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UucHJvbWlzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZmluZCA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgdmFyIHByb2R1Y3RJbmRleCA9IDA7CiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGNhcnQucHJvZHVjdHNJbkNhcnQsIGZ1bmN0aW9uIChwcm9kdWN0SW5DYXJ0LCBpbmRleCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZHVjdC5wcm9kdWN0SWQgPT0gcHJvZHVjdEluQ2FydC5wcm9kdWN0SWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChwcm9kdWN0LmNvbG9ycywgZnVuY3Rpb24gKGNvbG9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2R1Y3RJbkNhcnQuY29sb3IuY29kZSA9PSBjb2xvci5jb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RJbmRleCA9IGluZGV4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SW5DYXJ0LnF1YW50aXR5ICs9IHF1YW50aXR5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5kID0gcHJvZHVjdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbmQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FydC5wcm9kdWN0c0luQ2FydC51bnNoaWZ0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJwcm9kdWN0SWQiOiBwcm9kdWN0LnByb2R1Y3RJZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJpbWFnZVVybCI6IHByb2R1Y3QuaW1hZ2VVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAicHJvZHVjdE5hbWUiOiBwcm9kdWN0LnByb2R1Y3ROYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImNvbG9yIjogcHJvZHVjdC5jb2xvcnMubGVuZ3RoID4gMCA/IHByb2R1Y3QuY29sb3JzWzBdIDogJ0ZGRicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAicXVhbnRpdHkiOiBxdWFudGl0eSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJwcmljZSI6IHByb2R1Y3QucHJpY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGFzV2FycmFudHkiIDogaGFzV2FycmFudHkKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBjYXJ0LnByb2R1Y3RzSW5DYXJ0LnNwbGljZSgwLCAwLCBjYXJ0LnByb2R1Y3RzSW5DYXJ0LnNwbGljZShwcm9kdWN0SW5kZXgsIDEpWzBdKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNhcnQoY2FydCk7CiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UucmVzb2x2ZShjYXJ0KTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UucHJvbWlzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2tPdXRPZlN0b2NrUHJvZHVjdHNJbkNhcnQoKSB7CgogICAgICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKQoKICAgICAgICAgICAgICAgIHZhciB1c2VyID0gJHJvb3RTY29wZS51c2VyQ29va2llOwogICAgICAgICAgICAgICAgaWYgKHVzZXIgJiYgdXNlci5yZXNwb25zZSAmJiB1c2VyLnJlc3BvbnNlLnVzZXJJZCAhPSAtMSkgewogICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUoY2FydCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdmFyIGNhcnRUb1JlcGxhY2UgPSBbXTsKCiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9kSW5kZXggPSAwOyBwcm9kSW5kZXggPCBjYXJ0LnByb2R1Y3RzSW5DYXJ0Lmxlbmd0aDsgcHJvZEluZGV4KyspIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcHJvZHVjdCA9IGNhcnQucHJvZHVjdHNJbkNhcnRbcHJvZEluZGV4XTsKICAgICAgICAgICAgICAgICAgICBjaGVja091dE9mU3RvY2tQcm9kdWN0KHByb2R1Y3QsIHByb2RJbmRleCkudGhlbihmdW5jdGlvbiAocmVzKSB7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLl9wcm9kICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcnRUb1JlcGxhY2UucHVzaChyZXMucmVhbF9wcm9kKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5fcHJvZEluZGV4ID09IGNhcnQucHJvZHVjdHNJbkNhcnQubGVuZ3RoIC0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FydC5wcm9kdWN0c0luQ2FydCA9IGNhcnRUb1JlcGxhY2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDYXJ0KGNhcnQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShjYXJ0KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGNhcnQucHJvZHVjdHNJbkNhcnQubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKGNhcnQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrT3V0T2ZTdG9ja1Byb2R1Y3QocHJvZHVjdCwgcHJvZEluZGV4KSB7CgogICAgICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKQogICAgICAgICAgICAgICAgJGh0dHAoewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXIuY2F0YWxvZy5nZXRQcm9kdWN0QnlJZChwcm9kdWN0LnByb2R1Y3RJZCkKICAgICAgICAgICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKHJlcyk7CiAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShyZXMucHJvZHVjdFN0YXR1cyA9PSAnT3V0T2ZTdG9jaycgPwogICAgICAgICAgICAgICAgICAgIHtyZWFsX3Byb2Q6IHByb2R1Y3QsIF9wcm9kOiBudWxsLCBfcHJvZEluZGV4OiBwcm9kSW5kZXh9IDoKICAgICAgICAgICAgICAgICAgICB7cmVhbF9wcm9kOiBwcm9kdWN0LCBfcHJvZDogcmVzLCBfcHJvZEluZGV4OiBwcm9kSW5kZXh9KTsKICAgICAgICAgICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uIChfZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQoX2Vycik7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImNoZWNrT3V0T2ZTdG9ja1Byb2R1Y3QoKSByZWplY3RlZCEgID09PT09PSAiICsgX2VycikKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfZXJyKQogICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUoe3JlYWxfcHJvZDogcHJvZHVjdCwgX3Byb2Q6IHJlcywgX3Byb2RJbmRleDogcHJvZEluZGV4fSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBkZWZlci5wcm9taXNlOwoKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gc2V0RW5hYmxlV2FycmFudHkoaXNFbmFibGVkV2FycmFudHkpewogICAgICAgICAgICAgICAgZW5hYmxlV2FycmFudHkgPSBpc0VuYWJsZWRXYXJyYW50eTsKICAgICAgICAgICAgfQoKICAgICAgICB9XSk7CgoKfSk7Ci8qKgogKiBDcmVhdGVkIGJ5IGt1YmFueSBvbiAxMC8xMy8yMDE1LgogKi8KZGVmaW5lKCdhcHAvc2VydmljZXMvcHJvZHVjdFNlcnZpY2UnLFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKHNlcnZpY2VzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBzZXJ2aWNlcy5zZXJ2aWNlKCdwcm9kdWN0U2VydmljZScsIFsnJGh0dHAnLCAnJHEnLCAncmVzSGFuZGxlU2VydmljZScsICckdGltZW91dCcsICdjYXRlZ29yeVNlcnZpY2UnLCAndXNlclNlcnZpY2UnLAogICAgICAgIGZ1bmN0aW9uICgkaHR0cCwgJHEsIHJlc3BvbnNlU2VydmljZSwgJHRpbWVvdXQsIGNhdGVnb3J5U2VydmljZSwgdXNlclNlcnZpY2UpIHsKICAgICAgICAgICAgLy8gUmV0dXJuIHB1YmxpYyBBUEkuCiAgICAgICAgICAgIHJldHVybiAoewogICAgICAgICAgICAgICAgZ2V0UHJvZHVjdHM6IGdldFByb2R1Y3RzLAogICAgICAgICAgICAgICAgZ2V0UHJvZHVjdEJ5SWQ6IGdldFByb2R1Y3RCeUlkLAogICAgICAgICAgICAgICAgZ2V0UHJvZHVjdHNCeVNlYXJjaDogZ2V0UHJvZHVjdHNCeVNlYXJjaCwKICAgICAgICAgICAgICAgIGdldEFsbENhdGVnb3JpZXNBdHRyaWJ1dGVzOiBnZXRBbGxDYXRlZ29yaWVzQXR0cmlidXRlcywKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBmdW5jdGlvbiBnZXRQcm9kdWN0cygpIHsKICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gJGh0dHAoewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXIuY2F0YWxvZy5nZXRQcm9kdWN0cygpCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiAoIHJlcXVlc3QudGhlbihyZXNwb25zZVNlcnZpY2UuaGFuZGxlU3VjY2VzcywgcmVzcG9uc2VTZXJ2aWNlLmhhbmRsZUVycm9yKSApOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBnZXRQcm9kdWN0QnlJZChpZCkgewoKICAgICAgICAgICAgICAgIHZhciBhbGxEYXRhID0gY2F0ZWdvcnlTZXJ2aWNlLmdldEV4aXN0aW5nRGF0YSgpOwogICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gJHEuZGVmZXIoKTsKICAgICAgICAgICAgICAgIHZhciBmb3VuZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgaWYgKGFsbERhdGEpIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbERhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhbGxEYXRhW2ldLnByb2R1Y3RzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvZHVjdCA9IGFsbERhdGFbaV0ucHJvZHVjdHNbal07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZHVjdC5wcm9kdWN0SWQgPT0gaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UucmVzb2x2ZShwcm9kdWN0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm91bmQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCFmb3VuZCkgewogICAgICAgICAgICAgICAgICAgIEhlbHBlci5lbmFibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdCA9ICRodHRwKHsKICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXIuY2F0YWxvZy5nZXRQcm9kdWN0QnlJZChpZCksCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlci5kaXNhYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChyZXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGR1cGxpY2F0ZVByb2R1Y3RQcmljZSA9IHVzZXJTZXJ2aWNlLmdldER1cGxpY2F0ZVByb2R1Y3RQcmljZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmRhdGEucHJpY2UgKj0gZHVwbGljYXRlUHJvZHVjdFByaWNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UucmVzb2x2ZShyZXMuZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlci5kaXNhYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChyZXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UucmVqZWN0KHJlcyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UucHJvbWlzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gZ2V0UHJvZHVjdHNCeVNlYXJjaCh3b3JkLCBxdWFudGl0eSkgewoKICAgICAgICAgICAgICAgIGlmKCF3b3JkKXsKICAgICAgICAgICAgICAgICAgICB3b3JkID0gIiI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdmFyIGFsbERhdGEgPSBjYXRlZ29yeVNlcnZpY2UuZ2V0RXhpc3RpbmdEYXRhKCk7CiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSAkcS5kZWZlcigpOwogICAgICAgICAgICAgICAgaWYgKGFsbERhdGEpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgYXJyID0gW107CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxEYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gYWxsRGF0YVtpXTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhdGVnb3J5ID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlJZDogZGF0YS5jYXRlZ29yeUlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlJbWFnZUlkOiBkYXRhLmNhdGVnb3J5SW1hZ2VJZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5TmFtZTogZGF0YS5jYXRlZ29yeU5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0czogW10sCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIC8vYWRkIHRoZSBlbnRpcmUgY2F0ZWdvcnkgcHJvZHVjdHMKICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2F0ZWdvcnkuY2F0ZWdvcnlOYW1lLnRvTG93ZXJDYXNlKCkgPT09IHdvcmQudG9Mb3dlckNhc2UoKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5LnByb2R1Y3RzID0gYWxsRGF0YVtpXS5wcm9kdWN0czsKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5wcm9kdWN0cy5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9kdWN0ID0gYWxsRGF0YVtpXS5wcm9kdWN0c1tqXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZHVjdC5wcm9kdWN0TmFtZS50b0xvd2VyQ2FzZSgpLmluZGV4T2Yod29yZC50b0xvd2VyQ2FzZSgpKSAhPSAtMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBkYXRhLmNhdGVnb3J5TmFtZS50b0xvd2VyQ2FzZSgpID09IHdvcmQudG9Mb3dlckNhc2UoKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeS5wcm9kdWN0cy5wdXNoKHByb2R1Y3QpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2F0ZWdvcnkucHJvZHVjdHMubGVuZ3RoID4gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnIucHVzaChjYXRlZ29yeSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UucmVzb2x2ZShhcnIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgSGVscGVyLmVuYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gJGh0dHAoewogICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHNlcnZlci5jYXRhbG9nLmdldFByb2R1Y3RzQnlTZWFyY2god29yZCwgcXVhbnRpdHkpLAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHJlcXVlc3QudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQocmVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkdXBsaWNhdGVQcm9kdWN0UHJpY2UgPSB1c2VyU2VydmljZS5nZXREdXBsaWNhdGVQcm9kdWN0UHJpY2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaW5kZXg9IDAgOyBpbmRleCA8IHJlcy5kYXRhLmxlbmd0aDsgaW5kZXgrKyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpbmRleDI9IDAgOyBpbmRleDIgPCByZXMuZGF0YVtpbmRleF0ucHJvZHVjdHMubGVuZ3RoOyBpbmRleDIrKyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5kYXRhW2luZGV4XS5wcm9kdWN0c1tpbmRleDJdLnByaWNlICo9IGR1cGxpY2F0ZVByb2R1Y3RQcmljZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5yZXNvbHZlKHJlcy5kYXRhKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVyLmRpc2FibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKHJlcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5yZXNvbHZlKHJlcyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UucHJvbWlzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIGFsbENhdGVnb3JpZXNBdHRyaWJ1dGVzOwoKICAgICAgICAgICAgZnVuY3Rpb24gZ2V0QWxsQ2F0ZWdvcmllc0F0dHJpYnV0ZXMoKSB7CgogICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gJHEuZGVmZXIoKTsKICAgICAgICAgICAgICAgIGlmIChhbGxDYXRlZ29yaWVzQXR0cmlidXRlcykgewogICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnJlc29sdmUoYWxsQ2F0ZWdvcmllc0F0dHJpYnV0ZXMpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CgogICAgICAgICAgICAgICAgICAgIEhlbHBlci5lbmFibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdCA9ICRodHRwKHsKICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXIuY2F0YWxvZy5nZXRBbGxDYXRlZ29yaWVzQXR0cmlidXRlcygpCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlci5kaXNhYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChyZXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsQ2F0ZWdvcmllc0F0dHJpYnV0ZXMgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnJlc29sdmUoYWxsQ2F0ZWdvcmllc0F0dHJpYnV0ZXMpOwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQocmVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnJlc29sdmUocmVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UucHJvbWlzZTsKICAgICAgICAgICAgfQoKICAgICAgICB9XSk7Cn0pOwovKioKICogQ3JlYXRlZCBieSBrdWJhbnkgb24gMTAvMTgvMjAxNS4KICovCmRlZmluZSgnYXBwL3NlcnZpY2VzL2NhdGVnb3J5U2VydmljZScsWycuL21vZHVsZSddLCBmdW5jdGlvbiAoc2VydmljZXMpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHNlcnZpY2VzLnNlcnZpY2UoJ2NhdGVnb3J5U2VydmljZScsIFsnJGh0dHAnLCAnJHEnLCAndXNlclNlcnZpY2UnLAogICAgICAgIGZ1bmN0aW9uICgkaHR0cCwgJHEsIHVzZXJTZXJ2aWNlKSB7CgogICAgICAgICAgICB2YXIgYWxsRGF0YTsKICAgICAgICAgICAgdmFyIGNhdGVnb3JpZXM7CiAgICAgICAgICAgIHZhciBwb3B1bGFyUHJvZHVjdHM7CgogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgbG9hZFNlcnZlcjogbG9hZFNlcnZlciwKICAgICAgICAgICAgICAgIGdldEFsbERhdGE6IGdldEFsbERhdGEsCiAgICAgICAgICAgICAgICBnZXRDYXRlZ29yaWVzOiBnZXRDYXRlZ29yaWVzLAogICAgICAgICAgICAgICAgZ2V0Q2F0ZWdvcnlCeUlkOiBnZXRDYXRlZ29yeUJ5SWQsCiAgICAgICAgICAgICAgICBnZXRQb3B1bGFyUHJvZHVjdHM6IGdldFBvcHVsYXJQcm9kdWN0cywKICAgICAgICAgICAgICAgIGdldEV4aXN0aW5nRGF0YTogZ2V0RXhpc3RpbmdEYXRhLAogICAgICAgICAgICAgICAgaGF2ZUludGVybmV0OiBoYXZlSW50ZXJuZXQsCiAgICAgICAgICAgICAgICBnZXRNb3N0UG9wdWxhckNvbW1lbnRzOiBnZXRNb3N0UG9wdWxhckNvbW1lbnRzLAogICAgICAgICAgICAgICAgbnZIYW5kbGVyOiBudkhhbmRsZXIsCiAgICAgICAgICAgICAgICBudl9sb2FkVW51c2VTY3JpcHRzOiBudl9sb2FkVW51c2VTY3JpcHRzLAogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBoYXZlSW50ZXJuZXQoKSB7CgogICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gJHEuZGVmZXIoKTsKICAgICAgICAgICAgICAgIC8vICRodHRwKHsKICAgICAgICAgICAgICAgIC8vICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgICAgICAgICAgLy8gICAgIHVybDogc2VydmVyLmdldEtleSgpICsgImNhdGFsb2cvYXBpL3YxL2NhdGFsb2cvTGFzdFVwZGF0ZS90aW1lc3RhbXAiCiAgICAgICAgICAgICAgICAvLyB9KS5zdWNjZXNzKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIC8vICAgICByZXNwb25zZS5yZXNvbHZlKHRydWUpOwogICAgICAgICAgICAgICAgLy8gfSkuZXJyb3IoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgLy8gICAgIHJlc3BvbnNlLnJlc29sdmUoZmFsc2UpOwogICAgICAgICAgICAgICAgLy8gfSk7CiAgICAgICAgICAgICAgICByZXNwb25zZS5yZXNvbHZlKHRydWUpOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnByb21pc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEV4aXN0aW5nRGF0YSgpIHsKICAgICAgICAgICAgICAgIGlmICghYWxsRGF0YSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0QWxsRGF0YSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIGFsbERhdGE7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEFsbERhdGEoKSB7CiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSAkcS5kZWZlcigpOwogICAgICAgICAgICAgICAgJGh0dHAoewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXIuY2F0YWxvZy5nZXRBbGxEYXRhKCkKICAgICAgICAgICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKHJlcykKICAgICAgICAgICAgICAgICAgICB2YXIgZHVwbGljYXRlUHJvZHVjdFByaWNlID0gdXNlclNlcnZpY2UuZ2V0RHVwbGljYXRlUHJvZHVjdFByaWNlKCk7CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXgxID0gMDsgaW5kZXgxIDwgcmVzLmxlbmd0aDsgaW5kZXgxKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXgyID0gMDsgaW5kZXgyIDwgcmVzW2luZGV4MV0ucHJvZHVjdHMubGVuZ3RoOyBpbmRleDIrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzW2luZGV4MV0ucHJvZHVjdHNbaW5kZXgyXS5wcmljZSAqPSBkdXBsaWNhdGVQcm9kdWN0UHJpY2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmVzLmZvckVhY2goZnVuY3Rpb24oY2F0KXsKICAgICAgICAgICAgICAgICAgICAgICAgY2F0LnByb2R1Y3RzLmZvckVhY2goZnVuY3Rpb24oZCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLmNvbG9ycyA9IGQuY29sb3JzLmZpbHRlcihmdW5jdGlvbihjb2wpe3JldHVybiBjb2wuaW5TdG9jayA+IDB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgYWxsRGF0YSA9IHJlczsKICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5yZXNvbHZlKGFsbERhdGEpOwogICAgICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICAgIC8vYWxlcnQoJ0FuIGVycm9yIG9jY3VycmVkLCBwbGVhc2UgdHJ5IGFnYWluJykKICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChlcnIpOwogICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnJlamVjdCgnZXJyb3IgaW4gbG9hZCBjYXJ0IChwcm9kdWN0Q2FydFNlcnZpY2UgLSBsb2FkQ2FydFByb2R1Y3RzKScpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UucHJvbWlzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gZ2V0TW9zdFBvcHVsYXJDb21tZW50cyhjYXRlZ29yeUlkKSB7CgogICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gJHEuZGVmZXIoKTsKICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yeUlkICE9IDIpIHsKICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5yZXNvbHZlKFtdKTsKICAgICAgICAgICAgICAgIH0KCgogICAgICAgICAgICAgICAgJGh0dHAoewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXIuY2F0YWxvZy5nZXRNb3N0UG9wdWxhckNvbW1lbnRzKCkKICAgICAgICAgICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIHZhciBhcnIgPSByZXMgJiYgcmVzLlVzZXJDb21tZW50cyA/IHJlcy5Vc2VyQ29tbWVudHMgOiBbXTsKICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChhcnIpCgogICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChhcnIsIGZ1bmN0aW9uIChpdG0sIGluZGV4KSB7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRtLnNjb3JlID4gOS41KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdG0udGl0bGUgPSAiRXhjZWxsZW50IjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpdG0uc2NvcmUgPiA4LjUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0bS50aXRsZSA9ICJWZXJ5IGdvb2QiOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0bS5zY29yZSA+IDcuNSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRtLnRpdGxlID0gIkdvb2QiOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0bS5zY29yZSA+IDUuNSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRtLnRpdGxlID0gIkF2ZXJhZ2UiOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0bS5zY29yZSA+IDQuNSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRtLnRpdGxlID0gIlBvb3IiOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0bS5zY29yZSA+IDIuNSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRtLnRpdGxlID0gIlZlcnkgcG9vciI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdG0udGl0bGUgPSAiU2hhbWVmdWwiOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGl0bS5yZXZpZXdzQ291bnQgPSAoaXRtLmNvbW1lbnQubGVuZ3RoICsgaXRtLnRpdGxlLmxlbmd0aCkgKiAyOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5yZXNvbHZlKGFycik7CgogICAgICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKGVycik7CiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UucmVqZWN0KCdlcnJvciBpbiBsb2FkIGNhcnQgKHByb2R1Y3RDYXJ0U2VydmljZSAtIGxvYWRDYXJ0UHJvZHVjdHMpJyk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UucHJvbWlzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gZ2V0Q2F0ZWdvcmllcygpIHsKCiAgICAgICAgICAgICAgICB2YXIgZGVmZXIgPSAkcS5kZWZlcigpOwoKICAgICAgICAgICAgICAgIGlmICh1c2VyU2VydmljZS5udl9zbG93UGFnZSgpKSB7CiAgICAgICAgICAgICAgICAgICAgJHEuYWxsKFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldENhdGVnb3J5QnlJZCgxKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldENhdGVnb3J5QnlJZCgyKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldENhdGVnb3J5QnlJZCgzKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldENhdGVnb3J5QnlJZCg0KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldENhdGVnb3J5QnlJZCg1KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldENhdGVnb3J5QnlJZCgxKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldENhdGVnb3J5QnlJZCgyKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldENhdGVnb3J5QnlJZCgzKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldENhdGVnb3J5QnlJZCg0KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldENhdGVnb3J5QnlJZCg1KSwKICAgICAgICAgICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllcyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHJlcywgZnVuY3Rpb24oX2NhdGVnb3J5KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgX2NhdGVnb3J5LnByb2R1Y3RzLmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NhdGVnb3J5LnByb2R1Y3RzW2ldLmlkID1fY2F0ZWdvcnkucHJvZHVjdHNbaV0ucHJvZHVjdElkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2F0ZWdvcnkucHJvZHVjdHNbaV0ubWFuYWdlZEltYWdlSWQgPV9jYXRlZ29yeS5wcm9kdWN0c1tpXS5pbWFnZVVybDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NhdGVnb3J5Lm1hbmFnZWRJbWFnZUlkID1fY2F0ZWdvcnkuY2F0ZWdvcnlJbWFnZUlkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMucHVzaChfY2F0ZWdvcnkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMgPSBkdXBsaWNhdGVQcm9kdWN0UHJpY2UoY2F0ZWdvcmllcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKGNhdGVnb3JpZXMpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yaWVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUoY2F0ZWdvcmllcyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZW5hYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHNlcnZlci5jYXRhbG9nLmdldENhdGVnb3JpZXMoKSwKICAgICAgICAgICAgICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQocmVzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gZHVwbGljYXRlUHJvZHVjdFByaWNlKHJlcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzID0gcmVzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShyZXMpCiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlci5kaXNhYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChlcnIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZWplY3QobnVsbCkKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGR1cGxpY2F0ZVByb2R1Y3RQcmljZShyZXMpewogICAgICAgICAgICAgICAgdmFyIGR1cGxpY2F0ZVByb2R1Y3RQcmljZSA9IHVzZXJTZXJ2aWNlLmdldER1cGxpY2F0ZVByb2R1Y3RQcmljZSgpOwogICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXgxID0gMDsgaW5kZXgxIDwgcmVzLmxlbmd0aDsgaW5kZXgxKyspIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpbmRleDIgPSAwOyBpbmRleDIgPCByZXNbaW5kZXgxXS5wcm9kdWN0cy5sZW5ndGg7IGluZGV4MisrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc1tpbmRleDFdLnByb2R1Y3RzW2luZGV4Ml0ucHJpY2UgKj0gZHVwbGljYXRlUHJvZHVjdFByaWNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiByZXM7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGdldENhdGVnb3J5QnlJZChpZCkgewoKICAgICAgICAgICAgICAgIHZhciBkZWZlciA9ICRxLmRlZmVyKCk7CiAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGlmIChhbGxEYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxEYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYXRlZ29yeSA9IGFsbERhdGFbaV07CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yeS5jYXRlZ29yeUlkID09IGlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKGNhdGVnb3J5KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCJjYXRlZ29yeSByZXR1cm4gZnJvbSBhcHAiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICghZm91bmQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoaWQgPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShudWxsKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVyLmVuYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAkaHR0cCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXIuY2F0YWxvZy5nZXRDYXRlZ29yeUJ5SWQoaWQpLAogICAgICAgICAgICAgICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCJjYXRlZ29yeSByZXR1cm4gZnJvbSBzZXJ2ZXIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlci5kaXNhYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChyZXMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZHVwbGljYXRlUHJvZHVjdFByaWNlID0gdXNlclNlcnZpY2UuZ2V0RHVwbGljYXRlUHJvZHVjdFByaWNlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgcmVzLnByb2R1Y3RzLmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5wcm9kdWN0c1tpbmRleF0ucHJpY2UgKj0gZHVwbGljYXRlUHJvZHVjdFByaWNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnByb2R1Y3RzLmZvckVhY2goZnVuY3Rpb24oZCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5jb2xvcnMgPSBkLmNvbG9ycy5maWx0ZXIoZnVuY3Rpb24oY29sKXtyZXR1cm4gY29sLmluU3RvY2sgPiAwfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKHJlcykKICAgICAgICAgICAgICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVyLmRpc2FibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKGVycikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlamVjdChlcnIpCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBkZWZlci5wcm9taXNlOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgZnVuY3Rpb24gZ2V0UG9wdWxhclByb2R1Y3RzKCkgewoKICAgICAgICAgICAgICAgIHZhciBkZWZlciA9ICRxLmRlZmVyKCk7CiAgICAgICAgICAgICAgICBpZiAocG9wdWxhclByb2R1Y3RzICYmICF1c2VyU2VydmljZS5udl9zbG93UGFnZSgpKSB7CiAgICAgICAgICAgICAgICAgICAgcHJpbnQoInBvcHVsYXJQcm9kdWN0cyByZXR1cm4gZnJvbSBhcHAiKTsKICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKHBvcHVsYXJQcm9kdWN0cyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKCiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWVzID0gdXNlclNlcnZpY2UubnZfc2xvd1BhZ2UoKSA/IDMgOiAxOwogICAgICAgICAgICAgICAgICAgIHZhciBjb3VudGVySHR0cHRpbWVzQ2FsbHMgPSAwOwogICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aW1lczsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXIuY2F0YWxvZy5nZXRQb3B1bGFyUHJvZHVjdHMoKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKHJlcykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgicG9wdWxhclByb2R1Y3RzIHJldHVybiBmcm9tIHNlcnZlciIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkdXBsaWNhdGVQcm9kdWN0UHJpY2UgPSB1c2VyU2VydmljZS5nZXREdXBsaWNhdGVQcm9kdWN0UHJpY2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgcmVzLmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNbaW5kZXhdLnByaWNlICo9IGR1cGxpY2F0ZVByb2R1Y3RQcmljZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdWxhclByb2R1Y3RzID0gcmVzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3VudGVySHR0cHRpbWVzQ2FsbHMgKyAxID49IHRpbWVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUocmVzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnRlckh0dHB0aW1lc0NhbGxzKys7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKGVycikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZWplY3QobnVsbCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9LCA2MDAgKiAoaSArIDEpKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gbG9hZFNlcnZlcigpIHsKICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9ICRxLmRlZmVyKCk7CgogICAgICAgICAgICAgICAgdmFyIGZpbGUgPSAnc2VydmljZXMucHJvcGVydGllcycKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJFeHRyYWN0aW5nIGZpbGU6ICIgKyBmaWxlKTsKCiAgICAgICAgICAgICAgICB2YXIgcmF3RmlsZSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgICAgICAgICAgcmF3RmlsZS5vcGVuKCJHRVQiLCBmaWxlLCBmYWxzZSk7CiAgICAgICAgICAgICAgICByYXdGaWxlLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgaWYocmF3RmlsZS5yZWFkeVN0YXRlID09PSA0KXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYocmF3RmlsZS5zdGF0dXMgPT09IDIwMCB8fCByYXdGaWxlLnN0YXR1cyA9PSAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGlzSnNvblN0cmluZyhyYXdGaWxlLnJlc3BvbnNlVGV4dCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VTZXJ2aWNlc0FzSlNPTihyYXdGaWxlLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VTZXJ2aWNlc0FzVHh0KHJhd0ZpbGUucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnJlc29sdmUoIk9LIik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByYXdGaWxlLnNlbmQobnVsbCk7CiAgICAgICAgICAgICAgICAvLyBpZihzZXJ2ZXIuZ2V0S2V5KCkgIT09ICd1bmRlZmluZWQnKXsKICAgICAgICAgICAgICAgIC8vICAgICByZXNwb25zZS5yZXNvbHZlKCJPSyIpOwogICAgICAgICAgICAgICAgLy8gfWVsc2V7CiAgICAgICAgICAgICAgICAvLyAgICAgJGh0dHAoewogICAgICAgICAgICAgICAgLy8gICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgICAgICAgICAgLy8gICAgICAgICB1cmw6IGZpbGUsCiAgICAgICAgICAgICAgICAvLyAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGlmKGlzSnNvblN0cmluZyhyZXMpKQogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgcGFyc2VTZXJ2aWNlc0FzSlNPTihyZXMpOwogICAgICAgICAgICAgICAgLy8gICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBwYXJzZVNlcnZpY2VzQXNUeHQocmVzKTsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgcmVzcG9uc2UucmVzb2x2ZSgiT0siKTsKICAgICAgICAgICAgICAgIC8vICAgICB9KS5lcnJvcihmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAvLwogICAgICAgICAgICAgICAgLy8gICAgIH0pOwogICAgICAgICAgICAgICAgLy8gfQoKCgogICAgICAgICAgICAgICAgLy8gcmF3RmlsZS5vcGVuKCJHRVQiLCBmaWxlLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAvLyByYXdGaWxlLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIC8vCiAgICAgICAgICAgICAgICAvLyAgICAgaWYgKHJhd0ZpbGUucmVhZHlTdGF0ZSA9PT0gNCkgewogICAgICAgICAgICAgICAgLy8gICAgICAgICBpZiAocmF3RmlsZS5zdGF0dXMgPT09IDIwMCB8fCByYXdGaWxlLnN0YXR1cyA9PSAwKSB7CiAgICAgICAgICAgICAgICAvLwogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgcmVzcG9uc2UucmVzb2x2ZSgiT0siKTsKICAgICAgICAgICAgICAgIC8vCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAvLyByYXdGaWxlLnNlbmQobnVsbCkKCgogICAgICAgICAgICAgICAgLy8kaHR0cCh7CiAgICAgICAgICAgICAgICAvLyAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgICAgICAgICAgLy8gICAgdXJsOiBzZXJ2ZXIuY2F0YWxvZy5nZXRBbGxEYXRhKCkKICAgICAgICAgICAgICAgIC8vfSkuc3VjY2VzcyhmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAvLyAgICBMb2dlci5SZWNlaXZlZChyZXMpCiAgICAgICAgICAgICAgICAvLyAgICB2YXIgZHVwbGljYXRlUHJvZHVjdFByaWNlID0gdXNlclNlcnZpY2UuZ2V0RHVwbGljYXRlUHJvZHVjdFByaWNlKCk7CiAgICAgICAgICAgICAgICAvLyAgICBmb3IodmFyIGluZGV4MT0gMCA7IGluZGV4MSA8IHJlcy5sZW5ndGg7IGluZGV4MSsrKXsKICAgICAgICAgICAgICAgIC8vICAgICAgICBmb3IodmFyIGluZGV4Mj0gMCA7IGluZGV4MiA8IHJlc1tpbmRleDFdLnByb2R1Y3RzLmxlbmd0aDsgaW5kZXgyKyspewogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICByZXNbaW5kZXgxXS5wcm9kdWN0c1tpbmRleDJdLnByaWNlICo9IGR1cGxpY2F0ZVByb2R1Y3RQcmljZTsKICAgICAgICAgICAgICAgIC8vICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyAgICB9CiAgICAgICAgICAgICAgICAvLyAgICBhbGxEYXRhID0gcmVzOwogICAgICAgICAgICAgICAgLy8gICAgcmVzcG9uc2UucmVzb2x2ZShhbGxEYXRhKTsKICAgICAgICAgICAgICAgIC8vfSkuZXJyb3IoZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgLy8gICAgYWxlcnQoJ0FuIGVycm9yIG9jY3VycmVkLCBwbGVhc2UgdHJ5IGFnYWluJykKICAgICAgICAgICAgICAgIC8vICAgIExvZ2VyLlJlY2VpdmVkKGVycik7CiAgICAgICAgICAgICAgICAvLyAgICByZXNwb25zZS5yZWplY3QoJ2Vycm9yIGluIGxvYWQgY2FydCAocHJvZHVjdENhcnRTZXJ2aWNlIC0gbG9hZENhcnRQcm9kdWN0cyknKTsKICAgICAgICAgICAgICAgIC8vfSk7CgoKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5wcm9taXNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBpc0pzb25TdHJpbmcoc3RyKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIHZhciBvYmogPSBKU09OLnBhcnNlKHN0cik7CgogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBwYXJzZVNlcnZpY2VzQXNKU09OKGpzb24pewogICAgICAgICAgICAgICAgc2VydmljZXNfcHJvcGVydGllcyA9IEpTT04ucGFyc2UoSlNPTi5wYXJzZShqc29uKSk7CiAgICAgICAgICAgICAgICB2YXIgcmV2ZXJzZVByb3h5ID0gc2VydmljZXNfcHJvcGVydGllc1sncmV2ZXJzZS5wcm94eSddLnZhbHVlOwogICAgICAgICAgICAgICAgdmFyIGhvc3RLZXkgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7CiAgICAgICAgICAgICAgICB2YXIgcHJvdG9jb2wgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2w7CiAgICAgICAgICAgICAgICB2YXIgcG9ydCA9IHdpbmRvdy5sb2NhdGlvbi5wb3J0OwogICAgICAgICAgICAgICAgdmFyIGdhdGV3YXlPbiA9IHNlcnZpY2VzX3Byb3BlcnRpZXNbJ2Fvcy5nYXRld2F5J10udmFsdWU7CgogICAgICAgICAgICAgICAgaWYoc2VydmljZXNfcHJvcGVydGllc1snc2luZ2xlLm1hY2hpbmUuZGVwbG95bWVudCddLnZhbHVlICYmICFnYXRld2F5T24pewoKICAgICAgICAgICAgICAgICAgICBzZXJ2ZXIuc2V0S2V5KHByb3RvY29sICsgIi8vIiArIGhvc3RLZXkgKwogICAgICAgICAgICAgICAgICAgICAgICAocmV2ZXJzZVByb3h5ID8gIiIgOiAiOiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZXNfcHJvcGVydGllc1snY2F0YWxvZy5zZXJ2aWNlLnVybC5wb3J0J10udmFsdWUpKyAiLyIpOwoKICAgICAgICAgICAgICAgICAgICBzZXJ2ZXIuc2V0Q2F0YWxvZ0tleShwcm90b2NvbCArICIvLyIgKyBob3N0S2V5ICsKICAgICAgICAgICAgICAgICAgICAgICAgKHJldmVyc2VQcm94eSA/ICIiIDogIjoiICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VzX3Byb3BlcnRpZXNbJ2NhdGFsb2cuc2VydmljZS51cmwucG9ydCddLnZhbHVlKSArICIvIiArIHNlcnZpY2VzX3Byb3BlcnRpZXNbJ2NhdGFsb2cuc2VydmljZS51cmwuc3VmZml4J10udmFsdWUgKyAiLyIpOwoKICAgICAgICAgICAgICAgICAgICBzZXJ2ZXIuc2V0T3JkZXJLZXkocHJvdG9jb2wgKyAiLy8iICsgaG9zdEtleSArCiAgICAgICAgICAgICAgICAgICAgICAgIChyZXZlcnNlUHJveHkgPyAiIiA6ICI6IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlc19wcm9wZXJ0aWVzWydvcmRlci5zZXJ2aWNlLnVybC5wb3J0J10udmFsdWUpICsgIi8iICsgc2VydmljZXNfcHJvcGVydGllc1snb3JkZXIuc2VydmljZS51cmwuc3VmZml4J10udmFsdWUgKyAiLyIpOwoKICAgICAgICAgICAgICAgICAgICBzZXJ2ZXIuc2V0V3NkbFBhdGgocHJvdG9jb2wgKyAiLy8iICsKICAgICAgICAgICAgICAgICAgICAgICAgaG9zdEtleSArCiAgICAgICAgICAgICAgICAgICAgICAgIChyZXZlcnNlUHJveHkgPyAiIiA6ICI6IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlc19wcm9wZXJ0aWVzWydhY2NvdW50LnNvYXBzZXJ2aWNlLnVybC5wb3J0J10udmFsdWUpICsgIi8iICsKICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZXNfcHJvcGVydGllc1snYWNjb3VudC5zb2Fwc2VydmljZS51cmwuc3VmZml4J10udmFsdWUgKyAiLyIpOwogICAgICAgICAgICAgICAgfWVsc2UgaWYocmV2ZXJzZVByb3h5ICYmICFnYXRld2F5T24pewogICAgICAgICAgICAgICAgICAgIHNlcnZlci5zZXRLZXkocHJvdG9jb2wgKyAiLy8iICsgaG9zdEtleSArICIvIik7CiAgICAgICAgICAgICAgICAgICAgc2VydmVyLnNldENhdGFsb2dLZXkocHJvdG9jb2wgKyAiLy8iICsgaG9zdEtleSArICIvIiAgKyBzZXJ2aWNlc19wcm9wZXJ0aWVzWydjYXRhbG9nLnNlcnZpY2UudXJsLnN1ZmZpeCddLnZhbHVlICsgIi8iKTsKICAgICAgICAgICAgICAgICAgICBzZXJ2ZXIuc2V0T3JkZXJLZXkocHJvdG9jb2wgKyAiLy8iICsgaG9zdEtleSArICIvIiAgKyBzZXJ2aWNlc19wcm9wZXJ0aWVzWydvcmRlci5zZXJ2aWNlLnVybC5zdWZmaXgnXS52YWx1ZSArICIvIik7CiAgICAgICAgICAgICAgICAgICAgc2VydmVyLnNldFdzZGxQYXRoKHByb3RvY29sICsgIi8vIiArIGhvc3RLZXkgKyAiLyIgKwogICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlc19wcm9wZXJ0aWVzWydhY2NvdW50LnNvYXBzZXJ2aWNlLnVybC5zdWZmaXgnXS52YWx1ZSArICIvIik7CiAgICAgICAgICAgICAgICB9ZWxzZSBpZihnYXRld2F5T24pewogICAgICAgICAgICAgICAgICAgIHNlcnZlci5zZXRLZXkocHJvdG9jb2wgKyAiLy8iICsgaG9zdEtleSArICI6IiArIHBvcnQgKyAgIi8iKTsKICAgICAgICAgICAgICAgICAgICBzZXJ2ZXIuc2V0Q2F0YWxvZ0tleShwcm90b2NvbCArICIvLyIgKyBob3N0S2V5ICsgIjoiICsgcG9ydCArICIvIiAgKyBzZXJ2aWNlc19wcm9wZXJ0aWVzWydjYXRhbG9nLnNlcnZpY2UudXJsLnN1ZmZpeCddLnZhbHVlICsgIi8iKTsKICAgICAgICAgICAgICAgICAgICBzZXJ2ZXIuc2V0T3JkZXJLZXkocHJvdG9jb2wgKyAiLy8iICsgaG9zdEtleSArICI6IiArIHBvcnQgKyAiLyIgICsgc2VydmljZXNfcHJvcGVydGllc1snb3JkZXIuc2VydmljZS51cmwuc3VmZml4J10udmFsdWUgKyAiLyIpOwogICAgICAgICAgICAgICAgICAgIHNlcnZlci5zZXRXc2RsUGF0aChwcm90b2NvbCArICIvLyIgKyBob3N0S2V5ICsgIjoiICsgcG9ydCArICIvIiArCiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VzX3Byb3BlcnRpZXNbJ2FjY291bnQuc29hcHNlcnZpY2UudXJsLnN1ZmZpeCddLnZhbHVlICsgIi8iKTsKICAgICAgICAgICAgICAgIH0gZWxzZXsKICAgICAgICAgICAgICAgICAgICBzZXJ2ZXIuc2V0S2V5KCJodHRwOi8vIiArIHNlcnZpY2VzX3Byb3BlcnRpZXNbJ2NhdGFsb2cuc2VydmljZS51cmwuaG9zdCddLnZhbHVlICsgIjoiICsKICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZXNfcHJvcGVydGllc1snY2F0YWxvZy5zZXJ2aWNlLnVybC5wb3J0J10udmFsdWUgKyAiLyIpOwoKICAgICAgICAgICAgICAgICAgICBzZXJ2ZXIuc2V0Q2F0YWxvZ0tleSgiaHR0cDovLyIgKyBzZXJ2aWNlc19wcm9wZXJ0aWVzWydjYXRhbG9nLnNlcnZpY2UudXJsLmhvc3QnXS52YWx1ZSArICI6IiArCiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VzX3Byb3BlcnRpZXNbJ2NhdGFsb2cuc2VydmljZS51cmwucG9ydCddLnZhbHVlICsgIi8iICsgc2VydmljZXNfcHJvcGVydGllc1snY2F0YWxvZy5zZXJ2aWNlLnVybC5zdWZmaXgnXS52YWx1ZSArICIvIik7CgogICAgICAgICAgICAgICAgICAgIHNlcnZlci5zZXRPcmRlcktleSgiaHR0cDovLyIgKyBzZXJ2aWNlc19wcm9wZXJ0aWVzWydvcmRlci5zZXJ2aWNlLnVybC5ob3N0J10udmFsdWUgKyAiOiIgKwogICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlc19wcm9wZXJ0aWVzWydvcmRlci5zZXJ2aWNlLnVybC5wb3J0J10udmFsdWUgKyAiLyIgKyBzZXJ2aWNlc19wcm9wZXJ0aWVzWydvcmRlci5zZXJ2aWNlLnVybC5zdWZmaXgnXS52YWx1ZSArICIvIik7CgogICAgICAgICAgICAgICAgICAgIHNlcnZlci5zZXRXc2RsUGF0aCgiaHR0cDovLyIgKwogICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlc19wcm9wZXJ0aWVzWydhY2NvdW50LnNvYXBzZXJ2aWNlLnVybC5ob3N0J10udmFsdWUgKyAiOiIgKwogICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlc19wcm9wZXJ0aWVzWydhY2NvdW50LnNvYXBzZXJ2aWNlLnVybC5wb3J0J10udmFsdWUgKyAiLyIgKwogICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlc19wcm9wZXJ0aWVzWydhY2NvdW50LnNvYXBzZXJ2aWNlLnVybC5zdWZmaXgnXS52YWx1ZSArICIvIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHBhcnNlU2VydmljZXNBc1R4dCh0eHQpewogICAgICAgICAgICAgICAgdmFyIGZpbGVUZXh0ID0gdHh0OwogICAgICAgICAgICAgICAgdmFyIHJhd0ZpbGVfcmVzcG9uc2VUZXh0ID0gZmlsZVRleHQ7CiAgICAgICAgICAgICAgICBmaWxlVGV4dCA9IGZpbGVUZXh0LnNwbGl0KCcnKTsKICAgICAgICAgICAgICAgIHZhciBfcGFyYW0gPSAnJzsKICAgICAgICAgICAgICAgIHZhciBfdmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgIHZhciBhdHRyID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHZhciBhcnJheUFwaSA9IFtdOwogICAgICAgICAgICAgICAgdmFyIGludmFsaWRDaGFycyA9ICcjJzsKICAgICAgICAgICAgICAgIGZpbGVUZXh0LmZvckVhY2goZnVuY3Rpb24gKGEpIHsKICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGEuY2hhckNvZGVBdCgwKSkgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbGlkUGFyYW0gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnZhbGlkQ2hhcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3BhcmFtLmluZGV4T2YoaW52YWxpZENoYXJzW2ldKSAhPSAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZFBhcmFtID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZFBhcmFtICYmIF9wYXJhbSAhPSAnJyAmJiBfdmFsdWUgIT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheUFwaS5wdXNoKCJ7XCIiICsgX3BhcmFtLnNwbGl0KCIuIikuam9pbigiXyIpICsgIlwiOlwiIiArIF92YWx1ZSArICJcIn0iKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGFyYW0gPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHIgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BhcmFtICs9IGE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92YWx1ZSArPSBhOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgYXJyYXlBcGkuZm9yRWFjaChmdW5jdGlvbiAoYSkgewogICAgICAgICAgICAgICAgICAgIHZhciBqc29uT2JqID0gSlNPTi5wYXJzZShhKTsKICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlc19wcm9wZXJ0aWVzW09iamVjdC5rZXlzKGpzb25PYmopXSA9IGpzb25PYmpbT2JqZWN0LmtleXMoanNvbk9iaildOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgdmFyIHJldmVyc2VQcm94eSA9IHNlcnZpY2VzX3Byb3BlcnRpZXNbJ3JldmVyc2VfcHJveHknXSA9PT0gJ3RydWUnOwogICAgICAgICAgICAgICAgdmFyIGhvc3RLZXkgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7CiAgICAgICAgICAgICAgICB2YXIgcHJvdG9jb2wgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2w7CiAgICAgICAgICAgICAgICB2YXIgcG9ydCA9IHdpbmRvdy5sb2NhdGlvbi5wb3J0OwogICAgICAgICAgICAgICAgdmFyIGdhdGV3YXlPbiA9IHNlcnZpY2VzX3Byb3BlcnRpZXNbJ2Fvc19nYXRld2F5J10gPT09ICd0cnVlJzsKCiAgICAgICAgICAgICAgICBpZihzZXJ2aWNlc19wcm9wZXJ0aWVzWydzaW5nbGVfbWFjaGluZV9kZXBsb3ltZW50J10gPT09ICd0cnVlJyAmJiAhZ2F0ZXdheU9uKXsKCiAgICAgICAgICAgICAgICAgICAgc2VydmVyLnNldEtleShwcm90b2NvbCArICIvLyIgKyBob3N0S2V5ICsKICAgICAgICAgICAgICAgICAgICAgICAgKHJldmVyc2VQcm94eSA/ICIiIDogIjoiICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VzX3Byb3BlcnRpZXNbJ2NhdGFsb2dfc2VydmljZV91cmxfcG9ydCddKSsgIi8iKTsKCiAgICAgICAgICAgICAgICAgICAgc2VydmVyLnNldENhdGFsb2dLZXkocHJvdG9jb2wgKyAiLy8iICsgaG9zdEtleSArCiAgICAgICAgICAgICAgICAgICAgICAgIChyZXZlcnNlUHJveHkgPyAiIiA6ICI6IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlc19wcm9wZXJ0aWVzWydjYXRhbG9nX3NlcnZpY2VfdXJsX3BvcnQnXSkgKyAiLyIgKyBzZXJ2aWNlc19wcm9wZXJ0aWVzWydjYXRhbG9nX3NlcnZpY2VfdXJsX3N1ZmZpeCddICsgIi8iKTsKCiAgICAgICAgICAgICAgICAgICAgc2VydmVyLnNldE9yZGVyS2V5KHByb3RvY29sICsgIi8vIiArIGhvc3RLZXkgKwogICAgICAgICAgICAgICAgICAgICAgICAocmV2ZXJzZVByb3h5ID8gIiIgOiAiOiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZXNfcHJvcGVydGllc1snb3JkZXJfc2VydmljZV91cmxfcG9ydCddKSArICIvIiArIHNlcnZpY2VzX3Byb3BlcnRpZXNbJ29yZGVyX3NlcnZpY2VfdXJsX3N1ZmZpeCddICsgIi8iKTsKCiAgICAgICAgICAgICAgICAgICAgc2VydmVyLnNldFdzZGxQYXRoKHByb3RvY29sICsgIi8vIiArCiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RLZXkgKwogICAgICAgICAgICAgICAgICAgICAgICAocmV2ZXJzZVByb3h5ID8gIiIgOiAiOiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZXNfcHJvcGVydGllc1snYWNjb3VudF9zb2Fwc2VydmljZV91cmxfcG9ydCddKSArICIvIiArCiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VzX3Byb3BlcnRpZXNbJ2FjY291bnRfc29hcHNlcnZpY2VfdXJsX3N1ZmZpeCddICsgIi8iKTsKCgogICAgICAgICAgICAgICAgfWVsc2UgaWYocmV2ZXJzZVByb3h5ICYmICFnYXRld2F5T24pewogICAgICAgICAgICAgICAgICAgIHNlcnZlci5zZXRLZXkocHJvdG9jb2wgKyAiLy8iICsgaG9zdEtleSArICIvIik7CiAgICAgICAgICAgICAgICAgICAgc2VydmVyLnNldENhdGFsb2dLZXkocHJvdG9jb2wgKyAiLy8iICsgaG9zdEtleSArICIvIiAgKyBzZXJ2aWNlc19wcm9wZXJ0aWVzWydjYXRhbG9nX3NlcnZpY2VfdXJsX3N1ZmZpeCddICsgIi8iKTsKICAgICAgICAgICAgICAgICAgICBzZXJ2ZXIuc2V0T3JkZXJLZXkocHJvdG9jb2wgKyAiLy8iICsgaG9zdEtleSArICIvIiAgKyBzZXJ2aWNlc19wcm9wZXJ0aWVzWydvcmRlcl9zZXJ2aWNlX3VybF9zdWZmaXgnXSArICIvIik7CiAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXBXc2RsUGF0aCA9IHByb3RvY29sICsgIi8vIiArIGhvc3RLZXkgKyAiLyIgKwogICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlc19wcm9wZXJ0aWVzWydhY2NvdW50X3NvYXBzZXJ2aWNlX3VybF9zdWZmaXgnXSArICIvIjsKCiAgICAgICAgICAgICAgICAgICAgc2VydmVyLnNldFdzZGxQYXRoKHRlbXBXc2RsUGF0aC5yZXBsYWNlKC8oW146XVwvKVwvKy9nLCAiJDEiKSk7CiAgICAgICAgICAgICAgICB9ZWxzZSBpZihnYXRld2F5T24pewogICAgICAgICAgICAgICAgICAgIHNlcnZlci5zZXRLZXkocHJvdG9jb2wgKyAiLy8iICsgaG9zdEtleSArICI6IiArIHBvcnQgKyAgIi8iKTsKICAgICAgICAgICAgICAgICAgICBzZXJ2ZXIuc2V0Q2F0YWxvZ0tleShwcm90b2NvbCArICIvLyIgKyBob3N0S2V5ICsgIjoiICsgcG9ydCArICIvIiAgKyBzZXJ2aWNlc19wcm9wZXJ0aWVzWydjYXRhbG9nX3NlcnZpY2VfdXJsX3N1ZmZpeCddICsgIi8iKTsKICAgICAgICAgICAgICAgICAgICBzZXJ2ZXIuc2V0T3JkZXJLZXkocHJvdG9jb2wgKyAiLy8iICsgaG9zdEtleSArICI6IiArIHBvcnQgKyAiLyIgICsgc2VydmljZXNfcHJvcGVydGllc1snb3JkZXJfc2VydmljZV91cmxfc3VmZml4J10gKyAiLyIpOwogICAgICAgICAgICAgICAgICAgIHNlcnZlci5zZXRXc2RsUGF0aChwcm90b2NvbCArICIvLyIgKyBob3N0S2V5ICsgIjoiICsgcG9ydCArICIvIiArCiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VzX3Byb3BlcnRpZXNbJ2FjY291bnRfc29hcHNlcnZpY2VfdXJsX3N1ZmZpeCddICsgIi8iKTsKICAgICAgICAgICAgICAgIH0gZWxzZXsKICAgICAgICAgICAgICAgICAgICBzZXJ2ZXIuc2V0S2V5KCJodHRwOi8vIiArIHNlcnZpY2VzX3Byb3BlcnRpZXNbJ2NhdGFsb2dfc2VydmljZV91cmxfaG9zdCddICsgIjoiICsKICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZXNfcHJvcGVydGllc1snY2F0YWxvZ19zZXJ2aWNlX3VybF9wb3J0J10gKyAiLyIpOwoKICAgICAgICAgICAgICAgICAgICBzZXJ2ZXIuc2V0Q2F0YWxvZ0tleSgiaHR0cDovLyIgKyBzZXJ2aWNlc19wcm9wZXJ0aWVzWydjYXRhbG9nX3NlcnZpY2VfdXJsX2hvc3QnXSArICI6IiArCiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VzX3Byb3BlcnRpZXNbJ2NhdGFsb2dfc2VydmljZV91cmxfcG9ydCddICsgIi8iICsgc2VydmljZXNfcHJvcGVydGllc1snY2F0YWxvZ19zZXJ2aWNlX3VybF9zdWZmaXgnXSArICIvIik7CgogICAgICAgICAgICAgICAgICAgIHNlcnZlci5zZXRPcmRlcktleSgiaHR0cDovLyIgKyBzZXJ2aWNlc19wcm9wZXJ0aWVzWydvcmRlcl9zZXJ2aWNlX3VybF9ob3N0J10gKyAiOiIgKwogICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlc19wcm9wZXJ0aWVzWydvcmRlcl9zZXJ2aWNlX3VybF9wb3J0J10gKyAiLyIgKyBzZXJ2aWNlc19wcm9wZXJ0aWVzWydvcmRlcl9zZXJ2aWNlX3VybF9zdWZmaXgnXSArICIvIik7CgogICAgICAgICAgICAgICAgICAgIHNlcnZlci5zZXRXc2RsUGF0aCgiaHR0cDovLyIgKwogICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlc19wcm9wZXJ0aWVzWydhY2NvdW50X3NvYXBzZXJ2aWNlX3VybF9ob3N0J10gKyAiOiIgKwogICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlc19wcm9wZXJ0aWVzWydhY2NvdW50X3NvYXBzZXJ2aWNlX3VybF9wb3J0J10gKyAiLyIgKwogICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlc19wcm9wZXJ0aWVzWydhY2NvdW50X3NvYXBzZXJ2aWNlX3VybF9zdWZmaXgnXSArICIvIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCgoKICAgICAgICAgICAgZnVuY3Rpb24gbnZIYW5kbGVyKCkgewoKCiAgICAgICAgICAgICAgICB2YXIgZGVmZXIgPSAkcS5kZWZlcigpOwogICAgICAgICAgICAgICAgaWYgKHVzZXJTZXJ2aWNlLm52X3Nsb3dQYWdlKCkpIHsKICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZW5hYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGNhbGxzID0gNjsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgY2FsbHM7IGluZGV4KyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvZGU7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoaW5kZXgpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSA1MDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTogY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSA0NDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlID0gNTM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IDQ5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSA0MDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IDQwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAkaHR0cCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXIuY2F0YWxvZy5udkhhbmRsZXIoY29kZSksCiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQocmVzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZSgpCiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKGVycikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZGVmZXIucmVzb2x2ZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggKyAxID49IGNhbGxzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7CiAgICAgICAgICAgIH0KCgogICAgICAgICAgICBmdW5jdGlvbiBudl9sb2FkVW51c2VTY3JpcHRzKCl7CiAgICAgICAgICAgICAgICB2YXIgZGVmZXIgPSAkcS5kZWZlcigpOwoKICAgICAgICAgICAgICAgIGlmKHVzZXJTZXJ2aWNlLm52X3Nsb3dQYWdlKCkpIHsKICAgICAgICAgICAgICAgICAgICAkaHR0cCh7CiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogInNjcmlwdHMvbnZfZmlsZXMvYW5ndWxhci1jb29raWVzLWZvci1udi5qcyIsCiAgICAgICAgICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICJzY3JpcHRzL252X2ZpbGVzL2dlbmVyYXRlLXNvdXJjZW1hcC1mb3ItbnYuanMiLAogICAgICAgICAgICAgICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogInNjcmlwdHMvbnZfZmlsZXMvcm91dGUtZm9yLW52LmpzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAic2NyaXB0cy9udl9maWxlcy9Tb3VyY2VNYXBwZXItZm9yLW52LmpzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShudWxsKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICB9KS5lcnJvcihmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlci5kaXNhYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKGVycikKICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVqZWN0KG51bGwpCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7CiAgICAgICAgICAgIH07CgogICAgICAgIH1dKTsKfSk7CgovKioKICogQ3JlYXRlZCBieSBrdWJhbnkgb24gMTAvMTMvMjAxNS4KICovCmRlZmluZSgnYXBwL3NlcnZpY2VzL2RlYWxTZXJ2aWNlJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChzZXJ2aWNlcykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgc2VydmljZXMuc2VydmljZSgnZGVhbFNlcnZpY2UnLCBbJyRodHRwJywgJyRxJywKICAgICAgICAnJHRpbWVvdXQnLCAndXNlclNlcnZpY2UnLAogICAgICAgIGZ1bmN0aW9uICgkaHR0cCwgJHEsICR0aW1lb3V0LCB1c2VyU2VydmljZSkgewogICAgICAgIC8vIFJldHVybiBwdWJsaWMgQVBJLgogICAgICAgIHJldHVybiAoewogICAgICAgICAgICBnZXREZWFsczogZ2V0RGVhbHMsCiAgICAgICAgICAgIGdldERlYWxPZlRoZURheTogZ2V0RGVhbE9mVGhlRGF5CiAgICAgICAgfSk7CgogICAgICAgIHZhciBkZWFsczsKICAgICAgICB2YXIgZGVhbE9mVGhlRGF5OwoKICAgICAgICBmdW5jdGlvbiBnZXREZWFscygpIHsKICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTsKICAgICAgICAgICAgaWYgKGRlYWxzKSB7CiAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKGRlYWxzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIEhlbHBlci5lbmFibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICRodHRwKHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgICAgICAgICAgICAgIHVybDogc2VydmVyLmNhdGFsb2cuZ2V0RGVhbHMoKSwKICAgICAgICAgICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIEhlbHBlci5kaXNhYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQocmVzKQogICAgICAgICAgICAgICAgICAgIGRlYWxzID0gcmVzOwogICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUocmVzKQogICAgICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICAgIEhlbHBlci5kaXNhYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQoZXJyKQogICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlamVjdChudWxsKQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7CiAgICAgICAgfQoKCiAgICAgICAgZnVuY3Rpb24gZ2V0RGVhbE9mVGhlRGF5KCkgewoKICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTsKICAgICAgICAgICAgaWYgKGRlYWxPZlRoZURheSAmJiAhdXNlclNlcnZpY2UubnZfc2xvd1BhZ2UoKSkgewogICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShkZWFsT2ZUaGVEYXkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgdmFyIGNvdW50ZXJIdHRwQ2FsbHMgPSAwOwogICAgICAgICAgICAgICAgdmFyIHRpbWVzID0gdXNlclNlcnZpY2UubnZfc2xvd1BhZ2UoKSA/IDMgOiAxOwogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aW1lczsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAkaHR0cCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXIuY2F0YWxvZy5nZXREZWFsT2ZUaGVEYXkoKSwKICAgICAgICAgICAgICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChyZXMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWFsT2ZUaGVEYXkgPSByZXM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjb3VudGVySHR0cENhbGxzICsgMSA9PSB0aW1lcyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShyZXMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ZXJIdHRwQ2FsbHMrKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQoZXJyKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVqZWN0KG51bGwpCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0sIDYwMCAqIChpICsgMSkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBkZWZlci5wcm9taXNlOwogICAgICAgIH0KICAgIH1dKTsKfSk7Ci8qKgogKiBDcmVhdGVkIGJ5IGt1YmFueSBvbiAxMC8xOC8yMDE1LgogKi8KZGVmaW5lKCdhcHAvc2VydmljZXMvcmVzcG9uc2VIYW5kbGVTZXJ2aWNlJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChzZXJ2aWNlcykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgc2VydmljZXMuc2VydmljZSgncmVzSGFuZGxlU2VydmljZScsIFsnJGh0dHAnLCAnJHEnLCAnJHRpbWVvdXQnLCBmdW5jdGlvbiAoJGh0dHAsICRxLCAkdGltZW91dCkgewoKICAgICAgICByZXR1cm4oewoKICAgICAgICAgICAgaGFuZGxlU3VjY2VzcyA6IGZ1bmN0aW9uICggcmVzcG9uc2UgKSB7CiAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChyZXNwb25zZS5kYXRhKQogICAgICAgICAgICAgICAgcmV0dXJuKCByZXNwb25zZS5kYXRhICk7CiAgICAgICAgICAgIH0sCgoKICAgICAgICAgICAgaGFuZGxlRXJyb3I6IGZ1bmN0aW9uICggcmVzcG9uc2UgKSB7CiAgICAgICAgICAgICAgICBpZiAoICEgYW5ndWxhci5pc09iamVjdCggcmVzcG9uc2UuZGF0YSApIHx8ICEgcmVzcG9uc2UuZGF0YS5tZXNzYWdlICkgewogICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKHJlc3BvbnNlKQogICAgICAgICAgICAgICAgICAgIHJldHVybiggcmVzcG9uc2UgLyokcS5yZWplY3QoICJBbiB1bmtub3duIGVycm9yIG9jY3VycmVkLiIgKSAqLyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChyZXNwb25zZS5kYXRhLm1lc3NhZ2UpCiAgICAgICAgICAgICAgICByZXR1cm4oICRxLnJlamVjdCggcmVzcG9uc2UuZGF0YS5tZXNzYWdlICkgKTsKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIGdldEFsbENvdW50cmllcyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gJGh0dHAoewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXIuYWNjb3VudC5nZXRBbGxDb3VudHJpZXMoKSwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuKCByZXF1ZXN0LnRoZW4oIHRoaXMuaGFuZGxlU3VjY2VzcywgdGhpcy5oYW5kbGVFcnJvciApICk7CiAgICAgICAgICAgIH0sCgogICAgICAgIH0pOwoKCgoKICAgICAgICAvLyBJIHRyYW5zZm9ybSB0aGUgc3VjY2Vzc2Z1bCByZXNwb25zZSwgdW53cmFwcGluZyB0aGUgYXBwbGljYXRpb24gZGF0YQogICAgICAgIC8vIGZyb20gdGhlIEFQSSByZXNwb25zZSBwYXlsb2FkLgoKICAgIH1dKTsKfSk7Ci8qKgogKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDE4LzAyLzIwMTYuCiAqLwoKCmRlZmluZSgnYXBwL3NlcnZpY2VzL3N1cHBvcnRTZXJ2aWNlJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChzZXJ2aWNlcykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgc2VydmljZXMuc2VydmljZSgnc3VwcG9ydFNlcnZpY2UnLCBbJyRmaWx0ZXInLCAnJHEnLCAnJGh0dHAnLCAnJHRpbWVvdXQnLCBmdW5jdGlvbiAoJGZpbHRlciwgJHEsICRodHRwLCAkdGltZW91dCkgewoKCiAgICAgICAgcmV0dXJuIHsKCiAgICAgICAgICAgIHNlbmRTdXBwb3J0RW1haWw6IGZ1bmN0aW9uIChzdXBwb3J0TW9kZWwpIHsKCiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zVG9QYXNzID0gewogICAgICAgICAgICAgICAgICAgICJjYXRlZ29yeUlkIjogc3VwcG9ydE1vZGVsLmNhdGVnb3J5LmNhdGVnb3J5SWQgfHwgMCwKICAgICAgICAgICAgICAgICAgICAiZW1haWwiOiBzdXBwb3J0TW9kZWwuZW1haWwsCiAgICAgICAgICAgICAgICAgICAgInByb2R1Y3RJZCI6IHN1cHBvcnRNb2RlbC5wcm9kdWN0LnByb2R1Y3RJZCB8fCAwLAogICAgICAgICAgICAgICAgICAgICJ0ZXh0Ijogc3VwcG9ydE1vZGVsLnN1YmplY3QsCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKQogICAgICAgICAgICAgICAgSGVscGVyLmVuYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgJGh0dHAoewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgICAgICAgICAgICAgIHVybDogc2VydmVyLmNhdGFsb2cuc2VuZFN1cHBvcnRFbWFpbCgpLAogICAgICAgICAgICAgICAgICAgIGRhdGE6IHBhcmFtc1RvUGFzcywKICAgICAgICAgICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIEhlbHBlci5kaXNhYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShyZXMpCiAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQocmVzKTsKICAgICAgICAgICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uIChfZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coInNlbmRTdXBwb3J0RW1haWwoKSByZWplY3RlZCEgID09PT09PSAiICsgX2VycikKICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKF9lcnIpOwogICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUoewogICAgICAgICAgICAgICAgICAgICAgICAic3VjY2VzcyI6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAicmVhc29uIjogJGZpbHRlcigndHJhbnNsYXRlJykoJ1Byb2JsZW1fc2VuZGluZ19tYWlsX3BsZWFzZV90cnlfbGF0ZXInKSwKICAgICAgICAgICAgICAgICAgICAgICAgInJldHVybkNvZGUiOiAxCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBkZWZlci5wcm9taXNlOwoKICAgICAgICAgICAgfQoKICAgICAgICB9CgogICAgfV0pOwp9KTsKCgpkZWZpbmUoJ2FwcC9zZXJ2aWNlcy9zbW9vdGhTY3JvbGwnLFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKHNlcnZpY2VzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBzZXJ2aWNlcy5zZXJ2aWNlKCdzbW9vdGhTY3JvbGwnLCBbZnVuY3Rpb24oKXsKCiAgICAgICAgdGhpcy5zY3JvbGxUbyA9IGZ1bmN0aW9uKGVJRCkgewoKICAgICAgICAgICAgdmFyIHN0YXJ0WSA9IGN1cnJlbnRZUG9zaXRpb24oKTsKICAgICAgICAgICAgdmFyIHN0b3BZID0gZWxtWVBvc2l0aW9uKGVJRCk7CiAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9IHN0b3BZID4gc3RhcnRZID8gc3RvcFkgLSBzdGFydFkgOiBzdGFydFkgLSBzdG9wWTsKICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDwgMTAwKSB7CiAgICAgICAgICAgICAgICBzY3JvbGxUbygwLCBzdG9wWSk7IHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgc3BlZWQgPSBNYXRoLnJvdW5kKGRpc3RhbmNlIC8gMTAwKTsKICAgICAgICAgICAgaWYgKHNwZWVkID49IDIwKSBzcGVlZCA9IDIwOwogICAgICAgICAgICB2YXIgc3RlcCA9IE1hdGgucm91bmQoZGlzdGFuY2UgLyAyNSk7CiAgICAgICAgICAgIHZhciBsZWFwWSA9IHN0b3BZID4gc3RhcnRZID8gc3RhcnRZICsgc3RlcCA6IHN0YXJ0WSAtIHN0ZXA7CiAgICAgICAgICAgIHZhciB0aW1lciA9IDA7CiAgICAgICAgICAgIGlmIChzdG9wWSA+IHN0YXJ0WSkgewogICAgICAgICAgICAgICAgZm9yICggdmFyIGk9c3RhcnRZOyBpPHN0b3BZOyBpKz1zdGVwICkgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIndpbmRvdy5zY3JvbGxUbygwLCAiK2xlYXBZKyIpIiwgdGltZXIgKiBzcGVlZCk7CiAgICAgICAgICAgICAgICAgICAgbGVhcFkgKz0gc3RlcDsgaWYgKGxlYXBZID4gc3RvcFkpIGxlYXBZID0gc3RvcFk7IHRpbWVyKys7CiAgICAgICAgICAgICAgICB9IHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBmb3IgKCB2YXIgaT1zdGFydFk7IGk+c3RvcFk7IGktPXN0ZXAgKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCJ3aW5kb3cuc2Nyb2xsVG8oMCwgIitsZWFwWSsiKSIsIHRpbWVyICogc3BlZWQpOwogICAgICAgICAgICAgICAgbGVhcFkgLT0gc3RlcDsgaWYgKGxlYXBZIDwgc3RvcFkpIGxlYXBZID0gc3RvcFk7IHRpbWVyKys7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGN1cnJlbnRZUG9zaXRpb24oKSB7CiAgICAgICAgICAgICAgICAvLyBGaXJlZm94LCBDaHJvbWUsIE9wZXJhLCBTYWZhcmkKICAgICAgICAgICAgICAgIGlmIChzZWxmLnBhZ2VZT2Zmc2V0KSByZXR1cm4gc2VsZi5wYWdlWU9mZnNldDsKICAgICAgICAgICAgICAgIC8vIEludGVybmV0IEV4cGxvcmVyIDYgLSBzdGFuZGFyZHMgbW9kZQogICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKQogICAgICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwogICAgICAgICAgICAgICAgLy8gSW50ZXJuZXQgRXhwbG9yZXIgNiwgNyBhbmQgOAogICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKSByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7CiAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gZWxtWVBvc2l0aW9uKGVJRCkgewogICAgICAgICAgICAgICAgdmFyIGVsbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVJRCk7CiAgICAgICAgICAgICAgICB2YXIgeSA9IGVsbS5vZmZzZXRUb3A7CiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IGVsbTsKICAgICAgICAgICAgICAgIHdoaWxlIChub2RlLm9mZnNldFBhcmVudCAmJiBub2RlLm9mZnNldFBhcmVudCAhPSBkb2N1bWVudC5ib2R5KSB7CiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUub2Zmc2V0UGFyZW50OwogICAgICAgICAgICAgICAgICAgIHkgKz0gbm9kZS5vZmZzZXRUb3A7CiAgICAgICAgICAgICAgICB9IHJldHVybiB5OwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH1dKQp9KTsKCgovKioKICogQ3JlYXRlZCBieSBrdWJhbnkgb24gMy8xNS8yMDE3LgogKi8KCmRlZmluZSgnYXBwL3NlcnZpY2VzL2NvbW1vblNlcnZpY2VzJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChzZXJ2aWNlcykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgc2VydmljZXMuc2VydmljZSgnTW9kYWxTZXJ2aWNlJywgWwogICAgICAgIGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciBjYXJ0ID0gbnVsbDsKICAgICAgICAgICAgdmFyIG1vZGFscyA9IFtdOyAvLyBhcnJheSBvZiBtb2RhbHMgb24gdGhlIHBhZ2UKICAgICAgICAgICAgdmFyIHNlcnZpY2UgPSB7fTsKICAgICAgICAgICAgcmV0dXJuICh7CiAgICAgICAgICAgICAgICBBZGQgOiBBZGQsCiAgICAgICAgICAgICAgICBSZW1vdmUgOiBSZW1vdmUsCiAgICAgICAgICAgICAgICBPcGVuIDogT3BlbiwKICAgICAgICAgICAgICAgIENsb3NlIDogQ2xvc2UsCiAgICAgICAgICAgICAgICBTZXRCdG5zQ2IgOiBTZXRCdG5zQ2IsCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgZnVuY3Rpb24gQWRkKG1vZGFsKSB7CiAgICAgICAgICAgICAgICAvLyBhZGQgbW9kYWwgdG8gYXJyYXkgb2YgYWN0aXZlIG1vZGFscwogICAgICAgICAgICAgICAgbW9kYWxzLnB1c2gobW9kYWwpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBSZW1vdmUoaWQpIHsKICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBtb2RhbCBmcm9tIGFycmF5IG9mIGFjdGl2ZSBtb2RhbHMKICAgICAgICAgICAgICAgIHZhciBtb2RhbFRvUmVtb3ZlID0gXy5maW5kV2hlcmUobW9kYWxzLCB7IGlkOiBpZCB9KTsKICAgICAgICAgICAgICAgIG1vZGFscyA9IF8ud2l0aG91dChtb2RhbHMsIG1vZGFsVG9SZW1vdmUpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBPcGVuKGlkKSB7CiAgICAgICAgICAgICAgICAvLyBvcGVuIG1vZGFsIHNwZWNpZmllZCBieSBpZAogICAgICAgICAgICAgICAgdmFyIG1vZGFsID0gXy5maW5kV2hlcmUobW9kYWxzLCB7IGlkOiBpZCB9KTsKICAgICAgICAgICAgICAgIG1vZGFsLm9wZW4oKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gQ2xvc2UoaWQpIHsKICAgICAgICAgICAgICAgIC8vIGNsb3NlIG1vZGFsIHNwZWNpZmllZCBieSBpZAogICAgICAgICAgICAgICAgdmFyIG1vZGFsID0gXy5maW5kV2hlcmUobW9kYWxzLCB7IGlkOiBpZCB9KTsKICAgICAgICAgICAgICAgIG1vZGFsLmNsb3NlKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIFNldEJ0bnNDYihpZCwgY2JzKSB7CiAgICAgICAgICAgICAgICAvLyBjbG9zZSBtb2RhbCBzcGVjaWZpZWQgYnkgaWQKICAgICAgICAgICAgICAgIHZhciBtb2RhbCA9IF8uZmluZFdoZXJlKG1vZGFscywgeyBpZDogaWQgfSk7CiAgICAgICAgICAgICAgICBtb2RhbC5zZXRCdG5zQ2IoY2JzKTsKICAgICAgICAgICAgfQoKCiAgICAgICAgfV0pOwp9KTsKLyoqCiAqIENyZWF0ZWQgYnkga3ViYW55IG9uIDEwLzEzLzIwMTUuCiAqLwoKCmRlZmluZSgnYXBwL3NlcnZpY2VzL2luZGV4JyxbCiAgICAnLi9wcm9kdWN0c0NhcnRTZXJ2aWNlJywKICAgICcuL3Byb2R1Y3RTZXJ2aWNlJywKICAgICcuL2NhdGVnb3J5U2VydmljZScsCiAgICAnLi9kZWFsU2VydmljZScsCiAgICAnLi9yZXNwb25zZUhhbmRsZVNlcnZpY2UnLAogICAgJy4vc3VwcG9ydFNlcnZpY2UnLAogICAgJy4vc21vb3RoU2Nyb2xsJywKICAgICcuL2NvbW1vblNlcnZpY2VzJ10sIGZ1bmN0aW9uKCkge30pOwogLyoqCiAqIENyZWF0ZWQgYnkgY29ycmVudGkgb24gMTAvMDEvMjAxNi4KICovCgpkZWZpbmUoJ2FwcC9hY2NvdW50L3NlcnZpY2VzL21vZHVsZScsWydhbmd1bGFyJ10sIGZ1bmN0aW9uIChhbmd1bGFyKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICByZXR1cm4gYW5ndWxhci5tb2R1bGUoJ2Fvcy5hY2NvdW50LnNlcnZpY2VzJywgW10pOwp9KTsKLyoqCiAqIENyZWF0ZWQgYnkgY29ycmVudGkgb24gMjgvMDEvMjAxNi4KICovCgpkZWZpbmUoJ2FwcC9hY2NvdW50L3NlcnZpY2VzL2FjY291bnRTZXJ2aWNlJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChzZXJ2aWNlcykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgc2VydmljZXMuc2VydmljZSgnYWNjb3VudFNlcnZpY2UnLCBbJyRyb290U2NvcGUnLCAnJHEnLCAnJGZpbHRlcicsICckaHR0cCcsCgogICAgICAgIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkcSwgJGZpbHRlciwgJGh0dHApIHsKCiAgICAgICAgICAgIHJldHVybiB7CgogICAgICAgICAgICAgICAgZ2V0QWNjb3VudE9yZGVyOiBmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgIHZhciBkZWZlciA9ICRxLmRlZmVyKCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXIgPSAkcm9vdFNjb3BlLnVzZXJDb29raWU7CiAgICAgICAgICAgICAgICAgICAgSGVscGVyLmVuYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICRodHRwKHsKICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXIuYWNjb3VudC5nZXRPcmRlcnModXNlci5yZXNwb25zZS51c2VySWQpLAogICAgICAgICAgICAgICAgICAgIH0pLgogICAgICAgICAgICAgICAgICAgIHRoZW4oZnVuY3Rpb24gKHJlcykgewoKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9yZGVyc09iaiA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZGF0YS5PcmRlckxpbmVzLCBmdW5jdGlvbihvYmopewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9yZGVyc09ialtvYmouT3JkZXJOdW1iZXJdID09IG51bGwpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyc09ialtvYmouT3JkZXJOdW1iZXJdID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JkZXJEYXRlIjogb2JqLk9yZGVyRGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInByb2R1Y3RzIjogW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmRlclRpbWUiOiBvYmoub3JkZXJUaW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyc09ialtvYmouT3JkZXJOdW1iZXJdLnByb2R1Y3RzLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJQcm9kdWN0SW1hZ2VVcmwiOiBvYmouUHJvZHVjdEltYWdlVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJQcm9kdWN0TmFtZSI6IG9iai5Qcm9kdWN0TmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiUHJvZHVjdENvbG9yQ29kZSI6IG9iai5Qcm9kdWN0Q29sb3JDb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJQcm9kdWN0Q29sb3JOYW1lIjogb2JqLlByb2R1Y3RDb2xvck5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlByaWNlUGVyVW5pdCI6IG9iai5QcmljZVBlclVuaXQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlF1YW50aXR5Ijogb2JqLlF1YW50aXR5CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3JkZXJzID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaW5kZXggaW4gT2JqZWN0LmtleXMob3JkZXJzT2JqKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IE9iamVjdC5rZXlzKG9yZGVyc09iailbaW5kZXhdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9yZGVyID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyTnVtYmVyOiBuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyRGF0ZTogb3JkZXJzT2JqW25hbWVdLm9yZGVyRGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0czogb3JkZXJzT2JqW25hbWVdLnByb2R1Y3RzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyVGltZTogbmV3IERhdGUob3JkZXJzT2JqW25hbWVdLm9yZGVyVGltZSkudG9Mb2NhbGVUaW1lU3RyaW5nKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVycy5wdXNoKG9yZGVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQob3JkZXJzKTsKICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVyLmRpc2FibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShvcmRlcnMpCiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChlcnIpOwogICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZWplY3QoZXJyKQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7CiAgICAgICAgICAgICAgICB9LAoKICAgICAgICAgICAgICAgIGdldEFjY291bnREZXRhaWxzOiBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICAgICAgICAgIHZhciBkZWZlciA9ICRxLmRlZmVyKCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHNlcnZlci5hY2NvdW50LmdldEFjY291bnRCeUlkX25ldygpOwogICAgICAgICAgICAgICAgICAgIHZhciB1c2VyID0gJHJvb3RTY29wZS51c2VyQ29va2llOwoKICAgICAgICAgICAgICAgICAgICBpZih3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCcvbXlBY2NvdW50JykgIT0gLTEgJiYgdXNlciA9PSB1bmRlZmluZWQpewogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh3aW5kb3cubG9jYXRpb24ub3JpZ2luKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgSGVscGVyLmVuYWJsZUxvYWRlcigpOwoKICAgICAgICAgICAgICAgICAgICAkLnNvYXAoewogICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHBhcmFtcy5wYXRoLAogICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IHBhcmFtcy5tZXRob2QsCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZVVSTDogc2VydmVyLm5hbWVzcGFjZVVSTCwKICAgICAgICAgICAgICAgICAgICAgICAgU09BUEFjdGlvbjogc2VydmVyLm5hbWVzcGFjZVVSTCArIHBhcmFtcy5tZXRob2QsCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRJZDogdXNlci5yZXNwb25zZS51c2VySWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlNjRUb2tlbjogIkJhc2ljICIrdXNlci5yZXNwb25zZS50X2F1dGhvcml6YXRpb24KICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHNvYXBSZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gc29hcFJlc3BvbnNlLnRvSlNPTihwYXJhbXMucmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLkFjY291bnRSZXNwb25zZSAmJiByZXNwb25zZS5BY2NvdW50UmVzcG9uc2UubW9iaWxlUGhvbmUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5BY2NvdW50UmVzcG9uc2UubW9iaWxlUGhvbmUgPSByZXNwb25zZS5BY2NvdW50UmVzcG9uc2UubW9iaWxlUGhvbmUgKyAiIjsgLy93YXJuaW5nOiB0aGlzIGZpZWxkIGNhbiBiZSBhIGludGVnZXIsIG11c3QgYmUgY29udmVydGVkIHRvIHN0cmluZy8KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuQWNjb3VudFJlc3BvbnNlLnN0YXRlUHJvdmluY2UubGVuZ3RoID4gMTApewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5BY2NvdW50UmVzcG9uc2Uuc3RhdGVQcm92aW5jZSA9IHJlc3BvbnNlLkFjY291bnRSZXNwb25zZS5zdGF0ZVByb3ZpbmNlLnN1YnN0cmluZygwLCAxMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVyLmRpc2FibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUocmVzcG9uc2UuQWNjb3VudFJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVyLmRpc2FibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlamVjdCgiUmVxdWVzdCBmYWlsZWQhIChnZXRBY2NvdW50RGV0YWlscykiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlTG9nZ2luZzogdHJ1ZQogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTsKICAgICAgICAgICAgICAgIH0sCgogICAgICAgICAgICAgICAgZ2V0U2hpcHBpbmdEZXRhaWxzOiBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICAgICAgICAgIHZhciBkZWZlciA9ICRxLmRlZmVyKCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHNlcnZlci5hY2NvdW50LmdldEFkZHJlc3Nlc0J5QWNjb3VudElkKCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXIgPSAkcm9vdFNjb3BlLnVzZXJDb29raWU7CiAgICAgICAgICAgICAgICAgICAgSGVscGVyLmVuYWJsZUxvYWRlcigpOwoKICAgICAgICAgICAgICAgICAgICAkLnNvYXAoewogICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHBhcmFtcy5wYXRoLAogICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IHBhcmFtcy5tZXRob2QsCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZVVSTDogc2VydmVyLm5hbWVzcGFjZVVSTCwKICAgICAgICAgICAgICAgICAgICAgICAgU09BUEFjdGlvbjogc2VydmVyLm5hbWVzcGFjZVVSTCArIHBhcmFtcy5tZXRob2QsCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRJZDogdXNlci5yZXNwb25zZS51c2VySWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlNjRUb2tlbjogIkJhc2ljICIrdXNlci5yZXNwb25zZS50X2F1dGhvcml6YXRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChzb2FwUmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IHNvYXBSZXNwb25zZS50b0pTT04ocGFyYW1zLnJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlci5kaXNhYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVyLmRpc2FibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlamVjdCgiUmVxdWVzdCBmYWlsZWQhIChnZXRTaGlwcGluZ0RldGFpbHMpIik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZUxvZ2dpbmc6IHRydWUKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7CiAgICAgICAgICAgICAgICB9LAoKICAgICAgICAgICAgICAgIGdldEFjY291bnRQYXltZW50UHJlZmVyZW5jZXM6IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTsKICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gc2VydmVyLmFjY291bnQuZ2V0QWNjb3VudFBheW1lbnRQcmVmZXJlbmNlcygpOwogICAgICAgICAgICAgICAgICAgIHZhciB1c2VyID0gJHJvb3RTY29wZS51c2VyQ29va2llOwoKICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZW5hYmxlTG9hZGVyKDEwKTsKCiAgICAgICAgICAgICAgICAgICAgJC5zb2FwKHsKICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBwYXJhbXMucGF0aCwKICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBwYXJhbXMubWV0aG9kLAogICAgICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2VVUkw6IHNlcnZlci5uYW1lc3BhY2VVUkwsCiAgICAgICAgICAgICAgICAgICAgICAgIFNPQVBBY3Rpb246IHNlcnZlci5uYW1lc3BhY2VVUkwgKyBwYXJhbXMubWV0aG9kLAogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IHVzZXIucmVzcG9uc2UudXNlcklkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTY0VG9rZW46ICJCYXNpYyAiKyRyb290U2NvcGUudXNlckNvb2tpZS5yZXNwb25zZS50X2F1dGhvcml6YXRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChzb2FwUmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IHNvYXBSZXNwb25zZS50b0pTT04ocGFyYW1zLnJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWFzdGVyQ3JlZGl0ID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzYWZlUGF5ID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBNQ2FyZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBTUGF5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICE9IG51bGwpIHsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnByZWZlcmVuY2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSByZXNwb25zZS5wcmVmZXJlbmNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UucGF5bWVudE1ldGhvZCArICIiID09ICIyMCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTUNhcmQgPSByZXNwb25zZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnBheW1lbnRNZXRob2QgKyAiIiA9PSAiMTAiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNQYXkgPSByZXNwb25zZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmxlbmd0aCAmJiByZXNwb25zZS5sZW5ndGggPT0gMikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNQ2FyZCA9IHJlc3BvbnNlWzBdLnBheW1lbnRNZXRob2QgKyAiIiA9PSAiMjAiID8gcmVzcG9uc2VbMF0gOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VbMV0ucGF5bWVudE1ldGhvZCArICIiID09ICIyMCIgPyByZXNwb25zZVsxXSA6IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNQYXkgPSByZXNwb25zZVswXS5wYXltZW50TWV0aG9kICsgIiIgPT0gIjEwIiA/IHJlc3BvbnNlWzBdIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlWzFdLnBheW1lbnRNZXRob2QgKyAiIiA9PSAiMTAiID8gcmVzcG9uc2VbMV0gOiBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTUNhcmQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXN0ZXJDcmVkaXQgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaWQiOiBNQ2FyZC5wcmVmZXJlbmNlSWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY2FyZE51bWJlciI6IE1DYXJkLmNhcmROdW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY3Z2TnVtYmVyIjogTUNhcmQuY3Z2TnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImV4cGlyYXRpb25EYXRlIjogTUNhcmQuZXhwaXJhdGlvbkRhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicGF5bWVudE1ldGhvZCI6IE1DYXJkLnBheW1lbnRNZXRob2QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY3VzdG9tZXJuYW1lIjogTUNhcmQuY3VzdG9tZXJOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFNQYXkgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWZlUGF5ID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImlkIjogU1BheS5wcmVmZXJlbmNlSWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2FmZXBheVVzZXJuYW1lIjogU1BheS5zYWZlUGF5VXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicGF5bWVudE1ldGhvZCI6IFNQYXkucGF5bWVudE1ldGhvZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzYWZlcGF5UGFzc3dvcmQiOiBTUGF5LnNhZmVQYXlQYXNzd29yZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlci5kaXNhYmxlTG9hZGVyKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hc3RlckNyZWRpdCAmJiBtYXN0ZXJDcmVkaXQuZXhwaXJhdGlvbkRhdGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW9udGggPSBwYXJzZUludCgobWFzdGVyQ3JlZGl0LmV4cGlyYXRpb25EYXRlICsgIiIpLnN1YnN0cmluZygwLCAyKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHllYXIgPSBwYXJzZUludCgobWFzdGVyQ3JlZGl0LmV4cGlyYXRpb25EYXRlICsgIiIpLnN1YnN0cmluZygyKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRlLmdldEZ1bGxZZWFyKCkgPT0geWVhcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudE1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRNb250aCA+IG1vbnRoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudE1vbnRoID4gbW9udGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KCRmaWx0ZXIoJ3RyYW5zbGF0ZScpKCdFeHBpcmF0aW9uQ2FydCcpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXN0ZXJDcmVkaXQuY2FydEV4cGlyZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9tYXN0ZXJDcmVkaXQuZXhwaXJhdGlvbkRhdGUgPSAoY3VycmVudE1vbnRoIDwgMTAgPyAiMCIgKyBjdXJyZW50TW9udGggOiBjdXJyZW50TW9udGgpICsgIiIgKyB5ZWFyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQoe21hc3RlckNyZWRpdDogbWFzdGVyQ3JlZGl0LCBzYWZlUGF5OiBzYWZlUGF5fSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKHttYXN0ZXJDcmVkaXQ6IG1hc3RlckNyZWRpdCwgc2FmZVBheTogc2FmZVBheX0pOwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVqZWN0KCJSZXF1ZXN0IGZhaWxlZCEgKGdldEFjY291bnRQYXltZW50UHJlZmVyZW5jZXMpIik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZUxvZ2dpbmc6IHRydWUKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7CiAgICAgICAgICAgICAgICB9LAoKICAgICAgICAgICAgICAgIGRlbGV0ZUFjY291bnQ6IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgICAgICAgICAgSGVscGVyLmVuYWJsZUxvYWRlcigpOwoKICAgICAgICAgICAgICAgICAgICB2YXIgZGVmZXIgPSAkcS5kZWZlcigpOwogICAgICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSBzZXJ2ZXIuYWNjb3VudC5kZWxldGVBY2NvdW50KCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXIgPSAkcm9vdFNjb3BlLnVzZXJDb29raWU7CgogICAgICAgICAgICAgICAgICAgICQuc29hcCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogcGFyYW1zLnBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogcGFyYW1zLm1ldGhvZCwKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlVVJMOiBzZXJ2ZXIubmFtZXNwYWNlVVJMLAogICAgICAgICAgICAgICAgICAgICAgICBTT0FQQWN0aW9uOiBzZXJ2ZXIubmFtZXNwYWNlVVJMICsgcGFyYW1zLm1ldGhvZCwKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudElkOiB1c2VyLnJlc3BvbnNlLnVzZXJJZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U2NFRva2VuOiAiQmFzaWMgIit1c2VyLnJlc3BvbnNlLnRfYXV0aG9yaXphdGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHNvYXBSZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gc29hcFJlc3BvbnNlLnRvSlNPTihwYXJhbXMucmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVyLmRpc2FibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVqZWN0KCJSZXF1ZXN0IGRlbGV0ZUFjY291bnQgZmFpbGVkISAiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlTG9nZ2luZzogdHJ1ZQogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTsKICAgICAgICAgICAgICAgIH0sCgogICAgICAgICAgICAgICAgY2hhbmdlVXNlclBhc3N3b3JkOiBmdW5jdGlvbiAoYWNjb3VudElkLCBwYXNzd29yZHMpIHsKCiAgICAgICAgICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTsKICAgICAgICAgICAgICAgICAgICBpZiAocGFzc3dvcmRzLm5ldyA9PSAnJyB8fCBwYXNzd29yZHMub2xkID09ICcnIHx8IHBhc3N3b3Jkcy5jb25maXJtX25ldyA9PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKHtzdWNjZXNzOiAndHJ1ZSd9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHBlY3RUb1JlY2VpdmUgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IGFjY291bnRJZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Bhc3N3b3JkOiBwYXNzd29yZHMubmV3LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkUGFzc3dvcmQ6IHBhc3N3b3Jkcy5vbGQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlNjRUb2tlbjogIkJhc2ljICIrJHJvb3RTY29wZS51c2VyQ29va2llLnJlc3BvbnNlLnRfYXV0aG9yaXphdGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gc2VydmVyLmFjY291bnQuY2hhbmdlUGFzc3dvcmQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVyLmVuYWJsZUxvYWRlcigpOwoKICAgICAgICAgICAgICAgICAgICAgICAgJC5zb2FwKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogcGFyYW1zLnBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IHBhcmFtcy5tZXRob2QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2VVUkw6IHNlcnZlci5uYW1lc3BhY2VVUkwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTT0FQQWN0aW9uOiBzZXJ2ZXIubmFtZXNwYWNlVVJMICsgcGFyYW1zLm1ldGhvZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGV4cGVjdFRvUmVjZWl2ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChzb2FwUmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBzb2FwUmVzcG9uc2UudG9KU09OKHBhcmFtcy5yZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVyLmRpc2FibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShyZXNwb25zZS5TdGF0dXNNZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlci5kaXNhYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVqZWN0KCJSZXF1ZXN0IGZhaWxlZCEgIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlTG9nZ2luZzogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7CiAgICAgICAgICAgICAgICB9LAoKICAgICAgICAgICAgICAgIGFjY291bnRVcGRhdGU6IGZ1bmN0aW9uIChhY2NvdW50RGV0YWlscykgewogICAgICAgICAgICAgICAgICAgIHZhciBkZWZlciA9ICRxLmRlZmVyKCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGV4cGVjdFRvUmVjZWl2ZSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE5hbWU6IGFjY291bnREZXRhaWxzLmxhc3ROYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IGFjY291bnREZXRhaWxzLmZpcnN0TmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudElkOiBhY2NvdW50RGV0YWlscy5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgY291bnRyeUlkOiBhY2NvdW50RGV0YWlscy5jb3VudHJ5SWQsCiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlUHJvdmluY2U6IGFjY291bnREZXRhaWxzLnN0YXRlUHJvdmluY2UsCiAgICAgICAgICAgICAgICAgICAgICAgIGNpdHlOYW1lOiBhY2NvdW50RGV0YWlscy5jaXR5TmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogYWNjb3VudERldGFpbHMuaG9tZUFkZHJlc3MsCiAgICAgICAgICAgICAgICAgICAgICAgIHppcGNvZGU6IGFjY291bnREZXRhaWxzLnppcGNvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgIHBob25lTnVtYmVyOiBhY2NvdW50RGV0YWlscy5tb2JpbGVQaG9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGFjY291bnREZXRhaWxzLmVtYWlsLAogICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50VHlwZTogYWNjb3VudERldGFpbHMuYWNjb3VudFR5cGUsCiAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93T2ZmZXJzUHJvbW90aW9uOiBhY2NvdW50RGV0YWlscy5hbGxvd09mZmVyc1Byb21vdGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTY0VG9rZW46ICJCYXNpYyAiKyRyb290U2NvcGUudXNlckNvb2tpZS5yZXNwb25zZS50X2F1dGhvcml6YXRpb24KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHNlcnZlci5hY2NvdW50LmFjY291bnRVcGRhdGUoKTsKICAgICAgICAgICAgICAgICAgICBMb2dlci5QYXJhbXMoZXhwZWN0VG9SZWNlaXZlLCBwYXJhbXMubWV0aG9kKTsKCiAgICAgICAgICAgICAgICAgICAgSGVscGVyLmVuYWJsZUxvYWRlcigpOwoKICAgICAgICAgICAgICAgICAgICAkLnNvYXAoewogICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHBhcmFtcy5wYXRoLAogICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IHBhcmFtcy5tZXRob2QsCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZVVSTDogc2VydmVyLm5hbWVzcGFjZVVSTCwKICAgICAgICAgICAgICAgICAgICAgICAgU09BUEFjdGlvbjogc2VydmVyLm5hbWVzcGFjZVVSTCArIHBhcmFtcy5tZXRob2QsCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGV4cGVjdFRvUmVjZWl2ZSwKICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHNvYXBSZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gc29hcFJlc3BvbnNlLnRvSlNPTihwYXJhbXMucmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVyLmRpc2FibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUocmVzcG9uc2UuU3RhdHVzTWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlci5kaXNhYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZWplY3QoIlJlcXVlc3QgZmFpbGVkISAiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlTG9nZ2luZzogdHJ1ZQogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTsKICAgICAgICAgICAgICAgIH0sCgogICAgICAgICAgICAgICAgYWRkTWFzdGVyQ3JlZGl0TWV0aG9kOiBmdW5jdGlvbiAoY2FyZCkgewoKICAgICAgICAgICAgICAgICAgICB2YXIgZGVmZXIgPSAkcS5kZWZlcigpOwogICAgICAgICAgICAgICAgICAgIHZhciB1c2VyID0gJHJvb3RTY29wZS51c2VyQ29va2llOwoKICAgICAgICAgICAgICAgICAgICB2YXIgZXhwZWN0VG9SZWNlaXZlID0gewogICAgICAgICAgICAgICAgICAgICAgICBjYXJkTnVtYmVyOiAiNDg4NiIgKyBjYXJkLm51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJhdGlvbkRhdGU6IGNhcmQuZXhwaXJhdGlvbkRhdGUubW9udGggKyBjYXJkLmV4cGlyYXRpb25EYXRlLnllYXIsCiAgICAgICAgICAgICAgICAgICAgICAgIGN2dk51bWJlcjogY2FyZC5jdnYsCiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyTmFtZTogY2FyZC5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50SWQ6IHVzZXIucmVzcG9uc2UudXNlcklkLAogICAgICAgICAgICAgICAgICAgICAgICBiYXNlNjRUb2tlbjogIkJhc2ljICIrdXNlci5yZXNwb25zZS50X2F1dGhvcml6YXRpb24KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSBzZXJ2ZXIuYWNjb3VudC5hZGRNYXN0ZXJDcmVkaXRNZXRob2QoKTsKICAgICAgICAgICAgICAgICAgICBMb2dlci5QYXJhbXMoZXhwZWN0VG9SZWNlaXZlLCBwYXJhbXMubWV0aG9kKTsKCiAgICAgICAgICAgICAgICAgICAgSGVscGVyLmVuYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICQuc29hcCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogcGFyYW1zLnBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogcGFyYW1zLm1ldGhvZCwKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlVVJMOiBzZXJ2ZXIubmFtZXNwYWNlVVJMLAogICAgICAgICAgICAgICAgICAgICAgICBTT0FQQWN0aW9uOiBzZXJ2ZXIubmFtZXNwYWNlVVJMICsgcGFyYW1zLm1ldGhvZCwKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZXhwZWN0VG9SZWNlaXZlLAogICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoc29hcFJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBzb2FwUmVzcG9uc2UudG9KU09OKHBhcmFtcy5yZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighcmVzcG9uc2UpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBzb2FwUmVzcG9uc2UudG9KU09OKCdBZGRNYXN0ZXJDcmVkaXRNZXRob2RSZXNwb25zZScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVyLmRpc2FibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLlN0YXR1c01lc3NhZ2Uuc3VjY2Vzcyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShyZXNwb25zZS5TdGF0dXNNZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlamVjdChyZXNwb25zZS5TdGF0dXNNZXNzYWdlLnJlYXNvbik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlci5kaXNhYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZWplY3QoIlJlcXVlc3QgZmFpbGVkISAiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlTG9nZ2luZzogdHJ1ZQogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTsKICAgICAgICAgICAgICAgIH0sCgogICAgICAgICAgICAgICAgYWRkU2FmZVBheU1ldGhvZDogZnVuY3Rpb24gKHNhZmVQYXkpIHsKCiAgICAgICAgICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTsKICAgICAgICAgICAgICAgICAgICB2YXIgdXNlciA9ICRyb290U2NvcGUudXNlckNvb2tpZTsKICAgICAgICAgICAgICAgICAgICB2YXIgZXhwZWN0VG9SZWNlaXZlID0gewogICAgICAgICAgICAgICAgICAgICAgICBzYWZlUGF5VXNlcm5hbWU6IHNhZmVQYXkudXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRJZDogdXNlci5yZXNwb25zZS51c2VySWQsCiAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVQYXlQYXNzd29yZDogc2FmZVBheS5wYXNzd29yZCwKICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTY0VG9rZW46ICJCYXNpYyAiK3VzZXIucmVzcG9uc2UudF9hdXRob3JpemF0aW9uCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gc2VydmVyLmFjY291bnQuYWRkU2FmZVBheU1ldGhvZCgpOwogICAgICAgICAgICAgICAgICAgIExvZ2VyLlBhcmFtcyhleHBlY3RUb1JlY2VpdmUsIHBhcmFtcy5tZXRob2QpOwoKICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZW5hYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgJC5zb2FwKHsKICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBwYXJhbXMucGF0aCwKICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBwYXJhbXMubWV0aG9kLAogICAgICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2VVUkw6IHNlcnZlci5uYW1lc3BhY2VVUkwsCiAgICAgICAgICAgICAgICAgICAgICAgIFNPQVBBY3Rpb246IHNlcnZlci5uYW1lc3BhY2VVUkwgKyBwYXJhbXMubWV0aG9kLAogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBleHBlY3RUb1JlY2VpdmUsCiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChzb2FwUmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IHNvYXBSZXNwb25zZS50b0pTT04ocGFyYW1zLnJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlci5kaXNhYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKHJlc3BvbnNlLlN0YXR1c01lc3NhZ2UpOwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVqZWN0KCJSZXF1ZXN0IGZhaWxlZCEgIik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZUxvZ2dpbmc6IHRydWUKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTsKICAgICAgICAgICAgICAgIH0sCgogICAgICAgICAgICAgICAgdXBkYXRlU2FmZVBheU1ldGhvZDogZnVuY3Rpb24gKHNhZmVQYXkpIHsKCiAgICAgICAgICAgICAgICAgICAgdmFyIGFjY291bnRJZCA9ICRyb290U2NvcGUudXNlckNvb2tpZS5yZXNwb25zZS51c2VySWQ7CiAgICAgICAgICAgICAgICAgICAgdmFyIGV4cGVjdFRvUmVjZWl2ZSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBhY2NvdW50SWQsCiAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVQYXlVc2VybmFtZTogc2FmZVBheS51c2VybmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgc2FmZVBheVBhc3N3b3JkOiBzYWZlUGF5LnBhc3N3b3JkLAogICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VJZDogIjEyMzQ1Njc4OTAiLAogICAgICAgICAgICAgICAgICAgICAgICBiYXNlNjRUb2tlbjogIkJhc2ljICIrJHJvb3RTY29wZS51c2VyQ29va2llLnJlc3BvbnNlLnRfYXV0aG9yaXphdGlvbgogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTsKICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gc2VydmVyLmFjY291bnQudXBkYXRlU2FmZVBheU1ldGhvZCgpOwogICAgICAgICAgICAgICAgICAgIExvZ2VyLlBhcmFtcyhleHBlY3RUb1JlY2VpdmUsIHBhcmFtcy5tZXRob2QpOwoKICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZW5hYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgJC5zb2FwKHsKICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBwYXJhbXMucGF0aCwKICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBwYXJhbXMubWV0aG9kLAogICAgICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2VVUkw6IHNlcnZlci5uYW1lc3BhY2VVUkwsCiAgICAgICAgICAgICAgICAgICAgICAgIFNPQVBBY3Rpb246IHNlcnZlci5uYW1lc3BhY2VVUkwgKyBwYXJhbXMubWV0aG9kLAogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBleHBlY3RUb1JlY2VpdmUsCiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChzb2FwUmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IHNvYXBSZXNwb25zZS50b0pTT04ocGFyYW1zLnJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlci5kaXNhYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKHJlc3BvbnNlLlN0YXR1c01lc3NhZ2UpOwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dlci5SZWNlaXZlZChyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVqZWN0KCJSZXF1ZXN0IGZhaWxlZCEgIik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZUxvZ2dpbmc6IHRydWUKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7CiAgICAgICAgICAgICAgICB9LAoKICAgICAgICAgICAgICAgIHVwZGF0ZU1hc3RlckNyZWRpdE1ldGhvZDogZnVuY3Rpb24gKGNhcmQpIHsKCiAgICAgICAgICAgICAgICAgICAgdmFyIGFjY291bnRJZCA9ICRyb290U2NvcGUudXNlckNvb2tpZS5yZXNwb25zZS51c2VySWQ7CiAgICAgICAgICAgICAgICAgICAgdmFyIGV4cGVjdFRvUmVjZWl2ZSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBhY2NvdW50SWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmROdW1iZXI6ICI0ODg2IiArIGNhcmQubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICBleHBpcmF0aW9uRGF0ZTogY2FyZC5leHBpcmF0aW9uRGF0ZS5tb250aCArIGNhcmQuZXhwaXJhdGlvbkRhdGUueWVhciwKICAgICAgICAgICAgICAgICAgICAgICAgY3Z2TnVtYmVyOiBjYXJkLmN2diwKICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJOYW1lOiBjYXJkLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZUlkOiAiMTIzNDU2Nzg5MCIsCiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U2NFRva2VuOiAiQmFzaWMgIiskcm9vdFNjb3BlLnVzZXJDb29raWUucmVzcG9uc2UudF9hdXRob3JpemF0aW9uCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB2YXIgZGVmZXIgPSAkcS5kZWZlcigpOwogICAgICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSBzZXJ2ZXIuYWNjb3VudC51cGRhdGVNYXN0ZXJDcmVkaXRNZXRob2QoKTsKICAgICAgICAgICAgICAgICAgICBMb2dlci5QYXJhbXMoZXhwZWN0VG9SZWNlaXZlLCBwYXJhbXMubWV0aG9kKTsKCiAgICAgICAgICAgICAgICAgICAgSGVscGVyLmVuYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICQuc29hcCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogcGFyYW1zLnBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogcGFyYW1zLm1ldGhvZCwKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlVVJMOiBzZXJ2ZXIubmFtZXNwYWNlVVJMLAogICAgICAgICAgICAgICAgICAgICAgICBTT0FQQWN0aW9uOiBzZXJ2ZXIubmFtZXNwYWNlVVJMICsgcGFyYW1zLm1ldGhvZCwKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZXhwZWN0VG9SZWNlaXZlLAogICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoc29hcFJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBzb2FwUmVzcG9uc2UudG9KU09OKHBhcmFtcy5yZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuU3RhdHVzTWVzc2FnZS5zdWNjZXNzKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKHJlc3BvbnNlLlN0YXR1c01lc3NhZ2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVqZWN0KHJlc3BvbnNlLlN0YXR1c01lc3NhZ2UucmVhc29uKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2VyLlJlY2VpdmVkKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlci5kaXNhYmxlTG9hZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5yZWplY3QoIlJlcXVlc3QgZmFpbGVkISAiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlTG9nZ2luZzogdHJ1ZQogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTsKICAgICAgICAgICAgICAgIH0sCgogICAgICAgICAgICAgICAgdXBkYXRlUHJlZmZlcmVkUGF5bWVudE1ldGhvZDogZnVuY3Rpb24gKHBheW1lbnRNZXRob2QpIHsKCiAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXIgPSAkcm9vdFNjb3BlLnVzZXJDb29raWU7CiAgICAgICAgICAgICAgICAgICAgdmFyIGV4cGVjdFRvUmVjZWl2ZSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudElkOiB1c2VyLnJlc3BvbnNlLnVzZXJJZCwKICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudE1ldGhvZDogcGF5bWVudE1ldGhvZCwKICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTY0VG9rZW46ICJCYXNpYyAiKyB1c2VyLnJlc3BvbnNlLnRfYXV0aG9yaXphdGlvbgogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTsKICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gc2VydmVyLmFjY291bnQucGF5bWVudE1ldGhvZFVwZGF0ZSgpOwogICAgICAgICAgICAgICAgICAgIExvZ2VyLlBhcmFtcyhleHBlY3RUb1JlY2VpdmUsIHBhcmFtcy5tZXRob2QpOwoKICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZW5hYmxlTG9hZGVyKCk7CgogICAgICAgICAgICAgICAgICAgICQuc29hcCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogcGFyYW1zLnBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogcGFyYW1zLm1ldGhvZCwKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlVVJMOiBzZXJ2ZXIubmFtZXNwYWNlVVJMLAogICAgICAgICAgICAgICAgICAgICAgICBTT0FQQWN0aW9uOiBzZXJ2ZXIubmFtZXNwYWNlVVJMICsgcGFyYW1zLm1ldGhvZCwKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZXhwZWN0VG9SZWNlaXZlLAogICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoc29hcFJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBzb2FwUmVzcG9uc2UudG9KU09OKHBhcmFtcy5yZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShyZXNwb25zZS5TdGF0dXNNZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZXIuUmVjZWl2ZWQocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVyLmRpc2FibGVMb2FkZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlamVjdCgiUmVxdWVzdCBmYWlsZWQhICIpOwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVMb2dnaW5nOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIHJldHVybiBkZWZlci5wcm9taXNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgIH1dKTsKfSk7CgoKLyoqCiAqIENyZWF0ZWQgYnkgY29ycmVudGkgb24gMTAvMDEvMjAxNi4KICovCgpkZWZpbmUoJ2FwcC9hY2NvdW50L3NlcnZpY2VzL2luZGV4JyxbCiAgICAnLi9hY2NvdW50U2VydmljZScsCiAgICBdLCBmdW5jdGlvbigpIHt9KTsKLyoqCiAqIENyZWF0ZWQgYnkga3ViYW55IG9uIDEwLzE0LzIwMTUuCiAqLwpkZWZpbmUoJ2FwcC9maWx0ZXJzL21vZHVsZScsWydhbmd1bGFyJ10sIGZ1bmN0aW9uIChhbmd1bGFyKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICByZXR1cm4gYW5ndWxhci5tb2R1bGUoJ2Fvcy5maWx0ZXJzJywgW10pOwp9KTsKLyoqCiAqIENyZWF0ZWQgYnkgY29ycmVudGkgb24gMjMvMTEvMjAxNS4KICovCgpkZWZpbmUoJ2FwcC9maWx0ZXJzL3RydXN0SFRNTCcsWycuL21vZHVsZSddLCBmdW5jdGlvbiAoY29udHJvbGxlcnMpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGNvbnRyb2xsZXJzLmZpbHRlcigndHJ1c3RIdG1sJywgWyckc2NlJywgZnVuY3Rpb24oJHNjZSl7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHRleHQpIHsKICAgICAgICAgICAgcmV0dXJuICRzY2UudHJ1c3RBc0h0bWwodGV4dCk7CiAgICAgICAgfTsKICAgIH1dKTsKfSk7Ci8qKgogKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDEwLzEyLzIwMTUuCiAqLwoKZGVmaW5lKCdhcHAvZmlsdGVycy9zZWNDYXRXb3JkJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChjb250cm9sbGVycykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgY29udHJvbGxlcnMuZmlsdGVyKCdzZWNDYXRXb3JkJywgZnVuY3Rpb24oKXsKICAgICAgICByZXR1cm4gZnVuY3Rpb24odGV4dCwgbWF4TGVuZ3RoKSB7CiAgICAgICAgICAgIGlmKHRleHQubGVuZ3RoID4gbWF4TGVuZ3RoKXsKICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygwLCBtYXhMZW5ndGggLSAzKSArICIuLi4iOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0ZXh0OwogICAgICAgIH07CiAgICB9KQogICAgOwp9KTsKCgovKioKICogQ3JlYXRlZCBieSBjb3JyZW50aSBvbiAxMC8xMi8yMDE1LgogKi8KCmRlZmluZSgnYXBwL2ZpbHRlcnMvbGFzdDREaWdpdHNDYXJkJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChjb250cm9sbGVycykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgY29udHJvbGxlcnMuZmlsdGVyKCdzaG93TGFzdDREaWdpdHNDYXJkJywgZnVuY3Rpb24oKXsKICAgICAgICByZXR1cm4gZnVuY3Rpb24obnVtLCBsYXN0KSB7CiAgICAgICAgICAgIHJldHVybiBsYXN0ID8gbnVtICsgIiIgOiAiKioqKiIgOwogICAgICAgIH07CiAgICB9KTsKfSk7CgoKLyoqCiAqIENyZWF0ZWQgYnkgY29ycmVudGkgb24gMTAvMTIvMjAxNS4KICovCgpkZWZpbmUoJ2FwcC9maWx0ZXJzL3Byb2R1Y3RzQ2FydENvdW50JyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChjb250cm9sbGVycykgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIGNvbnRyb2xsZXJzLmZpbHRlcigncHJvZHVjdHNDYXJ0Q291bnQnLCBmdW5jdGlvbigpewogICAgICAgIHJldHVybiBmdW5jdGlvbihjYXJ0KSB7CiAgICAgICAgICAgIHZhciBjb3VudCA9IDA7CiAgICAgICAgICAgIGlmKGNhcnQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChjYXJ0LnByb2R1Y3RzSW5DYXJ0LCBmdW5jdGlvbihwcm9kdWN0KXsKICAgICAgICAgICAgICAgICAgICBjb3VudCArPSBwYXJzZUludChwcm9kdWN0LnF1YW50aXR5KTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGNvdW50OwogICAgICAgIH07CiAgICB9KTsKfSk7CgoKLyoqCiAqIENyZWF0ZWQgYnkgY29ycmVudGkgb24gMTAvMTIvMjAxNS4KICovCgpkZWZpbmUoJ2FwcC9maWx0ZXJzL3Byb2R1Y3RzQ2FydFN1bScsWycuL21vZHVsZSddLCBmdW5jdGlvbiAoY29udHJvbGxlcnMpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGNvbnRyb2xsZXJzLmZpbHRlcigncHJvZHVjdHNDYXJ0U3VtJywgWyJ1c2VyU2VydmljZSIsIGZ1bmN0aW9uKHVzZXJTZXJ2aWNlKXsKICAgICAgICByZXR1cm4gZnVuY3Rpb24oY2FydCwgcGx1cykgewogICAgICAgICAgICB2YXIgY291bnQgPSAwOwogICAgICAgICAgICB2YXIgaW5jcmVtZW50ID0gcGx1cyB8fCAwOwogICAgICAgICAgICBpZihjYXJ0KSB7CiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goY2FydC5wcm9kdWN0c0luQ2FydCwgZnVuY3Rpb24gKHByb2R1Y3QpIHsKICAgICAgICAgICAgICAgICAgICBjb3VudCArPSAocHJvZHVjdC5wcmljZSAqIHByb2R1Y3QucXVhbnRpdHkpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgY2FydEluY3JlbWVudCA9IHVzZXJTZXJ2aWNlLmdldENhcnRJbmNyZW1lbnQoKTsKICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoaW5jcmVtZW50KSArIGNvdW50ICsgY2FydEluY3JlbWVudDsKICAgICAgICB9OwogICAgfV0pLgogICAgZmlsdGVyKCdzZWNDYXRXb3JkJywgZnVuY3Rpb24oKXsKICAgICAgICByZXR1cm4gZnVuY3Rpb24odGV4dCwgbWF4TGVuZ3RoKSB7CiAgICAgICAgICAgIGlmKHRleHQubGVuZ3RoID4gbWF4TGVuZ3RoKXsKICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygwLCBtYXhMZW5ndGggLSAzKSArICIuLi4iOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0ZXh0OwogICAgICAgIH07CiAgICB9KQogICAgOwp9KTsKCgovKioKICogQ3JlYXRlZCBieSBjb3JyZW50aSBvbiAxMC8xMi8yMDE1LgogKi8KCmRlZmluZSgnYXBwL2ZpbHRlcnMvcHJvZHVjdFF1YW50aXR5JyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChjb250cm9sbGVycykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgY29udHJvbGxlcnMuZmlsdGVyKCdwcm9kdWN0UXVhbnRpdHknLCBmdW5jdGlvbigpewogICAgICAgIHJldHVybiBmdW5jdGlvbihfYXJyYXksIHF1YW50aXR5KSB7CiAgICAgICAgICAgIGlmKHF1YW50aXR5ID4gOSAmJiBfYXJyYXkubGVuZ3RoID09IDkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IF9hcnJheS5sZW5ndGggKyAxOyBpIDw9IHF1YW50aXR5OyBpKyspCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgX2FycmF5LnB1c2goaSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIF9hcnJheTsKICAgICAgICB9OwogICAgfSk7Cn0pOwoKCi8qKgogKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDE0LzEyLzIwMTUuCiAqLwoKZGVmaW5lKCdhcHAvZmlsdGVycy9maWx0ZXJGdWxsQXJyYXlmb3JBdXRvQ29tcGxhdGUnLFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKGNvbnRyb2xsZXJzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb250cm9sbGVycy5maWx0ZXIoJ2ZpbHRlckZ1bGxBcnJheWZvckF1dG9Db21wbGF0ZScsIGZ1bmN0aW9uKCl7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKF9hLCBhdXRvQ29tcGxldGVSZXN1bHQsIGNhdGVnb3J5RmlsdGVyLCBsaW1pdCkgewoKICAgICAgICAgICAgaWYoIWF1dG9Db21wbGV0ZVJlc3VsdCB8fCBhdXRvQ29tcGxldGVSZXN1bHRbMF0gPT0gdW5kZWZpbmVkKXsKICAgICAgICAgICAgICAgIHJldHVybiBfYTsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgcHJvZHVjdHMgPSBbXTsKICAgICAgICAgICAgdmFyIG1heCA9IDA7CiAgICAgICAgICAgIGlmKCFsaW1pdCl7CiAgICAgICAgICAgICAgICBsaW1pdCA9IDY7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdXRvQ29tcGxldGVSZXN1bHQubGVuZ3RoOyBpKyspewogICAgICAgICAgICAgICAgbWF4ID0gYXV0b0NvbXBsZXRlUmVzdWx0W2ldLnByb2R1Y3RzLmxlbmd0aCA+IG1heCA/IGF1dG9Db21wbGV0ZVJlc3VsdFtpXS5wcm9kdWN0cy5sZW5ndGggOiBtYXg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkrKyl7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGF1dG9Db21wbGV0ZVJlc3VsdC5sZW5ndGg7IGorKyl7CgogICAgICAgICAgICAgICAgICAgIGlmKGNhdGVnb3J5RmlsdGVyID09IGF1dG9Db21wbGV0ZVJlc3VsdFtqXS5jYXRlZ29yeUlkIHx8IGNhdGVnb3J5RmlsdGVyID09IG51bGwgfHwgY2F0ZWdvcnlGaWx0ZXIgPT0gJycpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJkID0gYXV0b0NvbXBsZXRlUmVzdWx0W2pdLnByb2R1Y3RzW2ldCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHByZCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0cy5wdXNoKHByZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihwcm9kdWN0cy5sZW5ndGggPT0gbGltaXQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9kdWN0czsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcHJvZHVjdHM7CiAgICAgICAgfTsKICAgIH0pOwp9KTsKCgovKioKICogQ3JlYXRlZCBieSBjb3JyZW50aSBvbiAxNy8wMS8yMDE2LgogKi8KCgoKZGVmaW5lKCdhcHAvZmlsdGVycy9nZXRDYXRlZ29yaWVzSW5BcnJheScsWycuL21vZHVsZSddLCBmdW5jdGlvbiAoY29udHJvbGxlcnMpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGNvbnRyb2xsZXJzLmZpbHRlcignZ2V0Q2F0ZWdvcmllc0luQXJyYXknLCBmdW5jdGlvbigpewogICAgICAgIHJldHVybiBmdW5jdGlvbihfYSwgY2F0ZWdvcmllc0luQXJyYXksIGNhdGVnb3J5SWQpIHsKCiAgICAgICAgICAgIGlmKGNhdGVnb3JpZXNJbkFycmF5WzBdID09IHVuZGVmaW5lZCl7CiAgICAgICAgICAgICAgICByZXR1cm4gX2E7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIGNhdGVnb3JpZXMgPSBbXTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYXRlZ29yaWVzSW5BcnJheS5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgICAgICB2YXIgY2F0ZWcgPSBjYXRlZ29yaWVzSW5BcnJheVtpXTsKICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgaWQgOiBjYXRlZy5jYXRlZ29yeUlkLAogICAgICAgICAgICAgICAgICAgIG5hbWUgOiBjYXRlZy5jYXRlZ29yeU5hbWUsCiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZCA6IGNhdGVnb3J5SWQgPT0gY2F0ZWcuY2F0ZWdvcnlJZCwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBjYXRlZ29yaWVzOwogICAgICAgIH07CiAgICB9KTsKfSk7CgoKLyoqCiAqIENyZWF0ZWQgYnkgY29ycmVudGkgb24gMTAvMTIvMjAxNS4KICovCgpkZWZpbmUoJ2FwcC9maWx0ZXJzL3Byb2R1Y3RzRmlsdGVyRm9yQ2F0ZWdvcmllc1Byb2R1Y3QnLFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKGNvbnRyb2xsZXJzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb250cm9sbGVycy5maWx0ZXIoJ3Byb2R1Y3RzRmlsdGVyRm9yQ2F0ZWdvcmllc1Byb2R1Y3QnLCBmdW5jdGlvbiAoJGZpbHRlcikgewoKICAgICAgICBmdW5jdGlvbiBidWlsZFNlcGFyYXRvcih2YWwpIHsKICAgICAgICAgICAgcmV0dXJuICIoKFNUQVJUKSAiICsgdmFsICsgIiAoRU5EKSkiOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfYSwgc2VhcmNoUmVzdWx0LCBtaW5QcmljZSwgbWF4UHJpY2UsIHByb2R1Y3RzSW5jbHVkZSkgewoKICAgICAgICAgICAgdmFyIGNhdGVnb3JpZXMgPSBzZWFyY2hSZXN1bHQ7CgogICAgICAgICAgICB2YXIgcHJvZHVjdHNUb1JldHVybiA9IFtdOwoKICAgICAgICAgICAgaWYgKHByb2R1Y3RzSW5jbHVkZSAmJiBPYmplY3Qua2V5cyhwcm9kdWN0c0luY2x1ZGUpLmxlbmd0aCAhPSAwKSB7CgogICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGNhdGVnb3JpZXMpIHsKCiAgICAgICAgICAgICAgICAgICAgdmFyIHByb2R1Y3RzRmlsdGVyaXplZCA9IFtdOwogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGluZGV4IGluIGNhdGVnb3JpZXNba2V5XS5wcm9kdWN0cykgewoKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByZCA9IGNhdGVnb3JpZXNba2V5XS5wcm9kdWN0c1tpbmRleF07CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmQuYXR0cmlidXRlcykgewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG5hbWUgaW4gcHJvZHVjdHNJbmNsdWRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3AgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggaW4gcHJvZHVjdHNJbmNsdWRlW25hbWVdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3AgKz0gYnVpbGRTZXBhcmF0b3IocHJvZHVjdHNJbmNsdWRlW25hbWVdW2luZGV4XSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpbmRleCBpbiBwcmQuYXR0cmlidXRlcykgewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AuaW5kZXhPZihidWlsZFNlcGFyYXRvcihwcmQuYXR0cmlidXRlc1tpbmRleF0uYXR0cmlidXRlVmFsdWUpKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudCsrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9ycyA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggaW4gcHJvZHVjdHNJbmNsdWRlWydDT0xPUiddKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JzICs9ICIoIiArIHByb2R1Y3RzSW5jbHVkZVsnQ09MT1InXVtpbmRleF0uY29kZSArICIpIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xvckZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZC5jb2xvcnMgJiYgY29sb3JzICE9ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvckZvdW5kID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpbmRleCBpbiBwcmQuY29sb3JzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbG9ycy5pbmRleE9mKHByZC5jb2xvcnNbaW5kZXhdLmNvZGUpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JGb3VuZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhdGVnb3J5Rm91bmQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2F0ZWdvcmllc1N0ciA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpbmRleCBpbiBwcm9kdWN0c0luY2x1ZGVbJ0NBVEVHT1JJRVMnXSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllc1N0ciArPSAiKCIgKyBwcm9kdWN0c0luY2x1ZGVbJ0NBVEVHT1JJRVMnXVtpbmRleF0gKyAiKSI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZC5jYXRlZ29yeUlkICYmIGNhdGVnb3JpZXNTdHIgIT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5Rm91bmQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yaWVzU3RyLmluZGV4T2YocHJkLmNhdGVnb3J5SWQpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeUZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudCsrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CgoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ID09IE9iamVjdC5rZXlzKHByb2R1Y3RzSW5jbHVkZSkubGVuZ3RoICYmCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmQucHJpY2UgPj0gbWluUHJpY2UgJiYgcHJkLnByaWNlIDw9IG1heFByaWNlICYmCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvckZvdW5kICYmIGNhdGVnb3J5Rm91bmQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzRmlsdGVyaXplZC5wdXNoKHByZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNUb1JldHVybi5wdXNoKHtwcm9kdWN0czogcHJvZHVjdHNGaWx0ZXJpemVkfSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBjYXRlZ29yaWVzKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHByb2R1Y3RzRmlsdGVyaXplZCA9IFtdOwogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGluZGV4IGluIGNhdGVnb3JpZXNba2V5XS5wcm9kdWN0cykgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJkID0gY2F0ZWdvcmllc1trZXldLnByb2R1Y3RzW2luZGV4XTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZC5wcmljZSA+PSBtaW5QcmljZSAmJiBwcmQucHJpY2UgPD0gbWF4UHJpY2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzRmlsdGVyaXplZC5wdXNoKHByZCkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1RvUmV0dXJuLnB1c2goe3Byb2R1Y3RzOiBwcm9kdWN0c0ZpbHRlcml6ZWR9KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciB2ID0gJGZpbHRlcigiZmlsdGVyRnVsbEFycmF5Zm9yQXV0b0NvbXBsYXRlIikoW10sIHByb2R1Y3RzVG9SZXR1cm4sIG51bGwsIC0xKTsKICAgICAgICAgICAgcmV0dXJuIHY7CiAgICAgICAgfQogICAgfSk7Cn0pOwoKCi8vZm9yICh2YXIgcHJkQXR0ckluZGV4IGluIHByZC5hdHRyaWJ1dGVzKSB7Ci8vICAgIHZhciBwcmRBdHRyID0gcHJkLmF0dHJpYnV0ZXNbcHJkQXR0ckluZGV4XTsKLy8KLy8gICAgdmFyIGluY2x1ZGUgPSBwcm9kdWN0c0luY2x1ZGVbcHJkQXR0ci5hdHRyaWJ1dGVOYW1lXTsKLy8gICAgdmFyIGZpbmRlZCA9IGZhbHNlOwovLyAgICBpZiAoaW5jbHVkZSkgewovLyAgICAgICAgZm9yICh2YXIgaW5jbHVkZUluZGV4IGluIGluY2x1ZGUpIHsKLy8gICAgICAgICAgICBpZiAocHJkQXR0ci5hdHRyaWJ1dGVWYWx1ZSA9PSBpbmNsdWRlW2luY2x1ZGVJbmRleF0pIHsKLy8gICAgICAgICAgICAgICAgZmluZGVkID0gdHJ1ZTsKLy8gICAgICAgICAgICAgICAgYnJlYWs7Ci8vICAgICAgICAgICAgfQovLyAgICAgICAgfQovLyAgICAgICAgaWYgKGZpbmRlZCkgewovLyAgICAgICAgICAgIHByb2R1Y3RzRmlsdGVyaXplZC5wdXNoKHByZCk7Ci8vICAgICAgICB9Ci8vICAgIH0KLy99CgoKLy9mb3IodmFyIGF0dHJpYiBpbiBwcm9kdWN0c0luY2x1ZGUpewovLyAgICBjb25zb2xlLmxvZygiIikKLy8gICAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT0gICBwcm9kdWN0c0luY2x1ZGUgPT09PT09PT09PT09PT09PT09PT09PSIpCi8vICAgIGNvbnNvbGUubG9nKHByb2R1Y3RzSW5jbHVkZSkKLy8gICAgY29uc29sZS5sb2coaSkKLy8gICAgY29uc29sZS5sb2cocHJvZHVjdHNJbmNsdWRlW2ldKQovLyAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PSAgIHByb2R1Y3RzSW5jbHVkZSA9PT09PT09PT09PT09PT09PT09PT09IikKLy8gICAgY29uc29sZS5sb2coIiIpCi8vfQoKLy9hbmd1bGFyLmZvckVhY2gocHJvZHVjdHMsIGZ1bmN0aW9uIChwcm9kdWN0KSB7Ci8vCi8vICAgIGlmIChPYmplY3Qua2V5cyhwcm9kdWN0c0luY2x1ZGUpLmxlbmd0aCA+IDApIHsKLy8gICAgICAgIHZhciBmb3VuZCA9IDA7Ci8vICAgICAgICBmb3IgKHZhciBrZXkgaW4gcHJvZHVjdHNJbmNsdWRlKSB7Ci8vICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9kdWN0c0luY2x1ZGVba2V5XS5sZW5ndGg7IGkrKykgewovLyAgICAgICAgICAgICAgICB2YXIgc2VhcmNoTWF0Y2hlcyA9IDA7Ci8vICAgICAgICAgICAgICAgIGlmIChwcm9kdWN0LmF0dHJpYnV0ZXMpIHsKLy8gICAgICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJBdHRyID0gJGZpbHRlcignZmlsdGVyJykocHJvZHVjdC5hdHRyaWJ1dGVzLCB7YXR0cmlidXRlVmFsdWU6IHByb2R1Y3RzSW5jbHVkZVtrZXldW2ldfSwgZmFsc2UpOwovLyAgICAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnN0cmluZ2lmeShmaWx0ZXJBdHRyWzBdKTsKLy8gICAgICAgICAgICAgICAgICAgIHZhciBtYXAgPSAkLm1hcChwcm9kdWN0LmF0dHJpYnV0ZXMsIEpTT04uc3RyaW5naWZ5KTsKLy8gICAgICAgICAgICAgICAgICAgIHNlYXJjaE1hdGNoZXMgPSAkLmluQXJyYXkoanNvbiwgbWFwKTsKLy8gICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICBpZiAoc2VhcmNoTWF0Y2hlcyA+IC0xKSB7Ci8vICAgICAgICAgICAgICAgICAgICBmb3VuZCsrOwovLyAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgICAgIGZvciAodmFyIGNvbG9ySW5kZXggPSAwOyBjb2xvckluZGV4IDwgcHJvZHVjdC5jb2xvcnMubGVuZ3RoOyBjb2xvckluZGV4KyspIHsKLy8gICAgICAgICAgICAgICAgICAgIGlmIChwcm9kdWN0LmNvbG9yc1tjb2xvckluZGV4XS5jb2RlID09IHByb2R1Y3RzSW5jbHVkZVtrZXldW2ldLmNvZGUpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCsrOwovLyAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwovLyAgICAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgfQovLyAgICAgICAgfQovLyAgICAgICAgaWYgKGZvdW5kID09IE9iamVjdC5rZXlzKHByb2R1Y3RzSW5jbHVkZVtrZXldKS5sZW5ndGggJiYgcHJvZHVjdC5wcmljZSA+PSBtaW5QcmljZSAmJiBwcm9kdWN0LnByaWNlIDw9IG1heFByaWNlKSB7Ci8vICAgICAgICAgICAgcHJvZHVjdHNUb1JldHVybi5wdXNoKHByb2R1Y3QpOwovLyAgICAgICAgfQovLyAgICB9Ci8vICAgIGVsc2UgaWYgKHByb2R1Y3QucHJpY2UgPj0gbWluUHJpY2UgJiYgcHJvZHVjdC5wcmljZSA8PSBtYXhQcmljZSkgewovLyAgICAgICAgcHJvZHVjdHNUb1JldHVybi5wdXNoKHByb2R1Y3QpOwovLyAgICB9Ci8vfSk7Ci8qKgogKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDI1LzAyLzIwMTYuCiAqLwoKCgpkZWZpbmUoJ2FwcC9maWx0ZXJzL3NvcnRBcnJheUJ5Q29sb3JOYW1lJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChjb250cm9sbGVycykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgY29udHJvbGxlcnMuZmlsdGVyKCdzb3J0QXJyYXlCeUNvbG9yTmFtZScsIGZ1bmN0aW9uKCl7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGFyciwgY29sb3JzKSB7CiAgICAgICAgICAgIHJldHVybiBjb2xvcnMuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgICAgICAgcmV0dXJuIGEubmFtZSA9PSBiLm5hbWUgPyAwIDogYS5uYW1lIDwgYi5uYW1lID8gLTEgOiAxOwogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgfSkKfSk7CgoKCgoKCgoKLyoqCiAqIENyZWF0ZWQgYnkgY29ycmVudGkgb24gMTEvMDQvMjAxNi4KICovCgpkZWZpbmUoJ2FwcC9maWx0ZXJzL2dldEFsbEltYWdlc0J5Q29sb3InLFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKGNvbnRyb2xsZXJzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb250cm9sbGVycy5maWx0ZXIoJ2dldEFsbEltYWdlc0J5Q29sb3InLCBmdW5jdGlvbigpewogICAgICAgIHJldHVybiBmdW5jdGlvbihpbWFnZXMsIGNvbG9yU2VsZWN0ZWQsIGRlZmF1bHRJbWFnZSkgewogICAgICAgICAgICB2YXIgX2RlZmF1bHRJbWcgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgIHZhciBfYWJjZGVmSW1nID0gW107CiAgICAgICAgICAgIHZhciBpbWFnZU1hdGNoZXMgPSBpbWFnZXMuZmlsdGVyKGZ1bmN0aW9uKGltZyl7CiAgICAgICAgICAgICAgICB2YXIgaW5kZXhTdWJTdHJpbmcgPSBpbWcuaW5kZXhPZigiIyMiKTsKICAgICAgICAgICAgICAgIHZhciBjdXJyZW50SW1nID0gaW1nLnN1YnN0cmluZyhpbmRleFN1YlN0cmluZyArIDIpOwogICAgICAgICAgICAgICAgaWYoY3VycmVudEltZyA9PSBkZWZhdWx0SW1hZ2UpewogICAgICAgICAgICAgICAgICAgIF9kZWZhdWx0SW1nID0gaW1nOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKGltZy50b0xvd2VyQ2FzZSgpLmluZGV4T2YoKCJhYmNkZWYiKSkgIT0gLTEgfHwgaW5kZXhTdWJTdHJpbmcgPT0gLTEpewogICAgICAgICAgICAgICAgICAgIF9hYmNkZWZJbWcucHVzaChpbWcpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IGltZy5zdWJzdHJpbmcoMCwgaW5kZXhTdWJTdHJpbmcpOwogICAgICAgICAgICAgICAgaWYgKGNvbG9yU2VsZWN0ZWQuY29kZSA9PSBjb2xvcikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYoaW1hZ2VNYXRjaGVzLmxlbmd0aCA9PSAwICYmIGltYWdlTWF0Y2hlcy5sZW5ndGggPT0gMCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaW1hZ2VNYXRjaGVzLnB1c2goZGVmYXVsdEltYWdlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmKF9kZWZhdWx0SW1nKXsKICAgICAgICAgICAgICAgIGlmKF9kZWZhdWx0SW1nLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigoImFiY2RlZiIpKSAhPSAtMSB8fAogICAgICAgICAgICAgICAgICAgIGNvbG9yU2VsZWN0ZWQuY29kZSA9PSBfZGVmYXVsdEltZy5zdWJzdHJpbmcoMCwgX2RlZmF1bHRJbWcuaW5kZXhPZigiIyMiKSkpewogICAgICAgICAgICAgICAgICAgIGltYWdlTWF0Y2hlcy5wdXNoKGRlZmF1bHRJbWFnZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaW1hZ2VNYXRjaGVzID0gaW1hZ2VNYXRjaGVzLmNvbmNhdChfYWJjZGVmSW1nKTsKICAgICAgICAgICAgcmV0dXJuIGltYWdlTWF0Y2hlczsKICAgICAgICB9OwogICAgfSk7Cn0pOwoKCi8qKgogKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDExLzA0LzIwMTYuCiAqLwoKCmRlZmluZSgnYXBwL2ZpbHRlcnMvZ2V0SW1hZ2VJZCcsWycuL21vZHVsZSddLCBmdW5jdGlvbiAoY29udHJvbGxlcnMpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGNvbnRyb2xsZXJzLmZpbHRlcignZ2V0SW1hZ2VJZCcsIGZ1bmN0aW9uKCl7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGltYWdlKSB7CiAgICAgICAgICAgIHZhciBpbmRleFN1YlN0cmluZyA9IGltYWdlLmluZGV4T2YoIiMjIik7CiAgICAgICAgICAgIGlmKGluZGV4U3ViU3RyaW5nID09IC0xKXsKICAgICAgICAgICAgICAgIHJldHVybiBpbWFnZTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gaW1hZ2Uuc3Vic3RyaW5nKGluZGV4U3ViU3RyaW5nICsgMik7CiAgICAgICAgfTsKICAgIH0pOwp9KTsKCgoKLyoqCiAqIENyZWF0ZWQgYnkga3ViYW55IG9uIDEwLzE0LzIwMTUuCiAqLwoKCmRlZmluZSgnYXBwL2ZpbHRlcnMvaW5kZXgnLFsKCiAgICAnLi90cnVzdEhUTUwnLAogICAgJy4vc2VjQ2F0V29yZCcsCiAgICAnLi9sYXN0NERpZ2l0c0NhcmQnLAogICAgJy4vcHJvZHVjdHNDYXJ0Q291bnQnLAogICAgJy4vcHJvZHVjdHNDYXJ0U3VtJywKICAgICcuL3Byb2R1Y3RRdWFudGl0eScsCiAgICAnLi9maWx0ZXJGdWxsQXJyYXlmb3JBdXRvQ29tcGxhdGUnLAogICAgJy4vZ2V0Q2F0ZWdvcmllc0luQXJyYXknLAogICAgJy4vcHJvZHVjdHNGaWx0ZXJGb3JDYXRlZ29yaWVzUHJvZHVjdCcsCiAgICAnLi9zb3J0QXJyYXlCeUNvbG9yTmFtZScsCiAgICAnLi9nZXRBbGxJbWFnZXNCeUNvbG9yJywKICAgICcuL2dldEltYWdlSWQnCgpdLCBmdW5jdGlvbigpIHt9KTsKLyoqCiAqIENyZWF0ZWQgYnkga3ViYW55IG9uIDEwLzE0LzIwMTUuCiAqLwpkZWZpbmUoJ2FwcC9kaXJlY3RpdmVzL21vZHVsZScsWydhbmd1bGFyJ10sIGZ1bmN0aW9uIChhbmd1bGFyKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICByZXR1cm4gYW5ndWxhci5tb2R1bGUoJ2Fvcy5kaXJlY3RpdmVzJywgW10pOwp9KTsKLyoqCiAqIENyZWF0ZWQgYnkgY29ycmVudGkgb24gMjcvMTIvMjAxNS4KICovCgoKCmRlZmluZSgnYXBwL2RpcmVjdGl2ZXMvZS1zZWMtcGx1cy1taW51cycsWycuL21vZHVsZSddLCBmdW5jdGlvbiAoZGlyZWN0aXZlcykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgZGlyZWN0aXZlcwogICAgICAgIC5kaXJlY3RpdmUoJ2VTZWNQbHVzTWludXMnLCBbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICByZXN0cmljdDogJ0UnLAogICAgICAgICAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgnYXBwL3BhcnRpYWxzL2Utc2VjLXBsdXMtbWludXMuaHRtbCcpLAogICAgICAgICAgICAgICAgc2NvcGU6IHsKICAgICAgICAgICAgICAgICAgICBudW1BdHRyOiAnPScsCiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUHJvZHVjdEF0dHI6ICcmJywKICAgICAgICAgICAgICAgICAgICBhRGlzYWJsZTogJz0nLAogICAgICAgICAgICAgICAgICAgIG1heFZhbHVlOiAnPScsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCBmdW5jdGlvbiAocykgewoKICAgICAgICAgICAgICAgICAgICB2YXIgbWF4VmFsdWUgPSA5OTk7CiAgICAgICAgICAgICAgICAgICAgdmFyIG1pblZhbHVlID0gMTsKICAgICAgICAgICAgICAgICAgICB2YXIgbnVtID0gMTsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVhZHlUb0NoZWNrID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB2YXIgY3RybCA9IHRoaXM7CiAgICAgICAgICAgICAgICAgICAgcy5udW1BdHRyID0gcGFyc2VJbnQocy5udW1BdHRyKTsKCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXROZXdOdW0gPSBmdW5jdGlvbiAoX251bSkgewogICAgICAgICAgICAgICAgICAgICAgICBudW0gPSBwYXJzZUludChfbnVtKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHRoaXMuaW5jcmVtZW50TnVtQXR0ciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMubnVtQXR0ciA+IG1pblZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLm51bUF0dHItLTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgIHRoaXMuZGVjcmVtZW50TnVtQXR0ciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcy5udW1BdHRyKys7CiAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRNYXhWYWx1ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1heFZhbHVlOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRNYXhWYWx1ZSA9IGZ1bmN0aW9uIChfbWF4VmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbWF4VmFsdWUgPSBfbWF4VmFsdWU7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB0aGlzLmdldE1pblZhbHVlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWluVmFsdWU7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBzLmluY3JlbWVudFZhbHVlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBzLiRhcHBseShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3VmFsID0gcy5udW1BdHRyICsgMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtID0gcy5udW1BdHRyID0gcGFyc2VJbnQobmV3VmFsKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICBzLnVwZGF0ZVByb2R1Y3RBdHRyKCkKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMubnVtQXR0ciA+PSBtYXhWYWx1ZTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHMuZGVjcmVtZW50VmFsdWUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHMuJGFwcGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdWYWwgPSBzLm51bUF0dHIgLSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW0gPSBzLm51bUF0dHIgPSBwYXJzZUludChuZXdWYWwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy51cGRhdGVQcm9kdWN0QXR0cigpCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcy5udW1BdHRyIDw9IG1pblZhbHVlOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXZlTnVtYmVyID0gZnVuY3Rpb24gKCRldmVudCkgewoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGVja051bWJlcigkZXZlbnQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWFkeVRvQ2hlY2spIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWR5VG9DaGVjayA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtID0gcy5udW1BdHRyOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVOdW1iZXIgPSBmdW5jdGlvbiAoYWxsb3dFbXB0eSkgewogICAgICAgICAgICAgICAgICAgICAgICByZWFkeVRvQ2hlY2sgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBzLnVwZGF0ZVByb2R1Y3RBdHRyKCkKICAgICAgICAgICAgICAgICAgICAgICAgcy5jaGVja0Rpc2FibGVzKGFsbG93RW1wdHkpCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBjaGVja051bWJlcigpIHsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgocy5udW1BdHRyICsgIiIpLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzTnVtYmVyID0gKHMubnVtQXR0ciAtIDApID09IHMubnVtQXR0ciAmJiAoJycgKyBzLm51bUF0dHIpLnRyaW0oKS5sZW5ndGggPiAwOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc051bWJlciAvKnx8IChzLm51bUF0dHIgKyAiIikubGVuZ3RoID09IChjdHJsLmdldE1heFZhbHVlKCkgKyAiIikubGVuZ3RoKi8pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5udW1BdHRyID4gbWF4VmFsdWUgfHwgcy5udW1BdHRyIDwgbWluVmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMubnVtQXR0ciA9IHBhcnNlSW50KG51bSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfV0sCiAgICAgICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAocywgZSwgYSwgY3RybCkgewoKICAgICAgICAgICAgICAgICAgICBlLmFkZENsYXNzKCJzZWMtcGx1cy1taW51cyIpCiAgICAgICAgICAgICAgICAgICAgaWYgKHMuYURpc2FibGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZS5hZGRDbGFzcygic2VjLXBsdXMtbWludXMtZGlzYWJsZSIpCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAocy5tYXhWYWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICBjdHJsLnNldE1heFZhbHVlKHMubWF4VmFsdWUpOwogICAgICAgICAgICAgICAgICAgIH0KCgogICAgICAgICAgICAgICAgICAgIHZhciBtaW5WYWx1ZSA9IGN0cmwuZ2V0TWluVmFsdWUoKTsKICAgICAgICAgICAgICAgICAgICB2YXIgbWF4VmFsdWUgPSBjdHJsLmdldE1heFZhbHVlKCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHMubnVtQXR0ciA8PSBtaW5WYWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICBzLm51bUF0dHIgPSBwYXJzZUludChtaW5WYWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICQoZSkuZmluZCgnLm1pbnVzJykuYWRkQ2xhc3MoJ2Rpc2FibGVCdG4nKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAocy5udW1BdHRyID49IG1heFZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHMubnVtQXR0ciA9IG1heFZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICAkKGUpLmZpbmQoJy5wbHVzJykuYWRkQ2xhc3MoJ2Rpc2FibGVCdG4nKQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgcy5jaGVja0Rpc2FibGVzID0gZnVuY3Rpb24gKGFsbG93RW1wdHkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMubnVtQXR0ciA8PSBtaW5WYWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMubnVtQXR0ciA9PSAiIiAmJiBhbGxvd0VtcHR5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLm51bUF0dHIgPSBwYXJzZUludChtaW5WYWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGUpLmZpbmQoJy5taW51cycpLmFkZENsYXNzKCdkaXNhYmxlQnRuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoZSkuZmluZCgnLnBsdXMnKS5yZW1vdmVDbGFzcygnZGlzYWJsZUJ0bicpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGUpLmZpbmQoJy5taW51cycpLnJlbW92ZUNsYXNzKCdkaXNhYmxlQnRuJykKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMubnVtQXR0ciA+PSBtYXhWYWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5udW1BdHRyID0gcGFyc2VJbnQobWF4VmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJChlKS5maW5kKCcucGx1cycpLmFkZENsYXNzKCdkaXNhYmxlQnRuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoZSkuZmluZCgnLm1pbnVzJykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVCdG4nKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJChlKS5maW5kKCcucGx1cycpLnJlbW92ZUNsYXNzKCdkaXNhYmxlQnRuJykKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHMubnVtQXR0ciAtIDApID09IHMubnVtQXR0ciAmJiAoJycgKyBzLm51bUF0dHIpLnRyaW0oKS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLm51bUF0dHIgPSBwYXJzZUludChzLm51bUF0dHIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfV0pCiAgICAgICAgLmRpcmVjdGl2ZSgnbnVtYmVyc09ubHknLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICByZXN0cmljdDogJ0EnLAogICAgICAgICAgICAgICAgcmVxdWlyZTogJ15lU2VjUGx1c01pbnVzJywKICAgICAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzLCBlLCBhLCBjdHJsKSB7CgogICAgICAgICAgICAgICAgICAgIGUub24oJ2NsaWNrJywgZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICk7CgogICAgICAgICAgICAgICAgICAgIHMuJHdhdGNoKCdudW1BdHRyJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBjdHJsLnVwZGF0ZU51bWJlcih0cnVlKTsKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgZS5vbigna2V5ZG93bicsIGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcy4kYXBwbHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICgkZXZlbnQua2V5Q29kZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwuaW5jcmVtZW50TnVtQXR0cigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0MDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5kZWNyZW1lbnROdW1BdHRyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIGUub24oJ2JsdXInLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHMuJGFwcGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwudXBkYXRlTnVtYmVyKGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmRpcmVjdGl2ZSgnaW5jcmVtZW50VmFsdWVBdHRyJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJywKICAgICAgICAgICAgICAgIHJlcXVpcmU6ICdeZVNlY1BsdXNNaW51cycsCiAgICAgICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAocywgZSwgYSwgY3RybCkgewoKICAgICAgICAgICAgICAgICAgICBlLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhLmluY3JlbWVudFZhbHVlQXR0ciA9PSAiKyIpIHsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5oYXNDbGFzcygiZGlzYWJsZUJ0biIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuaW5jcmVtZW50VmFsdWUoKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuYWRkQ2xhc3MoImRpc2FibGVCdG4iKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoZSkuc2libGluZ3MoJy5taW51cycpLnJlbW92ZUNsYXNzKCJkaXNhYmxlQnRuIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucmVtb3ZlQ2xhc3MoImRpc2FibGVCdG4iKQoKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYS5pbmNyZW1lbnRWYWx1ZUF0dHIgPT0gIi0iKSB7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUuaGFzQ2xhc3MoImRpc2FibGVCdG4iKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLmRlY3JlbWVudFZhbHVlKCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmFkZENsYXNzKCJkaXNhYmxlQnRuIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGUpLnNpYmxpbmdzKCcucGx1cycpLnJlbW92ZUNsYXNzKCJkaXNhYmxlQnRuIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucmVtb3ZlQ2xhc3MoImRpc2FibGVCdG4iKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KQogICAgOwoKCn0pOwoKCi8qKgogKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDAzLzA2LzIwMTYuCiAqLwoKCgoKZGVmaW5lKCdhcHAvZGlyZWN0aXZlcy9pbmZvLWRlbW8nLFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKGRpcmVjdGl2ZXMpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGRpcmVjdGl2ZXMuZGlyZWN0aXZlKCdpbmZvRGVtbycsIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICByZXN0cmljdDogJ0UnLAogICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAocywgZSwgYSkgewogICAgICAgICAgICAgICAgZS5hZGRDbGFzcygnaW5mby1kZW1vJyk7CiAgICAgICAgICAgICAgICB2YXIgZGl2SW5uZXIgPSAkKCI8ZGl2PjwvZGl2PiIpOwogICAgICAgICAgICAgICAgZGl2SW5uZXIuYXBwZW5kKCI8aDQ+IiArIGEuYVRpdGxlICsgIjwvaDQ+Iik7CiAgICAgICAgICAgICAgICBkaXZJbm5lci5hcHBlbmQoIjxkaXYgc3R5bGU9J2hlaWdodDogNHB4Oyc+PC9kaXY+Iik7CiAgICAgICAgICAgICAgICB2YXIgcGFyYWdyYXBoZXMgPSBKU09OLnBhcnNlKGEuYUxpbmVzKTsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYWdyYXBoZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBkaXZJbm5lci5hcHBlbmQoIjxwIGNsYXNzPSdyb2JvdG8tbGlnaHQnPiIgKyBwYXJhZ3JhcGhlc1tpXSArICI8L3A+Iik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlLmFwcGVuZChkaXZJbm5lcikKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0pOwp9KTsKCi8qKgogKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDI3LzEyLzIwMTUuCiAqLwoKCgpkZWZpbmUoJ2FwcC9kaXJlY3RpdmVzL2Etc2VjLXNyYycsWycuL21vZHVsZSddLCBmdW5jdGlvbiAoZGlyZWN0aXZlcykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgZGlyZWN0aXZlcy5kaXJlY3RpdmUoJ2FTZWNTcmMnLCBmdW5jdGlvbigpewogICAgICAgIHJldHVybnsKICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJywKICAgICAgICAgICAgbGluazogZnVuY3Rpb24ocywgZSwgYSwgY3RybCl7CgogICAgICAgICAgICAgICAgLy8gbmctc3JjPSJmZXRjaEltYWdlP2ltYWdlX2lkPXt7cHJvZHVjdC5pbWFnZVVybH19IgogICAgICAgICAgICAgICAgLy8gc2VydmVyLmNhdGFsb2cuZ2V0S2V5KCkgKwogICAgICAgICAgICAgICAgZS5hdHRyKCdzcmMnLCAnL2ZldGNoSW1hZ2U/aW1hZ2VfaWQ9JyArIGEuYVNlY1NyYyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9KTsKfSk7CgoKLyoqCiAqIENyZWF0ZWQgYnkgY29ycmVudGkgb24gMjcvMTIvMjAxNS4KICovCgpkZWZpbmUoJ2FwcC9kaXJlY3RpdmVzL2Etc2VjLWJhY2staW1nJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChkaXJlY3RpdmVzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBkaXJlY3RpdmVzCgogICAgICAgIC5kaXJlY3RpdmUoJ2FTZWNCYWNrSW1nJywgZnVuY3Rpb24oKXsKICAgICAgICAgICAgcmV0dXJuewogICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJywKICAgICAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHMsIGUsIGEsIGN0cmwpewogICAgICAgICAgICAgICAgICAgIC8vICBzZXJ2ZXIuY2F0YWxvZy5nZXRLZXkoKSArCiAgICAgICAgICAgICAgICAgICAgZS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCAidXJsKCdjYXRhbG9nL2ZldGNoSW1hZ2U/aW1hZ2VfaWQ9IiArIGEuYVNlY0JhY2tJbWcgKyAiJykiKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7Cn0pOwoKCi8qKgogKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDE5LzA1LzIwMTYuCiAqLwoKZGVmaW5lKCdhcHAvZGlyZWN0aXZlcy92YWxpZGF0ZUlucHV0JyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChkaXJlY3RpdmVzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBkaXJlY3RpdmVzLmRpcmVjdGl2ZSgnc2VjRm9ybScsIFsiJHRpbWVvdXQiLCBmdW5jdGlvbiAoJHRpbWVvdXQpIHsKCiAgICAgICAgdmFyIGludmFsaWQgPSAiaW52YWxpZCI7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJywKICAgICAgICAgICAgcmVxdWlyZTogJ3NlY0Zvcm0nLAogICAgICAgICAgICBzY29wZTogewogICAgICAgICAgICAgICAgc2VjR2V0Rm9ybVZhbGlkYXRpb25XaGVuUmVhZHk6ICImIiwKICAgICAgICAgICAgICAgIHNlY0lzVmFsaWRGb3JtOiAiJiIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY29udHJvbGxlckFzOiAic2VjRm9ybUN0cmwiLAogICAgICAgICAgICBjb250cm9sbGVyOiBbZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgICAgIHZhciBjdHJsOwogICAgICAgICAgICAgICAgdmFyIHRvTGF0ZVRvQ2hlY2sgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0Rm9ybVZhbGlkYXRpb25XaGVuUmVhZHk7CiAgICAgICAgICAgICAgICB0aGlzLm1vZGVscyA9IFtdOwogICAgICAgICAgICAgICAgdGhpcy5zZW5kZXJzID0gW107CiAgICAgICAgICAgICAgICB0aGlzLnNldEJ1dHRvbkN0cmwgPSBmdW5jdGlvbiAoY3RybCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZGVycy5wdXNoKGN0cmwpOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlID0gZnVuY3Rpb24gKGlkLCB2YWxpZCwgb3duZXIpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaWRGb3JtID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubW9kZWxzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2RlbCA9IHRoaXMubW9kZWxzW2ldOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kZWwuaWQgPT0gaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnZhbGlkID0gdmFsaWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5vd25lciA9IG93bmVyOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkRm9ybSA9ICF2YWxpZEZvcm0gPyBmYWxzZSA6IG1vZGVsLnZhbGlkOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2VuZGVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRlcnNbaV0uZm9ybUlzVmFsaWQodmFsaWRGb3JtKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNWYWxpZEZvcm0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1ZhbGlkRm9ybSh7dmFsaWQ6IHZhbGlkRm9ybX0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoIXRvTGF0ZVRvQ2hlY2sgJiYgdGhpcy5nZXRGb3JtVmFsaWRhdGlvbldoZW5SZWFkeSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEZvcm1WYWxpZGF0aW9uV2hlblJlYWR5KHt2YWxpZDogdmFsaWRGb3JtfSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIHRoaXMuZm9ybUlzVmFsaWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1vZGVscy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW9kZWwgPSB0aGlzLm1vZGVsc1tpXTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsLnZhbGlkID09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5V2F0Y2hlciA9IGZ1bmN0aW9uIChpZCwgdmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVscy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLAogICAgICAgICAgICAgICAgICAgICAgICB2YWxpZDogdmFsaWQKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgdGhpcy5zZXRGb3JtVmFsaWRhdGlvbldoZW5SZWFkeSA9IGZ1bmN0aW9uIChfZ2V0Rm9ybVZhbGlkYXRpb25XaGVuUmVhZHkpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoX2dldEZvcm1WYWxpZGF0aW9uV2hlblJlYWR5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Rm9ybVZhbGlkYXRpb25XaGVuUmVhZHkgPSBfZ2V0Rm9ybVZhbGlkYXRpb25XaGVuUmVhZHkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIHRoaXMuc2V0Q3RybCA9IGZ1bmN0aW9uIChfY3RybCkgewogICAgICAgICAgICAgICAgICAgIGN0cmwgPSBfY3RybDsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgdGhpcy5pc1ZhbGlkRm9ybTsKICAgICAgICAgICAgICAgIHRoaXMuc2V0SXNWYWxpZEZvcm0gPSBmdW5jdGlvbiAoX2lzVmFsaWRGb3JtKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1ZhbGlkRm9ybSA9IF9pc1ZhbGlkRm9ybTsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgdGhpcy5zZXRUb0xhdGVUb0NoZWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHRvTGF0ZVRvQ2hlY2sgPSB0cnVlOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICB0aGlzLnNldERpc2FibGVVbnRpbFNvbWVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNlbmRlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kZXJzW2ldLnNldERpc2FibGVVbnRpbFNvbWVDaGFuZ2UoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlQWxsb3dUb0NoYW5nZUludmFsaWRDbGFzcyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2VuZGVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRlcnNbaV0uY2hhbmdlQWxsb3dUb0NoYW5nZUludmFsaWRDbGFzcygpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CgoKICAgICAgICAgICAgfV0sCiAgICAgICAgICAgIGxpbms6IHsKICAgICAgICAgICAgICAgIHByZTogZnVuY3Rpb24gKHMsIGUsIGEsIGN0cmwpIHsKICAgICAgICAgICAgICAgICAgICBlLmFkZENsYXNzKCJzZWNGb3JtIik7CiAgICAgICAgICAgICAgICAgICAgY3RybC5zZXRDdHJsKGN0cmwpOwogICAgICAgICAgICAgICAgICAgIGlmIChzLnNlY0lzVmFsaWRGb3JtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwuc2V0SXNWYWxpZEZvcm0ocy5zZWNJc1ZhbGlkRm9ybSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHBvc3Q6IGZ1bmN0aW9uIChzLCBlLCBhLCBjdHJsKSB7CiAgICAgICAgICAgICAgICAgICAgY3RybC51cGRhdGVTdGF0ZSgtMSwgbnVsbCwgbnVsbCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHMuc2VjR2V0Rm9ybVZhbGlkYXRpb25XaGVuUmVhZHkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5zZXRGb3JtVmFsaWRhdGlvbldoZW5SZWFkeShzLnNlY0dldEZvcm1WYWxpZGF0aW9uV2hlblJlYWR5KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGEuc2VjRGlzYWJsZVVudGlsU29tZUNoYW5nZSA9PSAndHJ1ZScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5zZXREaXNhYmxlVW50aWxTb21lQ2hhbmdlKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgIH1dKS4KICAgIGRpcmVjdGl2ZSgnc2VjU2VuZGVyJywgWyIkY29tcGlsZSIsIGZ1bmN0aW9uICgkY29tcGlsZSkgewoKICAgICAgICB2YXIgaW52YWxpZCA9ICJpbnZhbGlkIjsKCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJywKICAgICAgICAgICAgcmVxdWlyZTogWydzZWNTZW5kZXInLCAnXnNlY0Zvcm0nXSwKICAgICAgICAgICAgc2NvcGU6IHsKICAgICAgICAgICAgICAgIHNlY1NlbmQ6ICcmJwogICAgICAgICAgICB9LAogICAgICAgICAgICBjb250cm9sbGVyQXM6ICJzZW5kZXJDdHJsIiwKICAgICAgICAgICAgY29udHJvbGxlcjogWyIkc2NvcGUiLCBmdW5jdGlvbiAocykgewoKICAgICAgICAgICAgICAgIHZhciBidXR0b247CiAgICAgICAgICAgICAgICB2YXIgYWxsb3dUb0NoYW5nZUludmFsaWRDbGFzcyA9IHRydWU7CiAgICAgICAgICAgICAgICB0aGlzLnNldEJ1dHRvbiA9IGZ1bmN0aW9uIChfYnV0dG9uKSB7CiAgICAgICAgICAgICAgICAgICAgYnV0dG9uID0gX2J1dHRvbjsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgdGhpcy5zZW5kID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGlmIChidXR0b24uaGFzQ2xhc3MoaW52YWxpZCkpIHsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHMuc2VjU2VuZCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgdGhpcy5mb3JtSXNWYWxpZCA9IGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgICAgICAgICAgICAgIGlmIChhbGxvd1RvQ2hhbmdlSW52YWxpZENsYXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnJlbW92ZUNsYXNzKGludmFsaWQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uYWRkQ2xhc3MoaW52YWxpZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24ucHJvcCgiZGlzYWJsZWQiLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VBbGxvd1RvQ2hhbmdlSW52YWxpZENsYXNzID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGFsbG93VG9DaGFuZ2VJbnZhbGlkQ2xhc3MgPSB0cnVlOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICB0aGlzLnNldERpc2FibGVVbnRpbFNvbWVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgYWxsb3dUb0NoYW5nZUludmFsaWRDbGFzcyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5hZGRDbGFzcyhpbnZhbGlkKTsKICAgICAgICAgICAgICAgICAgICBidXR0b24ucHJvcCgiZGlzYWJsZWQiLCB0cnVlKTsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICB9XSwKICAgICAgICAgICAgbGluazogewogICAgICAgICAgICAgICAgcHJlOiBmdW5jdGlvbiAocywgZSwgYSwgY3RybHMpIHsKICAgICAgICAgICAgICAgICAgICBlLmFkZENsYXNzKCJzZWMtc2VuZGVyIik7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRlc2NyaXB0aW9uID0gYS5hSGludDsKICAgICAgICAgICAgICAgICAgICB2YXIgYnV0dG9uID0gJCgiPGJ1dHRvbiBpZD0nIiArIGEuYVZhbHVlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCJfIikgKyAiX2J0biIgKyBkZXNjcmlwdGlvbiArICInIHR5cGU9J2J1dHRvbicgY2xhc3M9J3NlYy1zZW5kZXItYSBpbnZhbGlkJyByb2xlPSdidXR0b24nIGRhdGEtbmctY2xpY2s9J3NlbmRlckN0cmwuc2VuZCgpJz4iICsgYS5hVmFsdWUgKyAiPC9idXR0b24+Iik7CiAgICAgICAgICAgICAgICAgICAgJGNvbXBpbGUoYnV0dG9uKShzKTsKICAgICAgICAgICAgICAgICAgICBlLmFwcGVuZChidXR0b24pOwoKICAgICAgICAgICAgICAgICAgICBjdHJsc1swXS5zZXRCdXR0b24oYnV0dG9uKTsKICAgICAgICAgICAgICAgICAgICBjdHJsc1sxXS5zZXRCdXR0b25DdHJsKGN0cmxzWzBdKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBwb3N0OiBmdW5jdGlvbiAocywgZSwgYSwgY3RybCkgewogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgIH1dKS4KICAgIGRpcmVjdGl2ZSgnc2VjVmlldycsIFsiJGNvbXBpbGUiLCAiJHRpbWVvdXQiLCBmdW5jdGlvbiAoJGNvbXBpbGUsICR0aW1lb3V0KSB7CgogICAgICAgIGZ1bmN0aW9uIHRocm93SW52YWxpZE9iamVjdEZvcm1hdChvYmosIGUpIHsKCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlKSk7CiAgICAgICAgICAgIHRocm93ICAiLS0tLS0tLS0tLS0gIEludmFsaWQgb2JqZWN0IGZvcm1hdCAhIFxuXG4iICsKICAgICAgICAgICAgIlRoZSBlbGVtZW50IG11c3QgYmUgbGlrZSB0aGlzOlxuXG4iICsKICAgICAgICAgICAgInZhciBvYmogPSB7XG4iICsKICAgICAgICAgICAgIiAgIGVycm9yOiAndGhlIHVwcGVyIHRleHQgbWVzc2FnZScsIFxuIiArCiAgICAgICAgICAgICIgICBpbmZvOiAndGhlIGJ1dHRvbiBpbmZvcm1hdGlvbiBhYm91dCB0aGlzIHJlcXVpcmVtZW50JywgXG4iICsKICAgICAgICAgICAgIiAgIG1pbjogJ2FkZCB0aGlzIHBhcmFtIGlmIHlvdSB1c2Ugc2VjTWluTGVuZ3RoIGRpcmVjdGl2ZScsIFxuIiArCiAgICAgICAgICAgICIgICBtYXg6ICdhZGQgdGhpcyBwYXJhbSBpZiB5b3UgdXNlIHNlY01heExlbmd0aCBkaXJlY3RpdmUnLCBcbiIgKwogICAgICAgICAgICAiICAgcmVnZXg6ICdhZGQgdGhpcyBwYXJhbSBpZiB5b3UgdXNlIHNlY1BhdHRlcm4gZGlyZWN0aXZlJywgXG4iICsKICAgICAgICAgICAgIiAgIG1vZGVsOiAnYWRkIHRoaXMgcGFyYW0gaWYgeW91IHVzZSBzZWNDb21wYXJlVG8gZGlyZWN0aXZlLCBtb2RlbCBoYXZlIHRvIHBhc3Mgc2VjTW9kZWxDb21wYXJlVG8gbW9kZWwgdG8gY29tcGFyZScsIFxuIiArCiAgICAgICAgICAgICJ9XG4iICsKICAgICAgICAgICAgIlxuWW91IG9iamVjdCBpczogIiArIEpTT04uc3RyaW5naWZ5KG9iaikgKyAiXG5cblxuXG4iOwoKICAgICAgICAgICAgLy9nZXQtZm9ybS12YWxpZGF0aW9uLXdoZW4tcmVhZHkKICAgICAgICAgICAgLy9hLWhpbnQ6IHBhc3MgdGhpcyB0ZXh0IGhhcyBhIHRleHQgLAoKICAgICAgICAgICAgLy8iICAgYS10eXBlOiAnYWRkIHRoaXMgcGFyYW0gaWYgeW91IHdvbnQgdG8gZGlzcGxheSBhIGRpZmZlcmVudCBjb250cm9sOicsIFxuIiArCiAgICAgICAgICAgIC8vIiAgICAgICAgIHNlbGVjdDogJ3RvIHNob3cgYSBzZWxlY3QgZGVzaWduIChyZXF1aXJlZCBkaXJlY3RpdmVzIHRvIHRoaXMgdHlwZTogc2VjLXNlbGVjdC1vcHRpb25zLCBhLXNob3cgKScsIFxuIiArCgogICAgICAgICAgICAvL3NlYy1zZWxlY3Qtb3B0aW9ucwogICAgICAgICAgICAvL2Etc2hvdwogICAgICAgICAgICAvL2Etc3RhcgoKICAgICAgICAgICAgLy9zZWNNb2RlbDogJz0nLAogICAgICAgICAgICAvL3NlY1JlcXVpcmU6ICc9JywKICAgICAgICAgICAgLy9zZWNNaW5MZW5ndGg6ICc9JywKICAgICAgICAgICAgLy9zZWNNYXhMZW5ndGg6ICc9JywKICAgICAgICAgICAgLy9zZWNQYXR0ZXJuOiAnPScsCiAgICAgICAgICAgIC8vCiAgICAgICAgICAgIC8vc2VjQ29tcGFyZVRvOiAnPScsCiAgICAgICAgICAgIC8vc2VjTW9kZWxDb21wYXJlVG86ICc9JywKICAgICAgICAgICAgLy8KICAgICAgICAgICAgLy9zZWMtc2VuZDogJyYnLAogICAgICAgIH0KCiAgICAgICAgdmFyIEtleXMgPSB7CiAgICAgICAgICAgIHNlY1JlcXVpcmVkOiAwLAogICAgICAgICAgICBzZWNNaW5MZW5ndGg6IDEsCiAgICAgICAgICAgIHNlY01heExlbmd0aDogMiwKICAgICAgICAgICAgc2VjUGF0dGVybjogMywKICAgICAgICAgICAgc2VjQ29tcGFyZVRvOiA0CiAgICAgICAgfTsKCiAgICAgICAgdmFyIFR5cGVzID0gewogICAgICAgICAgICB0ZXh0OiAidGV4dCIsCiAgICAgICAgICAgIHRleHRhcmVhOiAidGV4dGFyZWEiLAogICAgICAgICAgICBzZWxlY3Q6ICJzZWxlY3QiLAogICAgICAgICAgICBwYXNzd29yZDogInBhc3N3b3JkIiwKICAgICAgICAgICAgY3JlZGl0Q2FyZDogImNyZWRpdENhcmQiLAogICAgICAgICAgICBjY3ZOdW1iZXI6ICJjY3ZOdW1iZXIiLAogICAgICAgICAgICBjaGVja2JveDogImNoZWNrYm94IgogICAgICAgIH07CgogICAgICAgIHZhciBpbnZhbGlkID0gImludmFsaWQiOwogICAgICAgIHZhciBhbmltYXRlZCA9ICJhbmltYXRlZCI7CiAgICAgICAgdmFyIGluX2ZvY3VzID0gImluLWZvY3VzIjsKICAgICAgICB2YXIgaGlkZGVuID0gImhpZGRlbiI7CiAgICAgICAgdmFyIGRpc3BsYXllZCA9ICJkaXNwbGF5ZWQiOwogICAgICAgIHZhciBzZWxlY3RfdmFsdWUgPSAic2VsZWN0LXZhbHVlIjsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICByZXN0cmljdDogJ0UnLAogICAgICAgICAgICByZXF1aXJlOiBbJ3NlY1ZpZXcnLCAnXnNlY0Zvcm0nXSwKICAgICAgICAgICAgc2NvcGU6IHsKICAgICAgICAgICAgICAgIHNlY01vZGVsOiAnPScsCiAgICAgICAgICAgICAgICBzZWNSZXF1aXJlOiAnPScsCiAgICAgICAgICAgICAgICBzZWNNaW5MZW5ndGg6ICc9JywKICAgICAgICAgICAgICAgIHNlY01heExlbmd0aDogJz0nLAogICAgICAgICAgICAgICAgc2VjUGF0dGVybjogJz0nLAogICAgICAgICAgICAgICAgc2VjU2VsZWN0T3B0aW9uczogJz0nLAogICAgICAgICAgICAgICAgc2VjRGlzYWJsZVZhbGlkYXRpb246ICc9JywKICAgICAgICAgICAgICAgIHNlY0NhcmROdW1iZXI6ICI9IiwKCiAgICAgICAgICAgICAgICBzZWNDb21wYXJlVG86ICc9JywKICAgICAgICAgICAgICAgIHNlY01vZGVsQ29tcGFyZVRvOiAnPScsCgogICAgICAgICAgICAgICAgc2VjSXNWYWxpZDogJyYnLAogICAgICAgICAgICAgICAgc2VjU2VsZWN0Q2hhbmdlOiAnJicKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY29udHJvbGxlcjogWyIkc2NvcGUiLCBmdW5jdGlvbiAocykgewoKICAgICAgICAgICAgICAgIHZhciBpZDsKICAgICAgICAgICAgICAgIHZhciBpbnB1dDsKICAgICAgICAgICAgICAgIHZhciBsYWJlbDsKICAgICAgICAgICAgICAgIHZhciBpc0ZpZWxkVmFsaWQ7CiAgICAgICAgICAgICAgICB2YXIgaGludDsKICAgICAgICAgICAgICAgIHZhciB1bDsKICAgICAgICAgICAgICAgIHZhciBmb3JtOwogICAgICAgICAgICAgICAgdmFyIGRvTm90U2hvd0luZm8gPSBmYWxzZTsKICAgICAgICAgICAgICAgIHZhciBkaXNhYmxlVmFsaWRhdGlvbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgdmFyIGlzQ2FyZE51bWJlciA9IGZhbHNlOwogICAgICAgICAgICAgICAgdmFyIGN0cmwgPSB0aGlzOwogICAgICAgICAgICAgICAgdmFyIHN0YXRpY2xhYmVsOwoKICAgICAgICAgICAgICAgIGN0cmwuY29tcGFyZVRvOwogICAgICAgICAgICAgICAgcy52YWxpZGF0aW9ucyA9IFtdOwogICAgICAgICAgICAgICAgJCgnI2NyZWRpdENhcmQnKS5vbigna2V5dXAnLCBmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gJCh0aGlzKS52YWwoKTsKICAgICAgICAgICAgICAgICAgICB2YXIgbmV3dmFsID0gJyc7CiAgICAgICAgICAgICAgICAgICAgdmFsID0gdmFsLnJlcGxhY2UoL1xzL2csICcnKTsKICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaSA8IHZhbC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICBpZihpJTQgPT0gMCAmJiBpID4gMCkgbmV3dmFsID0gbmV3dmFsLmNvbmNhdCgnICcpOwogICAgICAgICAgICAgICAgICAgICAgICBuZXd2YWwgPSBuZXd2YWwuY29uY2F0KHZhbFtpXSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICQodGhpcykudmFsKG5ld3ZhbCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjdHJsLmdldExpc3RWYWxpZGF0aW9ucyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbGkgPSAiIjsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHMudmFsaWRhdGlvbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbGlkYXRpb24gPSBzLnZhbGlkYXRpb25zW2ldOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGlvbi5pbmZvICYmIHZhbGlkYXRpb24uaW5mbyAhPSAiIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGkgKz0gIjxsaT48YT4iICsgdmFsaWRhdGlvbi5pbmZvICsgIiA8L2E+PC9saT4iCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaSArPSAiPGxpIHN0eWxlPSdkaXNwbGF5OiBibG9jazsgcG9zaXRpb246IGFic29sdXRlOyBoZWlnaHQ6IDAnPjxhPjwvYT48L2xpPiIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGk7CiAgICAgICAgICAgICAgICB9OwoKCiAgICAgICAgICAgICAgICBjdHJsLnNldENvbXBhcmVUbyA9IGZ1bmN0aW9uIChfY29tcGFyZVRvKSB7CiAgICAgICAgICAgICAgICAgICAgY3RybC5jb21wYXJlVG8gPSBfY29tcGFyZVRvOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICB2YXIgc2VjU2VsZWN0Q2hhbmdlOwogICAgICAgICAgICAgICAgY3RybC5zZXRTZWNTZWxlY3RDaGFuZ2UgPSBmdW5jdGlvbiAoX3NlY1NlbGVjdENoYW5nZSkgewogICAgICAgICAgICAgICAgICAgIHNlY1NlbGVjdENoYW5nZSA9IF9zZWNTZWxlY3RDaGFuZ2U7CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIHZhciBzZWNyZXRGaWVsZDsKICAgICAgICAgICAgICAgIGN0cmwuc2V0U2VjcmV0RmllbGQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgc2VjcmV0RmllbGQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGlmKHMuc2VjTW9kZWwubGVuZ3RoID09IDEyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LnBhcmVudCgpLmFkZENsYXNzKCdjYXJkLW51bWJlci1mb3VyLXN0YXInKTsKICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQudmFsKCIqKioqKioqKiIgKyBzLnNlY01vZGVsLnN1YnN0cmluZyg4KSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmKHMuc2VjTW9kZWwubGVuZ3RoID09IDMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQudmFsKCIqKioiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy9pbnB1dC5hdHRyKCJ0eXBlIiwgInBhc3N3b3JkIik7CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGN0cmwucmVtb3ZlU2VjcmV0RmllbGQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgaWYoc2VjcmV0RmllbGQpewogICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5wYXJlbnQoKS5yZW1vdmVDbGFzcygnY2FyZC1udW1iZXItZm91ci1zdGFyJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlY3JldEZpZWxkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjcmVkaXRDYXJkIikudmFsdWUubGVuZ3RoID4gMSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnNlY01vZGVsID0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih3aW5kb3cubG9jYXRpb24uaHJlZi50b1N0cmluZygpLmluY2x1ZGVzKCJhY2NvdW50UGF5bWVudEVkaXQiKSl7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCJjdnZfbnVtYmVyIikuaXRlbSgwKS5zZXRBdHRyaWJ1dGUoIm1heGxlbmd0aCIsIDMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKCgogICAgICAgICAgICAgICAgY3RybC5zZXREb05vdFNob3dJbmZvID0gZnVuY3Rpb24gKF9kb05vdFNob3dJbmZvKSB7CiAgICAgICAgICAgICAgICAgICAgZG9Ob3RTaG93SW5mbyA9IF9kb05vdFNob3dJbmZvOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBjdHJsLnNldENhcmROdW1iZXJGb3VyRGlnaXRzID0gZnVuY3Rpb24gKF9DYXJkTnVtYmVyRm91ckRpZ2l0cykgewogICAgICAgICAgICAgICAgICAgIGlzQ2FyZE51bWJlciA9IF9DYXJkTnVtYmVyRm91ckRpZ2l0czsKICAgICAgICAgICAgICAgIH07CgoKICAgICAgICAgICAgICAgIGN0cmwuc2V0RGlzYWJsZVZhbGlkYXRpb24gPSBmdW5jdGlvbiAoX2Rpc2FibGVWYWxpZGF0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVZhbGlkYXRpb24gPSBfZGlzYWJsZVZhbGlkYXRpb24gPT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfZGlzYWJsZVZhbGlkYXRpb247CiAgICAgICAgICAgICAgICAgICAgY3RybC5jaGFuZ2UoaW5wdXQudmFsKCkpOwogICAgICAgICAgICAgICAgfTsKCgogICAgICAgICAgICAgICAgY3RybC5wdXNoVmFsaWRhdGlvbiA9IGZ1bmN0aW9uICh2YWxpZGF0aW9uLCBrZXkpIHsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb24uZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbi5rZXkgPSBrZXk7CiAgICAgICAgICAgICAgICAgICAgICAgIHMudmFsaWRhdGlvbnMucHVzaCh2YWxpZGF0aW9uKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsaWRhdGlvbi5yZWdleGVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHJlZ2V4SW5kZXggPSAwOyByZWdleEluZGV4IDwgdmFsaWRhdGlvbi5yZWdleGVzLmxlbmd0aDsgcmVnZXhJbmRleCsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVnZXhmb3JtYXQgPSB2YWxpZGF0aW9uLnJlZ2V4ZXNbcmVnZXhJbmRleF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdleGZvcm1hdC5rZXkgPSBrZXk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnZhbGlkYXRpb25zLnB1c2gocmVnZXhmb3JtYXQpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICB2YXIgZmlyc3RMb2FkZXIgPSB0cnVlOwogICAgICAgICAgICAgICAgY3RybC5tb2RlbENvbXBhcmVUb0NoYW5nZSA9IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIWZpcnN0TG9hZGVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsKyIiKS50cmltKCkgPT0gIiIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBjdHJsLmNvbXBhcmVUby52YWwodmFsKTsKICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5jaGFuZ2UoaW5wdXQudmFsKCkpOwogICAgICAgICAgICAgICAgICAgICAgICBjdHJsLmJsdXIoaW5wdXQudmFsKCkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBmaXJzdExvYWRlciA9IGZhbHNlOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRMaXN0OwogICAgICAgICAgICAgICAgY3RybC5maWxsU2VsZWN0ID0gZnVuY3Rpb24gKGFyciwgbmFtZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChhcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGlzdCA9IGFycjsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdExpc3QgPSBjdHJsLmdldFNlbGVjdGxpc3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0TGlzdC5lbXB0eSgpOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBzZWxlY3RlZExpc3RbaV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BhbjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BhbiA9ICQoIjxzcGFuIGRhdGEtbmctY2xpY2s9J3NlbGVjdEl0ZW1DaGFuZ2VNb2RlbCgiICsgaSArICIpJyIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiIGRhdGEtbmctbW91c2VlbnRlcj0nc2VsZWN0SXRlbU1vdXNlSW4oKScgZGF0YS1uZy1tb3VzZWxlYXZlPSdzZWxlY3RJdGVtTW91c2VPdXQoKSc+IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGl0ZW1bbmFtZV0gKyAiPC9zcGFuPiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BhbiA9ICQoIjxzcGFuIGRhdGEtbmctY2xpY2s9J3NlbGVjdEl0ZW1DaGFuZ2VNb2RlbCgiICsgaSArICIpJyIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiIGRhdGEtbmctbW91c2VlbnRlcj0nc2VsZWN0SXRlbU1vdXNlSW4oKScgZGF0YS1uZy1tb3VzZW91dD0nc2VsZWN0SXRlbU1vdXNlT3V0KCknPiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBpdGVtICsgIjwvc3Bhbj4iKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLnNlY01vZGVsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuc2VjTW9kZWwgKyAiIiA9PSBpdGVtICsgIiIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb21waWxlKHNwYW4pKHMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0TGlzdC5hcHBlbmQoc3Bhbik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmb3VuZCAmJiBzLnNlY01vZGVsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnNlY01vZGVsID0gYXJyWzBdOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBzLnNlbGVjdEl0ZW1DaGFuZ2VNb2RlbCA9IGZ1bmN0aW9uIChpbmRleCkgewoKICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaWRhdGlvbiA9IHNlbGVjdGVkTGlzdFtpbmRleF07CiAgICAgICAgICAgICAgICAgICAgaWYgKCFsYWJlbC5oYXNDbGFzcyhhbmltYXRlZCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwuYWRkQ2xhc3MoYW5pbWF0ZWQpOwogICAgICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnNlY01vZGVsID0gdmFsaWRhdGlvbjsKICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuc2VjTW9kZWwgPT0gdmFsaWRhdGlvbikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5nZXRTZWxlY3RsaXN0KCkuZmFkZU91dCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5zZWNNb2RlbCA9IHZhbGlkYXRpb247CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHNlY1NlbGVjdENoYW5nZSkgewogICAgICAgICAgICAgICAgICAgICAgICBzZWNTZWxlY3RDaGFuZ2Uoe3ZhbHVlOiB2YWxpZGF0aW9ufSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBzLnNlbGVjdEl0ZW1Nb3VzZUluID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGlmIChfX19fX3NlbGVjdEl0ZW1Nb3VzZU91dCkgewogICAgICAgICAgICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwoX19fX19zZWxlY3RJdGVtTW91c2VPdXQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgdmFyIF9fX19fc2VsZWN0SXRlbU1vdXNlT3V0OwogICAgICAgICAgICAgICAgcy5zZWxlY3RJdGVtTW91c2VPdXQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdExpc3QgPSBjdHJsLmdldFNlbGVjdGxpc3QoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0TGlzdC5jc3MoImRpc3BsYXkiKSAhPSAibm9uZSIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX19fX19zZWxlY3RJdGVtTW91c2VPdXQgPSAkdGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHJsLmdldFNlbGVjdGxpc3QoKS5mYWRlT3V0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEyMDApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgY3RybC5jaGFuZ2UgPSBmdW5jdGlvbiAodmFsKSB7CgogICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPT0gdW5kZWZpbmVkIHx8IHMuc2VjTW9kZWwgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT0gJ3N0cmluZycgJiYgdHlwZW9mIHMuc2VjTW9kZWwgPT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAocy5zZWNNb2RlbCAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gcy5zZWNNb2RlbDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHZhciB2YWxpZDsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzYWJsZVZhbGlkYXRpb24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ2hlY2tib3hEZXNpZ24oKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBjaGVja0NoZWNrYm94VmFsaWRhdGlvbnMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVRleHRDaGVja2JveFZhbGlkYXRpb25zKHZhbGlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1NlbGVjdGVkRGVzaWduKCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gY2hlY2tTZWxlY3RWYWxpZGF0aW9ucyh2YWwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkKGxhYmVsKS5oYXNDbGFzcyhhbmltYXRlZCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChsYWJlbCkuYWRkQ2xhc3MoYW5pbWF0ZWQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gcy52YWxpZGF0aW9ucy5sZW5ndGggPT0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWNTZWxlY3RDaGFuZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNTZWxlY3RDaGFuZ2Uoe3ZhbHVlIDogdmFsfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHZhbCsiIikudHJpbSgpID09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy52YWxpZGF0aW9ucy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChzLnNlY01vZGVsKyIiKS50cmltKCkgPT0gJycgJiYgaW5wdXQuaGFzQ2xhc3MoaW5fZm9jdXMpICYmICFkb05vdFNob3dJbmZvKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVsLmZpbmQoJ2xpJykuc2xpZGVEb3duKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlucHV0Lmhhc0NsYXNzKGluX2ZvY3VzKSAmJiBsYWJlbC5oYXNDbGFzcyhhbmltYXRlZCkgJiYgcy5zZWNNb2RlbCA9PSAiIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsLnJlbW92ZUNsYXNzKGFuaW1hdGVkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNDYXJkTnVtYmVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNhcmROdW1iZXJGb3VyRGlnaXRzKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGdldFZhbGlkYXRpb24oZmFsc2UpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkKGxhYmVsKS5oYXNDbGFzcyhhbmltYXRlZCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGxhYmVsKS5hZGRDbGFzcyhhbmltYXRlZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ2FyZE51bWJlcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRDYXJkTnVtYmVyRm91ckRpZ2l0cygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBjaGVja1ZpZXdWYWxpZGF0aW9ucygpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CgogICAgICAgICAgICAgICAgICAgICAgICBmb3JtLnVwZGF0ZVN0YXRlKGlkLCB2YWxpZCwgaGludCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjaGVja1NlbGVjdFZhbGlkYXRpb25zKHZhbCkgewoKICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PSAib2JqZWN0IikgewogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfcHJvcGVydHkgaW4gdmFsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsLmhhc093blByb3BlcnR5KF9wcm9wZXJ0eSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWwgIT0gIiIgJiYgdmFsICE9IG51bGwgJiYgdmFsICE9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjdHJsLmJsdXIgPSBmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA9PSB1bmRlZmluZWQgfHwgKHZhbCsiIikudHJpbSgpID09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWwrIiIpLnRyaW0oKSA9PSAiIikgewogICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNsYWJlbC5hZGRDbGFzcyhkaXNwbGF5ZWQpOwogICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNsYWJlbC5yZW1vdmVDbGFzcyhoaWRkZW4pOwogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC5yZW1vdmVDbGFzcyhhbmltYXRlZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0NhcmROdW1iZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNhcmROdW1iZXJGb3VyRGlnaXRzKCkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNsYWJlbC5hZGRDbGFzcyhoaWRkZW4pOwogICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNsYWJlbC5yZW1vdmVDbGFzcyhkaXNwbGF5ZWQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaWQgPSBnZXRWYWxpZGF0aW9uKHRydWUpOwogICAgICAgICAgICAgICAgICAgIGlmIChpc0ZpZWxkVmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaXNGaWVsZFZhbGlkKHt2YWxpZDogdmFsaWR9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdWwuZmluZCgnbGknKS5zbGlkZVVwKCk7CiAgICAgICAgICAgICAgICAgICAgaW5wdXQucmVtb3ZlQ2xhc3MoaW5fZm9jdXMpOwogICAgICAgICAgICAgICAgfTsKCgogICAgICAgICAgICAgICAgY3RybC5mb2N1cyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBsYWJlbC5hZGRDbGFzcyhhbmltYXRlZCk7CiAgICAgICAgICAgICAgICAgICAgaW5wdXQuYWRkQ2xhc3MoaW5fZm9jdXMpOwogICAgICAgICAgICAgICAgICAgIHN0YXRpY2xhYmVsLmFkZENsYXNzKGhpZGRlbik7CiAgICAgICAgICAgICAgICAgICAgc3RhdGljbGFiZWwucmVtb3ZlQ2xhc3MoZGlzcGxheWVkKTsKICAgICAgICAgICAgICAgICAgICBpZiAoaXNDYXJkTnVtYmVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFkZENhcmROdW1iZXJGb3VyRGlnaXRzKCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY3RybC5jaGFuZ2Uocy5zZWNNb2RlbCk7CiAgICAgICAgICAgICAgICAgICAgc2V0Tm9ybWFsSGludCgpOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBhZGRDYXJkTnVtYmVyRm91ckRpZ2l0cygpIHsKICAgICAgICAgICAgICAgICAgICBpbnB1dC5wYXJlbnQoKS5hZGRDbGFzcygnY2FyZC1udW1iZXItZm91ci1kaWdpdHMnKTsKICAgICAgICAgICAgICAgICAgICBpbnB1dC5hZGRDbGFzcygnY2FyZC1udW1iZXItZm91ci1kaWdpdHMnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmdW5jdGlvbiByZW1vdmVDYXJkTnVtYmVyRm91ckRpZ2l0cygpIHsKICAgICAgICAgICAgICAgICAgICBpbnB1dC5wYXJlbnQoKS5yZW1vdmVDbGFzcygnY2FyZC1udW1iZXItZm91ci1kaWdpdHMnKTsKICAgICAgICAgICAgICAgICAgICBpbnB1dC5yZW1vdmVDbGFzcygnY2FyZC1udW1iZXItZm91ci1kaWdpdHMnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjdHJsLmdldFNlbGVjdGxpc3QgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0LmZpbmQoIi5zZWxlY3RMaXN0Iik7CiAgICAgICAgICAgICAgICB9OwoKCiAgICAgICAgICAgICAgICBzLmxhYmVsQ2xpY2tlZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBmb3JtLnNldFRvTGF0ZVRvQ2hlY2soKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU2VsZWN0ZWREZXNpZ24oKSkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRMaXN0ID0gY3RybC5nZXRTZWxlY3RsaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZExpc3QuY2hpbGRyZW4oKS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExpc3QuZmFkZVRvZ2dsZSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ2hlY2tib3hEZXNpZ24oKSkgewogICAgICAgICAgICAgICAgICAgICAgICBzLnNlY01vZGVsID0gIXMuc2VjTW9kZWw7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCFsYWJlbC5oYXNDbGFzcyhhbmltYXRlZCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQuZm9jdXMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5mb2N1cygpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CgoKICAgICAgICAgICAgICAgIHMubGFiZWxPdXQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgX19fX19zZWxlY3RJdGVtTW91c2VPdXQgPSAkdGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaXN0ID0gY3RybC5nZXRTZWxlY3RsaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaXN0LmNzcygiZGlzcGxheSIpICE9ICJub25lIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5mYWRlT3V0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCAzMDAwKTsKICAgICAgICAgICAgICAgIH07CgoKICAgICAgICAgICAgICAgIGN0cmwuc2V0SXRlbXMgPSBmdW5jdGlvbiAoX2lucHV0LCBfbGFiZWwsIF91bCwgX2Zvcm0sIF9pZCwgX3N0YXRpY0xhYmVsKSB7CgogICAgICAgICAgICAgICAgICAgIGlkID0gX2lkOwogICAgICAgICAgICAgICAgICAgIGlucHV0ID0gX2lucHV0OwogICAgICAgICAgICAgICAgICAgIGxhYmVsID0gX2xhYmVsOwogICAgICAgICAgICAgICAgICAgIHN0YXRpY2xhYmVsID0gX3N0YXRpY0xhYmVsOwogICAgICAgICAgICAgICAgICAgIHVsID0gX3VsOwogICAgICAgICAgICAgICAgICAgIGhpbnQgPSBsYWJlbC50ZXh0KCk7CiAgICAgICAgICAgICAgICAgICAgZm9ybSA9IF9mb3JtOwoKICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaWQ7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc2FibGVWYWxpZGF0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0NoZWNrYm94RGVzaWduKCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gY2hlY2tDaGVja2JveFZhbGlkYXRpb25zKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNTZWxlY3RlZERlc2lnbigpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IHMudmFsaWRhdGlvbnMubGVuZ3RoID09IDAgPyB0cnVlIDogY2hlY2tTZWxlY3RWYWxpZGF0aW9ucygpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBjaGVja1ZpZXdWYWxpZGF0aW9ucygpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGZvcm0ubm90aWZ5V2F0Y2hlcihpZCwgdmFsaWQpOwoKCiAgICAgICAgICAgICAgICAgICAgaW5wdXQub24oewogICAgICAgICAgICAgICAgICAgICAgICBibHVyOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzU2VsZWN0ZWREZXNpZ24oKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwuYmx1cihzLnNlY01vZGVsKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXM6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1NlbGVjdGVkRGVzaWduKCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtLmNoYW5nZUFsbG93VG9DaGFuZ2VJbnZhbGlkQ2xhc3MoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0uc2V0VG9MYXRlVG9DaGVjaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5mb2N1cygpOwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBrZXlkb3duOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtLmNoYW5nZUFsbG93VG9DaGFuZ2VJbnZhbGlkQ2xhc3MoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfTsKCgogICAgICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlVGV4dENoZWNrYm94VmFsaWRhdGlvbnModmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAocy52YWxpZGF0aW9uc1swXS5kb250Q2hhbmdlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsLnRleHQocy52YWxpZGF0aW9uc1swXS5pbmZvKTsKICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwucmVtb3ZlQ2xhc3MoaW52YWxpZCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC50ZXh0KHMudmFsaWRhdGlvbnNbMF0uZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC5hZGRDbGFzcyhpbnZhbGlkKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2tDaGVja2JveFZhbGlkYXRpb25zKCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBzLnNlY01vZGVsID09IHRydWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0VmFsaWRhdGlvbihjaGFuZ2VIaW50KSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbGlkYXRpb24gPSBudWxsOwogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcy52YWxpZGF0aW9ucy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbiA9IHMudmFsaWRhdGlvbnNbaV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHZhbGlkYXRpb24ua2V5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBLZXlzLnNlY1JlcXVpcmVkOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHMuc2VjTW9kZWwrIiIpLnRyaW0oKSA9PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5nZUhpbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2V0SW52YWxpZFRleHRUb1Nob3codmFsaWRhdGlvbi5lcnJvcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBLZXlzLnNlY01pbkxlbmd0aDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuc2VjTW9kZWwubGVuZ3RoIDwgdmFsaWRhdGlvbi5taW4gJiYgKHMuc2VjTW9kZWwgKyAiIikubGVuZ3RoICE9IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VIaW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldEludmFsaWRUZXh0VG9TaG93KHZhbGlkYXRpb24uZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgS2V5cy5zZWNNYXhMZW5ndGg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLnNlY01vZGVsLmxlbmd0aCA+IHZhbGlkYXRpb24ubWF4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbmdlSGludCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXRJbnZhbGlkVGV4dFRvU2hvdyh2YWxpZGF0aW9uLmVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEtleXMuc2VjUGF0dGVybjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEobmV3IFJlZ0V4cCh2YWxpZGF0aW9uLnJlZ2V4KS50ZXN0KHMuc2VjTW9kZWwpKSAmJiAoaW5wdXQudmFsKCkpLmxlbmd0aCAhPSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbmdlSGludCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXRJbnZhbGlkVGV4dFRvU2hvdyh2YWxpZGF0aW9uLmVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEtleXMuc2VjQ29tcGFyZVRvOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3RybC5jb21wYXJlVG8udmFsKCkgIT0gcy5zZWNNb2RlbCAmJiBjdHJsLmNvbXBhcmVUby52YWwoKSAhPSAiIikgeyAvLyAmJiBpbnB1dC52YWwoKSAhPSAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldEludmFsaWRUZXh0VG9TaG93KHZhbGlkYXRpb24uZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgS2V5cy5zZWNDYXJkTnVtYmVyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmICghKHMuc2VjTW9kZWwubGVuZ3RoID09IHZhbGlkYXRpb24uZXhhY3RseSAtIDQgJiYgKGlucHV0LnZhbCgpIC0gMCkgPT0gaW5wdXQudmFsKCkgJiYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pbnB1dC52YWwoKS5pbmRleE9mKCctJykgPT0gLTEgJiYgIGlucHV0LnZhbCgpLmluZGV4T2YoJysnKSA9PSAtMSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyaW1tZWRTZWNNb2RlbCA9IHMuc2VjTW9kZWwucmVwbGFjZSgvXHMvZywnJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKG5ldyBSZWdFeHAodmFsaWRhdGlvbi5yZWdleCkudGVzdCh0cmltbWVkU2VjTW9kZWwpICYmIHRyaW1tZWRTZWNNb2RlbC5sZW5ndGggPT0gdmFsaWRhdGlvbi5leGFjdGx5IC0gNCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VIaW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldEludmFsaWRUZXh0VG9TaG93KHZhbGlkYXRpb24uZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHNldE5vcm1hbEhpbnQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aHJvd0ludmFsaWRPYmplY3RGb3JtYXQodmFsaWRhdGlvbik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrVmlld1ZhbGlkYXRpb25zKCkgewogICAgICAgICAgICAgICAgICAgIHZhciB2YWxpZGF0aW9uID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaWRJbnB1dCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgaWYgKHMuc2VjTW9kZWwpIHsKCiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHMudmFsaWRhdGlvbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uID0gcy52YWxpZGF0aW9uc1tpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHZhbGlkYXRpb24ua2V5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgS2V5cy5zZWNSZXF1aXJlZDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgocy5zZWNNb2RlbCsiIikudHJpbSgpID09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1ZhbGlkYXRpb24oaSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZVZhbGlkYXRpb24oaSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEtleXMuc2VjTWluTGVuZ3RoOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuc2VjTW9kZWwubGVuZ3RoIDwgdmFsaWRhdGlvbi5taW4gJiYgKHMuc2VjTW9kZWwgKyAiIikubGVuZ3RoICE9IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VmFsaWRhdGlvbihpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlVmFsaWRhdGlvbihpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEtleXMuc2VjTWF4TGVuZ3RoOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuc2VjTW9kZWwubGVuZ3RoID4gdmFsaWRhdGlvbi5tYXgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VmFsaWRhdGlvbihpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlVmFsaWRhdGlvbihpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgS2V5cy5zZWNQYXR0ZXJuOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEobmV3IFJlZ0V4cCh2YWxpZGF0aW9uLnJlZ2V4KS50ZXN0KHMuc2VjTW9kZWwpKSAmJiAoaW5wdXQudmFsKCkpLmxlbmd0aCAhPSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1ZhbGlkYXRpb24oaSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZVZhbGlkYXRpb24oaSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBLZXlzLnNlY0NvbXBhcmVUbzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdHJsLmNvbXBhcmVUby52YWwoKSAhPSBzLnNlY01vZGVsICYmIGN0cmwuY29tcGFyZVRvLnZhbCgpICE9ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1ZhbGlkYXRpb24oaSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZVZhbGlkYXRpb24oaSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBLZXlzLnNlY0NhcmROdW1iZXI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJpbW1lZFNlY01vZGVsID0gcy5zZWNNb2RlbC5yZXBsYWNlKC9ccy9nLCcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKG5ldyBSZWdFeHAodmFsaWRhdGlvbi5yZWdleCkudGVzdCh0cmltbWVkU2VjTW9kZWwpICYmIHRyaW1tZWRTZWNNb2RlbC5sZW5ndGggPT0gdmFsaWRhdGlvbi5leGFjdGx5IC0gNCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VmFsaWRhdGlvbihpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlVmFsaWRhdGlvbihpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCgogICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvd0ludmFsaWRPYmplY3RGb3JtYXQodmFsaWRhdGlvbiwgZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbGlkSW5wdXQ7CgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGhpZGVWYWxpZGF0aW9uKGluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgdWwuZmluZCgibGk6bnRoLWNoaWxkKCIgKyAoaW5kZXggKyAxKSArICIpIikuc2xpZGVVcCgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNob3dWYWxpZGF0aW9uKGluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0Lmhhc0NsYXNzKGluX2ZvY3VzKSAmJiAhZG9Ob3RTaG93SW5mbykgewogICAgICAgICAgICAgICAgICAgICAgICB1bC5maW5kKCJsaTpudGgtY2hpbGQoIiArIChpbmRleCArIDEpICsgIikiKS5zbGlkZURvd24oKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZnVuY3Rpb24gc2V0Tm9ybWFsSGludCgpIHsKICAgICAgICAgICAgICAgICAgICBpbnB1dC5yZW1vdmVDbGFzcyhpbnZhbGlkKTsKICAgICAgICAgICAgICAgICAgICBsYWJlbC5yZW1vdmVDbGFzcyhpbnZhbGlkKTsKICAgICAgICAgICAgICAgICAgICBsYWJlbC50ZXh0KGhpbnQpCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZnVuY3Rpb24gc2V0SW52YWxpZFRleHRUb1Nob3coZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBsYWJlbC50ZXh0KGVycm9yKTsKICAgICAgICAgICAgICAgICAgICBsYWJlbC5hZGRDbGFzcyhpbnZhbGlkKTsKICAgICAgICAgICAgICAgICAgICBpbnB1dC5hZGRDbGFzcyhpbnZhbGlkKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZnVuY3Rpb24gaXNTZWxlY3RlZERlc2lnbigpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXQucHJvcCgidGFnTmFtZSIpLnRvTG93ZXJDYXNlKCkgPT0gInNlbGVjdCIKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBpc0NoZWNrYm94RGVzaWduKCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dC5hdHRyKCJ0eXBlIikgPT0gVHlwZXMuY2hlY2tib3g7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICB9XSwKCiAgICAgICAgICAgIGxpbms6IHsKCiAgICAgICAgICAgICAgICBwcmU6IGZ1bmN0aW9uIChzLCBlLCBhLCBjdHJscykgewoKICAgICAgICAgICAgICAgICAgICB2YXIgY3RybCA9IGN0cmxzWzBdOwogICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dFR5cGVOYW1lID0gIiI7CiAgICAgICAgICAgICAgICAgICAgZS5hZGRDbGFzcygic2VjLXZpZXciKTsKCiAgICAgICAgICAgICAgICAgICAgcy4kd2F0Y2goJ3NlY01vZGVsJywgZnVuY3Rpb24gKG4sIG8pIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5yZW1vdmVTZWNyZXRGaWVsZCgpOwogICAgICAgICAgICAgICAgICAgICAgICBjdHJsLmNoYW5nZShuKTsKICAgICAgICAgICAgICAgICAgICB9LCB0cnVlKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHMuc2VjUmVxdWlyZSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYS5hRG9udENoYW5nZSA9PSAidHJ1ZSIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gSlNPTi5wYXJzZShzLnNlY1JlcXVpcmUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5kb250Q2hhbmdlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwucHVzaFZhbGlkYXRpb24odGVtcCwgS2V5cy5zZWNSZXF1aXJlZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHJsLnB1c2hWYWxpZGF0aW9uKEpTT04ucGFyc2Uocy5zZWNSZXF1aXJlKSwgS2V5cy5zZWNSZXF1aXJlZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHMuc2VjTWluTGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwucHVzaFZhbGlkYXRpb24oSlNPTi5wYXJzZShzLnNlY01pbkxlbmd0aCksIEtleXMuc2VjTWluTGVuZ3RoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHMuc2VjTWF4TGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwucHVzaFZhbGlkYXRpb24oSlNPTi5wYXJzZShzLnNlY01heExlbmd0aCksIEtleXMuc2VjTWF4TGVuZ3RoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHMuc2VjUGF0dGVybikgewogICAgICAgICAgICAgICAgICAgICAgICBjdHJsLnB1c2hWYWxpZGF0aW9uKEpTT04ucGFyc2Uocy5zZWNQYXR0ZXJuKSwgS2V5cy5zZWNQYXR0ZXJuKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGEuYURvTm90U2hvd0luZm8gPT0gJ3RydWUnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwuc2V0RG9Ob3RTaG93SW5mbyh0cnVlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHMuc2VjQ2FyZE51bWJlcikgewogICAgICAgICAgICAgICAgICAgICAgICBjdHJsLnNldENhcmROdW1iZXJGb3VyRGlnaXRzKHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICBjdHJsLnB1c2hWYWxpZGF0aW9uKEpTT04ucGFyc2Uocy5zZWNDYXJkTnVtYmVyKSwgS2V5cy5zZWNDYXJkTnVtYmVyKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHMuc2VjU2VsZWN0Q2hhbmdlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwuc2V0U2VjU2VsZWN0Q2hhbmdlKHMuc2VjU2VsZWN0Q2hhbmdlKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZihhLnNlY05hbWUpewogICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFR5cGVOYW1lID0gYS5zZWNOYW1lOwogICAgICAgICAgICAgICAgICAgIH0KCgogICAgICAgICAgICAgICAgICAgIHMuJHdhdGNoKCdzZWNEaXNhYmxlVmFsaWRhdGlvbiAnLCBmdW5jdGlvbiAobiwgbykgewogICAgICAgICAgICAgICAgICAgICAgICBjdHJsLnNldERpc2FibGVWYWxpZGF0aW9uKG4pOwogICAgICAgICAgICAgICAgICAgIH0sIHRydWUpOwoKICAgICAgICAgICAgICAgICAgICB2YXIgZGl2ID0gJCgiPGRpdiBjbGFzcz0naW5wdXRDb250YWluZXInPjwvZGl2PiIpOwogICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0gYS5hVHlwZSB8fCAidGV4dCI7CiAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0OwogICAgICAgICAgICAgICAgICAgIHZhciBoaWRlTGFiZWwgPSAiIjsKICAgICAgICAgICAgICAgICAgICBpZiAoIWEuYUhpbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxhYmVsID0gInN0eWxlPSdkaXNwbGF5Om5vbmUnIjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnRPZk5hbWUgPSAiIjsKICAgICAgICAgICAgICAgICAgICBpZiAoYS5hSGludERlc2NyaXB0aW9uICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcGFydE9mTmFtZSA9IGEuYUhpbnREZXNjcmlwdGlvbjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdmFyIGxhYmVsID0gJCgiPGxhYmVsICIgKyBoaWRlTGFiZWwgKyAiIGRhdGEtbmctY2xpY2s9J2xhYmVsQ2xpY2tlZCgpJyBkYXRhLW5nLW1vdXNlb3V0PSdsYWJlbE91dCgpJz4iICsgYS5hSGludCArICI8L2xhYmVsPiIpOwogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFR5cGVzLnNlbGVjdDoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC5jc3MoInotaW5kZXgiLCAiLTEwIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC5hZGRDbGFzcygiYW5pbWF0ZWQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb3QgPSAoYS5hU2hvdyA/ICIuIiArIGEuYVNob3cgOiAiIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm9ybWF0ID0gIjxzZWxlY3QgbmFtZT0nIiArIGEuYUhpbnQudG9Mb3dlckNhc2UoKSArICdMaXN0Ym94JyArIHBhcnRPZk5hbWUgKyAiJyByb2xlPSdsaXN0Ym94JyBuZy1tb2RlbD0nc2VjTW9kZWwnIG5nLW9wdGlvbnM9J2MgYXMgYyIgKyBkb3QKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICIgZm9yIGMgaW4gc2VjU2VsZWN0T3B0aW9ucycgPjxvcHRpb24gdmFsdWU9Jycgc2VsZWN0ZWQ9J3NlbGVjdGVkJz48L3NlbGVjdD4iOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdmFyIGRvdCA9IChhLmFTaG93ID8gYS5hU2hvdyA6IG51bGwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy92YXIgZm9ybWF0ID0gIjxzZWxlY3QgbmctbW9kZWw9J3NlY01vZGVsJz4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIjxvcHRpb24gbmctcmVwZWF0PSdjIGluIHNlY1NlbGVjdE9wdGlvbnMnID57eyAoZG90ID8gY1tkb3RdIDogYyApIH19PC9vcHRpb24+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAiPC9zZWxlY3Q+IjsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dCA9ICQoZm9ybWF0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LmNzcygiYmFja2dyb3VuZCIsICJ0cmFuc3BhcmVudCIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFR5cGVzLnRleHRhcmVhOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQgPSAkKCI8dGV4dGFyZWEgbmFtZT0nIiArIGEuYUhpbnQgKyBwYXJ0T2ZOYW1lICsgIicgZGF0YS1uZy1tb2RlbD0nc2VjTW9kZWwnID48L3RleHRhcmVhPiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT24gbWFpbiBQYWdlIGluIENvbnRhY3QgVVMgc2VjdGlvbiB1bmRlciBzdWJqZWN0IHZpc2libGUgaGludCBzdWJqZWN0VGV4dEFyZWEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxhYmVsLnRleHQoSlNPTi5wYXJzZShzLnNlY1JlcXVpcmUpLmluZm8pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwudGV4dCgiIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC5hZGRDbGFzcygiY2hlY2tib3hUZXh0IHJvYm90by1saWdodCIgKyBhbmltYXRlZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXYuY3NzKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicGFkZGluZy10b3AiOiAiMTBweCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJhdXRvIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFyZ2luIjogIjBweCAwIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBUeXBlcy5jcmVkaXRDYXJkOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQgPSAkKCI8aW5wdXQgaWQ9J2NyZWRpdENhcmQnIG5hbWU9JyIgKyBhLmFIaW50LnJlcGxhY2UoL1xzL2csICJfIikudG9Mb3dlckNhc2UoKSArIHBhcnRPZk5hbWUgKyAiJyBkYXRhLW5nLW1vZGVsPSdzZWNNb2RlbCcgbWF4bGVuZ3RoPScxNCcvPiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgVHlwZXMuY2N2TnVtYmVyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQgPSAkKCI8aW5wdXQgbmFtZT0nIiArIGEuYUhpbnQucmVwbGFjZSgvXHMvZywgIl8iKS50b0xvd2VyQ2FzZSgpICsgcGFydE9mTmFtZSArICInIHR5cGU9JyIgKyB0eXBlICsgIicgZGF0YS1uZy1tb2RlbD0nc2VjTW9kZWwnIG1heGxlbmd0aD0nMycgLz4iKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEuYUhpbnQgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuYUhpbnQgPSAiaV9hZ3JlZSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dCA9ICQoIjxpbnB1dCBuYW1lPSciICsgYS5hSGludC5yZXBsYWNlKC9ccy9nLCAiXyIpLnRvTG93ZXJDYXNlKCkgKyBwYXJ0T2ZOYW1lICsgIicgdHlwZT0nIiArIHR5cGUgKyAiJyBkYXRhLW5nLW1vZGVsPSdzZWNNb2RlbCcgLz4iKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09IFR5cGVzLmNoZWNrYm94KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwudGV4dChKU09OLnBhcnNlKHMuc2VjUmVxdWlyZSkuaW5mbyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwuY3NzKHsiZGlzcGxheSI6ICJibG9jayJ9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC5hZGRDbGFzcygiY2hlY2tib3hUZXh0IHJvYm90by1saWdodCAiICsgYW5pbWF0ZWQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5jc3MoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicGFkZGluZy10b3AiOiAiMXB4IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJhdXRvIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hcmdpbiI6ICI4cHggMCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKHMuc2VjUmVxdWlyZSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSAhPSBUeXBlcy5jaGVja2JveCAmJiBhLmFTdGFyICE9ICJmYWxzZSIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFyID0gJCgiPHNwYW4gY2xhc3M9J3N0YXInPio8L3NwYW4+Iik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXYuYXBwZW5kKHN0YXIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRjb21waWxlKGlucHV0KShzKTsKCiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRpY2xhYmVsID0gJCgiPGRpdiBjbGFzcz0naGlkZGVuJz4iICsgYS5hSGludCAgKyAiPC9kaXY+Iik7CiAgICAgICAgICAgICAgICAgICAgZGl2LmFwcGVuZChzdGF0aWNsYWJlbCk7CiAgICAgICAgICAgICAgICAgICAgZGl2LmFwcGVuZChpbnB1dCk7CiAgICAgICAgICAgICAgICAgICAgZGl2LmFwcGVuZChsYWJlbCk7CgogICAgICAgICAgICAgICAgICAgICRjb21waWxlKGRpdikocyk7CiAgICAgICAgICAgICAgICAgICAgZS5hcHBlbmQoZGl2KTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHMuc2VjQ29tcGFyZVRvKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHMuJHdhdGNoKCdzZWNNb2RlbENvbXBhcmVUbycsIGZ1bmN0aW9uIChuLCBvKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQudmFsKCkgIT0gIiIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHJsLm1vZGVsQ29tcGFyZVRvQ2hhbmdlKG4pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5wdXNoVmFsaWRhdGlvbihKU09OLnBhcnNlKHMuc2VjQ29tcGFyZVRvKSwgS2V5cy5zZWNDb21wYXJlVG8pOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tcGFyZVRvID0gJCgiPGlucHV0IHN0eWxlPSdkaXNwbGF5OiBub25lJyB0eXBlPSciICsgdHlwZSArICInIGRhdGEtbmctbW9kZWw9J3NlY01vZGVsQ29tcGFyZVRvJyAvPiIpOwogICAgICAgICAgICAgICAgICAgICAgICAkY29tcGlsZShjb21wYXJlVG8pKHMpOwogICAgICAgICAgICAgICAgICAgICAgICBjdHJsLnNldENvbXBhcmVUbyhjb21wYXJlVG8pOwogICAgICAgICAgICAgICAgICAgICAgICBlLmFwcGVuZChjb21wYXJlVG8pOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdmFyIHVsID0gJCgiPHVsPiIgKyBjdHJsLmdldExpc3RWYWxpZGF0aW9ucygpICsgIjwvdWw+Iik7CiAgICAgICAgICAgICAgICAgICAgZS5hcHBlbmQodWwpOwoKICAgICAgICAgICAgICAgICAgICB2YXIgX2Zvcm0gPSBjdHJsc1sxXTsKICAgICAgICAgICAgICAgICAgICBjdHJsLnNldEl0ZW1zKGlucHV0LCBsYWJlbCwgdWwsIF9mb3JtLCBzLiRpZCwgc3RhdGljbGFiZWwpOwoKICAgICAgICAgICAgICAgIH0sCgogICAgICAgICAgICAgICAgcG9zdDogZnVuY3Rpb24gKHMsIGUsIGEsIGN0cmxzKSB7CgogICAgICAgICAgICAgICAgICAgIGlmIChhLmFTZWNyZXRGaWVsZCA9PSAidHJ1ZSIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RybHNbMF0uc2V0U2VjcmV0RmllbGQoKQogICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBdKTsKCn0pOwoKLyoqCiAqIENyZWF0ZWQgYnkgY29ycmVudGkgb24gMDcvMTIvMjAxNS4KICovCgpkZWZpbmUoJ2FwcC9kaXJlY3RpdmVzL3Rvb2xUaXBTZWFyY2gnLFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKGRpcmVjdGl2ZXMpIHsKICAgICd1c2Ugc3RyaWN0JzsKCiAgICBkaXJlY3RpdmVzLmRpcmVjdGl2ZSgnc2VhcmNoJywgWyckdGVtcGxhdGVDYWNoZScsICdwcm9kdWN0U2VydmljZScsICckbG9jYXRpb24nLCAnJHN0YXRlJywKICAgICAgICAgICAgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlLCBwcm9kdWN0U2VydmljZSwgJGxvY2F0aW9uLCAkc3RhdGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJywKICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsIGZ1bmN0aW9uIChzKSB7CgogICAgICAgICAgICAgICAgICAgICAgICBzLmNhdGVnb3J5RmlsdGVyID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgcy5jYXRlZ29yeU5hbWUgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgcy5hbGxvd0Nsb3NpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBzLmNoZWNrRW50ZXJLZXkgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC53aGljaCA9PT0gMTMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLmdvVG9DYXRlZ29yeVBhZ2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RSZXF1ZXN0ID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgIHMucnVuQXV0b2NvbXBsZXRlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFJlcXVlc3QgPSBzLmF1dG9Db21wbGV0ZVZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RSZXF1ZXN0ID09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5hdXRvQ29tcGxldGVSZXN1bHQgPSB7fTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0U2VydmljZS5nZXRQcm9kdWN0c0J5U2VhcmNoKGxhc3RSZXF1ZXN0LCAxMCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5hdXRvQ29tcGxldGVSZXN1bHQgPSByZXN1bHQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgcy5nb1RvQ2F0ZWdvcnlQYWdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdzZWFyY2gnLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChzLmNhdGVnb3J5RmlsdGVyID09IG51bGwgPyAnJyA6IHMuY2F0ZWdvcnlGaWx0ZXIpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdBbGw6IHMuYXV0b0NvbXBsZXRlVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBzLm9wZW5TZWFyY2hQcm9kdWN0cyA9IGZ1bmN0aW9uICgpIHsKCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJCgnLmF1dG9Db21wbGV0ZUNvdmVyJykud2lkdGgoKSA+IDApey8vZWxlbWVudCBpcyBvcGVuLCB3ZSBzZWFyY2ggbm93CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja0VudGVyS2V5KHt3aGljaCA6IDEzfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5hdnNMaW5rcyA9ICQoIm5hdiB1bCBsaSBhLm5hdkxpbmtzIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2c0xpbmtzLmVhY2goZnVuY3Rpb24gKGluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKF90aGlzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKF90aGlzKS5zdG9wKCkuYW5pbWF0ZSh7b3BhY2l0eTogMC4xfSwgNTAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwICogaW5kZXgsIHRoaXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uIChuYXZzTGlua3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2c0xpbmtzLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3NlYXJjaFNlY3Rpb24gLmF1dG9Db21wbGV0ZUNvdmVyJykuc3RvcCgpLmFuaW1hdGUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGdldEF1dG9jb21wbGVhdGVXaWR0aCgpICsgInB4IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogJzAgNnB4JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApLmFuaW1hdGUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDAsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNhdXRvQ29tcGxldGUnKS5mb2N1cygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3NlYXJjaFNlY3Rpb24gLmF1dG9Db21wbGV0ZUNvdmVyIC5pY29uQ3NzLmljb25YJykuZmFkZUluKDMwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgKDIwMCAqIG5hdnNMaW5rcy5sZW5ndGgpLCBuYXZzTGlua3MpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgcy5jbG9zZVNlYXJjaEZvcmNlID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNzZWFyY2hTZWN0aW9uIC5hdXRvQ29tcGxldGVDb3ZlciAuaWNvbkNzcy5pY29uWCcpLmZhZGVPdXQoMzAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNzZWFyY2hTZWN0aW9uIC5hdXRvQ29tcGxldGVDb3ZlcicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hbmltYXRlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAwICsgInB4IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuNSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogJzAgMCcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGxvY2F0aW9uLnBhdGgoKSA9PSAnLycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmF2c0xpbmtzID0gJCgibmF2IHVsIGxpIGEubmF2TGlua3MiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZzTGlua3Muc2hvdygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdnNMaW5rcy5lYWNoKGZ1bmN0aW9uIChpbmRleCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uIChfdGhpcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChfdGhpcykuc3RvcCgpLmFuaW1hdGUoe29wYWNpdHk6IDF9LCAxMDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAgKiBpbmRleCwgdGhpcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNDAwKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLmF1dG9Db21wbGV0ZVZhbHVlID0gbGFzdFJlcXVlc3QgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuYXV0b0NvbXBsZXRlUmVzdWx0ID0ge307CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIHMuY2xvc2VTZWFyY2hTZWN0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzLmFsbG93Q2xvc2luZyAvKnx8ICRsb2NhdGlvbi5wYXRoKCkuaW5kZXhPZignL3NlYXJjaCcpICE9IC0xKi8pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLmNsb3NlU2VhcmNoRm9yY2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgcy5hbGxvd0Nsb3NpbmdMZWF2ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNhdXRvQ29tcGxldGUnKS5mb2N1cygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5hbGxvd0Nsb3NpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCgiI3NlYXJjaFNlY3Rpb24iKS53aWR0aCgpID4gMTUwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNzZWFyY2hTZWN0aW9uIC5hdXRvQ29tcGxldGVDb3ZlcicpLndpZHRoKGdldEF1dG9jb21wbGVhdGVXaWR0aCgpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRBdXRvY29tcGxlYXRlV2lkdGgoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCQoZG9jdW1lbnQpLndpZHRoKCkgPiAxMDAwID8gNjgwIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChkb2N1bWVudCkud2lkdGgoKSA+IDEwMDAgPyA1MzAgOiAzMDApIC0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoJCgiLmhpLXVzZXIiKS53aWR0aCgpICogMS41KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3Byb2R1Y3Rfc2VhcmNoX2ltZycpLmNsaWNrKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjcHJvZHVjdF9zZWFyY2gnKS5jc3MoImRpc3BsYXkiLCAiaW5saW5lLWJsb2NrIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjcHJvZHVjdF9zZWFyY2gnKS5hbmltYXRlKHsid2lkdGgiOiAkKCcjcHJvZHVjdF9zZWFyY2gnKS53aWR0aCgpID4gMCA/IDAgOiAiMTUwcHgifSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA1MDAsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQoJyNwcm9kdWN0X3NlYXJjaCcpLndpZHRoKCkgPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5jc3MoImRpc3BsYXkiLCAibm9uZSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgcy5zZWFyY2hCeUNhdGVnb3J5SWQgPSBmdW5jdGlvbiAoaWQsIGNhdGVnb3J5TmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaWQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5jYXRlZ29yeUZpbHRlciA9IGlkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5jYXRlZ29yeU5hbWUgPSBjYXRlZ29yeU5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH1dKQogICAgICAgIC5kaXJlY3RpdmUoJ3Rvb2xUaXBTZWFyY2gnLCBbJyR0ZW1wbGF0ZUNhY2hlJywgJ3Byb2R1Y3RTZXJ2aWNlJywgJyRsb2NhdGlvbicsICckc3RhdGUnLAogICAgICAgICAgICBmdW5jdGlvbiAoJHRlbXBsYXRlQ2FjaGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJywKICAgICAgICAgICAgICAgICAgICByZXBsYWNlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiAic2VhcmNoIiwKICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCdhcHAvcGFydGlhbHMvdG9vbFRpcFNlYXJjaC5odG1sJyksCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9XSkKICAgICAgICAuZGlyZWN0aXZlKCdtb2JpbGVTZWFyY2gnLCBbJyR0ZW1wbGF0ZUNhY2hlJywgJ3Byb2R1Y3RTZXJ2aWNlJywgJyRsb2NhdGlvbicsICckc3RhdGUnLAogICAgICAgICAgICBmdW5jdGlvbiAoJHRlbXBsYXRlQ2FjaGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJywKICAgICAgICAgICAgICAgICAgICByZXBsYWNlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiAic2VhcmNoIiwKICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCdhcHAvcGFydGlhbHMvbW9iaWxlU2VhcmNoLmh0bWwnKSwKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH1dKQp9KTsKCgovKioKICogQ3JlYXRlZCBieSBjb3JyZW50aSBvbiAwNy8xMi8yMDE1LgogKi8KCmRlZmluZSgnYXBwL2RpcmVjdGl2ZXMvdG9vbFRpcENhcnQnLFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKGRpcmVjdGl2ZXMpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGRpcmVjdGl2ZXMuZGlyZWN0aXZlKCd0b29sVGlwQ2FydCcsIFsnJHRlbXBsYXRlQ2FjaGUnLCAnb3JkZXJTZXJ2aWNlJywgJyRsb2NhdGlvbicsCiAgICAgICAgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlLCBvcmRlclNlcnZpY2UsIGxvY2F0aW9uKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgnYXBwL3BhcnRpYWxzL3Rvb2xUaXBDYXJ0Lmh0bWwnKSwKICAgICAgICAgICAgbGluazogZnVuY3Rpb24ocykgewogICAgICAgICAgICAgICAgcy5jaGVja291dCA9IGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgICAgICAgICBpZihldmVudCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZihvcmRlclNlcnZpY2UudXNlcklzTG9naW4oKSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnBhdGgoJy9vcmRlclBheW1lbnQnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH1dKTsKfSk7CgoKLyoqCiAqIENyZWF0ZWQgYnkga3ViYW55IG9uIDEwLzE0LzIwMTUuCiAqLwpkZWZpbmUoJ2FwcC9kaXJlY3RpdmVzL3BvcHVsYXJJdGVtc0RpcmVjdGl2ZScsWycuL21vZHVsZSddLCBmdW5jdGlvbiAoZGlyZWN0aXZlcykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgZGlyZWN0aXZlcy5kaXJlY3RpdmUoJ3BvcHVsYXJJdGVtc0RydHYnLCBbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJywKICAgICAgICAgICAgcmVwbGFjZTogJ3RydWUnLAogICAgICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCdhcHAvcGFydGlhbHMvcG9wdWxhci1JdGVtcy10cGwuaHRtbCcpLAogICAgICAgICAgICAvL3RlbXBsYXRlVXJsOiAnYXBwL3BhcnRpYWxzL3BvcHVsYXItSXRlbXMtdHBsLmh0bWwnLAogICAgICAgICAgICBzY29wZTogewogICAgICAgICAgICAgICAgcG9wdWxhclByb2R1Y3RzOiAnPScKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCl7CiAgICAgICAgICAgICAgICAvLyRzY29wZS5uYW1lID0gJHNjb3BlLm5hbWUgKyAiU2Vjb25kICI7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbCwgYXR0cikgewogICAgICAgICAgICAgICAgLy9zY29wZS5uYW1lID0gc2NvcGUubmFtZSArICJUaGlyZCAiOwogICAgICAgICAgICAgICAgLy9zY29wZS4kd2F0Y2goJ3BvcHVsYXJQcm9kdWN0cycsIGZ1bmN0aW9uKHBvcHVsYXJQcm9kdWN0cykgewogICAgICAgICAgICAgICAgLy8gICAgc2NvcGUucG9wdWxhclByb2R1Y3RzID0gcG9wdWxhclByb2R1Y3RzOwogICAgICAgICAgICAgICAgLy99KQogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH1dKTsKfSk7Ci8qKgogKiBDcmVhdGVkIGJ5IGt1YmFueSBvbiAxMC8yNi8yMDE1LgogKi8KZGVmaW5lKCdhcHAvZGlyZWN0aXZlcy9zb2NpYWxNZWRpYURydHYnLFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKGRpcmVjdGl2ZXMpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGRpcmVjdGl2ZXMuZGlyZWN0aXZlKCdzb2NpYWxNZWRpYURydHYnLCBbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJywKICAgICAgICAgICAgcmVwbGFjZTogJ3RydWUnLAogICAgICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCdhcHAvcGFydGlhbHMvc29jaWFsLW1lZGlhLXRwbC5odG1sJyksCiAgICAgICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQpewoKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsLCBhdHRyKSB7CgogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH1dKTsKfSk7Ci8qKgogKiBDcmVhdGVkIGJ5IGt1YmFueSBvbiAxMC8yOS8yMDE1LgogKi8KCmRlZmluZSgnYXBwL2RpcmVjdGl2ZXMvY2F0ZWdvcnlUeXBlUHJvZHVjdHNEcnR2JyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChkaXJlY3RpdmVzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBkaXJlY3RpdmVzLmRpcmVjdGl2ZSgnY2F0ZWdvcnlUeXBlUHJvZHVjdHNEcnR2JywgWyckZmlsdGVyJywgJyRhbmltYXRlJywgJyR0ZW1wbGF0ZUNhY2hlJywKICAgICAgICAnJGxvY2F0aW9uJywgZnVuY3Rpb24gKCRmaWx0ZXIsICRhbmltYXRlLCAkdGVtcGxhdGVDYWNoZSwgJGxvY2F0aW9uKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICByZXN0cmljdDogJ0VBJywKICAgICAgICAgICAgICAgIHJlcGxhY2U6ICd0cnVlJywKICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2FwcC9wYXJ0aWFscy9jYXRlZ29yeV90eXBlX3Byb2R1Y3RzX3RwbC5odG1sJyksCiAgICAgICAgICAgICAgICBzY29wZTogewogICAgICAgICAgICAgICAgICAgIHBhcmFtc1RvUGFzczogJz0nCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHMsIGVsZW1lbnQsIGF0dHJzKSB7CgogICAgICAgICAgICAgICAgICAgIHZhciBzbGlkZXI7CiAgICAgICAgICAgICAgICAgICAgcy5zaG93Q2xlYXIgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBzLnByb2R1Y3RzSW5jbHVkZSA9IFtdOwogICAgICAgICAgICAgICAgICAgIHMubWluUHJpY2VUb0ZpbHRlciA9IDA7CiAgICAgICAgICAgICAgICAgICAgcy5tYXhQcmljZVRvRmlsdGVyID0gMDsKICAgICAgICAgICAgICAgICAgICBzLmNhdGVnb3JpZXNGaWx0ZXIgPSBzLnBhcmFtc1RvUGFzcy5jYXRlZ29yaWVzRmlsdGVyOwogICAgICAgICAgICAgICAgICAgIHMuc2VhcmNoUmVzdWx0ID0gcy5wYXJhbXNUb1Bhc3Muc2VhcmNoUmVzdWx0OwogICAgICAgICAgICAgICAgICAgIHMudmlld0FsbCA9IHMucGFyYW1zVG9QYXNzLnZpZXdBbGw7CiAgICAgICAgICAgICAgICAgICAgcy4kbG9jYXRpb24gPSAkbG9jYXRpb247CgogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGluZGV4IGluIHMuY2F0ZWdvcmllc0ZpbHRlcikgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2F0ZWdvcnkgPSBzLmNhdGVnb3JpZXNGaWx0ZXJbaW5kZXhdOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2F0ZWdvcnkuY2hlY2tlZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMucHJvZHVjdHNJbmNsdWRlWyJDQVRFR09SSUVTIl0gPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5wcm9kdWN0c0luY2x1ZGVbIkNBVEVHT1JJRVMiXSA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5wcm9kdWN0c0luY2x1ZGVbIkNBVEVHT1JJRVMiXS5wdXNoKGNhdGVnb3J5LmlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgcy5vcHRpb25zID0ge3N0YXJ0OiBbMjAsIDcwXSwgcmFuZ2U6IHttaW46IDAsIG1heDogMTAwfX07CgogICAgICAgICAgICAgICAgICAgIHMudG9nZ2xlQ29sb3JTZWxlY3RlZENsYXNzID0gZnVuY3Rpb24gKGNvZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJCgiI3Byb2R1Y3RzQ29sb3JzIiArIGNvZGUpLnRvZ2dsZUNsYXNzKCdjb2xvclNlbGVjdGVkJyk7CiAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgcy50b2dnbGVGaWx0ZXJTbGlkZSA9IGZ1bmN0aW9uIChpZCkgewogICAgICAgICAgICAgICAgICAgICAgICAkKCIjIiArIGlkKS5zbGlkZVRvZ2dsZSgpOwogICAgICAgICAgICAgICAgICAgIH07CgoKICAgICAgICAgICAgICAgICAgICBzLmluY2x1ZGVQcm9kdWN0cyA9IGZ1bmN0aW9uIChhdHRyaWJ1dGVWYWwsIGF0dHJpYnV0ZXNOYW1lKSB7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWF0dHJpYnV0ZVZhbCkgcmV0dXJuOwoKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gJC5pbkFycmF5KGF0dHJpYnV0ZVZhbCwgcy5wcm9kdWN0c0luY2x1ZGVbYXR0cmlidXRlc05hbWVdKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2F0aW9uID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMucHJvZHVjdHNJbmNsdWRlW2F0dHJpYnV0ZXNOYW1lXS5zcGxpY2UobG9jYXRpb24sIDEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMucHJvZHVjdHNJbmNsdWRlW2F0dHJpYnV0ZXNOYW1lXS5sZW5ndGggPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzLnByb2R1Y3RzSW5jbHVkZVthdHRyaWJ1dGVzTmFtZV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5wcm9kdWN0c0luY2x1ZGVbYXR0cmlidXRlc05hbWVdID09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMucHJvZHVjdHNJbmNsdWRlW2F0dHJpYnV0ZXNOYW1lXSA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5wcm9kdWN0c0luY2x1ZGVbYXR0cmlidXRlc05hbWVdLnB1c2goYXR0cmlidXRlVmFsKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgcy5zaG93Q2xlYXIgPQogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMocy5wcm9kdWN0c0luY2x1ZGUpLmxlbmd0aCA+IDAgfHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlci5ub1VpU2xpZGVyLnN0YXJ0ICE9IHMubWluUHJpY2VUb0ZpbHRlciB8fAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVyLm5vVWlTbGlkZXIuZW5kICE9IHMubWF4UHJpY2VUb0ZpbHRlcjsKCiAgICAgICAgICAgICAgICAgICAgICAgIHMucHJvZHVjdFRvU2hvdyA9ICRmaWx0ZXIoInByb2R1Y3RzRmlsdGVyRm9yQ2F0ZWdvcmllc1Byb2R1Y3QiKQogICAgICAgICAgICAgICAgICAgICAgICAoW10sIHMuc2VhcmNoUmVzdWx0LCBzLm1pblByaWNlVG9GaWx0ZXIsIHMubWF4UHJpY2VUb0ZpbHRlcikKCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBzLmNsZWFyU2VsZWN0aW9uID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHMucHJvZHVjdHNJbmNsdWRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcy5wcm9kdWN0c0luY2x1ZGVba2V5XTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm9wdGlvbiBpbnB1dFt0eXBlPWNoZWNrYm94XScpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja2VkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgICAgICAgICAgICAkKCcub3B0aW9uIC5wcm9kdWN0Q29sb3InKS5yZW1vdmVDbGFzcygnY29sb3JTZWxlY3RlZCcpOwoKICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVyLm5vVWlTbGlkZXIuc2V0KFtzbGlkZXIubm9VaVNsaWRlci5zdGFydCwgc2xpZGVyLm5vVWlTbGlkZXIuZW5kXSk7CgogICAgICAgICAgICAgICAgICAgICAgICBzLnNob3dDbGVhciA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICBzLnRvZ2dsZUNvbGFwc2UgPSBmdW5jdGlvbiAoaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJCgnIycgKyBpZCkuc2libGluZ3MoJy5vcHRpb24nKS5zbGlkZVRvZ2dsZSgzMDApOwogICAgICAgICAgICAgICAgICAgICAgICAkKCcjJyArIGlkKS50b2dnbGVDbGFzcygnYXJyb3dVcCcpOwogICAgICAgICAgICAgICAgICAgIH07CgoKICAgICAgICAgICAgICAgICAgICBjb25maWdTbGlkZXIoKTsKCiAgICAgICAgICAgICAgICAgICAgcy5wcm9kdWN0VG9TaG93ID0gJGZpbHRlcigicHJvZHVjdHNGaWx0ZXJGb3JDYXRlZ29yaWVzUHJvZHVjdCIpKFtdLCBzLnNlYXJjaFJlc3VsdCwgcy5taW5QcmljZVRvRmlsdGVyLCBzLm1heFByaWNlVG9GaWx0ZXIpCgogICAgICAgICAgICAgICAgICAgIHMuYXR0cmlidXRlc1RvU2hvdyA9IGdldEF0dHJpYnV0ZXNUb1Nob3cocy5wcm9kdWN0VG9TaG93LCBzLnBhcmFtc1RvUGFzcy5hdHRyaWJ1dGVzLmNhdGVnb3JpZXNBdHRyaWJ1dGVzKTsKCiAgICAgICAgICAgICAgICAgICAgcy5wcm9kdWN0c0NvbG9ycyA9IGdldENvbG9yc0luUHJvZHVjdHMocy5wcm9kdWN0VG9TaG93KTsKCgogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdldEZvcm1hdChjYXRlZ29yeUlkLCBhdHRyaWJ1dGVOYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAiKGNhdGVnb3J5SWRfIiArIGNhdGVnb3J5SWQgKyAiLWF0dHJpYnV0ZU5hbWVfXyIgKyBhdHRyaWJ1dGVOYW1lICsgIikiOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0QXR0cmlidXRlc1RvU2hvdyhwcm9kdWN0VG9TaG93LCBhdHRyRmlsdGVyKSB7CgogICAgICAgICAgICAgICAgICAgICAgICAvKkJ1aWxkIGxvbmcgU3RyaW5nIHRvIHNlYXJjaCBzaG93SW5GaWx0ZXIgcGFyYW0qLwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlcyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXR0clNob3dJbkZpbHRlciA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goYXR0ckZpbHRlciwgZnVuY3Rpb24gKGF0dHIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyLnNob3dJbkZpbHRlcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJTaG93SW5GaWx0ZXIgKz0gZ2V0Rm9ybWF0KGF0dHIuY2F0ZWdvcnlJZCwgYXR0ci5hdHRyaWJ1dGVOYW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAvKmZpbHRlcmluZyBzaG93SW5GaWx0ZXIgcGFyYW0qLwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpbmRleCBpbiBwcm9kdWN0VG9TaG93KSB7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb2QgPSBwcm9kdWN0VG9TaG93W2luZGV4XTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGNhdGVnSW5kZXggaW4gcHJvZC5hdHRyaWJ1dGVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhdGVnID0gcHJvZC5hdHRyaWJ1dGVzW2NhdGVnSW5kZXhdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyU2hvd0luRmlsdGVyLmluZGV4T2YoZ2V0Rm9ybWF0KHByb2QuY2F0ZWdvcnlJZCwgY2F0ZWcuYXR0cmlidXRlTmFtZSkpICE9IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzW2NhdGVnLmF0dHJpYnV0ZU5hbWVdID09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlc1tjYXRlZy5hdHRyaWJ1dGVOYW1lXSA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNbY2F0ZWcuYXR0cmlidXRlTmFtZV0ucHVzaChjYXRlZy5hdHRyaWJ1dGVWYWx1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC8qZmlsdGVyaW5nIHJlcGVhdGVkIHBhcmFtZXRlcnMqLwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpbmRleCBpbiBhdHRyaWJ1dGVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzW2luZGV4XSA9IGF0dHJpYnV0ZXNbaW5kZXhdLmZpbHRlcigKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsLCBpbmRleCwgYXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnIuaW5kZXhPZih2YWwpID09IGluZGV4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CgoKICAgICAgICAgICAgICAgICAgICAgICAgLyogU29ydGluZyBhdHRyaWJ1dGVzIGluIGF0cnJpYnV0ZXMgYnkgYWJjICovCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG5hbWUgaW4gYXR0cmlidXRlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlc1tuYW1lXSA9IEhlbHBlci5zb3J0QXJyYXlCeUFiYyhhdHRyaWJ1dGVzW25hbWVdKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vdXNlcnMKCgogICAgICAgICAgICAgICAgICAgICAgICAvKiBCdWlsZGVyIGF0dHJpYnV0ZXMgdG8gc2hvdyAqLwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlc1RvU2hvdyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuYW1lIGluIGF0dHJpYnV0ZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhhdHRyaWJ1dGVzW25hbWVdKS5sZW5ndGggPD0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlc1RvU2hvdy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogW10KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggaW4gYXR0cmlidXRlc1tuYW1lXSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNUb1Nob3dbYXR0cmlidXRlc1RvU2hvdy5sZW5ndGggLSAxXS52YWx1ZXMucHVzaChhdHRyaWJ1dGVzW25hbWVdW2luZGV4XSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNUb1Nob3cuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoYS5uYW1lIDwgYi5uYW1lKSByZXR1cm4gLTE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihhLm5hbWUgPiBiLm5hbWUpIHJldHVybiAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZXNUb1Nob3c7CiAgICAgICAgICAgICAgICAgICAgfQoKCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0Q29sb3JzSW5Qcm9kdWN0cyhwcm9kdWN0cykgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvZHVjdHNDb2xvcnMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHByb2R1Y3RzLCBmdW5jdGlvbiAocHJvZHVjdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHByb2R1Y3QuY29sb3JzLCBmdW5jdGlvbiAoY29sb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmluZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChwcm9kdWN0c0NvbG9ycywgZnVuY3Rpb24gKHByb2R1Y3RDb2xvcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZHVjdENvbG9yLmNvZGUgPT0gY29sb3IuY29kZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbmQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNDb2xvcnMucHVzaChjb2xvcikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSGVscGVyLnNvcnRBcnJheUJ5Q29sb3JOYW1lKHByb2R1Y3RzQ29sb3JzKTsKICAgICAgICAgICAgICAgICAgICB9CgoKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBjb25maWdTbGlkZXIoKSB7CgogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF4VmFsOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWluVmFsID0gOTAwMDAwOwogICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gocy5zZWFyY2hSZXN1bHQsIGZ1bmN0aW9uIChjYXRlZ29yeSkgewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9kdWN0cyA9IGNhdGVnb3J5LnByb2R1Y3RzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gocHJvZHVjdHMsIGZ1bmN0aW9uIChwcm9kdWN0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2R1Y3QucHJpY2UgPCBtaW5WYWwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluVmFsID0gcHJvZHVjdC5wcmljZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFtYXhWYWwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFZhbCA9IHByb2R1Y3QucHJpY2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9kdWN0LnByaWNlID4gbWF4VmFsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFZhbCA9IHByb2R1Y3QucHJpY2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHMubWluUHJpY2VUb0ZpbHRlciA9IE1hdGgucm91bmQobWluVmFsKSAtIDE7CiAgICAgICAgICAgICAgICAgICAgICAgIHMubWF4UHJpY2VUb0ZpbHRlciA9IE1hdGgucm91bmQobWF4VmFsIHx8IDk5OTk5OSk7CgogICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2xpZGVyJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGVwID0gcy5tYXhQcmljZVRvRmlsdGVyIC0gcy5taW5QcmljZVRvRmlsdGVyOwogICAgICAgICAgICAgICAgICAgICAgICBzdGVwID0gc3RlcCA8IDEwMCA/IDIgOiAxMDA7CiAgICAgICAgICAgICAgICAgICAgICAgIG5vVWlTbGlkZXIuY3JlYXRlKHNsaWRlciwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IFtzLm1pblByaWNlVG9GaWx0ZXIsIHMubWF4UHJpY2VUb0ZpbHRlcl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0OiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWluJzogcy5taW5QcmljZVRvRmlsdGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXgnOiBzLm1heFByaWNlVG9GaWx0ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcDogMSwgLy9zdGVwIDwgMTAwID8gMTAwIDogTWF0aC5yb3VuZChzdGVwIC8gMTAwKSAtIDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46IHN0ZXAsICAvL01hdGgucm91bmQoc3RlcCAvIDEwMCkgLSAxLAogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVyLm5vVWlTbGlkZXIuc3RhcnQgPSBzLm1pblByaWNlVG9GaWx0ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlci5ub1VpU2xpZGVyLmVuZCA9IHMubWF4UHJpY2VUb0ZpbHRlcjsKCiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlci5ub1VpU2xpZGVyLm9uKCd1cGRhdGUnLCBmdW5jdGlvbiAodmFsdWVzLCBoYW5kbGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuJGFwcGx5QXN5bmMoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYW5kbGUgPT0gJzAnICYmIHBhcnNlSW50KHZhbHVlc1toYW5kbGVdKSAhPSBzLm1heFByaWNlVG9GaWx0ZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5taW5QcmljZVRvRmlsdGVyID0gcGFyc2VJbnQodmFsdWVzW2hhbmRsZV0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZihwYXJzZUludCh2YWx1ZXNbMV0pICE9IHMubWluUHJpY2VUb0ZpbHRlcil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMubWF4UHJpY2VUb0ZpbHRlciA9IHBhcnNlSW50KHZhbHVlc1toYW5kbGVdKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5zaG93Q2xlYXIgPQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhzLnByb2R1Y3RzSW5jbHVkZSkubGVuZ3RoID4gMCB8fAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXIubm9VaVNsaWRlci5zdGFydCAhPSBzLm1pblByaWNlVG9GaWx0ZXIgfHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVyLm5vVWlTbGlkZXIuZW5kICE9IHMubWF4UHJpY2VUb0ZpbHRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CgoKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICB9XSkKfSk7CgoKLyoqCiAqIENyZWF0ZWQgYnkgY29ycmVudGkgb24gMTUvMTIvMjAxNS4KICovCgpkZWZpbmUoJ2FwcC9kaXJlY3RpdmVzL3Njcm9sbFRvVG9wJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChkaXJlY3RpdmVzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBkaXJlY3RpdmVzLmRpcmVjdGl2ZSgnc2Nyb2xsVG9Ub3AnLCBbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJywKICAgICAgICAgICAgcmVwbGFjZTogJ3RydWUnLAogICAgICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCdhcHAvcGFydGlhbHMvc2Nyb2xsVG9Ub3AuaHRtbCcpLAogICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHsKCiAgICAgICAgICAgICAgICBlbGVtZW50LmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgICAgICAgICAgICAgJCgnYm9keSwgaHRtbCcpLmFuaW1hdGUoe3Njcm9sbFRvcDogMH0sIDEwMDAsIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgJChfdGhpcykuZmluZCgicCIpLmFuaW1hdGUoeydvcGFjaXR5JyA6IDB9LCA1MDApCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBlbGVtZW50LmJpbmQoJ21vdXNlb3ZlcicsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoInAiKS5hbmltYXRlKHsnb3BhY2l0eScgOiAxfSwgMjAwKQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfV0pOwp9KTsKLyoqCiAqIENyZWF0ZWQgYnkgY29ycmVudGkgb24gMTgvMDEvMjAxNi4KICovCgoKCmRlZmluZSgnYXBwL2RpcmVjdGl2ZXMvQ2FyZF9OdW1iZXJfNERpZ2l0cycsWycuL21vZHVsZSddLCBmdW5jdGlvbiAoZGlyZWN0aXZlcykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgZGlyZWN0aXZlcy5kaXJlY3RpdmUoJ2NhcmROdW1iZXJGb3VyRGlnaXRzJywgZnVuY3Rpb24oKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsCgogICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzLCBlLCBhLCBjdHJsKXsKICAgICAgICAgICAgICAgIGlmKHMuY2FyZCAmJiBzLmNhcmQubnVtYmVyICYmIHMuY2FyZC5udW1iZXIubGVuZ3RoID4gMCApewogICAgICAgICAgICAgICAgICAgIGUuYWRkQ2xhc3MoJ0NhcmRfTnVtYmVyXzREaWdpdHMnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9ICQoZSkuZmluZCgnLmlucHV0dGV4dCcpOwogICAgICAgICAgICAgICAgJChpbnB1dCkub24oewogICAgICAgICAgICAgICAgICAgIGZvY3VzOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGUuaGFzQ2xhc3MoJ0NhcmRfTnVtYmVyXzREaWdpdHMnKSkKICAgICAgICAgICAgICAgICAgICAgICAge3JldHVybjt9CiAgICAgICAgICAgICAgICAgICAgICAgIGUuYWRkQ2xhc3MoJ0NhcmRfTnVtYmVyXzREaWdpdHMnKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGJsdXI6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCQodGhpcykudmFsKCkgIT0gJycpCiAgICAgICAgICAgICAgICAgICAgICAgIHtyZXR1cm47fQogICAgICAgICAgICAgICAgICAgICAgICBlLnJlbW92ZUNsYXNzKCdDYXJkX051bWJlcl80RGlnaXRzJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9KTsKfSk7CgovKioKICogQ3JlYXRlZCBieSBjb3JyZW50aSBvbiAxOS8wMS8yMDE2LgogKi8KCgoKZGVmaW5lKCdhcHAvZGlyZWN0aXZlcy9pY29uLXBob25lJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChkaXJlY3RpdmVzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBkaXJlY3RpdmVzLmRpcmVjdGl2ZSgnaWNvblBob25lJywgZnVuY3Rpb24oKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsCiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsCiAgICAgICAgICAgIHRlbXBsYXRlOiAiPGRpdj48ZGl2IGNsYXNzPSdpY29uUGhvbmVJbnNldCc+PC9kaXY+PC9kaXY+IiwKICAgICAgICAgICAgbGluazogZnVuY3Rpb24ocywgZSwgYSwgY3RybCl7CiAgICAgICAgICAgICAgICBlLmFkZENsYXNzKCJpY29uQ3NzIGljb25QaG9uZSIpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7Cn0pOwoKCi8qKgogKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDE5LzAxLzIwMTYuCiAqLwoKCgpkZWZpbmUoJ2FwcC9kaXJlY3RpdmVzL2ljb24tdXNlcicsWycuL21vZHVsZSddLCBmdW5jdGlvbiAoZGlyZWN0aXZlcykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgZGlyZWN0aXZlcy5kaXJlY3RpdmUoJ2ljb25Vc2VyJywgZnVuY3Rpb24oKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsCiAgICAgICAgICAgIHJlcGxhY2U6IGZhbHNlLAogICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzLCBlLCBhLCBjdHJsKXsKICAgICAgICAgICAgICAgIGUuYWRkQ2xhc3MoImljb25Dc3MgaWNvblVzZXIiKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0pOwp9KTsKCgovKioKICogQ3JlYXRlZCBieSBjb3JyZW50aSBvbiAyMS8wMS8yMDE2LgogKi8KCgoKCmRlZmluZSgnYXBwL2RpcmVjdGl2ZXMvaWNvbi1tYWduaWZ5aW5nLWdsYXNzJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChkaXJlY3RpdmVzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBkaXJlY3RpdmVzLmRpcmVjdGl2ZSgnaWNvbk1hZ25pZnlpbmdHbGFzcycsIGZ1bmN0aW9uKCl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICByZXN0cmljdDogJ0EnLAogICAgICAgICAgICByZXBsYWNlOiBmYWxzZSwKICAgICAgICAgICAgbGluazogZnVuY3Rpb24ocywgZSwgYSwgY3RybCl7CiAgICAgICAgICAgICAgICBlLmFkZENsYXNzKCJpY29uQ3NzIGljb25NYWduaWZ5aW5nR2xhc3MiKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0pOwp9KTsKCgovKioKICogQ3JlYXRlZCBieSBjb3JyZW50aSBvbiAxOS8wMS8yMDE2LgogKi8KCgoKZGVmaW5lKCdhcHAvZGlyZWN0aXZlcy9pY29uLWNhcnQnLFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKGRpcmVjdGl2ZXMpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGRpcmVjdGl2ZXMuZGlyZWN0aXZlKCdpY29uQ2FydCcsIGZ1bmN0aW9uKCl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICByZXN0cmljdDogJ0EnLAogICAgICAgICAgICByZXBsYWNlOiBmYWxzZSwKICAgICAgICAgICAgdGVtcGxhdGU6ICI8ZGl2IGNsYXNzPSdpY29uQ2FydCc+PGRpdiBjbGFzcz0naWNvbkNhcnRIYW5kbGUnPjwvZGl2PjxkaXYgY2xhc3M9J2ljb25DYXJ0VG9wJz48L2Rpdj48ZGl2IGNsYXNzPSdpY29uQ2FydEJvdHRvbSc+PC9kaXY+PGRpdj48L2Rpdj48L2Rpdj4iLAogICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzLCBlLCBhLCBjdHJsKXsKICAgICAgICAgICAgICAgIGUuYWRkQ2xhc3MoImljb25Dc3MgaWNvbkNhcnQiKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0pOwp9KTsKCgovKioKICogQ3JlYXRlZCBieSBjb3JyZW50aSBvbiAyMS8wMS8yMDE2LgogKi8KCgoKZGVmaW5lKCdhcHAvZGlyZWN0aXZlcy9pY29uLWhvbWUnLFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKGRpcmVjdGl2ZXMpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGRpcmVjdGl2ZXMuZGlyZWN0aXZlKCdpY29uSG9tZScsIGZ1bmN0aW9uKCl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICByZXN0cmljdDogJ0EnLAogICAgICAgICAgICByZXBsYWNlOiB0cnVlLAogICAgICAgICAgICB0ZW1wbGF0ZTogIjxkaXY+PGRpdiBjbGFzcz0naWNvbkhvbWVSb29mJz48L2Rpdj48L2Rpdj4iLAogICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzLCBlLCBhLCBjdHJsKXsKICAgICAgICAgICAgICAgIGUuYWRkQ2xhc3MoImljb25Dc3MgaWNvbkhvbWUiKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0pOwp9KTsKCgovKioKICogQ3JlYXRlZCBieSBjb3JyZW50aSBvbiAyMS8wMS8yMDE2LgogKi8KCgoKCmRlZmluZSgnYXBwL2RpcmVjdGl2ZXMvaWNvbi14JyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChkaXJlY3RpdmVzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBkaXJlY3RpdmVzLmRpcmVjdGl2ZSgnaWNvblgnLCBmdW5jdGlvbigpewogICAgICAgIHJldHVybnsKICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJywKICAgICAgICAgICAgcmVwbGFjZTogZmFsc2UsCiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHMsIGUsIGEsIGN0cmwpewogICAgICAgICAgICAgICAgZS5hZGRDbGFzcygiaWNvbkNzcyBpY29uWCIpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7Cn0pOwoKCmRlZmluZSgnYXBwL2RpcmVjdGl2ZXMvaWNvbi1oZWxwLXN2ZycsWycuL21vZHVsZSddLCBmdW5jdGlvbiAoZGlyZWN0aXZlcykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgZGlyZWN0aXZlcy5kaXJlY3RpdmUoJ2ljb25IZWxwU3ZnJywgWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsCiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsCiAgICAgICAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2FwcC9wYXJ0aWFscy9pY29uLWhlbHAtc3ZnLmh0bWwnKQogICAgICAgIH0KICAgIH1dKTsKfSk7CmRlZmluZSgnYXBwL2RpcmVjdGl2ZXMvaWNvbi1oZWxwLXN2Zy1tb2JpbGUnLFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKGRpcmVjdGl2ZXMpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGRpcmVjdGl2ZXMuZGlyZWN0aXZlKCdpY29uSGVscFN2Z01vYmlsZScsIFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICByZXN0cmljdDogJ0EnLAogICAgICAgICAgICByZXBsYWNlOiB0cnVlLAogICAgICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCdhcHAvcGFydGlhbHMvaWNvbi1oZWxwLXN2Zy1tb2JpbGUuaHRtbCcpCiAgICAgICAgfQogICAgfV0pOwp9KTsKZGVmaW5lKCdhcHAvZGlyZWN0aXZlcy9pY29uLWNhcnQtc3ZnJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChkaXJlY3RpdmVzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBkaXJlY3RpdmVzLmRpcmVjdGl2ZSgnaWNvbkNhcnRTdmcnLCBbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpewogICAgICAgIHJldHVybnsKICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJywKICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSwKICAgICAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgnYXBwL3BhcnRpYWxzL2ljb24tY2FydC1zdmcuaHRtbCcpCiAgICAgICAgfQogICAgfV0pOwp9KTsKZGVmaW5lKCdhcHAvZGlyZWN0aXZlcy9pY29uLWNhcnQtc3ZnLW1vYmlsZScsWycuL21vZHVsZSddLCBmdW5jdGlvbiAoZGlyZWN0aXZlcykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgZGlyZWN0aXZlcy5kaXJlY3RpdmUoJ2ljb25DYXJ0U3ZnTW9iaWxlJywgWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsCiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsCiAgICAgICAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2FwcC9wYXJ0aWFscy9pY29uLWNhcnQtc3ZnLW1vYmlsZS5odG1sJykKICAgICAgICB9CiAgICB9XSk7Cn0pOwpkZWZpbmUoJ2FwcC9kaXJlY3RpdmVzL2ljb24tdXNlci1zdmcnLFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKGRpcmVjdGl2ZXMpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGRpcmVjdGl2ZXMuZGlyZWN0aXZlKCdpY29uVXNlclN2ZycsIFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICByZXN0cmljdDogJ0EnLAogICAgICAgICAgICByZXBsYWNlOiB0cnVlLAogICAgICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCdhcHAvcGFydGlhbHMvaWNvbi11c2VyLXN2Zy5odG1sJykKICAgICAgICB9CiAgICB9XSk7Cn0pOwpkZWZpbmUoJ2FwcC9kaXJlY3RpdmVzL2ljb24tdXNlci1zdmctbW9iaWxlJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChkaXJlY3RpdmVzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBkaXJlY3RpdmVzLmRpcmVjdGl2ZSgnaWNvblVzZXJTdmdNb2JpbGUnLCBbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpewogICAgICAgIHJldHVybnsKICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJywKICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSwKICAgICAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgnYXBwL3BhcnRpYWxzL2ljb24tdXNlci1zdmctbW9iaWxlLmh0bWwnKQogICAgICAgIH0KICAgIH1dKTsKfSk7CmRlZmluZSgnYXBwL2RpcmVjdGl2ZXMvaWNvbi1zZWFyY2gtc3ZnJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChkaXJlY3RpdmVzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBkaXJlY3RpdmVzLmRpcmVjdGl2ZSgnaWNvblNlYXJjaFN2ZycsIFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICByZXN0cmljdDogJ0EnLAogICAgICAgICAgICByZXBsYWNlOiB0cnVlLAogICAgICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCdhcHAvcGFydGlhbHMvaWNvbi1zZWFyY2gtc3ZnLmh0bWwnKQogICAgICAgIH0KICAgIH1dKTsKfSk7CmRlZmluZSgnYXBwL2RpcmVjdGl2ZXMvaWNvbi1zZWFyY2gtc3ZnLW1vYmlsZScsWycuL21vZHVsZSddLCBmdW5jdGlvbiAoZGlyZWN0aXZlcykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgZGlyZWN0aXZlcy5kaXJlY3RpdmUoJ2ljb25TZWFyY2hTdmdNb2JpbGUnLCBbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpewogICAgICAgIHJldHVybnsKICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJywKICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSwKICAgICAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgnYXBwL3BhcnRpYWxzL2ljb24tc2VhcmNoLXN2Zy1tb2JpbGUuaHRtbCcpCiAgICAgICAgfQogICAgfV0pOwp9KTsKZGVmaW5lKCdhcHAvZGlyZWN0aXZlcy9pY29uLWhvbWUtc3ZnJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChkaXJlY3RpdmVzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBkaXJlY3RpdmVzLmRpcmVjdGl2ZSgnaWNvbkhvbWVTdmcnLCBbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpewogICAgICAgIHJldHVybnsKICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJywKICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSwKICAgICAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgnYXBwL3BhcnRpYWxzL2ljb24taG9tZS1zdmcuaHRtbCcpCiAgICAgICAgfQogICAgfV0pOwp9KTsKZGVmaW5lKCdhcHAvZGlyZWN0aXZlcy9pY29uLWhvbWUtc3ZnLW1vYmlsZScsWycuL21vZHVsZSddLCBmdW5jdGlvbiAoZGlyZWN0aXZlcykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgZGlyZWN0aXZlcy5kaXJlY3RpdmUoJ2ljb25Ib21lU3ZnTW9iaWxlJywgWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsCiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsCiAgICAgICAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2FwcC9wYXJ0aWFscy9pY29uLWhvbWUtc3ZnLW1vYmlsZS5odG1sJykKICAgICAgICB9CiAgICB9XSk7Cn0pOwpkZWZpbmUoJ2FwcC9kaXJlY3RpdmVzL2ljb24tZGVsZXRlLWFjY291bnQtc3ZnJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChkaXJlY3RpdmVzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBkaXJlY3RpdmVzLmRpcmVjdGl2ZSgnaWNvbkRlbGV0ZUFjY291bnRTdmcnLCBbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpewogICAgICAgIHJldHVybnsKICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJywKICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSwKICAgICAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgnYXBwL3BhcnRpYWxzL2ljb24tZGVsZXRlLWFjY291bnQtc3ZnLmh0bWwnKQogICAgICAgIH0KICAgIH1dKTsKfSk7CmRlZmluZSgnYXBwL2RpcmVjdGl2ZXMvaWNvbi1uZXctZGVsZXRlLWJ1dHRvbi1zdmcnLFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKGRpcmVjdGl2ZXMpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGRpcmVjdGl2ZXMuZGlyZWN0aXZlKCdpY29uTmV3RGVsZXRlQnV0dG9uU3ZnJywgWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsCiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsCiAgICAgICAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2FwcC9wYXJ0aWFscy9pY29uLW5ldy1kZWxldGUtYnV0dG9uLXN2Zy5odG1sJykKICAgICAgICB9CiAgICB9XSk7Cn0pOwovKioKICogQ3JlYXRlZCBieSBjb3JyZW50aSBvbiAwNC8wMi8yMDE2LgogKi8KCgpkZWZpbmUoJ2FwcC9kaXJlY3RpdmVzL3ZpcnR1YWxGb290ZXInLFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKGRpcmVjdGl2ZXMpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGRpcmVjdGl2ZXMuZGlyZWN0aXZlKCd2aXJ0dWFsRm9vdGVyJywgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzLCBlKSB7CiAgICAgICAgICAgICAgICBlLmNzcyh7CiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJywKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJywKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGUuYXR0cigiaWQiLCAidmlydHVhbEZvb3RlciIpCiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgJCh3aW5kb3cpLnJlc2l6ZShIZWxwZXIuZm9vdGVySGFuZGxlcik7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChIZWxwZXIuZm9vdGVySGFuZGxlcigpLCAxMDApOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9KTsKfSk7CgoKCmRlZmluZSgnYXBwL2RpcmVjdGl2ZXMvY2hlY2staGVpZ2h0JyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChkaXJlY3RpdmVzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBkaXJlY3RpdmVzLmRpcmVjdGl2ZSgnY2hlY2tIZWlnaHQnLCBbIiR3aW5kb3ciLCBmdW5jdGlvbiAoJHdpbmRvdykgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsCiAgICAgICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBjdHJsID0gdGhpczsKICAgICAgICAgICAgICAgIHZhciBlbGVtZW50OwogICAgICAgICAgICAgICAgdmFyIGRpbWVuc2lvbnM7CiAgICAgICAgICAgICAgICBjdHJsLnNldEVsZW1lbnQgPSBmdW5jdGlvbiAoX2VsZW1lbnQsIF9kaW1lbnNpb25zKSB7CiAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IF9lbGVtZW50OwogICAgICAgICAgICAgICAgICAgIGRpbWVuc2lvbnMgPSBfZGltZW5zaW9ucy5zcGxpdCgiWCIpOwogICAgICAgICAgICAgICAgICAgIGN0cmwudXBkYXRlU2l6ZXMoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjdHJsLnVwZGF0ZVNpemVzID0gZnVuY3Rpb24gKCl7CiAgICAgICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9ICQoZWxlbWVudCkud2lkdGgoKSAvIGRpbWVuc2lvbnNbMF0gKiBkaW1lbnNpb25zWzFdOwogICAgICAgICAgICAgICAgICAgICQoZWxlbWVudCkuaGVpZ2h0KGhlaWdodCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzLCBlLCBhLCBjdHJsKSB7CiAgICAgICAgICAgICAgICBjdHJsLnNldEVsZW1lbnQoZSwgYS5jaGVja0hlaWdodCk7CiAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykuYmluZCgicmVzaXplIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGN0cmwudXBkYXRlU2l6ZXMoKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgY3RybC51cGRhdGVTaXplcygpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfV0pOwp9KTsKCgovKioKICogQ3JlYXRlZCBieSBjb3JyZW50aSBvbiAwNy8xMi8yMDE1LgogKi8KCmRlZmluZSgnYXBwL2RpcmVjdGl2ZXMvb3JkZXJTZWFyY2gnLFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKGRpcmVjdGl2ZXMpIHsKICAgICd1c2Ugc3RyaWN0JzsKCiAgICBkaXJlY3RpdmVzLmRpcmVjdGl2ZSgnb3JkZXJzU2VhcmNoJywgWyckdGVtcGxhdGVDYWNoZScsICdwcm9kdWN0U2VydmljZScsICckbG9jYXRpb24nLCAnJHN0YXRlJywKICAgICAgICBmdW5jdGlvbiAoJHRlbXBsYXRlQ2FjaGUsIHByb2R1Y3RTZXJ2aWNlLCAkbG9jYXRpb24sICRzdGF0ZSkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJywKICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2FwcC9wYXJ0aWFscy9vcmRlclNlYXJjaC5odG1sJyksCiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsIGZ1bmN0aW9uIChzKSB7CgogICAgICAgICAgICAgICAgICAgIHMuYXV0b0NvbXBsZXRlVmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgICAgICBzLmNhdGVnb3J5RmlsdGVyID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBzLmNhdGVnb3J5TmFtZSA9ICcnOwogICAgICAgICAgICAgICAgICAgIHMuYWxsb3dDbG9zaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBzLm9yZGVycyA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgcy5maXJzdFNlYXJjaEluaXRpYXRpb24gPSB0cnVlOwoKICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdFJlcXVlc3QgPSAnJzsKICAgICAgICAgICAgICAgICAgICBzLnJ1bkF1dG9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFJlcXVlc3QgPSBzLmF1dG9Db21wbGV0ZVZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFzdFJlcXVlc3QgPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuYXV0b0NvbXBsZXRlUmVzdWx0ID0ge307CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgcy5zZWFyY2hPcmRlcihsYXN0UmVxdWVzdCk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBzLnNlYXJjaE9yZGVyID0gZnVuY3Rpb24od29yZCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKChzLm15T3JkZXJzQ3RybC5vcmRlcnMubGVuZ3RoIDwgMSAmJiBzLm9yZGVycy5sZW5ndGggPCAxKSB8fCB3b3JkLmxlbmd0aCA8IDEpIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgaWYocy5maXJzdFNlYXJjaEluaXRpYXRpb24pewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5maXJzdFNlYXJjaEluaXRpYXRpb24gPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMub3JkZXJzID0gYW5ndWxhci5jb3B5KHMubXlPcmRlcnNDdHJsLm9yZGVycyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIHMubXlPcmRlcnNDdHJsLm9yZGVycyA9IHMub3JkZXJzLmZpbHRlcihmdW5jdGlvbihkKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGQub3JkZXJOdW1iZXIuaW5kZXhPZih3b3JkKSAhPSAtMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGQucHJvZHVjdHMuZmlsdGVyKGZ1bmN0aW9uKGRkKXtpZihkZC5Qcm9kdWN0TmFtZS50b0xvd2VyQ2FzZSgpLmluZGV4T2Yod29yZC50b0xvd2VyQ2FzZSgpKSAhPSAtMSlyZXR1cm4gdHJ1ZTt9KS5sZW5ndGggPiAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBzLm9wZW5TZWFyY2hPcmRlcnMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcmRlcnMgPSBzLm9yZGVyczsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5hdnNMaW5rcyA9ICQoIm5hdiB1bCBsaSBhLm5hdkxpbmtzIik7CiAgICAgICAgICAgICAgICAgICAgICAgIG5hdnNMaW5rcy5lYWNoKGZ1bmN0aW9uIChpbmRleCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoX3RoaXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKF90aGlzKS5zdG9wKCkuYW5pbWF0ZSh7b3BhY2l0eTogMC4xfSwgNTAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMCAqIGluZGV4LCB0aGlzKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uIChuYXZzTGlua3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdnNMaW5rcy5oaWRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjb3JkZXJTZWFyY2hTZWN0aW9uIC5hdXRvQ29tcGxldGVDb3ZlcicpLnN0b3AoKS5hbmltYXRlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogZ2V0QXV0b2NvbXBsZWF0ZVdpZHRoKCkgKyAicHgiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogJzAgNnB4JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwKS5hbmltYXRlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDAsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjb3JkZXJBdXRvQ29tcGxldGUnKS5mb2N1cygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjb3JkZXJTZWFyY2hTZWN0aW9uIC5hdXRvQ29tcGxldGVDb3ZlciAuaWNvbkNzcy5pY29uWCcpLmZhZGVJbigzMDApOwogICAgICAgICAgICAgICAgICAgICAgICB9LCAoMjAwICogbmF2c0xpbmtzLmxlbmd0aCksIG5hdnNMaW5rcyk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBzLmNsb3NlU2VhcmNoRm9yY2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNvcmRlclNlYXJjaFNlY3Rpb24gLmF1dG9Db21wbGV0ZUNvdmVyIC5pY29uQ3NzLmljb25YJykuZmFkZU91dCgzMDApOwogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNvcmRlclNlYXJjaFNlY3Rpb24gLmF1dG9Db21wbGV0ZUNvdmVyJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYW5pbWF0ZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAwICsgInB4IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC41LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46ICcwIDAnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkbG9jYXRpb24ucGF0aCgpID09ICcvJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5hdnNMaW5rcyA9ICQoIm5hdiB1bCBsaSBhLm5hdkxpbmtzIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZzTGlua3Muc2hvdygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2c0xpbmtzLmVhY2goZnVuY3Rpb24gKGluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoX3RoaXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChfdGhpcykuc3RvcCgpLmFuaW1hdGUoe29wYWNpdHk6IDF9LCAxMDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMCAqIGluZGV4LCB0aGlzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDQwMCk7CgogICAgICAgICAgICAgICAgICAgICAgICBzLmF1dG9Db21wbGV0ZVZhbHVlID0gbGFzdFJlcXVlc3QgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgcy5hdXRvQ29tcGxldGVSZXN1bHQgPSB7fTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYocy5vcmRlcnMgIT0gbnVsbCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLm15T3JkZXJzQ3RybC5vcmRlcnMgPSBhbmd1bGFyLmNvcHkocy5vcmRlcnMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5vcmRlcnMgPSBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBzLmZpcnN0U2VhcmNoSW5pdGlhdGlvbiA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBzLmNsb3NlU2VhcmNoU2VjdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzLmFsbG93Q2xvc2luZyB8fCAocy5hdXRvQ29tcGxldGVWYWx1ZSAhPSBudWxsICYmIHMuYXV0b0NvbXBsZXRlVmFsdWUubGVuZ3RoID4gMCkvKnx8ICRsb2NhdGlvbi5wYXRoKCkuaW5kZXhPZignL3NlYXJjaCcpICE9IC0xKi8pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBzLmNsb3NlU2VhcmNoRm9yY2UoKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHMuYWxsb3dDbG9zaW5nTGVhdmUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNvcmRlckF1dG9Db21wbGV0ZScpLmZvY3VzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHMuYWxsb3dDbG9zaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCgiI29yZGVyU2VhcmNoU2VjdGlvbiIpLndpZHRoKCkgPiAxNTApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjb3JkZXJTZWFyY2hTZWN0aW9uIC5hdXRvQ29tcGxldGVDb3ZlcicpLndpZHRoKGdldEF1dG9jb21wbGVhdGVXaWR0aCgpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdldEF1dG9jb21wbGVhdGVXaWR0aCgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgkKGRvY3VtZW50KS53aWR0aCgpID4gMTAwMCA/IDY4MCA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChkb2N1bWVudCkud2lkdGgoKSA+IDEwMDAgPyA1MzAgOiAzMDApIC0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICgkKCIuaGktdXNlciIpLndpZHRoKCkgKiAxLjUpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgJCgnI3Byb2R1Y3Rfc2VhcmNoX2ltZycpLmNsaWNrKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNwcm9kdWN0X3NlYXJjaCcpLmNzcygiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKTsKICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3Byb2R1Y3Rfc2VhcmNoJykuYW5pbWF0ZSh7IndpZHRoIjogJCgnI3Byb2R1Y3Rfc2VhcmNoJykud2lkdGgoKSA+IDAgPyAwIDogIjE1MHB4In0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA1MDAsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCgnI3Byb2R1Y3Rfc2VhcmNoJykud2lkdGgoKSA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuY3NzKCJkaXNwbGF5IiwgIm5vbmUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgcy5zZWFyY2hCeUNhdGVnb3J5SWQgPSBmdW5jdGlvbiAoaWQsIGNhdGVnb3J5TmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHMuY2F0ZWdvcnlGaWx0ZXIgPSBpZDsKICAgICAgICAgICAgICAgICAgICAgICAgcy5jYXRlZ29yeU5hbWUgPSBjYXRlZ29yeU5hbWU7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgIH07CiAgICAgICAgfV0pOwp9KTsKCgovKioKICogQ3JlYXRlZCBieSBrdWJhbnkgb24gMy8xNS8yMDE3LgogKi8KZGVmaW5lKCdhcHAvZGlyZWN0aXZlcy9jb25maXJtYXRpb24tbW9kYWwtZHJ0dicsWycuL21vZHVsZSddLCBmdW5jdGlvbiAoZGlyZWN0aXZlcykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgZGlyZWN0aXZlcy5kaXJlY3RpdmUoJ2NvbmZpcm1hdGlvbk1vZGFsJywgWyckdGVtcGxhdGVDYWNoZScsICdNb2RhbFNlcnZpY2UnLCAnJGNvbXBpbGUnLCBmdW5jdGlvbiAoJHRlbXBsYXRlQ2FjaGUsIE1vZGFsU2VydmljZSwgJGNvbXBpbGUpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICByZXN0cmljdDogJ0UnLAogICAgICAgICAgICBzY29wZTp7CiAgICAgICAgICAgICAgICBidG4xQ2I6JyYnLAogICAgICAgICAgICAgICAgYnRuMkNiOicmJywKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgnYXBwL3BhcnRpYWxzL2NvbmZpcm1hdGlvbi1tb2RhbC5odG1sJyksCiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2NvbmZDdHJsJywKICAgICAgICAgICAgY29udHJvbGxlcjogWyIkc2NvcGUiLCBmdW5jdGlvbiAocykgewogICAgICAgICAgICAgICAgdGhpcy5idG5DbGlja2VkID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgIHZhciBidG5OdW0gPSAkZXZlbnQuY3VycmVudFRhcmdldC5pZC5zcGxpdCgiY29uZkJ0bl8iKVsxXTsKICAgICAgICAgICAgICAgICAgICBidG5OdW0gPT0gIjEiID8gcy5idG4xQ2IoKSA6IHMuYnRuMkNiKCk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9XSwKICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykgewogICAgICAgICAgICAgICAgLy8gZW5zdXJlIGlkIGF0dHJpYnV0ZSBleGlzdHMKICAgICAgICAgICAgICAgIGlmICghYXR0cnMuaWQpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdtb2RhbCBtdXN0IGhhdmUgYW4gaWQnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYoYXR0cnMubnVtb2ZidXR0b25zKXsKICAgICAgICAgICAgICAgICAgICB2YXIgbnVtT2ZCdG5zID0gIWlzTmFOKGF0dHJzLm51bW9mYnV0dG9ucykgPyBwYXJzZUludChhdHRycy5udW1vZmJ1dHRvbnMpIDogMDsKICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgbnVtT2ZCdG5zOyBpKyspewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnRuVHh0Qm9sZCA9IGF0dHJzWyJidG4iICsgKGkrMSkgKyJUeHQiXS5zcGxpdCgnLCcpWzBdOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnRuVHh0UmVndWxhciA9IGF0dHJzWyJidG4iICsgKGkrMSkgKyJUeHQiXS5zcGxpdCgnLCcpWzFdOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnV0dG9uID0gJCgiPGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSdjb25mLW1vZGFsLWJ0bicgcm9sZT0nYnV0dG9uJyBkYXRhLW5nLWNsaWNrPSdjb25mQ3RybC5idG5DbGlja2VkKCRldmVudCknIGlkPSdjb25mQnRuXyIgKyAgKGkrMSkgKyInIHJvbGU9Jyc+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiPGxhYmVsIGNsYXNzPSdjb25mLWJ0bi1ib2xkJz4iKyBidG5UeHRCb2xkICsiPC9sYWJlbD48bGFiZWwgY2xhc3M9J2NvbmYtYnRuLXJlZ3VsYXInPiwiICsgYnRuVHh0UmVndWxhciArICI8L2xhYmVsPiA8L2J1dHRvbj4iKQogICAgICAgICAgICAgICAgICAgICAgICAkY29tcGlsZShidXR0b24pKHNjb3BlKTsKICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmNvbmYtbW9kYWwtYnRuLWNvbnRhaW5lcicpLmFwcGVuZChidXR0b24pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIG1vdmUgZWxlbWVudCB0byBib3R0b20gb2YgcGFnZSAoanVzdCBiZWZvcmUgPC9ib2R5Pikgc28gaXQgY2FuIGJlIGRpc3BsYXllZCBhYm92ZSBldmVyeXRoaW5nIGVsc2UKICAgICAgICAgICAgICAgIC8vZWxlbWVudC5hcHBlbmRUbygnYm9keScpOwoKICAgICAgICAgICAgICAgIC8vIGNsb3NlIG1vZGFsIG9uIGJhY2tncm91bmQgY2xpY2sKICAgICAgICAgICAgICAgICQoZWxlbWVudCkub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gJChlLnRhcmdldCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKCF0YXJnZXQuY2xvc2VzdCgnLm1vZGFsLWJvZHknKS5sZW5ndGggJiYgIXRhcmdldC5hdHRyKCJ0eXBlIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGV2YWxBc3luYyhDbG9zZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgLy8gYWRkIHNlbGYgKHRoaXMgbW9kYWwgaW5zdGFuY2UpIHRvIHRoZSBtb2RhbCBzZXJ2aWNlIHNvIGl0J3MgYWNjZXNzaWJsZSBmcm9tIGNvbnRyb2xsZXJzCiAgICAgICAgICAgICAgICB2YXIgbW9kYWwgPSB7CiAgICAgICAgICAgICAgICAgICAgaWQ6IGF0dHJzLmlkLAogICAgICAgICAgICAgICAgICAgIG9wZW46IE9wZW4sCiAgICAgICAgICAgICAgICAgICAgY2xvc2U6IENsb3NlCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLkFkZChtb2RhbCk7CgogICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHNlbGYgZnJvbSBtb2RhbCBzZXJ2aWNlIHdoZW4gZGlyZWN0aXZlIGlzIGRlc3Ryb3llZAogICAgICAgICAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZS5SZW1vdmUoYXR0cnMuaWQpOwogICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAvLyBvcGVuIG1vZGFsCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBPcGVuKCkgewogICAgICAgICAgICAgICAgICAgICQoZWxlbWVudCkuc2hvdygpOwogICAgICAgICAgICAgICAgICAgIC8vJCgnYm9keScpLmFkZENsYXNzKCdtb2RhbC1vcGVuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gY2xvc2UgbW9kYWwKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIENsb3NlKCkgewogICAgICAgICAgICAgICAgICAgICQoZWxlbWVudCkuaGlkZSgpOwogICAgICAgICAgICAgICAgICAgIC8vJCgnYm9keScpLnJlbW92ZUNsYXNzKCdtb2RhbC1vcGVuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZnVuY3Rpb24gc2V0QnRuc0NiKGNicyl7CiAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGNicy5sZW5ndGg7IGkrKyl7CgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9XSk7Cn0pOwovKioKICogQ3JlYXRlZCBieSBrdWJhbnkgb24gMTAvMTQvMjAxNS4KICovCgoKZGVmaW5lKCdhcHAvZGlyZWN0aXZlcy9pbmRleCcsWwogICAgJy4vZS1zZWMtcGx1cy1taW51cycsCiAgICAnLi9pbmZvLWRlbW8nLAogICAgJy4vYS1zZWMtc3JjJywKICAgICcuL2Etc2VjLWJhY2staW1nJywKICAgICcuL3ZhbGlkYXRlSW5wdXQnLAogICAgJy4vdG9vbFRpcFNlYXJjaCcsCiAgICAnLi90b29sVGlwQ2FydCcsCiAgICAnLi9wb3B1bGFySXRlbXNEaXJlY3RpdmUnLAogICAgJy4vc29jaWFsTWVkaWFEcnR2JywKICAgICcuL2NhdGVnb3J5VHlwZVByb2R1Y3RzRHJ0dicsCiAgICAnLi9zY3JvbGxUb1RvcCcsCiAgICAnLi9DYXJkX051bWJlcl80RGlnaXRzJywKICAgICcuL2ljb24tcGhvbmUnLAogICAgJy4vaWNvbi11c2VyJywKICAgICcuL2ljb24tbWFnbmlmeWluZy1nbGFzcycsCiAgICAnLi9pY29uLWNhcnQnLAogICAgJy4vaWNvbi1ob21lJywKICAgICcuL2ljb24teCcsCiAgICAnLi9pY29uLWhlbHAtc3ZnJywKICAgICcuL2ljb24taGVscC1zdmctbW9iaWxlJywKICAgICcuL2ljb24tY2FydC1zdmcnLAogICAgJy4vaWNvbi1jYXJ0LXN2Zy1tb2JpbGUnLAogICAgJy4vaWNvbi11c2VyLXN2ZycsCiAgICAnLi9pY29uLXVzZXItc3ZnLW1vYmlsZScsCiAgICAnLi9pY29uLXNlYXJjaC1zdmcnLAogICAgJy4vaWNvbi1zZWFyY2gtc3ZnLW1vYmlsZScsCiAgICAnLi9pY29uLWhvbWUtc3ZnJywKICAgICcuL2ljb24taG9tZS1zdmctbW9iaWxlJywKICAgICcuL2ljb24tZGVsZXRlLWFjY291bnQtc3ZnJywKICAgICcuL2ljb24tbmV3LWRlbGV0ZS1idXR0b24tc3ZnJywKICAgICcuL3ZpcnR1YWxGb290ZXInLAogICAgJy4vY2hlY2staGVpZ2h0JywKICAgICcuL29yZGVyU2VhcmNoJywKICAgICcuL2NvbmZpcm1hdGlvbi1tb2RhbC1kcnR2JwpdLCBmdW5jdGlvbigpIHt9KTsKLyoqCiAqIENyZWF0ZWQgYnkga3ViYW55IG9uIDEwLzE0LzIwMTUuCiAqLwpkZWZpbmUoJ2FwcC91c2VyL2RpcmVjdGl2ZXMvbW9kdWxlJyxbJ2FuZ3VsYXInXSwgZnVuY3Rpb24gKGFuZ3VsYXIpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHJldHVybiBhbmd1bGFyLm1vZHVsZSgnYW9zLnVzZXIuZGlyZWN0aXZlcycsIFtdKTsKfSk7CmRlZmluZSgnYXBwL3VzZXIvZGlyZWN0aXZlcy92ZXJzaW9uLWNvbnRlbnQnLFsnLi9tb2R1bGUnXSwgZnVuY3Rpb24gKGRpcmVjdGl2ZXMpIHsNCiAgICAndXNlIHN0cmljdCc7DQogICAgZGlyZWN0aXZlcy5kaXJlY3RpdmUoJ3ZlcnNpb25Db250ZW50JywgWyckdGVtcGxhdGVDYWNoZScsICd2ZXJzaW9uU2VydmljZScsIGZ1bmN0aW9uICgkdGVtcGxhdGVDYWNoZSkgew0KICAgICAgICB2YXIgY29udGVudFVybDsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlKSB7DQogICAgICAgICAgICAgICAgc2NvcGUuY29udGVudFVybCA9ICdhcHAvdXNlci92aWV3cy92ZXJzaW9uLXBhZ2UtJyArIHNjb3BlLnJlbGVhc2VfdmVyc2lvbl9vbmx5ICsgJy5odG1sJzsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgbmctaW5jbHVkZT0iY29udGVudFVybCI+PC9kaXY+Jw0KICAgICAgICB9Ow0KICAgIH0NCiAgICBdKTsNCn0pOwovKioKICogQ3JlYXRlZCBieSBrdWJhbnkgb24gMTAvMjkvMjAxNS4KICovCmRlZmluZSgnYXBwL3VzZXIvZGlyZWN0aXZlcy9sb2dpbk1vZGFsJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChkaXJlY3RpdmVzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBkaXJlY3RpdmVzLmRpcmVjdGl2ZSgnbG9naW5Nb2RhbCcsIFsnJHJvb3RTY29wZScsICd1c2VyU2VydmljZScsICdpcENvb2tpZScsCiAgICAgICAgJyR0ZW1wbGF0ZUNhY2hlJywgJyRsb2NhdGlvbicsICckdGltZW91dCcsICdwcm9kdWN0c0NhcnRTZXJ2aWNlJywgJyRmaWx0ZXInLCAnQW5hbHl0aWNzJywKICAgICAgICBmdW5jdGlvbiAoJHJvb3RTY29wZSwgdXNlclNlcnZpY2UsICRjb29raWUsICR0ZW1wbGF0ZUNhY2hlLCAkbG9jYXRpb24sCiAgICAgICAgICAgICAgICAgICR0aW1lb3V0LCBwcm9kdWN0c0NhcnRTZXJ2aWNlLCAkZmlsdGVyLCBBbmFseXRpY3MpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsCiAgICAgICAgICAgICAgICByZXBsYWNlOiBmYWxzZSwKICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2FwcC91c2VyL3BhcnRpYWxzL2xvZ2luLmh0bWwnKSwKICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uICgkc2NvcGUpIHsKCgogICAgICAgICAgICAgICAgICAgIC8qIFZBUklBQkxFUyAqLwogICAgICAgICAgICAgICAgICAgICRzY29wZS5yZW1lbWJlck1lID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUubWVzc2FnZSA9ICIiOwogICAgICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlID0ge3RleHQ6ICRmaWx0ZXIoJ3RyYW5zbGF0ZScpKCdPUicpLCBfY2xhc3M6ICcnfTsKICAgICAgICAgICAgICAgICAgICB2YXIgX19fX19lcnJvck1lc3NhZ2U7CgogICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXRFcnJvck1lc3NhZ2UgPSBmdW5jdGlvbihyZWFzb24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKF9fX19fZXJyb3JNZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgICAgICAgX19fX19lcnJvck1lc3NhZ2UgPSAkdGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWVzc2FnZS50ZXh0ID0gJGZpbHRlcigndHJhbnNsYXRlJykoJ09SJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWVzc2FnZS5fY2xhc3MgPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUucnNNZXNzYWdlLnRleHQgPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUucnNNZXNzYWdlLl9jbGFzcyA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlID0geyB0ZXh0OiByZWFzb24sIF9jbGFzczogImludmFsaWQiIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUucnNNZXNzYWdlID0geyB0ZXh0OiByZWFzb24sIF9jbGFzczogImludmFsaWQiIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IEVORCBWQVJJQUJMRVMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLwoKICAgICAgICAgICAgICAgICAgICAvKiBTaWduIHVzZXIgaW4gKi8KICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2lnbkluID0gZnVuY3Rpb24gKHVzZXIsIHJlbWVtYmVyTWUpIHsKCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1c2VyQmxvY2tlZCA9ICRjb29raWUodXNlci5sb2dpblVzZXIpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlckJsb2NrZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN0ID0gdXNlckJsb2NrZWQuZGF0ZVVudGlsIC0gdXNlckJsb2NrZWQuZGF0ZUZyb207CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWlsbGlzZWNvbmRzTGVzcyA9IHVzZXJCbG9ja2VkLmRhdGVVbnRpbCAtIG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpIC0gbmV3IERhdGUocmVzdCkpLmdldFRpbWUoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2V0RXJyb3JNZXNzYWdlKHVzZXJCbG9ja2VkLnJlYXNvbik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWlsbGlzZWNvbmRzTGVzcyA8IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29va2llLnJlbW92ZSh1c2VyLmxvZ2luVXNlcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlcjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgdXNlclNlcnZpY2UubG9naW4odXNlcikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UudXNlcklkICE9IC0xICYmIHJlc3BvbnNlLnN1Y2Nlc3MpIHsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQW5hbHl0aWNzLnRyYWNrRXZlbnQoJ0FjY291bnQnLCAnc2lnbkluJywgdXNlcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnVzZXJJZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXRFcnJvck1lc3NhZ2UocmVzcG9uc2UucmVhc29uKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVzZXI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyQ29va2llLmZpbGxQYXJhbXModXNlci5sb2dpblVzZXIsIHVzZXIubG9naW5QYXNzd29yZCwgdXNlci5lbWFpbCwgcmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUudXNlckNvb2tpZSA9IHVzZXJDb29raWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJLZXlUcmltbWVkID0gdXNlckNvb2tpZS5nZXRLZXkodXNlckNvb2tpZSkucmVwbGFjZSgvW15hLXpBLVogXS9nLCAiIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW1lbWJlck1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb29raWUodXNlcktleVRyaW1tZWQsIHVzZXJDb29raWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29va2llKCdsYXN0TG9naW4nLCB1c2VyS2V5VHJpbW1lZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1c2VySW5mb1N0cmluZyA9IEpTT04uc3RyaW5naWZ5KHVzZXJDb29raWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncmVtZW1iZXJNZScsIHVzZXJJbmZvU3RyaW5nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlZnJlc2hUaW1lT3V0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29va2llLnJlbW92ZSgidXNlckNvb2tpZSIgKyB1c2VyLmVtYWlsKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3JlbWVtYmVyTWUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzQ2FydFNlcnZpY2Uuam9pbkNhcnRQcm9kdWN0cygpLnRoZW4oZnVuY3Rpb24gKGNhcnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhcnQgPSBjYXJ0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJTZXJ2aWNlLnNpbmdPdXQoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb29raWUucmVtb3ZlKCdsYXN0TG9naW4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUudXNlckNvb2tpZSA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5sb2dpblVzZXIgPSB7ZW1haWw6ICcnLCBsb2dpblBhc3N3b3JkOiAnJywgbG9naW5Vc2VyOiAnJyx9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJvZHVjdHNDYXJ0U2VydmljZS5sb2FkQ2FydFByb2R1Y3RzKCkudGhlbihmdW5jdGlvbiAoY2FydCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICRzY29wZS5jYXJ0ID0gY2FydDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgiLm1pbmktdGl0bGUiKS5jc3MoImRpc3BsYXkiLCAibm9uZSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgiLm1pbmktdGl0bGUtaGVscCIpLmNzcygiZGlzcGxheSIsICJub25lIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGxvY2F0aW9uLnBhdGgoKSA9PSAnL3JlZ2lzdGVyJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnLycpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWxsY29tZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnJlYXNvbi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2Jsb2NrZWQnKSAhPSAtMSkgewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlclNlcnZpY2UuZ2V0Q29uZmlndXJhdGlvbigpLnRoZW4oZnVuY3Rpb24oY29uZil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckJsb2NrZWQgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZUZyb206IG5vdy5nZXRUaW1lKCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZVVudGlsOiBub3cuZ2V0VGltZSgpICsgKGNvbmYubG9naW5CbG9ja2luZ0ludGVydmFsSW5TZWNvbmRzICogMTAwMCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uIDogcmVzcG9uc2UucmVhc29uLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvb2tpZSh1c2VyLmxvZ2luVXNlciwgdXNlckJsb2NrZWQsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBpcmF0aW9uVW5pdDogJ21pbGxpc2Vjb25kcycsIGV4cGlyZXM6IHVzZXJCbG9ja2VkLmRhdGVVbnRpbCAtIHVzZXJCbG9ja2VkLmRhdGVGcm9tLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNldEVycm9yTWVzc2FnZShyZXNwb25zZS5yZWFzb24pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVzZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2V0RXJyb3JNZXNzYWdlKCRmaWx0ZXIoJ3RyYW5zbGF0ZScpKCdsb2dpbl9mYWlsZCcpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBlbmQgU2lnbiBpbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8KCgogICAgICAgICAgICAgICAgICAgIC8qIGluY3JlbWVudCB3cm9uZyB1c2VyIGxvZ2luICAqLwogICAgICAgICAgICAgICAgICAgIHZhciBpbmNyZW1lbnRMb2dpbnMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0ID0gJGNvb2tpZSgibG9naW5zQ291bnRlciIpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9naW5zQ291bnRlciA9IHRlc3QgPT09IHVuZGVmaW5lZCA/IC0xIDogdGVzdDsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2dpbnNDb3VudGVyID09IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlc3QgPSAkY29va2llKCJsb2dpbnNDb3VudGVyIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlc3QgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0ID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2luc0NvdW50ZXIgPSB0ZXN0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gKytsb2dpbnNDb3VudGVyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvb2tpZSgibG9naW5zQ291bnRlciIsIGNvdW50LCB7ZXhwaXJlczogMzY1fSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY291bnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KCk7CiAgICAgICAgICAgICAgICAgICAgLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IGVuZCBpbmNyZW1lbnQgbG9naW5zID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLwoKCiAgICAgICAgICAgICAgICAgICAgLyogY3JlYXRlIHRvIHVzZXIgbmV3IGFjY291bnQgaW4gYXBwbGljYXRpb24gKi8KICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY3JlYXRlTmV3QWNjb3VudCA9IGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdlbGxjb21lKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCdyZWdpc3RlcicpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAvKj09PT09PT09PT09PT09PT0gZW5kIGNyZWF0ZSB0byB1c2VyIG5ldyBhY2NvdW50IGluIGFwcGxpY2F0aW9uICA9PT09PT09PT09PT09PT09PT09PT09PT0qLwoKICAgICAgICAgICAgICAgICAgICAvKiBnbyB0byBhYm91dCBwYWdlICovCiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wZW5BYm91dFBhZ2UgPSBmdW5jdGlvbiAodXNlcikgewogICAgICAgICAgICAgICAgICAgICAgICB3ZWxsY29tZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnYWJvdXQnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLyo9PT09PT09PT09PT09PT09IGVuZCBnbyB0byBhYm91dCBwYWdlICA9PT09PT09PT09PT09PT09PT09PT09PT0qLwoKICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZm9yZ290UGFzc3dvcmQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJmb3Jnb3QgUGFzc3dvcmQgbm90IGRvbmUgeWV0ISIpOwogICAgICAgICAgICAgICAgICAgICAgICAvLyRsb2NhdGlvbi5wYXRoKCc0MDQnKTsKICAgICAgICAgICAgICAgICAgICB9CgoKICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2luZ1dpdGhGYWNlYm9vayA9IGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJTaW5nIFdpdGggRmFjZWJvb2sgbm90IGRvbmUgeWV0ISIpOwogICAgICAgICAgICAgICAgICAgICAgICB1c2VyU2VydmljZS5mYWNlYm9va0xvZ2luKCkudGhlbihmdW5jdGlvbihzdWNjZXNzKXsKCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2V0RXJyb3JNZXNzYWdlKGVycm9yLmRhdGEucmVhc29uKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSApOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgfQogICAgXSk7Cn0pOwoKCmZ1bmN0aW9uIHdlbGxjb21lKCkgewogICAgJCgiLmxvZ2luIikuY3NzKCJvcGFjaXR5IiwgIjAuMiIpCiAgICAkKCIuUG9wVXAgPiBkaXY6bnRoLWNoaWxkKDEpIikuYW5pbWF0ZSh7InRvcCI6ICItMTUwJSJ9LCA2MDAsIGZ1bmN0aW9uICgpIHsKCiAgICAgICAgJCgiI21vYmlsZS1zZWN0aW9uIikuY3NzKCJsZWZ0IiwgIi0iICsgJCgiI21vYmlsZS1zZWN0aW9uIikuY3NzKCJ3aWR0aCIpKTsKICAgICAgICAkKCIuUG9wVXAiKS5mYWRlT3V0KDEwMCk7CiAgICAgICAgJCgiYm9keSIpLmNzcygib3ZlcmZsb3cteSIsICJzY3JvbGwiKQogICAgICAgICQoIi5sb2dpbiIpLmNzcygib3BhY2l0eSIsICIxIik7CiAgICB9KTsKfQo7Ci8qKg0KICogQ3JlYXRlZCBieSBrdWJhbnkgb24gMTAvMTQvMjAxNS4NCiAqLw0KDQoNCmRlZmluZSgnYXBwL3VzZXIvZGlyZWN0aXZlcy9pbmRleCcsWw0KICAgICcuL3ZlcnNpb24tY29udGVudCcsDQogICAgJy4vbG9naW5Nb2RhbCcNCl0sIGZ1bmN0aW9uKCkge30pOwovKioKICogQ3JlYXRlZCBieSBrdWJhbnkgb24gMTAvMTQvMjAxNS4KICovCgpkZWZpbmUoJ2FwcC9vcmRlci9kaXJlY3RpdmVzL21vZHVsZScsWydhbmd1bGFyJ10sIGZ1bmN0aW9uIChhbmd1bGFyKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICByZXR1cm4gYW5ndWxhci5tb2R1bGUoJ2Fvcy5vcmRlci5kaXJlY3RpdmVzJywgW10pOwp9KTsKLyoqCiAqIENyZWF0ZWQgYnkgY29ycmVudGkgb24gMDMvMDEvMjAxNi4KICovCgpkZWZpbmUoJ2FwcC9vcmRlci9kaXJlY3RpdmVzL1VzZXJOb3RMb2dpbicsWycuL21vZHVsZSddLCBmdW5jdGlvbiAoZGlyZWN0aXZlcykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgZGlyZWN0aXZlcy5kaXJlY3RpdmUoJ3VzZXJOb3RMb2dpbicsIFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSwKICAgICAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgnYXBwL29yZGVyL3BhcnRpYWxzL3VzZXItbm90LWxvZ2luLmh0bWwnKSwKICAgICAgICB9CiAgICB9XSk7Cn0pOwoKCgovKioKICogQ3JlYXRlZCBieSBjb3JyZW50aSBvbiAwMy8wMS8yMDE2LgogKi8KCgpkZWZpbmUoJ2FwcC9vcmRlci9kaXJlY3RpdmVzL1VzZXJBcmVMb2dpbicsWycuL21vZHVsZSddLCBmdW5jdGlvbiAoZGlyZWN0aXZlcykgewogICAgJ3VzZSBzdHJpY3QnOwogICAgZGlyZWN0aXZlcy5kaXJlY3RpdmUoJ3VzZXJBcmVMb2dpbicsIFsnJHJvb3RTY29wZScsICckdGVtcGxhdGVDYWNoZScsICdvcmRlclNlcnZpY2UnLAogICAgICAgICdyZWdpc3RlclNlcnZpY2UnLCAnJHRpbWVvdXQnLCAnYWNjb3VudFNlcnZpY2UnLCAnQW5hbHl0aWNzJywKICAgICAgICBmdW5jdGlvbiAocnMsICR0ZW1wbGF0ZUNhY2hlLCBvcmRlclNlcnZpY2UsIHJlZ2lzdGVyU2VydmljZSwgJHRpbWVvdXQsIGFjY291bnRTZXJ2aWNlLCBBbmFseXRpY3MpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsCiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCdhcHAvb3JkZXIvcGFydGlhbHMvdXNlci1hcmUtbG9naW4uaHRtbCcpLAogICAgICAgICAgICAgICAgbGluazogewogICAgICAgICAgICAgICAgICAgIHByZTogZnVuY3Rpb24gKHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcy51c2VyRGV0YWlsc0VkaXRNb2RlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHMuaW52YWxpZFVzZXIgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBzLnZhbGlkU2VjVmFsaWRhdGUgPSBmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuaW52YWxpZFVzZXIgPSBzLnVzZXJEZXRhaWxzRWRpdE1vZGUgPSAhdmFsaWQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgJCgiI3BheU5vd1NQRXJyb3JMYWJlbCIpLmh0bWwoIiIpOwogICAgICAgICAgICAgICAgICAgICAgICAkKCIjcGF5Tm93TUNFcnJvckxhYmVsRXhwZW5kZWQiKS5odG1sKCIiKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBvc3Q6IGZ1bmN0aW9uIChzKSB7CgogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWxyZWFkeUhhdmVNYXN0ZXJDcmVkaXRDYXJ0ID0gcy5jYXJkLm51bWJlci5sZW5ndGggPiAwOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWxyZWFkeUhhdmVTYWZlUGF5Q2FydCA9IHMuc2F2ZVBheS51c2VybmFtZS5sZW5ndGggPiAwOwoKICAgICAgICAgICAgICAgICAgICAgICAgcy5maXJzdFRhZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIHMuaW1nUmFkaW9CdXR0b24gPSBzLmFjY291bnREZXRhaWxzLmRlZmF1bHRQYXltZW50TWV0aG9kSWQgKyAiIiA9PSAiMjAiID8gMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzLnNhdmVQYXkudXNlcm5hbWUubGVuZ3RoID4gMCA/IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcy5jYXJkLm51bWJlci5sZW5ndGggPiAwID8gMiA6IDE7CgogICAgICAgICAgICAgICAgICAgICAgICBzLmNvdW50cmllcyA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyU2VydmljZS5nZXRBbGxDb3VudHJpZXMoKS50aGVuKGZ1bmN0aW9uIChjb3VudHJpZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgIGluIGNvdW50cmllcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3VudHJpZXNbaV0uaWQgPT0gcy51c2VyLmNvdW50cnlJZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLmNvdW50cnkgPSBjb3VudHJpZXNbaV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuY291bnRyaWVzID0gY291bnRyaWVzOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHMuYmFja1RvTWFpblNoaXBwaW5nRGV0YWlscyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLmludmFsaWRVc2VyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy51c2VyRGV0YWlsc0VkaXRNb2RlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIHMuYWNjb3VudFVwZGF0ZSA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnVzZXIuY291bnRyeUlkID0gcy5jb3VudHJ5Lm5hbWUgKyAiLCIgKyBzLmNvdW50cnkuaXNvTmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMudXNlci5jb3VudHJ5ID0gcy5jb3VudHJ5Lmlzb05hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5hZ3JlZV9BZ3JlZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlclNlcnZpY2UuYWNjb3VudFVwZGF0ZShzLnVzZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVcGRhdGVTaGlwcGluZ0Nvc3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVwZGF0ZVNoaXBwaW5nQ29zdCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBVcGRhdGVTaGlwcGluZ0Nvc3QoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlclNlcnZpY2UuZ2V0U2hpcHBpbmdDb3N0KHMudXNlcikudGhlbihmdW5jdGlvbiAoc2hpcHBpbmcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnNoaXBwaW5nID0gc2hpcHBpbmc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLmludmFsaWRVc2VyID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMudXNlckRldGFpbHNFZGl0TW9kZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLmZpcnN0VGFnID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCgogICAgICAgICAgICAgICAgICAgICAgICBzLnNldERlZmF1bHRDYXJkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgcy55ZWFycyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnllYXJzLnB1c2goKG5vdy5nZXRGdWxsWWVhcigpICsgaSkgKyAiIik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCgoKICAgICAgICAgICAgICAgICAgICAgICAgcy5jYWxjdWxhdGVNb250aHMgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcnIgPSBIZWxwZXIuZ2V0TW9udGhJblllYXJGb3JNYXN0ZXJDcmVkaXQodmFsdWUsIHMubW9udGgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyciAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5tb250aCA9IGFycjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihzLmNhcmQgJiYgcy5jYXJkLmV4cGlyYXRpb25EYXRlICYmIHMuY2FyZC5leHBpcmF0aW9uRGF0ZS5tb250aCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFycltpXSA9PSBzLmNhcmQuZXhwaXJhdGlvbkRhdGUubW9udGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5jYXJkLmV4cGlyYXRpb25EYXRlLm1vbnRoID0gYXJyWzBdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHMubW9udGggPSBbIjAxIiwgIjAyIiwgIjAzIiwgIjA0IiwgIjA1IiwgIjA2IiwgIjA3IiwgIjA4IiwgIjA5IiwgIjEwIiwgIjExIiwgIjEyIl07CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCEocy5jYXJkICYmIHMuY2FyZC5leHBpcmF0aW9uRGF0ZSAmJiBzLmNhcmQuZXhwaXJhdGlvbkRhdGUueWVhcikpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5jYXJkLmV4cGlyYXRpb25EYXRlLm1vbnRoID0gIjEyIi8vQlVHIDE2NjAwMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5jYXJkLmV4cGlyYXRpb25EYXRlLnllYXIgPSAiMjAyNyIvL0JVRyAxNjYwMDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuY2FsY3VsYXRlTW9udGhzKHMuY2FyZC5leHBpcmF0aW9uRGF0ZS55ZWFyKQogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAobm93LmdldEZ1bGxZZWFyKCkgPT0gcy5jYXJkLmV4cGlyYXRpb25EYXRlLnllYXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50TW9udGggPSBub3cuZ2V0TW9udGgoKSArIDE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzLm1vbnRoID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3IodmFyIGkgPSBjdXJyZW50TW9udGg7IGkgPD0gMTI7IGkrKyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgcy5tb250aC5wdXNoKChpIDwgMTAgPyAiMCIgKyBpIDogIiIgKyBpKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQoKCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzYWZlUGF5QnVzc3kgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXBQYXNzOwoKICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gc2FmZVBheShUcmFuc1BheW1lbnRNZXRob2QsIGFjY291bnROdW1iZXIpIHsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2FmZVBheUJ1c3N5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FmZVBheUJ1c3N5ID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5zYXZlUGF5ICYmIHMuc2F2ZVBheS5wYXNzd29yZC5sZW5ndGggPT0gMTIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy4kcGFyZW50LnNlY3JldFBhc3N3b3JkLmluZGV4T2Yocy5zYXZlUGF5LnBhc3N3b3JkKSAhPSAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wUGFzcyA9IHMuc2F2ZVBheS5wYXNzd29yZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5zYXZlUGF5LnBhc3N3b3JkID0gcy4kcGFyZW50LnNlY3JldFBhc3N3b3JkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyU2VydmljZS5TYWZlUGF5KHMudXNlciwgcy5zYXZlUGF5LCBzLmNhcmQsIHMuc2hpcHBpbmcsIHMuY2FydCwgYWNjb3VudE51bWJlciwgVHJhbnNQYXltZW50TWV0aG9kKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFuYWx5dGljcy50cmFja0V2ZW50KCdPcmRlcicsICdwYXltZW50Q29tcGxldGVkJywgcmVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoIiNwYXlOb3dTUEVycm9yTGFiZWwiKS5odG1sKCIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2FycmFudHlSZXNwb25zZSA9IHJlcy53YXJyYW50eU51bWJlciA/IEpTT04ucGFyc2UocmVzLndhcnJhbnR5TnVtYmVyKSA6IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnMuJGJyb2FkY2FzdCgndXBkYXRlUGF5bWVudEVuZCcsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudEVuZDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJOdW1iZXI6IHJlcy5vcmRlck51bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdOdW1iZXI6IHJlcy5wYXltZW50Q29uZmlybWF0aW9uTnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkTnVtYmVyOiArcy5jYXJkLm51bWJlciArICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcmFuc1BheW1lbnRNZXRob2Q6IFRyYW5zUGF5bWVudE1ldGhvZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzV2FycmFudHk6IHJlcy5oYXNXYXJyYW50eSA/IHRydWUgOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FycmFudHlOdW1iZXIgOiB3YXJyYW50eVJlc3BvbnNlICYmIHdhcnJhbnR5UmVzcG9uc2UuV2FycmFudHlJRCAhPSBudWxsID8gd2FycmFudHlSZXNwb25zZS5XYXJyYW50eUlEIDogIjAiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVyLnNjcm9sbFBhZ2VVcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVQYXlCdXNzeSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVQYXlCdXNzeSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5wYXltZW50RW5kID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FmZVBheUJ1c3N5ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnBheW1lbnRFbmQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvck9iaiA9IEpTT04ucGFyc2UoZXJyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVycm9yT2JqICYmIGVycm9yT2JqLmRhdGEgJiYgZXJyb3JPYmouZGF0YS5yZWFzb24pewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8kKCIjcGF5Tm93TUNFcnJvckxhYmVsIikuaHRtbChlcnJvck9iai5kYXRhLnJlYXNvbik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vJCgiI3BheU5vd01DRXJyb3JMYWJlbEV4cGVuZGVkIikuaHRtbChlcnJvck9iai5kYXRhLnJlYXNvbik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoIiNwYXlOb3dTUEVycm9yTGFiZWwiKS5odG1sKGVycm9yT2JqLmRhdGEucmVhc29uKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBQYXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5zYXZlUGF5LnBhc3N3b3JkID0gdGVtcFBhc3M7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCgogICAgICAgICAgICAgICAgICAgICAgICBzLnBheU5vd19TYWZlUGF5ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuc2F2ZVNhZmVQYXkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFscmVhZHlIYXZlU2FmZVBheUNhcnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudFNlcnZpY2UuYWRkU2FmZVBheU1ldGhvZChzLnNhdmVQYXkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50U2VydmljZS51cGRhdGVTYWZlUGF5TWV0aG9kKHMuc2F2ZVBheSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgVHJhbnNQYXltZW50TWV0aG9kID0gIlNhZmVQYXkiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjY291bnROdW1iZXIgPSAiODQzMjAwOTcxIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVQYXkoVHJhbnNQYXltZW50TWV0aG9kLCBhY2NvdW50TnVtYmVyKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIH0KCgogICAgICAgICAgICAgICAgICAgICAgICBzLnBheU5vd19tYXN0ZXJDcmVkaXQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5zYXZlTWFzdGVyQ3JlZGl0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5jYXJkLm51bWJlciA9IHMuY2FyZC5udW1iZXIucmVwbGFjZSgvXHMvZywnJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhbHJlYWR5SGF2ZU1hc3RlckNyZWRpdENhcnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudFNlcnZpY2UuYWRkTWFzdGVyQ3JlZGl0TWV0aG9kKHMuY2FyZCkudGhlbihmdW5jdGlvbihzdWNjZXNzKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuZG9QYXltZW50KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoIiNwYXlOb3dNQ0Vycm9yTGFiZWxFeHBlbmRlZCIpLmh0bWwoZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgiI3BheU5vd01DRXJyb3JMYWJlbCIpLmh0bWwoZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudFNlcnZpY2UudXBkYXRlTWFzdGVyQ3JlZGl0TWV0aG9kKHMuY2FyZCkudGhlbihmdW5jdGlvbihzdWNjZXNzKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuZG9QYXltZW50KCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnJvcil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCIjcGF5Tm93TUNFcnJvckxhYmVsRXhwZW5kZWQiKS5odG1sKGVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoIiNwYXlOb3dNQ0Vycm9yTGFiZWwiKS5odG1sKGVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHMuZG9QYXltZW50ID0gZnVuY3Rpb24oVHJhbnNQYXltZW50TWV0aG9kLCBhY2NvdW50TnVtYmVyKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBUcmFuc1BheW1lbnRNZXRob2QgPSAiTWFzdGVyQ3JlZGl0IjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY2NvdW50TnVtYmVyID0gIjExMjk4NzI5ODc2MyI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWZlUGF5KFRyYW5zUGF5bWVudE1ldGhvZCwgYWNjb3VudE51bWJlcik7CiAgICAgICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICAgICBzLnBheU5vd19tYW51YWwgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnBheU5vd19tYXN0ZXJDcmVkaXQoKQogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBzLnNoaXBwaW5nRGV0YWlsc19uZXh0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5maXJzdFRhZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5zaG93TWFzdGVyQ2FydCA9IHMubm9DYXJkcyB8fCAocy5jYXJkICYmIHMuY2FyZC5jYXJ0RXhwaXJlZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIHMuaW1nUmFkaW9CdXR0b25DbGlja2VkID0gZnVuY3Rpb24gKG51bSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5pbWdSYWRpb0J1dHRvbiA9IG51bTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuc2hvd01hc3RlckNhcnQgPSBzLm5vQ2FyZHMgfHwgKHMuY2FyZCAmJiBzLmNhcmQuY2FydEV4cGlyZWQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgiI3BheU5vd1NQRXJyb3JMYWJlbCIpLmh0bWwoIiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgiI3BheU5vd01DRXJyb3JMYWJlbCIpLmh0bWwoIiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgiI3BheU5vd01DRXJyb3JMYWJlbEV4cGVuZGVkIikuaHRtbCgiIik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIHMucGF5bWVudE1ldGhvZF9lZGl0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5ub0NhcmRzID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgcy5CYWNrX3RvX3NoaXBwaW5nX2RldGFpbHMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLmZpcnN0VGFnID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuc2hvd01hc3RlckNhcnQgPSBzLm5vQ2FyZHM7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIHMudG9nZ2xlU2hvd01hc3RlckNhcnQgPSBmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5zaG93TWFzdGVyQ2FydCA9ICFzLnNob3dNYXN0ZXJDYXJ0OwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBzLnNldFVzZXJEZXRhaWxzRWRpdE1vZGUgPSBmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcy51c2VyRGV0YWlsc0VkaXRNb2RlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH1dKTsKfSk7CgoKLyoqCiAqIENyZWF0ZWQgYnkgY29ycmVudGkgb24gMDkvMDEvMjAxNi4KICovCgoKZGVmaW5lKCdhcHAvb3JkZXIvZGlyZWN0aXZlcy9vcmRlclBheW1lbnRTdWNjZXNzJyxbJy4vbW9kdWxlJ10sIGZ1bmN0aW9uIChkaXJlY3RpdmVzKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBkaXJlY3RpdmVzLmRpcmVjdGl2ZSgnb3JkZXJQYXltZW50U3VjY2VzcycsIFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSwKICAgICAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgnYXBwL29yZGVyL3BhcnRpYWxzL29yZGVyLXBheW1lbnQtc3VjY2Vzcy5odG1sJyksCiAgICAgICAgfQogICAgfV0pOwp9KTsKCgoKLyoqCiAqIENyZWF0ZWQgYnkga3ViYW55IG9uIDEwLzE0LzIwMTUuCiAqLwoKCmRlZmluZSgnYXBwL29yZGVyL2RpcmVjdGl2ZXMvaW5kZXgnLFsKICAgICcuL1VzZXJOb3RMb2dpbicsCiAgICAnLi9Vc2VyQXJlTG9naW4nLAogICAgJy4vb3JkZXJQYXltZW50U3VjY2VzcycKXSwgZnVuY3Rpb24oKSB7IH0pOwovKioKICogQ3JlYXRlZCBieSBrdWJhbnkgb24gMTAvMTQvMjAxNS4KICovCgoKZGVmaW5lKCdhcHAvYWNjb3VudC9kaXJlY3RpdmVzL2luZGV4JyxbCi8vICAgICcuL1VzZXJOb3RMb2dpbicsCi8vICAgICcuL1VzZXJBcmVMb2dpbicsCi8vICAgICcuL29yZGVyUGF5bWVudFN1Y2Nlc3MnCl0sIGZ1bmN0aW9uKCkgeyB9KTsKLy8vKioKLy8gKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDE5LzA1LzIwMTYuCi8vICovCi8vCgpkZWZpbmUoJ2FwcC9TRUNPUlJFTlRJL3NlYy1pbnB1dC9kaXJlY3RpdmVzL3NlYy1pbnB1dC12YWxpZGF0aW9uJyxbJy4vLi4vLi4vLi4vZGlyZWN0aXZlcy9tb2R1bGUnXSwgZnVuY3Rpb24gKGRpcmVjdGl2ZXMpIHsKICAgICd1c2Ugc3RyaWN0JzsKCn0pOwoKCi8qKgogKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDE5LzA1LzIwMTYuCiAqLwoKCgpkZWZpbmUoJ2FwcC9TRUNPUlJFTlRJL3NlYy1pbnB1dC9pbmRleCcsWwogICAgICAgICcuL2RpcmVjdGl2ZXMvc2VjLWlucHV0LXZhbGlkYXRpb24nLAoKICAgIF0sCiAgICBmdW5jdGlvbigpIHt9KTsKICAgICAgICAgICAgICAgICAgICAgICAgZGVmaW5lKCdhcHAvdGVtcGxhdGVzL21vZHVsZScsWyJhbmd1bGFyIl0sIGZ1bmN0aW9uIChhbmd1bGFyKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ1c2Ugc3RyaWN0IjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXBsYXRlcyA9IGFuZ3VsYXIubW9kdWxlKCJhb3MudGVtcGxhdGVzIiwgW10pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZXMucnVuKGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VzZSBzdHJpY3QnOwoKICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2FwcC9wYXJ0aWFscy9jYXRlZ29yeV90eXBlX3Byb2R1Y3RzX3RwbC5odG1sJywKICAgICI8ZGl2PlxuIiArCiAgICAiXG4iICsKICAgICIgICAgPGRpdiBjbGFzcz1cImNlbGwgY2F0ZWdvcnlMZWZ0XCI+XG4iICsKICAgICIgICAgICAgIDxwIGNsYXNzPVwiZmlsdGVyQ291bnQgcm9ib3RvLWxpZ2h0XCI+XG4iICsKICAgICIgICAgICAgICAgICA8YSBjbGFzcz1cInRpdGxlSXRlbXNDb3VudFwiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIHt7KFtdIHwgcHJvZHVjdHNGaWx0ZXJGb3JDYXRlZ29yaWVzUHJvZHVjdDpzZWFyY2hSZXN1bHQ6bWluUHJpY2VUb0ZpbHRlcjptYXhQcmljZVRvRmlsdGVyOnByb2R1Y3RzSW5jbHVkZSkubGVuZ3RofX0ge3sgJ0lURU1TJyB8IHRyYW5zbGF0ZSB9fVxuIiArCiAgICAiICAgICAgICAgICAgPC9hPlxuIiArCiAgICAiICAgICAgICAgICAgPHNwYW4gZGF0YS1uZy1jbGljaz1cInRvZ2dsZUZpbHRlclNsaWRlKCdtb2JpbGVTbGlkZScpXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIuLi8uLi9jc3MvaW1hZ2VzL0ZpbHRlci5wbmdcIiBhbHQ9XCJmaWx0ZXJcIi8+XG4iICsKICAgICIgICAgICAgICAgICAgICAge3sgJ0ZpbHRlcicgfCB0cmFuc2xhdGUgfX1cbiIgKwogICAgIiAgICAgICAgICAgICAgICAoe3soW10gfCBwcm9kdWN0c0ZpbHRlckZvckNhdGVnb3JpZXNQcm9kdWN0OnNlYXJjaFJlc3VsdDptaW5QcmljZVRvRmlsdGVyOm1heFByaWNlVG9GaWx0ZXI6cHJvZHVjdHNJbmNsdWRlKS5sZW5ndGh9fSlcbiIgKwogICAgIiAgICAgICAgICAgIDwvc3Bhbj5cbiIgKwogICAgIiAgICAgICAgPC9wPlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICA8ZGl2IGlkPVwibW9iaWxlU2xpZGVcIj5cbiIgKwogICAgIiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInJvYm90by1yZWd1bGFyXCI+e3sgJ0ZJTFRFUl9CWScgfCB0cmFuc2xhdGUgfX1cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJyb2JvdG8tcmVndWxhciBjbGVhclwiIG5nLWNsaWNrPVwiY2xlYXJTZWxlY3Rpb24oKVwiIHRyYW5zbGF0ZT1cIkNsZWFyXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgbmctc2hvdz1cInNob3dDbGVhclwiPjwvbGFiZWw+XG4iICsKICAgICIgICAgICAgICAgICA8L2xhYmVsPlxuIiArCiAgICAiICAgICAgICAgICAgPHVsPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDwhLS0tIGNhdGVnb3JpZXMgZmlsdGVyIFNlY3Rpb24gLS0+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPGxpIG5nLWlmPVwiY2F0ZWdvcmllc0ZpbHRlciAhPSBudWxsXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cImFjY29yZGlvbiByb2JvdG8tcmVndWxhciBhcnJvd0Rvd24gYXJyb3dVcFwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICBpZD1cImFjY29yZGlvbkNhdGVnb3JpZXNcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgbmctY2xpY2s9XCJ0b2dnbGVDb2xhcHNlKCdhY2NvcmRpb25DYXRlZ29yaWVzJylcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlPVwiQ0FURUdPUklFU1wiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8L2g0PlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwib3B0aW9uXCIgc3R5bGU9XCJkaXNwbGF5OiBibG9ja1wiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBuZy1yZXBlYXQ9XCJjYXRlZyBpbiBjYXRlZ29yaWVzRmlsdGVyXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGxcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IG5hbWU9XCJjYXRlZ29yeVwiIHR5cGU9XCJjaGVja2JveFwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZy1tb2RlbD1cImNhdGVnLmNoZWNrZWRcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmctY2xpY2s9XCJpbmNsdWRlUHJvZHVjdHMoY2F0ZWcuaWQsICdDQVRFR09SSUVTJylcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyb2JvdG8tcmVndWxhclwiPnt7Y2F0ZWcubmFtZX19PC9zcGFuPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDwvbGk+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPCEtLS0gRU5EIGNhdGVnb3JpZXMgZmlsdGVyIFNlY3Rpb24gLS0+XG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDwhLS0tIFByaWNlIGZpbHRlciBTZWN0aW9uLS0+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPGxpPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8IS0tZGF0YS1uZy1jbGFzcz1cInsgYXJyb3dVcCA6IHZpZXdBbGwgfVwiLS0+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxoNCBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgY2xhc3M9XCJhY2NvcmRpb24gcm9ib3RvLXJlZ3VsYXIgYXJyb3dEb3duXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwiYWNjb3JkaW9uUHJpY2VcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgbmctY2xpY2s9XCJ0b2dnbGVDb2xhcHNlKCdhY2NvcmRpb25QcmljZScpXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZT1cIlBSSUNFXCIgcm9sZT1cImxpbmtcIj48L2g0PlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDwhLS08ZGl2IGNsYXNzPVwib3B0aW9uXCI+LS0+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb25cIiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlclwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1uZy1zdHlsZT1cInZpZXdBbGwgPyB7J2Rpc3BsYXknOiAnYmxvY2snfSA6IHt9XCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwic2xpZGVyXCI+PC9kaXY+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICA8YnIvPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJzbGlkZXJTdGVwcyBsZWZ0XCI+JHt7IG1pblByaWNlVG9GaWx0ZXIgfCBudW1iZXIgfX08L3A+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInNsaWRlclN0ZXBzIFwiPiR7eyBtYXhQcmljZVRvRmlsdGVyIHwgbnVtYmVyIH19PC9wPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDwvbGk+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPCEtLS0gRU5EIFByaWNlIGZpbHRlciBTZWN0aW9uIC0tPlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICAgICAgPCEtLS0gYXR0cmlidXRlcyBmaWx0ZXIgU2VjdGlvbiAtLT5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8bGkgbmctcmVwZWF0PVwiYXR0cmliIGluIGF0dHJpYnV0ZXNUb1Nob3dcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPGg0IGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiBjbGFzcz1cImFjY29yZGlvbiByb2JvdG8tcmVndWxhciBhcnJvd0Rvd25cIiBpZD1cImFjY29yZGlvbkF0dHJpYnt7JGluZGV4fX1cIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgbmctY2xpY2s9XCJ0b2dnbGVDb2xhcHNlKCdhY2NvcmRpb25BdHRyaWInICsgJGluZGV4KVwiIHJvbGU9XCJsaW5rXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICB7e2F0dHJpYi5uYW1lfX1cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPC9oND5cbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb25cIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgbmctcmVwZWF0PVwiYXR0clZhbCBpbiBhdHRyaWIudmFsdWVzXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGwgaWNvbkNzc1wiID5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IG5hbWU9J3t7YXR0cmliLm5hbWUucmVwbGFjZShcIiBcIiwgXCJfXCIpLnRvTG93ZXJDYXNlKCl9fV97eyRpbmRleH19JyB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cIml0ZW0uc2VsZWN0ZWRcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmctY2xpY2s9XCJpbmNsdWRlUHJvZHVjdHMoYXR0clZhbCwgYXR0cmliLm5hbWUpXCIgaWQ9J3t7YXR0cmliLm5hbWUucmVwbGFjZShcIiBcIiwgXCJfXCIpLnRvTG93ZXJDYXNlKCl9fV97eyRpbmRleH19Jz5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0ne3thdHRyaWIubmFtZS5yZXBsYWNlKFwiIFwiLCBcIl9cIikudG9Mb3dlckNhc2UoKX19X3t7JGluZGV4fX0nIGNsYXNzPVwicm9ib3RvLXJlZ3VsYXJcIiBkYXRhLW5nLWNsaWNrPVwiaXRlbS5zZWxlY3RlZCA9ICFpdGVtLnNlbGVjdGVkOyBpbmNsdWRlUHJvZHVjdHMoYXR0clZhbCwgYXR0cmliLm5hbWUpXCI+e3s6OmF0dHJWYWx9fTwvbGFiZWw+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPC9saT5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8IS0tLSBFTkQgYXR0cmlidXRlcyBmaWx0ZXIgU2VjdGlvbiAtLT5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDwhLS0tIGNvbG9yIGZpbHRlciBTZWN0aW9uIC0tPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDxsaSBuZy1pZj1cInByb2R1Y3RzQ29sb3JzLmxlbmd0aCA+IDBcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPGg0IGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiBjbGFzcz1cImFjY29yZGlvbiByb2JvdG8tcmVndWxhciBhcnJvd0Rvd25cIiBpZD1cImFjY29yZGlvbkNvbG9yXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgIG5nLWNsaWNrPVwidG9nZ2xlQ29sYXBzZSgnYWNjb3JkaW9uQ29sb3InKVwiIHRyYW5zbGF0ZT1cIkNPTE9SXCIgcm9sZT1cImxpbmtcIj48L2g0PlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb25cIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgbmctcmVwZWF0PVwiY29sb3IgaW4gcHJvZHVjdHNDb2xvcnNcIiBjbGFzcz1cImlubGluZS1ibG9ja1wiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIHRpdGxlPVwie3tjb2xvci5uYW1lfX1cIiBjbGFzcz1cInByb2R1Y3RDb2xvciBcIiBpZD1cInByb2R1Y3RzQ29sb3Jze3tjb2xvci5jb2RlfX1cIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nLWNsaWNrPVwiaW5jbHVkZVByb2R1Y3RzKGNvbG9yLCAnQ09MT1InKTsgdG9nZ2xlQ29sb3JTZWxlY3RlZENsYXNzKGNvbG9yLmNvZGUpXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZy1zdHlsZT1cIiBjb2xvci5jb2RlID09ICdGRkZGRkYnID9cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsnYmFja2dyb3VuZENvbG9yJzogJyMnICsgY29sb3IuY29kZSwgJ2JvcmRlcic6ICdzb2xpZCAxcHggIzlkOWQ5ZCcgfSA6XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7J2JhY2tncm91bmRDb2xvcic6ICcjJyArIGNvbG9yLmNvZGUsICdib3JkZXInOiAnc29saWQgMXB4IHRyYW5zcGFyZW50J31cIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLS0gPGxhYmVsPjwvbGFiZWw+IC0tPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDwvbGk+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPCEtLS0gRU5EIGNvbG9yIGZpbHRlciBTZWN0aW9uIC0tPlxuIiArCiAgICAiICAgICAgICAgICAgPC91bD5cbiIgKwogICAgIiAgICAgICAgPC9kaXY+XG4iICsKICAgICIgICAgPC9kaXY+XG4iICsKICAgICIgICAgPGRpdiBjbGFzcz1cImNlbGwgY2F0ZWdvcnlSaWdodFwiIGRhdGEtbmctc2hvdz1cIihbXSB8IHByb2R1Y3RzRmlsdGVyRm9yQ2F0ZWdvcmllc1Byb2R1Y3Q6c2VhcmNoUmVzdWx0Om1pblByaWNlVG9GaWx0ZXI6bWF4UHJpY2VUb0ZpbHRlcjpwcm9kdWN0c0luY2x1ZGUpLmxlbmd0aCAhPSAwXCI+XG4iICsKICAgICIgICAgICAgIDx1bD5cbiIgKwogICAgIiAgICAgICAgICAgIDxsaSBuZy1yZXBlYXQ9XCJwcm9kdWN0IGluIFtdIHwgcHJvZHVjdHNGaWx0ZXJGb3JDYXRlZ29yaWVzUHJvZHVjdDpzZWFyY2hSZXN1bHQ6bWluUHJpY2VUb0ZpbHRlcjptYXhQcmljZVRvRmlsdGVyOnByb2R1Y3RzSW5jbHVkZVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgbmctY2xpY2s9XCIkbG9jYXRpb24ucGF0aCgnL3Byb2R1Y3QvJyArIHByb2R1Y3QucHJvZHVjdElkKVwiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzb3VsT3V0XCIgZGF0YS1uZy1zaG93PVwicHJvZHVjdC5wcm9kdWN0U3RhdHVzID09ICdPdXRPZlN0b2NrJ1wiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJvYm90by1tZWRpdW1cIiB0cmFuc2xhdGU9XCJTT1VMX09VVFwiPjwvc3Bhbj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8L2Rpdj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiQWRkVG9DYXJkXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgIGRhdGEtbmctY2xhc3M9XCJ7IG91dE9mU3RvY2sgOiBwcm9kdWN0LnByb2R1Y3RTdGF0dXMgPT0gJ091dE9mU3RvY2snIH0gXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxsYWJlbCB0cmFuc2xhdGU9XCJTSE9QX05PV1wiPjwvbGFiZWw+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxkaXYgaWNvbi1jYXJ0LXN2ZyBzdHlsZT1cIndpZHRoOiAxOHB4OyBoZWlnaHQ6IDE4cHg7IFwiPjwvZGl2PlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDwvZGl2PlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDxpbWcgaWQ9XCJ7e3Byb2R1Y3QucHJvZHVjdElkfX1cIiBhbHQ9XCJcIiBjbGFzcz1cImltZ1Byb2R1Y3RcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgZGF0YS1uZy1jbGFzcz1cInsgb3V0T2ZTdG9jayA6IHByb2R1Y3QucHJvZHVjdFN0YXR1cyA9PSAnT3V0T2ZTdG9jaycgfSBcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgZGF0YS1uZy1zcmM9XCIvY2F0YWxvZy9mZXRjaEltYWdlP2ltYWdlX2lkPXt7cHJvZHVjdC5pbWFnZVVybH19XCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPHA+PGEgY2xhc3M9XCJwcm9kdWN0TmFtZVwiPnt7cHJvZHVjdC5wcm9kdWN0TmFtZX19PC9hPjwvcD5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8cD48YSBjbGFzcz1cInByb2R1Y3RQcmljZVwiPnt7cHJvZHVjdC5wcmljZSB8IGN1cnJlbmN5OlwiJFwifX0gPC9hPjwvcD5cbiIgKwogICAgIiAgICAgICAgICAgIDwvbGk+XG4iICsKICAgICIgICAgICAgIDwvdWw+XG4iICsKICAgICIgICAgPC9kaXY+XG4iICsKICAgICIgICAgPGRpdiBjbGFzcz1cImNlbGwgY2F0ZWdvcnlSaWdodCB0ZXh0QWxpZ25DZW50ZXJcIiBkYXRhLW5nLXNob3c9XCIoW10gfCBwcm9kdWN0c0ZpbHRlckZvckNhdGVnb3JpZXNQcm9kdWN0OnNlYXJjaFJlc3VsdDptaW5QcmljZVRvRmlsdGVyOm1heFByaWNlVG9GaWx0ZXI6cHJvZHVjdHNJbmNsdWRlKS5sZW5ndGggPT0gMFwiPlxuIiArCiAgICAiICAgICAgICA8bGFiZWwgY2xhc3M9XCJub1Byb2R1Y3RzIHJvYm90by1ib2xkIFwiPlxuIiArCiAgICAiICAgICAgICAgICAgPHNwYW4gdHJhbnNsYXRlPVwiTm9fcmVzdWx0c1wiPjwvc3Bhbj5cbiIgKwogICAgIiAgICAgICAgPC9sYWJlbD5cbiIgKwogICAgIiAgICA8L2Rpdj5cbiIgKwogICAgIjwvZGl2PlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIgogICk7CgoKICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2FwcC9wYXJ0aWFscy9jb25maXJtYXRpb24tbW9kYWwuaHRtbCcsCiAgICAiPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cbiIgKwogICAgIiAgICA8ZGl2IGNsYXNzPVwiY2xvc2VCdG4gY29uZi1jbG9zZS1idG5cIj48L2Rpdj5cbiIgKwogICAgIiAgICA8ZGl2IGNsYXNzPVwiY29uZmlybWF0aW9uLW1vZGFsLWNvbnRlbnRcIj5cbiIgKwogICAgIiAgICAgICAgPGxhYmVsIGNsYXNzPVwiY29uZi1sYXJnZS10aGluXCI+e3snQVJFX1VfU1VSRScgfCB0cmFuc2xhdGV9fTwvbGFiZWw+XG4iICsKICAgICIgICAgICAgIDxsYWJlbCBjbGFzcz1cImNvbmYtbGFyZ2UtcmVndWxhclwiPnt7J0NBTkNFTF9ZT1VSX09SREVSJyB8IHRyYW5zbGF0ZX19PC9sYWJlbD5cbiIgKwogICAgIiAgICAgICAgPGRpdiBjbGFzcz1cImNvbmYtbW9kYWwtYnRuLWNvbnRhaW5lclwiPlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgIDwvZGl2PlxuIiArCiAgICAiICAgIDwvZGl2PlxuIiArCiAgICAiPC9kaXY+IgogICk7CgoKICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2FwcC9wYXJ0aWFscy9lLXNlYy1wbHVzLW1pbnVzLmh0bWwnLAogICAgIjxkaXYgY2xhc3M9XCJlLXNlYy1wbHVzLW1pbnVzXCI+XG4iICsKICAgICJcbiIgKwogICAgIiAgICA8ZGl2IGNsYXNzPVwibWludXNcIiBpbmNyZW1lbnQtdmFsdWUtYXR0cj1cIi1cIiA+PC9kaXY+XG4iICsKICAgICJcbiIgKwogICAgIiAgICA8ZGl2PlxuIiArCiAgICAiICAgICAgICA8aW5wdXQgbmFtZT1cInF1YW50aXR5XCIgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm51bUF0dHJcIiBudW1iZXJzLW9ubHkgLz5cbiIgKwogICAgIiAgICA8L2Rpdj5cbiIgKwogICAgIlxuIiArCiAgICAiICAgIDxkaXYgY2xhc3M9XCJwbHVzXCIgaW5jcmVtZW50LXZhbHVlLWF0dHI9XCIrXCIgPjwvZGl2PlxuIiArCiAgICAiXG4iICsKICAgICI8L2Rpdj5cbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIgogICk7CgoKICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2FwcC9wYXJ0aWFscy9pY29uLWNhcnQtc3ZnLW1vYmlsZS5odG1sJywKICAgICI8c3ZnIGlkPVwibW9iaWxlQ2FydFwiIHZlcnNpb249XCIxLjFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgeD1cIjBweFwiIHk9XCIwcHhcIlxuIiArCiAgICAiICAgICB3aWR0aD1cIjI0cHhcIiBoZWlnaHQ9XCIyNHB4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGVuYWJsZS1iYWNrZ3JvdW5kPVwibmV3IDAgMCAyNCAyNFwiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+XG4iICsKICAgICIgICAgPHBhdGggZmlsbD1cIiMzMTMxMzFcIiBkPVwiTTksMjBjLTEuMSwwLTIsMC45LTIsMmMwLDEuMSwwLjksMiwyLDJjMS4xLDAsMi0wLjksMi0yQzExLDIwLjksMTAuMSwyMCw5LDIweiBNMTksMjBjLTEuMSwwLTIsMC45LTIsMlxuIiArCiAgICAiICAgICAgICBjMCwxLjEsMC45LDIsMiwyczItMC45LDItMkMyMSwyMC45LDIwLjEsMjAsMTksMjB6IE04LjMsMTVoMTIuNUwyNCw0SDUuNUw0LjgsMUgwdjJoMy4ybDQsMTZIMjF2LTJIOC44TDguMywxNXogTTYsNmgxNS4zbC0yLDdcbiIgKwogICAgIiAgICAgICAgSDcuOEw2LDZ6XCIvPlxuIiArCiAgICAiPC9zdmc+IgogICk7CgoKICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2FwcC9wYXJ0aWFscy9pY29uLWNhcnQtc3ZnLmh0bWwnLAogICAgIjxzdmcgaWQ9XCJtZW51Q2FydFwiIHZlcnNpb249XCIxLjFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgeD1cIjBweFwiIHk9XCIwcHhcIlxuIiArCiAgICAiICAgICB3aWR0aD1cIjI0cHhcIiBoZWlnaHQ9XCIyNHB4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGVuYWJsZS1iYWNrZ3JvdW5kPVwibmV3IDAgMCAyNCAyNFwiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+XG4iICsKICAgICIgICAgPHBhdGggZmlsbD1cIiMzMTMxMzFcIiBkPVwiTTksMjBjLTEuMSwwLTIsMC45LTIsMmMwLDEuMSwwLjksMiwyLDJjMS4xLDAsMi0wLjksMi0yQzExLDIwLjksMTAuMSwyMCw5LDIweiBNMTksMjBjLTEuMSwwLTIsMC45LTIsMlxuIiArCiAgICAiICAgICAgICBjMCwxLjEsMC45LDIsMiwyczItMC45LDItMkMyMSwyMC45LDIwLjEsMjAsMTksMjB6IE04LjMsMTVoMTIuNUwyNCw0SDUuNUw0LjgsMUgwdjJoMy4ybDQsMTZIMjF2LTJIOC44TDguMywxNXogTTYsNmgxNS4zbC0yLDdcbiIgKwogICAgIiAgICAgICAgSDcuOEw2LDZ6XCIvPlxuIiArCiAgICAiPC9zdmc+XG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIgogICk7CgoKICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2FwcC9wYXJ0aWFscy9pY29uLWRlbGV0ZS1hY2NvdW50LXN2Zy5odG1sJywKICAgICJcbiIgKwogICAgIjxzdmcgaWQ9XCJpY29uRGVsZXRlQWNjb3VudFN2Z1wiIHZlcnNpb249XCIxLjFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgeD1cIjBweFwiIHk9XCIwcHhcIlxuIiArCiAgICAiXHQgdmlld0JveD1cIjAgMCAxOCAxOFwiIHN0eWxlPVwiZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxOCAxODtcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiPlxuIiArCiAgICAiPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPlxuIiArCiAgICAiXHQuc3Qwe2ZpbGw6IzMxMzEzMTt9XG4iICsKICAgICIgICAgLnN0MXtmaWxsOm5vbmU7c3Ryb2tlOiMzMTMxMzE7c3Ryb2tlLXdpZHRoOjIlO3N0cm9rZS1taXRlcmxpbWl0OjEwO31cbiIgKwogICAgIjwvc3R5bGU+XG4iICsKICAgICJcbiIgKwogICAgIjxwYXRoIGNsYXNzPVwic3QwXCIgZD1cIk02LjgsMC40Yy0yLjMsMC00LjIsMi4xLTQuMiw0LjhjMCwyLjcsMS44LDQuOCw0LjIsNC44QzkuMSwxMCwxMSw3LjgsMTEsNS4yUzkuMSwwLjQsNi44LDAuNHogTTYuOCw4LjFcbiIgKwogICAgIlx0Yy0xLjMsMC0yLjMtMS4zLTIuMy0yLjljMC0xLjYsMS0yLjksMi4zLTIuOWMxLjMsMCwyLjMsMS4zLDIuMywyLjlDOS4xLDYuOCw4LDguMSw2LjgsOC4xelwiLz5cbiIgKwogICAgIjxwYXRoIGNsYXNzPVwic3QwXCIgZD1cIk05LjEsMTV2MS45Yy0wLjIsMC0wLjQsMC0wLjUsMEg1LjljLTIuMSwwLTMuOCwwLTQuOS0xLjFjLTAuNy0wLjctMS0xLjctMS0zYzAtMSwwLjMtMS44LDEuMS0yLjdcbiIgKwogICAgIlx0QzEuNCw5LjgsMiw5LjcsMi40LDEwLjFjMC4yLDAuMSwwLjMsMC40LDAuMywwLjZjMCwwLjItMC4xLDAuNS0wLjIsMC43Yy0wLjQsMC41LTAuNiwwLjktMC42LDEuNWMwLDAuOCwwLjIsMS40LDAuNSwxLjdcbiIgKwogICAgIlx0YzAuNSwwLjUsMS44LDAuNSwzLjUsMC41aDEuOEM4LjIsMTUsOC42LDE1LDkuMSwxNXpcIi8+XG4iICsKICAgICJcbiIgKwogICAgIjxsaW5lIGNsYXNzPVwic3QxXCIgeDE9XCIxMS42XCIgeTE9XCIxMC41XCIgeDI9XCIxNy40XCIgeTI9XCIxNi4yXCIvPlxuIiArCiAgICAiPGxpbmUgY2xhc3M9XCJzdDFcIiB4MT1cIjE3LjRcIiB5MT1cIjEwLjVcIiB4Mj1cIjExLjZcIiB5Mj1cIjE2LjJcIi8+XG4iICsKICAgICI8L3N2Zz5cbiIKICApOwoKCiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdhcHAvcGFydGlhbHMvaWNvbi1oZWxwLXN2Zy1tb2JpbGUuaHRtbCcsCiAgICAiPHN2ZyBpZD1cIm1vYmlsZUhlbHBcIiB2ZXJzaW9uPVwiMS4xXCJcbiIgKwogICAgIiAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4iICsKICAgICIgICAgIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiXG4iICsKICAgICIgICAgIHg9XCIwcHhcIlxuIiArCiAgICAiICAgICB5PVwiMHB4XCJcbiIgKwogICAgIiAgICAgd2lkdGg9XCIyNHB4XCJcbiIgKwogICAgIiAgICAgaGVpZ2h0PVwiMjRweFwiXG4iICsKICAgICIgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuIiArCiAgICAiICAgICBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgMjQgMjRcIlxuIiArCiAgICAiICAgICB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiPlxuIiArCiAgICAiICAgIDxwYXRoIGZpbGw9XCIjMzEzMTMxXCIgZD1cIk0xMSwxOCBMMTMsMTggTDEzLDE2IEwxMSwxNiBMMTEsMTggWiBNMTIsMiBDNi40OCwyIDIsNi40OCAyLDEyIEMyLDE3LjUyIDYuNDgsMjIgMTIsMjIgQzE3LjUyLDIyIDIyLDE3LjUyIDIyLDEyIEMyMiw2LjQ4IDE3LjUyLDIgMTIsMiBaIE0xMiwyMCBDNy41OSwyMCA0LDE2LjQxIDQsMTIgQzQsNy41OSA3LjU5LDQgMTIsNCBDMTYuNDEsNCAyMCw3LjU5IDIwLDEyIEMyMCwxNi40MSAxNi40MSwyMCAxMiwyMCBaIE0xMiw2IEM5Ljc5LDYgOCw3Ljc5IDgsMTAgTDEwLDEwIEMxMCw4LjkgMTAuOSw4IDEyLDggQzEzLjEsOCAxNCw4LjkgMTQsMTAgQzE0LDEyIDExLDExLjc1IDExLDE1IEwxMywxNSBDMTMsMTIuNzUgMTYsMTIuNSAxNiwxMCBDMTYsNy43OSAxNC4yMSw2IDEyLDYgWlwiPjwvcGF0aD5cbiIgKwogICAgIjwvc3ZnPiIKICApOwoKCiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdhcHAvcGFydGlhbHMvaWNvbi1oZWxwLXN2Zy5odG1sJywKICAgICI8c3ZnIGlkPVwibWVudUhlbHBcIiB2ZXJzaW9uPVwiMS4xXCJcbiIgKwogICAgIiAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4iICsKICAgICIgICAgIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiXG4iICsKICAgICIgICAgIHg9XCIwcHhcIlxuIiArCiAgICAiICAgICB5PVwiMHB4XCJcbiIgKwogICAgIiAgICAgd2lkdGg9XCIyNHB4XCJcbiIgKwogICAgIiAgICAgaGVpZ2h0PVwiMjRweFwiXG4iICsKICAgICIgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuIiArCiAgICAiICAgICBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgMjQgMjRcIlxuIiArCiAgICAiICAgICB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiPlxuIiArCiAgICAiICAgIDxwYXRoIGZpbGw9XCIjMzEzMTMxXCIgZD1cIk0xMSwxOCBMMTMsMTggTDEzLDE2IEwxMSwxNiBMMTEsMTggWiBNMTIsMiBDNi40OCwyIDIsNi40OCAyLDEyIEMyLDE3LjUyIDYuNDgsMjIgMTIsMjIgQzE3LjUyLDIyIDIyLDE3LjUyIDIyLDEyIEMyMiw2LjQ4IDE3LjUyLDIgMTIsMiBaIE0xMiwyMCBDNy41OSwyMCA0LDE2LjQxIDQsMTIgQzQsNy41OSA3LjU5LDQgMTIsNCBDMTYuNDEsNCAyMCw3LjU5IDIwLDEyIEMyMCwxNi40MSAxNi40MSwyMCAxMiwyMCBaIE0xMiw2IEM5Ljc5LDYgOCw3Ljc5IDgsMTAgTDEwLDEwIEMxMCw4LjkgMTAuOSw4IDEyLDggQzEzLjEsOCAxNCw4LjkgMTQsMTAgQzE0LDEyIDExLDExLjc1IDExLDE1IEwxMywxNSBDMTMsMTIuNzUgMTYsMTIuNSAxNiwxMCBDMTYsNy43OSAxNC4yMSw2IDEyLDYgWlwiPjwvcGF0aD5cbiIgKwogICAgIjwvc3ZnPiIKICApOwoKCiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdhcHAvcGFydGlhbHMvaWNvbi1ob21lLXN2Zy1tb2JpbGUuaHRtbCcsCiAgICAiPHN2ZyBpZD1cIm1vYmlsZUhvbWVcIiB2ZXJzaW9uPVwiMS4xXCJcbiIgKwogICAgIlx0IHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuIiArCiAgICAiXHQgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCJcbiIgKwogICAgIlx0IHg9XCIwcHhcIlxuIiArCiAgICAiXHQgeT1cIjBweFwiXG4iICsKICAgICJcdCB3aWR0aD1cIjI0cHhcIlxuIiArCiAgICAiXHQgaGVpZ2h0PVwiMjRweFwiXG4iICsKICAgICJcdCB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiIgKwogICAgIlx0IGVuYWJsZS1iYWNrZ3JvdW5kPVwibmV3IDAgMCAyNCAyNFwiXG4iICsKICAgICJcdCB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiPlxuIiArCiAgICAiXHQ8cGF0aCBmaWxsPVwiIzMxMzEzMVwiIGQ9XCJNMjEsMjRIM1YxMGwtMS43LDEuNEwwLDkuOEwxMiwwbDEyLDkuOGwtMS4zLDEuNUwyMSwxMFYyNHogTTE2LDIyaDNWOC4zbC03LTUuN0w1LDguM1YyMmgzdi04aDhWMjJ6IE0xMCwyMiBoNHYtNmgtNFYyMnpcIi8+XG4iICsKICAgICI8L3N2Zz4iCiAgKTsKCgogICR0ZW1wbGF0ZUNhY2hlLnB1dCgnYXBwL3BhcnRpYWxzL2ljb24taG9tZS1zdmcuaHRtbCcsCiAgICAiPHN2ZyBpZD1cIm1lbnVIb21lXCIgdmVyc2lvbj1cIjEuMVwiXG4iICsKICAgICJcdCB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiIgKwogICAgIlx0IHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiXG4iICsKICAgICJcdCB4PVwiMHB4XCJcbiIgKwogICAgIlx0IHk9XCIwcHhcIlxuIiArCiAgICAiXHQgd2lkdGg9XCIyNHB4XCJcbiIgKwogICAgIlx0IGhlaWdodD1cIjI0cHhcIlxuIiArCiAgICAiXHQgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4iICsKICAgICJcdCBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgMjQgMjRcIlxuIiArCiAgICAiXHQgeG1sOnNwYWNlPVwicHJlc2VydmVcIj5cbiIgKwogICAgIlx0PHBhdGggZmlsbD1cIiMzMTMxMzFcIiBkPVwiTTIxLDI0SDNWMTBsLTEuNywxLjRMMCw5LjhMMTIsMGwxMiw5LjhsLTEuMywxLjVMMjEsMTBWMjR6IE0xNiwyMmgzVjguM2wtNy01LjdMNSw4LjNWMjJoM3YtOGg4VjIyeiBNMTAsMjIgaDR2LTZoLTRWMjJ6XCIvPlxuIiArCiAgICAiPC9zdmc+IgogICk7CgoKICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2FwcC9wYXJ0aWFscy9pY29uLXNlYXJjaC1zdmctbW9iaWxlLmh0bWwnLAogICAgIjxzdmcgaWQ9XCJtb2JpbGVTZWFyY2hcIiB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHg9XCIwcHhcIiB5PVwiMHB4XCJcbiIgKwogICAgIlx0IHdpZHRoPVwiMjRweFwiIGhlaWdodD1cIjI0cHhcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZW5hYmxlLWJhY2tncm91bmQ9XCJuZXcgMCAwIDI0IDI0XCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIj5cbiIgKwogICAgIjxwYXRoIGZpbGw9XCIjMzEzMTMxXCIgZD1cIk0yMy43LDIybC02LjgtNS42YzAsMC0wLjEsMC0wLjEtMC4xYzMuMS0zLjgsMi45LTkuNC0wLjYtMTIuOWMtMS44LTEuOC00LjItMi44LTYuNy0yLjhcbiIgKwogICAgIlx0Yy0yLjUsMC00LjksMS02LjcsMi44Yy0zLjcsMy43LTMuNyw5LjgsMCwxMy42YzEuOCwxLjgsNC4yLDIuOCw2LjcsMi44YzIuMywwLDQuNC0wLjgsNi4xLTIuMmMwLDAsMCwwLjEsMC4xLDAuMWw2LjgsNS42XG4iICsKICAgICJcdGMwLjIsMC4yLDAuNCwwLjMsMC42LDAuM2MwLjIsMCwwLjQtMC4xLDAuNi0wLjNDMjQuMSwyMi45LDI0LjEsMjIuMywyMy43LDIyeiBNOS41LDE3LjljLTIuMSwwLTQtMC44LTUuNS0yLjNjLTMtMy4xLTMtOCwwLTExLjFcbiIgKwogICAgIlx0YzEuNS0xLjUsMy40LTIuMyw1LjUtMi4zYzIuMSwwLDQsMC44LDUuNSwyLjNjMywzLjEsMyw4LDAsMTEuMUMxMy41LDE3LjEsMTEuNiwxNy45LDkuNSwxNy45elwiLz5cbiIgKwogICAgIjwvc3ZnPiIKICApOwoKCiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdhcHAvcGFydGlhbHMvaWNvbi1zZWFyY2gtc3ZnLmh0bWwnLAogICAgIlxuIiArCiAgICAiXG4iICsKICAgICI8c3ZnIGlkPVwibWVudVNlYXJjaFwiIHZlcnNpb249XCIxLjFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgeD1cIjBweFwiIHk9XCIwcHhcIlxuIiArCiAgICAiXHQgd2lkdGg9XCIyNHB4XCIgaGVpZ2h0PVwiMjRweFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgMjQgMjRcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiPlxuIiArCiAgICAiPHBhdGggZmlsbD1cIiMzMTMxMzFcIiBkPVwiTTIzLjcsMjJsLTYuOC01LjZjMCwwLTAuMSwwLTAuMS0wLjFjMy4xLTMuOCwyLjktOS40LTAuNi0xMi45Yy0xLjgtMS44LTQuMi0yLjgtNi43LTIuOFxuIiArCiAgICAiXHRjLTIuNSwwLTQuOSwxLTYuNywyLjhjLTMuNywzLjctMy43LDkuOCwwLDEzLjZjMS44LDEuOCw0LjIsMi44LDYuNywyLjhjMi4zLDAsNC40LTAuOCw2LjEtMi4yYzAsMCwwLDAuMSwwLjEsMC4xbDYuOCw1LjZcbiIgKwogICAgIlx0YzAuMiwwLjIsMC40LDAuMywwLjYsMC4zYzAuMiwwLDAuNC0wLjEsMC42LTAuM0MyNC4xLDIyLjksMjQuMSwyMi4zLDIzLjcsMjJ6IE05LjUsMTcuOWMtMi4xLDAtNC0wLjgtNS41LTIuM2MtMy0zLjEtMy04LDAtMTEuMVxuIiArCiAgICAiXHRjMS41LTEuNSwzLjQtMi4zLDUuNS0yLjNjMi4xLDAsNCwwLjgsNS41LDIuM2MzLDMuMSwzLDgsMCwxMS4xQzEzLjUsMTcuMSwxMS42LDE3LjksOS41LDE3Ljl6XCIvPlxuIiArCiAgICAiPC9zdmc+XG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIKICApOwoKCiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdhcHAvcGFydGlhbHMvaWNvbi11c2VyLXN2Zy1tb2JpbGUuaHRtbCcsCiAgICAiPGEgdGl0bGU9XCJ7eyAnVVNFUicgfCB0cmFuc2xhdGUgfX1cIj5cbiIgKwogICAgIiAgICA8c3ZnIGlkPVwibW9iaWxlVXNlclwiIHZlcnNpb249XCIxLjFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgeD1cIjBweFwiIHk9XCIwcHhcIlxuIiArCiAgICAiICAgICB3aWR0aD1cIjI0cHhcIiBoZWlnaHQ9XCIyNHB4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGVuYWJsZS1iYWNrZ3JvdW5kPVwibmV3IDAgMCAyNCAyNFwiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+XG4iICsKICAgICIgICAgICAgIDxwYXRoIGZpbGw9XCIjMzEzMTMxXCIgZD1cIk0xMiwxMy42YzMuMywwLDUuOS0zLjEsNS45LTYuOEMxNy45LDMuMSwxNS4zLDAsMTIsMEM4LjcsMCw2LjEsMy4xLDYuMSw2LjhDNi4xLDEwLjYsOC43LDEzLjYsMTIsMTMuNnpcbiIgKwogICAgIiAgICAgICAgICAgICBNMTIsMi4xYzIuMSwwLDMuOCwyLjEsMy44LDQuN2MwLDIuNi0xLjcsNC43LTMuOCw0LjdjLTIuMSwwLTMuOC0yLjEtMy44LTQuN0M4LjIsNC4yLDkuOSwyLjEsMTIsMi4xeiBNMjAsMTQuM1xuIiArCiAgICAiICAgICAgICAgICAgYy0wLjQtMC40LTEuMS0wLjMtMS41LDAuMWMtMC40LDAuNC0wLjMsMS4xLDAuMSwxLjVjMC42LDAuNSwxLjEsMS44LDEuMSwyLjRjMCwxLjQtMC4zLDIuMy0wLjgsMi44QzE4LDIyLDE2LDIyLDEzLjMsMjEuOVxuIiArCiAgICAiICAgICAgICAgICAgYy0wLjksMC0xLjgsMC0yLjcsMEM4LDIyLDYsMjIsNS4xLDIxLjFjLTAuNS0wLjUtMC44LTEuNC0wLjgtMi44YzAtMC45LDAuMy0xLjcsMS0yLjVjMC40LTAuNCwwLjMtMS4xLTAuMS0xLjRcbiIgKwogICAgIiAgICAgICAgICAgIEM0LjcsMTQsNC4xLDE0LDMuNywxNC41Yy0xLDEuMi0xLjUsMi40LTEuNSwzLjhjMCwxLjksMC41LDMuMywxLjQsNC4yYzEuNSwxLjUsNCwxLjUsNy4xLDEuNWMwLjksMCwxLjgsMCwyLjcsMFxuIiArCiAgICAiICAgICAgICAgICAgYzAuNCwwLDAuOCwwLDEuMiwwYzIuNSwwLDQuNi0wLjIsNS45LTEuNWMwLjktMC45LDEuNC0yLjMsMS40LTQuMkMyMS44LDE3LjIsMjEuMSwxNS4zLDIwLDE0LjN6XCIvPlxuIiArCiAgICAiICAgIDwvc3ZnPlxuIiArCiAgICAiPC9hPiIKICApOwoKCiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdhcHAvcGFydGlhbHMvaWNvbi11c2VyLXN2Zy5odG1sJywKICAgICI8YSBpZD1cImhyZWZVc2VySWNvblwiIHRpdGxlPVwie3sgJ1VTRVInIHwgdHJhbnNsYXRlIH19XCI+XG4iICsKICAgICIgICAgPHN2ZyBpZD1cIm1lbnVVc2VyXCIgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4PVwiMHB4XCIgeT1cIjBweFwiXG4iICsKICAgICIgICAgIHdpZHRoPVwiMjRweFwiIGhlaWdodD1cIjI0cHhcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZW5hYmxlLWJhY2tncm91bmQ9XCJuZXcgMCAwIDI0IDI0XCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIj5cbiIgKwogICAgIiAgICAgICAgPHBhdGggaWQ9XCJtZW51VXNlclNWR1BhdGhcIiBmaWxsPVwiIzMxMzEzMVwiIGQ9XCJNMTIsMTMuNmMzLjMsMCw1LjktMy4xLDUuOS02LjhDMTcuOSwzLjEsMTUuMywwLDEyLDBDOC43LDAsNi4xLDMuMSw2LjEsNi44QzYuMSwxMC42LDguNywxMy42LDEyLDEzLjZ6XG4iICsKICAgICIgICAgICAgICAgICAgTTEyLDIuMWMyLjEsMCwzLjgsMi4xLDMuOCw0LjdjMCwyLjYtMS43LDQuNy0zLjgsNC43Yy0yLjEsMC0zLjgtMi4xLTMuOC00LjdDOC4yLDQuMiw5LjksMi4xLDEyLDIuMXogTTIwLDE0LjNcbiIgKwogICAgIiAgICAgICAgICAgIGMtMC40LTAuNC0xLjEtMC4zLTEuNSwwLjFjLTAuNCwwLjQtMC4zLDEuMSwwLjEsMS41YzAuNiwwLjUsMS4xLDEuOCwxLjEsMi40YzAsMS40LTAuMywyLjMtMC44LDIuOEMxOCwyMiwxNiwyMiwxMy4zLDIxLjlcbiIgKwogICAgIiAgICAgICAgICAgIGMtMC45LDAtMS44LDAtMi43LDBDOCwyMiw2LDIyLDUuMSwyMS4xYy0wLjUtMC41LTAuOC0xLjQtMC44LTIuOGMwLTAuOSwwLjMtMS43LDEtMi41YzAuNC0wLjQsMC4zLTEuMS0wLjEtMS40XG4iICsKICAgICIgICAgICAgICAgICBDNC43LDE0LDQuMSwxNCwzLjcsMTQuNWMtMSwxLjItMS41LDIuNC0xLjUsMy44YzAsMS45LDAuNSwzLjMsMS40LDQuMmMxLjUsMS41LDQsMS41LDcuMSwxLjVjMC45LDAsMS44LDAsMi43LDBcbiIgKwogICAgIiAgICAgICAgICAgIGMwLjQsMCwwLjgsMCwxLjIsMGMyLjUsMCw0LjYtMC4yLDUuOS0xLjVjMC45LTAuOSwxLjQtMi4zLDEuNC00LjJDMjEuOCwxNy4yLDIxLjEsMTUuMywyMCwxNC4zelwiLz5cbiIgKwogICAgIiAgICA8L3N2Zz5cbiIgKwogICAgIjwvYT4iCiAgKTsKCgogICR0ZW1wbGF0ZUNhY2hlLnB1dCgnYXBwL3BhcnRpYWxzL21vYmlsZVNlYXJjaC5odG1sJywKICAgICI8ZGl2IGlkPVwibW9iaWxlU2VhcmNoXCIgZGF0YS1uZy1jbG9haz5cbiIgKwogICAgIiAgICA8aW5wdXQgbmFtZT1cIm1vYmlsZV9zZWFyY2hcIiB0eXBlPVwidGV4dFwiIGNsYXNzPVwicm9ib3RvLW1lZGl1bVwiIHBsYWNlaG9sZGVyPVwie3sgJ1NlYXJjaCcgfCB0cmFuc2xhdGV9fVwiXG4iICsKICAgICIgICAgICAgICAgIGRhdGEtbmcta2V5cHJlc3M9XCJjaGVja0VudGVyS2V5KCRldmVudClcIlxuIiArCiAgICAiICAgICAgICAgICBkYXRhLW5nLW1vZGVsPVwiYXV0b0NvbXBsZXRlVmFsdWVcIlxuIiArCiAgICAiICAgICAgICAgICBkYXRhLW5nLWtleXVwPVwicnVuQXV0b2NvbXBsZXRlKClcIlxuIiArCiAgICAiICAgID5cbiIgKwogICAgIiAgICA8ZGl2IGNsYXNzPVwiaW1nXCIgaWNvbi1zZWFyY2gtc3ZnIGRhdGEtbmctY2xpY2s9XCJnb1RvQ2F0ZWdvcnlQYWdlKClcIj48L2Rpdj5cbiIgKwogICAgIjwvZGl2PlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIgogICk7CgoKICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2FwcC9wYXJ0aWFscy9vcmRlclNlYXJjaC5odG1sJywKICAgICJcbiIgKwogICAgIjxkaXYgaWQ9XCJvcmRlclNlYXJjaFNlY3Rpb25cIlxuIiArCiAgICAiICAgICBkYXRhLW5nLW1vdXNlZW50ZXI9XCJhbGxvd0Nsb3NpbmcgPSBmYWxzZVwiXG4iICsKICAgICIgICAgIGRhdGEtbmctbW91c2VsZWF2ZT1cImFsbG93Q2xvc2luZ0xlYXZlKHRydWUpXCJcbiIgKwogICAgIiAgICAgZGF0YS1uZy1jbGljaz1cImNsb3NlU2VhcmNoU2VjdGlvbigkZXZlbnQpXCI+XG4iICsKICAgICJcbiIgKwogICAgIiAgICA8ZGl2IGlkPVwib3JkZXJJbnB1dFwiIGRhdGEtbmctY2xpY2s9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCRldmVudClcIj5cbiIgKwogICAgIiAgICAgICAgPGRpdiBpZD1cIm9yZGVyU2VhcmNoXCI+XG4iICsKICAgICIgICAgICAgICAgICA8YSB0aXRsZT1cInt7ICdTRUFSQ0gnIHwgdHJhbnNsYXRlIH19XCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPGRpdiBpY29uLXNlYXJjaC1zdmcgZGF0YS1uZy1jbGljaz1cIm9wZW5TZWFyY2hPcmRlcnMoJGV2ZW50KVwiID48L2Rpdj5cbiIgKwogICAgIiAgICAgICAgICAgIDwvYT5cbiIgKwogICAgIiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhdXRvQ29tcGxldGVDb3ZlclwiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDxpbnB1dCBpZD1cIm9yZGVyQXV0b0NvbXBsZXRlXCIgdHlwZT1cInRleHRcIiBjbGFzcz1cInJvYm90by1yZWd1bGFyXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJ7eydTZWFyY2hPcmRlcicgfCB0cmFuc2xhdGUgfX1cIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICBkYXRhLW5nLW1vZGVsPVwiYXV0b0NvbXBsZXRlVmFsdWVcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICBkYXRhLW5nLWtleXVwPVwicnVuQXV0b2NvbXBsZXRlKCRldmVudClcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICBkYXRhLW5nLWJsdXI9XCJjbG9zZVNlYXJjaFNlY3Rpb24oJGV2ZW50KVwiPlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICAgICAgPGRpdiBkYXRhLW5nLWNsaWNrPVwiY2xvc2VTZWFyY2hGb3JjZSgkZXZlbnQpXCIgIHN0eWxlPVwicG9zaXRpb246IGFic29sdXRlOyByaWdodDogMDsgdG9wOjBcIiA+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiLi4vLi4vY3NzL2ltYWdlcy9jbG9zZURhcmsucG5nXCIgc3R5bGU9XCJ3aWR0aDoyMHB4OyBoZWlnaHQ6MjBweDsgcGFkZGluZzogMTJweCAwXCIgPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDwvZGl2PlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICA8L2Rpdj5cbiIgKwogICAgIiAgICAgICAgPC9kaXY+XG4iICsKICAgICIgICAgPC9kaXY+XG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIjwvZGl2PlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIgogICk7CgoKICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2FwcC9wYXJ0aWFscy9wb3B1bGFyLUl0ZW1zLXRwbC5odG1sJywKICAgICJcbiIgKwogICAgIjwhLS0gUE9QVUxBUiBJVEVNUyAtLT5cbiIgKwogICAgIjxhcnRpY2xlPlxuIiArCiAgICAiICAgIDxoMyBjbGFzcz1cInJvYm90by1yZWd1bGFyIGNlbnRlclwiIHRyYW5zbGF0ZT1cIlBPUFVMQVJfSVRFTVNcIj5cbiIgKwogICAgIiAgICAgICAgPCEtLSB7eydTUEFDSUFMX09GRkVSJyB8IHRyYW5zbGF0ZX19IC0tPlxuIiArCiAgICAiICAgIDwvaDM+XG4iICsKICAgICIgICAgPGRpdiBjbGFzcz1cImdyaWQtdGFibGVcIj5cbiIgKwogICAgIiAgICAgICAgPGRpdiBuZy1yZXBlYXQ9XCJwcm9kdWN0IGluIHBvcHVsYXJQcm9kdWN0c1wiIG5nLWlmPVwicG9wdWxhclByb2R1Y3RzLmxlbmd0aCA+IDBcIj5cbiIgKwogICAgIiAgICAgICAgICAgIDxmaWd1cmU+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPGltZyBkYXRhLW5nLXNyYz1cInt7cHJvZHVjdC5pbWFnZVVybH19XCIgYWx0PVwiU3BlY2lhbC1vZmZlclwiID5cbiIgKwogICAgIiAgICAgICAgICAgIDwvZmlndXJlPlxuIiArCiAgICAiICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwic2hvcF9ub3cgY2VudGVyXCI+e3twcm9kdWN0LnByb2R1Y3ROYW1lfX08L2xhYmVsPlxuIiArCiAgICAiICAgICAgICA8L2Rpdj5cbiIgKwogICAgIiAgICA8L2Rpdj5cbiIgKwogICAgIjwvYXJ0aWNsZT5cbiIgKwogICAgIjwhLS0gZW5kIFBPUFVMQVIgSVRFTVMgLS0+XG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iCiAgKTsKCgogICR0ZW1wbGF0ZUNhY2hlLnB1dCgnYXBwL3BhcnRpYWxzL3Njcm9sbFRvVG9wLmh0bWwnLAogICAgIjxkaXYgaWQ9XCJzY3JvbGxUb1RvcFwiPlxuIiArCiAgICAiICAgIDxpbWcgbmFtZT1cImdvX3VwX2J0blwiIHNyYz1cImNzcy9pbWFnZXMvR29VcC5wbmdcIiBhbHQ9XCJHTyBVUFwiLz5cbiIgKwogICAgIlxuIiArCiAgICAiICAgIDxwIHRyYW5zbGF0ZT1cIkdPX1VQXCI+PC9wPlxuIiArCiAgICAiPC9kaXY+IgogICk7CgoKICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2FwcC9wYXJ0aWFscy9zZWNJbnB1dC5odG1sJywKICAgICI8ZGl2PlxuIiArCiAgICAiICAgIDxhIGNsYXNzPVwibXVzdFwiIG5nLXNob3c9XCJ3YXJuaW5ncy5sZW5ndGggPiAwICYmICFub1JlZFN0YXJcIj4qPC9hPlxuIiArCiAgICAiXG4iICsKICAgICIgICAgPGxhYmVsIGNsYXNzPVwidmFsaWRhdGUtbGFiZWxcIlxuIiArCiAgICAiICAgICAgICAgICBuZy1jbGFzcz1cInsgdmFsaWRhdGVJbnZhbGlkIDogIXRleHRUb1Nob3cudmFsaWR9XCJcbiIgKwogICAgIiAgICAgICAgICAgbmctY2xpY2s9XCJ2YWxpZGF0ZUxhYmVsQ2xpY2tlZChpZClcIj5cbiIgKwogICAgIiAgICAgICAge3t0ZXh0VG9TaG93LnRleHR9fVxuIiArCiAgICAiICAgIDwvbGFiZWw+XG4iICsKICAgICJcbiIgKwogICAgIiAgICA8aW5wdXQgdHlwZT1cInt7aW5wdXRUeXBlfX1cIiBuYW1lPVwie3tpZH19XCIgYXV0b2NhcGl0YWxpemU9XCJvZmZcIlxuIiArCiAgICAiICAgICAgICAgICBhdXRvY29tcGxldGU9XCJvZmZcIiBhdXRvY29ycmVjdD1cIm9mZlwiIGNsYXNzPVwiaW5wdXR0ZXh0XCJcbiIgKwogICAgIiAgICAgICAgICAgZGF0YS1uZy1jbGFzcz1cInsgdmFsaWRhdGVJbnZhbGlkIDogIXRleHRUb1Nob3cudmFsaWQgfVwiXG4iICsKICAgICIgICAgICAgICAgIGRhdGEtbmctaGlkZT1cImlucHV0VHlwZSA9PSAndHJhbnNjbHVkZSdcIlxuIiArCiAgICAiICAgICAgICAgICBkYXRhLW5nLW1vZGVsPVwibW9kZWxBdHRyXCJcbiIgKwogICAgIiAgICAgICAgICAgZGF0YS1uZy1mb2N1cz1cImlucHV0Rm9jdXMoaWQpXCJcbiIgKwogICAgIiAgICAgICAgICAgZGF0YS1uZy1ibHVyPVwiaW5wdXRCbHVyKGlkKVwiXG4iICsKICAgICIgICAgICAgICAgIGRhdGEtbmcta2V5dXA9XCJpbnB1dEtleXVwKGlkKVwiXG4iICsKICAgICIgICAgICAgICAgIGlkPVwic2VjSW5wdXRfe3tpZH19XCIgLz5cbiIgKwogICAgIlxuIiArCiAgICAiICAgIDxkaXYgbmctdHJhbnNjbHVkZSBkYXRhLW5nLXNob3c9XCJpbnB1dFR5cGUgPT0gJ3RyYW5zY2x1ZGUnXCI+PC9kaXY+XG4iICsKICAgICJcbiIgKwogICAgIiAgICA8ZGl2IGNsYXNzPVwidmFsaWRhdGUtaW5mb1wiIG5nLXNob3c9XCJ3YXJuaW5ncy5sZW5ndGggPiAwICYmICFkb05vdFNob3dJbmZvXCI+XG4iICsKICAgICIgICAgICAgIDx1bD5cbiIgKwogICAgIiAgICAgICAgICAgIDxsaSBkYXRhLW5nLXJlcGVhdD1cImluZm8gaW4gd2FybmluZ3NcIiBkYXRhLW5nLXNob3c9XCJpbmZvLmluZm8gIT0gJycgJiYgaW5mby5zaG93XCIgPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDxhPnt7IGluZm8uaW5mbyB9fTwvYT5cbiIgKwogICAgIiAgICAgICAgICAgIDwvbGk+XG4iICsKICAgICIgICAgICAgIDwvdWw+XG4iICsKICAgICIgICAgPC9kaXY+XG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiPC9kaXY+XG4iICsKICAgICJcbiIKICApOwoKCiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdhcHAvcGFydGlhbHMvc2VjVGV4dGFyZWEuaHRtbCcsCiAgICAiPGRpdj5cbiIgKwogICAgIiAgICA8YSBjbGFzcz1cIm11c3RcIiBuZy1zaG93PVwid2FybmluZ3MubGVuZ3RoID4gMCAmJiAhbm9SZWRTdGFyXCI+KjwvYT5cbiIgKwogICAgIlxuIiArCiAgICAiICAgIDxsYWJlbCBjbGFzcz1cInZhbGlkYXRlLWxhYmVsXCJcbiIgKwogICAgIiAgICAgICAgICAgbmctY2xhc3M9XCJ7IHZhbGlkYXRlSW52YWxpZCA6ICF0ZXh0VG9TaG93LnZhbGlkfVwiXG4iICsKICAgICIgICAgICAgICAgIG5nLWNsaWNrPVwidmFsaWRhdGVMYWJlbENsaWNrZWQoaWQpXCI+XG4iICsKICAgICIgICAgICAgIHt7dGV4dFRvU2hvdy50ZXh0fX1cbiIgKwogICAgIiAgICA8L2xhYmVsPlxuIiArCiAgICAiICAgIDx0ZXh0YXJlYSBuYW1lPVwie3tpZH19XCIgY2xhc3M9XCJpbnB1dHRleHRcIlxuIiArCiAgICAiICAgICAgICAgICBkYXRhLW5nLWNsYXNzPVwieyB2YWxpZGF0ZUludmFsaWQgOiAhdGV4dFRvU2hvdy52YWxpZCB9XCJcbiIgKwogICAgIiAgICAgICAgICAgZGF0YS1uZy1tb2RlbD1cIm1vZGVsQXR0clwiXG4iICsKICAgICIgICAgICAgICAgIGRhdGEtbmctZm9jdXM9XCJpbnB1dEZvY3VzKGlkKVwiXG4iICsKICAgICIgICAgICAgICAgIGRhdGEtbmctYmx1cj1cImlucHV0Qmx1cihpZClcIlxuIiArCiAgICAiICAgICAgICAgICBkYXRhLW5nLWtleXVwPVwiaW5wdXRLZXl1cChpZClcIlxuIiArCiAgICAiICAgICAgICAgICBpZD1cInNlY0lucHV0X3t7aWR9fVwiIC8+XG4iICsKICAgICJcbiIgKwogICAgIiAgICA8ZGl2IGNsYXNzPVwidmFsaWRhdGUtaW5mb1wiIG5nLXNob3c9XCJ3YXJuaW5ncy5sZW5ndGggPiAwXCI+XG4iICsKICAgICIgICAgICAgIDx1bD5cbiIgKwogICAgIiAgICAgICAgICAgIDxsaSBkYXRhLW5nLXJlcGVhdD1cImluZm8gaW4gd2FybmluZ3NcIiBkYXRhLW5nLXNob3c9XCJpbmZvLmluZm8gIT0gJycgJiYgaW5mby5zaG93XCIgPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDxhPnt7IGluZm8uaW5mbyB9fTwvYT5cbiIgKwogICAgIiAgICAgICAgICAgIDwvbGk+XG4iICsKICAgICIgICAgICAgIDwvdWw+XG4iICsKICAgICIgICAgPC9kaXY+XG4iICsKICAgICI8L2Rpdj5cbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iCiAgKTsKCgogICR0ZW1wbGF0ZUNhY2hlLnB1dCgnYXBwL3BhcnRpYWxzL3NvY2lhbC1tZWRpYS10cGwuaHRtbCcsCiAgICAiXHIiICsKICAgICJcbiIgKwogICAgIjxmb290ZXI+XHIiICsKICAgICJcbiIgKwogICAgIiAgICA8ZGl2PlxyIiArCiAgICAiXG4iICsKICAgICIgICAgICAgIDwhLS0gRk9MTE9XIFVTIC0tPlxyIiArCiAgICAiXG4iICsKICAgICIgICAgICAgIDxoMyBjbGFzcz1cInJvYm90by1yZWd1bGFyIGNlbnRlclwiIHRyYW5zbGF0ZT1cIkZPTExPV19VU1wiPjwvaDM+XHIiICsKICAgICJcbiIgKwogICAgIiAgICAgICAgPGRpdiBpZD1cImZvbGxvd1wiIGNsYXNzPVwiY2VudGVyXCI+XHIiICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgIDxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIgaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL01pY3JvRm9jdXMvXCI+XHIiICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICA8aW1nIG5hbWU9XCJmb2xsb3dfZmFjZWJvb2tcIiBzcmM9XCJjc3MvaW1hZ2VzL2ZhY2Vib29rLnBuZ1wiIGFsdD1cImljb25cIiBkYXRhLW5nLWNsaWNrPVwibGlua1RvKCcnKVwiIC8+XHIiICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgIDwvYT5cciIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cImh0dHBzOi8vdHdpdHRlci5jb20vTWljcm9Gb2N1c1wiPlxyIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICAgICAgPGltZyBuYW1lPVwiZm9sbG93X3R3aXR0ZXJcIiBzcmM9XCJjc3MvaW1hZ2VzL3R3aXR0ZXIucG5nXCIgYWx0PVwiaWNvblwiIC8+XHIiICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgIDwvYT5cciIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cImh0dHBzOi8vd3d3LmxpbmtlZGluLmNvbS9jb21wYW55LzEwMjQ/dHJrPXR5YWgmdHJrSW5mbz1jbGlja2VkVmVydGljYWwlM0FzaG93Y2FzZSUyQ2NsaWNrZWRFbnRpdHlJZCUzQTEwMjQlMkNpZHglM0EyLTEtMiUyQ3RhcklkJTNBMTQ1NDMxNDgyLjMyNyUyQ3RhcyUzQWhld2xldHQlMjBwYWNrYXJkJTIwZW50ZXJwcmlzZSUyMHNvZnR3YXJlXCI+XHIiICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICA8aW1nIG5hbWU9XCJmb2xsb3dfbGlua2VkaW5cIiBzcmM9XCJjc3MvaW1hZ2VzL2xpbmtlZGluLnBuZ1wiIGFsdD1cImljb25cIiAvPlxyIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICA8L2E+XHIiICsKICAgICJcbiIgKwogICAgIiAgICAgICAgPC9kaXY+XHIiICsKICAgICJcbiIgKwogICAgIiAgICAgICAgPGxhYmVsPiDCqSBBZHZhbnRhZ2UgSW5jLCAyMDIxLiBSZWxlYXNlIDMuMiA8L2xhYmVsPlxyIiArCiAgICAiXG4iICsKICAgICIgICAgPC9kaXY+XHIiICsKICAgICJcbiIgKwogICAgIjwvZm9vdGVyPlxyIiArCiAgICAiXG4iICsKICAgICJcciIgKwogICAgIlxuIiArCiAgICAiXHIiICsKICAgICJcbiIgKwogICAgIlxyIiArCiAgICAiXG4iICsKICAgICJcciIgKwogICAgIlxuIiArCiAgICAiXHIiICsKICAgICJcbiIgKwogICAgIlxyIiArCiAgICAiXG4iICsKICAgICJcciIgKwogICAgIlxuIgogICk7CgoKICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2FwcC9wYXJ0aWFscy90b29sVGlwQ2FydC5odG1sJywKICAgICI8ZGl2PlxuIiArCiAgICAiICAgIDxkaXYgbmctaGlkZT1cImNhcnQucHJvZHVjdHNJbkNhcnQubGVuZ3RoID4gMFwiIGNsYXNzPVwiZW1wdHlDYXJ0XCIgZGF0YS1uZy1jbGljaz1cInJlZGlyZWN0KCcvc2hvcHBpbmdDYXJ0JylcIj5cbiIgKwogICAgIiAgICAgICAgPGxhYmVsIGNsYXNzPVwiY2VudGVyIGl0ZW1zIHJvYm90by1ib2xkXCI+IHt7ICdJVEVNUycgfCB0cmFuc2xhdGV9fVxuIiArCiAgICAiICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyb2JvdG8tcmVndWxhclwiPigwKTwvc3Bhbj5cbiIgKwogICAgIiAgICAgICAgPC9sYWJlbD5cbiIgKwogICAgIiAgICAgICAgPGxhYmVsIGNsYXNzPVwiY2VudGVyIHJvYm90by1tZWRpdW1cIiB0cmFuc2xhdGU9XCJZb3VyX3Nob3BwaW5nX2NhcnRfaXNfZW1wdHlcIj48L2xhYmVsPlxuIiArCiAgICAiICAgIDwvZGl2PlxuIiArCiAgICAiICAgIDx0YWJsZSBuZy1zaG93PVwiY2FydC5wcm9kdWN0c0luQ2FydC5sZW5ndGggPiAwXCIgID5cbiIgKwogICAgIiAgICAgICAgPHRib2R5ID5cbiIgKwogICAgIiAgICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJwcm9kdWN0IGluIGNhcnQucHJvZHVjdHNJbkNhcnQgdHJhY2sgYnkgJGluZGV4XCIgaWQ9XCJwcm9kdWN0e3twcm9kdWN0LmlkfX1cIlxuIiArCiAgICAiICAgICAgICAgICAgICAgIGRhdGEtbmctY2xhc3M9XCJ7IGxhc3RQcm9kdWN0IDogJGxhc3QgfVwiID5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8dGQ+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjL3Byb2R1Y3Qve3twcm9kdWN0LnByb2R1Y3RJZH19P2NvbG9yPXt7cHJvZHVjdC5jb2xvci5jb2RlfX0mcXVhbnRpdHk9e3twcm9kdWN0LnF1YW50aXR5fX0mcGFnZVN0YXRlPWVkaXRcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJpbWFnZVVybFwiIG5nLXNyYz1cIi9jYXRhbG9nL2ZldGNoSW1hZ2U/aW1hZ2VfaWQ9e3twcm9kdWN0LmltYWdlVXJsfX1cIiBhbHQ9XCJpbWdQcm9kdWN0XCIgLz5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPC9hPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDwvdGQ+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPHRkPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiIy9wcm9kdWN0L3t7cHJvZHVjdC5wcm9kdWN0SWR9fT9jb2xvcj17e3Byb2R1Y3QuY29sb3IuY29kZX19JnF1YW50aXR5PXt7cHJvZHVjdC5xdWFudGl0eX19JnBhZ2VTdGF0ZT1lZGl0XCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICA8aDM+e3sgcHJvZHVjdC5wcm9kdWN0TmFtZSAgfCB1cHBlcmNhc2UgfCBzZWNDYXRXb3JkOjMwIH19PC9oMz5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD57eydRVFknIHwgdHJhbnNsYXRlfX0ge3twcm9kdWN0LnF1YW50aXR5fX08L2xhYmVsPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPnt7J0NvbG9yJyB8IHRyYW5zbGF0ZSB9fVxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPnt7cHJvZHVjdC5jb2xvci5uYW1lfX08L3NwYW4+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8L2E+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPC90ZD5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8dGQ+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwicHJpY2Ugcm9ib3RvLXJlZ3VsYXJcIj57eyBwcm9kdWN0LnByaWNlICogcHJvZHVjdC5xdWFudGl0eSB8IGN1cnJlbmN5OickJyB9fTwvcD5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNsb3NlRGl2XCIgbmctY2xpY2s9XCJyZW1vdmVQcm9kdWN0KCRpbmRleCwgJGV2ZW50KVwiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpY29uLXggY2xhc3M9XCJyZW1vdmVQcm9kdWN0XCI+PC9kaXY+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDwvdGQ+XG4iICsKICAgICIgICAgICAgICAgICA8L3RyPlxuIiArCiAgICAiICAgICAgICA8L3Rib2R5PlxuIiArCiAgICAiICAgICAgICA8dGZvb3QgIGRhdGEtbmctY2xpY2s9XCJyZWRpcmVjdCgnL3Nob3BwaW5nQ2FydCcpXCI+XG4iICsKICAgICIgICAgICAgICAgICA8dHI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPHRkIGNvbHNwYW49XCIyXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicm9ib3RvLW1lZGl1bVwiPnt7J1RPVEFMJyB8IHRyYW5zbGF0ZX19XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJyb2JvdG8tcmVndWxhclwiPih7e2NhcnQgfCBwcm9kdWN0c0NhcnRDb3VudH19IHt7IChjYXJ0IHwgcHJvZHVjdHNDYXJ0Q291bnQpID4gMSA/ICdJdGVtcycgOiAnSXRlbScgfCB0cmFuc2xhdGV9fSk8L2xhYmVsPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPC90ZD5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8dGQ+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicm9ib3RvLW1lZGl1bSBjYXJ0LXRvdGFsXCIgPnt7Y2FydCB8IHByb2R1Y3RzQ2FydFN1bSB8IGN1cnJlbmN5OickJ319PC9zcGFuPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDwvdGQ+XG4iICsKICAgICIgICAgICAgICAgICA8L3RyPlxuIiArCiAgICAiICAgICAgICAgICAgPHRyPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDx0ZCBjb2xzcGFuPVwiM1wiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiY2hlY2tPdXRQb3BVcFwiIG5hbWU9XCJjaGVja19vdXRfYnRuXCIgcm9sZT1cImJ1dHRvblwiIGNsYXNzPVwicm9ib3RvLW1lZGl1bVwiIGRhdGEtbmctY2xpY2s9XCJjaGVja291dCgkZXZlbnQpXCI+e3snQ0hFQ0tfT1VUJyB8IHRyYW5zbGF0ZX19ICAoe3sgY2FydCB8IHByb2R1Y3RzQ2FydFN1bTpzaGlwcGluZ0Nvc3QgfCBjdXJyZW5jeTonJCcgfX0pPC9idXR0b24+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPC90ZD5cbiIgKwogICAgIiAgICAgICAgICAgIDwvdHI+XG4iICsKICAgICIgICAgICAgIDwvdGZvb3Q+XG4iICsKICAgICJcbiIgKwogICAgIiAgICA8L3RhYmxlPlxuIiArCiAgICAiPC9kaXY+XG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIgogICk7CgoKICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2FwcC9wYXJ0aWFscy90b29sVGlwU2VhcmNoLmh0bWwnLAogICAgIlxuIiArCiAgICAiPGRpdiBpZD1cInNlYXJjaFNlY3Rpb25cIlxuIiArCiAgICAiICAgICBkYXRhLW5nLW1vdXNlZW50ZXI9XCJhbGxvd0Nsb3NpbmcgPSBmYWxzZVwiXG4iICsKICAgICIgICAgIGRhdGEtbmctbW91c2VsZWF2ZT1cImFsbG93Q2xvc2luZ0xlYXZlKClcIlxuIiArCiAgICAiICAgICBkYXRhLW5nLWNsaWNrPVwiY2xvc2VTZWFyY2hTZWN0aW9uKClcIj5cbiIgKwogICAgIlxuIiArCiAgICAiICAgIDxkaXYgaWQ9XCJpbnB1dFwiIGRhdGEtbmctY2xpY2s9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIj5cbiIgKwogICAgIiAgICAgICAgPGRpdiBpZD1cInNlYXJjaFwiPlxuIiArCiAgICAiICAgICAgICAgICAgPGEgdGl0bGU9XCJ7eyAnU0VBUkNIJyB8IHRyYW5zbGF0ZSB9fVwiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDxkaXYgaWNvbi1zZWFyY2gtc3ZnIGRhdGEtbmctY2xpY2s9XCJvcGVuU2VhcmNoUHJvZHVjdHMoKVwiID48L2Rpdj5cbiIgKwogICAgIiAgICAgICAgICAgIDwvYT5cbiIgKwogICAgIiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhdXRvQ29tcGxldGVDb3ZlclwiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDxpbnB1dCBpZD1cImF1dG9Db21wbGV0ZVwiIHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJyb2JvdG8tcmVndWxhclwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwie3snU2VhcmNoJyB8IHRyYW5zbGF0ZSB9fSBBZHZhbnRhZ2VPbmxpbmVTaG9wcGluZy5jb21cIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICBkYXRhLW5nLWtleXByZXNzPVwiY2hlY2tFbnRlcktleSgkZXZlbnQpXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1uZy1tb2RlbD1cImF1dG9Db21wbGV0ZVZhbHVlXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1uZy1rZXl1cD1cInJ1bkF1dG9jb21wbGV0ZSgpXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgPlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICAgICAgPGRpdiBkYXRhLW5nLWNsaWNrPVwiY2xvc2VTZWFyY2hGb3JjZSgpXCIgIHN0eWxlPVwicG9zaXRpb246IGFic29sdXRlOyByaWdodDogMDsgdG9wOjBcIiA+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiLi4vLi4vY3NzL2ltYWdlcy9jbG9zZURhcmsucG5nXCIgc3R5bGU9XCJ3aWR0aDoyMHB4OyBoZWlnaHQ6MjBweDsgcGFkZGluZzogMTJweCAwXCIgPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDwvZGl2PlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICA8L2Rpdj5cbiIgKwogICAgIiAgICAgICAgPC9kaXY+XG4iICsKICAgICIgICAgPC9kaXY+XG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIiAgICA8ZGl2IGlkPVwib3V0cHV0XCIgZGF0YS1uZy1zaG93PVwiYXV0b0NvbXBsZXRlUmVzdWx0Lmxlbmd0aCA+IDBcIiA+XG4iICsKICAgICIgICAgICAgIDxkaXYgY2xhc3M9XCJzZWFyY2hQb3BVcFwiIGRhdGEtbmctY2xpY2s9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIiA+XG4iICsKICAgICIgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2F0ZWdvcmllc1wiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDxoMyBjbGFzcz1cInJvYm90by1tZWRpdW1cIiB0cmFuc2xhdGU9XCJDQVRFR09SSUVTXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgZGF0YS1uZy1tb3VzZWVudGVyPVwic2VhcmNoQnlDYXRlZ29yeUlkKG51bGwsICcnKVwiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDwvaDM+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiMvc2VhcmNoL3t7Y2F0ZWdvcnlGaWx0ZXJ9fT92aWV3QWxsPXt7YXV0b0NvbXBsZXRlVmFsdWV9fVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgZGF0YS1uZy1yZXBlYXQ9XCJyZXN1bHQgaW4gYXV0b0NvbXBsZXRlUmVzdWx0XCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInJvYm90by1saWdodFwiXG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtbmctbW91c2VlbnRlcj1cInNlYXJjaEJ5Q2F0ZWdvcnlJZChyZXN1bHQuY2F0ZWdvcnlJZCwgcmVzdWx0LmNhdGVnb3J5TmFtZSlcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgIHt7cmVzdWx0LmNhdGVnb3J5TmFtZSB8IGxvd2VyY2FzZX19XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPC9hPlxuIiArCiAgICAiICAgICAgICAgICAgPC9kaXY+XG4iICsKICAgICIgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG9wNlByb2R1Y3RzXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPGgzIGNsYXNzPVwicm9ib3RvLW1lZGl1bVwiID57eyAnVE9QJyB8IHRyYW5zbGF0ZSB9fSB7eyAnUkVTVUxUU19GT1InIHwgdHJhbnNsYXRlIH19OiBcInt7YXV0b0NvbXBsZXRlVmFsdWV9fVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPVwiZm9udC1zaXplOiAxMXB4ICFpbXBvcnRhbnQ7IGZvbnQtd2VpZ2h0OiAzMDAgIWltcG9ydGFudDtcIiA+IHt7IGNhdGVnb3J5TmFtZSB9fSA8L3A+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPC9oMz5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8YSBocmVmPVwiIy9zZWFyY2gve3tjYXRlZ29yeUZpbHRlcn19P3ZpZXdBbGw9e3thdXRvQ29tcGxldGVWYWx1ZX19XCIgdHJhbnNsYXRlPVwiVmlld19BbGxcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicm9ib3RvLW1lZGl1bSB2aWV3QWxsXCI+PC9hPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwicHJvZHVjdFwiIGhyZWY9XCIjL3Byb2R1Y3Qve3twcm9kdWN0LnByb2R1Y3RJZH19XCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICBkYXRhLW5nLWNsaWNrPVwiY2xvc2VTZWFyY2hTZWN0aW9uKClcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgIGRhdGEtbmctcmVwZWF0PVwicHJvZHVjdCBpbiBbXSB8IGZpbHRlckZ1bGxBcnJheWZvckF1dG9Db21wbGF0ZTphdXRvQ29tcGxldGVSZXN1bHQ6Y2F0ZWdvcnlGaWx0ZXJcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPGltZyBkYXRhLW5nLXNyYz1cIi9jYXRhbG9nL2ZldGNoSW1hZ2U/aW1hZ2VfaWQ9e3twcm9kdWN0LmltYWdlVXJsfX1cIiAvPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInJvYm90by1yZWd1bGFyXCI+e3twcm9kdWN0LnByb2R1Y3ROYW1lIHwgdXBwZXJjYXNlfX08L3A+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxzcGFuPnt7cHJvZHVjdC5wcmljZSB8IGN1cnJlbmN5OickJ319PC9zcGFuPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDwvYT5cbiIgKwogICAgIiAgICAgICAgICAgIDwvZGl2PlxuIiArCiAgICAiICAgICAgICA8L2Rpdj5cbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICIgICAgPC9kaXY+XG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiPC9kaXY+XG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iCiAgKTsKCgogICR0ZW1wbGF0ZUNhY2hlLnB1dCgnYXBwL3VzZXIvcGFydGlhbHMvbG9naW4uaHRtbCcsCiAgICAiPGRpdiBjbGFzcz1cIlBvcFVwXCI+XG4iICsKICAgICIgICAgPGRpdj5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICA8ZGl2IGNsYXNzPVwibG9hZGVyXCI+XG4iICsKICAgICIgICAgICAgICAgICA8ZGl2PlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCI1MFwiIGhlaWdodD1cIjUwXCIgdmlld0JveD1cIjAgMCA1MCA1MFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPGRlZnM+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9XCI4LjA0MiVcIiB5MT1cIjAlXCIgeDI9XCI2NS42ODIlXCIgeTI9XCIyMy44NjUlXCIgaWQ9XCJhXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj1cIiM1NEIzQURcIiBzdG9wLW9wYWNpdHk9XCIwXCIgb2Zmc2V0PVwiMCVcIi8+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj1cIiM1NEIzQURcIiBzdG9wLW9wYWNpdHk9XCIuNjMxXCIgb2Zmc2V0PVwiNjMuMTQ2JVwiLz5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPVwiIzU0QjNBRFwiIG9mZnNldD1cIjEwMCVcIi8+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICA8L2xpbmVhckdyYWRpZW50PlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8L2RlZnM+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxnIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDEgMSlcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTM2IDE4YzAtOS45NC04LjA2LTE4LTE4LTE4XCIgaWQ9XCJPdmFsLTJcIiBzdHJva2U9XCJ1cmwoI2EpXCIgc3Ryb2tlLXdpZHRoPVwiMlwiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YW5pbWF0ZVRyYW5zZm9ybVxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU9XCJ0cmFuc2Zvcm1cIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyb3RhdGVcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb209XCIwIDE4IDE4XCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bz1cIjM2MCAxOCAxOFwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyPVwiMC45c1wiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCIvPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcGF0aD5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGZpbGw9XCIjNTRCM0FEXCIgY3g9XCIzNlwiIGN5PVwiMThcIiByPVwiMVwiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YW5pbWF0ZVRyYW5zZm9ybVxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU9XCJ0cmFuc2Zvcm1cIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyb3RhdGVcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb209XCIwIDE4IDE4XCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bz1cIjM2MCAxOCAxOFwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyPVwiMC45c1wiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCIvPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY2lyY2xlPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8L2c+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPC9zdmc+XG4iICsKICAgICIgICAgICAgICAgICA8L2Rpdj5cbiIgKwogICAgIiAgICAgICAgPC9kaXY+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgPGRpdiBjbGFzcz1cImNsb3NlQnRuIGxvZ2luUG9wVXBDbG9zZUJ0blwiPjwvZGl2PlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgIDxkaXYgY2xhc3M9XCJsb2dpblwiIG5nLWNvbnRyb2xsZXI9XCJ1c2VyQ29udHJvbGxlclwiPlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICA8aW1nIHNyYz1cIi4uLy4uL2Nzcy9pbWFnZXMvbG9nby5wbmdcIj5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmYWNlYm9va1wiIHRyYW5zbGF0ZT1cIkZBQ0VCT09LX1NJR05fSU5cIiBkYXRhLW5nLWNsaWNrPVwic2luZ1dpdGhGYWNlYm9vaygpXCI+PC9zcGFuPlxuIiArCiAgICAiICAgICAgICAgICAgPGxhYmVsIGlkPVwic2lnbkluUmVzdWx0TWVzc2FnZVwiIGNsYXNzPVwib3Ige3sgbWVzc2FnZS5fY2xhc3MgfX0gY2VudGVyXCI+e3ttZXNzYWdlLnRleHR9fTwvbGFiZWw+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgIDxzZWMtZm9ybT5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDxzZWMtdmlldyBhLWhpbnQ9XCJ7eydVc2VyX25hbWUnIHwgdHJhbnNsYXRlfX1cIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICBhLWRvLW5vdC1zaG93LWluZm89XCJ0cnVlXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgYS1zdGFyPVwiZmFsc2VcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICBzZWMtbW9kZWw9XCJsb2dpblVzZXIubG9naW5Vc2VyXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjLXJlcXVpcmU9XCJtYWluQ3RybC5nZXRSZXF1aXJlKCdVc2VyX25hbWUnKVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1uYW1lPVwidXNlcm5hbWVcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8L3NlYy12aWV3PlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICAgICAgPHNlYy12aWV3IGEtaGludD1cInt7J1Bhc3N3b3JkJyB8IHRyYW5zbGF0ZX19XCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgYS1kby1ub3Qtc2hvdy1pbmZvPVwidHJ1ZVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgIGEtc3Rhcj1cImZhbHNlXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgYS10eXBlPVwicGFzc3dvcmRcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICBzZWMtbW9kZWw9XCJsb2dpblVzZXIubG9naW5QYXNzd29yZFwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1yZXF1aXJlPVwibWFpbkN0cmwuZ2V0UmVxdWlyZSgnUGFzc3dvcmQnKVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1uYW1lPVwicGFzc3dvcmRcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8L3NlYy12aWV3PlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICAgICAgPHNlYy12aWV3IGEtaGludD1cInt7J0VtYWlsJyB8IHRyYW5zbGF0ZX19XCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgYS1kby1ub3Qtc2hvdy1pbmZvPVwidHJ1ZVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgIGEtc3Rhcj1cImZhbHNlXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgbmctc2hvdz1cIm1haW5DdHJsLmNvbmZpZy5lbWFpbEFkZHJlc3NJbkxvZ2luXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjLWRpc2FibGUtdmFsaWRhdGlvbj1cIiFtYWluQ3RybC5jb25maWcuZW1haWxBZGRyZXNzSW5Mb2dpblwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1tb2RlbD1cImxvZ2luVXNlci5lbWFpbFwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1uYW1lPVwiZW1haWxcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8L3NlYy12aWV3PlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGVmdCBvcHRpb24gXCIgc3R5bGU9XCJ0b3A6IDIwcHhcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPGlucHV0IG5hbWU9XCJyZW1lbWJlcl9tZVwiIHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwibWFpbkN0cmwucmVtZW1iZXJNZVwiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8c3BhbiB0cmFuc2xhdGU9XCJSRU1FTUJFUl9NRVwiPjwvc3Bhbj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8L2Rpdj5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDxzZWMtc2VuZGVyIGNsYXNzPVwicm9ib3RvLW1lZGl1bVwiIGEtdmFsdWU9XCJ7eydTSUdOX0lOJyB8IHRyYW5zbGF0ZX19XCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWMtc2VuZD1cInNpZ25Jbihsb2dpblVzZXIsIG1haW5DdHJsLnJlbWVtYmVyTWUpXCI+PC9zZWMtc2VuZGVyPlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgIDwvc2VjLWZvcm0+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgIDxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiByb2xlPVwibGlua1wiIGNsYXNzPVwiZm9yZ290LVBhc3N3b3dkXCIgdHJhbnNsYXRlPVwiRk9SR09UX1BBU1NXT1JEXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICBkYXRhLW5nLWNsaWNrPVwiZm9yZ290UGFzc3dvcmQoKVwiPjwvYT5cbiIgKwogICAgIiAgICAgICAgICAgIDxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiByb2xlPVwibGlua1wiIGNsYXNzPVwiY3JlYXRlLW5ldy1hY2NvdW50XCIgdHJhbnNsYXRlPVwiQ1JFQVRFX05FV19BQ0NPVU5UXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICBkYXRhLW5nLWNsaWNrPVwiY3JlYXRlTmV3QWNjb3VudCgpXCI+PC9hPlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgIDwvZGl2PlxuIiArCiAgICAiICAgIDwvZGl2PlxuIiArCiAgICAiXG4iICsKICAgICI8L2Rpdj4iCiAgKTsKCgogICR0ZW1wbGF0ZUNhY2hlLnB1dCgnYXBwL29yZGVyL3BhcnRpYWxzL29yZGVyLXBheW1lbnQtc3VjY2Vzcy5odG1sJywKICAgICI8ZGl2PlxuIiArCiAgICAiXG4iICsKICAgICIgICAgPGgyPiA8c3BhbiBjbGFzcz1cInJvYm90by1yZWd1bGFyXCIgdHJhbnNsYXRlPVwiVGhhbmtfeW91X2Zvcl9idXlpbmdfd2l0aF9BZHZhbnRhZ2VcIj4gPC9zcGFuPiA8L2gyPlxuIiArCiAgICAiXG4iICsKICAgICIgICAgPHAgY2xhc3M9XCJyb2JvdG8tcmVndWxhclwiPiB7eyAnWW9yX3RyYWNraW5nX251bWJlcl9pcycgfCB0cmFuc2xhdGUgfX0gPGxhYmVsIGlkPVwidHJhY2tpbmdOdW1iZXJMYWJlbFwiPnt7IHRyYWNraW5nTnVtYmVyIH19PC9sYWJlbD5cbiIgKwogICAgIiAgICAgICAgPHNwYW4gY2xhc3M9XCJzZXBhcmF0b3JcIj58PC9zcGFuPlxuIiArCiAgICAiICAgICAgICB7eyAnWW91cl9vcmRlcl9udW1iZXJfaXMnIHwgdHJhbnNsYXRlIH19IDxsYWJlbCBpZD1cIm9yZGVyTnVtYmVyTGFiZWxcIj57e29yZGVyTnVtYmVyfX08L2xhYmVsPlxuIiArCiAgICAiICAgICAgICA8c3BhbiBjbGFzcz1cInNlcGFyYXRvclwiIGRhdGEtbmctc2hvdz1cImhhc1dhcnJhbnR5XCI+fDwvc3Bhbj5cbiIgKwogICAgIiAgICAgICAgPGxhYmVsIGRhdGEtbmctc2hvdz1cImhhc1dhcnJhbnR5XCI+e3sgJ1lvdXJfd2FycmFudHlfbnVtYmVyX2lzJyB8IHRyYW5zbGF0ZSB9fSA8L2xhYmVsPjxsYWJlbCBkYXRhLW5nLXNob3c9XCJoYXNXYXJyYW50eVwiIGlkPVwid2FycmFudHlOdW1iZXJcIj57e3dhcnJhbnR5TnVtYmVyfX08L2xhYmVsPlxuIiArCiAgICAiICAgIDwvcD5cbiIgKwogICAgIlxuIiArCiAgICAiICAgIDxkaXY+XG4iICsKICAgICIgICAgICAgIDxkaXYgY2xhc3M9XCJzZWNjaW9uIGJvcmRlclJpZ2h0XCI+XG4iICsKICAgICIgICAgICAgICAgICA8c3BhbiB0cmFuc2xhdGU9XCJTaGlwcGluZ190b1wiPiA8L3NwYW4+XG4iICsKICAgICIgICAgICAgICAgICA8ZGl2PlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbm5lclNlY2Npb25cIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPGRpdiBpY29uLXVzZXIgPjwvZGl2PlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8bGFiZWw+e3t1c2VyLmZpcnN0TmFtZX19IHt7dXNlci5sYXN0TmFtZX19PC9sYWJlbD5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8L2Rpdj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5uZXJTZWNjaW9uXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxkaXYgaWNvbi1ob21lID48L2Rpdj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPnt7IHVzZXIuYWRkcmVzcyB9fTwvbGFiZWw+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxsYWJlbD57eyB1c2VyLmNpdHlOYW1lIH19PC9sYWJlbD5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPnt7IHVzZXIuc3RhdGVQcm92aW5jZSB9fTwvbGFiZWw+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPC9kaXY+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlubmVyU2VjY2lvblwiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8ZGl2IGljb24tcGhvbmUgPjwvZGl2PlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8bGFiZWw+e3sgdXNlci5waG9uZU51bWJlciB9fTwvbGFiZWw+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPC9kaXY+XG4iICsKICAgICIgICAgICAgICAgICA8L2Rpdj5cbiIgKwogICAgIiAgICAgICAgPC9kaXY+XG4iICsKICAgICIgICAgICAgIDxkaXYgY2xhc3M9XCJzZWNjaW9uIGJvcmRlclJpZ2h0XCI+XG4iICsKICAgICIgICAgICAgICAgICA8c3BhbiB0cmFuc2xhdGU9XCJQYXltZW50X01ldGhvZFwiPjwvc3Bhbj5cbiIgKwogICAgIiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbm5lclNlY2Npb25cIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8bGFiZWw+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIHt7VHJhbnNQYXltZW50TWV0aG9kfX1cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJmbG9hdGVyXCIgZGF0YS1uZy1zaG93PVwiVHJhbnNQYXltZW50TWV0aG9kID09ICdNYXN0ZXJDcmVkaXQnXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBkYXRhLW5nLXJlcGVhdD1cIl80bnVtYmVycyBpbiBjYXJkTnVtYmVyIHRyYWNrIGJ5ICRpbmRleFwiID5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7eyBfNG51bWJlcnMgfCBzaG93TGFzdDREaWdpdHNDYXJkOiRsYXN0OiRpbmRleCB9fVxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8L2E+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiIgKwogICAgIiAgICAgICAgICAgIDwvZGl2PlxuIiArCiAgICAiICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlubmVyU2VjY2lvblwiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDxsYWJlbD5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAge3sgJ0RhdGVfT3JkZXJlZCcgfCB0cmFuc2xhdGV9fVxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cImZsb2F0ZXJcIj57e0RhdGVfT3JkZXJlZH19PC9hPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4iICsKICAgICIgICAgICAgICAgICA8L2Rpdj5cbiIgKwogICAgIiAgICAgICAgPC9kaXY+XG4iICsKICAgICIgICAgICAgIDxkaXYgY2xhc3M9XCJzZWNjaW9uXCI+XG4iICsKICAgICIgICAgICAgICAgICA8c3BhbiB0cmFuc2xhdGU9XCJPcmRlcl9TdW1tYXJ5XCI+PC9zcGFuPlxuIiArCiAgICAiICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlubmVyU2VjY2lvblwiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDxsYWJlbD5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAge3sgJ1N1YnRvdGFsJyB8IHRyYW5zbGF0ZX19XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwiZmxvYXRlclwiPiB7eyBzdWJUb3RhbCB8IGN1cnJlbmN5OiQgfX0gPC9hPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4iICsKICAgICIgICAgICAgICAgICA8L2Rpdj5cbiIgKwogICAgIiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbm5lclNlY2Npb25cIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8bGFiZWw+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIHt7ICdzaGlwcGluZycgfCB0cmFuc2xhdGV9fVxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cImZsb2F0ZXJcIj4ge3tzaGlwcGluZ0Nvc3QgfCBjdXJyZW5jeTonJCd9fTwvYT5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuIiArCiAgICAiICAgICAgICAgICAgPC9kaXY+XG4iICsKICAgICIgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5uZXJTZWNjaW9uXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwidG90YWxcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAge3sgJ1RPVEFMJyB8IHRyYW5zbGF0ZX19XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwiZmxvYXRlclwiPiAge3sgdG90YWwgfCBjdXJyZW5jeTokIH19IDwvYT5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuIiArCiAgICAiICAgICAgICAgICAgPC9kaXY+XG4iICsKICAgICIgICAgICAgIDwvZGl2PlxuIiArCiAgICAiXG4iICsKICAgICIgICAgPC9kaXY+XG4iICsKICAgICI8L2Rpdj5cbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iCiAgKTsKCgogICR0ZW1wbGF0ZUNhY2hlLnB1dCgnYXBwL29yZGVyL3BhcnRpYWxzL3VzZXItYXJlLWxvZ2luLmh0bWwnLAogICAgIjxkaXY+XG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiICAgIDxkaXYgaWQ9XCJkZXRhaWxzbGlua1wiPlxuIiArCiAgICAiICAgICAgICA8bGFiZWwgY2xhc3M9XCJyb2JvdG8tcmVndWxhclwiIG5nLWNsYXNzPVwieyBzZWxlY3RlZCA6IGZpcnN0VGFnIH1cIj4xLiB7eyBtYWluQ3RybC5jb25maWcuc3BlbGxpbmdNaXN0YWtlcyA/ICdTSElQSU5HX0RFVEFJTFMnIDogJ1NISVBQSU5HX0RFVEFJTFMnIHwgdHJhbnNsYXRlfX0gPC9sYWJlbD5cbiIgKwogICAgIiAgICAgICAgPGxhYmVsIGNsYXNzPVwicm9ib3RvLXJlZ3VsYXJcIiBuZy1jbGFzcz1cInsgc2VsZWN0ZWQgOiAhZmlyc3RUYWcgfVwiPjIuIHt7ICdQQVlNRU5UX01FVEhPRCcgfCB0cmFuc2xhdGUgfX08L2xhYmVsPlxuIiArCiAgICAiICAgIDwvZGl2PlxuIiArCiAgICAiXG4iICsKICAgICIgICAgPCEtLSBVU0VSIERFVEFJTFMgU0VDVElPTi0tPlxuIiArCiAgICAiXG4iICsKICAgICIgICAgPGRpdiBpZD1cInVzZXJTZWN0aW9uXCIgbmctc2hvdz1cImZpcnN0VGFnXCI+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgPGRpdiBkYXRhLW5nLXNob3c9XCIhdXNlckRldGFpbHNFZGl0TW9kZVwiPlxuIiArCiAgICAiICAgICAgICAgICAgPGRpdiBpZD1cInVzZXJEZXRhaWxzXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPGRpdj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJjc3MvaW1hZ2VzL1VzZXIuanBnXCIgYWx0PVwidXNlclwiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8IS0tPGRpdiBpY29uLXVzZXI+PC9kaXY+LS0+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxsYWJlbD57e3VzZXIuZmlyc3ROYW1lfX0ge3t1c2VyLmxhc3ROYW1lfX08L2xhYmVsPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDwvZGl2PlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDxkaXY+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDwhLS08aW1nIHNyYz1cImNzcy9pbWFnZXMvLmpwZ1wiIGFsdD1cInVzZXJcIj4tLT5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPGRpdiBpY29uLWhvbWU+PC9kaXY+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBkYXRhLW5nLXNob3c9XCJ1c2VyLmFkZHJlc3MgIT0gJydcIj57eyB1c2VyLmFkZHJlc3MgfX08L2xhYmVsPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZGF0YS1uZy1zaG93PVwidXNlci5jaXR5TmFtZSAhPSAnJ1wiPnt7IHVzZXIuY2l0eU5hbWUgfX08L2xhYmVsPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZGF0YS1uZy1zaG93PVwiY291bnRyeS5uYW1lICE9ICcnXCI+e3sgY291bnRyeS5uYW1lIH19PC9sYWJlbD5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGRhdGEtbmctc2hvdz1cInVzZXIuc3RhdGVQcm92aW5jZSAhPSAnJ1wiPnt7IHVzZXIuc3RhdGVQcm92aW5jZSB9fTwvbGFiZWw+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBkYXRhLW5nLXNob3c9XCJ1c2VyLnppcGNvZGUgIT0gJydcIj57eyB1c2VyLnppcGNvZGUgfX08L2xhYmVsPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDwvZGl2PlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDxkaXY+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxkaXYgaWNvbi1waG9uZT48L2Rpdj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPnt7IHVzZXIucGhvbmVOdW1iZXIgfX08L2xhYmVsPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDwvZGl2PlxuIiArCiAgICAiICAgICAgICAgICAgPC9kaXY+XG4iICsKICAgICIgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmx1ZUxpbmtcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8YSByb2xlPVwibGlua1wiIGRhdGEtbmctY2xpY2s9XCJzZXRVc2VyRGV0YWlsc0VkaXRNb2RlKClcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZT1cIkVkaXRfc2hpcHBpbmdfRGV0YWlsc1wiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIj48L2E+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZmxvYXQtYnV0dG9uXCI+e3sgJ1NISVBQSU5HX0JZJyB8IHRyYW5zbGF0ZSB9fTpcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJjc3MvaW1hZ2VzL1NoaXBleC5wbmdcIiBhbHQ9XCJTaGlwRXhcIi8+PC9sYWJlbD5cbiIgKwogICAgIiAgICAgICAgICAgIDwvZGl2PlxuIiArCiAgICAiICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vYmlsZUJ0bkhhbmRsZXJcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwibmV4dF9idG5cIiByb2xlPVwiYnV0dG9uXCIgZGF0YS1uZy1jbGljaz1cInNoaXBwaW5nRGV0YWlsc19uZXh0KClcIiBjbGFzcz1cImEtYnV0dG9uIG5leHRCdG4gbWFyZ2luVG9wNzVcIiB0cmFuc2xhdGU9XCJORVhUXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPC9idXR0b24+XG4iICsKICAgICIgICAgICAgICAgICA8L2Rpdj5cbiIgKwogICAgIiAgICAgICAgPC9kaXY+XG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICA8ZGl2IGRhdGEtbmctc2hvdz1cInVzZXJEZXRhaWxzRWRpdE1vZGVcIiBpZD1cInVzZXJEZXRhaWxzRWRpdE1vZGVcIj5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgPCEtLSBFRElUIFVTRVIgREVUQUlMUyBTRUNUSU9OLS0+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgIDxzZWMtZm9ybSBzZWMtZ2V0LWZvcm0tdmFsaWRhdGlvbi13aGVuLXJlYWR5PVwidmFsaWRTZWNWYWxpZGF0ZSh2YWxpZClcIj5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDxoNiBjbGFzcz1cInJvYm90by1ib2xkXCI+IHt7IG1haW5DdHJsLmNvbmZpZy5zcGVsbGluZ01pc3Rha2VzID8gJ1JlY2lldmVyX0RldGFpbHMnIDogJ1JlY2VpdmVyX0RldGFpbHMnIHwgdHJhbnNsYXRlfX0gPC9oNj5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGxpdGVyXCI+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPHNlYy12aWV3IGEtaGludD1cInt7J0ZpcnN0X05hbWUnIHwgdHJhbnNsYXRlfX1cIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjLW1vZGVsPVwidXNlci5maXJzdE5hbWVcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjLW1pbi1sZW5ndGg9XCJtYWluQ3RybC5nZXRNaW4oMilcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjLW1heC1sZW5ndGg9XCJtYWluQ3RybC5nZXRNYXgoMzApXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDwvc2VjLXZpZXc+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPHNlYy12aWV3IGEtaGludD1cInt7J0xhc3RfTmFtZScgfCB0cmFuc2xhdGV9fVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWMtbW9kZWw9XCJ1c2VyLmxhc3ROYW1lXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1taW4tbGVuZ3RoPVwibWFpbkN0cmwuZ2V0TWluKDIpXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1tYXgtbGVuZ3RoPVwibWFpbkN0cmwuZ2V0TWF4KDMwKVwiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8L3NlYy12aWV3PlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICAgICAgPC9kaXY+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BsaXRlclwiPlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxzZWMtdmlldyBhLWhpbnQ9XCJ7eydQaG9uZV9OdW1iZXInIHwgdHJhbnNsYXRlfX1cIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjLW1heC1sZW5ndGg9XCJtYWluQ3RybC5nZXRNYXgoMjApXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1tb2RlbD1cInVzZXIucGhvbmVOdW1iZXJcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPC9zZWMtdmlldz5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDwvZGl2PlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICA8aDYgdHJhbnNsYXRlPVwiQWRkcmVzc1wiIGNsYXNzPVwicm9ib3RvLWJvbGRcIj48L2g2PlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNwbGl0ZXJcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPHNlYy12aWV3IGEtaGludD1cIkNvdW50cnlcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjLXJlcXVpcmU9XCJtYWluQ3RybC5nZXRSZXF1aXJlKCdDb3VudHJ5JylcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYS10eXBlPVwic2VsZWN0XCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEtc2hvdz1cIm5hbWVcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjLW1vZGVsPVwiY291bnRyeVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWMtc2VsZWN0LW9wdGlvbnM9XCJjb3VudHJpZXNcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPC9zZWMtdmlldz5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8c2VjLXZpZXcgYS1oaW50PVwie3sgbWFpbkN0cmwuY29uZmlnLnNwZWxsaW5nTWlzdGFrZXMgPyAnQ2lpdHknIDogJ0NpdHknIHwgdHJhbnNsYXRlfX1cIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjLW1vZGVsPVwidXNlci5jaXR5TmFtZVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWMtbWF4LWxlbmd0aD1cIm1haW5DdHJsLmdldE1heCgyNSlcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPC9zZWMtdmlldz5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8L2Rpdj5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGxpdGVyXCI+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPHNlYy12aWV3IGEtaGludD1cInt7J0FkZHJlc3MnIHwgdHJhbnNsYXRlfX1cIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjLW1vZGVsPVwidXNlci5hZGRyZXNzXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1tYXgtbGVuZ3RoPVwibWFpbkN0cmwuZ2V0TWF4KDUwKVwiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8L3NlYy12aWV3PlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPHNlYy12aWV3IGEtaGludD1cInt7J1Bvc3RhbF9Db2RlJyB8IHRyYW5zbGF0ZX19XCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1tb2RlbD1cInVzZXIuemlwY29kZVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWMtbWF4LWxlbmd0aD1cIm1haW5DdHJsLmdldE1heCgxMClcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPC9zZWMtdmlldz5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDwvZGl2PlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNwbGl0ZXJcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPHNlYy12aWV3IGEtaGludD1cInt7J1N0YXRlX19Qcm92aW5jZV9fUmVnaW9uJyB8IHRyYW5zbGF0ZX19XCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1tb2RlbD1cInVzZXIuc3RhdGVQcm92aW5jZVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWMtbWF4LWxlbmd0aD1cIm1haW5DdHJsLmdldE1heCgxMClcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPC9zZWMtdmlldz5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8L2Rpdj5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb24gbWFyZ2luVG9wXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBuYW1lPVwiYWdyZWVfYWdyZWVtZW50XCIgbmctbW9kZWw9XCJhZ3JlZV9BZ3JlZW1lbnRcIiB0eXBlPVwiY2hlY2tib3hcIi8+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicm9ib3RvLWxpZ2h0XCIgdHJhbnNsYXRlPVwiU2F2ZV9jaGFuZ2VzX2luX3Byb2ZpbGVfZm9yX2Z1dHVyZV91c2VcIj48L3NwYW4+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPC9kaXY+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmx1ZUxpbmtcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPHNlYy1zZW5kZXIgY2xhc3M9XCJyb2JvdG8tbWVkaXVtXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYS12YWx1ZT1cInt7J05FWFQnIHwgdHJhbnNsYXRlfX1cIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWMtc2VuZD1cImFjY291bnRVcGRhdGUoKVwiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8L3NlYy1zZW5kZXI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwicm9ib3RvLW1lZGl1bSBmbG9hdC1idXR0b24gYS1saW5rIGxpbmtUb1ByZXNzXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1uZy1jbGFzcz1cInsgYnV0dG9uRGlzYWJsZSA6IGludmFsaWRVc2VyfVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtbmctY2xpY2s9XCJiYWNrVG9NYWluU2hpcHBpbmdEZXRhaWxzKClcIiB0cmFuc2xhdGU9XCJCQUNLXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDwvYT5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8L2Rpdj5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgPC9zZWMtZm9ybT5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgPCEtLSBFTkQgRURJVCBVU0VSIERFVEFJTFMgU0VDVElPTi0tPlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgIDwvZGl2PlxuIiArCiAgICAiXG4iICsKICAgICIgICAgPC9kaXY+XG4iICsKICAgICJcbiIgKwogICAgIiAgICA8IS0tIEVORCBVU0VSIERFVEFJTFMgU0VDVElPTi0tPlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIiAgICA8IS0tIEVESVQgRURJVCBQQVlNRU5UIFNFQ1RJT04gLS0+XG4iICsKICAgICJcbiIgKwogICAgIiAgICA8ZGl2IGlkPVwicGF5bWVudE1ldGhvZFwiIGRhdGEtbmctaGlkZT1cImZpcnN0VGFnXCI+XG4iICsKICAgICIgICAgICAgIDxkaXY+XG4iICsKICAgICIgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJDaG9vc2VfcGF5bWVudCByb2JvdG8tbWVkaXVtXCIgdHJhbnNsYXRlPVwiQ2hvb3NlX3BheW1lbnRfbWV0aG9kX2JlbG93XCI+XG4iICsKICAgICIgICAgICAgICAgICA8L2xhYmVsPlxuIiArCiAgICAiICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBheW1lbnRNZXRob2RzXCIgbmctaW5pdD1cImNoZWNrZWRSYWRpbyA9IDFcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW1nUmFkaW9CdXR0b25cIiBkYXRhLW5nLWNsaWNrPVwiaW1nUmFkaW9CdXR0b25DbGlja2VkKDEpOyBjaGVja2VkUmFkaW8gPSAxXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgIGRhdGEtbmctY2xhc3M9XCJ7IHNlbGVjdGVkIDogaW1nUmFkaW9CdXR0b24gPT0gMSB9XCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwic2FmZXBheVwiIG5nLWNoZWNrZWQ9XCJjaGVja2VkUmFkaW8gPT0gMVwiIHN0eWxlPVwicG9zaXRpb246YWJzb2x1dGU7IHRvcDoyNXB4OyBsZWZ0OjI0cHg7IG9wYWNpdHk6MFwiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImNzcy9pbWFnZXMvU2FmZVBheS5wbmdcIiBhbHQ9XCJTYWZlcGF5XCIvPlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDwvZGl2PlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbWdSYWRpb0J1dHRvblwiIGRhdGEtbmctY2xpY2s9XCJpbWdSYWRpb0J1dHRvbiA9IDI7IGNoZWNrZWRSYWRpbyA9IDJcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgIGRhdGEtbmctY2xhc3M9XCJ7IHNlbGVjdGVkIDogaW1nUmFkaW9CdXR0b24gPT0gMiB9XCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwibWFzdGVyQ3JlZGl0XCIgbmctY2hlY2tlZD1cImNoZWNrZWRSYWRpbyA9PSAyXCIgc3R5bGU9XCJwb3NpdGlvbjphYnNvbHV0ZTsgdG9wOjI1cHg7IGxlZnQ6MjRweDsgb3BhY2l0eTowXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiY3NzL2ltYWdlcy9NYXN0ZXJfY3JlZGl0LnBuZ1wiIGFsdD1cIk1hc3RlciBjcmVkaXRcIi8+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPC9kaXY+XG4iICsKICAgICIgICAgICAgICAgICA8L2Rpdj5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgPCEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFNBRkVQQVkgU0VDVElPTiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICA8ZGl2IG5nLXNob3c9XCJpbWdSYWRpb0J1dHRvbiA9PSAxXCI+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibm90aWNlXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxoNCB0cmFuc2xhdGU9XCJOb3RpY2VcIj48L2g0PlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwicm9ib3RvLWxpZ2h0XCI+e3sgJ1RoaXNfaXNfYV9kZW1vJyB8IHRyYW5zbGF0ZSB9fSB7eyAnUGxlYXNlX2VudGVyX2FfZmFrZV9kYXRhJyB8XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGUgfX08L3A+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPC9kaXY+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJwYXlOb3dfZXJyb3JfbGFiZWxcIiBpZD1cInBheU5vd1NQRXJyb3JMYWJlbFwiPjwvbGFiZWw+XG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDxzZWMtZm9ybSA+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPHNlYy12aWV3IGEtaGludD1cInt7J1NhZmVQYXlfVXNlcl9uYW1lJyB8IHRyYW5zbGF0ZX19XCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1tb2RlbD1cInNhdmVQYXkudXNlcm5hbWVcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjLXJlcXVpcmU9XCJtYWluQ3RybC5nZXRSZXF1aXJlKCdTYWZlUGF5X1VzZXJfbmFtZScpXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1taW4tbGVuZ3RoPVwibWFpbkN0cmwuZ2V0TWluKDUpXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1tYXgtbGVuZ3RoPVwibWFpbkN0cmwuZ2V0TWF4KDE1KVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWMtcGF0dGVybj1cIm1haW5DdHJsLmdldFBhdHRlcm4oJ1VzZXJuYW1lJylcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPC9zZWMtdmlldz5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8c2VjLXZpZXcgYS1oaW50PVwie3snU2FmZVBheV9QYXNzd29yZCcgfCB0cmFuc2xhdGV9fVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLXR5cGU9XCJwYXNzd29yZFwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWMtbW9kZWw9XCJzYXZlUGF5LnBhc3N3b3JkXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1yZXF1aXJlPVwibWFpbkN0cmwuZ2V0UmVxdWlyZSgnU2FmZVBheV9QYXNzd29yZCcpXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1taW4tbGVuZ3RoPVwibWFpbkN0cmwuZ2V0TWluKDQpXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1tYXgtbGVuZ3RoPVwibWFpbkN0cmwuZ2V0TWF4KDEyKVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWMtcGF0dGVybj1cIm1haW5DdHJsLmdldFBhdHRlcm4oJ1Bhc3N3b3JkJylcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPC9zZWMtdmlldz5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwib3B0aW9uIG1hcmdpblRvcFwiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IG5hbWU9XCJzYXZlX3NhZmVwYXlcIiBuZy1tb2RlbD1cInNhdmVTYWZlUGF5XCIgdHlwZT1cImNoZWNrYm94XCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJvYm90by1saWdodCBuZy1iaW5kaW5nXCIgdHJhbnNsYXRlPVwiU2F2ZV9jaGFuZ2VzX2luX3Byb2ZpbGVfZm9yX2Z1dHVyZV91c2VcIj4gPC9zcGFuPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmx1ZUxpbmsgbWFyZ2luMTVweFwiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIHJvbGU9XCJsaW5rXCIgZGF0YS1uZy1jbGljaz1cIkJhY2tfdG9fc2hpcHBpbmdfZGV0YWlscygpXCIgdHJhbnNsYXRlPVwiQmFja190b19zaGlwcGluZ19kZXRhaWxzXCI+PC9hPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgPCEtLTxhIGRhdGEtbmctY2xpY2s9XCJmaXJzdFRhZyA9IHRydWVcIiB0cmFuc2xhdGU9XCJCYWNrX3RvX3NoaXBwaW5nX2RldGFpbHNcIj48L2E+LS0+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmbG9hdF9yaWdodFwiIHN0eWxlPVwiZGlzcGxheTogdGFibGVcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjLXNlbmRlciBpZD1cInBheU5vd1NQRHJ0dlwiIGNsYXNzPVwicm9ib3RvLW1lZGl1bSBwYXlOb3dCdXR0b25NYXJnaW5XaXRoRXJyb3JcIiBhLXZhbHVlPVwie3snUEFZX05PVycgfCB0cmFuc2xhdGV9fVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYS1oaW50PVwiX1NBRkVQQVlcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1zZW5kPVwicGF5Tm93X1NhZmVQYXkoKVwiIHN0eWxlPVwibWFyZ2luLXJpZ2h0OiAyMCU7XCI+PC9zZWMtc2VuZGVyPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICA8L3NlYy1mb3JtPlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICA8L2Rpdj5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgPCEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFTkQgU0FGRVBBWSBTRUNUSU9OIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgIDwhLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gTUFTVEVSQ1JFRElUIFNFQ1RJT04gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICA8ZGl2IG5nLXNob3c9XCJpbWdSYWRpb0J1dHRvbiA9PSAyICYmICFub0NhcmRzICYmICFzaG93TWFzdGVyQ2FydFwiPlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1hc3RlckNyZWRpdFNlY2Npb25cIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvYm90by1yZWd1bGFyXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIk1hc3RlckNyZWRpdFwiPk1hc3RlckNyZWRpdDwvc3Bhbj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGRhdGEtbmctcmVwZWF0PVwiXzRudW1iZXJzIGluIENhcmROdW1iZXIgdHJhY2sgYnkgJGluZGV4XCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAge3sgXzRudW1iZXJzIHwgc2hvd0xhc3Q0RGlnaXRzQ2FyZDokbGFzdDokaW5kZXh9fVxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZWRpdCBcIiBkYXRhLW5nLWNsaWNrPVwidG9nZ2xlU2hvd01hc3RlckNhcnQoKVwiIHRyYW5zbGF0ZT1cIkVkaXRcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuIiArCiAgICAiICAgICAgICAgICAgICAgIDwvZGl2PlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJsdWVMaW5rIG1hcmdpbkJvdHRvbVwiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgcm9sZT1cImxpbmtcIiBuZy1jbGljaz1cIkJhY2tfdG9fc2hpcHBpbmdfZGV0YWlscygpXCIgdHJhbnNsYXRlPVwiQmFja190b19zaGlwcGluZ19kZXRhaWxzXCI+PC9hPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8bGFiZWwgc3R5bGU9XCJmbG9hdDogcmlnaHQ7ZGlzcGxheTogdGFibGU7XCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHN0eWxlPVwiICAgIG1hcmdpbi1ib3R0b206IDVweDtcIiBpZD1cInBheV9ub3dfYnRuX01hc3RlckNyZWRpdFwiIG5hbWU9XCJwYXlfbm93X2J0bl9NYXN0ZXJDcmVkaXRcIiBjbGFzcz1cInJvYm90by1tZWRpdW0gZmxvYXQtYnV0dG9uIGEtYnV0dG9uXCIgZGF0YS1uZy1jbGljaz1cInBheU5vd19tYW51YWwoKVwiIHJvbGU9XCJidXR0b25cIj57eydQQVlfTk9XJyB8IHRyYW5zbGF0ZX19PC9idXR0b24+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJwYXlOb3dfZXJyb3JfbGFiZWxcIiBpZD1cInBheU5vd01DRXJyb3JMYWJlbEV4cGVuZGVkXCI+PC9sYWJlbD5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiIgKwogICAgIiAgICAgICAgICAgICAgICA8L2Rpdj5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgPC9kaXY+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgIDwhLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRU5EIE1BU1RFUkNSRURJVCBTRUNUSU9OIC0tLS0tLS0tLS0tLS0tLS0tLS0tLT5cbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICA8IS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gTUFOVUFMIFBBWU1FTlQgU0VDVElPTiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICA8ZGl2IG5nLXNob3c9XCIoaW1nUmFkaW9CdXR0b24gPT0gMikgJiYgKG5vQ2FyZHMgfHwgc2hvd01hc3RlckNhcnQpXCI+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibm90aWNlXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxoNCB0cmFuc2xhdGU9XCJOb3RpY2VcIj48L2g0PlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInJvYm90by1saWdodFwiPnt7ICdUaGlzX2lzX2FfZGVtbycgfCB0cmFuc2xhdGUgfX0ge3sgJ1BsZWFzZV9lbnRlcl9hX2Zha2VfZGF0YScgfCB0cmFuc2xhdGUgfX08L3A+XG4iICsKICAgICIgICAgICAgICAgICAgICAgPC9kaXY+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICA8c2VjLWZvcm0+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNwbGl0ZXJcIj5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgPHNlYy12aWV3IGEtaGludD1cInt7J0NhcmRfbnVtYmVyJyB8IHRyYW5zbGF0ZX19XCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLXNlY3JldC1maWVsZD1cInRydWVcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEtdHlwZT1cImNyZWRpdENhcmRcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1tb2RlbD1cImNhcmQubnVtYmVyXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWMtcmVxdWlyZT1cIm1haW5DdHJsLmdldFJlcXVpcmUoJ0NhcmRfbnVtYmVyJylcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1jYXJkLW51bWJlcj1cIm1haW5DdHJsLmdldENhcmROdW1iZXIoMTYpXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICA8L3NlYy12aWV3PlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWMtdmlldyBhLWhpbnQ9XCJ7eydDQ1ZfTnVtYmVyJyB8IHRyYW5zbGF0ZX19XCIgY2xhc3M9XCJjcmVkaXRDYXJkXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLXNlY3JldC1maWVsZD1cInRydWVcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1tb2RlbD1cImNhcmQuY3Z2XCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWMtcmVxdWlyZT1cIm1haW5DdHJsLmdldFJlcXVpcmUoJ0NDVl9OdW1iZXInKVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjLXBhdHRlcm49XCJtYWluQ3RybC5nZXRQYXR0ZXJuKCdDQ1ZfTnVtYmVyJylcIj5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjLXZpZXc+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInJvYm90by1yZWd1bGFyIGV4cGlyYXRpb25fZGF0ZV90aXRsZVwiIHRyYW5zbGF0ZT1cIkV4cGlyYXRpb25fRGF0ZVwiPjwvbGFiZWw+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGxpdGVyXCI+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYXltZW50X2RhdGVcIj5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWMtdmlldyBhLWhpbnQ9XCJ7eyAnTU0nIHwgdHJhbnNsYXRlIH19XCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYS10eXBlPVwic2VsZWN0XCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYS1kby1ub3Qtc2hvdy1pbmZvPVwidHJ1ZVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1yZXF1aXJlPVwibWFpbkN0cmwuZ2V0UmVxdWlyZSgnTW9udGgnKVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1tb2RlbD1cImNhcmQuZXhwaXJhdGlvbkRhdGUubW9udGhcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWMtc2VsZWN0LW9wdGlvbnM9XCJtb250aFwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjLXZpZXc+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjLXZpZXcgYS1oaW50PVwie3sgJ1lZJyB8IHRyYW5zbGF0ZSB9fVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEtdHlwZT1cInNlbGVjdFwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEtZG8tbm90LXNob3ctaW5mbz1cInRydWVcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWMtcmVxdWlyZT1cIm1haW5DdHJsLmdldFJlcXVpcmUoJ1llYXInKVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1tb2RlbD1cImNhcmQuZXhwaXJhdGlvbkRhdGUueWVhclwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1zZWxlY3QtY2hhbmdlPVwiY2FsY3VsYXRlTW9udGhzKHZhbHVlKVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYy1zZWxlY3Qtb3B0aW9ucz1cInllYXJzXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWMtdmlldz5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tc2VjLXZhbHVlLWNoYW5nZT1cIlwiLS0+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWMtdmlldyBhLWhpbnQ9XCJ7eyAnQ2FydGhvbGRlcl9OYW1lJyB8IHRyYW5zbGF0ZSB9fVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjLXJlcXVpcmU9XCJtYWluQ3RybC5nZXRSZXF1aXJlKCdDYXJ0aG9sZGVyX05hbWUnKVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjLW1vZGVsPVwiY2FyZC5uYW1lXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICA8L3NlYy12aWV3PlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb24gbWFyZ2luVG9wXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgbmFtZT1cInNhdmVfbWFzdGVyX2NyZWRpdFwiIG5nLW1vZGVsPVwic2F2ZU1hc3RlckNyZWRpdFwiIHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwibmctcHJpc3RpbmUgbmctdW50b3VjaGVkIG5nLXZhbGlkXCI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJvYm90by1saWdodCBuZy1iaW5kaW5nXCIgdHJhbnNsYXRlPVwiU2F2ZV9jaGFuZ2VzX2luX3Byb2ZpbGVfZm9yX2Z1dHVyZV91c2VcIj48L3NwYW4+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJibHVlTGlua1wiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIHJvbGU9XCJsaW5rXCIgbmctY2xpY2s9XCJCYWNrX3RvX3NoaXBwaW5nX2RldGFpbHMoKVwiIHRyYW5zbGF0ZT1cIkJhY2tfdG9fc2hpcHBpbmdfZGV0YWlsc1wiPjwvYT5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZsb2F0X3JpZ2h0XCIgc3R5bGU9XCJkaXNwbGF5OiB0YWJsZVwiPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWMtc2VuZGVyIGNsYXNzPVwicm9ib3RvLW1lZGl1bVwiIGEtdmFsdWU9XCJ7eydQQVlfTk9XJyB8IHRyYW5zbGF0ZX19XCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLWhpbnQ9XCJfTWFudWFsUGF5bWVudFwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjLXNlbmQ9XCJwYXlOb3dfbWFzdGVyQ3JlZGl0KClcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwibWFyZ2luLXJpZ2h0OiAzMCU7XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDVweDtcIj48L3NlYy1zZW5kZXI+XG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwicGF5Tm93X2Vycm9yX2xhYmVsXCIgaWQ9XCJwYXlOb3dNQ0Vycm9yTGFiZWxcIj48L2xhYmVsPlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiIgKwogICAgIiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgICAgICAgICA8L3NlYy1mb3JtPlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgICAgICA8L2Rpdj5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICAgICAgPCEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEVORCBNQU5VQUwgUEFZTUVOVCBTRUNUSU9OIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgPC9kaXY+XG4iICsKICAgICIgICAgPC9kaXY+XG4iICsKICAgICJcbiIgKwogICAgIiAgICA8IS0tIEVORCBFRElUIFBBWU1FTlQgU0VDVElPTi0tPlxuIiArCiAgICAiXG4iICsKICAgICI8L2Rpdj5cbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iCiAgKTsKCgogICR0ZW1wbGF0ZUNhY2hlLnB1dCgnYXBwL29yZGVyL3BhcnRpYWxzL3VzZXItbm90LWxvZ2luLmh0bWwnLAogICAgIjxkaXY+XG4iICsKICAgICI8IS0tPGg1IGNsYXNzPVwicm9ib3RvLXJlZ3VsYXIgYmlnUGFkZGluZ1wiIHRyYW5zbGF0ZT1cIklERU5USUZJQ0FUSU9OXCI+PC9oNT4tLT5cbiIgKwogICAgIjxkaXYgY2xhc3M9XCJub1VzZXJTZWN0aW9uXCI+XG4iICsKICAgICIgICAgPGxhYmVsIGNsYXNzPVwicm9ib3RvLW1lZGl1bVwiIHRyYW5zbGF0ZT1cIkFscmVhZHlfaGF2ZV9hbl9hY2NvdW50XCIgPjwvbGFiZWw+XG4iICsKICAgICJcbiIgKwogICAgIiAgICA8c2VjLWZvcm0+XG4iICsKICAgICIgICAgICAgIDxzZWMtdmlldyBhLWhpbnQ9XCJ7eydVc2VyX25hbWUnIHwgdHJhbnNsYXRlfX1cIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgYS1oaW50LWRlc2NyaXB0aW9uPVwiSW5PcmRlclBheW1lbnRcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgYS1zdGFyPVwiZmFsc2VcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgc2VjLW1vZGVsPVwib3JkZXJQYXltZW50TG9naW4ubG9naW5Vc2VyXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgIHNlYy1yZXF1aXJlPVwibWFpbkN0cmwuZ2V0UmVxdWlyZSgnVXNlcl9uYW1lJylcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgID5cbiIgKwogICAgIiAgICAgICAgPC9zZWMtdmlldz5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICA8IS0tc2VjLXBhdHRlcm49XCIoKD89LipcXGQpKD89LipbYS16XSkoPz0uKltBLVpdKS57MCwxMn0pXCIgcGF0dGVybi1lcnJvci1hdHRyPVwiVXNlX3VwX3RvXzEyX2NoYXJhY3RlcnNfSW5jbHVkZV9hdF9sZWFzdF9vbmVfbGV0dGVyX2FuZF9vbmVfbnVtYmVyXCItLT5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICA8c2VjLXZpZXcgYS1oaW50PVwie3snUGFzc3dvcmQnIHwgdHJhbnNsYXRlfX1cIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgYS1oaW50LWRlc2NyaXB0aW9uPVwiSW5PcmRlclBheW1lbnRcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgYS1zdGFyPVwiZmFsc2VcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgYS10eXBlPVwicGFzc3dvcmRcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgc2VjLW1vZGVsPVwib3JkZXJQYXltZW50TG9naW4ubG9naW5QYXNzd29yZFwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICBzZWMtcmVxdWlyZT1cIm1haW5DdHJsLmdldFJlcXVpcmUoJ1Bhc3N3b3JkJylcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgID5cbiIgKwogICAgIiAgICAgICAgPC9zZWMtdmlldz5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICA8c2VjLXZpZXcgYS1oaW50PVwie3snRW1haWwnIHwgdHJhbnNsYXRlfX1cIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgYS1oaW50LWRlc2NyaXB0aW9uPVwiSW5PcmRlclBheW1lbnRcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgYS1zdGFyPVwiZmFsc2VcIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgbmctc2hvdz1cImNvbmZpZy5lbWFpbEFkZHJlc3NJbkxvZ2luXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgIHNlYy1tb2RlbD1cIm9yZGVyUGF5bWVudExvZ2luLmVtYWlsXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgIHNlYy1kaXNhYmxlLXZhbGlkYXRpb249XCIhY29uZmlnLmVtYWlsQWRkcmVzc0luTG9naW5cIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgc2VjLXJlcXVpcmU9XCJtYWluQ3RybC5nZXRSZXF1aXJlKCdFbWFpbCcpXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgICAgIHNlYy1wYXR0ZXJuPVwibWFpbkN0cmwuZ2V0UGF0dGVybignRW1haWwnKVwiPlxuIiArCiAgICAiICAgICAgICA8L3NlYy12aWV3PlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgIDxsYWJlbCB0cmFuc2xhdGU9XCJGb3Jnb3RfeW91cl9wYXNzd29yZFwiXG4iICsKICAgICIgICAgICAgICAgICAgICBjbGFzcz1cInJvYm90by1yZWd1bGFyXCJcbiIgKwogICAgIiAgICAgICAgICAgICAgIGlkPVwiRm9yZ290X3lvdXJfcGFzc3dvcmRcIj5cbiIgKwogICAgIiAgICAgICAgPC9sYWJlbD5cbiIgKwogICAgIlxuIiArCiAgICAiICAgICAgICA8YnIgLz5cbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICIgICAgICAgIDxzZWMtc2VuZGVyIGNsYXNzPVwicm9ib3RvLW1lZGl1bVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIGEtdmFsdWU9XCJ7eydMT0dJTicgfCB0cmFuc2xhdGV9fVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgIHNlYy1zZW5kPVwic2lnbkluKG9yZGVyUGF5bWVudExvZ2luKVwiPjwvc2VjLXNlbmRlcj5cbiIgKwogICAgIiAgICAgICAgPCEtLUQzNzAxOC0gQ2hhbmdpbmcgdGFyZ2V0IHNpZ25JbiBmdW5jdGlvbiBmcm9tICd1c2VyTm90TG9naW5DdHJsLm9yZGVyUGF5bWVudExvZ2luX3NpZ25JbicgdG8gZGlyZWN0bHkgZ28gJ2xvZ2luTW9kYWwuc2lnbkluJy0tPlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIlxuIiArCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgPGJyIC8+XG4iICsKICAgICJcbiIgKwogICAgIiAgICAgICAgPGxhYmVsIG5nLWNsYXNzPVwieyBpbnZhbGlkIDogcnNNZXNzYWdlLl9jbGFzcyA9PSAnaW52YWxpZCcgfVwiPnt7IHJzTWVzc2FnZS50ZXh0IH19PC9sYWJlbD5cbiIgKwogICAgIiAgICA8L3NlYy1mb3JtPlxuIiArCiAgICAiPC9kaXY+XG4iICsKICAgICI8ZGl2IGlkPVwibmV3Q2xpZW50XCIgY2xhc3M9XCJub1VzZXJTZWN0aW9uIC5ub1VzZXJMb2dpblwiPlxuIiArCiAgICAiICAgIDxkaXYgY2xhc3M9XCJjb3ZlclwiPlxuIiArCiAgICAiICAgICAgICA8ZGl2IGRhdGEtbmctY2xhc3M9XCJ7IG5vRW1haWwgOiAhY29uZmlnLmVtYWlsQWRkcmVzc0luTG9naW4gfVwiPlxuIiArCiAgICAiICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwicm9ib3RvLW1lZGl1bVwiIHRyYW5zbGF0ZT1cIk5ld19jbGllbnRcIj48L2xhYmVsPlxuIiArCiAgICAiICAgICAgICAgICAgPHAgdHJhbnNsYXRlPVwiQ3JlYXRlX3lvdXJfYWNjb3VudF9lYXNpbHlcIj48L3A+XG4iICsKICAgICIgICAgICAgIDwvZGl2PlxuIiArCiAgICAiICAgICAgICA8c2VjLWZvcm0+XG4iICsKICAgICIgICAgICAgICAgICA8c2VjLXNlbmRlciBzdHlsZT1cIm1hcmdpbjogMThweCAyOHB4O1wiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInJvYm90by1tZWRpdW1cIlxuIiArCiAgICAiICAgICAgICAgICAgICAgICAgICAgICAgYS12YWx1ZT1cInt7J1JFR0lTVFJBVElPTicgfCB0cmFuc2xhdGV9fVwiXG4iICsKICAgICIgICAgICAgICAgICAgICAgICAgICAgICBzZWMtc2VuZD1cInJlZ2lzdHJhdGlvblJlZGlyZWN0KClcIj48L3NlYy1zZW5kZXI+XG4iICsKICAgICIgICAgICAgIDwvc2VjLWZvcm0+XG4iICsKICAgICIgICAgPC9kaXY+XG4iICsKICAgICI8L2Rpdj5cbiIgKwogICAgIjwvZGl2PlxuIgogICk7CgoKICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2FwcC9hY2NvdW50L3BhcnRpYWxzL2EuaHRtbCcsCiAgICAiXG4iICsKICAgICJcbiIgKwogICAgIjxoMT48L2gxPiIKICApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZXM7ICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ci8qKgogKiBDcmVhdGVkIGJ5IGt1YmFueSBvbiAxMC8xMy8yMDE1CiAqLwoKCmRlZmluZSgnYXBwJyxbCgogICAgJ2FuZ3VsYXInLAogICAgJ2pxdWVyeScsCiAgICAnYm9vdHN0cmFwJywKICAgICdqUHVzaE1lbnUnLAogICAgJy4vYXBwL2NvbmZpZ3VyYXRpb24vYXBwQ29uZmlnJywKICAgICcuL2FwcC91c2VyL3VzZXJDb25maWcnLAogICAgJy4vYXBwL29yZGVyL29yZGVyQ29uZmlnJywKICAgICcuL2FwcC9hY2NvdW50L2FjY291bnRDb25maWcnLAogICAgJy4vYXBwL2NvbmZpZ3VyYXRpb24vY29tbW9uQ29uZmlnJywKCgogICAgJy4vYXBwL2NvbnRyb2xsZXJzL2luZGV4JywKICAgICcuL2FwcC91c2VyL2NvbnRyb2xsZXJzL2luZGV4JywKICAgICcuL2FwcC9vcmRlci9jb250cm9sbGVycy9pbmRleCcsCiAgICAnLi9hcHAvYWNjb3VudC9jb250cm9sbGVycy9pbmRleCcsCgoKICAgICcuL2FwcC91c2VyL3NlcnZpY2VzL2luZGV4JywKICAgICcuL2FwcC9vcmRlci9zZXJ2aWNlcy9pbmRleCcsCiAgICAnLi9hcHAvc2VydmljZXMvaW5kZXgnLAogICAgJy4vYXBwL2FjY291bnQvc2VydmljZXMvaW5kZXgnLAoKCiAgICAnLi9hcHAvZmlsdGVycy9pbmRleCcsCgoKICAgICcuL2FwcC9kaXJlY3RpdmVzL2luZGV4JywKICAgICcuL2FwcC91c2VyL2RpcmVjdGl2ZXMvaW5kZXgnLAogICAgJy4vYXBwL29yZGVyL2RpcmVjdGl2ZXMvaW5kZXgnLAogICAgJy4vYXBwL2FjY291bnQvZGlyZWN0aXZlcy9pbmRleCcsCiAgICAnLi9hcHAvU0VDT1JSRU5USS9zZWMtaW5wdXQvaW5kZXgnLAoKICAgICcuL2FwcC90ZW1wbGF0ZXMvbW9kdWxlJywKCl0sIGZ1bmN0aW9uIChhbmd1bGFyLCB0ZW1wbGF0ZXMsIGJvb3RzdHJhcCwgalB1c2hNZW51LCBjYXRhbG9nQ29uZmlnLCB1c2VyQ29uZmlnLCBvcmRlckNvbmZpZywgYWNjb3VudENvbmZpZywgY29tbW9uQ29uZmlnKSB7CgogICAgcmV0dXJuIGFuZ3VsYXIubW9kdWxlKCdhb3MnLCBbCgogICAgICAgICdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJywKICAgICAgICAndWkucm91dGVyJywKICAgICAgICAndWkuYm9vdHN0cmFwJywKICAgICAgICAnaXBDb29raWUnLAogICAgICAgICduZ0FuaW1hdGUnLAogICAgICAgICdhbmd1bGFyLWdvb2dsZS1hbmFseXRpY3MnLAogICAgICAgICd0b2FzdGVyJywKICAgICAgICAnYW9zLmNvbnRyb2xsZXJzJywKICAgICAgICAnYW9zLnNlcnZpY2VzJywKICAgICAgICAnYW9zLmRpcmVjdGl2ZXMnLAogICAgICAgICdhb3MuZmlsdGVycycsCiAgICAgICAgJ2Fvcy50ZW1wbGF0ZXMnLAoKICAgICAgICAnYW9zLnVzZXIuY29udHJvbGxlcnMnLAogICAgICAgICdhb3MudXNlci5zZXJ2aWNlcycsCiAgICAgICAgJ2Fvcy51c2VyLmRpcmVjdGl2ZXMnLAoKICAgICAgICAnYW9zLm9yZGVyLmNvbnRyb2xsZXJzJywKICAgICAgICAnYW9zLm9yZGVyLnNlcnZpY2VzJywKICAgICAgICAnYW9zLm9yZGVyLmRpcmVjdGl2ZXMnLAoKCiAgICAgICAgJ2Fvcy5hY2NvdW50LmNvbnRyb2xsZXJzJywKICAgICAgICAnYW9zLmFjY291bnQuc2VydmljZXMnLAogICAgICAgIC8vJ2Fvcy5hY2NvdW50LmRpcmVjdGl2ZXMnLAoKCiAgICBdKS4KCiAgICBjb25maWcoY2F0YWxvZ0NvbmZpZykuCgogICAgY29uZmlnKHVzZXJDb25maWcpLgoKICAgIGNvbmZpZyhvcmRlckNvbmZpZykuCgogICAgY29uZmlnKGFjY291bnRDb25maWcpLgoKICAgIGNvbmZpZyhjb21tb25Db25maWcpLgoKCgogICAgcnVuKGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkc3RhdGUsIGlwQ29va2llLCBBbmFseXRpY3MpIHsKCiAgICAgICAgLy8gRmlyc3QsIGNoZWNrcyBpZiBpdCBpc24ndCBpbXBsZW1lbnRlZCB5ZXQuCiAgICAgICAgaWYgKCFTdHJpbmcucHJvdG90eXBlLmZvcm1hdCkgewogICAgICAgICAgICBTdHJpbmcucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC97KFxkKyl9L2csIGZ1bmN0aW9uKG1hdGNoLCBudW1iZXIpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIGFyZ3NbbnVtYmVyXSAhPSAndW5kZWZpbmVkJwogICAgICAgICAgICAgICAgICAgICAgICA/IGFyZ3NbbnVtYmVyXQogICAgICAgICAgICAgICAgICAgICAgICA6IG1hdGNoCiAgICAgICAgICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICAgICAgLy8kaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmdldCA9IHsgJ0NvbnRlbnQtVHlwZSc6ICJhcHBsaWNhdGlvbi9qc29uIiwgfQogICAgICAgICAgICAvLyAkcm9vdFNjb3BlLmV4cGlyZWRTZXNzaW9uID0gZmFsc2U7CiAgICAgICAgICAgIHZhciBwY0Jsb2NrZWQgPSBpcENvb2tpZSgicGNCbG9ja2VkIik7CiAgICAgICAgICAgIGlmIChwY0Jsb2NrZWQpIHsKICAgICAgICAgICAgICAgIGlmIChuZXcgRGF0ZSgpLmdldFRpbWUoKSA+IHBjQmxvY2tlZCkgewogICAgICAgICAgICAgICAgICAgIGlwQ29va2llLnJlbW92ZSgicGNCbG9ja2VkIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJzQwNCcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAkcm9vdFNjb3BlLnVzZXJDb29raWVMYXN0RW50cnkgPSBpcENvb2tpZSgnbGFzdExvZ2luJyk7CiAgICAgICAgICAgIGlmICgkcm9vdFNjb3BlLnVzZXJDb29raWVMYXN0RW50cnkpIHsKICAgICAgICAgICAgICAgIHZhciBjb29raWUgPSBpcENvb2tpZSgkcm9vdFNjb3BlLnVzZXJDb29raWVMYXN0RW50cnkpOwogICAgICAgICAgICAgICAgaWYgKGNvb2tpZSkgewogICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUudXNlckNvb2tpZSA9IGNvb2tpZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZUVycm9yJywgZnVuY3Rpb24gKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zLCBlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXZlbnQpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2codG9TdGF0ZSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0b1BhcmFtcyk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhmcm9tU3RhdGUpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZnJvbVBhcmFtcyk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICBIZWxwZXIuZGlzYWJsZUxvYWRlcigwKTsKCiAgICAgICAgICAgICAgICBpZih0b1N0YXRlLm5hbWUgPT0gIk15T3JkZXJzIikKICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oImRlZmF1bHQiKTsKICAgICAgICAgICAgICAgIC8vIGlmKGYuc3RhdHVzID09PSA0MDEgJiYgYi5uYW1lID09PSAnTXlPcmRlcnMnKXsvL3Nlc3Npb24gZXhwaXJlZAogICAgICAgICAgICAgICAgLy8gICAgICRyb290U2NvcGUuZXhwaXJlZFNlc3Npb24gPSB0cnVlOwogICAgICAgICAgICAgICAgLy8KICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgIC8vJHN0YXRlLmdvKCc0MDQnKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAkcm9vdFNjb3BlLmJyZWFkY3J1bWIgPSBbewogICAgICAgICAgICAgICAgbmFtZTogIkhvbWUgUGFnZSIsCiAgICAgICAgICAgICAgICBwYXRoOiAiLyIsCiAgICAgICAgICAgIH1dOwoKICAgICAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbiAoZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zKSB7CiAgICAgICAgICAgIC8vdmFyIHJlcXVpcmVMb2dpbiA9IHRvU3RhdGUuZGF0YS5yZXF1aXJlTG9naW47CiAgICAgICAgICAgIC8vdmFyIHNob3dXZWxjb21lID0gdG9TdGF0ZS5kYXRhLnNob3dXZWxjb21lOwogICAgICAgICAgICAvL3ZhciB1bmRlckNvbnN0cnVjdGlvbiA9IHRvU3RhdGUuZGF0YS51bmRlckNvbnN0cnVjdGlvbjsKCiAgICAgICAgICAgIC8qCiAgICAgICAgICAgICBzaG93V2VsY29tZSAhPSAndW5kZWZpbmVkJyAmJiBzaG93V2VsY29tZSA/ICQoZG9jdW1lbnQuYm9keSkuYWRkQ2xhc3MoJ3dlbGNvbWUtcGFnZScpIDogJChkb2N1bWVudC5ib2R5KS5yZW1vdmVDbGFzcygnd2VsY29tZS1wYWdlJyk7CiAgICAgICAgICAgICB1bmRlckNvbnN0cnVjdGlvbiAhPSAndW5kZWZpbmVkJyAmJiB1bmRlckNvbnN0cnVjdGlvbiA/CiAgICAgICAgICAgICAkKGRvY3VtZW50LmJvZHkpLmFkZENsYXNzKCd1bmRlci1jb25zdHJ1Y3Rpb24nKSA6CiAgICAgICAgICAgICAkKGRvY3VtZW50LmJvZHkpLnJlbW92ZUNsYXNzKCd1bmRlci1jb25zdHJ1Y3Rpb24nKTsKCiAgICAgICAgICAgICBpZiAocmVxdWlyZUxvZ2luICYmIHR5cGVvZiAkcm9vdFNjb3BlLmN1cnJlbnRVc2VyID09PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgIC8vIGdldCBtZSBhIGxvZ2luIG1vZGFsIQogICAgICAgICAgICAgfQogICAgICAgICAgICAgKi8KICAgICAgICAgICAgLy9hbGVydCgic3RhcnQiKTsKICAgICAgICAgICAgSGVscGVyLmVuYWJsZUxvYWRlcig5OTkpOwoKICAgICAgICB9KTsKICAgICAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uIChldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMpIHsKICAgICAgICAgICAgSGVscGVyLmRpc2FibGVMb2FkZXIoMCk7CiAgICAgICAgfSk7CiAgICB9KTsKCn0pOwoKdmFyIGwgPSBmdW5jdGlvbiAoYSkgewogICAgY29uc29sZS5sb2coYSkKfQoKdmFyIHQgPSBmdW5jdGlvbiAoYSkgewogICAgYWxlcnQoYSkKfQoKdmFyIHByaW50ID0gZnVuY3Rpb24gKGEpIHsKICAgIGNvbnNvbGUubG9nKCIgIik7CiAgICBjb25zb2xlLmxvZygiICAiKTsKICAgIGNvbnNvbGUubG9nKGEpOwogICAgY29uc29sZS5sb2coIioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiIpOwogICAgY29uc29sZS5sb2coIiAiKTsKICAgIGNvbnNvbGUubG9nKCIgICIpOwp9CjsKLyohCiAqIGFuZ3VsYXItdHJhbnNsYXRlIC0gdjIuNy4yIC0gMjAxNS0wNi0wMQogKiBodHRwOi8vZ2l0aHViLmNvbS9hbmd1bGFyLXRyYW5zbGF0ZS9hbmd1bGFyLXRyYW5zbGF0ZQogKiBDb3B5cmlnaHQgKGMpIDIwMTUgOyBMaWNlbnNlZCBNSVQKICovCiFmdW5jdGlvbihhLGIpeyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKCdhbmd1bGFyLXRyYW5zbGF0ZScsW10sZnVuY3Rpb24oKXtyZXR1cm4gYigpfSk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWIoKTpiKCl9KHRoaXMsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgYj1hLnN0b3JhZ2VLZXkoKSxjPWEuc3RvcmFnZSgpLGQ9ZnVuY3Rpb24oKXt2YXIgZD1hLnByZWZlcnJlZExhbmd1YWdlKCk7YW5ndWxhci5pc1N0cmluZyhkKT9hLnVzZShkKTpjLnB1dChiLGEudXNlKCkpfTtkLmRpc3BsYXlOYW1lPSJmYWxsYmFja0Zyb21JbmNvcnJlY3RTdG9yYWdlVmFsdWUiLGM/Yy5nZXQoYik/YS51c2UoYy5nZXQoYikpWyJjYXRjaCJdKGQpOmQoKTphbmd1bGFyLmlzU3RyaW5nKGEucHJlZmVycmVkTGFuZ3VhZ2UoKSkmJmEudXNlKGEucHJlZmVycmVkTGFuZ3VhZ2UoKSl9ZnVuY3Rpb24gYigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYSxiLGM9bnVsbCxkPSExLGU9ITE7Yj17c2FuaXRpemU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4idGV4dCI9PT1iJiYoYT1nKGEpKSxhfSxlc2NhcGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4idGV4dCI9PT1iJiYoYT1mKGEpKSxhfSxzYW5pdGl6ZVBhcmFtZXRlcnM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4icGFyYW1zIj09PWImJihhPWgoYSxnKSksYX0sZXNjYXBlUGFyYW1ldGVyczpmdW5jdGlvbihhLGIpe3JldHVybiJwYXJhbXMiPT09YiYmKGE9aChhLGYpKSxhfX0sYi5lc2NhcGVkPWIuZXNjYXBlUGFyYW1ldGVycyx0aGlzLmFkZFN0cmF0ZWd5PWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGJbYV09Yyx0aGlzfSx0aGlzLnJlbW92ZVN0cmF0ZWd5PWZ1bmN0aW9uKGEpe3JldHVybiBkZWxldGUgYlthXSx0aGlzfSx0aGlzLnVzZVN0cmF0ZWd5PWZ1bmN0aW9uKGEpe3JldHVybiBkPSEwLGM9YSx0aGlzfSx0aGlzLiRnZXQ9WyIkaW5qZWN0b3IiLCIkbG9nIixmdW5jdGlvbihmLGcpe3ZhciBoPWZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gYW5ndWxhci5mb3JFYWNoKGQsZnVuY3Rpb24oZCl7aWYoYW5ndWxhci5pc0Z1bmN0aW9uKGQpKWE9ZChhLGMpO2Vsc2V7aWYoIWFuZ3VsYXIuaXNGdW5jdGlvbihiW2RdKSl0aHJvdyBuZXcgRXJyb3IoInBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvbjogVW5rbm93biBzYW5pdGl6YXRpb24gc3RyYXRlZ3k6ICciK2QrIiciKTthPWJbZF0oYSxjKX19KSxhfSxpPWZ1bmN0aW9uKCl7ZHx8ZXx8KGcud2FybigicGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uOiBObyBzYW5pdGl6YXRpb24gc3RyYXRlZ3kgaGFzIGJlZW4gY29uZmlndXJlZC4gVGhpcyBjYW4gaGF2ZSBzZXJpb3VzIHNlY3VyaXR5IGltcGxpY2F0aW9ucy4gU2VlIGh0dHA6Ly9hbmd1bGFyLXRyYW5zbGF0ZS5naXRodWIuaW8vZG9jcy8jL2d1aWRlLzE5X3NlY3VyaXR5IGZvciBkZXRhaWxzLiIpLGU9ITApfTtyZXR1cm4gZi5oYXMoIiRzYW5pdGl6ZSIpJiYoYT1mLmdldCgiJHNhbml0aXplIikpLHt1c2VTdHJhdGVneTpmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7YS51c2VTdHJhdGVneShiKX19KHRoaXMpLHNhbml0aXplOmZ1bmN0aW9uKGEsYixkKXtpZihjfHxpKCksYXJndW1lbnRzLmxlbmd0aDwzJiYoZD1jKSwhZClyZXR1cm4gYTt2YXIgZT1hbmd1bGFyLmlzQXJyYXkoZCk/ZDpbZF07cmV0dXJuIGgoYSxiLGUpfX19XTt2YXIgZj1mdW5jdGlvbihhKXt2YXIgYj1hbmd1bGFyLmVsZW1lbnQoIjxkaXY+PC9kaXY+Iik7cmV0dXJuIGIudGV4dChhKSxiLmh0bWwoKX0sZz1mdW5jdGlvbihiKXtpZighYSl0aHJvdyBuZXcgRXJyb3IoInBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvbjogRXJyb3IgY2Fubm90IGZpbmQgJHNhbml0aXplIHNlcnZpY2UuIEVpdGhlciBpbmNsdWRlIHRoZSBuZ1Nhbml0aXplIG1vZHVsZSAoaHR0cHM6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL25nU2FuaXRpemUpIG9yIHVzZSBhIHNhbml0aXphdGlvbiBzdHJhdGVneSB3aGljaCBkb2VzIG5vdCBkZXBlbmQgb24gJHNhbml0aXplLCBzdWNoIGFzICdlc2NhcGUnLiIpO3JldHVybiBhKGIpfSxoPWZ1bmN0aW9uKGEsYil7aWYoYW5ndWxhci5pc09iamVjdChhKSl7dmFyIGM9YW5ndWxhci5pc0FycmF5KGEpP1tdOnt9O3JldHVybiBhbmd1bGFyLmZvckVhY2goYSxmdW5jdGlvbihhLGQpe2NbZF09aChhLGIpfSksY31yZXR1cm4gYW5ndWxhci5pc051bWJlcihhKT9hOmIoYSl9fWZ1bmN0aW9uIGMoYSxiLGMsZCl7InVzZSBzdHJpY3QiO3ZhciBlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0PXt9LHU9W10sdj1hLHc9W10seD0idHJhbnNsYXRlLWNsb2FrIix5PSExLHo9ITEsQT0iLiIsQj0wLEM9ITAsRD0iZGVmYXVsdCIsRT17ImRlZmF1bHQiOmZ1bmN0aW9uKGEpe3JldHVybihhfHwiIikuc3BsaXQoIi0iKS5qb2luKCJfIil9LGphdmE6ZnVuY3Rpb24oYSl7dmFyIGI9KGF8fCIiKS5zcGxpdCgiLSIpLmpvaW4oIl8iKSxjPWIuc3BsaXQoIl8iKTtyZXR1cm4gYy5sZW5ndGg+MT9jWzBdLnRvTG93ZXJDYXNlKCkrIl8iK2NbMV0udG9VcHBlckNhc2UoKTpifSxiY3A0NzpmdW5jdGlvbihhKXt2YXIgYj0oYXx8IiIpLnNwbGl0KCJfIikuam9pbigiLSIpLGM9Yi5zcGxpdCgiLSIpO3JldHVybiBjLmxlbmd0aD4xP2NbMF0udG9Mb3dlckNhc2UoKSsiLSIrY1sxXS50b1VwcGVyQ2FzZSgpOmJ9fSxGPSIyLjcuMiIsRz1mdW5jdGlvbigpe2lmKGFuZ3VsYXIuaXNGdW5jdGlvbihkLmdldExvY2FsZSkpcmV0dXJuIGQuZ2V0TG9jYWxlKCk7dmFyIGEsYyxlPWIuJGdldCgpLm5hdmlnYXRvcixmPVsibGFuZ3VhZ2UiLCJicm93c2VyTGFuZ3VhZ2UiLCJzeXN0ZW1MYW5ndWFnZSIsInVzZXJMYW5ndWFnZSJdO2lmKGFuZ3VsYXIuaXNBcnJheShlLmxhbmd1YWdlcykpZm9yKGE9MDthPGUubGFuZ3VhZ2VzLmxlbmd0aDthKyspaWYoYz1lLmxhbmd1YWdlc1thXSxjJiZjLmxlbmd0aClyZXR1cm4gYztmb3IoYT0wO2E8Zi5sZW5ndGg7YSsrKWlmKGM9ZVtmW2FdXSxjJiZjLmxlbmd0aClyZXR1cm4gYztyZXR1cm4gbnVsbH07Ry5kaXNwbGF5TmFtZT0iYW5ndWxhci10cmFuc2xhdGUvc2VydmljZTogZ2V0Rmlyc3RCcm93c2VyTGFuZ3VhZ2UiO3ZhciBIPWZ1bmN0aW9uKCl7dmFyIGE9RygpfHwiIjtyZXR1cm4gRVtEXSYmKGE9RVtEXShhKSksYX07SC5kaXNwbGF5TmFtZT0iYW5ndWxhci10cmFuc2xhdGUvc2VydmljZTogZ2V0TG9jYWxlIjt2YXIgST1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKylpZihhW2NdPT09YilyZXR1cm4gYztyZXR1cm4tMX0sSj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRvU3RyaW5nKCkucmVwbGFjZSgvXlxzK3xccyskL2csIiIpfSxLPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPWFuZ3VsYXIubG93ZXJjYXNlKGEpLGQ9MCxlPXUubGVuZ3RoO2U+ZDtkKyspYi5wdXNoKGFuZ3VsYXIubG93ZXJjYXNlKHVbZF0pKTtpZihJKGIsYyk+LTEpcmV0dXJuIGE7aWYoZil7dmFyIGc7Zm9yKHZhciBoIGluIGYpe3ZhciBpPSExLGo9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGYsaCkmJmFuZ3VsYXIubG93ZXJjYXNlKGgpPT09YW5ndWxhci5sb3dlcmNhc2UoYSk7aWYoIioiPT09aC5zbGljZSgtMSkmJihpPWguc2xpY2UoMCwtMSk9PT1hLnNsaWNlKDAsaC5sZW5ndGgtMSkpLChqfHxpKSYmKGc9ZltoXSxJKGIsYW5ndWxhci5sb3dlcmNhc2UoZykpPi0xKSlyZXR1cm4gZ319aWYoYSl7dmFyIGs9YS5zcGxpdCgiXyIpO2lmKGsubGVuZ3RoPjEmJkkoYixhbmd1bGFyLmxvd2VyY2FzZShrWzBdKSk+LTEpcmV0dXJuIGtbMF19cmV0dXJuIGF9LEw9ZnVuY3Rpb24oYSxiKXtpZighYSYmIWIpcmV0dXJuIHQ7aWYoYSYmIWIpe2lmKGFuZ3VsYXIuaXNTdHJpbmcoYSkpcmV0dXJuIHRbYV19ZWxzZSBhbmd1bGFyLmlzT2JqZWN0KHRbYV0pfHwodFthXT17fSksYW5ndWxhci5leHRlbmQodFthXSxNKGIpKTtyZXR1cm4gdGhpc307dGhpcy50cmFuc2xhdGlvbnM9TCx0aGlzLmNsb2FrQ2xhc3NOYW1lPWZ1bmN0aW9uKGEpe3JldHVybiBhPyh4PWEsdGhpcyk6eH07dmFyIE09ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnLGg7Ynx8KGI9W10pLGN8fChjPXt9KTtmb3IoZSBpbiBhKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLGUpJiYoaD1hW2VdLGFuZ3VsYXIuaXNPYmplY3QoaCk/TShoLGIuY29uY2F0KGUpLGMsZSk6KGY9Yi5sZW5ndGg/IiIrYi5qb2luKEEpK0ErZTplLGIubGVuZ3RoJiZlPT09ZCYmKGc9IiIrYi5qb2luKEEpLGNbZ109IkA6IitmKSxjW2ZdPWgpKTtyZXR1cm4gY307TS5kaXNwbGF5TmFtZT0iZmxhdE9iamVjdCIsdGhpcy5hZGRJbnRlcnBvbGF0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiB3LnB1c2goYSksdGhpc30sdGhpcy51c2VNZXNzYWdlRm9ybWF0SW50ZXJwb2xhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVzZUludGVycG9sYXRpb24oIiR0cmFuc2xhdGVNZXNzYWdlRm9ybWF0SW50ZXJwb2xhdGlvbiIpfSx0aGlzLnVzZUludGVycG9sYXRpb249ZnVuY3Rpb24oYSl7cmV0dXJuIG49YSx0aGlzfSx0aGlzLnVzZVNhbml0aXplVmFsdWVTdHJhdGVneT1mdW5jdGlvbihhKXtyZXR1cm4gYy51c2VTdHJhdGVneShhKSx0aGlzfSx0aGlzLnByZWZlcnJlZExhbmd1YWdlPWZ1bmN0aW9uKGEpe3JldHVybiBOKGEpLHRoaXN9O3ZhciBOPWZ1bmN0aW9uKGEpe3JldHVybiBhJiYoZT1hKSxlfTt0aGlzLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnQoYSksdGhpcy50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yUmlnaHQoYSksdGhpc30sdGhpcy50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdD1mdW5jdGlvbihhKXtyZXR1cm4gYT8ocT1hLHRoaXMpOnF9LHRoaXMudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvclJpZ2h0PWZ1bmN0aW9uKGEpe3JldHVybiBhPyhyPWEsdGhpcyk6cn0sdGhpcy5mYWxsYmFja0xhbmd1YWdlPWZ1bmN0aW9uKGEpe3JldHVybiBPKGEpLHRoaXN9O3ZhciBPPWZ1bmN0aW9uKGEpe3JldHVybiBhPyhhbmd1bGFyLmlzU3RyaW5nKGEpPyhoPSEwLGc9W2FdKTphbmd1bGFyLmlzQXJyYXkoYSkmJihoPSExLGc9YSksYW5ndWxhci5pc1N0cmluZyhlKSYmSShnLGUpPDAmJmcucHVzaChlKSx0aGlzKTpoP2dbMF06Z307dGhpcy51c2U9ZnVuY3Rpb24oYSl7aWYoYSl7aWYoIXRbYV0mJiFvKXRocm93IG5ldyBFcnJvcigiJHRyYW5zbGF0ZVByb3ZpZGVyIGNvdWxkbid0IGZpbmQgdHJhbnNsYXRpb25UYWJsZSBmb3IgbGFuZ0tleTogJyIrYSsiJyIpO3JldHVybiBpPWEsdGhpc31yZXR1cm4gaX07dmFyIFA9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/KHY9YSx0aGlzKTpsP2wrdjp2fTt0aGlzLnN0b3JhZ2VLZXk9UCx0aGlzLnVzZVVybExvYWRlcj1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnVzZUxvYWRlcigiJHRyYW5zbGF0ZVVybExvYWRlciIsYW5ndWxhci5leHRlbmQoe3VybDphfSxiKSl9LHRoaXMudXNlU3RhdGljRmlsZXNMb2FkZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudXNlTG9hZGVyKCIkdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXIiLGEpfSx0aGlzLnVzZUxvYWRlcj1mdW5jdGlvbihhLGIpe3JldHVybiBvPWEscD1ifHx7fSx0aGlzfSx0aGlzLnVzZUxvY2FsU3RvcmFnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVzZVN0b3JhZ2UoIiR0cmFuc2xhdGVMb2NhbFN0b3JhZ2UiKX0sdGhpcy51c2VDb29raWVTdG9yYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXNlU3RvcmFnZSgiJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2UiKX0sdGhpcy51c2VTdG9yYWdlPWZ1bmN0aW9uKGEpe3JldHVybiBrPWEsdGhpc30sdGhpcy5zdG9yYWdlUHJlZml4PWZ1bmN0aW9uKGEpe3JldHVybiBhPyhsPWEsdGhpcyk6YX0sdGhpcy51c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyTG9nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlcigiJHRyYW5zbGF0ZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2ciKX0sdGhpcy51c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyPWZ1bmN0aW9uKGEpe3JldHVybiBtPWEsdGhpc30sdGhpcy51c2VQb3N0Q29tcGlsaW5nPWZ1bmN0aW9uKGEpe3JldHVybiB5PSEhYSx0aGlzfSx0aGlzLmZvcmNlQXN5bmNSZWxvYWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHo9ISFhLHRoaXN9LHRoaXMudW5pZm9ybUxhbmd1YWdlVGFnPWZ1bmN0aW9uKGEpe3JldHVybiBhP2FuZ3VsYXIuaXNTdHJpbmcoYSkmJihhPXtzdGFuZGFyZDphfSk6YT17fSxEPWEuc3RhbmRhcmQsdGhpc30sdGhpcy5kZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZT1mdW5jdGlvbihhKXt2YXIgYj1hJiZhbmd1bGFyLmlzRnVuY3Rpb24oYSk/YSgpOkgoKTtyZXR1cm4gZT11Lmxlbmd0aD9LKGIpOmIsdGhpc30sdGhpcy5yZWdpc3RlckF2YWlsYWJsZUxhbmd1YWdlS2V5cz1mdW5jdGlvbihhLGIpe3JldHVybiBhPyh1PWEsYiYmKGY9YiksdGhpcyk6dX0sdGhpcy51c2VMb2FkZXJDYWNoZT1mdW5jdGlvbihhKXtyZXR1cm4gYT09PSExP3M9dm9pZCAwOmE9PT0hMD9zPSEwOiJ1bmRlZmluZWQiPT10eXBlb2YgYT9zPSIkdHJhbnNsYXRpb25DYWNoZSI6YSYmKHM9YSksdGhpc30sdGhpcy5kaXJlY3RpdmVQcmlvcml0eT1mdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9COihCPWEsdGhpcyl9LHRoaXMuc3RhdGVmdWxGaWx0ZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMD09PWE/QzooQz1hLHRoaXMpfSx0aGlzLiRnZXQ9WyIkbG9nIiwiJGluamVjdG9yIiwiJHJvb3RTY29wZSIsIiRxIixmdW5jdGlvbihhLGIsYyxkKXt2YXIgZixsLHUsQT1iLmdldChufHwiJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uIiksRD0hMSxFPXt9LEc9e30sSD1mdW5jdGlvbihhLGIsYyxoKXtpZihhbmd1bGFyLmlzQXJyYXkoYSkpe3ZhciBqPWZ1bmN0aW9uKGEpe2Zvcih2YXIgZT17fSxmPVtdLGc9ZnVuY3Rpb24oYSl7dmFyIGY9ZC5kZWZlcigpLGc9ZnVuY3Rpb24oYil7ZVthXT1iLGYucmVzb2x2ZShbYSxiXSl9O3JldHVybiBIKGEsYixjLGgpLnRoZW4oZyxnKSxmLnByb21pc2V9LGk9MCxqPWEubGVuZ3RoO2o+aTtpKyspZi5wdXNoKGcoYVtpXSkpO3JldHVybiBkLmFsbChmKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KX07cmV0dXJuIGooYSl9dmFyIG09ZC5kZWZlcigpO2EmJihhPUouYXBwbHkoYSkpO3ZhciBuPWZ1bmN0aW9uKCl7dmFyIGE9ZT9HW2VdOkdbaV07aWYobD0wLGsmJiFhKXt2YXIgYj1mLmdldCh2KTtpZihhPUdbYl0sZyYmZy5sZW5ndGgpe3ZhciBjPUkoZyxiKTtsPTA9PT1jPzE6MCxJKGcsZSk8MCYmZy5wdXNoKGUpfX1yZXR1cm4gYX0oKTtpZihuKXt2YXIgbz1mdW5jdGlvbigpe2FiKGEsYixjLGgpLnRoZW4obS5yZXNvbHZlLG0ucmVqZWN0KX07by5kaXNwbGF5TmFtZT0icHJvbWlzZVJlc29sdmVkIixuWyJmaW5hbGx5Il0obyxtLnJlamVjdCl9ZWxzZSBhYihhLGIsYyxoKS50aGVuKG0ucmVzb2x2ZSxtLnJlamVjdCk7cmV0dXJuIG0ucHJvbWlzZX0sUT1mdW5jdGlvbihhKXtyZXR1cm4gcSYmKGE9W3EsYV0uam9pbigiICIpKSxyJiYoYT1bYSxyXS5qb2luKCIgIikpLGF9LFI9ZnVuY3Rpb24oYSl7aT1hLGMuJGVtaXQoIiR0cmFuc2xhdGVDaGFuZ2VTdWNjZXNzIix7bGFuZ3VhZ2U6YX0pLGsmJmYucHV0KEguc3RvcmFnZUtleSgpLGkpLEEuc2V0TG9jYWxlKGkpO3ZhciBiPWZ1bmN0aW9uKGEsYil7RVtiXS5zZXRMb2NhbGUoaSl9O2IuZGlzcGxheU5hbWU9ImVhY2hJbnRlcnBvbGF0b3JMb2NhbGVTZXR0ZXIiLGFuZ3VsYXIuZm9yRWFjaChFLGIpLGMuJGVtaXQoIiR0cmFuc2xhdGVDaGFuZ2VFbmQiLHtsYW5ndWFnZTphfSl9LFM9ZnVuY3Rpb24oYSl7aWYoIWEpdGhyb3ciTm8gbGFuZ3VhZ2Uga2V5IHNwZWNpZmllZCBmb3IgbG9hZGluZy4iO3ZhciBlPWQuZGVmZXIoKTtjLiRlbWl0KCIkdHJhbnNsYXRlTG9hZGluZ1N0YXJ0Iix7bGFuZ3VhZ2U6YX0pLEQ9ITA7dmFyIGY9czsic3RyaW5nIj09dHlwZW9mIGYmJihmPWIuZ2V0KGYpKTt2YXIgZz1hbmd1bGFyLmV4dGVuZCh7fSxwLHtrZXk6YSwkaHR0cDphbmd1bGFyLmV4dGVuZCh7fSx7Y2FjaGU6Zn0scC4kaHR0cCl9KSxoPWZ1bmN0aW9uKGIpe3ZhciBkPXt9O2MuJGVtaXQoIiR0cmFuc2xhdGVMb2FkaW5nU3VjY2VzcyIse2xhbmd1YWdlOmF9KSxhbmd1bGFyLmlzQXJyYXkoYik/YW5ndWxhci5mb3JFYWNoKGIsZnVuY3Rpb24oYSl7YW5ndWxhci5leHRlbmQoZCxNKGEpKX0pOmFuZ3VsYXIuZXh0ZW5kKGQsTShiKSksRD0hMSxlLnJlc29sdmUoe2tleTphLHRhYmxlOmR9KSxjLiRlbWl0KCIkdHJhbnNsYXRlTG9hZGluZ0VuZCIse2xhbmd1YWdlOmF9KX07aC5kaXNwbGF5TmFtZT0ib25Mb2FkZXJTdWNjZXNzIjt2YXIgaT1mdW5jdGlvbihhKXtjLiRlbWl0KCIkdHJhbnNsYXRlTG9hZGluZ0Vycm9yIix7bGFuZ3VhZ2U6YX0pLGUucmVqZWN0KGEpLGMuJGVtaXQoIiR0cmFuc2xhdGVMb2FkaW5nRW5kIix7bGFuZ3VhZ2U6YX0pfTtyZXR1cm4gaS5kaXNwbGF5TmFtZT0ib25Mb2FkZXJFcnJvciIsYi5nZXQobykoZykudGhlbihoLGkpLGUucHJvbWlzZX07aWYoayYmKGY9Yi5nZXQoayksIWYuZ2V0fHwhZi5wdXQpKXRocm93IG5ldyBFcnJvcigiQ291bGRuJ3QgdXNlIHN0b3JhZ2UgJyIraysiJywgbWlzc2luZyBnZXQoKSBvciBwdXQoKSBtZXRob2QhIik7aWYody5sZW5ndGgpe3ZhciBUPWZ1bmN0aW9uKGEpe3ZhciBjPWIuZ2V0KGEpO2Muc2V0TG9jYWxlKGV8fGkpLEVbYy5nZXRJbnRlcnBvbGF0aW9uSWRlbnRpZmllcigpXT1jfTtULmRpc3BsYXlOYW1lPSJpbnRlcnBvbGF0aW9uRmFjdG9yeUFkZGVyIixhbmd1bGFyLmZvckVhY2godyxUKX12YXIgVT1mdW5jdGlvbihhKXt2YXIgYj1kLmRlZmVyKCk7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsYSkpYi5yZXNvbHZlKHRbYV0pO2Vsc2UgaWYoR1thXSl7dmFyIGM9ZnVuY3Rpb24oYSl7TChhLmtleSxhLnRhYmxlKSxiLnJlc29sdmUoYS50YWJsZSl9O2MuZGlzcGxheU5hbWU9InRyYW5zbGF0aW9uVGFibGVSZXNvbHZlciIsR1thXS50aGVuKGMsYi5yZWplY3QpfWVsc2UgYi5yZWplY3QoKTtyZXR1cm4gYi5wcm9taXNlfSxWPWZ1bmN0aW9uKGEsYixjLGUpe3ZhciBmPWQuZGVmZXIoKSxnPWZ1bmN0aW9uKGQpe2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkLGIpKXtlLnNldExvY2FsZShhKTt2YXIgZz1kW2JdOyJAOiI9PT1nLnN1YnN0cigwLDIpP1YoYSxnLnN1YnN0cigyKSxjLGUpLnRoZW4oZi5yZXNvbHZlLGYucmVqZWN0KTpmLnJlc29sdmUoZS5pbnRlcnBvbGF0ZShkW2JdLGMpKSxlLnNldExvY2FsZShpKX1lbHNlIGYucmVqZWN0KCl9O3JldHVybiBnLmRpc3BsYXlOYW1lPSJmYWxsYmFja1RyYW5zbGF0aW9uUmVzb2x2ZXIiLFUoYSkudGhlbihnLGYucmVqZWN0KSxmLnByb21pc2V9LFc9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZj10W2FdO2lmKGYmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChmLGIpKXtpZihkLnNldExvY2FsZShhKSxlPWQuaW50ZXJwb2xhdGUoZltiXSxjKSwiQDoiPT09ZS5zdWJzdHIoMCwyKSlyZXR1cm4gVyhhLGUuc3Vic3RyKDIpLGMsZCk7ZC5zZXRMb2NhbGUoaSl9cmV0dXJuIGV9LFg9ZnVuY3Rpb24oYSxjKXtpZihtKXt2YXIgZD1iLmdldChtKShhLGksYyk7cmV0dXJuIHZvaWQgMCE9PWQ/ZDphfXJldHVybiBhfSxZPWZ1bmN0aW9uKGEsYixjLGUsZil7dmFyIGg9ZC5kZWZlcigpO2lmKGE8Zy5sZW5ndGgpe3ZhciBpPWdbYV07VihpLGIsYyxlKS50aGVuKGgucmVzb2x2ZSxmdW5jdGlvbigpe1koYSsxLGIsYyxlLGYpLnRoZW4oaC5yZXNvbHZlKX0pfWVsc2UgaC5yZXNvbHZlKGY/ZjpYKGIsYykpO3JldHVybiBoLnByb21pc2V9LFo9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU7aWYoYTxnLmxlbmd0aCl7dmFyIGY9Z1thXTtlPVcoZixiLGMsZCksZXx8KGU9WihhKzEsYixjLGQpKX1yZXR1cm4gZX0sJD1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gWSh1PjA/dTpsLGEsYixjLGQpfSxfPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gWih1PjA/dTpsLGEsYixjKX0sYWI9ZnVuY3Rpb24oYSxiLGMsZSl7dmFyIGY9ZC5kZWZlcigpLGg9aT90W2ldOnQsaj1jP0VbY106QTtpZihoJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaCxhKSl7dmFyIGs9aFthXTsiQDoiPT09ay5zdWJzdHIoMCwyKT9IKGsuc3Vic3RyKDIpLGIsYyxlKS50aGVuKGYucmVzb2x2ZSxmLnJlamVjdCk6Zi5yZXNvbHZlKGouaW50ZXJwb2xhdGUoayxiKSl9ZWxzZXt2YXIgbDttJiYhRCYmKGw9WChhLGIpKSxpJiZnJiZnLmxlbmd0aD8kKGEsYixqLGUpLnRoZW4oZnVuY3Rpb24oYSl7Zi5yZXNvbHZlKGEpfSxmdW5jdGlvbihhKXtmLnJlamVjdChRKGEpKX0pOm0mJiFEJiZsP2YucmVzb2x2ZShlP2U6bCk6ZT9mLnJlc29sdmUoZSk6Zi5yZWplY3QoUShhKSl9cmV0dXJuIGYucHJvbWlzZX0sYmI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9aT90W2ldOnQsZj1BO2lmKEUmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChFLGMpJiYoZj1FW2NdKSxlJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxhKSl7dmFyIGg9ZVthXTtkPSJAOiI9PT1oLnN1YnN0cigwLDIpP2JiKGguc3Vic3RyKDIpLGIsYyk6Zi5pbnRlcnBvbGF0ZShoLGIpfWVsc2V7dmFyIGo7bSYmIUQmJihqPVgoYSxiKSksaSYmZyYmZy5sZW5ndGg/KGw9MCxkPV8oYSxiLGYpKTpkPW0mJiFEJiZqP2o6UShhKX1yZXR1cm4gZH0sY2I9ZnVuY3Rpb24oYSl7aj09PWEmJihqPXZvaWQgMCksR1thXT12b2lkIDB9O2lmKEgucHJlZmVycmVkTGFuZ3VhZ2U9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJk4oYSksZX0sSC5jbG9ha0NsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiB4fSxILmZhbGxiYWNrTGFuZ3VhZ2U9ZnVuY3Rpb24oYSl7aWYodm9pZCAwIT09YSYmbnVsbCE9PWEpe2lmKE8oYSksbyYmZyYmZy5sZW5ndGgpZm9yKHZhciBiPTAsYz1nLmxlbmd0aDtjPmI7YisrKUdbZ1tiXV18fChHW2dbYl1dPVMoZ1tiXSkpO0gudXNlKEgudXNlKCkpfXJldHVybiBoP2dbMF06Z30sSC51c2VGYWxsYmFja0xhbmd1YWdlPWZ1bmN0aW9uKGEpe2lmKHZvaWQgMCE9PWEmJm51bGwhPT1hKWlmKGEpe3ZhciBiPUkoZyxhKTtiPi0xJiYodT1iKX1lbHNlIHU9MH0sSC5wcm9wb3NlZExhbmd1YWdlPWZ1bmN0aW9uKCl7cmV0dXJuIGp9LEguc3RvcmFnZT1mdW5jdGlvbigpe3JldHVybiBmfSxILnVzZT1mdW5jdGlvbihhKXtpZighYSlyZXR1cm4gaTt2YXIgYj1kLmRlZmVyKCk7Yy4kZW1pdCgiJHRyYW5zbGF0ZUNoYW5nZVN0YXJ0Iix7bGFuZ3VhZ2U6YX0pO3ZhciBlPUsoYSk7cmV0dXJuIGUmJihhPWUpLCF6JiZ0W2FdfHwhb3x8R1thXT9qPT09YSYmR1thXT9HW2FdLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGIucmVzb2x2ZShhLmtleSksYX0sZnVuY3Rpb24oYSl7cmV0dXJuIGIucmVqZWN0KGEpLGQucmVqZWN0KGEpfSk6KGIucmVzb2x2ZShhKSxSKGEpKTooaj1hLEdbYV09UyhhKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBMKGEua2V5LGEudGFibGUpLGIucmVzb2x2ZShhLmtleSksUihhLmtleSksYX0sZnVuY3Rpb24oYSl7cmV0dXJuIGMuJGVtaXQoIiR0cmFuc2xhdGVDaGFuZ2VFcnJvciIse2xhbmd1YWdlOmF9KSxiLnJlamVjdChhKSxjLiRlbWl0KCIkdHJhbnNsYXRlQ2hhbmdlRW5kIix7bGFuZ3VhZ2U6YX0pLGQucmVqZWN0KGEpfSksR1thXVsiZmluYWxseSJdKGZ1bmN0aW9uKCl7Y2IoYSl9KSksYi5wcm9taXNlfSxILnN0b3JhZ2VLZXk9ZnVuY3Rpb24oKXtyZXR1cm4gUCgpfSxILmlzUG9zdENvbXBpbGluZ0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4geX0sSC5pc0ZvcmNlQXN5bmNSZWxvYWRFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHp9LEgucmVmcmVzaD1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7Zi5yZXNvbHZlKCksYy4kZW1pdCgiJHRyYW5zbGF0ZVJlZnJlc2hFbmQiLHtsYW5ndWFnZTphfSl9ZnVuY3Rpb24gZSgpe2YucmVqZWN0KCksYy4kZW1pdCgiJHRyYW5zbGF0ZVJlZnJlc2hFbmQiLHtsYW5ndWFnZTphfSl9aWYoIW8pdGhyb3cgbmV3IEVycm9yKCJDb3VsZG4ndCByZWZyZXNoIHRyYW5zbGF0aW9uIHRhYmxlLCBubyBsb2FkZXIgcmVnaXN0ZXJlZCEiKTt2YXIgZj1kLmRlZmVyKCk7aWYoYy4kZW1pdCgiJHRyYW5zbGF0ZVJlZnJlc2hTdGFydCIse2xhbmd1YWdlOmF9KSxhKWlmKHRbYV0pe3ZhciBoPWZ1bmN0aW9uKGMpe0woYy5rZXksYy50YWJsZSksYT09PWkmJlIoaSksYigpfTtoLmRpc3BsYXlOYW1lPSJyZWZyZXNoUG9zdFByb2Nlc3NvciIsUyhhKS50aGVuKGgsZSl9ZWxzZSBlKCk7ZWxzZXt2YXIgaj1bXSxrPXt9O2lmKGcmJmcubGVuZ3RoKWZvcih2YXIgbD0wLG09Zy5sZW5ndGg7bT5sO2wrKylqLnB1c2goUyhnW2xdKSksa1tnW2xdXT0hMDtpJiYha1tpXSYmai5wdXNoKFMoaSkpO3ZhciBuPWZ1bmN0aW9uKGEpe3Q9e30sYW5ndWxhci5mb3JFYWNoKGEsZnVuY3Rpb24oYSl7TChhLmtleSxhLnRhYmxlKX0pLGkmJlIoaSksYigpfTtuLmRpc3BsYXlOYW1lPSJyZWZyZXNoUG9zdFByb2Nlc3NvciIsZC5hbGwoaikudGhlbihuLGUpfXJldHVybiBmLnByb21pc2V9LEguaW5zdGFudD1mdW5jdGlvbihhLGIsYyl7aWYobnVsbD09PWF8fGFuZ3VsYXIuaXNVbmRlZmluZWQoYSkpcmV0dXJuIGE7aWYoYW5ndWxhci5pc0FycmF5KGEpKXtmb3IodmFyIGQ9e30sZj0wLGg9YS5sZW5ndGg7aD5mO2YrKylkW2FbZl1dPUguaW5zdGFudChhW2ZdLGIsYyk7cmV0dXJuIGR9aWYoYW5ndWxhci5pc1N0cmluZyhhKSYmYS5sZW5ndGg8MSlyZXR1cm4gYTthJiYoYT1KLmFwcGx5KGEpKTt2YXIgaixrPVtdO2UmJmsucHVzaChlKSxpJiZrLnB1c2goaSksZyYmZy5sZW5ndGgmJihrPWsuY29uY2F0KGcpKTtmb3IodmFyIGw9MCxuPWsubGVuZ3RoO24+bDtsKyspe3ZhciBvPWtbbF07aWYodFtvXSYmKCJ1bmRlZmluZWQiIT10eXBlb2YgdFtvXVthXT9qPWJiKGEsYixjKToocXx8cikmJihqPVEoYSkpKSwidW5kZWZpbmVkIiE9dHlwZW9mIGopYnJlYWt9cmV0dXJuIGp8fCIiPT09anx8KGo9QS5pbnRlcnBvbGF0ZShhLGIpLG0mJiFEJiYoaj1YKGEsYikpKSxqfSxILnZlcnNpb25JbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIEZ9LEgubG9hZGVyQ2FjaGU9ZnVuY3Rpb24oKXtyZXR1cm4gc30sSC5kaXJlY3RpdmVQcmlvcml0eT1mdW5jdGlvbigpe3JldHVybiBCfSxILnN0YXRlZnVsRmlsdGVyPWZ1bmN0aW9uKCl7cmV0dXJuIEN9LG8mJihhbmd1bGFyLmVxdWFscyh0LHt9KSYmSC51c2UoSC51c2UoKSksZyYmZy5sZW5ndGgpKWZvcih2YXIgZGI9ZnVuY3Rpb24oYSl7cmV0dXJuIEwoYS5rZXksYS50YWJsZSksYy4kZW1pdCgiJHRyYW5zbGF0ZUNoYW5nZUVuZCIse2xhbmd1YWdlOmEua2V5fSksYX0sZWI9MCxmYj1nLmxlbmd0aDtmYj5lYjtlYisrKXt2YXIgZ2I9Z1tlYl07KHp8fCF0W2diXSkmJihHW2diXT1TKGdiKS50aGVuKGRiKSl9cmV0dXJuIEh9XX1mdW5jdGlvbiBkKGEsYil7InVzZSBzdHJpY3QiO3ZhciBjLGQ9e30sZT0iZGVmYXVsdCI7cmV0dXJuIGQuc2V0TG9jYWxlPWZ1bmN0aW9uKGEpe2M9YX0sZC5nZXRJbnRlcnBvbGF0aW9uSWRlbnRpZmllcj1mdW5jdGlvbigpe3JldHVybiBlfSxkLnVzZVNhbml0aXplVmFsdWVTdHJhdGVneT1mdW5jdGlvbihhKXtyZXR1cm4gYi51c2VTdHJhdGVneShhKSx0aGlzfSxkLmludGVycG9sYXRlPWZ1bmN0aW9uKGMsZCl7ZD1kfHx7fSxkPWIuc2FuaXRpemUoZCwicGFyYW1zIik7dmFyIGU9YShjKShkKTtyZXR1cm4gZT1iLnNhbml0aXplKGUsInRleHQiKX0sZH1mdW5jdGlvbiBlKGEsYixjLGQsZSxmKXsidXNlIHN0cmljdCI7dmFyIGc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b1N0cmluZygpLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKX07cmV0dXJue3Jlc3RyaWN0OiJBRSIsc2NvcGU6ITAscHJpb3JpdHk6YS5kaXJlY3RpdmVQcmlvcml0eSgpLGNvbXBpbGU6ZnVuY3Rpb24oYixoKXt2YXIgaT1oLnRyYW5zbGF0ZVZhbHVlcz9oLnRyYW5zbGF0ZVZhbHVlczp2b2lkIDAsaj1oLnRyYW5zbGF0ZUludGVycG9sYXRpb24/aC50cmFuc2xhdGVJbnRlcnBvbGF0aW9uOnZvaWQgMCxrPWJbMF0ub3V0ZXJIVE1MLm1hdGNoKC90cmFuc2xhdGUtdmFsdWUtKy9pKSxsPSJeKC4qKSgiK2Muc3RhcnRTeW1ib2woKSsiLioiK2MuZW5kU3ltYm9sKCkrIikoLiopIixtPSJeKC4qKSIrYy5zdGFydFN5bWJvbCgpKyIoLiopIitjLmVuZFN5bWJvbCgpKyIoLiopIjtyZXR1cm4gZnVuY3Rpb24oYixuLG8pe2IuaW50ZXJwb2xhdGVQYXJhbXM9e30sYi5wcmVUZXh0PSIiLGIucG9zdFRleHQ9IiI7dmFyIHA9e30scT1mdW5jdGlvbihhLGMsZCl7aWYoYy50cmFuc2xhdGVWYWx1ZXMmJmFuZ3VsYXIuZXh0ZW5kKGEsZShjLnRyYW5zbGF0ZVZhbHVlcykoYi4kcGFyZW50KSksaylmb3IodmFyIGYgaW4gZClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYyxmKSYmInRyYW5zbGF0ZVZhbHVlIj09PWYuc3Vic3RyKDAsMTQpJiYidHJhbnNsYXRlVmFsdWVzIiE9PWYpe3ZhciBnPWFuZ3VsYXIubG93ZXJjYXNlKGYuc3Vic3RyKDE0LDEpKStmLnN1YnN0cigxNSk7YVtnXT1kW2ZdfX0scj1mdW5jdGlvbihhKXtpZihhbmd1bGFyLmlzRnVuY3Rpb24oci5fdW53YXRjaE9sZCkmJihyLl91bndhdGNoT2xkKCksci5fdW53YXRjaE9sZD12b2lkIDApLGFuZ3VsYXIuZXF1YWxzKGEsIiIpfHwhYW5ndWxhci5pc0RlZmluZWQoYSkpe3ZhciBkPWcuYXBwbHkobi50ZXh0KCkpLm1hdGNoKGwpO2lmKGFuZ3VsYXIuaXNBcnJheShkKSl7Yi5wcmVUZXh0PWRbMV0sYi5wb3N0VGV4dD1kWzNdLHAudHJhbnNsYXRlPWMoZFsyXSkoYi4kcGFyZW50KTt2YXIgZT1uLnRleHQoKS5tYXRjaChtKTthbmd1bGFyLmlzQXJyYXkoZSkmJmVbMl0mJmVbMl0ubGVuZ3RoJiYoci5fdW53YXRjaE9sZD1iLiR3YXRjaChlWzJdLGZ1bmN0aW9uKGEpe3AudHJhbnNsYXRlPWEseCgpfSkpfWVsc2UgcC50cmFuc2xhdGU9bi50ZXh0KCkucmVwbGFjZSgvXlxzK3xccyskL2csIiIpfWVsc2UgcC50cmFuc2xhdGU9YTt4KCl9LHM9ZnVuY3Rpb24oYSl7by4kb2JzZXJ2ZShhLGZ1bmN0aW9uKGIpe3BbYV09Yix4KCl9KX07cShiLmludGVycG9sYXRlUGFyYW1zLG8saCk7dmFyIHQ9ITA7by4kb2JzZXJ2ZSgidHJhbnNsYXRlIixmdW5jdGlvbihhKXsidW5kZWZpbmVkIj09dHlwZW9mIGE/cigiIik6IiI9PT1hJiZ0fHwocC50cmFuc2xhdGU9YSx4KCkpLHQ9ITF9KTtmb3IodmFyIHUgaW4gbylvLmhhc093blByb3BlcnR5KHUpJiYidHJhbnNsYXRlQXR0ciI9PT11LnN1YnN0cigwLDEzKSYmcyh1KTtpZihvLiRvYnNlcnZlKCJ0cmFuc2xhdGVEZWZhdWx0IixmdW5jdGlvbihhKXtiLmRlZmF1bHRUZXh0PWF9KSxpJiZvLiRvYnNlcnZlKCJ0cmFuc2xhdGVWYWx1ZXMiLGZ1bmN0aW9uKGEpe2EmJmIuJHBhcmVudC4kd2F0Y2goZnVuY3Rpb24oKXthbmd1bGFyLmV4dGVuZChiLmludGVycG9sYXRlUGFyYW1zLGUoYSkoYi4kcGFyZW50KSl9KX0pLGspe3ZhciB2PWZ1bmN0aW9uKGEpe28uJG9ic2VydmUoYSxmdW5jdGlvbihjKXt2YXIgZD1hbmd1bGFyLmxvd2VyY2FzZShhLnN1YnN0cigxNCwxKSkrYS5zdWJzdHIoMTUpO2IuaW50ZXJwb2xhdGVQYXJhbXNbZF09Y30pfTtmb3IodmFyIHcgaW4gbylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobyx3KSYmInRyYW5zbGF0ZVZhbHVlIj09PXcuc3Vic3RyKDAsMTQpJiYidHJhbnNsYXRlVmFsdWVzIiE9PXcmJnYodyl9dmFyIHg9ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gcClwLmhhc093blByb3BlcnR5KGEpJiZ2b2lkIDAhPT1wW2FdJiZ5KGEscFthXSxiLGIuaW50ZXJwb2xhdGVQYXJhbXMsYi5kZWZhdWx0VGV4dCl9LHk9ZnVuY3Rpb24oYixjLGQsZSxmKXtjP2EoYyxlLGosZikudGhlbihmdW5jdGlvbihhKXt6KGEsZCwhMCxiKX0sZnVuY3Rpb24oYSl7eihhLGQsITEsYil9KTp6KGMsZCwhMSxiKX0sej1mdW5jdGlvbihiLGMsZSxmKXtpZigidHJhbnNsYXRlIj09PWYpe2V8fCJ1bmRlZmluZWQiPT10eXBlb2YgYy5kZWZhdWx0VGV4dHx8KGI9Yy5kZWZhdWx0VGV4dCksbi5odG1sKGMucHJlVGV4dCtiK2MucG9zdFRleHQpO3ZhciBnPWEuaXNQb3N0Q29tcGlsaW5nRW5hYmxlZCgpLGk9InVuZGVmaW5lZCIhPXR5cGVvZiBoLnRyYW5zbGF0ZUNvbXBpbGUsaj1pJiYiZmFsc2UiIT09aC50cmFuc2xhdGVDb21waWxlOyhnJiYhaXx8aikmJmQobi5jb250ZW50cygpKShjKX1lbHNle2V8fCJ1bmRlZmluZWQiPT10eXBlb2YgYy5kZWZhdWx0VGV4dHx8KGI9Yy5kZWZhdWx0VGV4dCk7dmFyIGs9by4kYXR0cltmXTsiZGF0YS0iPT09ay5zdWJzdHIoMCw1KSYmKGs9ay5zdWJzdHIoNSkpLGs9ay5zdWJzdHIoMTUpLG4uYXR0cihrLGIpfX07KGl8fGt8fG8udHJhbnNsYXRlRGVmYXVsdCkmJmIuJHdhdGNoKCJpbnRlcnBvbGF0ZVBhcmFtcyIseCwhMCk7dmFyIEE9Zi4kb24oIiR0cmFuc2xhdGVDaGFuZ2VTdWNjZXNzIix4KTtuLnRleHQoKS5sZW5ndGg/cihvLnRyYW5zbGF0ZT9vLnRyYW5zbGF0ZToiIik6by50cmFuc2xhdGUmJnIoby50cmFuc2xhdGUpLHgoKSxiLiRvbigiJGRlc3Ryb3kiLEEpfX19fWZ1bmN0aW9uIGYoYSxiKXsidXNlIHN0cmljdCI7cmV0dXJue2NvbXBpbGU6ZnVuY3Rpb24oYyl7dmFyIGQ9ZnVuY3Rpb24oKXtjLmFkZENsYXNzKGIuY2xvYWtDbGFzc05hbWUoKSl9LGU9ZnVuY3Rpb24oKXtjLnJlbW92ZUNsYXNzKGIuY2xvYWtDbGFzc05hbWUoKSl9LGY9YS4kb24oIiR0cmFuc2xhdGVDaGFuZ2VFbmQiLGZ1bmN0aW9uKCl7ZSgpLGYoKSxmPW51bGx9KTtyZXR1cm4gZCgpLGZ1bmN0aW9uKGEsYyxmKXtmLnRyYW5zbGF0ZUNsb2FrJiZmLnRyYW5zbGF0ZUNsb2FrLmxlbmd0aCYmZi4kb2JzZXJ2ZSgidHJhbnNsYXRlQ2xvYWsiLGZ1bmN0aW9uKGEpe2IoYSkudGhlbihlLGQpfSl9fX19ZnVuY3Rpb24gZyhhLGIpeyJ1c2Ugc3RyaWN0Ijt2YXIgYz1mdW5jdGlvbihjLGQsZSl7cmV0dXJuIGFuZ3VsYXIuaXNPYmplY3QoZCl8fChkPWEoZCkodGhpcykpLGIuaW5zdGFudChjLGQsZSl9O3JldHVybiBiLnN0YXRlZnVsRmlsdGVyKCkmJihjLiRzdGF0ZWZ1bD0hMCksY31mdW5jdGlvbiBoKGEpeyJ1c2Ugc3RyaWN0IjtyZXR1cm4gYSgidHJhbnNsYXRpb25zIil9cmV0dXJuIGFuZ3VsYXIubW9kdWxlKCJwYXNjYWxwcmVjaHQudHJhbnNsYXRlIixbIm5nIl0pLnJ1bihhKSxhLiRpbmplY3Q9WyIkdHJhbnNsYXRlIl0sYS5kaXNwbGF5TmFtZT0icnVuVHJhbnNsYXRlIixhbmd1bGFyLm1vZHVsZSgicGFzY2FscHJlY2h0LnRyYW5zbGF0ZSIpLnByb3ZpZGVyKCIkdHJhbnNsYXRlU2FuaXRpemF0aW9uIixiKSxhbmd1bGFyLm1vZHVsZSgicGFzY2FscHJlY2h0LnRyYW5zbGF0ZSIpLmNvbnN0YW50KCJwYXNjYWxwcmVjaHRUcmFuc2xhdGVPdmVycmlkZXIiLHt9KS5wcm92aWRlcigiJHRyYW5zbGF0ZSIsYyksYy4kaW5qZWN0PVsiJFNUT1JBR0VfS0VZIiwiJHdpbmRvd1Byb3ZpZGVyIiwiJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyIiwicGFzY2FscHJlY2h0VHJhbnNsYXRlT3ZlcnJpZGVyIl0sYy5kaXNwbGF5TmFtZT0iZGlzcGxheU5hbWUiLGFuZ3VsYXIubW9kdWxlKCJwYXNjYWxwcmVjaHQudHJhbnNsYXRlIikuZmFjdG9yeSgiJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uIixkKSxkLiRpbmplY3Q9WyIkaW50ZXJwb2xhdGUiLCIkdHJhbnNsYXRlU2FuaXRpemF0aW9uIl0sZC5kaXNwbGF5TmFtZT0iJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uIixhbmd1bGFyLm1vZHVsZSgicGFzY2FscHJlY2h0LnRyYW5zbGF0ZSIpLmNvbnN0YW50KCIkU1RPUkFHRV9LRVkiLCJOR19UUkFOU0xBVEVfTEFOR19LRVkiKSxhbmd1bGFyLm1vZHVsZSgicGFzY2FscHJlY2h0LnRyYW5zbGF0ZSIpLmRpcmVjdGl2ZSgidHJhbnNsYXRlIixlKSxlLiRpbmplY3Q9WyIkdHJhbnNsYXRlIiwiJHEiLCIkaW50ZXJwb2xhdGUiLCIkY29tcGlsZSIsIiRwYXJzZSIsIiRyb290U2NvcGUiXSxlLmRpc3BsYXlOYW1lPSJ0cmFuc2xhdGVEaXJlY3RpdmUiLGFuZ3VsYXIubW9kdWxlKCJwYXNjYWxwcmVjaHQudHJhbnNsYXRlIikuZGlyZWN0aXZlKCJ0cmFuc2xhdGVDbG9hayIsZiksZi4kaW5qZWN0PVsiJHJvb3RTY29wZSIsIiR0cmFuc2xhdGUiXSxmLmRpc3BsYXlOYW1lPSJ0cmFuc2xhdGVDbG9ha0RpcmVjdGl2ZSIsYW5ndWxhci5tb2R1bGUoInBhc2NhbHByZWNodC50cmFuc2xhdGUiKS5maWx0ZXIoInRyYW5zbGF0ZSIsZyksZy4kaW5qZWN0PVsiJHBhcnNlIiwiJHRyYW5zbGF0ZSJdLGcuZGlzcGxheU5hbWU9InRyYW5zbGF0ZUZpbHRlckZhY3RvcnkiLGFuZ3VsYXIubW9kdWxlKCJwYXNjYWxwcmVjaHQudHJhbnNsYXRlIikuZmFjdG9yeSgiJHRyYW5zbGF0aW9uQ2FjaGUiLGgpLGguJGluamVjdD1bIiRjYWNoZUZhY3RvcnkiXSxoLmRpc3BsYXlOYW1lPSIkdHJhbnNsYXRpb25DYWNoZSIsInBhc2NhbHByZWNodC50cmFuc2xhdGUifSk7Ci8qKgogKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDI4LzEyLzIwMTUuCiAqLwogCgp2YXIgZW5nbGlzaCA9IHsKICAgICJkdmFudGFnZSI6ICJkdmFudGFnZSIsCiAgICAiREVNTyI6ICJERU1PIiwKICAgICdQUk9EVUNUJzogJ1BST0RVQ1QnLAogICAgJ09VUl9QUk9EVUNUUyc6ICdPVVIgUFJPRFVDVFMnLAogICAgJ0hPVF9QUk9EVUNUUyc6ICdIb3QgUHJvZHVjdHMnLAogICAgJ0RFQUxfT0ZfVEhFX0RBWSc6ICdEZWFsIG9mIHRoZSBEYXknLAogICAgJ0NPTlRBQ1RfVVMnOiAnQ09OVEFDVCBVUycsCiAgICAnQU9TJzogJ0FPUycsCiAgICAnTG9naW4nOiAnTG9naW4nLAogICAgJ0xPR0lOJzogJ0xPR0lOJywKICAgICdMT0dPVVQnOiAnVGhpcyBpcyBhIHBhcmFncmFwaC4nLAogICAgJ1NQQUNJQUxfT0ZGRVInOiAnU1BFQ0lBTCBPRkZFUicsCiAgICAnUE9QVUxBUl9JVEVNUyc6ICdQT1BVTEFSIElURU1TJywKICAgICdGT0xMT1dfVVMnOiAnRk9MTE9XIFVTJywKICAgICdMRUdBTFNfRk9PVEVSJzogJ8KpIEFkdmFudGFnZSBJbmMsIDIwMjAuJywKICAgICdGSUxURVJfQlknOiAnRklMVEVSIEJZOiAnLAogICAgJ0ZpbHRlcic6ICdGaWx0ZXInLAogICAgJ1NIT1BfTk9XJzogJ1NIT1AgTk9XJywKICAgICdBRERfVE9fQ0FSVCc6ICdBREQgVE8gQ0FSVCcsCiAgICAnVVBEQVRFX0NBUlQnOiAnVVBEQVRFIENBUlQnLAogICAgJ0hPTUUnOiAnSE9NRScsCiAgICAnQlVZX05PVyc6ICdCVVkgTk9XJywKICAgICdTVEFSVElOR19BVCc6ICdTdGFydGluZyBhdCcsCiAgICAnU0VFX09GRkVSJzogJ1NFRSBPRkZFUicsCiAgICAnT05MSU5FX1NIT1BQSU5HJzogJ09ubGluZSBzaG9wcGluZycsCiAgICAnRkFDRUJPT0tfU0lHTl9JTic6ICdTSUdOIElOIFdJVEggRkFDRUJPT0snLAogICAgJ09SJzogJ09SJywKICAgICdOYW1lJzogJ05hbWUnLAogICAgJ1Bhc3N3b3JkJzogJ1Bhc3N3b3JkJywKICAgICdOZXdfUGFzc3dvcmQnOiAnTmV3IFBhc3N3b3JkJywKICAgICdPbGRfUGFzc3dvcmQnOiAnT2xkIFBhc3N3b3JkJywKICAgICdDb25maXJtX05ld19wYXNzd29yZCc6ICdDb25maXJtIE5ldyBQYXNzd29yZCcsCiAgICAnRW1haWwnOiAnRW1haWwnLAogICAgJ1NJR05fSU4nOiAnU0lHTiBJTicsCiAgICAnRk9SR09UX1BBU1NXT1JEJzogJ0ZvcmdvdCB5b3VyIHBhc3N3b3JkPycsCiAgICAnQ1JFQVRFX05FV19BQ0NPVU5UJzogJ0NSRUFURSBORVcgQUNDT1VOVCcsCiAgICAnUkVNRU1CRVJfTUUnOiAnUkVNRU1CRVIgTUUnLAogICAgJ1BSSUNFJzogJ1BSSUNFJywKCiAgICAnSGknOiAnSGknLAogICAgJ1NpZ25fb3V0JzogJ1NpZ24gb3V0JywKICAgICdNeV9hY2NvdW50JzogJ015IGFjY291bnQnLAogICAgIlBST0RVQ1RfU1BFQ0lGSUNBVElPTlMiOiAiUFJPRFVDVCBTUEVDSUZJQ0FUSU9OUyIsCiAgICAiVmlld19kZXRhaWxzIjogIlZpZXcgRGV0YWlscyIsCiAgICAnU2hvcF9Ob3cnOiAnU2hvcCBOb3cnLAogICAgJ0VYUExPUkVfTk9XJzogJ0VYUExPUkUgTk9XJywKICAgICdRdWFudGl0eTonOiAnUXVhbnRpdHk6JywKICAgICdRVUFOVElUWSc6ICdRVUFOVElUWScsCiAgICAnUVRZJzogJ1FUWTonLCAvLyhRdWFudGl0eSkKICAgICdHT19VUCc6ICdHTyBVUCcsCiAgICAnQ1JFQVRFX0FDQ09VTlQnOiAnQ1JFQVRFIEFDQ09VTlQnLAogICAgJ1RoaXNfaXNfYV9kZW1vJzogJ1RoaXMgaXMgYSBkZW1vIHNpdGUuJywKICAgICdQbGVhc2VfZW50ZXJfYV9mYWtlX2RhdGEnOiAnRG8gbm90IHVzZSByZWFsIGRhdGEuJywKICAgICdOT1RJQ0UnOiAnTk9USUNFJywKICAgICdOb3RpY2UnOiAnTm90aWNlJywKICAgICdMYXB0b3BzJzogJ0xhcHRvcHMnLAogICAgJ0FDQ09VTlRfREVUQUlMUyc6ICdBQ0NPVU5UIERFVEFJTFMnLAogICAgJ1BFUlNPTkFMX0RFVEFJTFMnOiAnUEVSU09OQUwgREVUQUlMUycsCiAgICAnQUREUkVTUyc6ICdBRERSRVNTJywKICAgICdVc2VyX05hbWUnOiAnVXNlciBOYW1lJywKICAgICdGaXJzdF9OYW1lJzogJ0ZpcnN0IE5hbWUnLAogICAgJ0xhc3RfTmFtZSc6ICdMYXN0IE5hbWUnLAogICAgJ1Bob25lX051bWJlcic6ICdQaG9uZSBOdW1iZXInLAogICAgJ0NvdW50cnknOiAnQ291bnRyeScsCiAgICAnQWRkcmVzcyc6ICdBZGRyZXNzJywKICAgICdQb3N0YWxfQ29kZSc6ICdQb3N0YWwgQ29kZScsCiAgICAnU3RhdGVfX1Byb3ZpbmNlX19SZWdpb24nOiAnU3RhdGUgLyBQcm92aW5jZSAvIFJlZ2lvbicsCiAgICAnb2ZmZXJzX3Byb21vdGlvbic6ICdSZWNlaXZlIGV4Y2x1c2l2ZSBvZmZlcnMgYW5kIHByb21vdGlvbnMgZnJvbSBBZHZhbnRhZ2UnLAogICAgJ1JFR0lTVEVSJzogJ1JFR0lTVEVSJywKICAgICdSRUdJU1RSQVRJT04nOiAnUkVHSVNUUkFUSU9OJywKICAgICdBTFJFQURZX0hBVkVfQU5fQUNDT1VOVCc6ICdBTFJFQURZIEhBVkUgQU4gQUNDT1VOVD8nLAogICAgJ0FscmVhZHlfaGF2ZV9hbl9hY2NvdW50JzogJ0FscmVhZHkgaGF2ZSBhbiBhY2NvdW50PycsCiAgICAnQ2xlYXInOiAnQ2xlYXInLAogICAgJ1lvdXJfc2hvcHBpbmdfY2FydF9pc19lbXB0eSc6ICdZb3VyIHNob3BwaW5nIGNhcnQgaXMgZW1wdHknLAoKCiAgICAnVXNlcl9OYW1lX3JlcXVpcmVkJzogJ1VzZXIgTmFtZSByZXF1aXJlZCEnLAogICAgJ0VtYWlsX2ZpZWxkX3JlcXVpcmVkJzogJ0VtYWlsIHJlcXVpcmVkIScsCiAgICAnY29uZmlybV9wYXNzd29yZF9yZXF1aXJlZCc6ICdDb25maXJtIHBhc3N3b3JkIHJlcXVpcmVkIScsCiAgICAnUGFzc3dvcmRfbm90X21hdGNoJzogIlBhc3N3b3JkIGRvZXMgbm90IG1hdGNoISIsCiAgICAnSW52YWxpZF9lbWFpbF9hZGRyZXNzJzogJ0ludmFsaWQgZW1haWwgYWRkcmVzcycsCiAgICAnUGFzc3dvcmRfZmllbGRfcmVxdWlyZWQnOiAnUGFzc3dvcmQgZmllbGQgcmVxdWlyZWQnLAogICAgJ1Bhc3N3b3JkXzVfbWlubGVuZ3RoX2ZpZWxkX2Vycm9yJzogJ1Bhc3N3b3JkIHJlcXVpcmVzIGF0IGxlYXN0IDUgY2hhcmFjdGVycycsCiAgICAnUGFzc3dvcmRfMTBfbWF4bGVuZ3RoX2ZpZWxkX2Vycm9yJzogJ1Bhc3N3b3JkIHJlcXVpcmVzIGEgbWF4aW11bSBvZiAxMCBjaGFyYWN0ZXJzJywKICAgICdQYXNzd29yZF9yZWdleCc6ICd1cHBlcmNhc2UsIGxvd2VyY2FzZSBhbmQgbnVtYmVyIHJlcXVpcmVkJywKICAgICdVc2VyX05hbWVfcGF0dGVybic6ICIzLTE1IGNoYXJhY3RlcnMgKDAtOSwgQS1aLCBhLXosICdfLCAuLCAtJywgYWxsb3dlZCkiLAogICAgJ0lfYWdyZWVfdG9fdGhlX0FkdmFudGFnZV9jb21fQWdyZWVtZW50JzogJ0kgYWdyZWUgdG8gdGhlIHd3dy5BZHZhbnRhZ2VPbmxpbmVTaG9wcGluZy5jb20gQ29uZGl0aW9ucyBvZiBVc2UgYW5kIFByaXZhY3kgTm90aWNlJywKICAgICdNdXN0X2FncmVlX3RvX3RoZV9BZHZhbnRhZ2VfY29tX0FncmVlbWVudCc6ICdZb3UgbXVzdCBhZ3JlZSB0byB0aGUgdGhlIEFkdmFudGFnZS5jb20gQ29uZGl0aW9ucyBvZiBVc2UgYW5kIFByaXZhY3kgTm90aWNlLicsCgogICAgJ2xldHRlcnNfbnVtYmVyX3N5bWJvbHNfb25seSc6ICdVc2UgbGV0dGVycywgbnVtYmVycywgYW5kIHRoZSBmb2xsb3dpbmcgc3ltYm9scyBvbmx5OiAuLV8nLAoKICAgICdDSEVDS19PVVQnOiAnQ0hFQ0tPVVQnLAogICAgJ1RPVEFMJzogJ1RPVEFMJywKICAgICdJdGVtcyc6ICdJdGVtcycsCiAgICAnSXRlbSc6ICdJdGVtJywKICAgICdJVEVNUyc6ICdJVEVNUycsCiAgICAnSVRFTSc6ICdJVEVNJywKICAgICdDb2xvcic6ICdDb2xvcjonLAogICAgJ1NIT1BQSU5HX0NBUlQnOiAnU0hPUFBJTkcgQ0FSVCcsCiAgICAnUEFZTUVOVF9PUFRJT05TJzogJ1BBWU1FTlQgT1BUSU9OUycsCiAgICAnUFJPRFVDVF9OQU1FJzogJ1BST0RVQ1QgTkFNRScsCiAgICAnU2VhcmNoJzogJ1NlYXJjaCcsCiAgICAnU2VhcmNoT3JkZXInOiAnU2VhcmNoIGluIG9yZGVycyAnLAogICAgJ0NBVEVHT1JJRVMnOiAnQ0FURUdPUklFUycsCiAgICAnQ2F0ZWdvcmllcyc6ICdDYXRlZ29yaWVzJywKICAgICdDYXRlZ29yeSc6ICdDYXRlZ29yeScsCiAgICAnUHJvZHVjdCc6ICdQcm9kdWN0JywKICAgICdUT1AnOiAnVE9QJywKICAgICdSRVNVTFRTX0ZPUic6ICdSRVNVTFRTIEZPUicsCiAgICAnVE9QX1JFU1VMVFNfRk9SJzogJ1RPUCBSRVNVTFRTIEZPUicsCiAgICAnVmlld19BbGwnOiAnVmlldyBBbGwnLAogICAgJ0VESVQnOiAnRURJVCcsCiAgICAnRWRpdCc6ICdFZGl0JywKICAgICdSRU1PVkUnOiAnUkVNT1ZFJywKCiAgICAnSURFTlRJRklDQVRJT04nOiAnSURFTlRJRklDQVRJT04nLAogICAgJ09SREVSX1BBWU1FTlQnOiAnT1JERVIgUEFZTUVOVCcsCiAgICAnRm9yZ290X3lvdXJfcGFzc3dvcmQnOiAnRm9yZ290IHlvdXIgcGFzc3dvcmQ/JywKICAgICdOZXdfY2xpZW50JzogJ05ldyB1c2VyPycsCiAgICAnQ3JlYXRlX3lvdXJfYWNjb3VudF9lYXNpbHknOiAnQ3JlYXRlIHlvdXIgYWNjb3VudCB0byB0cmFjayB5b3VyIG9yZGVyJywKICAgICdTSElQUElORyc6ICdTSElQUElORycsCiAgICAnc2hpcHBpbmcnOiAnc2hpcHBpbmcnLAogICAgJ1BBWU1FTlRfTUVUSE9EJzogJ1BBWU1FTlQgTUVUSE9EJywKICAgICdTSElQUElOR19CWSc6ICdTSElQUElORyBCWScsCiAgICAnRWRpdF9zaGlwcGluZ19EZXRhaWxzJzogJ0VkaXQgc2hpcHBpbmcgZGV0YWlscycsCiAgICAnTkVYVCc6ICdORVhUJywKICAgICdCQUNLJzogJ0JBQ0snLAogICAgJ0Nob29zZV9wYXltZW50X21ldGhvZF9iZWxvdyc6ICdDaG9vc2UgcGF5bWVudCBtZXRob2QgYmVsb3cgJywKICAgICdCYWNrX3RvX3NoaXBwaW5nX2RldGFpbHMnOiAnQmFjayB0byBzaGlwcGluZyBkZXRhaWxzJywKICAgICdQQVlfTk9XJzogJ1BBWSBOT1cnLAogICAgJ0NhcnRob2xkZXJfTmFtZSc6ICdDYXJkaG9sZGVyIG5hbWUnLAogICAgJ0NDVl9OdW1iZXInOiAnQ1ZWIG51bWJlcicsCiAgICAnSW52YWxpZF9DYXJkX251bWJlcic6ICdJbnZhbGlkIGNhcmQgbnVtYmVyJywKICAgICdJbnZhbGlkX0NDVl9udW1iZXInOiAnSW52YWxpZCBDVlYgbnVtYmVyJywKICAgICdTYWZlUGF5X1VzZXJfbmFtZSc6ICdTYWZlUGF5IHVzZXJuYW1lJywKICAgICdTYWZlUGF5X1Bhc3N3b3JkJzogJ1NhZmVQYXkgcGFzc3dvcmQnLAogICAgJ0NhcmRfbnVtYmVyJzogJ0NhcmQgbnVtYmVyJywKICAgICdNTSc6ICdNTScsCiAgICAnWVknOiAnWVlZWScsCiAgICAnRXhwaXJhdGlvbl9EYXRlJzogJ0V4cGlyYXRpb24gZGF0ZScsCiAgICAnVGhhbmtfeW91X2Zvcl9idXlpbmdfd2l0aF9BZHZhbnRhZ2UnOiAnVGhhbmsgeW91IGZvciBidXlpbmcgd2l0aCBBZHZhbnRhZ2UnLAogICAgJ1lvcl90cmFja2luZ19udW1iZXJfaXMnOiAnWW91ciB0cmFja2luZyBudW1iZXIgaXMnLAogICAgJ1lvdXJfb3JkZXJfbnVtYmVyX2lzJzogJ1lvdXIgb3JkZXIgbnVtYmVyIGlzJywKICAgICdZb3VyX3dhcnJhbnR5X251bWJlcl9pcyc6ICdZb3VyIHdhcnJhbnR5IG51bWJlciBpcycsCiAgICAnU2hpcHBpbmdfdG8nOiAnU2hpcHBpbmcgdG8nLAogICAgJ1BheW1lbnRfTWV0aG9kJzogJ1BheW1lbnQgbWV0aG9kJywKCiAgICAnRGF0ZV9PcmRlcmVkJzogJ0RhdGUgb3JkZXJlZCcsCiAgICAnU3VidG90YWwnOiAnU3VidG90YWwnLAogICAgJ2ZpZWxkX2lzX3JlcXVpcmVkJzogJ2ZpZWxkIGlzIHJlcXVpcmVkJywKICAgICdVc2VyX25hbWUnOiAnVXNlcm5hbWUnLAogICAgJ0NvbmZpcm1fcGFzc3dvcmQnOiAnQ29uZmlybSBwYXNzd29yZCcsCiAgICAnTVlfQUNDT1VOVCc6ICdNWSBBQ0NPVU5UJywKICAgICdBY2NvdW50X0RldGFpbHMnOiAnQWNjb3VudCBkZXRhaWxzJywKCiAgICAnUHJlZmVycmVkX3BheW1lbnRfbWV0aG9kJzogJ1ByZWZlcnJlZCBwYXltZW50IG1ldGhvZCcsCiAgICAnUHJlZmVycmVkX3BheW1lbnRfbWV0aG9kMic6ICdQYXltZW50IG1ldGhvZCcsCiAgICAnTm90aWZ5X21lX2Fib3V0X1Byb21vdGlvbnMnOiAnTm90aWZ5IG1lIGFib3V0IHByb21vdGlvbnMnLAogICAgJ01hc3RlckNyZWRpdCc6ICdNYXN0ZXJDcmVkaXQnLAogICAgJ0NPTk5FQ1RJT05fREVUQUlMUyc6ICdDT05ORUNUSU9OIERFVEFJTFMnLAogICAgJ0NoYW5nZV9QYXNzd29yZCc6ICdDaGFuZ2UgcGFzc3dvcmQnLAogICAgJ1NBVkUnOiAnU0FWRScsCiAgICAnU2F2ZV9jaGFuZ2VzX2luX3Byb2ZpbGVfZm9yX2Z1dHVyZV91c2UnOiAnU2F2ZSBjaGFuZ2VzIGluIHByb2ZpbGUgZm9yIGZ1dHVyZSB1c2UnLAogICAgJ1NPVUxfT1VUJzogJ1NPTEQgT1VUJywKICAgICd5b3VyX0FjY291bnRfd2FzX2NyZWF0ZWRfc3VjY2Vzc2Z1bGx5JzogJ1lvdXIgYWNjb3VudCB3YXMgY3JlYXRlZCBzdWNjZXNzZnVsbHknLAogICAgJ0NPTlRJTlVFX1NIT1BQSU5HJzogJ0NPTlRJTlVFIFNIT1BQSU5HJywKICAgICdQcm9ibGVtX3NlbmRpbmdfbWFpbF9wbGVhc2VfdHJ5X2xhdGVyJzogJ1Byb2JsZW0gc2VuZGluZyBtYWlsLiBUcnkgYWdhaW4gbGF0ZXIuJywKICAgICdTdWJqZWN0JzogJ1N1YmplY3QnLAogICAgJ1NVUFBPUlQnOiAnU1VQUE9SVCcsCgogICAgJ3RvYXN0X1Byb2R1Y3RfQWRkZWRfU3VjY2Vzc2Z1bGx5JzogJ1Byb2R1Y3QgYWRkZWQgc3VjY2Vzc2Z1bGx5JywKICAgICd0b2FzdF9Qcm9kdWN0X1VwZGF0ZWRfU3VjY2Vzc2Z1bGx5JzogJ1Byb2R1Y3QgdXBkYXRlZCBzdWNjZXNzZnVsbHknLAogICAgJ1NlYXJjaF9SZXN1bHQnOiAiU2VhcmNoIHJlc3VsdCIsCiAgICAnUHJlZmVycmVkX3BheW1lbnRfaGFzX25vdF9iZWVuX3NldCc6ICdQcmVmZXJyZWQgcGF5bWVudCB3YXMgbm90IHNwZWNpZmllZCcsCiAgICAnU2FmZVBheSc6ICdTYWZlUGF5JywKICAgICdTZXRfU2FmZVBheV9hc19QcmVmZXJyZWRfcGF5bWVudCc6ICdTZXQgU2FmZVBheSBhcyB5b3VyIHByZWZlcnJlZCBwYXltZW50JywKICAgICdTZXRfTWFzdGVyQ3JlZGl0X2FzX1ByZWZlcnJlZF9wYXltZW50JzogJ1NldCBNYXN0ZXJDcmVkaXQgYXMgeW91ciBwcmVmZXJyZWQgcGF5bWVudCcsCiAgICAnTm9fcmVzdWx0c19mb3InOiAnTm8gcmVzdWx0cyBmb3InLAogICAgJ05vX3Jlc3VsdHMnOiAnTm8gcmVzdWx0cycsCiAgICAnTm9fcmVzdWx0c19wdW5jaG91dCc6ICdObyBzZWFyY2ggcmVzdWx0cyBmb3VuZC4gSG93ZXZlciwgeW91IGNhbiBleHRlbmQgeW91ciBzZWFyY2ggdGhyb3VnaCB0aGUgbmV3IFNBUCB1c2VyIGV4cGVyaWVuY2UgKHVzZXMgU0FQVUk1KScsCiAgICAnTm9fcmVzdWx0c19wdW5jaG91dF9ub3RlJzogJ05PVEU6IE1pY3JvIEZvY3VzIGlzIG5vdCByZXNwb25zaWJsZSBmb3IgYW55dGhpbmcgdGhhdCBoYXBwZW5zIG9uY2UgeW91IG9wZW4gdGhlIFNBUCBGaW9yaSBEZW1vIEtpdCBwYWdlLicsCiAgICAnU0FQX0JVVFRPTicgOiAnR28gdG8gdGhlIFNBUCBGaW9yaSBEZW1vIEFwcCcsCiAgICAnU0VORCc6ICdTRU5EJywKICAgICdQcm9kdWN0X3JlbW92ZWQnOiAnUHJvZHVjdCByZW1vdmVkJywKICAgICdVU0VSJzogJ1VTRVInLAogICAgJ1NFQVJDSCc6ICdTRUFSQ0gnLAogICAgJ2FkZF93YXJyYW50eSc6ICdBZGQgV2FycmFudHknLAoKCgoKCgoKCgoKCiAgICAncmVnaXN0ZXJfZmFpbGQnOiAnUmVnaXN0cmF0aW9uIGZhaWxlZC4gUGxlYXNlIHRyeSBhZ2Fpbi4nLAogICAgJ2xvZ2luX2ZhaWxkJzogJ0xvZ2luIGZhaWxlZC4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nLAoKICAgICdlbWFpbF9ub19mb3JtYXR0ZWRfY29ycmVjdGx5JzogJ1lvdXIgZW1haWwgYWRkcmVzcyBpc25cJ3QgZm9ybWF0dGVkIGNvcnJlY3RseScsCiAgICAndmFsaWRfZW1haWxfcmVxdWlyZWQnOiAnJywKCiAgICAnVXNlX3VwX29mJzogJ1VzZSAnLAogICAgJ2NoYXJhY3Rlcl9vcl9sb25nZXInIDonY2hhcmFjdGVyIG9yIGxvbmdlcicsCiAgICAnVXNlX21heGltdW0nOiAnVXNlIG1heGltdW0nLAoKICAgICdVc2VfdXBfdG9fMTJfY2hhcmFjdGVyc19JbmNsdWRlX2F0X2xlYXN0X29uZV9sZXR0ZXJfYW5kX29uZV9udW1iZXInOiAnVXNlIGJldHdlZW4gNC0xMiBjaGFyYWN0ZXJzLCBpbmNsdWRpbmcgYXQgbGVhc3Qgb25lIHVwcGVyIGNhc2UgbGV0dGVyLCBvbmUgbG93ZXIgY2FzZSBsZXR0ZXIsIGFuZCBvbmUgbnVtYmVyLicsCgogICAgJ0luY2x1ZGluZ19vbmVfdXBwZXJfbGV0dGVyJzogJ0luY2x1ZGluZyBhdCBsZWFzdCBvbmUgdXBwZXIgbGV0dGVyJywKICAgICdJbmNsdWRpbmdfb25lX2xvd2VyX2xldHRlcic6ICdJbmNsdWRpbmcgYXQgbGVhc3Qgb25lIGxvd2VyIGxldHRlcicsCiAgICAnSW5jbHVkaW5nX29uZV9udW1iZXInOiAnSW5jbHVkaW5nIGF0IGxlYXN0IG9uZSBudW1iZXInLAoKICAgICdvbmVfdXBwZXJfbGV0dGVyX3JlcXVpcmVkJzogJ09uZSB1cHBlciBsZXR0ZXIgcmVxdWlyZWQnLAogICAgJ29uZV9sb3dlcl9sZXR0ZXJfcmVxdWlyZWQnOiAnT25lIGxvd2VyIGxldHRlciByZXF1aXJlZCcsCiAgICAnb25lX251bWJlcl9yZXF1aXJlZCc6ICdPbmUgbnVtYmVyIHJlcXVpcmVkJywKCiAgICAnU2FtZV9hcyc6ICdTYW1lIGFzJywKICAgICdUaGlzX2ZpZWxkX25vdF9tYXRjaF93aXRoJzogJ3MgZG8gbm90IG1hdGNoJywKICAgICdmaWVsZCc6ICdmaWVsZCcsCgogICAgJ3JlcXVpcmVkJzogJ3JlcXVpcmVkJywKICAgICdudW1iZXJzJyA6ICdudW1iZXJzJywKICAgICdVc2VfZXhhY3RseScgOiAnVXNlIGV4YWN0bHknLAogICAgJ1llYXInOiAnWWVhcicsCiAgICAnTW9udGgnOiAnTW9udGgnLAogICAgLy8nVmFsaWRfQ0NWX251bWJlcl9yZXF1aXJlZCc6ICdWYWxpZCBDQ1YgbnVtYmVyIHJlcXVpcmVkJywKICAgICdWYWxpZF9DQ1ZfbnVtYmVyX3JlcXVpcmVkJzogJ1VzZSBleGFjdGx5IDMgZGlnaXRzJywKCiAgICAnQWdyZWVBZ3JlZW1lbnRSZXF1aXJlJzogJ0kgYWdyZWUgdG8gdGhlIHd3dy5BZHZhbnRhZ2VPbmxpbmVTaG9wcGluZy5jb20gQ29uZGl0aW9ucyBvZiBVc2UgYW5kIFByaXZhY3kgTm90aWNlJywKCiAgICAnRXhwaXJhdGlvbkNhcnQnIDogJ0V4cGlyYXRpb24gZGF0ZSBoYXMgcGFzc2VkLiBUcnkgYW5vdGhlciBjYXJkJywKICAgICdDSEFUX1dJVEhfVVMnOiAnQ0hBVCBXSVRIIFVTJywKCiAgICAnTVlfT1JERVJTJzogJ01ZIE9SREVSUycsCgoKICAgICdTSElQUElOR19ERVRBSUxTJzogJ1NISVBQSU5HIERFVEFJTFMnLAogICAgJ1NISVBJTkdfREVUQUlMUyc6ICdTSElQSU5HIERFVEFJTFMnLAoKICAgICdTaGlwcGluZ19EZXRhaWxzJzogJ1NoaXBwaW5nIGRldGFpbHMnLAogICAgJ1NoaXBpbmdfRGV0YWlscyc6ICdTaGlwaW5nIGRldGFpbHMnLAoKICAgICdSZWNlaXZlcl9EZXRhaWxzJzogJ1JlY2lwaWVudCBkZXRhaWxzJywKICAgICdSZWNpZXZlcl9EZXRhaWxzJzogJ1JlY2lwZWludCBEZXRhaWxzJywKCiAgICAnQ2l0eSc6ICdDaXR5JywKICAgICdDaWl0eSc6ICdDaWl0eScsCgoKICAgICdPUkRFUl9TVU1NQVJZJzogJ09SREVSIFNVTU1BUlknLAogICAgJ09yZGVyX1N1bW1hcnknOiAnT3JkZXIgU3VtbWFyeScsCgogICAgJ09SREVSUl9TVU1NQVJZJzogJ09SREVSUiBTVU1NQVJZJywKICAgICdPcmRlcnJfU3VtbWFyeSc6ICdPcmRlcnIgU3VtbWFyeScsCgogICAgJ09SREVSX05VTUJFUic6ICdPUkRFUiBOVU1CRVInLAogICAgJ09SREVSX0RBVEUnOiAnT1JERVIgREFURScsCiAgICAnT1JERVJfVElNRSc6ICdPUkRFUiBUSU1FJywKICAgICdUT1RBTF9QUklDRSc6ICdUT1RBTCBQUklDRScsCidXQVJSQU5UWScgOiAnV0FSUkFOVFknLAogICAgJ0NPTE9SJzogJ0NPTE9SJywKCiAgICAnTXlfT3JkZXJzJzogJ015IG9yZGVycycsCgogICAgJ05vX29yZGVycyc6ICdObyBvcmRlcnMnLAogICAgJ3Jldmlld3MnOiAncmV2aWV3cycsCiAgICAnQVJFX1VfU1VSRScgOiAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvJywKICAgICdDQU5DRUxfWU9VUl9PUkRFUic6ICdjYW5jZWwgeW91ciBvcmRlcj8nLAogICAgJ1lFU19DQU5DRUwnOiAnWUVTLCBDQU5DRUwnLAogICAgJ05PX0tFRVBfT1JERVInOiAnTk8sIEtFRVAgTVkgT1JERVInLAoKCiAgICAvLyBBQk9VVCBQQUdFCiAgICAnQUJPVVRfUEFHRSc6ICdBQk9VVCcsCiAgICAnQUJPVVQnOiAnQWJvdXQnLAogICAgJ0FPU19WRVJTSU9OUyc6ICdBT1MgVmVyc2lvbnMnLAogICAgJ0NPTkZJR19UT09MJzogJ01hbmFnZW1lbnQgQ29uc29sZScsCiAgICAnVEhFX0FQUF9JU19BVkFJTEFCTEVfSU5fM19GT1JNX0ZBQ1RPUlMnOiAnVEhFIEFQUExJQ0FUSU9OIElTIEFWQUlMQUJMRSBJTiAzIEZPUk0gRkFDVE9SUzonLAogICAgJ0FCT1VUX0ZJUlNUX1BBUkFHUkFQSCc6ICdBZHZhbnRhZ2UgT25saW5lIFNob3BwaW5nIChBT1MpIGlzIGEgZmljdGlvbmFsIGNvbXBhbnkgdXNlZCBieSBNaWNybyBGb2N1cyBhcyB0aGUg4oCcYXBwbGljYXRpb24gdW5kZXIgdGVzdOKAnSBkdXJpbmcgY3VzdG9tZXItZmFjaW5nIHByb2R1Y3QgZGVtb25zdHJhdGlvbnMuJywKICAgICdBQk9VVF9TRUNPTkRfUEFSQUdSQVBIJzogJ0l0cyBwcmltYXJ5IGFzc2V0cyBhcmUgYSBmdWxseS1mdW5jdGlvbmFsIHdlYnNpdGUgYW5kIGEgbW9iaWxlIGNsaWVudCwgZWFjaCBkZXNpZ25lZCB1c2luZyBtb2Rlcm4gcHJvZ3JhbW1pbmcgcHJhY3RpY2VzLCBmb2N1c2luZyBvbiBoaWdoIHF1YWxpdHkgYW5kIHNjYWxhYmlsaXR5LsKgIEFPUyBpcyBidWlsdCB1c2luZyBEZXZPcHMgcHJhY3RpY2VzLCBzcGVjaWZpY2FsbHkgQWdpbGUgYmFja2xvZyBtYW5hZ2VtZW50IGFuZCBjb250aW51b3VzIHRlc3RpbmcsIGluY2x1ZGluZyBmdW5jdGlvbmFsLCBub24tZnVuY3Rpb25hbCwgcGVyZm9ybWFuY2UgYW5kIHNlY3VyaXR5IHRlc3RpbmcuwqAnLAogICAgIlBST0RVQ1RfUVVBTlRJVFlfRVJST1JfTUVTU0FHRSIgOiAiT29wcyEgV2Ugb25seSBoYXZlIHswfSBpbiBzdG9jay4gV2UgdXBkYXRlZCB5b3VyIG9yZGVyIGFjY29yZGluZ2x5IgoKfTsKCgoKCgoKCgoKCgoKCgpkZWZpbmUoImVuZ2xpc2hMYW5ndWFnZSIsIGZ1bmN0aW9uKCl7fSk7CgovKiEKICogQmV6IHYxLjAuMTAtZzVhZTAxMzYKICogaHR0cDovL2dpdGh1Yi5jb20vcmRhbGxhc2dyYXkvYmV6CiAqIAogKiBBIHBsdWdpbiB0byBjb252ZXJ0IENTUzMgY3ViaWMtYmV6aWVyIGNvLW9yZGluYXRlcyB0byBqUXVlcnktY29tcGF0aWJsZSBlYXNpbmcgZnVuY3Rpb25zCiAqIAogKiBXaXRoIHRoYW5rcyB0byBOaWtvbGF5IE5lbXNoaWxvdiBmb3IgY2xhcmlmaWNhdGlvbiBvbiB0aGUgY3ViaWMtYmV6aWVyIG1hdGhzCiAqIFNlZSBodHRwOi8vc3Qtb24taXQuYmxvZ3Nwb3QuY29tLzIwMTEvMDUvY2FsY3VsYXRpbmctY3ViaWMtYmV6aWVyLWZ1bmN0aW9uLmh0bWwKICogCiAqIENvcHlyaWdodCAyMDExIFJvYmVydCBEYWxsYXMgR3JheS4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KICogUHJvdmlkZWQgdW5kZXIgdGhlIEZyZWVCU0QgbGljZW5zZTogaHR0cHM6Ly9naXRodWIuY29tL3JkYWxsYXNncmF5L2Jlei9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dAoqL2pRdWVyeS5leHRlbmQoe2JlejpmdW5jdGlvbihhKXt2YXIgYj0iYmV6XyIralF1ZXJ5Lm1ha2VBcnJheShhcmd1bWVudHMpLmpvaW4oIl8iKS5yZXBsYWNlKCIuIiwicCIpO2lmKHR5cGVvZiBqUXVlcnkuZWFzaW5nW2JdIT0iZnVuY3Rpb24iKXt2YXIgYz1mdW5jdGlvbihhLGIpe3ZhciBjPVtudWxsLG51bGxdLGQ9W251bGwsbnVsbF0sZT1bbnVsbCxudWxsXSxmPWZ1bmN0aW9uKGYsZyl7cmV0dXJuIGVbZ109MyphW2ddLGRbZ109MyooYltnXS1hW2ddKS1lW2ddLGNbZ109MS1lW2ddLWRbZ10sZiooZVtnXStmKihkW2ddK2YqY1tnXSkpfSxnPWZ1bmN0aW9uKGEpe3JldHVybiBlWzBdK2EqKDIqZFswXSszKmNbMF0qYSl9LGg9ZnVuY3Rpb24oYSl7dmFyIGI9YSxjPTAsZDt3aGlsZSgrK2M8MTQpe2Q9ZihiLDApLWE7aWYoTWF0aC5hYnMoZCk8LjAwMSlicmVhaztiLT1kL2coYil9cmV0dXJuIGJ9O3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gZihoKGEpLDEpfX07alF1ZXJ5LmVhc2luZ1tiXT1mdW5jdGlvbihiLGQsZSxmLGcpe3JldHVybiBmKmMoW2FbMF0sYVsxXV0sW2FbMl0sYVszXV0pKGQvZykrZX19cmV0dXJuIGJ9fSk7CgpkZWZpbmUoImpxdWVyeS1iZXoiLCBbImpxdWVyeSJdLCBmdW5jdGlvbigpe30pOwoKLyoKIENvbG9yIGFuaW1hdGlvbiAxLjYuMAogaHR0cDovL3d3dy5iaXRzdG9ybS5vcmcvanF1ZXJ5L2NvbG9yLWFuaW1hdGlvbi8KIENvcHlyaWdodCAyMDExLCAyMDEzIEVkd2luIE1hcnRpbiA8ZWR3aW5AYml0c3Rvcm0ub3JnPgogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBhbmQgR1BMIGxpY2Vuc2VzLgoqLwooZnVuY3Rpb24oZCl7ZnVuY3Rpb24gaChhLGIsZSl7dmFyIGM9InJnYiIrKGQuc3VwcG9ydC5yZ2JhPyJhIjoiIikrIigiK3BhcnNlSW50KGFbMF0rZSooYlswXS1hWzBdKSwxMCkrIiwiK3BhcnNlSW50KGFbMV0rZSooYlsxXS1hWzFdKSwxMCkrIiwiK3BhcnNlSW50KGFbMl0rZSooYlsyXS1hWzJdKSwxMCk7ZC5zdXBwb3J0LnJnYmEmJihjKz0iLCIrKGEmJmI/cGFyc2VGbG9hdChhWzNdK2UqKGJbM10tYVszXSkpOjEpKTtyZXR1cm4gYysiKSJ9ZnVuY3Rpb24gZihhKXt2YXIgYjtyZXR1cm4oYj0vIyhbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KS8uZXhlYyhhKSk/W3BhcnNlSW50KGJbMV0sMTYpLHBhcnNlSW50KGJbMl0sMTYpLHBhcnNlSW50KGJbM10sMTYpLDFdOihiPS8jKFswLTlhLWZBLUZdKShbMC05YS1mQS1GXSkoWzAtOWEtZkEtRl0pLy5leGVjKGEpKT9bMTcqcGFyc2VJbnQoYlsxXSwxNiksMTcqcGFyc2VJbnQoYlsyXSwKMTYpLDE3KnBhcnNlSW50KGJbM10sMTYpLDFdOihiPS9yZ2JcKFxzKihbMC05XXsxLDN9KVxzKixccyooWzAtOV17MSwzfSlccyosXHMqKFswLTldezEsM30pXHMqXCkvLmV4ZWMoYSkpP1twYXJzZUludChiWzFdKSxwYXJzZUludChiWzJdKSxwYXJzZUludChiWzNdKSwxXTooYj0vcmdiYVwoXHMqKFswLTldezEsM30pXHMqLFxzKihbMC05XXsxLDN9KVxzKixccyooWzAtOV17MSwzfSlccyosXHMqKFswLTlcLl0qKVxzKlwpLy5leGVjKGEpKT9bcGFyc2VJbnQoYlsxXSwxMCkscGFyc2VJbnQoYlsyXSwxMCkscGFyc2VJbnQoYlszXSwxMCkscGFyc2VGbG9hdChiWzRdKV06bFthXX1kLmV4dGVuZCghMCxkLHtzdXBwb3J0OntyZ2JhOmZ1bmN0aW9uKCl7dmFyIGE9ZCgic2NyaXB0OmZpcnN0IiksYj1hLmNzcygiY29sb3IiKSxlPSExO2lmKC9ecmdiYS8udGVzdChiKSllPSEwO2Vsc2UgdHJ5e2U9YiE9YS5jc3MoImNvbG9yIiwicmdiYSgwLCAwLCAwLCAwLjUpIikuY3NzKCJjb2xvciIpLAphLmNzcygiY29sb3IiLGIpfWNhdGNoKGMpe31yZXR1cm4gZX0oKX19KTt2YXIgaz0iY29sb3IgYmFja2dyb3VuZENvbG9yIGJvcmRlckJvdHRvbUNvbG9yIGJvcmRlckxlZnRDb2xvciBib3JkZXJSaWdodENvbG9yIGJvcmRlclRvcENvbG9yIG91dGxpbmVDb2xvciIuc3BsaXQoIiAiKTtkLmVhY2goayxmdW5jdGlvbihhLGIpe2QuVHdlZW4ucHJvcEhvb2tzW2JdPXtnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGQoYS5lbGVtKS5jc3MoYil9LHNldDpmdW5jdGlvbihhKXt2YXIgYz1hLmVsZW0uc3R5bGUsZz1mKGQoYS5lbGVtKS5jc3MoYikpLG09ZihhLmVuZCk7YS5ydW49ZnVuY3Rpb24oYSl7Y1tiXT1oKGcsbSxhKX19fX0pO2QuVHdlZW4ucHJvcEhvb2tzLmJvcmRlckNvbG9yPXtzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5lbGVtLnN0eWxlLGU9W10sYz1rLnNsaWNlKDIsNik7ZC5lYWNoKGMsZnVuY3Rpb24oYixjKXtlW2NdPWYoZChhLmVsZW0pLmNzcyhjKSl9KTt2YXIgZz1mKGEuZW5kKTsKYS5ydW49ZnVuY3Rpb24oYSl7ZC5lYWNoKGMsZnVuY3Rpb24oZCxjKXtiW2NdPWgoZVtjXSxnLGEpfSl9fX07dmFyIGw9e2FxdWE6WzAsMjU1LDI1NSwxXSxhenVyZTpbMjQwLDI1NSwyNTUsMV0sYmVpZ2U6WzI0NSwyNDUsMjIwLDFdLGJsYWNrOlswLDAsMCwxXSxibHVlOlswLDAsMjU1LDFdLGJyb3duOlsxNjUsNDIsNDIsMV0sY3lhbjpbMCwyNTUsMjU1LDFdLGRhcmtibHVlOlswLDAsMTM5LDFdLGRhcmtjeWFuOlswLDEzOSwxMzksMV0sZGFya2dyZXk6WzE2OSwxNjksMTY5LDFdLGRhcmtncmVlbjpbMCwxMDAsMCwxXSxkYXJra2hha2k6WzE4OSwxODMsMTA3LDFdLGRhcmttYWdlbnRhOlsxMzksMCwxMzksMV0sZGFya29saXZlZ3JlZW46Wzg1LDEwNyw0NywxXSxkYXJrb3JhbmdlOlsyNTUsMTQwLDAsMV0sZGFya29yY2hpZDpbMTUzLDUwLDIwNCwxXSxkYXJrcmVkOlsxMzksMCwwLDFdLGRhcmtzYWxtb246WzIzMywxNTAsMTIyLDFdLGRhcmt2aW9sZXQ6WzE0OCwwLDIxMSwxXSxmdWNoc2lhOlsyNTUsCjAsMjU1LDFdLGdvbGQ6WzI1NSwyMTUsMCwxXSxncmVlbjpbMCwxMjgsMCwxXSxpbmRpZ286Wzc1LDAsMTMwLDFdLGtoYWtpOlsyNDAsMjMwLDE0MCwxXSxsaWdodGJsdWU6WzE3MywyMTYsMjMwLDFdLGxpZ2h0Y3lhbjpbMjI0LDI1NSwyNTUsMV0sbGlnaHRncmVlbjpbMTQ0LDIzOCwxNDQsMV0sbGlnaHRncmV5OlsyMTEsMjExLDIxMSwxXSxsaWdodHBpbms6WzI1NSwxODIsMTkzLDFdLGxpZ2h0eWVsbG93OlsyNTUsMjU1LDIyNCwxXSxsaW1lOlswLDI1NSwwLDFdLG1hZ2VudGE6WzI1NSwwLDI1NSwxXSxtYXJvb246WzEyOCwwLDAsMV0sbmF2eTpbMCwwLDEyOCwxXSxvbGl2ZTpbMTI4LDEyOCwwLDFdLG9yYW5nZTpbMjU1LDE2NSwwLDFdLHBpbms6WzI1NSwxOTIsMjAzLDFdLHB1cnBsZTpbMTI4LDAsMTI4LDFdLHZpb2xldDpbMTI4LDAsMTI4LDFdLHJlZDpbMjU1LDAsMCwxXSxzaWx2ZXI6WzE5MiwxOTIsMTkyLDFdLHdoaXRlOlsyNTUsMjU1LDI1NSwxXSx5ZWxsb3c6WzI1NSwyNTUsCjAsMV0sdHJhbnNwYXJlbnQ6WzI1NSwyNTUsMjU1LDBdfX0pKGpRdWVyeSk7CgpkZWZpbmUoImpxdWVyeS5hbmltYXRlLWNvbG9ycyIsIFsianF1ZXJ5Il0sIGZ1bmN0aW9uKCl7fSk7CgovKioKICogQ3JlYXRlZCBieSBjb3JyZW50aSBvbiAxNi8xMS8yMDE1LgogKi8KdmFyIHN0YXJ0UG9zc2l0aW9uID0gOTAwMDAwMDAwOwp2YXIgcGFnZXNQb3NzaXRpb24gPSBzdGFydFBvc3NpdGlvbjsKdmFyIHN0aWNreVBvc3NpdGlvbiA9IHN0YXJ0UG9zc2l0aW9uOwoKCnZhciBIZWxwZXIgPSBIZWxwZXIgfHwge307CkhlbHBlci5fX19fY2xvc2VUb29UaXBDYXJ0OwpIZWxwZXIuX19fX3Nob3dQYWdlOwpIZWxwZXIubW9iaWxlX3NlY3Rpb25fbW92ZWQ7CgpIZWxwZXIuZGVmYXVsdFRpbWVMb2FkZXJUb0VuYWJsZSA9IDEwMDA7Cgp2YXIgZW5hYmxlTG9hZGVyQWN0aXZhdGUgPSBmYWxzZTsKdmFyIF9fX19lbmFibGVMb2FkZXJBY3RpdmF0ZTsKCnZhciB0aW1lckRldGVjdG9yID0gMDsKSGVscGVyLmVuYWJsZUxvYWRlciA9IGZ1bmN0aW9uIChfdGltZXJEZXRlY3RvcikgewogICAgaWYoZW5hYmxlTG9hZGVyQWN0aXZhdGUgfHwgdGltZXJEZXRlY3RvciA+IDkwMCl7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgdGltZXJEZXRlY3RvciA9IF90aW1lckRldGVjdG9yICE9IHVuZGVmaW5lZCA/IF90aW1lckRldGVjdG9yIDogMDsKICAgIGVuYWJsZUxvYWRlckFjdGl2YXRlID0gdHJ1ZTsKICAgIF9fX19lbmFibGVMb2FkZXJBY3RpdmF0ZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICQoImRpdi5sb2FkZXIiKS5jc3Moe2Rpc3BsYXk6ICJibG9jayJ9KTsKICAgICAgICAkKCJkaXYubG9hZGVyIikuc3RvcCgpLmFuaW1hdGUoe29wYWNpdHk6IDF9LCAxMDApOwogICAgfSwgSGVscGVyLmRlZmF1bHRUaW1lTG9hZGVyVG9FbmFibGUpOwp9OwoKSGVscGVyLmRpc2FibGVMb2FkZXIgPSBmdW5jdGlvbiAoX3RpbWVyRGV0ZWN0b3IpIHsKICAgIHRpbWVyRGV0ZWN0b3IgPSBfdGltZXJEZXRlY3RvciAhPSB1bmRlZmluZWQgPyBfdGltZXJEZXRlY3RvciA6IHRpbWVyRGV0ZWN0b3I7CiAgICBpZih0aW1lckRldGVjdG9yID09IDk5OSl7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgaWYoZW5hYmxlTG9hZGVyQWN0aXZhdGUpewogICAgICAgIGNsZWFyVGltZW91dChfX19fZW5hYmxlTG9hZGVyQWN0aXZhdGUpOwogICAgICAgICQoImRpdi5sb2FkZXIiKS5zdG9wKCkuYW5pbWF0ZSh7b3BhY2l0eTogMH0sIDMwMCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAkKHRoaXMpLmNzcyh7ZGlzcGxheTogIm5vbmUifSk7CiAgICAgICAgICAgIGVuYWJsZUxvYWRlckFjdGl2YXRlID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICB9Cn07CgpIZWxwZXIuZm9yQWxsUGFnZSA9IGZ1bmN0aW9uICgpIHsKCiAgICBjbGVhclRpbWVvdXQoSGVscGVyLl9fX19zaG93UGFnZSkKICAgIEhlbHBlci5fX19fc2hvd1BhZ2UgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAkKCIud2FpdEJhY2tncm91bmQiKS5zdG9wKCkuYW5pbWF0ZSh7b3BhY2l0eTogMCx9LCAxMDAsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJCh0aGlzKS5jc3Moe2Rpc3BsYXk6ICJub25lIix9KTsKICAgICAgICAgICAgJCgiZGl2LmxvYWRlciIpLnN0b3AoKS5hbmltYXRlKHtvcGFjaXR5OiAwfSwgNzAwLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcyh7ZGlzcGxheTogIm5vbmUiLH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0sIDEwMDApOwogICAgSGVscGVyLnNjcm9sbFBhZ2VVcCgpOwogICAgSGVscGVyLlVwZGF0ZVBhZ2VGaXhlZCgpOwogICAgc2V0VGltZW91dChIZWxwZXIuZm9vdGVySGFuZGxlciwgMjAwKTsKfQoKCkhlbHBlci5mb290ZXJIYW5kbGVyID0gZnVuY3Rpb24gKCkgewoKICAgIGlmICgkKCJmb290ZXIiKS5oZWlnaHQoKSkgewoKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHBhZGRpbmdUb3AgPSAkKHdpbmRvdykud2lkdGgoKSA+IDQ4MCA/IDkwIDogMDsKICAgICAgICAgICAgaWYgKGRvY3VtZW50LmxvY2F0aW9uLmhhc2ggPT0gIiMvIiB8fCBkb2N1bWVudC5sb2NhdGlvbi5oYXNoID09ICIjL29yZGVyUGF5bWVudCIpIHsKICAgICAgICAgICAgICAgIHBhZGRpbmdUb3AgPSAwOwogICAgICAgICAgICAgICAgJCgiZm9vdGVyIikuY3NzKHsKICAgICAgICAgICAgICAgICAgICAicG9zaXRpb24iOiAic3RhdGljIiwKICAgICAgICAgICAgICAgICAgICAibWFyZ2luLXRvcCI6IDAKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAkKCIjdmlydHVhbEZvb3RlciIpLmhlaWdodCgwKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAkKCIjdmlydHVhbEZvb3RlciIpLmhlaWdodCgkKCJmb290ZXIiKS5oZWlnaHQoKSArIHBhZGRpbmdUb3ApOwogICAgICAgICAgICAkKCIjdmlydHVhbEZvb3RlciIpLmNzcygnd2lkdGgnLCAiMTAwJSIpOwoKICAgICAgICAgICAgdmFyIG1pc3MgPSAkKHdpbmRvdykuaGVpZ2h0KCkgLSAoJCgiI3ZpcnR1YWxGb290ZXIiKS5vZmZzZXQoKS50b3AgKyAkKCIjdmlydHVhbEZvb3RlciIpLmhlaWdodCgpKTsKICAgICAgICAgICAgJCgiZm9vdGVyIikuY3NzKHsicG9zaXRpb24iOiBtaXNzID4gMCA/ICJmaXhlZCIgOiAiYWJzb2x1dGUifSkKICAgICAgICB9LCAyMDApCiAgICB9CiAgICBlbHNlIHsKICAgICAgICBzZXRUaW1lb3V0KEhlbHBlci5mb290ZXJIYW5kbGVyLCAyMDApCiAgICB9Cn0KCkhlbHBlci5zY3JvbGxQYWdlVXAgPSBmdW5jdGlvbiAoKSB7CiAgICAkKCJib2R5LCBodG1sIikuc2Nyb2xsVG9wKDApOwp9CgpIZWxwZXIucGFyc2VCb29sZWFuID0gZnVuY3Rpb24gKHN0cikgewogICAgcmV0dXJuIHN0ciAhPSB1bmRlZmluZWQgJiYgc3RyLnRvTG93ZXJDYXNlKCkgPT0gJ3RydWUnCn0KCgpIZWxwZXIuVXBkYXRlUGFnZUZpeGVkID0gZnVuY3Rpb24gKCkgewogICAgaWYgKGRvY3VtZW50LlVSTC5pbmRleE9mKCJjYXRlZ29yeSIpID09IC0xKSB7CiAgICAgICAgJCgnLnBhZ2VzJykucmVtb3ZlQ2xhc3MoJ2ZpeGVkJyk7CiAgICAgICAgJCgnLnN0aWNreScpLnJlbW92ZUNsYXNzKCdmaXhlZCcpOwogICAgfQogICAgcGFnZXNQb3NzaXRpb24gPSBzdGFydFBvc3NpdGlvbjsKICAgIHN0aWNreVBvc3NpdGlvbiA9IHN0YXJ0UG9zc2l0aW9uOwogICAgSGVscGVyLmNoZWNrUGFnZVBvc3NpdGlvbnMoKQp9OwoKCkhlbHBlci5nZXRSYW5kb20gPSBmdW5jdGlvbiAobGVuZ3RoKSB7CiAgICB2YXIgcmFuVmFsID0gJyc7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgcmFuVmFsICs9IChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA5KSArIDEpCiAgICB9CiAgICByZXR1cm4gcmFuVmFsOwp9CgpIZWxwZXIuZ2V0TW9udGhJblllYXJGb3JNYXN0ZXJDcmVkaXQgPSBmdW5jdGlvbiAoeWVhciwgbW9udGhzKSB7CiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7CiAgICBpZiAoZGF0ZS5nZXRGdWxsWWVhcigpID09IHllYXIpIHsKICAgICAgICB2YXIgbmV3X2FycmF5ID0gW107CiAgICAgICAgZm9yICh2YXIgaSA9IGRhdGUuZ2V0TW9udGgoKSArIDE7IGkgPD0gMTI7IGkrKykgewogICAgICAgICAgICBuZXdfYXJyYXkucHVzaChpIDwgMTAgPyAiMCIgKyBpIDogaSArICIiKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIFsiMDEiLCAiMDIiLCAiMDMiLCAiMDQiLCAiMDUiLCAiMDYiLCAiMDciLCAiMDgiLCAiMDkiLCAiMTAiLCAiMTEiLCAiMTIiXTsKICAgIH0KICAgIGlmIChtb250aHMubGVuZ3RoICE9IDEyKSB7CiAgICAgICAgcmV0dXJuIFsiMDEiLCAiMDIiLCAiMDMiLCAiMDQiLCAiMDUiLCAiMDYiLCAiMDciLCAiMDgiLCAiMDkiLCAiMTAiLCAiMTEiLCAiMTIiXTsKICAgIH0KICAgIHJldHVybiBudWxsOwp9CgpIZWxwZXIuY2hlY2tQYWdlUG9zc2l0aW9ucyA9IGZ1bmN0aW9uICgpIHsKCiAgICBpZiAoJCgnLnBhZ2VzJykubGVuZ3RoID4gMCkgewoKICAgICAgICB2YXIgc2Nyb2xsVG9wID0gJCgnYm9keScpLnNjcm9sbFRvcCgpID4gMCA/ICQoJ2JvZHknKS5zY3JvbGxUb3AoKSA6ICQoJ2h0bWwnKS5zY3JvbGxUb3AoKTsKCiAgICAgICAgaWYgKHBhZ2VzUG9zc2l0aW9uIDwgc2Nyb2xsVG9wICsgJCgnaGVhZGVyJykuaGVpZ2h0KCkpIHsKICAgICAgICAgICAgJCgnLnBhZ2VzJykuYWRkQ2xhc3MoJ2ZpeGVkJyk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBwYWdlc1Bvc3NpdGlvbiA9ICQoJy5wYWdlcycpLm9mZnNldCgpLnRvcDsKICAgICAgICAgICAgJCgnLnBhZ2VzJykucmVtb3ZlQ2xhc3MoJ2ZpeGVkJyk7CiAgICAgICAgfQogICAgfQoKICAgIGlmICgkKCcuc3RpY2t5JykubGVuZ3RoID4gMCkgewogICAgICAgIGlmIChzdGlja3lQb3NzaXRpb24gPCBzY3JvbGxUb3AKICAgICAgICAgICAgKyAxMDAgKyAoJCgnLnBhZ2VzJykubGVuZ3RoID4gMCkgPyAkKCcucGFnZXMnKS5oZWlnaHQoKSA6IDApIHsKICAgICAgICAgICAgJCgnLnN0aWNreScpLmFkZENsYXNzKCdmaXhlZCcpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgc3RpY2t5UG9zc2l0aW9uID0gJCgnLnN0aWNreScpLm9mZnNldCgpLnRvcDsKICAgICAgICAgICAgJCgnLnN0aWNreScpLnJlbW92ZUNsYXNzKCdmaXhlZCcpOwogICAgICAgIH0KICAgIH0KfQoKSGVscGVyLm1vYmlsZVNlY3Rpb25IYW5kbGVyID0gZnVuY3Rpb24gKCkgewoKICAgIGlmICgkKCIjbW9iaWxlLXNlY3Rpb24iKS5jc3MoImxlZnQiKSA9PSAiMHB4IikgewogICAgICAgICQoIi5tb2JpbGVUaXRsZSAubWluaS10aXRsZSIpLmZhZGVPdXQoKTsKICAgICAgICAkKCIubW9iaWxlVGl0bGUgLm1pbmktdGl0bGUtaGVscCIpLmZhZGVPdXQoKTsKICAgIH0KICAgICQoIiNtb2JpbGUtc2VjdGlvbiIpLmFuaW1hdGUoewogICAgICAgIGxlZnQ6ICQoIiNtb2JpbGUtc2VjdGlvbiIpLmNzcygibGVmdCIpICE9ICIwcHgiID8gIjBweCIgOiAiLSIgKyBIZWxwZXIubW9iaWxlX3NlY3Rpb25fbW92ZWQKICAgIH0sIDIwMCwgZnVuY3Rpb24gKCkgewogICAgICAgICQoIi5tb2JpbGVUaXRsZSIpLmNzcygnbGVmdCcsICQodGhpcykud2lkdGgoKSk7CiAgICB9KTsKfQoKSGVscGVyLm1vYmlsZVNlY3Rpb25DbG9zZSA9IGZ1bmN0aW9uICgpIHsKCiAgICAkKCIjbW9iaWxlLXNlY3Rpb24iKS5zdG9wKCkuYW5pbWF0ZSh7CiAgICAgICAgbGVmdDogIi0iICsgSGVscGVyLm1vYmlsZV9zZWN0aW9uX21vdmVkCiAgICB9LCAyMDApOwogICAgJCgiI2xvZ2luTW9iaWxlTWluaVRpdGxlIikuZmFkZU91dCgpOwogICAgJCgiI2hlbHBNb2JpbGVNaW5pVGl0bGUiKS5mYWRlT3V0KCk7Cn0KCkhlbHBlci5zb3J0QXJyYXlCeUFiYyA9IGZ1bmN0aW9uIChhcnIpIHsKICAgIHJldHVybiBhcnIuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHJldHVybiBhID09IGIgPyAwIDogYSA8IGIgPyAtMSA6IDE7CiAgICB9KTsKfQoKSGVscGVyLnNvcnRBdHRyaWJ1dGVzQnlOYW1lID0gZnVuY3Rpb24gKGF0dHJzKSB7CiAgICByZXR1cm4gYXR0cnMuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHJldHVybiBhLmF0dHJpYnV0ZU5hbWUgPT0gYi5hdHRyaWJ1dGVOYW1lID8gMCA6IGEuYXR0cmlidXRlTmFtZSA8IGIuYXR0cmlidXRlTmFtZSA/IC0xIDogMTsKICAgIH0pOwp9CgpIZWxwZXIuc29ydEFycmF5QnlDb2xvck5hbWUgPSBmdW5jdGlvbiAoY29sb3JzKSB7CiAgICByZXR1cm4gY29sb3JzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gYS5uYW1lID09IGIubmFtZSA/IDAgOiBhLm5hbWUgPCBiLm5hbWUgPyAtMSA6IDE7CiAgICB9KTsKfQoKCnZhciBNYWluID0gTWFpbiB8fCB7fTsKCk1haW4uYWRkQW5pbVBsYWNlaG9sZGVyRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHsKfQoKCiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHsKCiAgICAkKHdpbmRvdykub24oewogICAgICAgIHJlc2l6ZTogX3Jlc2l6ZSwKICAgICAgICBzY3JvbGw6IF9zY3JvbGwsCiAgICB9KTsKCiAgICBmdW5jdGlvbiBfc2Nyb2xsKCkgewogICAgICAgIEhlbHBlci5jaGVja1BhZ2VQb3NzaXRpb25zKCk7CiAgICAgICAgX3Jlc2l6ZSgpOwogICAgfQoKICAgIF9yZXNpemUoKTsKICAgIGZ1bmN0aW9uIF9yZXNpemUoKSB7CiAgICAgICAgJCgiLm1pbmktdGl0bGUiKS5jc3MoImRpc3BsYXkiLCAibm9uZSIpOwogICAgICAgICQoIi5taW5pLXRpdGxlLWhlbHAiKS5jc3MoImRpc3BsYXkiLCAibm9uZSIpOwogICAgICAgIEhlbHBlci5tb2JpbGVTZWN0aW9uQ2xvc2UoKTsKICAgIH0KfSk7CgoKZGVmaW5lKCJtYWluU2NyaXB0IiwgWyJqcXVlcnkiXSwgZnVuY3Rpb24oKXt9KTsKCi8qKgogKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDEzLzEyLzIwMTUuCiAqLwoKCnZhciBMb2dlciA9IExvZ2VyID8gTG9nZXIgOiBmdW5jdGlvbiAoKSB7Cn07CgoKTG9nZXIuUGFyYW1zID0gZnVuY3Rpb24gKHBhcmFtcywgdXJsKSB7CiAgICBzcGFjZXMoMyk7CiAgICBjb25zb2xlLmxvZygnUGFyYW0gdG8gcGFzcyB0byAnICsgdXJsKTsKICAgIGlmIChwYXJhbXMpIHsKICAgICAgICBpZiAocGFyYW1zLm9yZGVyUGF5bWVudEluZm9ybWF0aW9uICYmIHBhcmFtcy5vcmRlclBheW1lbnRJbmZvcm1hdGlvbi5UcmFuc2FjdGlvbl9TYWZlUGF5X1Bhc3N3b3JkKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHsKICAgICAgICAgICAgICAgICJUcmFuc2FjdGlvbl9BY2NvdW50TnVtYmVyIjogcGFyYW1zLlRyYW5zYWN0aW9uX0FjY291bnROdW1iZXIsCiAgICAgICAgICAgICAgICAiVHJhbnNhY3Rpb25fQ3VycmVuY3kiOiBwYXJhbXMuVHJhbnNhY3Rpb25fQ3VycmVuY3ksCiAgICAgICAgICAgICAgICAiVHJhbnNhY3Rpb25fQ3VzdG9tZXJQaG9uZSI6IHBhcmFtcy5UcmFuc2FjdGlvbl9DdXN0b21lclBob25lLAogICAgICAgICAgICAgICAgIlRyYW5zYWN0aW9uX01hc3RlckNyZWRpdF9DVlZOdW1iZXIiOiBwYXJhbXMuVHJhbnNhY3Rpb25fTWFzdGVyQ3JlZGl0X0NWVk51bWJlciwKICAgICAgICAgICAgICAgICJUcmFuc2FjdGlvbl9NYXN0ZXJDcmVkaXRfQ2FyZE51bWJlciI6IHBhcmFtcy5UcmFuc2FjdGlvbl9NYXN0ZXJDcmVkaXRfQ2FyZE51bWJlciwKICAgICAgICAgICAgICAgICJUcmFuc2FjdGlvbl9NYXN0ZXJDcmVkaXRfQ3VzdG9tZXJOYW1lIjogcGFyYW1zLlRyYW5zYWN0aW9uX01hc3RlckNyZWRpdF9DdXN0b21lck5hbWUsCiAgICAgICAgICAgICAgICAiVHJhbnNhY3Rpb25fTWFzdGVyQ3JlZGl0X0V4cGlyYXRpb25EYXRlIjogcGFyYW1zLlRyYW5zYWN0aW9uX01hc3RlckNyZWRpdF9FeHBpcmF0aW9uRGF0ZSwKICAgICAgICAgICAgICAgICJUcmFuc2FjdGlvbl9QYXltZW50TWV0aG9kIjogcGFyYW1zLlRyYW5zYWN0aW9uX1BheW1lbnRNZXRob2QsCiAgICAgICAgICAgICAgICAiVHJhbnNhY3Rpb25fUmVmZXJlbmNlTnVtYmVyIjogcGFyYW1zLlRyYW5zYWN0aW9uX1JlZmVyZW5jZU51bWJlciwKICAgICAgICAgICAgICAgICJUcmFuc2FjdGlvbl9TYWZlUGF5X1VzZXJOYW1lIjogcGFyYW1zLlRyYW5zYWN0aW9uX1NhZmVQYXlfVXNlck5hbWUsCiAgICAgICAgICAgICAgICAiVHJhbnNhY3Rpb25fVHJhbnNhY3Rpb25EYXRlIjogcGFyYW1zLlRyYW5zYWN0aW9uX1RyYW5zYWN0aW9uRGF0ZSwKICAgICAgICAgICAgICAgICJUcmFuc2FjdGlvbl9UeXBlIjogcGFyYW1zLlRyYW5zYWN0aW9uX1R5cGUKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHBhcmFtcy5zYWZlUGF5UGFzc3dvcmQpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coe3NhZmVQYXlVc2VybmFtZTogcGFyYW1zLnNhZmVQYXlVc2VybmFtZSwgcmVmZXJlbmNlSWQ6IHBhcmFtcy5yZWZlcmVuY2VJZH0pOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChwYXJhbXMucGFzc3dvcmQpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coewogICAgICAgICAgICAgICAgImFjY291bnRUeXBlIjogcGFyYW1zLmFjY291bnRUeXBlLCAiYWRkcmVzcyI6IHBhcmFtcy5hZGRyZXNzLAogICAgICAgICAgICAgICAgImFsbG93T2ZmZXJzUHJvbW90aW9uIjogcGFyYW1zLmFsbG93T2ZmZXJzUHJvbW90aW9uLCAiY2l0eU5hbWUiOiBwYXJhbXMuY2l0eU5hbWUsCiAgICAgICAgICAgICAgICAiY291bnRyeUlkIjogcGFyYW1zLmNvdW50cnlJZCwgImVtYWlsIjogcGFyYW1zLmVtYWlsLAogICAgICAgICAgICAgICAgImZpcnN0TmFtZSI6IHBhcmFtcy5maXJzdE5hbWUsICJsYXN0TmFtZSI6IHBhcmFtcy5sYXN0TmFtZSwKICAgICAgICAgICAgICAgICJsb2dpbk5hbWUiOiBwYXJhbXMubG9naW5OYW1lLCAicGhvbmVOdW1iZXIiOiBwYXJhbXMucGhvbmVOdW1iZXIsCiAgICAgICAgICAgICAgICAic3RhdGVQcm92aW5jZSI6IHBhcmFtcy5zdGF0ZVByb3ZpbmNlLCAiemlwY29kZSI6IHBhcmFtcy56aXBjb2RlLAogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBhcmFtcyk7CiAgICAgICAgfQogICAgfQogICAgc3BhY2VzKDEpOwp9OwpMb2dlci5FeHRyYWN0ID0gZnVuY3Rpb24gKGZpbGUsIG9iaiwgcGF0aHMpIHsKICAgIHNwYWNlcygzKTsKICAgIGxpbmVzKDIpOwogICAgY29uc29sZS5sb2coJ0V4dHJhY3RlZCBmaWxlOiAnICsgZmlsZSk7CiAgICBzcGFjZXMoMSk7CiAgICBjb25zb2xlLmxvZygiUmVjaWV2ZTogIik7CiAgICBjb25zb2xlLmxvZyhvYmopOwogICAgc3BhY2VzKDEpOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRocy5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnNvbGUubG9nKHBhdGhzW2ldKQogICAgfQogICAgc3BhY2VzKDEpOwogICAgbGluZXMoMik7CiAgICBzcGFjZXMoMyk7Cn07CgpMb2dlci5DYWxsaW5nV1NETCA9IGZ1bmN0aW9uIChvYmopIHsKICAgIHNwYWNlcygxKTsKICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PT0gICBSZWFkaW5nIHdzZGwgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpCiAgICBjb25zb2xlLmxvZygidXJsOiAiICsgb2JqLnBhdGgpOwogICAgY29uc29sZS5sb2coIm1ldGhvZDogIiArIG9iai5tZXRob2QpOwp9OwoKTG9nZXIuQ2FsbGluZyA9IGZ1bmN0aW9uIChzdHIpIHsKICAgIHNwYWNlcygxKTsKICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT0gICBDYWxsaW5nICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpCiAgICBjb25zb2xlLmxvZygiUGF0aDogIiArIHN0cik7Cn07CgpMb2dlci5SZWNlaXZlZCA9IGZ1bmN0aW9uIChzdHIpIHsKICAgIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09ICBSZWNlaXZlZCAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpCiAgICBjb25zb2xlLmxvZyhzdHIpCiAgICBzcGFjZXMoMSk7Cn07CgpmdW5jdGlvbiBzcGFjZXMobnVtKSB7CiAgICB2YXIgdiA9ICIiCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bTsgaSsrKSB7CiAgICAgICAgdiArPSAiICI7CiAgICAgICAgY29uc29sZS5sb2coIiIgKyB2KQogICAgfQp9CgpmdW5jdGlvbiBsaW5lcyhudW0pIHsKICAgIHZhciB2ID0gIiIKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtOyBpKyspIHsKICAgICAgICB2ICs9ICIgIjsKICAgICAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iICsgdikKICAgIH0KfQoKCnZhciBzZXJ2aWNlc19wcm9wZXJ0aWVzID0gW10KCi8vdmFyIGNhdGFsb2dLZXkgPSAiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2NhdGFsb2ciOwovL3ZhciBvcmRlcktleSA9ICJodHRwOi8vbG9jYWxob3N0OjgwODAvb3JkZXIiOwovL3ZhciBhY2NvdW50S2V5ID0gImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hY2NvdW50IjsKLy92YXIgc2VydmljZUtleSA9ICJodHRwOi8vbG9jYWxob3N0OjgwODAvc2VydmljZSI7Ci8vdmFyIHdzZGxQYXRoID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hY2NvdW50c2VydmljZSc7CnZhciBjYXRhbG9nS2V5ID0gc2VydmVyS2V5ID0gb3JkZXJLZXkgPSB3c2RsUGF0aCA9ICJ1bmRlZmluZWQiOwovKmFjY291bnRLZXkgPSovLyogc2VydmljZUtleSA9Ki8KCnZhciBzZXJ2ZXIgPSB7CiAgICBuYW1lc3BhY2VVUkw6ICdjb20uYWR2YW50YWdlLm9ubGluZS5zdG9yZS5hY2NvdW50c2VydmljZScsCgogICAgaGF2ZUludGVybmV0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHNlcnZlcktleS5pbmRleE9mKCJsb2NhbGhvc3QiKTsKICAgIH0sCgogICAgZ2V0S2V5OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHNlcnZlcktleTsKICAgIH0sCiAgICBzZXRLZXk6IGZ1bmN0aW9uIChfc2VydmVyS2V5KSB7CiAgICAgICAgc2VydmVyS2V5ID0gX3NlcnZlcktleTsKICAgIH0sCiAgICBzZXRDYXRhbG9nS2V5OiBmdW5jdGlvbiAoX2NhdGFsb2dLZXkpIHsKICAgICAgICBjYXRhbG9nS2V5ID0gX2NhdGFsb2dLZXk7CiAgICB9LAogICAgc2V0T3JkZXJLZXk6IGZ1bmN0aW9uIChfb3JkZXJLZXkpIHsKICAgICAgICBvcmRlcktleSA9IF9vcmRlcktleTsKICAgIH0sCiAgICBzZXRXc2RsUGF0aDogZnVuY3Rpb24gKF93c2RsUGF0aCkgewogICAgICAgIHdzZGxQYXRoID0gX3dzZGxQYXRoOwoKICAgICAgICBjb25zb2xlLmxvZygiRmlsZSBleHRyYWN0ZWQ6ICIpOwogICAgICAgIExvZ2VyLkV4dHJhY3QoIiIsICIiLCBbCiAgICAgICAgICAgICdDYXRhbG9nIHBhdGg6ICcgKyBjYXRhbG9nS2V5LAogICAgICAgICAgICAnT3JkZXIgcGF0aDogJyArIG9yZGVyS2V5LAogICAgICAgICAgICAvLydBY2NvdW50IHBhdGg6ICcgKyBhY2NvdW50S2V5LAogICAgICAgICAgICAvLydTZXJ2aWNlIHBhdGg6ICcgKyBzZXJ2aWNlS2V5LAogICAgICAgICAgICAnQWNjb3VudCBXU0RMIChXZWIgU2VydmljZXMgRGVzY3JpcHRpb24gTGFuZ3VhZ2UpIHBhdGg6ICcgKyB3c2RsUGF0aCwKICAgICAgICBdKTsKICAgIH0sCgogICAgY2F0YWxvZzogewoKICAgICAgICBnZXRLZXk6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIGNhdGFsb2dLZXk7CiAgICAgICAgfQogICAgICAgICwKCiAgICAgICAgbnZIYW5kbGVyOiBmdW5jdGlvbiAoY29kZSkgewogICAgICAgICAgICB2YXIgcGFyYW1Ub1JldHVybiA9IGNhdGFsb2dLZXkgKyAicHJvZHVjdHMvaWQvIiArIGNvZGU7CiAgICAgICAgICAgIExvZ2VyLkNhbGxpbmcocGFyYW1Ub1JldHVybik7CiAgICAgICAgICAgIHJldHVybiBwYXJhbVRvUmV0dXJuOwogICAgICAgIH0KICAgICAgICAsCgogICAgICAgIGdldFBvcHVsYXJQcm9kdWN0czogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgcGFyYW1Ub1JldHVybiA9ICJhcHAvdGVtcEZpbGVzL3BvcHVsYXJQcm9kdWN0cy5qc29uIjsKICAgICAgICAgICAgTG9nZXIuQ2FsbGluZyhwYXJhbVRvUmV0dXJuKTsKICAgICAgICAgICAgcmV0dXJuIHBhcmFtVG9SZXR1cm47CiAgICAgICAgfQogICAgICAgICwKCiAgICAgICAgZ2V0QWxsRGF0YTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgcGFyYW1Ub1JldHVybiA9IGNhdGFsb2dLZXkgKyAiY2F0ZWdvcmllcy9hbGxfZGF0YSI7CiAgICAgICAgICAgIExvZ2VyLkNhbGxpbmcocGFyYW1Ub1JldHVybik7CiAgICAgICAgICAgIHJldHVybiBwYXJhbVRvUmV0dXJuOwogICAgICAgIH0KICAgICAgICAsCgogICAgICAgIGdldE1vc3RQb3B1bGFyQ29tbWVudHM6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHBhcmFtVG9SZXR1cm4gPSBjYXRhbG9nS2V5ICsgIk1vc3RQb3B1bGFyQ29tbWVudHMiOwogICAgICAgICAgICBMb2dlci5DYWxsaW5nKHBhcmFtVG9SZXR1cm4pOwogICAgICAgICAgICByZXR1cm4gcGFyYW1Ub1JldHVybjsKICAgICAgICB9CiAgICAgICAgLAoKICAgICAgICBnZXRDYXRlZ29yaWVzOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBwYXJhbVRvUmV0dXJuID0gY2F0YWxvZ0tleSArICJjYXRlZ29yaWVzIjsKICAgICAgICAgICAgTG9nZXIuQ2FsbGluZyhwYXJhbVRvUmV0dXJuKTsKICAgICAgICAgICAgcmV0dXJuIHBhcmFtVG9SZXR1cm47CiAgICAgICAgfQogICAgICAgICwKCiAgICAgICAgZ2V0Q2F0ZWdvcnlCeUlkOiBmdW5jdGlvbiAoaWQpIHsKICAgICAgICAgICAgdmFyIHBhcmFtVG9SZXR1cm4gPSBjYXRhbG9nS2V5ICsgImNhdGVnb3JpZXMvIiArIGlkICsgIi9wcm9kdWN0cyI7CiAgICAgICAgICAgIExvZ2VyLkNhbGxpbmcocGFyYW1Ub1JldHVybik7CiAgICAgICAgICAgIHJldHVybiBwYXJhbVRvUmV0dXJuOwogICAgICAgIH0KICAgICAgICAsCgogICAgICAgIGdldERlYWxzOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBwYXJhbVRvUmV0dXJuID0gY2F0YWxvZ0tleSArICJkZWFscyI7CiAgICAgICAgICAgIExvZ2VyLkNhbGxpbmcocGFyYW1Ub1JldHVybik7CiAgICAgICAgICAgIHJldHVybiBwYXJhbVRvUmV0dXJuOwogICAgICAgIH0KICAgICAgICAsCgogICAgICAgIGdldERlYWxPZlRoZURheTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgcGFyYW1Ub1JldHVybiA9IGNhdGFsb2dLZXkgKyAiZGVhbHMvc2VhcmNoP2RlYWxPZlRoZURheT10cnVlIjsKICAgICAgICAgICAgTG9nZXIuQ2FsbGluZyhwYXJhbVRvUmV0dXJuKTsKICAgICAgICAgICAgcmV0dXJuIHBhcmFtVG9SZXR1cm47CiAgICAgICAgfQogICAgICAgICwKCiAgICAgICAgZ2V0UHJvZHVjdHM6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHBhcmFtVG9SZXR1cm4gPSBjYXRhbG9nS2V5ICsgInByb2R1Y3RzLmpzb24iOwogICAgICAgICAgICBMb2dlci5DYWxsaW5nKHBhcmFtVG9SZXR1cm4pOwogICAgICAgICAgICByZXR1cm4gcGFyYW1Ub1JldHVybjsKICAgICAgICB9CiAgICAgICAgLAoKICAgICAgICBnZXRQcm9kdWN0QnlJZDogZnVuY3Rpb24gKGlkKSB7CiAgICAgICAgICAgIHZhciBwYXJhbVRvUmV0dXJuID0gY2F0YWxvZ0tleSArICdwcm9kdWN0cy8nICsgaWQ7CiAgICAgICAgICAgIExvZ2VyLkNhbGxpbmcocGFyYW1Ub1JldHVybik7CiAgICAgICAgICAgIHJldHVybiBwYXJhbVRvUmV0dXJuOwogICAgICAgIH0KICAgICAgICAsCgogICAgICAgIGdldFByb2R1Y3RzQnlTZWFyY2g6IGZ1bmN0aW9uICh3b3JkLCBxdWFudGl0eSkgewogICAgICAgICAgICB2YXIgcGFyYW1Ub1JldHVybiA9IGNhdGFsb2dLZXkgKyAicHJvZHVjdHMvc2VhcmNoP25hbWU9IiArIHdvcmQ7CiAgICAgICAgICAgIGlmIChxdWFudGl0eSA+IDApIHsKICAgICAgICAgICAgICAgIHBhcmFtVG9SZXR1cm4gKz0gIiZxdWFudGl0eVBlckVhY2hDYXRlZ29yeT0iICsgcXVhbnRpdHk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgTG9nZXIuQ2FsbGluZyhwYXJhbVRvUmV0dXJuKTsKICAgICAgICAgICAgcmV0dXJuIHBhcmFtVG9SZXR1cm47CiAgICAgICAgfQogICAgICAgICwKCiAgICAgICAgZ2V0QWxsQ2F0ZWdvcmllc0F0dHJpYnV0ZXM6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHBhcmFtVG9SZXR1cm4gPSBjYXRhbG9nS2V5ICsgImNhdGVnb3JpZXMvYXR0cmlidXRlcyI7CiAgICAgICAgICAgIExvZ2VyLkNhbGxpbmcocGFyYW1Ub1JldHVybik7CiAgICAgICAgICAgIHJldHVybiBwYXJhbVRvUmV0dXJuOwogICAgICAgIH0KICAgICAgICAsCgogICAgICAgIHNlbmRTdXBwb3J0RW1haWw6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHBhcmFtVG9SZXR1cm4gPSBjYXRhbG9nS2V5ICsgInN1cHBvcnQvY29udGFjdF91cy9lbWFpbCI7CiAgICAgICAgICAgIExvZ2VyLkNhbGxpbmcocGFyYW1Ub1JldHVybik7CiAgICAgICAgICAgIHJldHVybiBwYXJhbVRvUmV0dXJuOwogICAgICAgIH0KICAgICAgICAsCgogICAgICAgIGdldENvbmZpZ3VyYXRpb25zOiBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB2YXIgcGFyYW1Ub1JldHVybiA9IGNhdGFsb2dLZXkgKyAiRGVtb0FwcENvbmZpZy9wYXJhbWV0ZXJzL2J5X3Rvb2wvQUxMIjsKICAgICAgICAgICAgTG9nZXIuQ2FsbGluZyhwYXJhbVRvUmV0dXJuKTsKICAgICAgICAgICAgcmV0dXJuIHBhcmFtVG9SZXR1cm47CiAgICAgICAgfQogICAgICAgICwKCiAgICAgICAgZ2V0QWNjb3VudENvbmZpZ3VyYXRpb246IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciB3c2RsVG9SZXR1cm4gPSB7CiAgICAgICAgICAgICAgICBwYXRoOiB3c2RsUGF0aCwKICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dldEFjY291bnRDb25maWd1cmF0aW9uUmVxdWVzdCcsCiAgICAgICAgICAgICAgICByZXNwb25zZTogIkdldEFjY291bnRDb25maWd1cmF0aW9uUmVzcG9uc2UiLAogICAgICAgICAgICB9CiAgICAgICAgICAgIExvZ2VyLkNhbGxpbmdXU0RMKHdzZGxUb1JldHVybik7CiAgICAgICAgICAgIHJldHVybiB3c2RsVG9SZXR1cm47CiAgICAgICAgfQogICAgICAgICwKCgogICAgfQogICAgLAogICAgb3JkZXI6IHsKCiAgICAgICAgdXBkYXRlVXNlckNhcnQ6IGZ1bmN0aW9uICh1c2VySWQpIHsKICAgICAgICAgICAgdmFyIHBhcmFtVG9SZXR1cm4gPSBvcmRlcktleSArICJjYXJ0cy8iICsgdXNlcklkOwogICAgICAgICAgICBMb2dlci5DYWxsaW5nKHBhcmFtVG9SZXR1cm4pOwogICAgICAgICAgICByZXR1cm4gcGFyYW1Ub1JldHVybjsKICAgICAgICB9CiAgICAgICAgLAoKICAgICAgICByZW1vdmVQcm9kdWN0VG9Vc2VyOiBmdW5jdGlvbiAodXNlcklkLCBwcm9kdWN0SWQsIGNvbG9yKSB7CiAgICAgICAgICAgIHZhciBwYXJhbVRvUmV0dXJuID0gb3JkZXJLZXkgKyAiY2FydHMvIiArIHVzZXJJZCArCiAgICAgICAgICAgICAgICAiL3Byb2R1Y3QvIiArIHByb2R1Y3RJZCArCiAgICAgICAgICAgICAgICAiL2NvbG9yLyIgKyBjb2xvcjsKICAgICAgICAgICAgTG9nZXIuQ2FsbGluZyhwYXJhbVRvUmV0dXJuKTsKICAgICAgICAgICAgcmV0dXJuIHBhcmFtVG9SZXR1cm47CiAgICAgICAgfQogICAgICAgICwKCiAgICAgICAgdXBkYXRlUHJvZHVjdFRvVXNlcjogZnVuY3Rpb24gKHVzZXJJZCwgcHJvZHVjdElkLCBjb2xvciwgcXVhbnRpdHksIG9sZENvbG9yKSB7CiAgICAgICAgICAgIHZhciBwYXRoID0gc2VydmVyLm9yZGVyLmFkZFByb2R1Y3RUb1VzZXIodXNlcklkLCBwcm9kdWN0SWQsIG9sZENvbG9yLCBxdWFudGl0eSk7CiAgICAgICAgICAgIHZhciBwYXJhbVRvUmV0dXJuID0gY29sb3IgIT0gb2xkQ29sb3IgPyBwYXRoICs9ICImbmV3X2NvbG9yPSIgKyBjb2xvciA6IHBhdGg7CiAgICAgICAgICAgIExvZ2VyLkNhbGxpbmcocGFyYW1Ub1JldHVybik7CiAgICAgICAgICAgIHJldHVybiBwYXJhbVRvUmV0dXJuOwogICAgICAgIH0KICAgICAgICAsCgogICAgICAgIGFkZFByb2R1Y3RUb1VzZXI6IGZ1bmN0aW9uICh1c2VySWQsIHByb2R1Y3RJZCwgY29sb3IsIHF1YW50aXR5LCBoYXNXYXJyYW50eSkgewogICAgICAgICAgICB2YXIgcGFyYW1Ub1JldHVybiA9IG9yZGVyS2V5ICsgImNhcnRzLyIgKyB1c2VySWQgKyAiL3Byb2R1Y3QvIiArIHByb2R1Y3RJZCArCiAgICAgICAgICAgICAgICAiL2NvbG9yLyIgKyBjb2xvciArICI/cXVhbnRpdHk9IiArIHF1YW50aXR5ICsgKGhhc1dhcnJhbnR5ICE9IG51bGwgJiYgaGFzV2FycmFudHkgPyAiJmhhc1dhcnJhbnR5PXRydWUiIDogIiIpOwogICAgICAgICAgICBMb2dlci5DYWxsaW5nKHBhcmFtVG9SZXR1cm4pOwogICAgICAgICAgICByZXR1cm4gcGFyYW1Ub1JldHVybjsKICAgICAgICB9CiAgICAgICAgLAoKICAgICAgICBsb2FkQ2FydFByb2R1Y3RzOiBmdW5jdGlvbiAodXNlcklkKSB7CiAgICAgICAgICAgIHZhciBwYXJhbVRvUmV0dXJuID0gb3JkZXJLZXkgKyAiY2FydHMvIiArIHVzZXJJZDsKICAgICAgICAgICAgTG9nZXIuQ2FsbGluZyhwYXJhbVRvUmV0dXJuKTsKICAgICAgICAgICAgcmV0dXJuIHBhcmFtVG9SZXR1cm47CiAgICAgICAgfQogICAgICAgICwKCiAgICAgICAgY2xlYXJDYXJ0OiBmdW5jdGlvbiAodXNlcklkKSB7CiAgICAgICAgICAgIHZhciBwYXJhbVRvUmV0dXJuID0gb3JkZXJLZXkgKyAiY2FydHMvIiArIHVzZXJJZDsKICAgICAgICAgICAgTG9nZXIuQ2FsbGluZyhwYXJhbVRvUmV0dXJuKTsKICAgICAgICAgICAgcmV0dXJuIHBhcmFtVG9SZXR1cm47CiAgICAgICAgfQogICAgICAgICwKCiAgICAgICAgZ2V0U2hpcHBpbmdDb3N0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBwYXJhbVRvUmV0dXJuID0gb3JkZXJLZXkgKyAic2hpcHBpbmdjb3N0LyI7CiAgICAgICAgICAgIExvZ2VyLkNhbGxpbmcocGFyYW1Ub1JldHVybik7CiAgICAgICAgICAgIHJldHVybiBwYXJhbVRvUmV0dXJuOwogICAgICAgIH0KICAgICAgICAsCgogICAgICAgIHNhZmVQYXk6IGZ1bmN0aW9uICh1c2VySWQpIHsKCiAgICAgICAgICAgIHZhciBwYXJhbVRvUmV0dXJuID0gb3JkZXJLZXkgKyAib3JkZXJzL3VzZXJzLyIgKyB1c2VySWQ7CiAgICAgICAgICAgIExvZ2VyLkNhbGxpbmcocGFyYW1Ub1JldHVybik7CiAgICAgICAgICAgIHJldHVybiBwYXJhbVRvUmV0dXJuOwogICAgICAgIH0KICAgICAgICAsCgogICAgICAgIGFjY291bnRVcGRhdGU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHdzZGxUb1JldHVybiA9IHsKICAgICAgICAgICAgICAgIHBhdGg6IHdzZGxQYXRoLAogICAgICAgICAgICAgICAgbWV0aG9kOiAnQWNjb3VudFVwZGF0ZVJlcXVlc3QnLAogICAgICAgICAgICAgICAgcmVzcG9uc2U6ICdBY2NvdW50VXBkYXRlUmVzcG9uc2UnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgTG9nZXIuQ2FsbGluZ1dTREwod3NkbFRvUmV0dXJuKTsKICAgICAgICAgICAgcmV0dXJuIHdzZGxUb1JldHVybjsKICAgICAgICB9LAoKICAgICAgICBkZWxldGVPcmRlcjogZnVuY3Rpb24ob3JkZXIsIHVzZXJJZCl7CiAgICAgICAgICAgIHZhciBwYXJhbVRvUmV0dXJuID0gb3JkZXJLZXkgKyAgIm9yZGVycy9oaXN0b3J5L3VzZXJzLyIgKyB1c2VySWQgKyAiLyIgKyBvcmRlci5vcmRlck51bWJlcjsKICAgICAgICAgICAgTG9nZXIuQ2FsbGluZyhwYXJhbVRvUmV0dXJuKTsKICAgICAgICAgICAgcmV0dXJuIHBhcmFtVG9SZXR1cm47CiAgICAgICAgfSwKCiAgICB9CiAgICAsCiAgICBhY2NvdW50OiB7CgogICAgICAgIGdldE9yZGVyczogZnVuY3Rpb24gKHVzZXJJZCkgewogICAgICAgICAgICB2YXIgcGFyYW1Ub1JldHVybiA9IG9yZGVyS2V5ICsgIm9yZGVycy9oaXN0b3J5L2xpbmVzL3VzZXJzLyIgKyB1c2VySWQ7CiAgICAgICAgICAgIExvZ2VyLkNhbGxpbmcocGFyYW1Ub1JldHVybik7CiAgICAgICAgICAgIHJldHVybiBwYXJhbVRvUmV0dXJuOwogICAgICAgIH0KICAgICAgICAsCgogICAgICAgIGdldEFsbENvdW50cmllczogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgd3NkbFRvUmV0dXJuID0gewogICAgICAgICAgICAgICAgcGF0aDogd3NkbFBhdGgsCiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHZXRDb3VudHJpZXNSZXF1ZXN0JywKICAgICAgICAgICAgICAgIHJlc3BvbnNlOiAnR2V0Q291bnRyaWVzUmVzcG9uc2UnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgTG9nZXIuQ2FsbGluZ1dTREwod3NkbFRvUmV0dXJuKTsKICAgICAgICAgICAgcmV0dXJuIHdzZGxUb1JldHVybjsKICAgICAgICB9CiAgICAgICAgLAoKICAgICAgICByZWdpc3RlcjogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgd3NkbFRvUmV0dXJuID0gewogICAgICAgICAgICAgICAgcGF0aDogd3NkbFBhdGgsCiAgICAgICAgICAgICAgICBtZXRob2Q6ICdBY2NvdW50Q3JlYXRlUmVxdWVzdCcsCiAgICAgICAgICAgICAgICByZXNwb25zZTogJ0FjY291bnRDcmVhdGVSZXNwb25zZScKICAgICAgICAgICAgfQogICAgICAgICAgICBMb2dlci5DYWxsaW5nV1NETCh3c2RsVG9SZXR1cm4pOwogICAgICAgICAgICByZXR1cm4gd3NkbFRvUmV0dXJuOwogICAgICAgIH0KICAgICAgICAsCgogICAgICAgIGxvZ2luOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciB3c2RsVG9SZXR1cm4gPSB7CiAgICAgICAgICAgICAgICBwYXRoOiB3c2RsUGF0aCwKICAgICAgICAgICAgICAgIG1ldGhvZDogJ0FjY291bnRMb2dpblJlcXVlc3QnLAogICAgICAgICAgICAgICAgcmVzcG9uc2U6ICdBY2NvdW50TG9naW5SZXNwb25zZScKICAgICAgICAgICAgfQogICAgICAgICAgICBMb2dlci5DYWxsaW5nV1NETCh3c2RsVG9SZXR1cm4pOwogICAgICAgICAgICByZXR1cm4gd3NkbFRvUmV0dXJuOwogICAgICAgIH0KICAgICAgICAsCgogICAgICAgIGdldEFjY291bnRCeUlkOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciB3c2RsVG9SZXR1cm4gPSB7CiAgICAgICAgICAgICAgICBwYXRoOiB3c2RsUGF0aCwKICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dldEFjY291bnRCeUlkUmVxdWVzdCcsCiAgICAgICAgICAgICAgICByZXNwb25zZTogJ0dldEFjY291bnRCeUlkUmVzcG9uc2UnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgTG9nZXIuQ2FsbGluZ1dTREwod3NkbFRvUmV0dXJuKTsKICAgICAgICAgICAgcmV0dXJuIHdzZGxUb1JldHVybjsKICAgICAgICB9CiAgICAgICAgLAoKICAgICAgICBnZXRBY2NvdW50QnlJZF9uZXc6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHdzZGxUb1JldHVybiA9IHsKICAgICAgICAgICAgICAgIHBhdGg6IHdzZGxQYXRoLAogICAgICAgICAgICAgICAgbWV0aG9kOiAnR2V0QWNjb3VudEJ5SWROZXdSZXF1ZXN0JywKICAgICAgICAgICAgICAgIHJlc3BvbnNlOiAnR2V0QWNjb3VudEJ5SWROZXdSZXNwb25zZScKICAgICAgICAgICAgfQogICAgICAgICAgICBMb2dlci5DYWxsaW5nV1NETCh3c2RsVG9SZXR1cm4pOwogICAgICAgICAgICByZXR1cm4gd3NkbFRvUmV0dXJuOwogICAgICAgIH0KICAgICAgICAsCgogICAgICAgIGdldEFjY291bnRQYXltZW50UHJlZmVyZW5jZXM6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHdzZGxUb1JldHVybiA9IHsKICAgICAgICAgICAgICAgIHBhdGg6IHdzZGxQYXRoLAogICAgICAgICAgICAgICAgbWV0aG9kOiAnR2V0QWNjb3VudFBheW1lbnRQcmVmZXJlbmNlc1JlcXVlc3QnLAogICAgICAgICAgICAgICAgcmVzcG9uc2U6ICdQYXltZW50UHJlZmVyZW5jZXMnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgTG9nZXIuQ2FsbGluZ1dTREwod3NkbFRvUmV0dXJuKTsKICAgICAgICAgICAgcmV0dXJuIHdzZGxUb1JldHVybjsKICAgICAgICB9CiAgICAgICAgLAoKICAgICAgICBnZXRBZGRyZXNzZXNCeUFjY291bnRJZDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgd3NkbFRvUmV0dXJuID0gewogICAgICAgICAgICAgICAgcGF0aDogd3NkbFBhdGgsCiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHZXRBZGRyZXNzZXNCeUFjY291bnRJZFJlcXVlc3QnLAogICAgICAgICAgICAgICAgcmVzcG9uc2U6ICdHZXRBZGRyZXNzZXNCeUFjY291bnRJZFJlc3BvbnNlJwogICAgICAgICAgICB9CiAgICAgICAgICAgIExvZ2VyLkNhbGxpbmdXU0RMKHdzZGxUb1JldHVybik7CiAgICAgICAgICAgIHJldHVybiB3c2RsVG9SZXR1cm47CiAgICAgICAgfQogICAgICAgICwKICAgICAgICBkZWxldGVBY2NvdW50OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciB3c2RsVG9SZXR1cm4gPSB7CiAgICAgICAgICAgICAgICBwYXRoOiB3c2RsUGF0aCwKICAgICAgICAgICAgICAgIG1ldGhvZDogJ0FjY291bnRQZXJtYW5lbnREZWxldGVSZXF1ZXN0JywKICAgICAgICAgICAgICAgIHJlc3BvbnNlOiAnYWNjb3VudFBlcm1hbmVudERlbGV0ZVJlc3BvbnNlJwogICAgICAgICAgICB9CiAgICAgICAgICAgIExvZ2VyLkNhbGxpbmdXU0RMKHdzZGxUb1JldHVybik7CiAgICAgICAgICAgIHJldHVybiB3c2RsVG9SZXR1cm47CiAgICAgICAgfQogICAgICAgICwKCiAgICAgICAgYWNjb3VudFVwZGF0ZTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgd3NkbFRvUmV0dXJuID0gewogICAgICAgICAgICAgICAgcGF0aDogd3NkbFBhdGgsCiAgICAgICAgICAgICAgICBtZXRob2Q6ICdBY2NvdW50VXBkYXRlUmVxdWVzdCcsCiAgICAgICAgICAgICAgICByZXNwb25zZTogJ0FjY291bnRVcGRhdGVSZXNwb25zZScKICAgICAgICAgICAgfQogICAgICAgICAgICBMb2dlci5DYWxsaW5nV1NETCh3c2RsVG9SZXR1cm4pOwogICAgICAgICAgICByZXR1cm4gd3NkbFRvUmV0dXJuOwogICAgICAgIH0KICAgICAgICAsCgogICAgICAgIHVwZGF0ZU1hc3RlckNyZWRpdE1ldGhvZDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgd3NkbFRvUmV0dXJuID0gewogICAgICAgICAgICAgICAgcGF0aDogd3NkbFBhdGgsCiAgICAgICAgICAgICAgICBtZXRob2Q6ICdVcGRhdGVNYXN0ZXJDcmVkaXRNZXRob2RSZXF1ZXN0JywKICAgICAgICAgICAgICAgIHJlc3BvbnNlOiAnVXBkYXRlTWFzdGVyQ3JlZGl0TWV0aG9kUmVzcG9uc2UnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgTG9nZXIuQ2FsbGluZ1dTREwod3NkbFRvUmV0dXJuKTsKICAgICAgICAgICAgcmV0dXJuIHdzZGxUb1JldHVybjsKICAgICAgICB9CiAgICAgICAgLAoKICAgICAgICBhZGRNYXN0ZXJDcmVkaXRNZXRob2Q6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHdzZGxUb1JldHVybiA9IHsKICAgICAgICAgICAgICAgIHBhdGg6IHdzZGxQYXRoLAogICAgICAgICAgICAgICAgbWV0aG9kOiAnQWRkTWFzdGVyQ3JlZGl0TWV0aG9kUmVxdWVzdCcsCiAgICAgICAgICAgICAgICByZXNwb25zZTogJ1BheW1lbnRQcmVmZXJlbmNlc1N0YXR1c1Jlc3BvbnNlJwogICAgICAgICAgICB9CiAgICAgICAgICAgIExvZ2VyLkNhbGxpbmdXU0RMKHdzZGxUb1JldHVybik7CiAgICAgICAgICAgIHJldHVybiB3c2RsVG9SZXR1cm47CiAgICAgICAgfQogICAgICAgICwKCiAgICAgICAgdXBkYXRlU2FmZVBheU1ldGhvZDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgd3NkbFRvUmV0dXJuID0gewogICAgICAgICAgICAgICAgcGF0aDogd3NkbFBhdGgsCiAgICAgICAgICAgICAgICBtZXRob2Q6ICdVcGRhdGVTYWZlUGF5TWV0aG9kUmVxdWVzdCcsCiAgICAgICAgICAgICAgICByZXNwb25zZTogJ1VwZGF0ZVNhZmVQYXlNZXRob2RSZXNwb25zZScKICAgICAgICAgICAgfQogICAgICAgICAgICBMb2dlci5DYWxsaW5nV1NETCh3c2RsVG9SZXR1cm4pOwogICAgICAgICAgICByZXR1cm4gd3NkbFRvUmV0dXJuOwogICAgICAgIH0KICAgICAgICAsCgogICAgICAgIGFkZFNhZmVQYXlNZXRob2Q6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHdzZGxUb1JldHVybiA9IHsKICAgICAgICAgICAgICAgIHBhdGg6IHdzZGxQYXRoLAogICAgICAgICAgICAgICAgbWV0aG9kOiAnQWRkU2FmZVBheU1ldGhvZFJlcXVlc3QnLAogICAgICAgICAgICAgICAgcmVzcG9uc2U6ICdBZGRTYWZlUGF5TWV0aG9kUmVzcG9uc2UnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgTG9nZXIuQ2FsbGluZ1dTREwod3NkbFRvUmV0dXJuKTsKICAgICAgICAgICAgcmV0dXJuIHdzZGxUb1JldHVybjsKICAgICAgICB9CiAgICAgICAgLAoKICAgICAgICBjaGFuZ2VQYXNzd29yZDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgd3NkbFRvUmV0dXJuID0gewogICAgICAgICAgICAgICAgcGF0aDogd3NkbFBhdGgsCiAgICAgICAgICAgICAgICBtZXRob2Q6ICdDaGFuZ2VQYXNzd29yZFJlcXVlc3QnLAogICAgICAgICAgICAgICAgcmVzcG9uc2U6ICdDaGFuZ2VQYXNzd29yZFJlc3BvbnNlJwogICAgICAgICAgICB9CiAgICAgICAgICAgIExvZ2VyLkNhbGxpbmdXU0RMKHdzZGxUb1JldHVybik7CiAgICAgICAgICAgIHJldHVybiB3c2RsVG9SZXR1cm47CiAgICAgICAgfQogICAgICAgICwKCiAgICAgICAgYWNjb3VudExvZ291dDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgd3NkbFRvUmV0dXJuID0gewogICAgICAgICAgICAgICAgcGF0aDogd3NkbFBhdGgsCiAgICAgICAgICAgICAgICBtZXRob2Q6ICdBY2NvdW50TG9nb3V0UmVxdWVzdCcsCiAgICAgICAgICAgICAgICByZXNwb25zZTogJ0FjY291bnRMb2dvdXRSZXNwb25zZScKICAgICAgICAgICAgfQogICAgICAgICAgICBMb2dlci5DYWxsaW5nV1NETCh3c2RsVG9SZXR1cm4pOwogICAgICAgICAgICByZXR1cm4gd3NkbFRvUmV0dXJuOwogICAgICAgIH0KICAgICAgICAsCgogICAgICAgIHBheW1lbnRNZXRob2RVcGRhdGU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHdzZGxUb1JldHVybiA9IHsKICAgICAgICAgICAgICAgIHBhdGg6IHdzZGxQYXRoLAogICAgICAgICAgICAgICAgbWV0aG9kOiAnUGF5bWVudE1ldGhvZFVwZGF0ZVJlcXVlc3QnLAogICAgICAgICAgICAgICAgcmVzcG9uc2U6ICdQYXltZW50TWV0aG9kVXBkYXRlUmVzcG9uc2UnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgTG9nZXIuQ2FsbGluZ1dTREwod3NkbFRvUmV0dXJuKTsKICAgICAgICAgICAgcmV0dXJuIHdzZGxUb1JldHVybjsKICAgICAgICB9LAoKICAgICAgICBmYWNlYm9va0xvZ2luIDogZnVuY3Rpb24oKXsKICAgICAgICAgICAgdmFyIHBhcmFtVG9SZXR1cm4gPSBjYXRhbG9nS2V5ICsgImZhY2Vib29rTG9naW4iOwogICAgICAgICAgICBMb2dlci5DYWxsaW5nKHBhcmFtVG9SZXR1cm4pOwogICAgICAgICAgICByZXR1cm4gcGFyYW1Ub1JldHVybjsKICAgICAgICB9CiAgICB9CiAgICAsCn0KOwpkZWZpbmUoInNlcnZlciIsIGZ1bmN0aW9uKCl7fSk7CgovKiEgbm91aXNsaWRlciAtIDguMi4xIC0gMjAxNS0xMi0wMiAyMTo0MzoxNCAqLwoKKGZ1bmN0aW9uIChmYWN0b3J5KSB7CgoJLyoKCiAgICBpZiAoIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHsKCiAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLgogICAgICAgIGRlZmluZShbXSwgZmFjdG9yeSk7CgogICAgfSBlbHNlIGlmICggdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICkgewoKICAgICAgICAvLyBOb2RlL0NvbW1vbkpTCiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7CgogICAgfSBlbHNlIHsKCiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzCiAgICAgKi8KCXdpbmRvdy5ub1VpU2xpZGVyID0gZmFjdG9yeSgpOwogICAgLy99Cgp9CgooZnVuY3Rpb24oICl7CgoJJ3VzZSBzdHJpY3QnOwoKCgkvLyBSZW1vdmVzIGR1cGxpY2F0ZXMgZnJvbSBhbiBhcnJheS4KCWZ1bmN0aW9uIHVuaXF1ZShhcnJheSkgewoJCXJldHVybiBhcnJheS5maWx0ZXIoZnVuY3Rpb24oYSl7CgkJCXJldHVybiAhdGhpc1thXSA/IHRoaXNbYV0gPSB0cnVlIDogZmFsc2U7CgkJfSwge30pOwoJfQoKCS8vIFJvdW5kIGEgdmFsdWUgdG8gdGhlIGNsb3Nlc3QgJ3RvJy4KCWZ1bmN0aW9uIGNsb3Nlc3QgKCB2YWx1ZSwgdG8gKSB7CgkJcmV0dXJuIE1hdGgucm91bmQodmFsdWUgLyB0bykgKiB0bzsKCX0KCgkvLyBDdXJyZW50IHBvc2l0aW9uIG9mIGFuIGVsZW1lbnQgcmVsYXRpdmUgdG8gdGhlIGRvY3VtZW50LgoJZnVuY3Rpb24gb2Zmc2V0ICggZWxlbSApIHsKCgl2YXIgcmVjdCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksCgkJZG9jID0gZWxlbS5vd25lckRvY3VtZW50LAoJCWRvY0VsZW0gPSBkb2MuZG9jdW1lbnRFbGVtZW50LAoJCXBhZ2VPZmZzZXQgPSBnZXRQYWdlT2Zmc2V0KCk7CgoJCS8vIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBjb250YWlucyBsZWZ0IHNjcm9sbCBpbiBDaHJvbWUgb24gQW5kcm9pZC4KCQkvLyBJIGhhdmVuJ3QgZm91bmQgYSBmZWF0dXJlIGRldGVjdGlvbiB0aGF0IHByb3ZlcyB0aGlzLiBXb3JzdCBjYXNlCgkJLy8gc2NlbmFyaW8gb24gbWlzLW1hdGNoOiB0aGUgJ3RhcCcgZmVhdHVyZSBvbiBob3Jpem9udGFsIHNsaWRlcnMgYnJlYWtzLgoJCWlmICggL3dlYmtpdC4qQ2hyb21lLipNb2JpbGUvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICkgewoJCQlwYWdlT2Zmc2V0LnggPSAwOwoJCX0KCgkJcmV0dXJuIHsKCQkJdG9wOiByZWN0LnRvcCArIHBhZ2VPZmZzZXQueSAtIGRvY0VsZW0uY2xpZW50VG9wLAoJCQlsZWZ0OiByZWN0LmxlZnQgKyBwYWdlT2Zmc2V0LnggLSBkb2NFbGVtLmNsaWVudExlZnQKCQl9OwoJfQoKCS8vIENoZWNrcyB3aGV0aGVyIGEgdmFsdWUgaXMgbnVtZXJpY2FsLgoJZnVuY3Rpb24gaXNOdW1lcmljICggYSApIHsKCQlyZXR1cm4gdHlwZW9mIGEgPT09ICdudW1iZXInICYmICFpc05hTiggYSApICYmIGlzRmluaXRlKCBhICk7Cgl9CgoJLy8gUm91bmRzIGEgbnVtYmVyIHRvIDcgc3VwcG9ydGVkIGRlY2ltYWxzLgoJZnVuY3Rpb24gYWNjdXJhdGVOdW1iZXIoIG51bWJlciApIHsKCQl2YXIgcCA9IE1hdGgucG93KDEwLCA3KTsKCQlyZXR1cm4gTnVtYmVyKChNYXRoLnJvdW5kKG51bWJlcipwKS9wKS50b0ZpeGVkKDcpKTsKCX0KCgkvLyBTZXRzIGEgY2xhc3MgYW5kIHJlbW92ZXMgaXQgYWZ0ZXIgW2R1cmF0aW9uXSBtcy4KCWZ1bmN0aW9uIGFkZENsYXNzRm9yICggZWxlbWVudCwgY2xhc3NOYW1lLCBkdXJhdGlvbiApIHsKCQlhZGRDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpOwoJCXNldFRpbWVvdXQoZnVuY3Rpb24oKXsKCQkJcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTsKCQl9LCBkdXJhdGlvbik7Cgl9CgoJLy8gTGltaXRzIGEgdmFsdWUgdG8gMCAtIDEwMAoJZnVuY3Rpb24gbGltaXQgKCBhICkgewoJCXJldHVybiBNYXRoLm1heChNYXRoLm1pbihhLCAxMDApLCAwKTsKCX0KCgkvLyBXcmFwcyBhIHZhcmlhYmxlIGFzIGFuIGFycmF5LCBpZiBpdCBpc24ndCBvbmUgeWV0LgoJZnVuY3Rpb24gYXNBcnJheSAoIGEgKSB7CgkJcmV0dXJuIEFycmF5LmlzQXJyYXkoYSkgPyBhIDogW2FdOwoJfQoKCS8vIENvdW50cyBkZWNpbWFscwoJZnVuY3Rpb24gY291bnREZWNpbWFscyAoIG51bVN0ciApIHsKCQl2YXIgcGllY2VzID0gbnVtU3RyLnNwbGl0KCIuIik7CgkJcmV0dXJuIHBpZWNlcy5sZW5ndGggPiAxID8gcGllY2VzWzFdLmxlbmd0aCA6IDA7Cgl9CgoJLy8gaHR0cDovL3lvdW1pZ2h0bm90bmVlZGpxdWVyeS5jb20vI2FkZF9jbGFzcwoJZnVuY3Rpb24gYWRkQ2xhc3MgKCBlbCwgY2xhc3NOYW1lICkgewoJCWlmICggZWwuY2xhc3NMaXN0ICkgewoJCQllbC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7CgkJfSBlbHNlIHsKCQkJZWwuY2xhc3NOYW1lICs9ICcgJyArIGNsYXNzTmFtZTsKCQl9Cgl9CgoJLy8gaHR0cDovL3lvdW1pZ2h0bm90bmVlZGpxdWVyeS5jb20vI3JlbW92ZV9jbGFzcwoJZnVuY3Rpb24gcmVtb3ZlQ2xhc3MgKCBlbCwgY2xhc3NOYW1lICkgewoJCWlmICggZWwuY2xhc3NMaXN0ICkgewoJCQllbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7CgkJfSBlbHNlIHsKCQkJZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cCgnKF58XFxiKScgKyBjbGFzc05hbWUuc3BsaXQoJyAnKS5qb2luKCd8JykgKyAnKFxcYnwkKScsICdnaScpLCAnICcpOwoJCX0KCX0KCgkvLyBodHRwOi8veW91bWlnaHRub3RuZWVkanF1ZXJ5LmNvbS8jaGFzX2NsYXNzCglmdW5jdGlvbiBoYXNDbGFzcyAoIGVsLCBjbGFzc05hbWUgKSB7CgkJaWYgKCBlbC5jbGFzc0xpc3QgKSB7CgkJCWVsLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpOwoJCX0gZWxzZSB7CgkJCW5ldyBSZWdFeHAoJyhefCApJyArIGNsYXNzTmFtZSArICcoIHwkKScsICdnaScpLnRlc3QoZWwuY2xhc3NOYW1lKTsKCQl9Cgl9CgoJLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dpbmRvdy9zY3JvbGxZI05vdGVzCglmdW5jdGlvbiBnZXRQYWdlT2Zmc2V0ICggKSB7CgoJCXZhciBzdXBwb3J0UGFnZU9mZnNldCA9IHdpbmRvdy5wYWdlWE9mZnNldCAhPT0gdW5kZWZpbmVkLAoJCQlpc0NTUzFDb21wYXQgPSAoKGRvY3VtZW50LmNvbXBhdE1vZGUgfHwgIiIpID09PSAiQ1NTMUNvbXBhdCIpLAoJCQl4ID0gc3VwcG9ydFBhZ2VPZmZzZXQgPyB3aW5kb3cucGFnZVhPZmZzZXQgOiBpc0NTUzFDb21wYXQgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCA6IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCwKCQkJeSA9IHN1cHBvcnRQYWdlT2Zmc2V0ID8gd2luZG93LnBhZ2VZT2Zmc2V0IDogaXNDU1MxQ29tcGF0ID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA6IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wOwoKCQlyZXR1cm4gewoJCQl4OiB4LAoJCQl5OiB5CgkJfTsKCX0KCgkvLyBTaG9ydGhhbmQgZm9yIHN0b3BQcm9wYWdhdGlvbiBzbyB3ZSBkb24ndCBoYXZlIHRvIGNyZWF0ZSBhIGR5bmFtaWMgbWV0aG9kCglmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24gKCBlICkgewoJCWUuc3RvcFByb3BhZ2F0aW9uKCk7Cgl9CgoJLy8gdG9kbwoJZnVuY3Rpb24gYWRkQ3NzUHJlZml4KGNzc1ByZWZpeCkgewoJCXJldHVybiBmdW5jdGlvbihjbGFzc05hbWUpIHsKCQkJcmV0dXJuIGNzc1ByZWZpeCArIGNsYXNzTmFtZTsKCQl9OwoJfQoKCgl2YXIKCS8vIERldGVybWluZSB0aGUgZXZlbnRzIHRvIGJpbmQuIElFMTEgaW1wbGVtZW50cyBwb2ludGVyRXZlbnRzIHdpdGhvdXQKCS8vIGEgcHJlZml4LCB3aGljaCBicmVha3MgY29tcGF0aWJpbGl0eSB3aXRoIHRoZSBJRTEwIGltcGxlbWVudGF0aW9uLgoJLyoqIEBjb25zdCAqLwoJYWN0aW9ucyA9IHdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQgPyB7CgkJc3RhcnQ6ICdwb2ludGVyZG93bicsCgkJbW92ZTogJ3BvaW50ZXJtb3ZlJywKCQllbmQ6ICdwb2ludGVydXAnCgl9IDogd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkID8gewoJCXN0YXJ0OiAnTVNQb2ludGVyRG93bicsCgkJbW92ZTogJ01TUG9pbnRlck1vdmUnLAoJCWVuZDogJ01TUG9pbnRlclVwJwoJfSA6IHsKCQlzdGFydDogJ21vdXNlZG93biB0b3VjaHN0YXJ0JywKCQltb3ZlOiAnbW91c2Vtb3ZlIHRvdWNobW92ZScsCgkJZW5kOiAnbW91c2V1cCB0b3VjaGVuZCcKCX0sCglkZWZhdWx0Q3NzUHJlZml4ID0gJ25vVWktJzsKCgovLyBWYWx1ZSBjYWxjdWxhdGlvbgoKCS8vIERldGVybWluZSB0aGUgc2l6ZSBvZiBhIHN1Yi1yYW5nZSBpbiByZWxhdGlvbiB0byBhIGZ1bGwgcmFuZ2UuCglmdW5jdGlvbiBzdWJSYW5nZVJhdGlvICggcGEsIHBiICkgewoJCXJldHVybiAoMTAwIC8gKHBiIC0gcGEpKTsKCX0KCgkvLyAocGVyY2VudGFnZSkgSG93IG1hbnkgcGVyY2VudCBpcyB0aGlzIHZhbHVlIG9mIHRoaXMgcmFuZ2U/CglmdW5jdGlvbiBmcm9tUGVyY2VudGFnZSAoIHJhbmdlLCB2YWx1ZSApIHsKCQlyZXR1cm4gKHZhbHVlICogMTAwKSAvICggcmFuZ2VbMV0gLSByYW5nZVswXSApOwoJfQoKCS8vIChwZXJjZW50YWdlKSBXaGVyZSBpcyB0aGlzIHZhbHVlIG9uIHRoaXMgcmFuZ2U/CglmdW5jdGlvbiB0b1BlcmNlbnRhZ2UgKCByYW5nZSwgdmFsdWUgKSB7CgkJcmV0dXJuIGZyb21QZXJjZW50YWdlKCByYW5nZSwgcmFuZ2VbMF0gPCAwID8KCQkJdmFsdWUgKyBNYXRoLmFicyhyYW5nZVswXSkgOgoJCQkJdmFsdWUgLSByYW5nZVswXSApOwoJfQoKCS8vICh2YWx1ZSkgSG93IG11Y2ggaXMgdGhpcyBwZXJjZW50YWdlIG9uIHRoaXMgcmFuZ2U/CglmdW5jdGlvbiBpc1BlcmNlbnRhZ2UgKCByYW5nZSwgdmFsdWUgKSB7CgkJcmV0dXJuICgodmFsdWUgKiAoIHJhbmdlWzFdIC0gcmFuZ2VbMF0gKSkgLyAxMDApICsgcmFuZ2VbMF07Cgl9CgoKLy8gUmFuZ2UgY29udmVyc2lvbgoKCWZ1bmN0aW9uIGdldEogKCB2YWx1ZSwgYXJyICkgewoKCQl2YXIgaiA9IDE7CgoJCXdoaWxlICggdmFsdWUgPj0gYXJyW2pdICl7CgkJCWogKz0gMTsKCQl9CgoJCXJldHVybiBqOwoJfQoKCS8vIChwZXJjZW50YWdlKSBJbnB1dCBhIHZhbHVlLCBmaW5kIHdoZXJlLCBvbiBhIHNjYWxlIG9mIDAtMTAwLCBpdCBhcHBsaWVzLgoJZnVuY3Rpb24gdG9TdGVwcGluZyAoIHhWYWwsIHhQY3QsIHZhbHVlICkgewoKCQlpZiAoIHZhbHVlID49IHhWYWwuc2xpY2UoLTEpWzBdICl7CgkJCXJldHVybiAxMDA7CgkJfQoKCQl2YXIgaiA9IGdldEooIHZhbHVlLCB4VmFsICksIHZhLCB2YiwgcGEsIHBiOwoKCQl2YSA9IHhWYWxbai0xXTsKCQl2YiA9IHhWYWxbal07CgkJcGEgPSB4UGN0W2otMV07CgkJcGIgPSB4UGN0W2pdOwoKCQlyZXR1cm4gcGEgKyAodG9QZXJjZW50YWdlKFt2YSwgdmJdLCB2YWx1ZSkgLyBzdWJSYW5nZVJhdGlvIChwYSwgcGIpKTsKCX0KCgkvLyAodmFsdWUpIElucHV0IGEgcGVyY2VudGFnZSwgZmluZCB3aGVyZSBpdCBpcyBvbiB0aGUgc3BlY2lmaWVkIHJhbmdlLgoJZnVuY3Rpb24gZnJvbVN0ZXBwaW5nICggeFZhbCwgeFBjdCwgdmFsdWUgKSB7CgoJCS8vIFRoZXJlIGlzIG5vIHJhbmdlIGdyb3VwIHRoYXQgZml0cyAxMDAKCQlpZiAoIHZhbHVlID49IDEwMCApewoJCQlyZXR1cm4geFZhbC5zbGljZSgtMSlbMF07CgkJfQoKCQl2YXIgaiA9IGdldEooIHZhbHVlLCB4UGN0ICksIHZhLCB2YiwgcGEsIHBiOwoKCQl2YSA9IHhWYWxbai0xXTsKCQl2YiA9IHhWYWxbal07CgkJcGEgPSB4UGN0W2otMV07CgkJcGIgPSB4UGN0W2pdOwoKCQlyZXR1cm4gaXNQZXJjZW50YWdlKFt2YSwgdmJdLCAodmFsdWUgLSBwYSkgKiBzdWJSYW5nZVJhdGlvIChwYSwgcGIpKTsKCX0KCgkvLyAocGVyY2VudGFnZSkgR2V0IHRoZSBzdGVwIHRoYXQgYXBwbGllcyBhdCBhIGNlcnRhaW4gdmFsdWUuCglmdW5jdGlvbiBnZXRTdGVwICggeFBjdCwgeFN0ZXBzLCBzbmFwLCB2YWx1ZSApIHsKCgkJaWYgKCB2YWx1ZSA9PT0gMTAwICkgewoJCQlyZXR1cm4gdmFsdWU7CgkJfQoKCQl2YXIgaiA9IGdldEooIHZhbHVlLCB4UGN0ICksIGEsIGI7CgoJCS8vIElmICdzbmFwJyBpcyBzZXQsIHN0ZXBzIGFyZSB1c2VkIGFzIGZpeGVkIHBvaW50cyBvbiB0aGUgc2xpZGVyLgoJCWlmICggc25hcCApIHsKCgkJCWEgPSB4UGN0W2otMV07CgkJCWIgPSB4UGN0W2pdOwoKCQkJLy8gRmluZCB0aGUgY2xvc2VzdCBwb3NpdGlvbiwgYSBvciBiLgoJCQlpZiAoKHZhbHVlIC0gYSkgPiAoKGItYSkvMikpewoJCQkJcmV0dXJuIGI7CgkJCX0KCgkJCXJldHVybiBhOwoJCX0KCgkJaWYgKCAheFN0ZXBzW2otMV0gKXsKCQkJcmV0dXJuIHZhbHVlOwoJCX0KCgkJcmV0dXJuIHhQY3Rbai0xXSArIGNsb3Nlc3QoCgkJCXZhbHVlIC0geFBjdFtqLTFdLAoJCQl4U3RlcHNbai0xXQoJCSk7Cgl9CgoKLy8gRW50cnkgcGFyc2luZwoKCWZ1bmN0aW9uIGhhbmRsZUVudHJ5UG9pbnQgKCBpbmRleCwgdmFsdWUsIHRoYXQgKSB7CgoJCXZhciBwZXJjZW50YWdlOwoKCQkvLyBXcmFwIG51bWVyaWNhbCBpbnB1dCBpbiBhbiBhcnJheS4KCQlpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gIm51bWJlciIgKSB7CgkJCXZhbHVlID0gW3ZhbHVlXTsKCQl9CgoJCS8vIFJlamVjdCBhbnkgaW52YWxpZCBpbnB1dCwgYnkgdGVzdGluZyB3aGV0aGVyIHZhbHVlIGlzIGFuIGFycmF5LgoJCWlmICggT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKCB2YWx1ZSApICE9PSAnW29iamVjdCBBcnJheV0nICl7CgkJCXRocm93IG5ldyBFcnJvcigibm9VaVNsaWRlcjogJ3JhbmdlJyBjb250YWlucyBpbnZhbGlkIHZhbHVlLiIpOwoJCX0KCgkJLy8gQ292ZXJ0IG1pbi9tYXggc3ludGF4IHRvIDAgYW5kIDEwMC4KCQlpZiAoIGluZGV4ID09PSAnbWluJyApIHsKCQkJcGVyY2VudGFnZSA9IDA7CgkJfSBlbHNlIGlmICggaW5kZXggPT09ICdtYXgnICkgewoJCQlwZXJjZW50YWdlID0gMTAwOwoJCX0gZWxzZSB7CgkJCXBlcmNlbnRhZ2UgPSBwYXJzZUZsb2F0KCBpbmRleCApOwoJCX0KCgkJLy8gQ2hlY2sgZm9yIGNvcnJlY3QgaW5wdXQuCgkJaWYgKCAhaXNOdW1lcmljKCBwZXJjZW50YWdlICkgfHwgIWlzTnVtZXJpYyggdmFsdWVbMF0gKSApIHsKCQkJdGhyb3cgbmV3IEVycm9yKCJub1VpU2xpZGVyOiAncmFuZ2UnIHZhbHVlIGlzbid0IG51bWVyaWMuIik7CgkJfQoKCQkvLyBTdG9yZSB2YWx1ZXMuCgkJdGhhdC54UGN0LnB1c2goIHBlcmNlbnRhZ2UgKTsKCQl0aGF0LnhWYWwucHVzaCggdmFsdWVbMF0gKTsKCgkJLy8gTmFOIHdpbGwgZXZhbHVhdGUgdG8gZmFsc2UgdG9vLCBidXQgdG8ga2VlcAoJCS8vIGxvZ2dpbmcgY2xlYXIsIHNldCBzdGVwIGV4cGxpY2l0bHkuIE1ha2Ugc3VyZQoJCS8vIG5vdCB0byBvdmVycmlkZSB0aGUgJ3N0ZXAnIHNldHRpbmcgd2l0aCBmYWxzZS4KCQlpZiAoICFwZXJjZW50YWdlICkgewoJCQlpZiAoICFpc05hTiggdmFsdWVbMV0gKSApIHsKCQkJCXRoYXQueFN0ZXBzWzBdID0gdmFsdWVbMV07CgkJCX0KCQl9IGVsc2UgewoJCQl0aGF0LnhTdGVwcy5wdXNoKCBpc05hTih2YWx1ZVsxXSkgPyBmYWxzZSA6IHZhbHVlWzFdICk7CgkJfQoJfQoKCWZ1bmN0aW9uIGhhbmRsZVN0ZXBQb2ludCAoIGksIG4sIHRoYXQgKSB7CgoJCS8vIElnbm9yZSAnZmFsc2UnIHN0ZXBwaW5nLgoJCWlmICggIW4gKSB7CgkJCXJldHVybiB0cnVlOwoJCX0KCgkJLy8gRmFjdG9yIHRvIHJhbmdlIHJhdGlvCgkJdGhhdC54U3RlcHNbaV0gPSBmcm9tUGVyY2VudGFnZShbCgkJCSB0aGF0LnhWYWxbaV0KCQkJLHRoYXQueFZhbFtpKzFdCgkJXSwgbikgLyBzdWJSYW5nZVJhdGlvICgKCQkJdGhhdC54UGN0W2ldLAoJCQl0aGF0LnhQY3RbaSsxXSApOwoJfQoKCi8vIEludGVyZmFjZQoKCS8vIFRoZSBpbnRlcmZhY2UgdG8gU3BlY3RydW0gaGFuZGxlcyBhbGwgZGlyZWN0aW9uLWJhc2VkCgkvLyBjb252ZXJzaW9ucywgc28gdGhlIGFib3ZlIHZhbHVlcyBhcmUgdW5hd2FyZS4KCglmdW5jdGlvbiBTcGVjdHJ1bSAoIGVudHJ5LCBzbmFwLCBkaXJlY3Rpb24sIHNpbmdsZVN0ZXAgKSB7CgoJCXRoaXMueFBjdCA9IFtdOwoJCXRoaXMueFZhbCA9IFtdOwoJCXRoaXMueFN0ZXBzID0gWyBzaW5nbGVTdGVwIHx8IGZhbHNlIF07CgkJdGhpcy54TnVtU3RlcHMgPSBbIGZhbHNlIF07CgoJCXRoaXMuc25hcCA9IHNuYXA7CgkJdGhpcy5kaXJlY3Rpb24gPSBkaXJlY3Rpb247CgoJCXZhciBpbmRleCwgb3JkZXJlZCA9IFsgLyogWzAsICdtaW4nXSwgWzEsICc1MCUnXSwgWzIsICdtYXgnXSAqLyBdOwoKCQkvLyBNYXAgdGhlIG9iamVjdCBrZXlzIHRvIGFuIGFycmF5LgoJCWZvciAoIGluZGV4IGluIGVudHJ5ICkgewoJCQlpZiAoIGVudHJ5Lmhhc093blByb3BlcnR5KGluZGV4KSApIHsKCQkJCW9yZGVyZWQucHVzaChbZW50cnlbaW5kZXhdLCBpbmRleF0pOwoJCQl9CgkJfQoKCQkvLyBTb3J0IGFsbCBlbnRyaWVzIGJ5IHZhbHVlIChudW1lcmljIHNvcnQpLgoJCWlmICggb3JkZXJlZC5sZW5ndGggJiYgdHlwZW9mIG9yZGVyZWRbMF1bMF0gPT09ICJvYmplY3QiICkgewoJCQlvcmRlcmVkLnNvcnQoZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gYVswXVswXSAtIGJbMF1bMF07IH0pOwoJCX0gZWxzZSB7CgkJCW9yZGVyZWQuc29ydChmdW5jdGlvbihhLCBiKSB7IHJldHVybiBhWzBdIC0gYlswXTsgfSk7CgkJfQoKCgkJLy8gQ29udmVydCBhbGwgZW50cmllcyB0byBzdWJyYW5nZXMuCgkJZm9yICggaW5kZXggPSAwOyBpbmRleCA8IG9yZGVyZWQubGVuZ3RoOyBpbmRleCsrICkgewoJCQloYW5kbGVFbnRyeVBvaW50KG9yZGVyZWRbaW5kZXhdWzFdLCBvcmRlcmVkW2luZGV4XVswXSwgdGhpcyk7CgkJfQoKCQkvLyBTdG9yZSB0aGUgYWN0dWFsIHN0ZXAgdmFsdWVzLgoJCS8vIHhTdGVwcyBpcyBzb3J0ZWQgaW4gdGhlIHNhbWUgb3JkZXIgYXMgeFBjdCBhbmQgeFZhbC4KCQl0aGlzLnhOdW1TdGVwcyA9IHRoaXMueFN0ZXBzLnNsaWNlKDApOwoKCQkvLyBDb252ZXJ0IGFsbCBudW1lcmljIHN0ZXBzIHRvIHRoZSBwZXJjZW50YWdlIG9mIHRoZSBzdWJyYW5nZSB0aGV5IHJlcHJlc2VudC4KCQlmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy54TnVtU3RlcHMubGVuZ3RoOyBpbmRleCsrICkgewoJCQloYW5kbGVTdGVwUG9pbnQoaW5kZXgsIHRoaXMueE51bVN0ZXBzW2luZGV4XSwgdGhpcyk7CgkJfQoJfQoKCVNwZWN0cnVtLnByb3RvdHlwZS5nZXRNYXJnaW4gPSBmdW5jdGlvbiAoIHZhbHVlICkgewoJCXJldHVybiB0aGlzLnhQY3QubGVuZ3RoID09PSAyID8gZnJvbVBlcmNlbnRhZ2UodGhpcy54VmFsLCB2YWx1ZSkgOiBmYWxzZTsKCX07CgoJU3BlY3RydW0ucHJvdG90eXBlLnRvU3RlcHBpbmcgPSBmdW5jdGlvbiAoIHZhbHVlICkgewoKCQl2YWx1ZSA9IHRvU3RlcHBpbmcoIHRoaXMueFZhbCwgdGhpcy54UGN0LCB2YWx1ZSApOwoKCQkvLyBJbnZlcnQgdGhlIHZhbHVlIGlmIHRoaXMgaXMgYSByaWdodC10by1sZWZ0IHNsaWRlci4KCQlpZiAoIHRoaXMuZGlyZWN0aW9uICkgewoJCQl2YWx1ZSA9IDEwMCAtIHZhbHVlOwoJCX0KCgkJcmV0dXJuIHZhbHVlOwoJfTsKCglTcGVjdHJ1bS5wcm90b3R5cGUuZnJvbVN0ZXBwaW5nID0gZnVuY3Rpb24gKCB2YWx1ZSApIHsKCgkJLy8gSW52ZXJ0IHRoZSB2YWx1ZSBpZiB0aGlzIGlzIGEgcmlnaHQtdG8tbGVmdCBzbGlkZXIuCgkJaWYgKCB0aGlzLmRpcmVjdGlvbiApIHsKCQkJdmFsdWUgPSAxMDAgLSB2YWx1ZTsKCQl9CgoJCXJldHVybiBhY2N1cmF0ZU51bWJlcihmcm9tU3RlcHBpbmcoIHRoaXMueFZhbCwgdGhpcy54UGN0LCB2YWx1ZSApKTsKCX07CgoJU3BlY3RydW0ucHJvdG90eXBlLmdldFN0ZXAgPSBmdW5jdGlvbiAoIHZhbHVlICkgewoKCQkvLyBGaW5kIHRoZSBwcm9wZXIgc3RlcCBmb3IgcnRsIHNsaWRlcnMgYnkgc2VhcmNoIGluIGludmVyc2UgZGlyZWN0aW9uLgoJCS8vIEZpeGVzIGlzc3VlICMyNjIuCgkJaWYgKCB0aGlzLmRpcmVjdGlvbiApIHsKCQkJdmFsdWUgPSAxMDAgLSB2YWx1ZTsKCQl9CgoJCXZhbHVlID0gZ2V0U3RlcCh0aGlzLnhQY3QsIHRoaXMueFN0ZXBzLCB0aGlzLnNuYXAsIHZhbHVlICk7CgoJCWlmICggdGhpcy5kaXJlY3Rpb24gKSB7CgkJCXZhbHVlID0gMTAwIC0gdmFsdWU7CgkJfQoKCQlyZXR1cm4gdmFsdWU7Cgl9OwoKCVNwZWN0cnVtLnByb3RvdHlwZS5nZXRBcHBsaWNhYmxlU3RlcCA9IGZ1bmN0aW9uICggdmFsdWUgKSB7CgoJCS8vIElmIHRoZSB2YWx1ZSBpcyAxMDAlLCByZXR1cm4gdGhlIG5lZ2F0aXZlIHN0ZXAgdHdpY2UuCgkJdmFyIGogPSBnZXRKKHZhbHVlLCB0aGlzLnhQY3QpLCBvZmZzZXQgPSB2YWx1ZSA9PT0gMTAwID8gMiA6IDE7CgkJcmV0dXJuIFt0aGlzLnhOdW1TdGVwc1tqLTJdLCB0aGlzLnhWYWxbai1vZmZzZXRdLCB0aGlzLnhOdW1TdGVwc1tqLW9mZnNldF1dOwoJfTsKCgkvLyBPdXRzaWRlIHRlc3RpbmcKCVNwZWN0cnVtLnByb3RvdHlwZS5jb252ZXJ0ID0gZnVuY3Rpb24gKCB2YWx1ZSApIHsKCQlyZXR1cm4gdGhpcy5nZXRTdGVwKHRoaXMudG9TdGVwcGluZyh2YWx1ZSkpOwoJfTsKCi8qCUV2ZXJ5IGlucHV0IG9wdGlvbiBpcyB0ZXN0ZWQgYW5kIHBhcnNlZC4gVGhpcydsbCBwcmV2ZW50CgllbmRsZXNzIHZhbGlkYXRpb24gaW4gaW50ZXJuYWwgbWV0aG9kcy4gVGhlc2UgdGVzdHMgYXJlCglzdHJ1Y3R1cmVkIHdpdGggYW4gaXRlbSBmb3IgZXZlcnkgb3B0aW9uIGF2YWlsYWJsZS4gQW4KCW9wdGlvbiBjYW4gYmUgbWFya2VkIGFzIHJlcXVpcmVkIGJ5IHNldHRpbmcgdGhlICdyJyBmbGFnLgoJVGhlIHRlc3RpbmcgZnVuY3Rpb24gaXMgcHJvdmlkZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6CgkJLSBUaGUgcHJvdmlkZWQgdmFsdWUgZm9yIHRoZSBvcHRpb247CgkJLSBBIHJlZmVyZW5jZSB0byB0aGUgb3B0aW9ucyBvYmplY3Q7CgkJLSBUaGUgbmFtZSBmb3IgdGhlIG9wdGlvbjsKCglUaGUgdGVzdGluZyBmdW5jdGlvbiByZXR1cm5zIGZhbHNlIHdoZW4gYW4gZXJyb3IgaXMgZGV0ZWN0ZWQsCglvciB0cnVlIHdoZW4gZXZlcnl0aGluZyBpcyBPSy4gSXQgY2FuIGFsc28gbW9kaWZ5IHRoZSBvcHRpb24KCW9iamVjdCwgdG8gbWFrZSBzdXJlIGFsbCB2YWx1ZXMgY2FuIGJlIGNvcnJlY3RseSBsb29wZWQgZWxzZXdoZXJlLiAqLwoKCXZhciBkZWZhdWx0Rm9ybWF0dGVyID0geyAndG8nOiBmdW5jdGlvbiggdmFsdWUgKXsKCQlyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZS50b0ZpeGVkKDIpOwoJfSwgJ2Zyb20nOiBOdW1iZXIgfTsKCglmdW5jdGlvbiB0ZXN0U3RlcCAoIHBhcnNlZCwgZW50cnkgKSB7CgoJCWlmICggIWlzTnVtZXJpYyggZW50cnkgKSApIHsKCQkJdGhyb3cgbmV3IEVycm9yKCJub1VpU2xpZGVyOiAnc3RlcCcgaXMgbm90IG51bWVyaWMuIik7CgkJfQoKCQkvLyBUaGUgc3RlcCBvcHRpb24gY2FuIHN0aWxsIGJlIHVzZWQgdG8gc2V0IHN0ZXBwaW5nCgkJLy8gZm9yIGxpbmVhciBzbGlkZXJzLiBPdmVyd3JpdHRlbiBpZiBzZXQgaW4gJ3JhbmdlJy4KCQlwYXJzZWQuc2luZ2xlU3RlcCA9IGVudHJ5OwoJfQoKCWZ1bmN0aW9uIHRlc3RSYW5nZSAoIHBhcnNlZCwgZW50cnkgKSB7CgoJCS8vIEZpbHRlciBpbmNvcnJlY3QgaW5wdXQuCgkJaWYgKCB0eXBlb2YgZW50cnkgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkoZW50cnkpICkgewoJCQl0aHJvdyBuZXcgRXJyb3IoIm5vVWlTbGlkZXI6ICdyYW5nZScgaXMgbm90IGFuIG9iamVjdC4iKTsKCQl9CgoJCS8vIENhdGNoIG1pc3Npbmcgc3RhcnQgb3IgZW5kLgoJCWlmICggZW50cnkubWluID09PSB1bmRlZmluZWQgfHwgZW50cnkubWF4ID09PSB1bmRlZmluZWQgKSB7CgkJCXRocm93IG5ldyBFcnJvcigibm9VaVNsaWRlcjogTWlzc2luZyAnbWluJyBvciAnbWF4JyBpbiAncmFuZ2UnLiIpOwoJCX0KCgkJLy8gQ2F0Y2ggZXF1YWwgc3RhcnQgb3IgZW5kLgoJCWlmICggZW50cnkubWluID09PSBlbnRyeS5tYXggKSB7CgkJCXRocm93IG5ldyBFcnJvcigibm9VaVNsaWRlcjogJ3JhbmdlJyAnbWluJyBhbmQgJ21heCcgY2Fubm90IGJlIGVxdWFsLiIpOwoJCX0KCgkJcGFyc2VkLnNwZWN0cnVtID0gbmV3IFNwZWN0cnVtKGVudHJ5LCBwYXJzZWQuc25hcCwgcGFyc2VkLmRpciwgcGFyc2VkLnNpbmdsZVN0ZXApOwoJfQoKCWZ1bmN0aW9uIHRlc3RTdGFydCAoIHBhcnNlZCwgZW50cnkgKSB7CgoJCWVudHJ5ID0gYXNBcnJheShlbnRyeSk7CgoJCS8vIFZhbGlkYXRlIGlucHV0LiBWYWx1ZXMgYXJlbid0IHRlc3RlZCwgYXMgdGhlIHB1YmxpYyAudmFsIG1ldGhvZAoJCS8vIHdpbGwgYWx3YXlzIHByb3ZpZGUgYSB2YWxpZCBsb2NhdGlvbi4KCQlpZiAoICFBcnJheS5pc0FycmF5KCBlbnRyeSApIHx8ICFlbnRyeS5sZW5ndGggfHwgZW50cnkubGVuZ3RoID4gMiApIHsKCQkJdGhyb3cgbmV3IEVycm9yKCJub1VpU2xpZGVyOiAnc3RhcnQnIG9wdGlvbiBpcyBpbmNvcnJlY3QuIik7CgkJfQoKCQkvLyBTdG9yZSB0aGUgbnVtYmVyIG9mIGhhbmRsZXMuCgkJcGFyc2VkLmhhbmRsZXMgPSBlbnRyeS5sZW5ndGg7CgoJCS8vIFdoZW4gdGhlIHNsaWRlciBpcyBpbml0aWFsaXplZCwgdGhlIC52YWwgbWV0aG9kIHdpbGwKCQkvLyBiZSBjYWxsZWQgd2l0aCB0aGUgc3RhcnQgb3B0aW9ucy4KCQlwYXJzZWQuc3RhcnQgPSBlbnRyeTsKCX0KCglmdW5jdGlvbiB0ZXN0U25hcCAoIHBhcnNlZCwgZW50cnkgKSB7CgoJCS8vIEVuZm9yY2UgMTAwJSBzdGVwcGluZyB3aXRoaW4gc3VicmFuZ2VzLgoJCXBhcnNlZC5zbmFwID0gZW50cnk7CgoJCWlmICggdHlwZW9mIGVudHJ5ICE9PSAnYm9vbGVhbicgKXsKCQkJdGhyb3cgbmV3IEVycm9yKCJub1VpU2xpZGVyOiAnc25hcCcgb3B0aW9uIG11c3QgYmUgYSBib29sZWFuLiIpOwoJCX0KCX0KCglmdW5jdGlvbiB0ZXN0QW5pbWF0ZSAoIHBhcnNlZCwgZW50cnkgKSB7CgoJCS8vIEVuZm9yY2UgMTAwJSBzdGVwcGluZyB3aXRoaW4gc3VicmFuZ2VzLgoJCXBhcnNlZC5hbmltYXRlID0gZW50cnk7CgoJCWlmICggdHlwZW9mIGVudHJ5ICE9PSAnYm9vbGVhbicgKXsKCQkJdGhyb3cgbmV3IEVycm9yKCJub1VpU2xpZGVyOiAnYW5pbWF0ZScgb3B0aW9uIG11c3QgYmUgYSBib29sZWFuLiIpOwoJCX0KCX0KCglmdW5jdGlvbiB0ZXN0Q29ubmVjdCAoIHBhcnNlZCwgZW50cnkgKSB7CgoJCWlmICggZW50cnkgPT09ICdsb3dlcicgJiYgcGFyc2VkLmhhbmRsZXMgPT09IDEgKSB7CgkJCXBhcnNlZC5jb25uZWN0ID0gMTsKCQl9IGVsc2UgaWYgKCBlbnRyeSA9PT0gJ3VwcGVyJyAmJiBwYXJzZWQuaGFuZGxlcyA9PT0gMSApIHsKCQkJcGFyc2VkLmNvbm5lY3QgPSAyOwoJCX0gZWxzZSBpZiAoIGVudHJ5ID09PSB0cnVlICYmIHBhcnNlZC5oYW5kbGVzID09PSAyICkgewoJCQlwYXJzZWQuY29ubmVjdCA9IDM7CgkJfSBlbHNlIGlmICggZW50cnkgPT09IGZhbHNlICkgewoJCQlwYXJzZWQuY29ubmVjdCA9IDA7CgkJfSBlbHNlIHsKCQkJdGhyb3cgbmV3IEVycm9yKCJub1VpU2xpZGVyOiAnY29ubmVjdCcgb3B0aW9uIGRvZXNuJ3QgbWF0Y2ggaGFuZGxlIGNvdW50LiIpOwoJCX0KCX0KCglmdW5jdGlvbiB0ZXN0T3JpZW50YXRpb24gKCBwYXJzZWQsIGVudHJ5ICkgewoKCQkvLyBTZXQgb3JpZW50YXRpb24gdG8gYW4gYSBudW1lcmljYWwgdmFsdWUgZm9yIGVhc3kKCQkvLyBhcnJheSBzZWxlY3Rpb24uCgkJc3dpdGNoICggZW50cnkgKXsKCQkgIGNhc2UgJ2hvcml6b250YWwnOgoJCQlwYXJzZWQub3J0ID0gMDsKCQkJYnJlYWs7CgkJICBjYXNlICd2ZXJ0aWNhbCc6CgkJCXBhcnNlZC5vcnQgPSAxOwoJCQlicmVhazsKCQkgIGRlZmF1bHQ6CgkJCXRocm93IG5ldyBFcnJvcigibm9VaVNsaWRlcjogJ29yaWVudGF0aW9uJyBvcHRpb24gaXMgaW52YWxpZC4iKTsKCQl9Cgl9CgoJZnVuY3Rpb24gdGVzdE1hcmdpbiAoIHBhcnNlZCwgZW50cnkgKSB7CgoJCWlmICggIWlzTnVtZXJpYyhlbnRyeSkgKXsKCQkJdGhyb3cgbmV3IEVycm9yKCJub1VpU2xpZGVyOiAnbWFyZ2luJyBvcHRpb24gbXVzdCBiZSBudW1lcmljLiIpOwoJCX0KCgkJcGFyc2VkLm1hcmdpbiA9IHBhcnNlZC5zcGVjdHJ1bS5nZXRNYXJnaW4oZW50cnkpOwoKCQlpZiAoICFwYXJzZWQubWFyZ2luICkgewoJCQl0aHJvdyBuZXcgRXJyb3IoIm5vVWlTbGlkZXI6ICdtYXJnaW4nIG9wdGlvbiBpcyBvbmx5IHN1cHBvcnRlZCBvbiBsaW5lYXIgc2xpZGVycy4iKTsKCQl9Cgl9CgoJZnVuY3Rpb24gdGVzdExpbWl0ICggcGFyc2VkLCBlbnRyeSApIHsKCgkJaWYgKCAhaXNOdW1lcmljKGVudHJ5KSApewoJCQl0aHJvdyBuZXcgRXJyb3IoIm5vVWlTbGlkZXI6ICdsaW1pdCcgb3B0aW9uIG11c3QgYmUgbnVtZXJpYy4iKTsKCQl9CgoJCXBhcnNlZC5saW1pdCA9IHBhcnNlZC5zcGVjdHJ1bS5nZXRNYXJnaW4oZW50cnkpOwoKCQlpZiAoICFwYXJzZWQubGltaXQgKSB7CgkJCXRocm93IG5ldyBFcnJvcigibm9VaVNsaWRlcjogJ2xpbWl0JyBvcHRpb24gaXMgb25seSBzdXBwb3J0ZWQgb24gbGluZWFyIHNsaWRlcnMuIik7CgkJfQoJfQoKCWZ1bmN0aW9uIHRlc3REaXJlY3Rpb24gKCBwYXJzZWQsIGVudHJ5ICkgewoKCQkvLyBTZXQgZGlyZWN0aW9uIGFzIGEgbnVtZXJpY2FsIHZhbHVlIGZvciBlYXN5IHBhcnNpbmcuCgkJLy8gSW52ZXJ0IGNvbm5lY3Rpb24gZm9yIFJUTCBzbGlkZXJzLCBzbyB0aGF0IHRoZSBwcm9wZXIKCQkvLyBoYW5kbGVzIGdldCB0aGUgY29ubmVjdC9iYWNrZ3JvdW5kIGNsYXNzZXMuCgkJc3dpdGNoICggZW50cnkgKSB7CgkJICBjYXNlICdsdHInOgoJCQlwYXJzZWQuZGlyID0gMDsKCQkJYnJlYWs7CgkJICBjYXNlICdydGwnOgoJCQlwYXJzZWQuZGlyID0gMTsKCQkJcGFyc2VkLmNvbm5lY3QgPSBbMCwyLDEsM11bcGFyc2VkLmNvbm5lY3RdOwoJCQlicmVhazsKCQkgIGRlZmF1bHQ6CgkJCXRocm93IG5ldyBFcnJvcigibm9VaVNsaWRlcjogJ2RpcmVjdGlvbicgb3B0aW9uIHdhcyBub3QgcmVjb2duaXplZC4iKTsKCQl9Cgl9CgoJZnVuY3Rpb24gdGVzdEJlaGF2aW91ciAoIHBhcnNlZCwgZW50cnkgKSB7CgoJCS8vIE1ha2Ugc3VyZSB0aGUgaW5wdXQgaXMgYSBzdHJpbmcuCgkJaWYgKCB0eXBlb2YgZW50cnkgIT09ICdzdHJpbmcnICkgewoJCQl0aHJvdyBuZXcgRXJyb3IoIm5vVWlTbGlkZXI6ICdiZWhhdmlvdXInIG11c3QgYmUgYSBzdHJpbmcgY29udGFpbmluZyBvcHRpb25zLiIpOwoJCX0KCgkJLy8gQ2hlY2sgaWYgdGhlIHN0cmluZyBjb250YWlucyBhbnkga2V5d29yZHMuCgkJLy8gTm9uZSBhcmUgcmVxdWlyZWQuCgkJdmFyIHRhcCA9IGVudHJ5LmluZGV4T2YoJ3RhcCcpID49IDAsCgkJCWRyYWcgPSBlbnRyeS5pbmRleE9mKCdkcmFnJykgPj0gMCwKCQkJZml4ZWQgPSBlbnRyeS5pbmRleE9mKCdmaXhlZCcpID49IDAsCgkJCXNuYXAgPSBlbnRyeS5pbmRleE9mKCdzbmFwJykgPj0gMCwKCQkJaG92ZXIgPSBlbnRyeS5pbmRleE9mKCdob3ZlcicpID49IDA7CgoJCS8vIEZpeCAjNDcyCgkJaWYgKCBkcmFnICYmICFwYXJzZWQuY29ubmVjdCApIHsKCQkJdGhyb3cgbmV3IEVycm9yKCJub1VpU2xpZGVyOiAnZHJhZycgYmVoYXZpb3VyIG11c3QgYmUgdXNlZCB3aXRoICdjb25uZWN0JzogdHJ1ZS4iKTsKCQl9CgoJCXBhcnNlZC5ldmVudHMgPSB7CgkJCXRhcDogdGFwIHx8IHNuYXAsCgkJCWRyYWc6IGRyYWcsCgkJCWZpeGVkOiBmaXhlZCwKCQkJc25hcDogc25hcCwKCQkJaG92ZXI6IGhvdmVyCgkJfTsKCX0KCglmdW5jdGlvbiB0ZXN0VG9vbHRpcHMgKCBwYXJzZWQsIGVudHJ5ICkgewoKCQl2YXIgaTsKCgkJaWYgKCBlbnRyeSA9PT0gZmFsc2UgKSB7CgkJCXJldHVybjsKCQl9IGVsc2UgaWYgKCBlbnRyeSA9PT0gdHJ1ZSApIHsKCgkJCXBhcnNlZC50b29sdGlwcyA9IFtdOwoKCQkJZm9yICggaSA9IDA7IGkgPCBwYXJzZWQuaGFuZGxlczsgaSsrICkgewoJCQkJcGFyc2VkLnRvb2x0aXBzLnB1c2godHJ1ZSk7CgkJCX0KCgkJfSBlbHNlIHsKCgkJCXBhcnNlZC50b29sdGlwcyA9IGFzQXJyYXkoZW50cnkpOwoKCQkJaWYgKCBwYXJzZWQudG9vbHRpcHMubGVuZ3RoICE9PSBwYXJzZWQuaGFuZGxlcyApIHsKCQkJCXRocm93IG5ldyBFcnJvcigibm9VaVNsaWRlcjogbXVzdCBwYXNzIGEgZm9ybWF0dGVyIGZvciBhbGwgaGFuZGxlcy4iKTsKCQkJfQoKCQkJcGFyc2VkLnRvb2x0aXBzLmZvckVhY2goZnVuY3Rpb24oZm9ybWF0dGVyKXsKCQkJCWlmICggdHlwZW9mIGZvcm1hdHRlciAhPT0gJ2Jvb2xlYW4nICYmICh0eXBlb2YgZm9ybWF0dGVyICE9PSAnb2JqZWN0JyB8fCB0eXBlb2YgZm9ybWF0dGVyLnRvICE9PSAnZnVuY3Rpb24nKSApIHsKCQkJCQl0aHJvdyBuZXcgRXJyb3IoIm5vVWlTbGlkZXI6ICd0b29sdGlwcycgbXVzdCBiZSBwYXNzZWQgYSBmb3JtYXR0ZXIgb3IgJ2ZhbHNlJy4iKTsKCQkJCX0KCQkJfSk7CgkJfQoJfQoKCWZ1bmN0aW9uIHRlc3RGb3JtYXQgKCBwYXJzZWQsIGVudHJ5ICkgewoKCQlwYXJzZWQuZm9ybWF0ID0gZW50cnk7CgoJCS8vIEFueSBvYmplY3Qgd2l0aCBhIHRvIGFuZCBmcm9tIG1ldGhvZCBpcyBzdXBwb3J0ZWQuCgkJaWYgKCB0eXBlb2YgZW50cnkudG8gPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGVudHJ5LmZyb20gPT09ICdmdW5jdGlvbicgKSB7CgkJCXJldHVybiB0cnVlOwoJCX0KCgkJdGhyb3cgbmV3IEVycm9yKCAibm9VaVNsaWRlcjogJ2Zvcm1hdCcgcmVxdWlyZXMgJ3RvJyBhbmQgJ2Zyb20nIG1ldGhvZHMuIik7Cgl9CgoJZnVuY3Rpb24gdGVzdENzc1ByZWZpeCAoIHBhcnNlZCwgZW50cnkgKSB7CgoJCWlmICggZW50cnkgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgZW50cnkgIT09ICdzdHJpbmcnICkgewoJCQl0aHJvdyBuZXcgRXJyb3IoICJub1VpU2xpZGVyOiAnY3NzUHJlZml4JyBtdXN0IGJlIGEgc3RyaW5nLiIpOwoJCX0KCgkJcGFyc2VkLmNzc1ByZWZpeCA9IGVudHJ5OwoJfQoKCS8vIFRlc3QgYWxsIGRldmVsb3BlciBzZXR0aW5ncyBhbmQgcGFyc2UgdG8gYXNzdW1wdGlvbi1zYWZlIHZhbHVlcy4KCWZ1bmN0aW9uIHRlc3RPcHRpb25zICggb3B0aW9ucyApIHsKCgkJLy8gVG8gcHJvdmUgYSBmaXggZm9yICM1MzcsIGZyZWV6ZSBvcHRpb25zIGhlcmUuCgkJLy8gSWYgdGhlIG9iamVjdCBpcyBtb2RpZmllZCwgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd24uCgkJLy8gT2JqZWN0LmZyZWV6ZShvcHRpb25zKTsKCgkJdmFyIHBhcnNlZCA9IHsKCQkJbWFyZ2luOiAwLAoJCQlsaW1pdDogMCwKCQkJYW5pbWF0ZTogdHJ1ZSwKCQkJZm9ybWF0OiBkZWZhdWx0Rm9ybWF0dGVyCgkJfSwgdGVzdHM7CgoJCS8vIFRlc3RzIGFyZSBleGVjdXRlZCBpbiB0aGUgb3JkZXIgdGhleSBhcmUgcHJlc2VudGVkIGhlcmUuCgkJdGVzdHMgPSB7CgkJCSdzdGVwJzogeyByOiBmYWxzZSwgdDogdGVzdFN0ZXAgfSwKCQkJJ3N0YXJ0JzogeyByOiB0cnVlLCB0OiB0ZXN0U3RhcnQgfSwKCQkJJ2Nvbm5lY3QnOiB7IHI6IHRydWUsIHQ6IHRlc3RDb25uZWN0IH0sCgkJCSdkaXJlY3Rpb24nOiB7IHI6IHRydWUsIHQ6IHRlc3REaXJlY3Rpb24gfSwKCQkJJ3NuYXAnOiB7IHI6IGZhbHNlLCB0OiB0ZXN0U25hcCB9LAoJCQknYW5pbWF0ZSc6IHsgcjogZmFsc2UsIHQ6IHRlc3RBbmltYXRlIH0sCgkJCSdyYW5nZSc6IHsgcjogdHJ1ZSwgdDogdGVzdFJhbmdlIH0sCgkJCSdvcmllbnRhdGlvbic6IHsgcjogZmFsc2UsIHQ6IHRlc3RPcmllbnRhdGlvbiB9LAoJCQknbWFyZ2luJzogeyByOiBmYWxzZSwgdDogdGVzdE1hcmdpbiB9LAoJCQknbGltaXQnOiB7IHI6IGZhbHNlLCB0OiB0ZXN0TGltaXQgfSwKCQkJJ2JlaGF2aW91cic6IHsgcjogdHJ1ZSwgdDogdGVzdEJlaGF2aW91ciB9LAoJCQknZm9ybWF0JzogeyByOiBmYWxzZSwgdDogdGVzdEZvcm1hdCB9LAoJCQkndG9vbHRpcHMnOiB7IHI6IGZhbHNlLCB0OiB0ZXN0VG9vbHRpcHMgfSwKCQkJJ2Nzc1ByZWZpeCc6IHsgcjogZmFsc2UsIHQ6IHRlc3RDc3NQcmVmaXggfQoJCX07CgoJCXZhciBkZWZhdWx0cyA9IHsKCQkJJ2Nvbm5lY3QnOiBmYWxzZSwKCQkJJ2RpcmVjdGlvbic6ICdsdHInLAoJCQknYmVoYXZpb3VyJzogJ3RhcCcsCgkJCSdvcmllbnRhdGlvbic6ICdob3Jpem9udGFsJwoJCX07CgoJCS8vIFJ1biBhbGwgb3B0aW9ucyB0aHJvdWdoIGEgdGVzdGluZyBtZWNoYW5pc20gdG8gZW5zdXJlIGNvcnJlY3QKCQkvLyBpbnB1dC4gSXQgc2hvdWxkIGJlIG5vdGVkIHRoYXQgb3B0aW9ucyBtaWdodCBnZXQgbW9kaWZpZWQgdG8KCQkvLyBiZSBoYW5kbGVkIHByb3Blcmx5LiBFLmcuIHdyYXBwaW5nIGludGVnZXJzIGluIGFycmF5cy4KCQlPYmplY3Qua2V5cyh0ZXN0cykuZm9yRWFjaChmdW5jdGlvbiggbmFtZSApewoKCQkJLy8gSWYgdGhlIG9wdGlvbiBpc24ndCBzZXQsIGJ1dCBpdCBpcyByZXF1aXJlZCwgdGhyb3cgYW4gZXJyb3IuCgkJCWlmICggb3B0aW9uc1tuYW1lXSA9PT0gdW5kZWZpbmVkICYmIGRlZmF1bHRzW25hbWVdID09PSB1bmRlZmluZWQgKSB7CgoJCQkJaWYgKCB0ZXN0c1tuYW1lXS5yICkgewoJCQkJCXRocm93IG5ldyBFcnJvcigibm9VaVNsaWRlcjogJyIgKyBuYW1lICsgIicgaXMgcmVxdWlyZWQuIik7CgkJCQl9CgoJCQkJcmV0dXJuIHRydWU7CgkJCX0KCgkJCXRlc3RzW25hbWVdLnQoIHBhcnNlZCwgb3B0aW9uc1tuYW1lXSA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdHNbbmFtZV0gOiBvcHRpb25zW25hbWVdICk7CgkJfSk7CgoJCS8vIEZvcndhcmQgcGlwcyBvcHRpb25zCgkJcGFyc2VkLnBpcHMgPSBvcHRpb25zLnBpcHM7CgoJCS8vIFByZS1kZWZpbmUgdGhlIHN0eWxlcy4KCQlwYXJzZWQuc3R5bGUgPSBwYXJzZWQub3J0ID8gJ3RvcCcgOiAnbGVmdCc7CgoJCXJldHVybiBwYXJzZWQ7Cgl9CgoKZnVuY3Rpb24gY2xvc3VyZSAoIHRhcmdldCwgb3B0aW9ucyApewoKCS8vIEFsbCB2YXJpYWJsZXMgbG9jYWwgdG8gJ2Nsb3N1cmUnIGFyZSBwcmVmaXhlZCB3aXRoICdzY29wZV8nCgl2YXIgc2NvcGVfVGFyZ2V0ID0gdGFyZ2V0LAoJCXNjb3BlX0xvY2F0aW9ucyA9IFstMSwgLTFdLAoJCXNjb3BlX0Jhc2UsCgkJc2NvcGVfSGFuZGxlcywKCQlzY29wZV9TcGVjdHJ1bSA9IG9wdGlvbnMuc3BlY3RydW0sCgkJc2NvcGVfVmFsdWVzID0gW10sCgkJc2NvcGVfRXZlbnRzID0ge30sCgkJc2NvcGVfU2VsZjsKCiAgdmFyIGNzc0NsYXNzZXMgPSBbCiAgICAvKiAgMCAqLyAgJ3RhcmdldCcKICAgIC8qICAxICovICwnYmFzZScKICAgIC8qICAyICovICwnb3JpZ2luJwogICAgLyogIDMgKi8gLCdoYW5kbGUnCiAgICAvKiAgNCAqLyAsJ2hvcml6b250YWwnCiAgICAvKiAgNSAqLyAsJ3ZlcnRpY2FsJwogICAgLyogIDYgKi8gLCdiYWNrZ3JvdW5kJwogICAgLyogIDcgKi8gLCdjb25uZWN0JwogICAgLyogIDggKi8gLCdsdHInCiAgICAvKiAgOSAqLyAsJ3J0bCcKICAgIC8qIDEwICovICwnZHJhZ2dhYmxlJwogICAgLyogMTEgKi8gLCcnCiAgICAvKiAxMiAqLyAsJ3N0YXRlLWRyYWcnCiAgICAvKiAxMyAqLyAsJycKICAgIC8qIDE0ICovICwnc3RhdGUtdGFwJwogICAgLyogMTUgKi8gLCdhY3RpdmUnCiAgICAvKiAxNiAqLyAsJycKICAgIC8qIDE3ICovICwnc3RhY2tpbmcnCiAgICAvKiAxOCAqLyAsJ3Rvb2x0aXAnCiAgICAvKiAxOSAqLyAsJycKICAgIC8qIDIwICovICwncGlwcycKICAgIC8qIDIxICovICwnbWFya2VyJwogICAgLyogMjIgKi8gLCd2YWx1ZScKICBdLm1hcChhZGRDc3NQcmVmaXgob3B0aW9ucy5jc3NQcmVmaXggfHwgZGVmYXVsdENzc1ByZWZpeCkpOwoKCgkvLyBEZWxpbWl0IHByb3Bvc2VkIHZhbHVlcyBmb3IgaGFuZGxlIHBvc2l0aW9ucy4KCWZ1bmN0aW9uIGdldFBvc2l0aW9ucyAoIGEsIGIsIGRlbGltaXQgKSB7CgoJCS8vIEFkZCBtb3ZlbWVudCB0byBjdXJyZW50IHBvc2l0aW9uLgoJCXZhciBjID0gYSArIGJbMF0sIGQgPSBhICsgYlsxXTsKCgkJLy8gT25seSBhbHRlciB0aGUgb3RoZXIgcG9zaXRpb24gb24gZHJhZywKCQkvLyBub3Qgb24gc3RhbmRhcmQgc2xpZGluZy4KCQlpZiAoIGRlbGltaXQgKSB7CgkJCWlmICggYyA8IDAgKSB7CgkJCQlkICs9IE1hdGguYWJzKGMpOwoJCQl9CgkJCWlmICggZCA+IDEwMCApIHsKCQkJCWMgLT0gKCBkIC0gMTAwICk7CgkJCX0KCgkJCS8vIExpbWl0IHZhbHVlcyB0byAwIGFuZCAxMDAuCgkJCXJldHVybiBbbGltaXQoYyksIGxpbWl0KGQpXTsKCQl9CgoJCXJldHVybiBbYyxkXTsKCX0KCgkvLyBQcm92aWRlIGEgY2xlYW4gZXZlbnQgd2l0aCBzdGFuZGFyZGl6ZWQgb2Zmc2V0IHZhbHVlcy4KCWZ1bmN0aW9uIGZpeEV2ZW50ICggZSwgcGFnZU9mZnNldCApIHsKCgkJLy8gUHJldmVudCBzY3JvbGxpbmcgYW5kIHBhbm5pbmcgb24gdG91Y2ggZXZlbnRzLCB3aGlsZQoJCS8vIGF0dGVtcHRpbmcgdG8gc2xpZGUuIFRoZSB0YXAgZXZlbnQgYWxzbyBkZXBlbmRzIG9uIHRoaXMuCgkJZS5wcmV2ZW50RGVmYXVsdCgpOwoKCQkvLyBGaWx0ZXIgdGhlIGV2ZW50IHRvIHJlZ2lzdGVyIHRoZSB0eXBlLCB3aGljaCBjYW4gYmUKCQkvLyB0b3VjaCwgbW91c2Ugb3IgcG9pbnRlci4gT2Zmc2V0IGNoYW5nZXMgbmVlZCB0byBiZQoJCS8vIG1hZGUgb24gYW4gZXZlbnQgc3BlY2lmaWMgYmFzaXMuCgkJdmFyIHRvdWNoID0gZS50eXBlLmluZGV4T2YoJ3RvdWNoJykgPT09IDAsCgkJCW1vdXNlID0gZS50eXBlLmluZGV4T2YoJ21vdXNlJykgPT09IDAsCgkJCXBvaW50ZXIgPSBlLnR5cGUuaW5kZXhPZigncG9pbnRlcicpID09PSAwLAoJCQl4LHksIGV2ZW50ID0gZTsKCgkJLy8gSUUxMCBpbXBsZW1lbnRlZCBwb2ludGVyIGV2ZW50cyB3aXRoIGEgcHJlZml4OwoJCWlmICggZS50eXBlLmluZGV4T2YoJ01TUG9pbnRlcicpID09PSAwICkgewoJCQlwb2ludGVyID0gdHJ1ZTsKCQl9CgoJCWlmICggdG91Y2ggKSB7CgkJCS8vIG5vVWlTbGlkZXIgc3VwcG9ydHMgb25lIG1vdmVtZW50IGF0IGEgdGltZSwKCQkJLy8gc28gd2UgY2FuIHNlbGVjdCB0aGUgZmlyc3QgJ2NoYW5nZWRUb3VjaCcuCgkJCXggPSBlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYOwoJCQl5ID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWTsKCQl9CgoJCXBhZ2VPZmZzZXQgPSBwYWdlT2Zmc2V0IHx8IGdldFBhZ2VPZmZzZXQoKTsKCgkJaWYgKCBtb3VzZSB8fCBwb2ludGVyICkgewoJCQl4ID0gZS5jbGllbnRYICsgcGFnZU9mZnNldC54OwoJCQl5ID0gZS5jbGllbnRZICsgcGFnZU9mZnNldC55OwoJCX0KCgkJZXZlbnQucGFnZU9mZnNldCA9IHBhZ2VPZmZzZXQ7CgkJZXZlbnQucG9pbnRzID0gW3gsIHldOwoJCWV2ZW50LmN1cnNvciA9IG1vdXNlIHx8IHBvaW50ZXI7IC8vIEZpeCAjNDM1CgoJCXJldHVybiBldmVudDsKCX0KCgkvLyBBcHBlbmQgYSBoYW5kbGUgdG8gdGhlIGJhc2UuCglmdW5jdGlvbiBhZGRIYW5kbGUgKCBkaXJlY3Rpb24sIGluZGV4ICkgewoKCQl2YXIgb3JpZ2luID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksCgkJCWhhbmRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLAoJCQlhZGRpdGlvbnMgPSBbICctbG93ZXInLCAnLXVwcGVyJyBdOwoKCQlpZiAoIGRpcmVjdGlvbiApIHsKCQkJYWRkaXRpb25zLnJldmVyc2UoKTsKCQl9CgoJCWFkZENsYXNzKGhhbmRsZSwgY3NzQ2xhc3Nlc1szXSk7CgkJYWRkQ2xhc3MoaGFuZGxlLCBjc3NDbGFzc2VzWzNdICsgYWRkaXRpb25zW2luZGV4XSk7CgoJCWFkZENsYXNzKG9yaWdpbiwgY3NzQ2xhc3Nlc1syXSk7CgkJb3JpZ2luLmFwcGVuZENoaWxkKGhhbmRsZSk7CgoJCXJldHVybiBvcmlnaW47Cgl9CgoJLy8gQWRkIHRoZSBwcm9wZXIgY29ubmVjdGlvbiBjbGFzc2VzLgoJZnVuY3Rpb24gYWRkQ29ubmVjdGlvbiAoIGNvbm5lY3QsIHRhcmdldCwgaGFuZGxlcyApIHsKCgkJLy8gQXBwbHkgdGhlIHJlcXVpcmVkIGNvbm5lY3Rpb24gY2xhc3NlcyB0byB0aGUgZWxlbWVudHMKCQkvLyB0aGF0IG5lZWQgdGhlbS4gU29tZSBjbGFzc2VzIGFyZSBtYWRlIHVwIGZvciBzZXZlcmFsCgkJLy8gc2VnbWVudHMgbGlzdGVkIGluIHRoZSBjbGFzcyBsaXN0LCB0byBhbGxvdyBlYXN5CgkJLy8gcmVuYW1pbmcgYW5kIHByb3ZpZGUgYSBtaW5vciBjb21wcmVzc2lvbiBiZW5lZml0LgoJCXN3aXRjaCAoIGNvbm5lY3QgKSB7CgkJCWNhc2UgMToJYWRkQ2xhc3ModGFyZ2V0LCBjc3NDbGFzc2VzWzddKTsKCQkJCQlhZGRDbGFzcyhoYW5kbGVzWzBdLCBjc3NDbGFzc2VzWzZdKTsKCQkJCQlicmVhazsKCQkJY2FzZSAzOiBhZGRDbGFzcyhoYW5kbGVzWzFdLCBjc3NDbGFzc2VzWzZdKTsKCQkJCQkvKiBmYWxscyB0aHJvdWdoICovCgkJCWNhc2UgMjogYWRkQ2xhc3MoaGFuZGxlc1swXSwgY3NzQ2xhc3Nlc1s3XSk7CgkJCQkJLyogZmFsbHMgdGhyb3VnaCAqLwoJCQljYXNlIDA6IGFkZENsYXNzKHRhcmdldCwgY3NzQ2xhc3Nlc1s2XSk7CgkJCQkJYnJlYWs7CgkJfQoJfQoKCS8vIEFkZCBoYW5kbGVzIHRvIHRoZSBzbGlkZXIgYmFzZS4KCWZ1bmN0aW9uIGFkZEhhbmRsZXMgKCBuckhhbmRsZXMsIGRpcmVjdGlvbiwgYmFzZSApIHsKCgkJdmFyIGluZGV4LCBoYW5kbGVzID0gW107CgoJCS8vIEFwcGVuZCBoYW5kbGVzLgoJCWZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBuckhhbmRsZXM7IGluZGV4ICs9IDEgKSB7CgoJCQkvLyBLZWVwIGEgbGlzdCBvZiBhbGwgYWRkZWQgaGFuZGxlcy4KCQkJaGFuZGxlcy5wdXNoKCBiYXNlLmFwcGVuZENoaWxkKGFkZEhhbmRsZSggZGlyZWN0aW9uLCBpbmRleCApKSApOwoJCX0KCgkJcmV0dXJuIGhhbmRsZXM7Cgl9CgoJLy8gSW5pdGlhbGl6ZSBhIHNpbmdsZSBzbGlkZXIuCglmdW5jdGlvbiBhZGRTbGlkZXIgKCBkaXJlY3Rpb24sIG9yaWVudGF0aW9uLCB0YXJnZXQgKSB7CgoJCS8vIEFwcGx5IGNsYXNzZXMgYW5kIGRhdGEgdG8gdGhlIHRhcmdldC4KCQlhZGRDbGFzcyh0YXJnZXQsIGNzc0NsYXNzZXNbMF0pOwoJCWFkZENsYXNzKHRhcmdldCwgY3NzQ2xhc3Nlc1s4ICsgZGlyZWN0aW9uXSk7CgkJYWRkQ2xhc3ModGFyZ2V0LCBjc3NDbGFzc2VzWzQgKyBvcmllbnRhdGlvbl0pOwoKCQl2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CgkJYWRkQ2xhc3MoZGl2LCBjc3NDbGFzc2VzWzFdKTsKCQl0YXJnZXQuYXBwZW5kQ2hpbGQoZGl2KTsKCQlyZXR1cm4gZGl2OwoJfQoKCglmdW5jdGlvbiBhZGRUb29sdGlwICggaGFuZGxlLCBpbmRleCApIHsKCgkJaWYgKCAhb3B0aW9ucy50b29sdGlwc1tpbmRleF0gKSB7CgkJCXJldHVybiBmYWxzZTsKCQl9CgoJCXZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CgkJZWxlbWVudC5jbGFzc05hbWUgPSBjc3NDbGFzc2VzWzE4XTsKCQlyZXR1cm4gaGFuZGxlLmZpcnN0Q2hpbGQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7Cgl9CgoJLy8gVGhlIHRvb2x0aXBzIG9wdGlvbiBpcyBhIHNob3J0aGFuZCBmb3IgdXNpbmcgdGhlICd1cGRhdGUnIGV2ZW50LgoJZnVuY3Rpb24gdG9vbHRpcHMgKCApIHsKCgkJaWYgKCBvcHRpb25zLmRpciApIHsKCQkJb3B0aW9ucy50b29sdGlwcy5yZXZlcnNlKCk7CgkJfQoKCQkvLyBUb29sdGlwcyBhcmUgYWRkZWQgd2l0aCBvcHRpb25zLnRvb2x0aXBzIGluIG9yaWdpbmFsIG9yZGVyLgoJCXZhciB0aXBzID0gc2NvcGVfSGFuZGxlcy5tYXAoYWRkVG9vbHRpcCk7CgoJCWlmICggb3B0aW9ucy5kaXIgKSB7CgkJCXRpcHMucmV2ZXJzZSgpOwoJCQlvcHRpb25zLnRvb2x0aXBzLnJldmVyc2UoKTsKCQl9CgoJCWJpbmRFdmVudCgndXBkYXRlJywgZnVuY3Rpb24oZiwgbywgcikgewoJCQlpZiAoIHRpcHNbb10gKSB7CgkJCQl0aXBzW29dLmlubmVySFRNTCA9IG9wdGlvbnMudG9vbHRpcHNbb10gPT09IHRydWUgPyBmW29dIDogb3B0aW9ucy50b29sdGlwc1tvXS50byhyW29dKTsKCQkJfQoJCX0pOwoJfQoKCglmdW5jdGlvbiBnZXRHcm91cCAoIG1vZGUsIHZhbHVlcywgc3RlcHBlZCApIHsKCgkJLy8gVXNlIHRoZSByYW5nZS4KCQlpZiAoIG1vZGUgPT09ICdyYW5nZScgfHwgbW9kZSA9PT0gJ3N0ZXBzJyApIHsKCQkJcmV0dXJuIHNjb3BlX1NwZWN0cnVtLnhWYWw7CgkJfQoKCQlpZiAoIG1vZGUgPT09ICdjb3VudCcgKSB7CgoJCQkvLyBEaXZpZGUgMCAtIDEwMCBpbiAnY291bnQnIHBhcnRzLgoJCQl2YXIgc3ByZWFkID0gKCAxMDAgLyAodmFsdWVzLTEpICksIHYsIGkgPSAwOwoJCQl2YWx1ZXMgPSBbXTsKCgkJCS8vIExpc3QgdGhlc2UgcGFydHMgYW5kIGhhdmUgdGhlbSBoYW5kbGVkIGFzICdwb3NpdGlvbnMnLgoJCQl3aGlsZSAoKHY9aSsrKnNwcmVhZCkgPD0gMTAwICkgewoJCQkJdmFsdWVzLnB1c2godik7CgkJCX0KCgkJCW1vZGUgPSAncG9zaXRpb25zJzsKCQl9CgoJCWlmICggbW9kZSA9PT0gJ3Bvc2l0aW9ucycgKSB7CgoJCQkvLyBNYXAgYWxsIHBlcmNlbnRhZ2VzIHRvIG9uLXJhbmdlIHZhbHVlcy4KCQkJcmV0dXJuIHZhbHVlcy5tYXAoZnVuY3Rpb24oIHZhbHVlICl7CgkJCQlyZXR1cm4gc2NvcGVfU3BlY3RydW0uZnJvbVN0ZXBwaW5nKCBzdGVwcGVkID8gc2NvcGVfU3BlY3RydW0uZ2V0U3RlcCggdmFsdWUgKSA6IHZhbHVlICk7CgkJCX0pOwoJCX0KCgkJaWYgKCBtb2RlID09PSAndmFsdWVzJyApIHsKCgkJCS8vIElmIHRoZSB2YWx1ZSBtdXN0IGJlIHN0ZXBwZWQsIGl0IG5lZWRzIHRvIGJlIGNvbnZlcnRlZCB0byBhIHBlcmNlbnRhZ2UgZmlyc3QuCgkJCWlmICggc3RlcHBlZCApIHsKCgkJCQlyZXR1cm4gdmFsdWVzLm1hcChmdW5jdGlvbiggdmFsdWUgKXsKCgkJCQkJLy8gQ29udmVydCB0byBwZXJjZW50YWdlLCBhcHBseSBzdGVwLCByZXR1cm4gdG8gdmFsdWUuCgkJCQkJcmV0dXJuIHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyggc2NvcGVfU3BlY3RydW0uZ2V0U3RlcCggc2NvcGVfU3BlY3RydW0udG9TdGVwcGluZyggdmFsdWUgKSApICk7CgkJCQl9KTsKCgkJCX0KCgkJCS8vIE90aGVyd2lzZSwgd2UgY2FuIHNpbXBseSB1c2UgdGhlIHZhbHVlcy4KCQkJcmV0dXJuIHZhbHVlczsKCQl9Cgl9CgoJZnVuY3Rpb24gZ2VuZXJhdGVTcHJlYWQgKCBkZW5zaXR5LCBtb2RlLCBncm91cCApIHsKCgkJZnVuY3Rpb24gc2FmZUluY3JlbWVudCh2YWx1ZSwgaW5jcmVtZW50KSB7CgkJCS8vIEF2b2lkIGZsb2F0aW5nIHBvaW50IHZhcmlhbmNlIGJ5IGRyb3BwaW5nIHRoZSBzbWFsbGVzdCBkZWNpbWFsIHBsYWNlcy4KCQkJcmV0dXJuICh2YWx1ZSArIGluY3JlbWVudCkudG9GaXhlZCg3KSAvIDE7CgkJfQoKCQl2YXIgb3JpZ2luYWxTcGVjdHJ1bURpcmVjdGlvbiA9IHNjb3BlX1NwZWN0cnVtLmRpcmVjdGlvbiwKCQkJaW5kZXhlcyA9IHt9LAoJCQlmaXJzdEluUmFuZ2UgPSBzY29wZV9TcGVjdHJ1bS54VmFsWzBdLAoJCQlsYXN0SW5SYW5nZSA9IHNjb3BlX1NwZWN0cnVtLnhWYWxbc2NvcGVfU3BlY3RydW0ueFZhbC5sZW5ndGgtMV0sCgkJCWlnbm9yZUZpcnN0ID0gZmFsc2UsCgkJCWlnbm9yZUxhc3QgPSBmYWxzZSwKCQkJcHJldlBjdCA9IDA7CgoJCS8vIFRoaXMgZnVuY3Rpb24gbG9vcHMgdGhlIHNwZWN0cnVtIGluIGFuIGx0ciBsaW5lYXIgZmFzaGlvbiwKCQkvLyB3aGlsZSB0aGUgdG9TdGVwcGluZyBtZXRob2QgaXMgZGlyZWN0aW9uIGF3YXJlLiBUcmljayBpdCBpbnRvCgkJLy8gYmVsaWV2aW5nIGl0IGlzIGx0ci4KCQlzY29wZV9TcGVjdHJ1bS5kaXJlY3Rpb24gPSAwOwoKCQkvLyBDcmVhdGUgYSBjb3B5IG9mIHRoZSBncm91cCwgc29ydCBpdCBhbmQgZmlsdGVyIGF3YXkgYWxsIGR1cGxpY2F0ZXMuCgkJZ3JvdXAgPSB1bmlxdWUoZ3JvdXAuc2xpY2UoKS5zb3J0KGZ1bmN0aW9uKGEsIGIpeyByZXR1cm4gYSAtIGI7IH0pKTsKCgkJLy8gTWFrZSBzdXJlIHRoZSByYW5nZSBzdGFydHMgd2l0aCB0aGUgZmlyc3QgZWxlbWVudC4KCQlpZiAoIGdyb3VwWzBdICE9PSBmaXJzdEluUmFuZ2UgKSB7CgkJCWdyb3VwLnVuc2hpZnQoZmlyc3RJblJhbmdlKTsKCQkJaWdub3JlRmlyc3QgPSB0cnVlOwoJCX0KCgkJLy8gTGlrZXdpc2UgZm9yIHRoZSBsYXN0IG9uZS4KCQlpZiAoIGdyb3VwW2dyb3VwLmxlbmd0aCAtIDFdICE9PSBsYXN0SW5SYW5nZSApIHsKCQkJZ3JvdXAucHVzaChsYXN0SW5SYW5nZSk7CgkJCWlnbm9yZUxhc3QgPSB0cnVlOwoJCX0KCgkJZ3JvdXAuZm9yRWFjaChmdW5jdGlvbiAoIGN1cnJlbnQsIGluZGV4ICkgewoKCQkJLy8gR2V0IHRoZSBjdXJyZW50IHN0ZXAgYW5kIHRoZSBsb3dlciArIHVwcGVyIHBvc2l0aW9ucy4KCQkJdmFyIHN0ZXAsIGksIHEsCgkJCQlsb3cgPSBjdXJyZW50LAoJCQkJaGlnaCA9IGdyb3VwW2luZGV4KzFdLAoJCQkJbmV3UGN0LCBwY3REaWZmZXJlbmNlLCBwY3RQb3MsIHR5cGUsCgkJCQlzdGVwcywgcmVhbFN0ZXBzLCBzdGVwc2l6ZTsKCgkJCS8vIFdoZW4gdXNpbmcgJ3N0ZXBzJyBtb2RlLCB1c2UgdGhlIHByb3ZpZGVkIHN0ZXBzLgoJCQkvLyBPdGhlcndpc2UsIHdlJ2xsIHN0ZXAgb24gdG8gdGhlIG5leHQgc3VicmFuZ2UuCgkJCWlmICggbW9kZSA9PT0gJ3N0ZXBzJyApIHsKCQkJCXN0ZXAgPSBzY29wZV9TcGVjdHJ1bS54TnVtU3RlcHNbIGluZGV4IF07CgkJCX0KCgkJCS8vIERlZmF1bHQgdG8gYSAnZnVsbCcgc3RlcC4KCQkJaWYgKCAhc3RlcCApIHsKCQkJCXN0ZXAgPSBoaWdoLWxvdzsKCQkJfQoKCQkJLy8gTG93IGNhbiBiZSAwLCBzbyB0ZXN0IGZvciBmYWxzZS4gSWYgaGlnaCBpcyB1bmRlZmluZWQsCgkJCS8vIHdlIGFyZSBhdCB0aGUgbGFzdCBzdWJyYW5nZS4gSW5kZXggMCBpcyBhbHJlYWR5IGhhbmRsZWQuCgkJCWlmICggbG93ID09PSBmYWxzZSB8fCBoaWdoID09PSB1bmRlZmluZWQgKSB7CgkJCQlyZXR1cm47CgkJCX0KCgkJCS8vIEZpbmQgYWxsIHN0ZXBzIGluIHRoZSBzdWJyYW5nZS4KCQkJZm9yICggaSA9IGxvdzsgaSA8PSBoaWdoOyBpID0gc2FmZUluY3JlbWVudChpLCBzdGVwKSApIHsKCgkJCQkvLyBHZXQgdGhlIHBlcmNlbnRhZ2UgdmFsdWUgZm9yIHRoZSBjdXJyZW50IHN0ZXAsCgkJCQkvLyBjYWxjdWxhdGUgdGhlIHNpemUgZm9yIHRoZSBzdWJyYW5nZS4KCQkJCW5ld1BjdCA9IHNjb3BlX1NwZWN0cnVtLnRvU3RlcHBpbmcoIGkgKTsKCQkJCXBjdERpZmZlcmVuY2UgPSBuZXdQY3QgLSBwcmV2UGN0OwoKCQkJCXN0ZXBzID0gcGN0RGlmZmVyZW5jZSAvIGRlbnNpdHk7CgkJCQlyZWFsU3RlcHMgPSBNYXRoLnJvdW5kKHN0ZXBzKTsKCgkJCQkvLyBUaGlzIHJhdGlvIHJlcHJlc2VudHMgdGhlIGFtbW91bnQgb2YgcGVyY2VudGFnZS1zcGFjZSBhIHBvaW50IGluZGljYXRlcy4KCQkJCS8vIEZvciBhIGRlbnNpdHkgMSB0aGUgcG9pbnRzL3BlcmNlbnRhZ2UgPSAxLiBGb3IgZGVuc2l0eSAyLCB0aGF0IHBlcmNlbnRhZ2UgbmVlZHMgdG8gYmUgcmUtZGV2aWRlZC4KCQkJCS8vIFJvdW5kIHRoZSBwZXJjZW50YWdlIG9mZnNldCB0byBhbiBldmVuIG51bWJlciwgdGhlbiBkaXZpZGUgYnkgdHdvCgkJCQkvLyB0byBzcHJlYWQgdGhlIG9mZnNldCBvbiBib3RoIHNpZGVzIG9mIHRoZSByYW5nZS4KCQkJCXN0ZXBzaXplID0gcGN0RGlmZmVyZW5jZS9yZWFsU3RlcHM7CgoJCQkJLy8gRGl2aWRlIGFsbCBwb2ludHMgZXZlbmx5LCBhZGRpbmcgdGhlIGNvcnJlY3QgbnVtYmVyIHRvIHRoaXMgc3VicmFuZ2UuCgkJCQkvLyBSdW4gdXAgdG8gPD0gc28gdGhhdCAxMDAlIGdldHMgYSBwb2ludCwgZXZlbnQgaWYgaWdub3JlTGFzdCBpcyBzZXQuCgkJCQlmb3IgKCBxID0gMTsgcSA8PSByZWFsU3RlcHM7IHEgKz0gMSApIHsKCgkJCQkJLy8gVGhlIHJhdGlvIGJldHdlZW4gdGhlIHJvdW5kZWQgdmFsdWUgYW5kIHRoZSBhY3R1YWwgc2l6ZSBtaWdodCBiZSB+MSUgb2ZmLgoJCQkJCS8vIENvcnJlY3QgdGhlIHBlcmNlbnRhZ2Ugb2Zmc2V0IGJ5IHRoZSBudW1iZXIgb2YgcG9pbnRzCgkJCQkJLy8gcGVyIHN1YnJhbmdlLiBkZW5zaXR5ID0gMSB3aWxsIHJlc3VsdCBpbiAxMDAgcG9pbnRzIG9uIHRoZQoJCQkJCS8vIGZ1bGwgcmFuZ2UsIDIgZm9yIDUwLCA0IGZvciAyNSwgZXRjLgoJCQkJCXBjdFBvcyA9IHByZXZQY3QgKyAoIHEgKiBzdGVwc2l6ZSApOwoJCQkJCWluZGV4ZXNbcGN0UG9zLnRvRml4ZWQoNSldID0gWyd4JywgMF07CgkJCQl9CgoJCQkJLy8gRGV0ZXJtaW5lIHRoZSBwb2ludCB0eXBlLgoJCQkJdHlwZSA9IChncm91cC5pbmRleE9mKGkpID4gLTEpID8gMSA6ICggbW9kZSA9PT0gJ3N0ZXBzJyA/IDIgOiAwICk7CgoJCQkJLy8gRW5mb3JjZSB0aGUgJ2lnbm9yZUZpcnN0JyBvcHRpb24gYnkgb3ZlcndyaXRpbmcgdGhlIHR5cGUgZm9yIDAuCgkJCQlpZiAoICFpbmRleCAmJiBpZ25vcmVGaXJzdCApIHsKCQkJCQl0eXBlID0gMDsKCQkJCX0KCgkJCQlpZiAoICEoaSA9PT0gaGlnaCAmJiBpZ25vcmVMYXN0KSkgewoJCQkJCS8vIE1hcmsgdGhlICd0eXBlJyBvZiB0aGlzIHBvaW50LiAwID0gcGxhaW4sIDEgPSByZWFsIHZhbHVlLCAyID0gc3RlcCB2YWx1ZS4KCQkJCQlpbmRleGVzW25ld1BjdC50b0ZpeGVkKDUpXSA9IFtpLCB0eXBlXTsKCQkJCX0KCgkJCQkvLyBVcGRhdGUgdGhlIHBlcmNlbnRhZ2UgY291bnQuCgkJCQlwcmV2UGN0ID0gbmV3UGN0OwoJCQl9CgkJfSk7CgoJCS8vIFJlc2V0IHRoZSBzcGVjdHJ1bS4KCQlzY29wZV9TcGVjdHJ1bS5kaXJlY3Rpb24gPSBvcmlnaW5hbFNwZWN0cnVtRGlyZWN0aW9uOwoKCQlyZXR1cm4gaW5kZXhlczsKCX0KCglmdW5jdGlvbiBhZGRNYXJraW5nICggc3ByZWFkLCBmaWx0ZXJGdW5jLCBmb3JtYXR0ZXIgKSB7CgoJCXZhciBzdHlsZSA9IFsnaG9yaXpvbnRhbCcsICd2ZXJ0aWNhbCddW29wdGlvbnMub3J0XSwKCQkJZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoKCQlhZGRDbGFzcyhlbGVtZW50LCBjc3NDbGFzc2VzWzIwXSk7CgkJYWRkQ2xhc3MoZWxlbWVudCwgY3NzQ2xhc3Nlc1syMF0gKyAnLScgKyBzdHlsZSk7CgoJCWZ1bmN0aW9uIGdldFNpemUoIHR5cGUgKXsKCQkJcmV0dXJuIFsgJy1ub3JtYWwnLCAnLWxhcmdlJywgJy1zdWInIF1bdHlwZV07CgkJfQoKCQlmdW5jdGlvbiBnZXRUYWdzKCBvZmZzZXQsIHNvdXJjZSwgdmFsdWVzICkgewoJCQlyZXR1cm4gJ2NsYXNzPSInICsgc291cmNlICsgJyAnICsKCQkJCXNvdXJjZSArICctJyArIHN0eWxlICsgJyAnICsKCQkJCXNvdXJjZSArIGdldFNpemUodmFsdWVzWzFdKSArCgkJCQknIiBzdHlsZT0iJyArIG9wdGlvbnMuc3R5bGUgKyAnOiAnICsgb2Zmc2V0ICsgJyUiJzsKCQl9CgoJCWZ1bmN0aW9uIGFkZFNwcmVhZCAoIG9mZnNldCwgdmFsdWVzICl7CgoJCQlpZiAoIHNjb3BlX1NwZWN0cnVtLmRpcmVjdGlvbiApIHsKCQkJCW9mZnNldCA9IDEwMCAtIG9mZnNldDsKCQkJfQoKCQkJLy8gQXBwbHkgdGhlIGZpbHRlciBmdW5jdGlvbiwgaWYgaXQgaXMgc2V0LgoJCQl2YWx1ZXNbMV0gPSAodmFsdWVzWzFdICYmIGZpbHRlckZ1bmMpID8gZmlsdGVyRnVuYyh2YWx1ZXNbMF0sIHZhbHVlc1sxXSkgOiB2YWx1ZXNbMV07CgoJCQkvLyBBZGQgYSBtYXJrZXIgZm9yIGV2ZXJ5IHBvaW50CgkJCWVsZW1lbnQuaW5uZXJIVE1MICs9ICc8ZGl2ICcgKyBnZXRUYWdzKG9mZnNldCwgY3NzQ2xhc3Nlc1syMV0sIHZhbHVlcykgKyAnPjwvZGl2Pic7CgoJCQkvLyBWYWx1ZXMgYXJlIG9ubHkgYXBwZW5kZWQgZm9yIHBvaW50cyBtYXJrZWQgJzEnIG9yICcyJy4KCQkJaWYgKCB2YWx1ZXNbMV0gKSB7CgkJCQllbGVtZW50LmlubmVySFRNTCArPSAnPGRpdiAnK2dldFRhZ3Mob2Zmc2V0LCBjc3NDbGFzc2VzWzIyXSwgdmFsdWVzKSsnPicgKyBmb3JtYXR0ZXIudG8odmFsdWVzWzBdKSArICc8L2Rpdj4nOwoJCQl9CgkJfQoKCQkvLyBBcHBlbmQgYWxsIHBvaW50cy4KCQlPYmplY3Qua2V5cyhzcHJlYWQpLmZvckVhY2goZnVuY3Rpb24oYSl7CgkJCWFkZFNwcmVhZChhLCBzcHJlYWRbYV0pOwoJCX0pOwoKCQlyZXR1cm4gZWxlbWVudDsKCX0KCglmdW5jdGlvbiBwaXBzICggZ3JpZCApIHsKCgl2YXIgbW9kZSA9IGdyaWQubW9kZSwKCQlkZW5zaXR5ID0gZ3JpZC5kZW5zaXR5IHx8IDEsCgkJZmlsdGVyID0gZ3JpZC5maWx0ZXIgfHwgZmFsc2UsCgkJdmFsdWVzID0gZ3JpZC52YWx1ZXMgfHwgZmFsc2UsCgkJc3RlcHBlZCA9IGdyaWQuc3RlcHBlZCB8fCBmYWxzZSwKCQlncm91cCA9IGdldEdyb3VwKCBtb2RlLCB2YWx1ZXMsIHN0ZXBwZWQgKSwKCQlzcHJlYWQgPSBnZW5lcmF0ZVNwcmVhZCggZGVuc2l0eSwgbW9kZSwgZ3JvdXAgKSwKCQlmb3JtYXQgPSBncmlkLmZvcm1hdCB8fCB7CgkJCXRvOiBNYXRoLnJvdW5kCgkJfTsKCgkJcmV0dXJuIHNjb3BlX1RhcmdldC5hcHBlbmRDaGlsZChhZGRNYXJraW5nKAoJCQlzcHJlYWQsCgkJCWZpbHRlciwKCQkJZm9ybWF0CgkJKSk7Cgl9CgoKCS8vIFNob3J0aGFuZCBmb3IgYmFzZSBkaW1lbnNpb25zLgoJZnVuY3Rpb24gYmFzZVNpemUgKCApIHsKCQlyZXR1cm4gc2NvcGVfQmFzZVsnb2Zmc2V0JyArIFsnV2lkdGgnLCAnSGVpZ2h0J11bb3B0aW9ucy5vcnRdXTsKCX0KCgkvLyBFeHRlcm5hbCBldmVudCBoYW5kbGluZwoJZnVuY3Rpb24gZmlyZUV2ZW50ICggZXZlbnQsIGhhbmRsZU51bWJlciwgdGFwICkgewoKCQlpZiAoIGhhbmRsZU51bWJlciAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMuaGFuZGxlcyAhPT0gMSApIHsKCQkJaGFuZGxlTnVtYmVyID0gTWF0aC5hYnMoaGFuZGxlTnVtYmVyIC0gb3B0aW9ucy5kaXIpOwoJCX0KCgkJT2JqZWN0LmtleXMoc2NvcGVfRXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uKCB0YXJnZXRFdmVudCApIHsKCgkJCXZhciBldmVudFR5cGUgPSB0YXJnZXRFdmVudC5zcGxpdCgnLicpWzBdOwoKCQkJaWYgKCBldmVudCA9PT0gZXZlbnRUeXBlICkgewoJCQkJc2NvcGVfRXZlbnRzW3RhcmdldEV2ZW50XS5mb3JFYWNoKGZ1bmN0aW9uKCBjYWxsYmFjayApIHsKCQkJCQkvLyAucmV2ZXJzZSBpcyBpbiBwbGFjZQoJCQkJCS8vIFJldHVybiB2YWx1ZXMgYXMgYXJyYXksIHNvIGFyZ18xW2FyZ18yXSBpcyBhbHdheXMgdmFsaWQuCgkJCQkJY2FsbGJhY2suY2FsbChzY29wZV9TZWxmLCBhc0FycmF5KHZhbHVlR2V0KCkpLCBoYW5kbGVOdW1iZXIsIGFzQXJyYXkoaW5TbGlkZXJPcmRlcihBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChzY29wZV9WYWx1ZXMpKSksIHRhcCB8fCBmYWxzZSk7CgkJCQl9KTsKCQkJfQoJCX0pOwoJfQoKCS8vIFJldHVybnMgdGhlIGlucHV0IGFycmF5LCByZXNwZWN0aW5nIHRoZSBzbGlkZXIgZGlyZWN0aW9uIGNvbmZpZ3VyYXRpb24uCglmdW5jdGlvbiBpblNsaWRlck9yZGVyICggdmFsdWVzICkgewoKCQkvLyBJZiBvbmx5IG9uZSBoYW5kbGUgaXMgdXNlZCwgcmV0dXJuIGEgc2luZ2xlIHZhbHVlLgoJCWlmICggdmFsdWVzLmxlbmd0aCA9PT0gMSApewoJCQlyZXR1cm4gdmFsdWVzWzBdOwoJCX0KCgkJaWYgKCBvcHRpb25zLmRpciApIHsKCQkJcmV0dXJuIHZhbHVlcy5yZXZlcnNlKCk7CgkJfQoKCQlyZXR1cm4gdmFsdWVzOwoJfQoKCgkvLyBIYW5kbGVyIGZvciBhdHRhY2hpbmcgZXZlbnRzIHRyb3VnaCBhIHByb3h5LgoJZnVuY3Rpb24gYXR0YWNoICggZXZlbnRzLCBlbGVtZW50LCBjYWxsYmFjaywgZGF0YSApIHsKCgkJLy8gVGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byAnZmlsdGVyJyBldmVudHMgdG8gdGhlIHNsaWRlci4KCQkvLyBlbGVtZW50IGlzIGEgbm9kZSwgbm90IGEgbm9kZUxpc3QKCgkJdmFyIG1ldGhvZCA9IGZ1bmN0aW9uICggZSApewoKCQkJaWYgKCBzY29wZV9UYXJnZXQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpICkgewoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9CgoJCQkvLyBTdG9wIGlmIGFuIGFjdGl2ZSAndGFwJyB0cmFuc2l0aW9uIGlzIHRha2luZyBwbGFjZS4KCQkJaWYgKCBoYXNDbGFzcyhzY29wZV9UYXJnZXQsIGNzc0NsYXNzZXNbMTRdKSApIHsKCQkJCXJldHVybiBmYWxzZTsKCQkJfQoKCQkJZSA9IGZpeEV2ZW50KGUsIGRhdGEucGFnZU9mZnNldCk7CgoJCQkvLyBJZ25vcmUgcmlnaHQgb3IgbWlkZGxlIGNsaWNrcyBvbiBzdGFydCAjNDU0CgkJCWlmICggZXZlbnRzID09PSBhY3Rpb25zLnN0YXJ0ICYmIGUuYnV0dG9ucyAhPT0gdW5kZWZpbmVkICYmIGUuYnV0dG9ucyA+IDEgKSB7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCgkJCS8vIElnbm9yZSByaWdodCBvciBtaWRkbGUgY2xpY2tzIG9uIHN0YXJ0ICM0NTQKCQkJaWYgKCBkYXRhLmhvdmVyICYmIGUuYnV0dG9ucyApIHsKCQkJCXJldHVybiBmYWxzZTsKCQkJfQoKCQkJZS5jYWxjUG9pbnQgPSBlLnBvaW50c1sgb3B0aW9ucy5vcnQgXTsKCgkJCS8vIENhbGwgdGhlIGV2ZW50IGhhbmRsZXIgd2l0aCB0aGUgZXZlbnQgWyBhbmQgYWRkaXRpb25hbCBkYXRhIF0uCgkJCWNhbGxiYWNrICggZSwgZGF0YSApOwoKCQl9LCBtZXRob2RzID0gW107CgoJCS8vIEJpbmQgYSBjbG9zdXJlIG9uIHRoZSB0YXJnZXQgZm9yIGV2ZXJ5IGV2ZW50IHR5cGUuCgkJZXZlbnRzLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbiggZXZlbnROYW1lICl7CgkJCWVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIG1ldGhvZCwgZmFsc2UpOwoJCQltZXRob2RzLnB1c2goW2V2ZW50TmFtZSwgbWV0aG9kXSk7CgkJfSk7CgoJCXJldHVybiBtZXRob2RzOwoJfQoKCS8vIEhhbmRsZSBtb3ZlbWVudCBvbiBkb2N1bWVudCBmb3IgaGFuZGxlIGFuZCByYW5nZSBkcmFnLgoJZnVuY3Rpb24gbW92ZSAoIGV2ZW50LCBkYXRhICkgewoKCQkvLyBGaXggIzQ5OAoJCS8vIENoZWNrIHZhbHVlIG9mIC5idXR0b25zIGluICdzdGFydCcgdG8gd29yayBhcm91bmQgYSBidWcgaW4gSUUxMCBtb2JpbGUgKGRhdGEuYnV0dG9uc1Byb3BlcnR5KS4KCQkvLyBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9JRS9mZWVkYmFjay9kZXRhaWxzLzkyNzAwNS9tb2JpbGUtaWUxMC13aW5kb3dzLXBob25lLWJ1dHRvbnMtcHJvcGVydHktb2YtcG9pbnRlcm1vdmUtZXZlbnQtYWx3YXlzLXplcm8KCQkvLyBJRTkgaGFzIC5idXR0b25zIGFuZCAud2hpY2ggemVybyBvbiBtb3VzZW1vdmUuCgkJLy8gRmlyZWZveCBicmVha3MgdGhlIHNwZWMgTUROIGRlZmluZXMuCgkJaWYgKCBuYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKCJNU0lFIDkiKSA9PT0gLTEgJiYgZXZlbnQuYnV0dG9ucyA9PT0gMCAmJiBkYXRhLmJ1dHRvbnNQcm9wZXJ0eSAhPT0gMCApIHsKCQkJcmV0dXJuIGVuZChldmVudCwgZGF0YSk7CgkJfQoKCQl2YXIgaGFuZGxlcyA9IGRhdGEuaGFuZGxlcyB8fCBzY29wZV9IYW5kbGVzLCBwb3NpdGlvbnMsIHN0YXRlID0gZmFsc2UsCgkJCXByb3Bvc2FsID0gKChldmVudC5jYWxjUG9pbnQgLSBkYXRhLnN0YXJ0KSAqIDEwMCkgLyBkYXRhLmJhc2VTaXplLAoJCQloYW5kbGVOdW1iZXIgPSBoYW5kbGVzWzBdID09PSBzY29wZV9IYW5kbGVzWzBdID8gMCA6IDEsIGk7CgoJCS8vIENhbGN1bGF0ZSByZWxhdGl2ZSBwb3NpdGlvbnMgZm9yIHRoZSBoYW5kbGVzLgoJCXBvc2l0aW9ucyA9IGdldFBvc2l0aW9ucyggcHJvcG9zYWwsIGRhdGEucG9zaXRpb25zLCBoYW5kbGVzLmxlbmd0aCA+IDEpOwoKCQlzdGF0ZSA9IHNldEhhbmRsZSAoIGhhbmRsZXNbMF0sIHBvc2l0aW9uc1toYW5kbGVOdW1iZXJdLCBoYW5kbGVzLmxlbmd0aCA9PT0gMSApOwoKCQlpZiAoIGhhbmRsZXMubGVuZ3RoID4gMSApIHsKCgkJCXN0YXRlID0gc2V0SGFuZGxlICggaGFuZGxlc1sxXSwgcG9zaXRpb25zW2hhbmRsZU51bWJlcj8wOjFdLCBmYWxzZSApIHx8IHN0YXRlOwoKCQkJaWYgKCBzdGF0ZSApIHsKCQkJCS8vIGZpcmUgZm9yIGJvdGggaGFuZGxlcwoJCQkJZm9yICggaSA9IDA7IGkgPCBkYXRhLmhhbmRsZXMubGVuZ3RoOyBpKysgKSB7CgkJCQkJZmlyZUV2ZW50KCdzbGlkZScsIGkpOwoJCQkJfQoJCQl9CgkJfSBlbHNlIGlmICggc3RhdGUgKSB7CgkJCS8vIEZpcmUgZm9yIGEgc2luZ2xlIGhhbmRsZQoJCQlmaXJlRXZlbnQoJ3NsaWRlJywgaGFuZGxlTnVtYmVyKTsKCQl9Cgl9CgoJLy8gVW5iaW5kIG1vdmUgZXZlbnRzIG9uIGRvY3VtZW50LCBjYWxsIGNhbGxiYWNrcy4KCWZ1bmN0aW9uIGVuZCAoIGV2ZW50LCBkYXRhICkgewoKCQkvLyBUaGUgaGFuZGxlIGlzIG5vIGxvbmdlciBhY3RpdmUsIHNvIHJlbW92ZSB0aGUgY2xhc3MuCgkJdmFyIGFjdGl2ZSA9IHNjb3BlX0Jhc2UucXVlcnlTZWxlY3RvciggJy4nICsgY3NzQ2xhc3Nlc1sxNV0gKSwKCQkJaGFuZGxlTnVtYmVyID0gZGF0YS5oYW5kbGVzWzBdID09PSBzY29wZV9IYW5kbGVzWzBdID8gMCA6IDE7CgoJCWlmICggYWN0aXZlICE9PSBudWxsICkgewoJCQlyZW1vdmVDbGFzcyhhY3RpdmUsIGNzc0NsYXNzZXNbMTVdKTsKCQl9CgoJCS8vIFJlbW92ZSBjdXJzb3Igc3R5bGVzIGFuZCB0ZXh0LXNlbGVjdGlvbiBldmVudHMgYm91bmQgdG8gdGhlIGJvZHkuCgkJaWYgKCBldmVudC5jdXJzb3IgKSB7CgkJCWRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gJyc7CgkJCWRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2VsZWN0c3RhcnQnLCBkb2N1bWVudC5ib2R5Lm5vVWlMaXN0ZW5lcik7CgkJfQoKCQl2YXIgZCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKCgkJLy8gVW5iaW5kIHRoZSBtb3ZlIGFuZCBlbmQgZXZlbnRzLCB3aGljaCBhcmUgYWRkZWQgb24gJ3N0YXJ0Jy4KCQlkLm5vVWlMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiggYyApIHsKCQkJZC5yZW1vdmVFdmVudExpc3RlbmVyKGNbMF0sIGNbMV0pOwoJCX0pOwoKCQkvLyBSZW1vdmUgZHJhZ2dpbmcgY2xhc3MuCgkJcmVtb3ZlQ2xhc3Moc2NvcGVfVGFyZ2V0LCBjc3NDbGFzc2VzWzEyXSk7CgoJCS8vIEZpcmUgdGhlIGNoYW5nZSBhbmQgc2V0IGV2ZW50cy4KCQlmaXJlRXZlbnQoJ3NldCcsIGhhbmRsZU51bWJlcik7CgkJZmlyZUV2ZW50KCdjaGFuZ2UnLCBoYW5kbGVOdW1iZXIpOwoKCQkvLyBJZiB0aGlzIGlzIGEgc3RhbmRhcmQgaGFuZGxlIG1vdmVtZW50LCBmaXJlIHRoZSBlbmQgZXZlbnQuCgkJaWYgKCBkYXRhLmhhbmRsZU51bWJlciAhPT0gdW5kZWZpbmVkICkgewoJCQlmaXJlRXZlbnQoJ2VuZCcsIGRhdGEuaGFuZGxlTnVtYmVyKTsKCQl9Cgl9CgoJLy8gRmlyZSAnZW5kJyB3aGVuIGEgbW91c2Ugb3IgcGVuIGxlYXZlcyB0aGUgZG9jdW1lbnQuCglmdW5jdGlvbiBkb2N1bWVudExlYXZlICggZXZlbnQsIGRhdGEgKSB7CgkJaWYgKCBldmVudC50eXBlID09PSAibW91c2VvdXQiICYmIGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PT0gIkhUTUwiICYmIGV2ZW50LnJlbGF0ZWRUYXJnZXQgPT09IG51bGwgKXsKCQkJZW5kICggZXZlbnQsIGRhdGEgKTsKCQl9Cgl9CgoJLy8gQmluZCBtb3ZlIGV2ZW50cyBvbiBkb2N1bWVudC4KCWZ1bmN0aW9uIHN0YXJ0ICggZXZlbnQsIGRhdGEgKSB7CgoJCXZhciBkID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwoKCQkvLyBNYXJrIHRoZSBoYW5kbGUgYXMgJ2FjdGl2ZScgc28gaXQgY2FuIGJlIHN0eWxlZC4KCQlpZiAoIGRhdGEuaGFuZGxlcy5sZW5ndGggPT09IDEgKSB7CgkJCWFkZENsYXNzKGRhdGEuaGFuZGxlc1swXS5jaGlsZHJlblswXSwgY3NzQ2xhc3Nlc1sxNV0pOwoKCQkJLy8gU3VwcG9ydCAnZGlzYWJsZWQnIGhhbmRsZXMKCQkJaWYgKCBkYXRhLmhhbmRsZXNbMF0uaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpICkgewoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9CgkJfQoKCQkvLyBGaXggIzU1MSwgd2hlcmUgYSBoYW5kbGUgZ2V0cyBzZWxlY3RlZCBpbnN0ZWFkIG9mIGRyYWdnZWQuCgkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCgkJLy8gQSBkcmFnIHNob3VsZCBuZXZlciBwcm9wYWdhdGUgdXAgdG8gdGhlICd0YXAnIGV2ZW50LgoJCWV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwoKCQkvLyBBdHRhY2ggdGhlIG1vdmUgYW5kIGVuZCBldmVudHMuCgkJdmFyIG1vdmVFdmVudCA9IGF0dGFjaChhY3Rpb25zLm1vdmUsIGQsIG1vdmUsIHsKCQkJc3RhcnQ6IGV2ZW50LmNhbGNQb2ludCwKCQkJYmFzZVNpemU6IGJhc2VTaXplKCksCgkJCXBhZ2VPZmZzZXQ6IGV2ZW50LnBhZ2VPZmZzZXQsCgkJCWhhbmRsZXM6IGRhdGEuaGFuZGxlcywKCQkJaGFuZGxlTnVtYmVyOiBkYXRhLmhhbmRsZU51bWJlciwKCQkJYnV0dG9uc1Byb3BlcnR5OiBldmVudC5idXR0b25zLAoJCQlwb3NpdGlvbnM6IFsKCQkJCXNjb3BlX0xvY2F0aW9uc1swXSwKCQkJCXNjb3BlX0xvY2F0aW9uc1tzY29wZV9IYW5kbGVzLmxlbmd0aCAtIDFdCgkJCV0KCQl9KSwgZW5kRXZlbnQgPSBhdHRhY2goYWN0aW9ucy5lbmQsIGQsIGVuZCwgewoJCQloYW5kbGVzOiBkYXRhLmhhbmRsZXMsCgkJCWhhbmRsZU51bWJlcjogZGF0YS5oYW5kbGVOdW1iZXIKCQl9KTsKCgkJdmFyIG91dEV2ZW50ID0gYXR0YWNoKCJtb3VzZW91dCIsIGQsIGRvY3VtZW50TGVhdmUsIHsKCQkJaGFuZGxlczogZGF0YS5oYW5kbGVzLAoJCQloYW5kbGVOdW1iZXI6IGRhdGEuaGFuZGxlTnVtYmVyCgkJfSk7CgoJCWQubm9VaUxpc3RlbmVycyA9IG1vdmVFdmVudC5jb25jYXQoZW5kRXZlbnQsIG91dEV2ZW50KTsKCgkJLy8gVGV4dCBzZWxlY3Rpb24gaXNuJ3QgYW4gaXNzdWUgb24gdG91Y2ggZGV2aWNlcywKCQkvLyBzbyBhZGRpbmcgY3Vyc29yIHN0eWxlcyBjYW4gYmUgc2tpcHBlZC4KCQlpZiAoIGV2ZW50LmN1cnNvciApIHsKCgkJCS8vIFByZXZlbnQgdGhlICdJJyBjdXJzb3IgYW5kIGV4dGVuZCB0aGUgcmFuZ2UtZHJhZyBjdXJzb3IuCgkJCWRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gZ2V0Q29tcHV0ZWRTdHlsZShldmVudC50YXJnZXQpLmN1cnNvcjsKCgkJCS8vIE1hcmsgdGhlIHRhcmdldCB3aXRoIGEgZHJhZ2dpbmcgc3RhdGUuCgkJCWlmICggc2NvcGVfSGFuZGxlcy5sZW5ndGggPiAxICkgewoJCQkJYWRkQ2xhc3Moc2NvcGVfVGFyZ2V0LCBjc3NDbGFzc2VzWzEyXSk7CgkJCX0KCgkJCXZhciBmID0gZnVuY3Rpb24oKXsKCQkJCXJldHVybiBmYWxzZTsKCQkJfTsKCgkJCWRvY3VtZW50LmJvZHkubm9VaUxpc3RlbmVyID0gZjsKCgkJCS8vIFByZXZlbnQgdGV4dCBzZWxlY3Rpb24gd2hlbiBkcmFnZ2luZyB0aGUgaGFuZGxlcy4KCQkJZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3RzdGFydCcsIGYsIGZhbHNlKTsKCQl9CgoJCWlmICggZGF0YS5oYW5kbGVOdW1iZXIgIT09IHVuZGVmaW5lZCApIHsKCQkJZmlyZUV2ZW50KCdzdGFydCcsIGRhdGEuaGFuZGxlTnVtYmVyKTsKCQl9Cgl9CgoJLy8gTW92ZSBjbG9zZXN0IGhhbmRsZSB0byB0YXBwZWQgbG9jYXRpb24uCglmdW5jdGlvbiB0YXAgKCBldmVudCApIHsKCgkJdmFyIGxvY2F0aW9uID0gZXZlbnQuY2FsY1BvaW50LCB0b3RhbCA9IDAsIGhhbmRsZU51bWJlciwgdG87CgoJCS8vIFRoZSB0YXAgZXZlbnQgc2hvdWxkbid0IHByb3BhZ2F0ZSB1cCBhbmQgY2F1c2UgJ2VkZ2UnIHRvIHJ1bi4KCQlldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKCgkJLy8gQWRkIHVwIHRoZSBoYW5kbGUgb2Zmc2V0cy4KCQlzY29wZV9IYW5kbGVzLmZvckVhY2goZnVuY3Rpb24oYSl7CgkJCXRvdGFsICs9IG9mZnNldChhKVsgb3B0aW9ucy5zdHlsZSBdOwoJCX0pOwoKCQkvLyBGaW5kIHRoZSBoYW5kbGUgY2xvc2VzdCB0byB0aGUgdGFwcGVkIHBvc2l0aW9uLgoJCWhhbmRsZU51bWJlciA9ICggbG9jYXRpb24gPCB0b3RhbC8yIHx8IHNjb3BlX0hhbmRsZXMubGVuZ3RoID09PSAxICkgPyAwIDogMTsKCgkJbG9jYXRpb24gLT0gb2Zmc2V0KHNjb3BlX0Jhc2UpWyBvcHRpb25zLnN0eWxlIF07CgoJCS8vIENhbGN1bGF0ZSB0aGUgbmV3IHBvc2l0aW9uLgoJCXRvID0gKCBsb2NhdGlvbiAqIDEwMCApIC8gYmFzZVNpemUoKTsKCgkJaWYgKCAhb3B0aW9ucy5ldmVudHMuc25hcCApIHsKCQkJLy8gRmxhZyB0aGUgc2xpZGVyIGFzIGl0IGlzIG5vdyBpbiBhIHRyYW5zaXRpb25hbCBzdGF0ZS4KCQkJLy8gVHJhbnNpdGlvbiB0YWtlcyAzMDAgbXMsIHNvIHJlLWVuYWJsZSB0aGUgc2xpZGVyIGFmdGVyd2FyZHMuCgkJCWFkZENsYXNzRm9yKCBzY29wZV9UYXJnZXQsIGNzc0NsYXNzZXNbMTRdLCAzMDAgKTsKCQl9CgoJCS8vIFN1cHBvcnQgJ2Rpc2FibGVkJyBoYW5kbGVzCgkJaWYgKCBzY29wZV9IYW5kbGVzW2hhbmRsZU51bWJlcl0uaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpICkgewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQkvLyBGaW5kIHRoZSBjbG9zZXN0IGhhbmRsZSBhbmQgY2FsY3VsYXRlIHRoZSB0YXBwZWQgcG9pbnQuCgkJLy8gVGhlIHNldCBoYW5kbGUgdG8gdGhlIG5ldyBwb3NpdGlvbi4KCQlzZXRIYW5kbGUoIHNjb3BlX0hhbmRsZXNbaGFuZGxlTnVtYmVyXSwgdG8gKTsKCgkJZmlyZUV2ZW50KCdzbGlkZScsIGhhbmRsZU51bWJlciwgdHJ1ZSk7CgkJZmlyZUV2ZW50KCdzZXQnLCBoYW5kbGVOdW1iZXIsIHRydWUpOwoJCWZpcmVFdmVudCgnY2hhbmdlJywgaGFuZGxlTnVtYmVyLCB0cnVlKTsKCgkJaWYgKCBvcHRpb25zLmV2ZW50cy5zbmFwICkgewoJCQlzdGFydChldmVudCwgeyBoYW5kbGVzOiBbc2NvcGVfSGFuZGxlc1toYW5kbGVOdW1iZXJdXSB9KTsKCQl9Cgl9CgoJLy8gRmlyZXMgYSAnaG92ZXInIGV2ZW50IGZvciBhIGhvdmVyZWQgbW91c2UvcGVuIHBvc2l0aW9uLgoJZnVuY3Rpb24gaG92ZXIgKCBldmVudCApIHsKCgkJdmFyIGxvY2F0aW9uID0gZXZlbnQuY2FsY1BvaW50IC0gb2Zmc2V0KHNjb3BlX0Jhc2UpWyBvcHRpb25zLnN0eWxlIF0sCgkJCXRvID0gc2NvcGVfU3BlY3RydW0uZ2V0U3RlcCgoIGxvY2F0aW9uICogMTAwICkgLyBiYXNlU2l6ZSgpKSwKCQkJdmFsdWUgPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcoIHRvICk7CgoJCU9iamVjdC5rZXlzKHNjb3BlX0V2ZW50cykuZm9yRWFjaChmdW5jdGlvbiggdGFyZ2V0RXZlbnQgKSB7CgkJCWlmICggJ2hvdmVyJyA9PT0gdGFyZ2V0RXZlbnQuc3BsaXQoJy4nKVswXSApIHsKCQkJCXNjb3BlX0V2ZW50c1t0YXJnZXRFdmVudF0uZm9yRWFjaChmdW5jdGlvbiggY2FsbGJhY2sgKSB7CgkJCQkJY2FsbGJhY2suY2FsbCggc2NvcGVfU2VsZiwgdmFsdWUgKTsKCQkJCX0pOwoJCQl9CgkJfSk7Cgl9CgoJLy8gQXR0YWNoIGV2ZW50cyB0byBzZXZlcmFsIHNsaWRlciBwYXJ0cy4KCWZ1bmN0aW9uIGV2ZW50cyAoIGJlaGF2aW91ciApIHsKCgkJdmFyIGksIGRyYWc7CgoJCS8vIEF0dGFjaCB0aGUgc3RhbmRhcmQgZHJhZyBldmVudCB0byB0aGUgaGFuZGxlcy4KCQlpZiAoICFiZWhhdmlvdXIuZml4ZWQgKSB7CgoJCQlmb3IgKCBpID0gMDsgaSA8IHNjb3BlX0hhbmRsZXMubGVuZ3RoOyBpICs9IDEgKSB7CgoJCQkJLy8gVGhlc2UgZXZlbnRzIGFyZSBvbmx5IGJvdW5kIHRvIHRoZSB2aXN1YWwgaGFuZGxlCgkJCQkvLyBlbGVtZW50LCBub3QgdGhlICdyZWFsJyBvcmlnaW4gZWxlbWVudC4KCQkJCWF0dGFjaCAoIGFjdGlvbnMuc3RhcnQsIHNjb3BlX0hhbmRsZXNbaV0uY2hpbGRyZW5bMF0sIHN0YXJ0LCB7CgkJCQkJaGFuZGxlczogWyBzY29wZV9IYW5kbGVzW2ldIF0sCgkJCQkJaGFuZGxlTnVtYmVyOiBpCgkJCQl9KTsKCQkJfQoJCX0KCgkJLy8gQXR0YWNoIHRoZSB0YXAgZXZlbnQgdG8gdGhlIHNsaWRlciBiYXNlLgoJCWlmICggYmVoYXZpb3VyLnRhcCApIHsKCgkJCWF0dGFjaCAoIGFjdGlvbnMuc3RhcnQsIHNjb3BlX0Jhc2UsIHRhcCwgewoJCQkJaGFuZGxlczogc2NvcGVfSGFuZGxlcwoJCQl9KTsKCQl9CgoJCS8vIEZpcmUgaG92ZXIgZXZlbnRzCgkJaWYgKCBiZWhhdmlvdXIuaG92ZXIgKSB7CgkJCWF0dGFjaCAoIGFjdGlvbnMubW92ZSwgc2NvcGVfQmFzZSwgaG92ZXIsIHsgaG92ZXI6IHRydWUgfSApOwoJCQlmb3IgKCBpID0gMDsgaSA8IHNjb3BlX0hhbmRsZXMubGVuZ3RoOyBpICs9IDEgKSB7CgkJCQlbJ21vdXNlbW92ZSBNU1BvaW50ZXJNb3ZlIHBvaW50ZXJtb3ZlJ10uZm9yRWFjaChmdW5jdGlvbiggZXZlbnROYW1lICl7CgkJCQkJc2NvcGVfSGFuZGxlc1tpXS5jaGlsZHJlblswXS5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgc3RvcFByb3BhZ2F0aW9uLCBmYWxzZSk7CgkJCQl9KTsKCQkJfQoJCX0KCgkJLy8gTWFrZSB0aGUgcmFuZ2UgZHJhZ2dhYmxlLgoJCWlmICggYmVoYXZpb3VyLmRyYWcgKXsKCgkJCWRyYWcgPSBbc2NvcGVfQmFzZS5xdWVyeVNlbGVjdG9yKCAnLicgKyBjc3NDbGFzc2VzWzddICldOwoJCQlhZGRDbGFzcyhkcmFnWzBdLCBjc3NDbGFzc2VzWzEwXSk7CgoJCQkvLyBXaGVuIHRoZSByYW5nZSBpcyBmaXhlZCwgdGhlIGVudGlyZSByYW5nZSBjYW4KCQkJLy8gYmUgZHJhZ2dlZCBieSB0aGUgaGFuZGxlcy4gVGhlIGhhbmRsZSBpbiB0aGUgZmlyc3QKCQkJLy8gb3JpZ2luIHdpbGwgcHJvcGFnYXRlIHRoZSBzdGFydCBldmVudCB1cHdhcmQsCgkJCS8vIGJ1dCBpdCBuZWVkcyB0byBiZSBib3VuZCBtYW51YWxseSBvbiB0aGUgb3RoZXIuCgkJCWlmICggYmVoYXZpb3VyLmZpeGVkICkgewoJCQkJZHJhZy5wdXNoKHNjb3BlX0hhbmRsZXNbKGRyYWdbMF0gPT09IHNjb3BlX0hhbmRsZXNbMF0gPyAxIDogMCldLmNoaWxkcmVuWzBdKTsKCQkJfQoKCQkJZHJhZy5mb3JFYWNoKGZ1bmN0aW9uKCBlbGVtZW50ICkgewoJCQkJYXR0YWNoICggYWN0aW9ucy5zdGFydCwgZWxlbWVudCwgc3RhcnQsIHsKCQkJCQloYW5kbGVzOiBzY29wZV9IYW5kbGVzCgkJCQl9KTsKCQkJfSk7CgkJfQoJfQoKCgkvLyBUZXN0IHN1Z2dlc3RlZCB2YWx1ZXMgYW5kIGFwcGx5IG1hcmdpbiwgc3RlcC4KCWZ1bmN0aW9uIHNldEhhbmRsZSAoIGhhbmRsZSwgdG8sIG5vTGltaXRPcHRpb24gKSB7CgoJCXZhciB0cmlnZ2VyID0gaGFuZGxlICE9PSBzY29wZV9IYW5kbGVzWzBdID8gMSA6IDAsCgkJCWxvd2VyTWFyZ2luID0gc2NvcGVfTG9jYXRpb25zWzBdICsgb3B0aW9ucy5tYXJnaW4sCgkJCXVwcGVyTWFyZ2luID0gc2NvcGVfTG9jYXRpb25zWzFdIC0gb3B0aW9ucy5tYXJnaW4sCgkJCWxvd2VyTGltaXQgPSBzY29wZV9Mb2NhdGlvbnNbMF0gKyBvcHRpb25zLmxpbWl0LAoJCQl1cHBlckxpbWl0ID0gc2NvcGVfTG9jYXRpb25zWzFdIC0gb3B0aW9ucy5saW1pdDsKCgkJLy8gRm9yIHNsaWRlcnMgd2l0aCBtdWx0aXBsZSBoYW5kbGVzLAoJCS8vIGxpbWl0IG1vdmVtZW50IHRvIHRoZSBvdGhlciBoYW5kbGUuCgkJLy8gQXBwbHkgdGhlIG1hcmdpbiBvcHRpb24gYnkgYWRkaW5nIGl0IHRvIHRoZSBoYW5kbGUgcG9zaXRpb25zLgoJCWlmICggc2NvcGVfSGFuZGxlcy5sZW5ndGggPiAxICkgewoJCQl0byA9IHRyaWdnZXIgPyBNYXRoLm1heCggdG8sIGxvd2VyTWFyZ2luICkgOiBNYXRoLm1pbiggdG8sIHVwcGVyTWFyZ2luICk7CgkJfQoKCQkvLyBUaGUgbGltaXQgb3B0aW9uIGhhcyB0aGUgb3Bwb3NpdGUgZWZmZWN0LCBsaW1pdGluZyBoYW5kbGVzIHRvIGEKCQkvLyBtYXhpbXVtIGRpc3RhbmNlIGZyb20gYW5vdGhlci4gTGltaXQgbXVzdCBiZSA+IDAsIGFzIG90aGVyd2lzZQoJCS8vIGhhbmRsZXMgd291bGQgYmUgdW5tb3ZlYWJsZS4gJ25vTGltaXRPcHRpb24nIGlzIHNldCB0byAnZmFsc2UnCgkJLy8gZm9yIHRoZSAudmFsKCkgbWV0aG9kLCBleGNlcHQgZm9yIHBhc3MgNC80LgoJCWlmICggbm9MaW1pdE9wdGlvbiAhPT0gZmFsc2UgJiYgb3B0aW9ucy5saW1pdCAmJiBzY29wZV9IYW5kbGVzLmxlbmd0aCA+IDEgKSB7CgkJCXRvID0gdHJpZ2dlciA/IE1hdGgubWluICggdG8sIGxvd2VyTGltaXQgKSA6IE1hdGgubWF4KCB0bywgdXBwZXJMaW1pdCApOwoJCX0KCgkJLy8gSGFuZGxlIHRoZSBzdGVwIG9wdGlvbi4KCQl0byA9IHNjb3BlX1NwZWN0cnVtLmdldFN0ZXAoIHRvICk7CgoJCS8vIExpbWl0IHRvIDAvMTAwIGZvciAudmFsIGlucHV0LCB0cmltIGFueXRoaW5nIGJleW9uZCA3IGRpZ2l0cywgYXMKCQkvLyBKYXZhU2NyaXB0IGhhcyBzb21lIGlzc3VlcyBpbiBpdHMgZmxvYXRpbmcgcG9pbnQgaW1wbGVtZW50YXRpb24uCgkJdG8gPSBsaW1pdChwYXJzZUZsb2F0KHRvLnRvRml4ZWQoNykpKTsKCgkJLy8gUmV0dXJuIGZhbHNlIGlmIGhhbmRsZSBjYW4ndCBtb3ZlCgkJaWYgKCB0byA9PT0gc2NvcGVfTG9jYXRpb25zW3RyaWdnZXJdICkgewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQkvLyBTZXQgdGhlIGhhbmRsZSB0byB0aGUgbmV3IHBvc2l0aW9uLgoJCS8vIFVzZSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgZm9yIGVmZmljaWVudCBwYWludGluZy4KCQkvLyBObyBzaWduaWZpY2FudCBlZmZlY3QgaW4gQ2hyb21lLCBFZGdlIHNlZXMgZHJhbWF0aWMKCQkvLyBwZXJmb3JtYWNlIGltcHJvdmVtZW50cy4KCQlpZiAoIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgKSB7CgkJCXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXsKCQkJCWhhbmRsZS5zdHlsZVtvcHRpb25zLnN0eWxlXSA9IHRvICsgJyUnOwoJCQl9KTsKCQl9IGVsc2UgewoJCQloYW5kbGUuc3R5bGVbb3B0aW9ucy5zdHlsZV0gPSB0byArICclJzsKCQl9CgoJCS8vIEZvcmNlIHByb3BlciBoYW5kbGUgc3RhY2tpbmcKCQlpZiAoICFoYW5kbGUucHJldmlvdXNTaWJsaW5nICkgewoJCQlyZW1vdmVDbGFzcyhoYW5kbGUsIGNzc0NsYXNzZXNbMTddKTsKCQkJaWYgKCB0byA+IDUwICkgewoJCQkJYWRkQ2xhc3MoaGFuZGxlLCBjc3NDbGFzc2VzWzE3XSk7CgkJCX0KCQl9CgoJCS8vIFVwZGF0ZSBsb2NhdGlvbnMuCgkJc2NvcGVfTG9jYXRpb25zW3RyaWdnZXJdID0gdG87CgoJCS8vIENvbnZlcnQgdGhlIHZhbHVlIHRvIHRoZSBzbGlkZXIgc3RlcHBpbmcvcmFuZ2UuCgkJc2NvcGVfVmFsdWVzW3RyaWdnZXJdID0gc2NvcGVfU3BlY3RydW0uZnJvbVN0ZXBwaW5nKCB0byApOwoKCQlmaXJlRXZlbnQoJ3VwZGF0ZScsIHRyaWdnZXIpOwoKCQlyZXR1cm4gdHJ1ZTsKCX0KCgkvLyBMb29wIHZhbHVlcyBmcm9tIHZhbHVlIG1ldGhvZCBhbmQgYXBwbHkgdGhlbS4KCWZ1bmN0aW9uIHNldFZhbHVlcyAoIGNvdW50LCB2YWx1ZXMgKSB7CgoJCXZhciBpLCB0cmlnZ2VyLCB0bzsKCgkJLy8gV2l0aCB0aGUgbGltaXQgb3B0aW9uLCB3ZSdsbCBuZWVkIGFub3RoZXIgbGltaXRpbmcgcGFzcy4KCQlpZiAoIG9wdGlvbnMubGltaXQgKSB7CgkJCWNvdW50ICs9IDE7CgkJfQoKCQkvLyBJZiB0aGVyZSBhcmUgbXVsdGlwbGUgaGFuZGxlcyB0byBiZSBzZXQgcnVuIHRoZSBzZXR0aW5nCgkJLy8gbWVjaGFuaXNtIHR3aWNlIGZvciB0aGUgZmlyc3QgaGFuZGxlLCB0byBtYWtlIHN1cmUgaXQKCQkvLyBjYW4gYmUgYm91bmNlZCBvZiB0aGUgc2Vjb25kIG9uZSBwcm9wZXJseS4KCQlmb3IgKCBpID0gMDsgaSA8IGNvdW50OyBpICs9IDEgKSB7CgoJCQl0cmlnZ2VyID0gaSUyOwoKCQkJLy8gR2V0IHRoZSBjdXJyZW50IGFyZ3VtZW50IGZyb20gdGhlIGFycmF5LgoJCQl0byA9IHZhbHVlc1t0cmlnZ2VyXTsKCgkJCS8vIFNldHRpbmcgd2l0aCBudWxsIGluZGljYXRlcyBhbiAnaWdub3JlJy4KCQkJLy8gSW5wdXR0aW5nICdmYWxzZScgaXMgaW52YWxpZC4KCQkJaWYgKCB0byAhPT0gbnVsbCAmJiB0byAhPT0gZmFsc2UgKSB7CgoJCQkJLy8gSWYgYSBmb3JtYXR0ZWQgbnVtYmVyIHdhcyBwYXNzZWQsIGF0dGVtdCB0byBkZWNvZGUgaXQuCgkJCQlpZiAoIHR5cGVvZiB0byA9PT0gJ251bWJlcicgKSB7CgkJCQkJdG8gPSBTdHJpbmcodG8pOwoJCQkJfQoKCQkJCXRvID0gb3B0aW9ucy5mb3JtYXQuZnJvbSggdG8gKTsKCgkJCQkvLyBSZXF1ZXN0IGFuIHVwZGF0ZSBmb3IgYWxsIGxpbmtzIGlmIHRoZSB2YWx1ZSB3YXMgaW52YWxpZC4KCQkJCS8vIERvIHNvIHRvbyBpZiBzZXR0aW5nIHRoZSBoYW5kbGUgZmFpbHMuCgkJCQlpZiAoIHRvID09PSBmYWxzZSB8fCBpc05hTih0bykgfHwgc2V0SGFuZGxlKCBzY29wZV9IYW5kbGVzW3RyaWdnZXJdLCBzY29wZV9TcGVjdHJ1bS50b1N0ZXBwaW5nKCB0byApLCBpID09PSAoMyAtIG9wdGlvbnMuZGlyKSApID09PSBmYWxzZSApIHsKCQkJCQlmaXJlRXZlbnQoJ3VwZGF0ZScsIHRyaWdnZXIpOwoJCQkJfQoJCQl9CgkJfQoJfQoKCS8vIFNldCB0aGUgc2xpZGVyIHZhbHVlLgoJZnVuY3Rpb24gdmFsdWVTZXQgKCBpbnB1dCApIHsKCgkJdmFyIGNvdW50LCB2YWx1ZXMgPSBhc0FycmF5KCBpbnB1dCApLCBpOwoKCQkvLyBUaGUgUlRMIHNldHRpbmdzIGlzIGltcGxlbWVudGVkIGJ5IHJldmVyc2luZyB0aGUgZnJvbnQtZW5kLAoJCS8vIGludGVybmFsIG1lY2hhbmlzbXMgYXJlIHRoZSBzYW1lLgoJCWlmICggb3B0aW9ucy5kaXIgJiYgb3B0aW9ucy5oYW5kbGVzID4gMSApIHsKCQkJdmFsdWVzLnJldmVyc2UoKTsKCQl9CgoJCS8vIEFuaW1hdGlvbiBpcyBvcHRpb25hbC4KCQkvLyBNYWtlIHN1cmUgdGhlIGluaXRpYWwgdmFsdWVzIHdoZXJlIHNldCBiZWZvcmUgdXNpbmcgYW5pbWF0ZWQgcGxhY2VtZW50LgoJCWlmICggb3B0aW9ucy5hbmltYXRlICYmIHNjb3BlX0xvY2F0aW9uc1swXSAhPT0gLTEgKSB7CgkJCWFkZENsYXNzRm9yKCBzY29wZV9UYXJnZXQsIGNzc0NsYXNzZXNbMTRdLCAzMDAgKTsKCQl9CgoJCS8vIERldGVybWluZSBob3cgb2Z0ZW4gdG8gc2V0IHRoZSBoYW5kbGVzLgoJCWNvdW50ID0gc2NvcGVfSGFuZGxlcy5sZW5ndGggPiAxID8gMyA6IDE7CgoJCWlmICggdmFsdWVzLmxlbmd0aCA9PT0gMSApIHsKCQkJY291bnQgPSAxOwoJCX0KCgkJc2V0VmFsdWVzICggY291bnQsIHZhbHVlcyApOwoKCQkvLyBGaXJlIHRoZSAnc2V0JyBldmVudCBmb3IgYm90aCBoYW5kbGVzLgoJCWZvciAoIGkgPSAwOyBpIDwgc2NvcGVfSGFuZGxlcy5sZW5ndGg7IGkrKyApIHsKCQkJZmlyZUV2ZW50KCdzZXQnLCBpKTsKCQl9Cgl9CgoJLy8gR2V0IHRoZSBzbGlkZXIgdmFsdWUuCglmdW5jdGlvbiB2YWx1ZUdldCAoICkgewoKCQl2YXIgaSwgcmV0b3VyID0gW107CgoJCS8vIEdldCB0aGUgdmFsdWUgZnJvbSBhbGwgaGFuZGxlcy4KCQlmb3IgKCBpID0gMDsgaSA8IG9wdGlvbnMuaGFuZGxlczsgaSArPSAxICl7CgkJCXJldG91cltpXSA9IG9wdGlvbnMuZm9ybWF0LnRvKCBzY29wZV9WYWx1ZXNbaV0gKTsKCQl9CgoJCXJldHVybiBpblNsaWRlck9yZGVyKCByZXRvdXIgKTsKCX0KCgkvLyBSZW1vdmVzIGNsYXNzZXMgZnJvbSB0aGUgcm9vdCBhbmQgZW1wdGllcyBpdC4KCWZ1bmN0aW9uIGRlc3Ryb3kgKCApIHsKCQljc3NDbGFzc2VzLmZvckVhY2goZnVuY3Rpb24oY2xzKXsKCQkJaWYgKCAhY2xzICkgeyByZXR1cm47IH0gLy8gSWdub3JlIGVtcHR5IGNsYXNzZXMKCQkJcmVtb3ZlQ2xhc3Moc2NvcGVfVGFyZ2V0LCBjbHMpOwoJCX0pOwoJCXNjb3BlX1RhcmdldC5pbm5lckhUTUwgPSAnJzsKCQlkZWxldGUgc2NvcGVfVGFyZ2V0Lm5vVWlTbGlkZXI7Cgl9CgoJLy8gR2V0IHRoZSBjdXJyZW50IHN0ZXAgc2l6ZSBmb3IgdGhlIHNsaWRlci4KCWZ1bmN0aW9uIGdldEN1cnJlbnRTdGVwICggKSB7CgoJCS8vIENoZWNrIGFsbCBsb2NhdGlvbnMsIG1hcCB0aGVtIHRvIHRoZWlyIHN0ZXBwaW5nIHBvaW50LgoJCS8vIEdldCB0aGUgc3RlcCBwb2ludCwgdGhlbiBmaW5kIGl0IGluIHRoZSBpbnB1dCBsaXN0LgoJCXZhciByZXRvdXIgPSBzY29wZV9Mb2NhdGlvbnMubWFwKGZ1bmN0aW9uKCBsb2NhdGlvbiwgaW5kZXggKXsKCgkJCXZhciBzdGVwID0gc2NvcGVfU3BlY3RydW0uZ2V0QXBwbGljYWJsZVN0ZXAoIGxvY2F0aW9uICksCgoJCQkJLy8gQXMgcGVyICMzOTEsIHRoZSBjb21wYXJpc29uIGZvciB0aGUgZGVjcmVtZW50IHN0ZXAgY2FuIGhhdmUgc29tZSByb3VuZGluZyBpc3N1ZXMuCgkJCQkvLyBSb3VuZCB0aGUgdmFsdWUgdG8gdGhlIHByZWNpc2lvbiB1c2VkIGluIHRoZSBzdGVwLgoJCQkJc3RlcERlY2ltYWxzID0gY291bnREZWNpbWFscyhTdHJpbmcoc3RlcFsyXSkpLAoKCQkJCS8vIEdldCB0aGUgY3VycmVudCBudW1lcmljIHZhbHVlCgkJCQl2YWx1ZSA9IHNjb3BlX1ZhbHVlc1tpbmRleF0sCgoJCQkJLy8gVG8gbW92ZSB0aGUgc2xpZGVyICdvbmUgc3RlcCB1cCcsIHRoZSBjdXJyZW50IHN0ZXAgdmFsdWUgbmVlZHMgdG8gYmUgYWRkZWQuCgkJCQkvLyBVc2UgbnVsbCBpZiB3ZSBhcmUgYXQgdGhlIG1heGltdW0gc2xpZGVyIHZhbHVlLgoJCQkJaW5jcmVtZW50ID0gbG9jYXRpb24gPT09IDEwMCA/IG51bGwgOiBzdGVwWzJdLAoKCQkJCS8vIEdvaW5nICdvbmUgc3RlcCBkb3duJyBtaWdodCBwdXQgdGhlIHNsaWRlciBpbiBhIGRpZmZlcmVudCBzdWItcmFuZ2UsIHNvIHdlCgkJCQkvLyBuZWVkIHRvIHN3aXRjaCBiZXR3ZWVuIHRoZSBjdXJyZW50IG9yIHRoZSBwcmV2aW91cyBzdGVwLgoJCQkJcHJldiA9IE51bWJlcigodmFsdWUgLSBzdGVwWzJdKS50b0ZpeGVkKHN0ZXBEZWNpbWFscykpLAoKCQkJCS8vIElmIHRoZSB2YWx1ZSBmaXRzIHRoZSBzdGVwLCByZXR1cm4gdGhlIGN1cnJlbnQgc3RlcCB2YWx1ZS4gT3RoZXJ3aXNlLCB1c2UgdGhlCgkJCQkvLyBwcmV2aW91cyBzdGVwLiBSZXR1cm4gbnVsbCBpZiB0aGUgc2xpZGVyIGlzIGF0IGl0cyBtaW5pbXVtIHZhbHVlLgoJCQkJZGVjcmVtZW50ID0gbG9jYXRpb24gPT09IDAgPyBudWxsIDogKHByZXYgPj0gc3RlcFsxXSkgPyBzdGVwWzJdIDogKHN0ZXBbMF0gfHwgZmFsc2UpOwoKCQkJcmV0dXJuIFtkZWNyZW1lbnQsIGluY3JlbWVudF07CgkJfSk7CgoJCS8vIFJldHVybiB2YWx1ZXMgaW4gdGhlIHByb3BlciBvcmRlci4KCQlyZXR1cm4gaW5TbGlkZXJPcmRlciggcmV0b3VyICk7Cgl9CgoJLy8gQXR0YWNoIGFuIGV2ZW50IHRvIHRoaXMgc2xpZGVyLCBwb3NzaWJseSBpbmNsdWRpbmcgYSBuYW1lc3BhY2UKCWZ1bmN0aW9uIGJpbmRFdmVudCAoIG5hbWVzcGFjZWRFdmVudCwgY2FsbGJhY2sgKSB7CgkJc2NvcGVfRXZlbnRzW25hbWVzcGFjZWRFdmVudF0gPSBzY29wZV9FdmVudHNbbmFtZXNwYWNlZEV2ZW50XSB8fCBbXTsKCQlzY29wZV9FdmVudHNbbmFtZXNwYWNlZEV2ZW50XS5wdXNoKGNhbGxiYWNrKTsKCgkJLy8gSWYgdGhlIGV2ZW50IGJvdW5kIGlzICd1cGRhdGUsJyBmaXJlIGl0IGltbWVkaWF0ZWx5IGZvciBhbGwgaGFuZGxlcy4KCQlpZiAoIG5hbWVzcGFjZWRFdmVudC5zcGxpdCgnLicpWzBdID09PSAndXBkYXRlJyApIHsKCQkJc2NvcGVfSGFuZGxlcy5mb3JFYWNoKGZ1bmN0aW9uKGEsIGluZGV4KXsKCQkJCWZpcmVFdmVudCgndXBkYXRlJywgaW5kZXgpOwoJCQl9KTsKCQl9Cgl9CgoJLy8gVW5kbyBhdHRhY2htZW50IG9mIGV2ZW50CglmdW5jdGlvbiByZW1vdmVFdmVudCAoIG5hbWVzcGFjZWRFdmVudCApIHsKCgkJdmFyIGV2ZW50ID0gbmFtZXNwYWNlZEV2ZW50LnNwbGl0KCcuJylbMF0sCgkJCW5hbWVzcGFjZSA9IG5hbWVzcGFjZWRFdmVudC5zdWJzdHJpbmcoZXZlbnQubGVuZ3RoKTsKCgkJT2JqZWN0LmtleXMoc2NvcGVfRXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uKCBiaW5kICl7CgoJCQl2YXIgdEV2ZW50ID0gYmluZC5zcGxpdCgnLicpWzBdLAoJCQkJdE5hbWVzcGFjZSA9IGJpbmQuc3Vic3RyaW5nKHRFdmVudC5sZW5ndGgpOwoKCQkJaWYgKCAoIWV2ZW50IHx8IGV2ZW50ID09PSB0RXZlbnQpICYmICghbmFtZXNwYWNlIHx8IG5hbWVzcGFjZSA9PT0gdE5hbWVzcGFjZSkgKSB7CgkJCQlkZWxldGUgc2NvcGVfRXZlbnRzW2JpbmRdOwoJCQl9CgkJfSk7Cgl9CgoJLy8gVXBkYXRlYWJsZTogbWFyZ2luLCBsaW1pdCwgc3RlcCwgcmFuZ2UsIGFuaW1hdGUsIHNuYXAKCWZ1bmN0aW9uIHVwZGF0ZU9wdGlvbnMgKCBvcHRpb25zVG9VcGRhdGUgKSB7CgoJCXZhciB2ID0gdmFsdWVHZXQoKSwgaSwgbmV3T3B0aW9ucyA9IHRlc3RPcHRpb25zKHsKCQkJc3RhcnQ6IFswLCAwXSwKCQkJbWFyZ2luOiBvcHRpb25zVG9VcGRhdGUubWFyZ2luLAoJCQlsaW1pdDogb3B0aW9uc1RvVXBkYXRlLmxpbWl0LAoJCQlzdGVwOiBvcHRpb25zVG9VcGRhdGUuc3RlcCwKCQkJcmFuZ2U6IG9wdGlvbnNUb1VwZGF0ZS5yYW5nZSwKCQkJYW5pbWF0ZTogb3B0aW9uc1RvVXBkYXRlLmFuaW1hdGUsCgkJCXNuYXA6IG9wdGlvbnNUb1VwZGF0ZS5zbmFwID09PSB1bmRlZmluZWQgPyBvcHRpb25zLnNuYXAgOiBvcHRpb25zVG9VcGRhdGUuc25hcAoJCX0pOwoKCQlbJ21hcmdpbicsICdsaW1pdCcsICdzdGVwJywgJ3JhbmdlJywgJ2FuaW1hdGUnXS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpewoJCQlpZiAoIG9wdGlvbnNUb1VwZGF0ZVtuYW1lXSAhPT0gdW5kZWZpbmVkICkgewoJCQkJb3B0aW9uc1tuYW1lXSA9IG9wdGlvbnNUb1VwZGF0ZVtuYW1lXTsKCQkJfQoJCX0pOwoKCQlzY29wZV9TcGVjdHJ1bSA9IG5ld09wdGlvbnMuc3BlY3RydW07CgoJCS8vIEludmFsaWRhdGUgdGhlIGN1cnJlbnQgcG9zaXRpb25pbmcgc28gdmFsdWVTZXQgZm9yY2VzIGFuIHVwZGF0ZS4KCQlzY29wZV9Mb2NhdGlvbnMgPSBbLTEsIC0xXTsKCQl2YWx1ZVNldCh2KTsKCgkJZm9yICggaSA9IDA7IGkgPCBzY29wZV9IYW5kbGVzLmxlbmd0aDsgaSsrICkgewoJCQlmaXJlRXZlbnQoJ3VwZGF0ZScsIGkpOwoJCX0KCX0KCgoJLy8gVGhyb3cgYW4gZXJyb3IgaWYgdGhlIHNsaWRlciB3YXMgYWxyZWFkeSBpbml0aWFsaXplZC4KCWlmICggc2NvcGVfVGFyZ2V0Lm5vVWlTbGlkZXIgKSB7CgkJdGhyb3cgbmV3IEVycm9yKCdTbGlkZXIgd2FzIGFscmVhZHkgaW5pdGlhbGl6ZWQuJyk7Cgl9CgoJLy8gQ3JlYXRlIHRoZSBiYXNlIGVsZW1lbnQsIGluaXRpYWxpc2UgSFRNTCBhbmQgc2V0IGNsYXNzZXMuCgkvLyBBZGQgaGFuZGxlcyBhbmQgbGlua3MuCglzY29wZV9CYXNlID0gYWRkU2xpZGVyKCBvcHRpb25zLmRpciwgb3B0aW9ucy5vcnQsIHNjb3BlX1RhcmdldCApOwoJc2NvcGVfSGFuZGxlcyA9IGFkZEhhbmRsZXMoIG9wdGlvbnMuaGFuZGxlcywgb3B0aW9ucy5kaXIsIHNjb3BlX0Jhc2UgKTsKCgkvLyBTZXQgdGhlIGNvbm5lY3QgY2xhc3Nlcy4KCWFkZENvbm5lY3Rpb24gKCBvcHRpb25zLmNvbm5lY3QsIHNjb3BlX1RhcmdldCwgc2NvcGVfSGFuZGxlcyApOwoKCWlmICggb3B0aW9ucy5waXBzICkgewoJCXBpcHMob3B0aW9ucy5waXBzKTsKCX0KCglpZiAoIG9wdGlvbnMudG9vbHRpcHMgKSB7CgkJdG9vbHRpcHMoKTsKCX0KCglzY29wZV9TZWxmID0gewoJCWRlc3Ryb3k6IGRlc3Ryb3ksCgkJc3RlcHM6IGdldEN1cnJlbnRTdGVwLAoJCW9uOiBiaW5kRXZlbnQsCgkJb2ZmOiByZW1vdmVFdmVudCwKCQlnZXQ6IHZhbHVlR2V0LAoJCXNldDogdmFsdWVTZXQsCgkJdXBkYXRlT3B0aW9uczogdXBkYXRlT3B0aW9ucwoJfTsKCgkvLyBBdHRhY2ggdXNlciBldmVudHMuCglldmVudHMoIG9wdGlvbnMuZXZlbnRzICk7CgoJcmV0dXJuIHNjb3BlX1NlbGY7Cgp9CgoKCS8vIFJ1biB0aGUgc3RhbmRhcmQgaW5pdGlhbGl6ZXIKCWZ1bmN0aW9uIGluaXRpYWxpemUgKCB0YXJnZXQsIG9yaWdpbmFsT3B0aW9ucyApIHsKCgkJaWYgKCAhdGFyZ2V0Lm5vZGVOYW1lICkgewoJCQl0aHJvdyBuZXcgRXJyb3IoJ25vVWlTbGlkZXIuY3JlYXRlIHJlcXVpcmVzIGEgc2luZ2xlIGVsZW1lbnQuJyk7CgkJfQoKCQkvLyBUZXN0IHRoZSBvcHRpb25zIGFuZCBjcmVhdGUgdGhlIHNsaWRlciBlbnZpcm9ubWVudDsKCQl2YXIgb3B0aW9ucyA9IHRlc3RPcHRpb25zKCBvcmlnaW5hbE9wdGlvbnMsIHRhcmdldCApLAoJCQlzbGlkZXIgPSBjbG9zdXJlKCB0YXJnZXQsIG9wdGlvbnMgKTsKCgkJLy8gVXNlIHRoZSBwdWJsaWMgdmFsdWUgbWV0aG9kIHRvIHNldCB0aGUgc3RhcnQgdmFsdWVzLgoJCXNsaWRlci5zZXQob3B0aW9ucy5zdGFydCk7CgoJCXRhcmdldC5ub1VpU2xpZGVyID0gc2xpZGVyOwoJCXJldHVybiBzbGlkZXI7Cgl9CgoJLy8gVXNlIGFuIG9iamVjdCBpbnN0ZWFkIG9mIGEgZnVuY3Rpb24gZm9yIGZ1dHVyZSBleHBhbnNpYmlsaXR5OwoJcmV0dXJuIHsKCQljcmVhdGU6IGluaXRpYWxpemUKCX07Cgp9KSk7CmRlZmluZSgibm91aXNsaWRlciIsIGZ1bmN0aW9uKCl7fSk7CgovKioKICogQ3JlYXRlZCBieSBjb3JyZW50aSBvbiAxNi8xMS8yMDE1LgogKi8KCiQoZG9jdW1lbnQpLm9uKHsKICAgIHJlYWR5OiBmdW5jdGlvbigpIHsKCgoKICAgIH0sCn0pOwoKCmRlZmluZSgiYWNjb3JkaW9uIiwgWyJqcXVlcnkiXSwgZnVuY3Rpb24oKXt9KTsKCi8qKgogKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDE5LzExLzIwMTUuCiAqLwoKCgokKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpewogICAgX3Jlc2l6ZSgpOwogICAgJCh3aW5kb3cpLnJlc2l6ZShfcmVzaXplKQogICAgZnVuY3Rpb24gX3Jlc2l6ZSgpewoKICAgICAgIC8vIGNvbnNvbGUubG9nKCQoIiNwYWdlTm90Rm91bmQiKS5sZW5ndGgoKSk7CiAgICAgICAgaWYoJCh0aGlzKS53aWR0aCgpIDwgOTAwKQogICAgICAgIHsKICAgICAgICAgICAgJCgiI3BhZ2VOb3RGb3VuZCIpLmF0dHIoInNyYyIsICIuLi8uLi9jc3MvaW1hZ2VzL1VuZGVyX2NvbnN0cnVjdGlvbl8zMjAuanBnIikKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICAkKCIjcGFnZU5vdEZvdW5kIikuYXR0cigic3JjIiwgIi4uLy4uL2Nzcy9pbWFnZXMvVW5kZXJfY29uc3RydWN0aW9uLmpwZyIpCgogICAgICAgIC8vY29uc29sZS5sb2coJCgiI1VuZGVyX2NvbnN0cnVjdGlvbiIpLmxlbmd0aCgpKTsKICAgICAgICBpZigkKHRoaXMpLndpZHRoKCkgPCA5MDApCiAgICAgICAgewogICAgICAgICAgICAkKCIjVW5kZXJfY29uc3RydWN0aW9uIikuYXR0cigic3JjIiwgIi4uLy4uL2Nzcy9pbWFnZXMvVW5kZXJfY29uc3RydWN0aW9uXzMyMC5qcGciKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgICQoIiNVbmRlcl9jb25zdHJ1Y3Rpb24iKS5hdHRyKCJzcmMiLCAiLi4vLi4vY3NzL2ltYWdlcy9VbmRlcl9jb25zdHJ1Y3Rpb24uanBnIikKCiAgICB9Cn0pOwpkZWZpbmUoIndyb25nRGlyZWN0aW9uIiwgWyJqcXVlcnkiXSwgZnVuY3Rpb24oKXt9KTsKCi8qKgogKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDIwLzExLzIwMTUuCiAqLwoKdmFyIHVzZXJDb29raWUgPSB1c2VyQ29va2llIHx8IHt9OwoKdXNlckNvb2tpZS5maWxsUGFyYW1zID0gZnVuY3Rpb24obmFtZSwgcGFzc3dvcmQsIGVtYWlsLCByZXNwb25zZSl7CiAgICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICAgIHRoaXMudXNlclBhc3N3b3JkID0gcGFzc3dvcmQ7CiAgICAgIHRoaXMuZW1haWwgPSBlbWFpbDsKICAgICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlOwovLyAgICB0aGlzLnNlc3Npb25JZCA9IHNlc3Npb25JZDsKLy8gICAgdGhpcy5pZCA9IGlkOwovLyAgICB0aGlzLnRva2VuID0gIkJlYXJlciAiICsgdG9rZW47Cn07Cgp1c2VyQ29va2llLmdldEtleSA9IGZ1bmN0aW9uKGxhc3RVc2VyKXsKCiAgICAgIGlmKGxhc3RVc2VyKQogICAgICB7CiAgICAgICAgICAgIGlmKGxhc3RVc2VyLnJlc3BvbnNlKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIHJldHVybiAidXNlckNvb2tpZSIgKwogICAgICAgICAgICAgICAgICAgICAgbGFzdFVzZXIucmVzcG9uc2UudXNlcklkCiAgICAgICAgICAgICAgICAgICAgICAgICsgbGFzdFVzZXIucmVzcG9uc2UudF9hdXRob3JpemF0aW9uOwogICAgICAgICAgICAgICAgICAvLysgbGFzdFVzZXIucmVzcG9uc2Uuc2Vzc2lvbklkOwogICAgICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuICJndWVzdENvb2tpZSI7Cn07CgoKZGVmaW5lKCJVc2VyQ29va2llIiwgZnVuY3Rpb24oKXt9KTsKCi8qKgogKiBDcmVhdGVkIGJ5IGNvcnJlbnRpIG9uIDE3LzExLzIwMTUuCiAqLwoKCnZhciBTbGlkZXIgPSBTbGlkZXIgfHwge307CgpTbGlkZXIuQWRkU2xpZGVyTGlzdGVuZXIgPSBmdW5jdGlvbigpewoKICAgIHZhciBfX19fbW92ZVNsaWRlciA9IHNldEludGVydmFsKG1vdmVTbGlkZXIsIDEwMDAwKQogICAgdmFyIGRlbGF5QW5pbTA0ID0gImRlbGF5QW5pbTAxICI7CiAgICB2YXIgYm91bmNlT3V0UmlnaHQgPSdhbmltYXRlZCBib3VuY2VPdXRSaWdodCAnLCBib3VuY2VJbkxlZnQgPSAnYW5pbWF0ZWQgYm91bmNlSW5MZWZ0ICc7CiAgICB2YXIgYm91bmNlSW5SaWdodCA9J2FuaW1hdGVkIGJvdW5jZUluUmlnaHQgJywgYm91bmNlT3V0TGVmdCA9J2FuaW1hdGVkIGJvdW5jZU91dExlZnQgJzsKICAgIHZhciBhbmltRW5kID0gJ3dlYmtpdEFuaW1hdGlvbkVuZCBtb3pBbmltYXRpb25FbmQgTVNBbmltYXRpb25FbmQgb2FuaW1hdGlvbmVuZCBhbmltYXRpb25lbmQnOwoKICAgICQod2luZG93KS5vbih7IHJlc2l6ZTogX3Jlc2l6ZSB9KTsKCiAgICAkKGRvY3VtZW50KS5vbigiY2xpY2siLCAiLnNsaWRlci1zdGVwcyA+IHNwYW4iLCBmdW5jdGlvbihhKXsKICAgICAgICBjbGVhckludGVydmFsKF9fX19tb3ZlU2xpZGVyKTsKCiAgICAgICAgdmFyIGxhc3RTZWxlY3RlZCA9ICQoIi5zbGlkZXItc3RlcHMgc3Bhbi5zZWxlY3RlZCIpLmluZGV4KCk7CiAgICAgICAgJCgiLnNsaWRlci1zdGVwcyBzcGFuIikucmVtb3ZlQ2xhc3MoInNlbGVjdGVkIik7CiAgICAgICAgJCgiLnNsaWRlci1zdGVwcyBzcGFuIikuY3NzKHsKICAgICAgICAgICAgImJvcmRlciI6ICAkKHRoaXMpLmluZGV4KCkgPT0gMSA/ICJzb2xpZCBibGFjayAxcHgiIDogInNvbGlkIHdoaXRlIDFweCIsCiAgICAgICAgICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogInRyYW5zcGFyZW50IiwKICAgICAgICB9KTsKICAgICAgICAkKHRoaXMpLmNzcyh7ImJhY2tncm91bmQtY29sb3IiOiAgJCh0aGlzKS5pbmRleCgpID09IDEgPyAiYmxhY2siIDogIndoaXRlIix9KTsKICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCJzZWxlY3RlZCIpOwoKCiAgICAgICAgLyogQW5pbWF0ZSBoMiAmIEJ1dHRvbiAqLwogICAgICAgIGlmKGxhc3RTZWxlY3RlZCA+ICQodGhpcykuaW5kZXgoKSl7CgogICAgICAgICAgICAkKCIuc2xpZGVyLWxlbmd0aCBkaXY6bnRoLWNoaWxkKCIrKGxhc3RTZWxlY3RlZCArIDEpKyIpIC5jb250YWluZXIgaDIiKS5hZGRDbGFzcyhib3VuY2VPdXRSaWdodCkKICAgICAgICAgICAgICAgIC5vbmUoYW5pbUVuZCwgZnVuY3Rpb24oKXsgJCh0aGlzKS5yZW1vdmVDbGFzcyhib3VuY2VPdXRSaWdodCk7IH0pOwogICAgICAgICAgICAkKCIuc2xpZGVyLWxlbmd0aCBkaXY6bnRoLWNoaWxkKCIrKGxhc3RTZWxlY3RlZCArIDEpKyIpIC5jb250YWluZXIgYnV0dG9uIikuYWRkQ2xhc3MoYm91bmNlT3V0UmlnaHQgKyBkZWxheUFuaW0wNCkKICAgICAgICAgICAgICAgIC5vbmUoYW5pbUVuZCwgZnVuY3Rpb24oKXsgJCh0aGlzKS5yZW1vdmVDbGFzcyhib3VuY2VPdXRSaWdodCArIGRlbGF5QW5pbTA0KTsgfSk7CgogICAgICAgICAgICAkKCIuc2xpZGVyLWxlbmd0aCBkaXY6bnRoLWNoaWxkKCIrKCQodGhpcykuaW5kZXgoKSArIDEpKyIpIC5jb250YWluZXIgaDIiKS5hZGRDbGFzcyhib3VuY2VJbkxlZnQpCiAgICAgICAgICAgICAgICAub25lKGFuaW1FbmQsIGZ1bmN0aW9uKCl7ICQodGhpcykucmVtb3ZlQ2xhc3MoYm91bmNlSW5MZWZ0KTsgfSk7CiAgICAgICAgICAgICQoIi5zbGlkZXItbGVuZ3RoIGRpdjpudGgtY2hpbGQoIisoJCh0aGlzKS5pbmRleCgpICsgMSkrIikgLmNvbnRhaW5lciBidXR0b24iKS5hZGRDbGFzcyhib3VuY2VJbkxlZnQgKyBkZWxheUFuaW0wNCkKICAgICAgICAgICAgICAgIC5vbmUoYW5pbUVuZCwgZnVuY3Rpb24oKXsgJCh0aGlzKS5yZW1vdmVDbGFzcyhib3VuY2VJbkxlZnQgKyBkZWxheUFuaW0wNCk7IH0pOwogICAgICAgIH0KICAgICAgICBlbHNlewoKICAgICAgICAgICAgJCgiLnNsaWRlci1sZW5ndGggZGl2Om50aC1jaGlsZCgiKygkKHRoaXMpLmluZGV4KCkpKyIpIC5jb250YWluZXIgaDIiKS5hZGRDbGFzcyhib3VuY2VPdXRMZWZ0KQogICAgICAgICAgICAgICAgLm9uZShhbmltRW5kLCBmdW5jdGlvbigpeyAkKHRoaXMpLnJlbW92ZUNsYXNzKGJvdW5jZU91dExlZnQpOyB9KTsKICAgICAgICAgICAgJCgiLnNsaWRlci1sZW5ndGggZGl2Om50aC1jaGlsZCgiKygkKHRoaXMpLmluZGV4KCkpKyIpIC5jb250YWluZXIgYnV0dG9uIikuYWRkQ2xhc3MoYm91bmNlT3V0TGVmdCArIGRlbGF5QW5pbTA0KQogICAgICAgICAgICAgICAgLm9uZShhbmltRW5kLCBmdW5jdGlvbigpeyAkKHRoaXMpLnJlbW92ZUNsYXNzKGJvdW5jZU91dExlZnQgKyBkZWxheUFuaW0wNCk7IH0pOwoKICAgICAgICAgICAgJCgiLnNsaWRlci1sZW5ndGggZGl2Om50aC1jaGlsZCgiKygkKHRoaXMpLmluZGV4KCkgKyAxKSsiKSAuY29udGFpbmVyIGgyIikuYWRkQ2xhc3MoYm91bmNlSW5SaWdodCkKICAgICAgICAgICAgICAgIC5vbmUoYW5pbUVuZCwgZnVuY3Rpb24oKXsgJCh0aGlzKS5yZW1vdmVDbGFzcyhib3VuY2VJblJpZ2h0KTsgfSk7CiAgICAgICAgICAgICQoIi5zbGlkZXItbGVuZ3RoIGRpdjpudGgtY2hpbGQoIisoJCh0aGlzKS5pbmRleCgpICsgMSkrIikgLmNvbnRhaW5lciBidXR0b24iKS5hZGRDbGFzcyhib3VuY2VJblJpZ2h0ICsgZGVsYXlBbmltMDQpCiAgICAgICAgICAgICAgICAub25lKGFuaW1FbmQsIGZ1bmN0aW9uKCl7ICQodGhpcykucmVtb3ZlQ2xhc3MoYm91bmNlSW5SaWdodCArIGRlbGF5QW5pbTA0KTsgfSk7CiAgICAgICAgfQogICAgICAgIC8qIC0tLS0tLS0tLS0tLS0tLSBlbmQgQW5pbWF0ZSBoMiAmIEJ1dHRvbiAgLS0tLS0tLS0tLS0tLS0tKi8KCgoKICAgICAgICAvKiBNb3ZlIFNsaWRlciAqLwogICAgICAgICQoIi5zbGlkZXItbGVuZ3RoIikuY3NzKHsKICAgICAgICAgICAgInJpZ2h0IiA6ICgkKHRoaXMpLmluZGV4KCkpICogcGFyc2VJbnQoJCh3aW5kb3cpLndpZHRoKCkpICsgInB4IgogICAgICAgIH0pOwogICAgICAgIC8qIC0tLS0tLS0tLS0tLS0tLSBNb3ZlIFNsaWRlciAtLS0tLS0tLS0tLS0tLS0qLwoKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIF9fX19tb3ZlU2xpZGVyID0gc2V0SW50ZXJ2YWwobW92ZVNsaWRlciwgMTAwMDApOwogICAgICAgIH0sIDUwMCk7CiAgICB9KTsKCgoKICAgIGZ1bmN0aW9uIG1vdmVTbGlkZXIoKQogICAgewogICAgICAgIHRyeXsKICAgICAgICAgICAgaWYoJCgiLnNsaWRlci1sZW5ndGgiKS5sZW5ndGggPT0gMCl7IGNsZWFySW50ZXJ2YWwoX19fX21vdmVTbGlkZXIpO3JldHVybjsgfQoKCiAgICAgICAgICAgIC8qIEJ1aWxkIE9iamVjdCAqLwogICAgICAgICAgICB2YXIgb2JqUHJvcHMgPSB7fTsKICAgICAgICAgICAgb2JqUHJvcHMubGVuZ3RoID0gJCgiLnNsaWRlci1sZW5ndGgiKS53aWR0aCgpOwogICAgICAgICAgICBvYmpQcm9wcy5fd2luZG93c0xlbmd0aCA9ICQod2luZG93KS53aWR0aCgpOwogICAgICAgICAgICBvYmpQcm9wcy5pbnRfcmlnaHQgPSBwYXJzZUludCgkKCIuc2xpZGVyLWxlbmd0aCIpLmNzcygicmlnaHQiKS5yZXBsYWNlKCJweCIsICIiKSk7CiAgICAgICAgICAgIG9ialByb3BzLnNwYW5zID0gJCgiLnNsaWRlci1zdGVwcyBzcGFuIik7CiAgICAgICAgICAgIG9ialByb3BzLm50aF9jaGlsZCA9IChvYmpQcm9wcy5pbnRfcmlnaHQgLyBvYmpQcm9wcy5fd2luZG93c0xlbmd0aCkgKyAxOwoKICAgICAgICAgICAgb2JqUHJvcHMuaW5kZXggPSBvYmpQcm9wcy5pbnRfcmlnaHQgPT0gMCA/IDAKICAgICAgICAgICAgICAgIDogKG9ialByb3BzLmludF9yaWdodCAvIG9ialByb3BzLl93aW5kb3dzTGVuZ3RoKSA9PSBvYmpQcm9wcy5zcGFucy5sZW5ndGggLSAxID8gLTEKICAgICAgICAgICAgICAgIDogb2JqUHJvcHMuaW50X3JpZ2h0IC8gb2JqUHJvcHMuX3dpbmRvd3NMZW5ndGg7CiAgICAgICAgICAgIG9ialByb3BzLmluZGV4Kys7CiAgICAgICAgICAgIC8qIC0tLS0tLS0tLS0tLS0tLSBlbmQgQnVpbGQgT2JqZWN0IC0tLS0tLS0tLS0tLS0tLSovCgoKCgoKCiAgICAgICAgICAgIC8qIFVwZGF0ZSBVSSAqLwogICAgICAgICAgICAkKG9ialByb3BzLnNwYW5zKS5yZW1vdmVDbGFzcygic2VsZWN0ZWQiKTsKICAgICAgICAgICAgJCgiLnNsaWRlci1zdGVwcyBzcGFuIikuY3NzKHsgImJvcmRlciI6ICBvYmpQcm9wcy5pbmRleCA9PSAxID8gInNvbGlkIGJsYWNrIDFweCIgOiAic29saWQgd2hpdGUgMXB4IiwgImJhY2tncm91bmQtY29sb3IiOiAidHJhbnNwYXJlbnQiLCB9KTsKICAgICAgICAgICAgJCgkKCIuc2xpZGVyLXN0ZXBzIHNwYW4iKVtvYmpQcm9wcy5pbmRleF0pLmNzcyh7ImJhY2tncm91bmQtY29sb3IiOiAgb2JqUHJvcHMuaW5kZXggPT0gMSA/ICJibGFjayIgOiAid2hpdGUiLH0pOwogICAgICAgICAgICAkKG9ialByb3BzLnNwYW5zW29ialByb3BzLmluZGV4XSkuYWRkQ2xhc3MoInNlbGVjdGVkIik7CiAgICAgICAgICAgIC8qIC0tLS0tLS0tLS0tLS0tLSBVcGRhdGUgVUkgLS0tLS0tLS0tLS0tLS0tKi8KCgoKCiAgICAgICAgICAgIC8qIEFuaW1hdGUgaDIgJiBCdXR0b24gKi8KICAgICAgICAgICAgJCgiLnNsaWRlci1sZW5ndGggZGl2Om50aC1jaGlsZCgiKyhvYmpQcm9wcy5udGhfY2hpbGQpKyIpIC5jb250YWluZXIgaDIiKS5hZGRDbGFzcyhib3VuY2VPdXRMZWZ0KQogICAgICAgICAgICAgICAgLm9uZShhbmltRW5kLCBmdW5jdGlvbigpeyAkKHRoaXMpLnJlbW92ZUNsYXNzKGJvdW5jZU91dExlZnQpOyB9KTsKICAgICAgICAgICAgJCgiLnNsaWRlci1sZW5ndGggZGl2Om50aC1jaGlsZCgiKyhvYmpQcm9wcy5udGhfY2hpbGQpKyIpIC5jb250YWluZXIgYnV0dG9uIikuYWRkQ2xhc3MoYm91bmNlT3V0TGVmdCArIGRlbGF5QW5pbTA0KQogICAgICAgICAgICAgICAgLm9uZShhbmltRW5kLCBmdW5jdGlvbigpeyAkKHRoaXMpLnJlbW92ZUNsYXNzKGJvdW5jZU91dExlZnQgKyBkZWxheUFuaW0wNCk7IH0pOwoKICAgICAgICAgICAgJCgiLnNsaWRlci1sZW5ndGggZGl2Om50aC1jaGlsZCgiKyhvYmpQcm9wcy5udGhfY2hpbGQgKyAxKSsiKSAuY29udGFpbmVyIGgyIikuYWRkQ2xhc3MoYm91bmNlSW5SaWdodCkKICAgICAgICAgICAgICAgIC5vbmUoYW5pbUVuZCwgZnVuY3Rpb24oKXsgJCh0aGlzKS5yZW1vdmVDbGFzcyhib3VuY2VJblJpZ2h0KTsgfSk7CiAgICAgICAgICAgICQoIi5zbGlkZXItbGVuZ3RoIGRpdjpudGgtY2hpbGQoIisob2JqUHJvcHMubnRoX2NoaWxkICsgMSkrIikgLmNvbnRhaW5lciBidXR0b24iKS5hZGRDbGFzcyhib3VuY2VJblJpZ2h0ICsgZGVsYXlBbmltMDQpCiAgICAgICAgICAgICAgICAub25lKGFuaW1FbmQsIGZ1bmN0aW9uKCl7ICQodGhpcykucmVtb3ZlQ2xhc3MoYm91bmNlSW5SaWdodCArIGRlbGF5QW5pbTA0KTsgfSk7CiAgICAgICAgICAgIC8qIC0tLS0tLS0tLS0tLS0tLSBlbmQgQW5pbWF0ZSBoMiAmIEJ1dHRvbiAgLS0tLS0tLS0tLS0tLS0tKi8KCgoKICAgICAgICAgICAgJCgiLnNsaWRlci1sZW5ndGgiKS5jc3MoInJpZ2h0IiwgIChvYmpQcm9wcy5pbnRfcmlnaHQpICsgcGFyc2VJbnQob2JqUHJvcHMuX3dpbmRvd3NMZW5ndGgpICsgInB4Iik7CgogICAgICAgICAgICAvKiBDaGVja2luZyBpZiBpcyB0aGUgbGFzdCBGcmFtZSAgKi8KICAgICAgICAgICAgdmFyIG1vdmVUbyA9IChwYXJzZUludCgkKCIuc2xpZGVyLWxlbmd0aCIpLnN0b3AoKS5jc3MoInJpZ2h0IikucmVwbGFjZSgicHgiLCAiIikpICsgKHBhcnNlSW50KG9ialByb3BzLl93aW5kb3dzTGVuZ3RoKSAqMikpOwogICAgICAgICAgICBpZiAob2JqUHJvcHMubGVuZ3RoIDwgbW92ZVRvKSB7CiAgICAgICAgICAgICAgICAkKCIuc2xpZGVyLWxlbmd0aCIpLnJlbW92ZUNsYXNzKCJ0cmFuc2l0aW9uIik7CiAgICAgICAgICAgICAgICAkKCIuc2xpZGVyLWxlbmd0aCIpLmNzcygicmlnaHQiLCAiMHB4Iik7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgJCgiLnNsaWRlci1sZW5ndGgiKS5hZGRDbGFzcygidHJhbnNpdGlvbiIpOwogICAgICAgICAgICAgICAgICAgIG1vdmVTbGlkZXIoKTsKICAgICAgICAgICAgICAgIH0sIDEwMCkKICAgICAgICAgICAgfQogICAgICAgICAgICAvKiAtLS0tLS0tLS0tLS0tLS0gZW5kICBDaGVja2luZyBpZiBpcyB0aGUgbGFzdCBGcmFtZSAgLS0tLS0tLS0tLS0tLS0tKi8KCiAgICAgICAgfQogICAgICAgIGNhdGNoKGUpewogICAgICAgICAgICBjbGVhckludGVydmFsKF9fX19tb3ZlU2xpZGVyKTsKICAgICAgICB9CiAgICB9CgoKCiAgICBmdW5jdGlvbiBfcmVzaXplKCkgewogICAgICAgICQoIi5zbGlkZXItbGVuZ3RoIikuY3NzKCJyaWdodCIsICIwcHgiKTsKICAgICAgICB2YXIgc3BhbnMgPSAkKCIuc2xpZGVyLXN0ZXBzIHNwYW4iKTsKICAgICAgICAkKHNwYW5zKS5yZW1vdmVDbGFzcygic2VsZWN0ZWQiKTsKICAgICAgICAkKHNwYW5zWzBdKS5hZGRDbGFzcygic2VsZWN0ZWQiKTsKICAgIH0KCgoKCn0KCgoKCgoKCgoKCgoKOwpkZWZpbmUoInNsaWRlciIsIFsianF1ZXJ5Il0sIGZ1bmN0aW9uKCl7fSk7CgovKioKICogU3RhdGUtYmFzZWQgcm91dGluZyBmb3IgQW5ndWxhckpTCiAqIEB2ZXJzaW9uIHYwLjIuMTgKICogQGxpbmsgaHR0cDovL2FuZ3VsYXItdWkuZ2l0aHViLmNvbS8KICogQGxpY2Vuc2UgTUlUIExpY2Vuc2UsIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUCiAqLwoidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSYmInVuZGVmaW5lZCIhPXR5cGVvZiBleHBvcnRzJiZtb2R1bGUuZXhwb3J0cz09PWV4cG9ydHMmJihtb2R1bGUuZXhwb3J0cz0idWkucm91dGVyIiksZnVuY3Rpb24oYSxiLGMpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBkKGEsYil7cmV0dXJuIFIobmV3KFIoZnVuY3Rpb24oKXt9LHtwcm90b3R5cGU6YX0pKSxiKX1mdW5jdGlvbiBlKGEpe3JldHVybiBRKGFyZ3VtZW50cyxmdW5jdGlvbihiKXtiIT09YSYmUShiLGZ1bmN0aW9uKGIsYyl7YS5oYXNPd25Qcm9wZXJ0eShjKXx8KGFbY109Yil9KX0pLGF9ZnVuY3Rpb24gZihhLGIpe3ZhciBjPVtdO2Zvcih2YXIgZCBpbiBhLnBhdGgpe2lmKGEucGF0aFtkXSE9PWIucGF0aFtkXSlicmVhaztjLnB1c2goYS5wYXRoW2RdKX1yZXR1cm4gY31mdW5jdGlvbiBnKGEpe2lmKE9iamVjdC5rZXlzKXJldHVybiBPYmplY3Qua2V5cyhhKTt2YXIgYj1bXTtyZXR1cm4gUShhLGZ1bmN0aW9uKGEsYyl7Yi5wdXNoKGMpfSksYn1mdW5jdGlvbiBoKGEsYil7aWYoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpcmV0dXJuIGEuaW5kZXhPZihiLE51bWJlcihhcmd1bWVudHNbMl0pfHwwKTt2YXIgYz1hLmxlbmd0aD4+PjAsZD1OdW1iZXIoYXJndW1lbnRzWzJdKXx8MDtmb3IoZD0wPmQ/TWF0aC5jZWlsKGQpOk1hdGguZmxvb3IoZCksMD5kJiYoZCs9Yyk7Yz5kO2QrKylpZihkIGluIGEmJmFbZF09PT1iKXJldHVybiBkO3JldHVybi0xfWZ1bmN0aW9uIGkoYSxiLGMsZCl7dmFyIGUsaT1mKGMsZCksaj17fSxrPVtdO2Zvcih2YXIgbCBpbiBpKWlmKGlbbF0mJmlbbF0ucGFyYW1zJiYoZT1nKGlbbF0ucGFyYW1zKSxlLmxlbmd0aCkpZm9yKHZhciBtIGluIGUpaChrLGVbbV0pPj0wfHwoay5wdXNoKGVbbV0pLGpbZVttXV09YVtlW21dXSk7cmV0dXJuIFIoe30saixiKX1mdW5jdGlvbiBqKGEsYixjKXtpZighYyl7Yz1bXTtmb3IodmFyIGQgaW4gYSljLnB1c2goZCl9Zm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBmPWNbZV07aWYoYVtmXSE9YltmXSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBrKGEsYil7dmFyIGM9e307cmV0dXJuIFEoYSxmdW5jdGlvbihhKXtjW2FdPWJbYV19KSxjfWZ1bmN0aW9uIGwoYSl7dmFyIGI9e30sYz1BcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KEFycmF5LnByb3RvdHlwZSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpO3JldHVybiBRKGMsZnVuY3Rpb24oYyl7YyBpbiBhJiYoYltjXT1hW2NdKX0pLGJ9ZnVuY3Rpb24gbShhKXt2YXIgYj17fSxjPUFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoQXJyYXkucHJvdG90eXBlLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSk7Zm9yKHZhciBkIGluIGEpLTE9PWgoYyxkKSYmKGJbZF09YVtkXSk7cmV0dXJuIGJ9ZnVuY3Rpb24gbihhLGIpe3ZhciBjPVAoYSksZD1jP1tdOnt9O3JldHVybiBRKGEsZnVuY3Rpb24oYSxlKXtiKGEsZSkmJihkW2M/ZC5sZW5ndGg6ZV09YSl9KSxkfWZ1bmN0aW9uIG8oYSxiKXt2YXIgYz1QKGEpP1tdOnt9O3JldHVybiBRKGEsZnVuY3Rpb24oYSxkKXtjW2RdPWIoYSxkKX0pLGN9ZnVuY3Rpb24gcChhLGIpe3ZhciBkPTEsZj0yLGk9e30saj1bXSxrPWksbD1SKGEud2hlbihpKSx7JCRwcm9taXNlczppLCQkdmFsdWVzOml9KTt0aGlzLnN0dWR5PWZ1bmN0aW9uKGkpe2Z1bmN0aW9uIG4oYSxjKXtpZihzW2NdIT09Zil7aWYoci5wdXNoKGMpLHNbY109PT1kKXRocm93IHIuc3BsaWNlKDAsaChyLGMpKSxuZXcgRXJyb3IoIkN5Y2xpYyBkZXBlbmRlbmN5OiAiK3Iuam9pbigiIC0+ICIpKTtpZihzW2NdPWQsTihhKSlxLnB1c2goYyxbZnVuY3Rpb24oKXtyZXR1cm4gYi5nZXQoYSl9XSxqKTtlbHNle3ZhciBlPWIuYW5ub3RhdGUoYSk7UShlLGZ1bmN0aW9uKGEpe2EhPT1jJiZpLmhhc093blByb3BlcnR5KGEpJiZuKGlbYV0sYSl9KSxxLnB1c2goYyxhLGUpfXIucG9wKCksc1tjXT1mfX1mdW5jdGlvbiBvKGEpe3JldHVybiBPKGEpJiZhLnRoZW4mJmEuJCRwcm9taXNlc31pZighTyhpKSl0aHJvdyBuZXcgRXJyb3IoIidpbnZvY2FibGVzJyBtdXN0IGJlIGFuIG9iamVjdCIpO3ZhciBwPWcoaXx8e30pLHE9W10scj1bXSxzPXt9O3JldHVybiBRKGksbiksaT1yPXM9bnVsbCxmdW5jdGlvbihkLGYsZyl7ZnVuY3Rpb24gaCgpey0tdXx8KHZ8fGUodCxmLiQkdmFsdWVzKSxyLiQkdmFsdWVzPXQsci4kJHByb21pc2VzPXIuJCRwcm9taXNlc3x8ITAsZGVsZXRlIHIuJCRpbmhlcml0ZWRWYWx1ZXMsbi5yZXNvbHZlKHQpKX1mdW5jdGlvbiBpKGEpe3IuJCRmYWlsdXJlPWEsbi5yZWplY3QoYSl9ZnVuY3Rpb24gaihjLGUsZil7ZnVuY3Rpb24gaihhKXtsLnJlamVjdChhKSxpKGEpfWZ1bmN0aW9uIGsoKXtpZighTChyLiQkZmFpbHVyZSkpdHJ5e2wucmVzb2x2ZShiLmludm9rZShlLGcsdCkpLGwucHJvbWlzZS50aGVuKGZ1bmN0aW9uKGEpe3RbY109YSxoKCl9LGopfWNhdGNoKGEpe2ooYSl9fXZhciBsPWEuZGVmZXIoKSxtPTA7UShmLGZ1bmN0aW9uKGEpe3MuaGFzT3duUHJvcGVydHkoYSkmJiFkLmhhc093blByb3BlcnR5KGEpJiYobSsrLHNbYV0udGhlbihmdW5jdGlvbihiKXt0W2FdPWIsLS1tfHxrKCl9LGopKX0pLG18fGsoKSxzW2NdPWwucHJvbWlzZX1pZihvKGQpJiZnPT09YyYmKGc9ZixmPWQsZD1udWxsKSxkKXtpZighTyhkKSl0aHJvdyBuZXcgRXJyb3IoIidsb2NhbHMnIG11c3QgYmUgYW4gb2JqZWN0Iil9ZWxzZSBkPWs7aWYoZil7aWYoIW8oZikpdGhyb3cgbmV3IEVycm9yKCIncGFyZW50JyBtdXN0IGJlIGEgcHJvbWlzZSByZXR1cm5lZCBieSAkcmVzb2x2ZS5yZXNvbHZlKCkiKX1lbHNlIGY9bDt2YXIgbj1hLmRlZmVyKCkscj1uLnByb21pc2Uscz1yLiQkcHJvbWlzZXM9e30sdD1SKHt9LGQpLHU9MStxLmxlbmd0aC8zLHY9ITE7aWYoTChmLiQkZmFpbHVyZSkpcmV0dXJuIGkoZi4kJGZhaWx1cmUpLHI7Zi4kJGluaGVyaXRlZFZhbHVlcyYmZSh0LG0oZi4kJGluaGVyaXRlZFZhbHVlcyxwKSksUihzLGYuJCRwcm9taXNlcyksZi4kJHZhbHVlcz8odj1lKHQsbShmLiQkdmFsdWVzLHApKSxyLiQkaW5oZXJpdGVkVmFsdWVzPW0oZi4kJHZhbHVlcyxwKSxoKCkpOihmLiQkaW5oZXJpdGVkVmFsdWVzJiYoci4kJGluaGVyaXRlZFZhbHVlcz1tKGYuJCRpbmhlcml0ZWRWYWx1ZXMscCkpLGYudGhlbihoLGkpKTtmb3IodmFyIHc9MCx4PXEubGVuZ3RoO3g+dzt3Kz0zKWQuaGFzT3duUHJvcGVydHkocVt3XSk/aCgpOmoocVt3XSxxW3crMV0scVt3KzJdKTtyZXR1cm4gcn19LHRoaXMucmVzb2x2ZT1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5zdHVkeShhKShiLGMsZCl9fWZ1bmN0aW9uIHEoYSxiLGMpe3RoaXMuZnJvbUNvbmZpZz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIEwoYS50ZW1wbGF0ZSk/dGhpcy5mcm9tU3RyaW5nKGEudGVtcGxhdGUsYik6TChhLnRlbXBsYXRlVXJsKT90aGlzLmZyb21VcmwoYS50ZW1wbGF0ZVVybCxiKTpMKGEudGVtcGxhdGVQcm92aWRlcik/dGhpcy5mcm9tUHJvdmlkZXIoYS50ZW1wbGF0ZVByb3ZpZGVyLGIsYyk6bnVsbH0sdGhpcy5mcm9tU3RyaW5nPWZ1bmN0aW9uKGEsYil7cmV0dXJuIE0oYSk/YShiKTphfSx0aGlzLmZyb21Vcmw9ZnVuY3Rpb24oYyxkKXtyZXR1cm4gTShjKSYmKGM9YyhkKSksbnVsbD09Yz9udWxsOmEuZ2V0KGMse2NhY2hlOmIsaGVhZGVyczp7QWNjZXB0OiJ0ZXh0L2h0bWwifX0pLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGF0YX0pfSx0aGlzLmZyb21Qcm92aWRlcj1mdW5jdGlvbihhLGIsZCl7cmV0dXJuIGMuaW52b2tlKGEsbnVsbCxkfHx7cGFyYW1zOmJ9KX19ZnVuY3Rpb24gcihhLGIsZSl7ZnVuY3Rpb24gZihiLGMsZCxlKXtpZihxLnB1c2goYiksb1tiXSlyZXR1cm4gb1tiXTtpZighL15cdysoWy0uXStcdyspKig/OlxbXF0pPyQvLnRlc3QoYikpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHBhcmFtZXRlciBuYW1lICciK2IrIicgaW4gcGF0dGVybiAnIithKyInIik7aWYocFtiXSl0aHJvdyBuZXcgRXJyb3IoIkR1cGxpY2F0ZSBwYXJhbWV0ZXIgbmFtZSAnIitiKyInIGluIHBhdHRlcm4gJyIrYSsiJyIpO3JldHVybiBwW2JdPW5ldyBVLlBhcmFtKGIsYyxkLGUpLHBbYl19ZnVuY3Rpb24gZyhhLGIsYyxkKXt2YXIgZT1bIiIsIiJdLGY9YS5yZXBsYWNlKC9bXFxcW1xdXF4kKis/LigpfHt9XS9nLCJcXCQmIik7aWYoIWIpcmV0dXJuIGY7c3dpdGNoKGMpe2Nhc2UhMTplPVsiKCIsIikiKyhkPyI/IjoiIildO2JyZWFrO2Nhc2UhMDpmPWYucmVwbGFjZSgvXC8kLywiIiksZT1bIig/Oi8oIiwiKXwvKT8iXTticmVhaztkZWZhdWx0OmU9WyIoIitjKyJ8IiwiKT8iXX1yZXR1cm4gZitlWzBdK2IrZVsxXX1mdW5jdGlvbiBoKGUsZil7dmFyIGcsaCxpLGosaztyZXR1cm4gZz1lWzJdfHxlWzNdLGs9Yi5wYXJhbXNbZ10saT1hLnN1YnN0cmluZyhtLGUuaW5kZXgpLGg9Zj9lWzRdOmVbNF18fCgiKiI9PWVbMV0/Ii4qIjpudWxsKSxoJiYoaj1VLnR5cGUoaCl8fGQoVS50eXBlKCJzdHJpbmciKSx7cGF0dGVybjpuZXcgUmVnRXhwKGgsYi5jYXNlSW5zZW5zaXRpdmU/ImkiOmMpfSkpLHtpZDpnLHJlZ2V4cDpoLHNlZ21lbnQ6aSx0eXBlOmosY2ZnOmt9fWI9Uih7cGFyYW1zOnt9fSxPKGIpP2I6e30pO3ZhciBpLGo9LyhbOipdKShbXHdcW1xdXSspfFx7KFtcd1xbXF1dKykoPzpcOlxzKigoPzpbXnt9XFxdK3xcXC58XHsoPzpbXnt9XFxdK3xcXC4pKlx9KSspKT9cfS9nLGs9LyhbOl0/KShbXHdcW1xdLi1dKyl8XHsoW1x3XFtcXS4tXSspKD86XDpccyooKD86W157fVxcXSt8XFwufFx7KD86W157fVxcXSt8XFwuKSpcfSkrKSk/XH0vZyxsPSJeIixtPTAsbj10aGlzLnNlZ21lbnRzPVtdLG89ZT9lLnBhcmFtczp7fSxwPXRoaXMucGFyYW1zPWU/ZS5wYXJhbXMuJCRuZXcoKTpuZXcgVS5QYXJhbVNldCxxPVtdO3RoaXMuc291cmNlPWE7Zm9yKHZhciByLHMsdDsoaT1qLmV4ZWMoYSkpJiYocj1oKGksITEpLCEoci5zZWdtZW50LmluZGV4T2YoIj8iKT49MCkpOylzPWYoci5pZCxyLnR5cGUsci5jZmcsInBhdGgiKSxsKz1nKHIuc2VnbWVudCxzLnR5cGUucGF0dGVybi5zb3VyY2Uscy5zcXVhc2gscy5pc09wdGlvbmFsKSxuLnB1c2goci5zZWdtZW50KSxtPWoubGFzdEluZGV4O3Q9YS5zdWJzdHJpbmcobSk7dmFyIHU9dC5pbmRleE9mKCI/Iik7aWYodT49MCl7dmFyIHY9dGhpcy5zb3VyY2VTZWFyY2g9dC5zdWJzdHJpbmcodSk7aWYodD10LnN1YnN0cmluZygwLHUpLHRoaXMuc291cmNlUGF0aD1hLnN1YnN0cmluZygwLG0rdSksdi5sZW5ndGg+MClmb3IobT0wO2k9ay5leGVjKHYpOylyPWgoaSwhMCkscz1mKHIuaWQsci50eXBlLHIuY2ZnLCJzZWFyY2giKSxtPWoubGFzdEluZGV4fWVsc2UgdGhpcy5zb3VyY2VQYXRoPWEsdGhpcy5zb3VyY2VTZWFyY2g9IiI7bCs9Zyh0KSsoYi5zdHJpY3Q9PT0hMT8iLz8iOiIiKSsiJCIsbi5wdXNoKHQpLHRoaXMucmVnZXhwPW5ldyBSZWdFeHAobCxiLmNhc2VJbnNlbnNpdGl2ZT8iaSI6YyksdGhpcy5wcmVmaXg9blswXSx0aGlzLiQkcGFyYW1OYW1lcz1xfWZ1bmN0aW9uIHMoYSl7Uih0aGlzLGEpfWZ1bmN0aW9uIHQoKXtmdW5jdGlvbiBhKGEpe3JldHVybiBudWxsIT1hP2EudG9TdHJpbmcoKS5yZXBsYWNlKC9+L2csIn5+IikucmVwbGFjZSgvXC8vZywifjJGIik6YX1mdW5jdGlvbiBlKGEpe3JldHVybiBudWxsIT1hP2EudG9TdHJpbmcoKS5yZXBsYWNlKC9+MkYvZywiLyIpLnJlcGxhY2UoL35+L2csIn4iKTphfWZ1bmN0aW9uIGYoKXtyZXR1cm57c3RyaWN0OnAsY2FzZUluc2Vuc2l0aXZlOm19fWZ1bmN0aW9uIGkoYSl7cmV0dXJuIE0oYSl8fFAoYSkmJk0oYVthLmxlbmd0aC0xXSl9ZnVuY3Rpb24gaigpe2Zvcig7dy5sZW5ndGg7KXt2YXIgYT13LnNoaWZ0KCk7aWYoYS5wYXR0ZXJuKXRocm93IG5ldyBFcnJvcigiWW91IGNhbm5vdCBvdmVycmlkZSBhIHR5cGUncyAucGF0dGVybiBhdCBydW50aW1lLiIpO2IuZXh0ZW5kKHVbYS5uYW1lXSxsLmludm9rZShhLmRlZikpfX1mdW5jdGlvbiBrKGEpe1IodGhpcyxhfHx7fSl9VT10aGlzO3ZhciBsLG09ITEscD0hMCxxPSExLHU9e30sdj0hMCx3PVtdLHg9e3N0cmluZzp7ZW5jb2RlOmEsZGVjb2RlOmUsaXM6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWF8fCFMKGEpfHwic3RyaW5nIj09dHlwZW9mIGF9LHBhdHRlcm46L1teXC9dKi99LCJpbnQiOntlbmNvZGU6YSxkZWNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHBhcnNlSW50KGEsMTApfSxpczpmdW5jdGlvbihhKXtyZXR1cm4gTChhKSYmdGhpcy5kZWNvZGUoYS50b1N0cmluZygpKT09PWF9LHBhdHRlcm46L1xkKy99LGJvb2w6e2VuY29kZTpmdW5jdGlvbihhKXtyZXR1cm4gYT8xOjB9LGRlY29kZTpmdW5jdGlvbihhKXtyZXR1cm4gMCE9PXBhcnNlSW50KGEsMTApfSxpczpmdW5jdGlvbihhKXtyZXR1cm4gYT09PSEwfHxhPT09ITF9LHBhdHRlcm46LzB8MS99LGRhdGU6e2VuY29kZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pcyhhKT9bYS5nZXRGdWxsWWVhcigpLCgiMCIrKGEuZ2V0TW9udGgoKSsxKSkuc2xpY2UoLTIpLCgiMCIrYS5nZXREYXRlKCkpLnNsaWNlKC0yKV0uam9pbigiLSIpOmN9LGRlY29kZTpmdW5jdGlvbihhKXtpZih0aGlzLmlzKGEpKXJldHVybiBhO3ZhciBiPXRoaXMuY2FwdHVyZS5leGVjKGEpO3JldHVybiBiP25ldyBEYXRlKGJbMV0sYlsyXS0xLGJbM10pOmN9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiBhIGluc3RhbmNlb2YgRGF0ZSYmIWlzTmFOKGEudmFsdWVPZigpKX0sZXF1YWxzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaXMoYSkmJnRoaXMuaXMoYikmJmEudG9JU09TdHJpbmcoKT09PWIudG9JU09TdHJpbmcoKX0scGF0dGVybjovWzAtOV17NH0tKD86MFsxLTldfDFbMC0yXSktKD86MFsxLTldfFsxLTJdWzAtOV18M1swLTFdKS8sY2FwdHVyZTovKFswLTldezR9KS0oMFsxLTldfDFbMC0yXSktKDBbMS05XXxbMS0yXVswLTldfDNbMC0xXSkvfSxqc29uOntlbmNvZGU6Yi50b0pzb24sZGVjb2RlOmIuZnJvbUpzb24saXM6Yi5pc09iamVjdCxlcXVhbHM6Yi5lcXVhbHMscGF0dGVybjovW15cL10qL30sYW55OntlbmNvZGU6Yi5pZGVudGl0eSxkZWNvZGU6Yi5pZGVudGl0eSxlcXVhbHM6Yi5lcXVhbHMscGF0dGVybjovLiovfX07dC4kJGdldERlZmF1bHRWYWx1ZT1mdW5jdGlvbihhKXtpZighaShhLnZhbHVlKSlyZXR1cm4gYS52YWx1ZTtpZighbCl0aHJvdyBuZXcgRXJyb3IoIkluamVjdGFibGUgZnVuY3Rpb25zIGNhbm5vdCBiZSBjYWxsZWQgYXQgY29uZmlndXJhdGlvbiB0aW1lIik7cmV0dXJuIGwuaW52b2tlKGEudmFsdWUpfSx0aGlzLmNhc2VJbnNlbnNpdGl2ZT1mdW5jdGlvbihhKXtyZXR1cm4gTChhKSYmKG09YSksbX0sdGhpcy5zdHJpY3RNb2RlPWZ1bmN0aW9uKGEpe3JldHVybiBMKGEpJiYocD1hKSxwfSx0aGlzLmRlZmF1bHRTcXVhc2hQb2xpY3k9ZnVuY3Rpb24oYSl7aWYoIUwoYSkpcmV0dXJuIHE7aWYoYSE9PSEwJiZhIT09ITEmJiFOKGEpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBzcXVhc2ggcG9saWN5OiAiK2ErIi4gVmFsaWQgcG9saWNpZXM6IGZhbHNlLCB0cnVlLCBhcmJpdHJhcnktc3RyaW5nIik7cmV0dXJuIHE9YSxhfSx0aGlzLmNvbXBpbGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IHIoYSxSKGYoKSxiKSl9LHRoaXMuaXNNYXRjaGVyPWZ1bmN0aW9uKGEpe2lmKCFPKGEpKXJldHVybiExO3ZhciBiPSEwO3JldHVybiBRKHIucHJvdG90eXBlLGZ1bmN0aW9uKGMsZCl7TShjKSYmKGI9YiYmTChhW2RdKSYmTShhW2RdKSl9KSxifSx0aGlzLnR5cGU9ZnVuY3Rpb24oYSxiLGMpe2lmKCFMKGIpKXJldHVybiB1W2FdO2lmKHUuaGFzT3duUHJvcGVydHkoYSkpdGhyb3cgbmV3IEVycm9yKCJBIHR5cGUgbmFtZWQgJyIrYSsiJyBoYXMgYWxyZWFkeSBiZWVuIGRlZmluZWQuIik7cmV0dXJuIHVbYV09bmV3IHMoUih7bmFtZTphfSxiKSksYyYmKHcucHVzaCh7bmFtZTphLGRlZjpjfSksdnx8aigpKSx0aGlzfSxRKHgsZnVuY3Rpb24oYSxiKXt1W2JdPW5ldyBzKFIoe25hbWU6Yn0sYSkpfSksdT1kKHUse30pLHRoaXMuJGdldD1bIiRpbmplY3RvciIsZnVuY3Rpb24oYSl7cmV0dXJuIGw9YSx2PSExLGooKSxRKHgsZnVuY3Rpb24oYSxiKXt1W2JdfHwodVtiXT1uZXcgcyhhKSl9KSx0aGlzfV0sdGhpcy5QYXJhbT1mdW5jdGlvbihhLGQsZSxmKXtmdW5jdGlvbiBqKGEpe3ZhciBiPU8oYSk/ZyhhKTpbXSxjPS0xPT09aChiLCJ2YWx1ZSIpJiYtMT09PWgoYiwidHlwZSIpJiYtMT09PWgoYiwic3F1YXNoIikmJi0xPT09aChiLCJhcnJheSIpO3JldHVybiBjJiYoYT17dmFsdWU6YX0pLGEuJCRmbj1pKGEudmFsdWUpP2EudmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gYS52YWx1ZX0sYX1mdW5jdGlvbiBrKGMsZCxlKXtpZihjLnR5cGUmJmQpdGhyb3cgbmV3IEVycm9yKCJQYXJhbSAnIithKyInIGhhcyB0d28gdHlwZSBjb25maWd1cmF0aW9ucy4iKTtyZXR1cm4gZD9kOmMudHlwZT9iLmlzU3RyaW5nKGMudHlwZSk/dVtjLnR5cGVdOmMudHlwZSBpbnN0YW5jZW9mIHM/Yy50eXBlOm5ldyBzKGMudHlwZSk6ImNvbmZpZyI9PT1lP3UuYW55OnUuc3RyaW5nfWZ1bmN0aW9uIG0oKXt2YXIgYj17YXJyYXk6InNlYXJjaCI9PT1mPyJhdXRvIjohMX0sYz1hLm1hdGNoKC9cW1xdJC8pP3thcnJheTohMH06e307cmV0dXJuIFIoYixjLGUpLmFycmF5fWZ1bmN0aW9uIHAoYSxiKXt2YXIgYz1hLnNxdWFzaDtpZighYnx8Yz09PSExKXJldHVybiExO2lmKCFMKGMpfHxudWxsPT1jKXJldHVybiBxO2lmKGM9PT0hMHx8TihjKSlyZXR1cm4gYzt0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgc3F1YXNoIHBvbGljeTogJyIrYysiJy4gVmFsaWQgcG9saWNpZXM6IGZhbHNlLCB0cnVlLCBvciBhcmJpdHJhcnkgc3RyaW5nIil9ZnVuY3Rpb24gcihhLGIsZCxlKXt2YXIgZixnLGk9W3tmcm9tOiIiLHRvOmR8fGI/YzoiIn0se2Zyb206bnVsbCx0bzpkfHxiP2M6IiJ9XTtyZXR1cm4gZj1QKGEucmVwbGFjZSk/YS5yZXBsYWNlOltdLE4oZSkmJmYucHVzaCh7ZnJvbTplLHRvOmN9KSxnPW8oZixmdW5jdGlvbihhKXtyZXR1cm4gYS5mcm9tfSksbihpLGZ1bmN0aW9uKGEpe3JldHVybi0xPT09aChnLGEuZnJvbSl9KS5jb25jYXQoZil9ZnVuY3Rpb24gdCgpe2lmKCFsKXRocm93IG5ldyBFcnJvcigiSW5qZWN0YWJsZSBmdW5jdGlvbnMgY2Fubm90IGJlIGNhbGxlZCBhdCBjb25maWd1cmF0aW9uIHRpbWUiKTt2YXIgYT1sLmludm9rZShlLiQkZm4pO2lmKG51bGwhPT1hJiZhIT09YyYmIXgudHlwZS5pcyhhKSl0aHJvdyBuZXcgRXJyb3IoIkRlZmF1bHQgdmFsdWUgKCIrYSsiKSBmb3IgcGFyYW1ldGVyICciK3guaWQrIicgaXMgbm90IGFuIGluc3RhbmNlIG9mIFR5cGUgKCIreC50eXBlLm5hbWUrIikiKTtyZXR1cm4gYX1mdW5jdGlvbiB2KGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBiLmZyb209PT1hfX1mdW5jdGlvbiBjKGEpe3ZhciBjPW8obih4LnJlcGxhY2UsYihhKSksZnVuY3Rpb24oYSl7cmV0dXJuIGEudG99KTtyZXR1cm4gYy5sZW5ndGg/Y1swXTphfXJldHVybiBhPWMoYSksTChhKT94LnR5cGUuJG5vcm1hbGl6ZShhKTp0KCl9ZnVuY3Rpb24gdygpe3JldHVybiJ7UGFyYW06IithKyIgIitkKyIgc3F1YXNoOiAnIitBKyInIG9wdGlvbmFsOiAiK3orIn0ifXZhciB4PXRoaXM7ZT1qKGUpLGQ9ayhlLGQsZik7dmFyIHk9bSgpO2Q9eT9kLiRhc0FycmF5KHksInNlYXJjaCI9PT1mKTpkLCJzdHJpbmciIT09ZC5uYW1lfHx5fHwicGF0aCIhPT1mfHxlLnZhbHVlIT09Y3x8KGUudmFsdWU9IiIpO3ZhciB6PWUudmFsdWUhPT1jLEE9cChlLHopLEI9cihlLHkseixBKTtSKHRoaXMse2lkOmEsdHlwZTpkLGxvY2F0aW9uOmYsYXJyYXk6eSxzcXVhc2g6QSxyZXBsYWNlOkIsaXNPcHRpb25hbDp6LHZhbHVlOnYsZHluYW1pYzpjLGNvbmZpZzplLHRvU3RyaW5nOnd9KX0say5wcm90b3R5cGU9eyQkbmV3OmZ1bmN0aW9uKCl7cmV0dXJuIGQodGhpcyxSKG5ldyBrLHskJHBhcmVudDp0aGlzfSkpfSwkJGtleXM6ZnVuY3Rpb24oKXtmb3IodmFyIGE9W10sYj1bXSxjPXRoaXMsZD1nKGsucHJvdG90eXBlKTtjOyliLnB1c2goYyksYz1jLiQkcGFyZW50O3JldHVybiBiLnJldmVyc2UoKSxRKGIsZnVuY3Rpb24oYil7UShnKGIpLGZ1bmN0aW9uKGIpey0xPT09aChhLGIpJiYtMT09PWgoZCxiKSYmYS5wdXNoKGIpfSl9KSxhfSwkJHZhbHVlczpmdW5jdGlvbihhKXt2YXIgYj17fSxjPXRoaXM7cmV0dXJuIFEoYy4kJGtleXMoKSxmdW5jdGlvbihkKXtiW2RdPWNbZF0udmFsdWUoYSYmYVtkXSl9KSxifSwkJGVxdWFsczpmdW5jdGlvbihhLGIpe3ZhciBjPSEwLGQ9dGhpcztyZXR1cm4gUShkLiQka2V5cygpLGZ1bmN0aW9uKGUpe3ZhciBmPWEmJmFbZV0sZz1iJiZiW2VdO2RbZV0udHlwZS5lcXVhbHMoZixnKXx8KGM9ITEpfSksY30sJCR2YWxpZGF0ZXM6ZnVuY3Rpb24oYSl7dmFyIGQsZSxmLGcsaCxpPXRoaXMuJCRrZXlzKCk7Zm9yKGQ9MDtkPGkubGVuZ3RoJiYoZT10aGlzW2lbZF1dLGY9YVtpW2RdXSxmIT09YyYmbnVsbCE9PWZ8fCFlLmlzT3B0aW9uYWwpO2QrKyl7aWYoZz1lLnR5cGUuJG5vcm1hbGl6ZShmKSwhZS50eXBlLmlzKGcpKXJldHVybiExO2lmKGg9ZS50eXBlLmVuY29kZShnKSxiLmlzU3RyaW5nKGgpJiYhZS50eXBlLnBhdHRlcm4uZXhlYyhoKSlyZXR1cm4hMX1yZXR1cm4hMH0sJCRwYXJlbnQ6Y30sdGhpcy5QYXJhbVNldD1rfWZ1bmN0aW9uIHUoYSxkKXtmdW5jdGlvbiBlKGEpe3ZhciBiPS9eXF4oKD86XFxbXmEtekEtWjAtOV18W15cXFxbXF1cXiQqKz8uKCl8e31dKykqKS8uZXhlYyhhLnNvdXJjZSk7cmV0dXJuIG51bGwhPWI/YlsxXS5yZXBsYWNlKC9cXCguKS9nLCIkMSIpOiIifWZ1bmN0aW9uIGYoYSxiKXtyZXR1cm4gYS5yZXBsYWNlKC9cJChcJHxcZHsxLDJ9KS8sZnVuY3Rpb24oYSxjKXtyZXR1cm4gYlsiJCI9PT1jPzA6TnVtYmVyKGMpXX0pfWZ1bmN0aW9uIGcoYSxiLGMpe2lmKCFjKXJldHVybiExO3ZhciBkPWEuaW52b2tlKGIsYix7JG1hdGNoOmN9KTtyZXR1cm4gTChkKT9kOiEwfWZ1bmN0aW9uIGgoZCxlLGYsZyxoKXtmdW5jdGlvbiBtKGEsYixjKXtyZXR1cm4iLyI9PT1xP2E6Yj9xLnNsaWNlKDAsLTEpK2E6Yz9xLnNsaWNlKDEpK2E6YX1mdW5jdGlvbiBuKGEpe2Z1bmN0aW9uIGIoYSl7dmFyIGI9YShmLGQpO3JldHVybiBiPyhOKGIpJiZkLnJlcGxhY2UoKS51cmwoYiksITApOiExfWlmKCFhfHwhYS5kZWZhdWx0UHJldmVudGVkKXtwJiZkLnVybCgpPT09cDtwPWM7dmFyIGUsZz1qLmxlbmd0aDtmb3IoZT0wO2c+ZTtlKyspaWYoYihqW2VdKSlyZXR1cm47ayYmYihrKX19ZnVuY3Rpb24gbygpe3JldHVybiBpPWl8fGUuJG9uKCIkbG9jYXRpb25DaGFuZ2VTdWNjZXNzIixuKX12YXIgcCxxPWcuYmFzZUhyZWYoKSxyPWQudXJsKCk7cmV0dXJuIGx8fG8oKSx7c3luYzpmdW5jdGlvbigpe24oKX0sbGlzdGVuOmZ1bmN0aW9uKCl7cmV0dXJuIG8oKX0sdXBkYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBhP3ZvaWQocj1kLnVybCgpKTp2b2lkKGQudXJsKCkhPT1yJiYoZC51cmwociksZC5yZXBsYWNlKCkpKX0scHVzaDpmdW5jdGlvbihhLGIsZSl7dmFyIGY9YS5mb3JtYXQoYnx8e30pO251bGwhPT1mJiZiJiZiWyIjIl0mJihmKz0iIyIrYlsiIyJdKSxkLnVybChmKSxwPWUmJmUuJCRhdm9pZFJlc3luYz9kLnVybCgpOmMsZSYmZS5yZXBsYWNlJiZkLnJlcGxhY2UoKX0saHJlZjpmdW5jdGlvbihjLGUsZil7aWYoIWMudmFsaWRhdGVzKGUpKXJldHVybiBudWxsO3ZhciBnPWEuaHRtbDVNb2RlKCk7Yi5pc09iamVjdChnKSYmKGc9Zy5lbmFibGVkKSxnPWcmJmguaGlzdG9yeTt2YXIgaT1jLmZvcm1hdChlKTtpZihmPWZ8fHt9LGd8fG51bGw9PT1pfHwoaT0iIyIrYS5oYXNoUHJlZml4KCkraSksbnVsbCE9PWkmJmUmJmVbIiMiXSYmKGkrPSIjIitlWyIjIl0pLGk9bShpLGcsZi5hYnNvbHV0ZSksIWYuYWJzb2x1dGV8fCFpKXJldHVybiBpO3ZhciBqPSFnJiZpPyIvIjoiIixrPWQucG9ydCgpO3JldHVybiBrPTgwPT09a3x8NDQzPT09az8iIjoiOiIrayxbZC5wcm90b2NvbCgpLCI6Ly8iLGQuaG9zdCgpLGssaixpXS5qb2luKCIiKX19fXZhciBpLGo9W10saz1udWxsLGw9ITE7dGhpcy5ydWxlPWZ1bmN0aW9uKGEpe2lmKCFNKGEpKXRocm93IG5ldyBFcnJvcigiJ3J1bGUnIG11c3QgYmUgYSBmdW5jdGlvbiIpO3JldHVybiBqLnB1c2goYSksdGhpc30sdGhpcy5vdGhlcndpc2U9ZnVuY3Rpb24oYSl7aWYoTihhKSl7dmFyIGI9YTthPWZ1bmN0aW9uKCl7cmV0dXJuIGJ9fWVsc2UgaWYoIU0oYSkpdGhyb3cgbmV3IEVycm9yKCIncnVsZScgbXVzdCBiZSBhIGZ1bmN0aW9uIik7cmV0dXJuIGs9YSx0aGlzfSx0aGlzLndoZW49ZnVuY3Rpb24oYSxiKXt2YXIgYyxoPU4oYik7aWYoTihhKSYmKGE9ZC5jb21waWxlKGEpKSwhaCYmIU0oYikmJiFQKGIpKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCAnaGFuZGxlcicgaW4gd2hlbigpIik7dmFyIGk9e21hdGNoZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gaCYmKGM9ZC5jb21waWxlKGIpLGI9WyIkbWF0Y2giLGZ1bmN0aW9uKGEpe3JldHVybiBjLmZvcm1hdChhKX1dKSxSKGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGcoYyxiLGEuZXhlYyhkLnBhdGgoKSxkLnNlYXJjaCgpKSl9LHtwcmVmaXg6TihhLnByZWZpeCk/YS5wcmVmaXg6IiJ9KX0scmVnZXg6ZnVuY3Rpb24oYSxiKXtpZihhLmdsb2JhbHx8YS5zdGlja3kpdGhyb3cgbmV3IEVycm9yKCJ3aGVuKCkgUmVnRXhwIG11c3Qgbm90IGJlIGdsb2JhbCBvciBzdGlja3kiKTtyZXR1cm4gaCYmKGM9YixiPVsiJG1hdGNoIixmdW5jdGlvbihhKXtyZXR1cm4gZihjLGEpfV0pLFIoZnVuY3Rpb24oYyxkKXtyZXR1cm4gZyhjLGIsYS5leGVjKGQucGF0aCgpKSl9LHtwcmVmaXg6ZShhKX0pfX0saj17bWF0Y2hlcjpkLmlzTWF0Y2hlcihhKSxyZWdleDphIGluc3RhbmNlb2YgUmVnRXhwfTtmb3IodmFyIGsgaW4gailpZihqW2tdKXJldHVybiB0aGlzLnJ1bGUoaVtrXShhLGIpKTt0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgJ3doYXQnIGluIHdoZW4oKSIpfSx0aGlzLmRlZmVySW50ZXJjZXB0PWZ1bmN0aW9uKGEpe2E9PT1jJiYoYT0hMCksbD1hfSx0aGlzLiRnZXQ9aCxoLiRpbmplY3Q9WyIkbG9jYXRpb24iLCIkcm9vdFNjb3BlIiwiJGluamVjdG9yIiwiJGJyb3dzZXIiLCIkc25pZmZlciJdfWZ1bmN0aW9uIHYoYSxlKXtmdW5jdGlvbiBmKGEpe3JldHVybiAwPT09YS5pbmRleE9mKCIuIil8fDA9PT1hLmluZGV4T2YoIl4iKX1mdW5jdGlvbiBtKGEsYil7aWYoIWEpcmV0dXJuIGM7dmFyIGQ9TihhKSxlPWQ/YTphLm5hbWUsZz1mKGUpO2lmKGcpe2lmKCFiKXRocm93IG5ldyBFcnJvcigiTm8gcmVmZXJlbmNlIHBvaW50IGdpdmVuIGZvciBwYXRoICciK2UrIiciKTtiPW0oYik7Zm9yKHZhciBoPWUuc3BsaXQoIi4iKSxpPTAsaj1oLmxlbmd0aCxrPWI7aj5pO2krKylpZigiIiE9PWhbaV18fDAhPT1pKXtpZigiXiIhPT1oW2ldKWJyZWFrO2lmKCFrLnBhcmVudCl0aHJvdyBuZXcgRXJyb3IoIlBhdGggJyIrZSsiJyBub3QgdmFsaWQgZm9yIHN0YXRlICciK2IubmFtZSsiJyIpO2s9ay5wYXJlbnR9ZWxzZSBrPWI7aD1oLnNsaWNlKGkpLmpvaW4oIi4iKSxlPWsubmFtZSsoay5uYW1lJiZoPyIuIjoiIikraH12YXIgbD16W2VdO3JldHVybiFsfHwhZCYmKGR8fGwhPT1hJiZsLnNlbGYhPT1hKT9jOmx9ZnVuY3Rpb24gbihhLGIpe0FbYV18fChBW2FdPVtdKSxBW2FdLnB1c2goYil9ZnVuY3Rpb24gcChhKXtmb3IodmFyIGI9QVthXXx8W107Yi5sZW5ndGg7KXEoYi5zaGlmdCgpKX1mdW5jdGlvbiBxKGIpe2I9ZChiLHtzZWxmOmIscmVzb2x2ZTpiLnJlc29sdmV8fHt9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZX19KTt2YXIgYz1iLm5hbWU7aWYoIU4oYyl8fGMuaW5kZXhPZigiQCIpPj0wKXRocm93IG5ldyBFcnJvcigiU3RhdGUgbXVzdCBoYXZlIGEgdmFsaWQgbmFtZSIpO2lmKHouaGFzT3duUHJvcGVydHkoYykpdGhyb3cgbmV3IEVycm9yKCJTdGF0ZSAnIitjKyInIGlzIGFscmVhZHkgZGVmaW5lZCIpO3ZhciBlPS0xIT09Yy5pbmRleE9mKCIuIik/Yy5zdWJzdHJpbmcoMCxjLmxhc3RJbmRleE9mKCIuIikpOk4oYi5wYXJlbnQpP2IucGFyZW50Ok8oYi5wYXJlbnQpJiZOKGIucGFyZW50Lm5hbWUpP2IucGFyZW50Lm5hbWU6IiI7aWYoZSYmIXpbZV0pcmV0dXJuIG4oZSxiLnNlbGYpO2Zvcih2YXIgZiBpbiBDKU0oQ1tmXSkmJihiW2ZdPUNbZl0oYixDLiRkZWxlZ2F0ZXNbZl0pKTtyZXR1cm4geltjXT1iLCFiW0JdJiZiLnVybCYmYS53aGVuKGIudXJsLFsiJG1hdGNoIiwiJHN0YXRlUGFyYW1zIixmdW5jdGlvbihhLGMpe3kuJGN1cnJlbnQubmF2aWdhYmxlPT1iJiZqKGEsYyl8fHkudHJhbnNpdGlvblRvKGIsYSx7aW5oZXJpdDohMCxsb2NhdGlvbjohMX0pfV0pLHAoYyksYn1mdW5jdGlvbiByKGEpe3JldHVybiBhLmluZGV4T2YoIioiKT4tMX1mdW5jdGlvbiBzKGEpe2Zvcih2YXIgYj1hLnNwbGl0KCIuIiksYz15LiRjdXJyZW50Lm5hbWUuc3BsaXQoIi4iKSxkPTAsZT1iLmxlbmd0aDtlPmQ7ZCsrKSIqIj09PWJbZF0mJihjW2RdPSIqIik7cmV0dXJuIioqIj09PWJbMF0mJihjPWMuc2xpY2UoaChjLGJbMV0pKSxjLnVuc2hpZnQoIioqIikpLCIqKiI9PT1iW2IubGVuZ3RoLTFdJiYoYy5zcGxpY2UoaChjLGJbYi5sZW5ndGgtMl0pKzEsTnVtYmVyLk1BWF9WQUxVRSksYy5wdXNoKCIqKiIpKSxiLmxlbmd0aCE9Yy5sZW5ndGg/ITE6Yy5qb2luKCIiKT09PWIuam9pbigiIil9ZnVuY3Rpb24gdChhLGIpe3JldHVybiBOKGEpJiYhTChiKT9DW2FdOk0oYikmJk4oYSk/KENbYV0mJiFDLiRkZWxlZ2F0ZXNbYV0mJihDLiRkZWxlZ2F0ZXNbYV09Q1thXSksQ1thXT1iLHRoaXMpOnRoaXN9ZnVuY3Rpb24gdShhLGIpe3JldHVybiBPKGEpP2I9YTpiLm5hbWU9YSxxKGIpLHRoaXN9ZnVuY3Rpb24gdihhLGUsZixoLGwsbixwLHEsdCl7ZnVuY3Rpb24gdShiLGMsZCxmKXt2YXIgZz1hLiRicm9hZGNhc3QoIiRzdGF0ZU5vdEZvdW5kIixiLGMsZCk7aWYoZy5kZWZhdWx0UHJldmVudGVkKXJldHVybiBwLnVwZGF0ZSgpLEQ7aWYoIWcucmV0cnkpcmV0dXJuIG51bGw7aWYoZi4kcmV0cnkpcmV0dXJuIHAudXBkYXRlKCksRTt2YXIgaD15LnRyYW5zaXRpb249ZS53aGVuKGcucmV0cnkpO3JldHVybiBoLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gaCE9PXkudHJhbnNpdGlvbj9BOihiLm9wdGlvbnMuJHJldHJ5PSEwLHkudHJhbnNpdGlvblRvKGIudG8sYi50b1BhcmFtcyxiLm9wdGlvbnMpKX0sZnVuY3Rpb24oKXtyZXR1cm4gRH0pLHAudXBkYXRlKCksaH1mdW5jdGlvbiB2KGEsYyxkLGcsaSxqKXtmdW5jdGlvbiBtKCl7dmFyIGM9W107cmV0dXJuIFEoYS52aWV3cyxmdW5jdGlvbihkLGUpe3ZhciBnPWQucmVzb2x2ZSYmZC5yZXNvbHZlIT09YS5yZXNvbHZlP2QucmVzb2x2ZTp7fTtnLiR0ZW1wbGF0ZT1bZnVuY3Rpb24oKXtyZXR1cm4gZi5sb2FkKGUse3ZpZXc6ZCxsb2NhbHM6aS5nbG9iYWxzLHBhcmFtczpuLG5vdGlmeTpqLm5vdGlmeX0pfHwiIn1dLGMucHVzaChsLnJlc29sdmUoZyxpLmdsb2JhbHMsaS5yZXNvbHZlLGEpLnRoZW4oZnVuY3Rpb24oYyl7aWYoTShkLmNvbnRyb2xsZXJQcm92aWRlcil8fFAoZC5jb250cm9sbGVyUHJvdmlkZXIpKXt2YXIgZj1iLmV4dGVuZCh7fSxnLGkuZ2xvYmFscyk7Yy4kJGNvbnRyb2xsZXI9aC5pbnZva2UoZC5jb250cm9sbGVyUHJvdmlkZXIsbnVsbCxmKX1lbHNlIGMuJCRjb250cm9sbGVyPWQuY29udHJvbGxlcjtjLiQkc3RhdGU9YSxjLiQkY29udHJvbGxlckFzPWQuY29udHJvbGxlckFzLGlbZV09Y30pKX0pLGUuYWxsKGMpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gaS5nbG9iYWxzfSl9dmFyIG49ZD9jOmsoYS5wYXJhbXMuJCRrZXlzKCksYyksbz17JHN0YXRlUGFyYW1zOm59O2kucmVzb2x2ZT1sLnJlc29sdmUoYS5yZXNvbHZlLG8saS5yZXNvbHZlLGEpO3ZhciBwPVtpLnJlc29sdmUudGhlbihmdW5jdGlvbihhKXtpLmdsb2JhbHM9YX0pXTtyZXR1cm4gZyYmcC5wdXNoKGcpLGUuYWxsKHApLnRoZW4obSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gaX0pfXZhciBBPWUucmVqZWN0KG5ldyBFcnJvcigidHJhbnNpdGlvbiBzdXBlcnNlZGVkIikpLEM9ZS5yZWplY3QobmV3IEVycm9yKCJ0cmFuc2l0aW9uIHByZXZlbnRlZCIpKSxEPWUucmVqZWN0KG5ldyBFcnJvcigidHJhbnNpdGlvbiBhYm9ydGVkIikpLEU9ZS5yZWplY3QobmV3IEVycm9yKCJ0cmFuc2l0aW9uIGZhaWxlZCIpKTtyZXR1cm4geC5sb2NhbHM9e3Jlc29sdmU6bnVsbCxnbG9iYWxzOnskc3RhdGVQYXJhbXM6e319fSx5PXtwYXJhbXM6e30sY3VycmVudDp4LnNlbGYsJGN1cnJlbnQ6eCx0cmFuc2l0aW9uOm51bGx9LHkucmVsb2FkPWZ1bmN0aW9uKGEpe3JldHVybiB5LnRyYW5zaXRpb25Ubyh5LmN1cnJlbnQsbix7cmVsb2FkOmF8fCEwLGluaGVyaXQ6ITEsbm90aWZ5OiEwfSl9LHkuZ289ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB5LnRyYW5zaXRpb25UbyhhLGIsUih7aW5oZXJpdDohMCxyZWxhdGl2ZTp5LiRjdXJyZW50fSxjKSl9LHkudHJhbnNpdGlvblRvPWZ1bmN0aW9uKGIsYyxmKXtjPWN8fHt9LGY9Uih7bG9jYXRpb246ITAsaW5oZXJpdDohMSxyZWxhdGl2ZTpudWxsLG5vdGlmeTohMCxyZWxvYWQ6ITEsJHJldHJ5OiExfSxmfHx7fSk7dmFyIGcsaj15LiRjdXJyZW50LGw9eS5wYXJhbXMsbz1qLnBhdGgscT1tKGIsZi5yZWxhdGl2ZSkscj1jWyIjIl07aWYoIUwocSkpe3ZhciBzPXt0bzpiLHRvUGFyYW1zOmMsb3B0aW9uczpmfSx0PXUocyxqLnNlbGYsbCxmKTtpZih0KXJldHVybiB0O2lmKGI9cy50byxjPXMudG9QYXJhbXMsZj1zLm9wdGlvbnMscT1tKGIsZi5yZWxhdGl2ZSksIUwocSkpe2lmKCFmLnJlbGF0aXZlKXRocm93IG5ldyBFcnJvcigiTm8gc3VjaCBzdGF0ZSAnIitiKyInIik7dGhyb3cgbmV3IEVycm9yKCJDb3VsZCBub3QgcmVzb2x2ZSAnIitiKyInIGZyb20gc3RhdGUgJyIrZi5yZWxhdGl2ZSsiJyIpfX1pZihxW0JdKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IHRyYW5zaXRpb24gdG8gYWJzdHJhY3Qgc3RhdGUgJyIrYisiJyIpO2lmKGYuaW5oZXJpdCYmKGM9aShuLGN8fHt9LHkuJGN1cnJlbnQscSkpLCFxLnBhcmFtcy4kJHZhbGlkYXRlcyhjKSlyZXR1cm4gRTtjPXEucGFyYW1zLiQkdmFsdWVzKGMpLGI9cTt2YXIgej1iLnBhdGgsRD0wLEY9eltEXSxHPXgubG9jYWxzLEg9W107aWYoZi5yZWxvYWQpe2lmKE4oZi5yZWxvYWQpfHxPKGYucmVsb2FkKSl7aWYoTyhmLnJlbG9hZCkmJiFmLnJlbG9hZC5uYW1lKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCByZWxvYWQgc3RhdGUgb2JqZWN0Iik7dmFyIEk9Zi5yZWxvYWQ9PT0hMD9vWzBdOm0oZi5yZWxvYWQpO2lmKGYucmVsb2FkJiYhSSl0aHJvdyBuZXcgRXJyb3IoIk5vIHN1Y2ggcmVsb2FkIHN0YXRlICciKyhOKGYucmVsb2FkKT9mLnJlbG9hZDpmLnJlbG9hZC5uYW1lKSsiJyIpO2Zvcig7RiYmRj09PW9bRF0mJkYhPT1JOylHPUhbRF09Ri5sb2NhbHMsRCsrLEY9eltEXX19ZWxzZSBmb3IoO0YmJkY9PT1vW0RdJiZGLm93blBhcmFtcy4kJGVxdWFscyhjLGwpOylHPUhbRF09Ri5sb2NhbHMsRCsrLEY9eltEXTtpZih3KGIsYyxqLGwsRyxmKSlyZXR1cm4gciYmKGNbIiMiXT1yKSx5LnBhcmFtcz1jLFMoeS5wYXJhbXMsbiksUyhrKGIucGFyYW1zLiQka2V5cygpLG4pLGIubG9jYWxzLmdsb2JhbHMuJHN0YXRlUGFyYW1zKSxmLmxvY2F0aW9uJiZiLm5hdmlnYWJsZSYmYi5uYXZpZ2FibGUudXJsJiYocC5wdXNoKGIubmF2aWdhYmxlLnVybCxjLHskJGF2b2lkUmVzeW5jOiEwLHJlcGxhY2U6InJlcGxhY2UiPT09Zi5sb2NhdGlvbn0pLHAudXBkYXRlKCEwKSkseS50cmFuc2l0aW9uPW51bGwsZS53aGVuKHkuY3VycmVudCk7aWYoYz1rKGIucGFyYW1zLiQka2V5cygpLGN8fHt9KSxyJiYoY1siIyJdPXIpLGYubm90aWZ5JiZhLiRicm9hZGNhc3QoIiRzdGF0ZUNoYW5nZVN0YXJ0IixiLnNlbGYsYyxqLnNlbGYsbCxmKS5kZWZhdWx0UHJldmVudGVkKXJldHVybiBhLiRicm9hZGNhc3QoIiRzdGF0ZUNoYW5nZUNhbmNlbCIsYi5zZWxmLGMsai5zZWxmLGwpLG51bGw9PXkudHJhbnNpdGlvbiYmcC51cGRhdGUoKSxDO2Zvcih2YXIgSj1lLndoZW4oRyksSz1EO0s8ei5sZW5ndGg7SysrLEY9eltLXSlHPUhbS109ZChHKSxKPXYoRixjLEY9PT1iLEosRyxmKTt2YXIgTT15LnRyYW5zaXRpb249Si50aGVuKGZ1bmN0aW9uKCl7dmFyIGQsZSxnO2lmKHkudHJhbnNpdGlvbiE9PU0pcmV0dXJuIEE7Zm9yKGQ9by5sZW5ndGgtMTtkPj1EO2QtLSlnPW9bZF0sZy5zZWxmLm9uRXhpdCYmaC5pbnZva2UoZy5zZWxmLm9uRXhpdCxnLnNlbGYsZy5sb2NhbHMuZ2xvYmFscyksZy5sb2NhbHM9bnVsbDtmb3IoZD1EO2Q8ei5sZW5ndGg7ZCsrKWU9eltkXSxlLmxvY2Fscz1IW2RdLGUuc2VsZi5vbkVudGVyJiZoLmludm9rZShlLnNlbGYub25FbnRlcixlLnNlbGYsZS5sb2NhbHMuZ2xvYmFscyk7cmV0dXJuIHkudHJhbnNpdGlvbiE9PU0/QTooeS4kY3VycmVudD1iLHkuY3VycmVudD1iLnNlbGYseS5wYXJhbXM9YyxTKHkucGFyYW1zLG4pLHkudHJhbnNpdGlvbj1udWxsLGYubG9jYXRpb24mJmIubmF2aWdhYmxlJiZwLnB1c2goYi5uYXZpZ2FibGUudXJsLGIubmF2aWdhYmxlLmxvY2Fscy5nbG9iYWxzLiRzdGF0ZVBhcmFtcyx7JCRhdm9pZFJlc3luYzohMCxyZXBsYWNlOiJyZXBsYWNlIj09PWYubG9jYXRpb259KSxmLm5vdGlmeSYmYS4kYnJvYWRjYXN0KCIkc3RhdGVDaGFuZ2VTdWNjZXNzIixiLnNlbGYsYyxqLnNlbGYsbCkscC51cGRhdGUoITApLHkuY3VycmVudCl9LGZ1bmN0aW9uKGQpe3JldHVybiB5LnRyYW5zaXRpb24hPT1NP0E6KHkudHJhbnNpdGlvbj1udWxsLGc9YS4kYnJvYWRjYXN0KCIkc3RhdGVDaGFuZ2VFcnJvciIsYi5zZWxmLGMsai5zZWxmLGwsZCksZy5kZWZhdWx0UHJldmVudGVkfHxwLnVwZGF0ZSgpLGUucmVqZWN0KGQpKX0pO3JldHVybiBNfSx5LmlzPWZ1bmN0aW9uKGEsYixkKXtkPVIoe3JlbGF0aXZlOnkuJGN1cnJlbnR9LGR8fHt9KTt2YXIgZT1tKGEsZC5yZWxhdGl2ZSk7cmV0dXJuIEwoZSk/eS4kY3VycmVudCE9PWU/ITE6Yj9qKGUucGFyYW1zLiQkdmFsdWVzKGIpLG4pOiEwOmN9LHkuaW5jbHVkZXM9ZnVuY3Rpb24oYSxiLGQpe2lmKGQ9Uih7cmVsYXRpdmU6eS4kY3VycmVudH0sZHx8e30pLE4oYSkmJnIoYSkpe2lmKCFzKGEpKXJldHVybiExO2E9eS4kY3VycmVudC5uYW1lfXZhciBlPW0oYSxkLnJlbGF0aXZlKTtyZXR1cm4gTChlKT9MKHkuJGN1cnJlbnQuaW5jbHVkZXNbZS5uYW1lXSk/Yj9qKGUucGFyYW1zLiQkdmFsdWVzKGIpLG4sZyhiKSk6ITA6ITE6Y30seS5ocmVmPWZ1bmN0aW9uKGEsYixkKXtkPVIoe2xvc3N5OiEwLGluaGVyaXQ6ITAsYWJzb2x1dGU6ITEscmVsYXRpdmU6eS4kY3VycmVudH0sZHx8e30pO3ZhciBlPW0oYSxkLnJlbGF0aXZlKTtpZighTChlKSlyZXR1cm4gbnVsbDtkLmluaGVyaXQmJihiPWkobixifHx7fSx5LiRjdXJyZW50LGUpKTt2YXIgZj1lJiZkLmxvc3N5P2UubmF2aWdhYmxlOmU7cmV0dXJuIGYmJmYudXJsIT09YyYmbnVsbCE9PWYudXJsP3AuaHJlZihmLnVybCxrKGUucGFyYW1zLiQka2V5cygpLmNvbmNhdCgiIyIpLGJ8fHt9KSx7YWJzb2x1dGU6ZC5hYnNvbHV0ZX0pOm51bGx9LHkuZ2V0PWZ1bmN0aW9uKGEsYil7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIG8oZyh6KSxmdW5jdGlvbihhKXtyZXR1cm4gelthXS5zZWxmfSk7dmFyIGM9bShhLGJ8fHkuJGN1cnJlbnQpO3JldHVybiBjJiZjLnNlbGY/Yy5zZWxmOm51bGx9LHl9ZnVuY3Rpb24gdyhhLGIsYyxkLGUsZil7ZnVuY3Rpb24gZyhhLGIsYyl7ZnVuY3Rpb24gZChiKXtyZXR1cm4ic2VhcmNoIiE9YS5wYXJhbXNbYl0ubG9jYXRpb259dmFyIGU9YS5wYXJhbXMuJCRrZXlzKCkuZmlsdGVyKGQpLGY9bC5hcHBseSh7fSxbYS5wYXJhbXNdLmNvbmNhdChlKSksZz1uZXcgVS5QYXJhbVNldChmKTtyZXR1cm4gZy4kJGVxdWFscyhiLGMpfXJldHVybiFmLnJlbG9hZCYmYT09PWMmJihlPT09Yy5sb2NhbHN8fGEuc2VsZi5yZWxvYWRPblNlYXJjaD09PSExJiZnKGMsZCxiKSk/ITA6dm9pZCAwfXZhciB4LHksej17fSxBPXt9LEI9ImFic3RyYWN0IixDPXtwYXJlbnQ6ZnVuY3Rpb24oYSl7aWYoTChhLnBhcmVudCkmJmEucGFyZW50KXJldHVybiBtKGEucGFyZW50KTt2YXIgYj0vXiguKylcLlteLl0rJC8uZXhlYyhhLm5hbWUpO3JldHVybiBiP20oYlsxXSk6eH0sZGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnQmJmEucGFyZW50LmRhdGEmJihhLmRhdGE9YS5zZWxmLmRhdGE9ZChhLnBhcmVudC5kYXRhLGEuZGF0YSkpLGEuZGF0YX0sdXJsOmZ1bmN0aW9uKGEpe3ZhciBiPWEudXJsLGM9e3BhcmFtczphLnBhcmFtc3x8e319O2lmKE4oYikpcmV0dXJuIl4iPT1iLmNoYXJBdCgwKT9lLmNvbXBpbGUoYi5zdWJzdHJpbmcoMSksYyk6KGEucGFyZW50Lm5hdmlnYWJsZXx8eCkudXJsLmNvbmNhdChiLGMpO2lmKCFifHxlLmlzTWF0Y2hlcihiKSlyZXR1cm4gYjt0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgdXJsICciK2IrIicgaW4gc3RhdGUgJyIrYSsiJyIpfSxuYXZpZ2FibGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEudXJsP2E6YS5wYXJlbnQ/YS5wYXJlbnQubmF2aWdhYmxlOm51bGx9LG93blBhcmFtczpmdW5jdGlvbihhKXt2YXIgYj1hLnVybCYmYS51cmwucGFyYW1zfHxuZXcgVS5QYXJhbVNldDtyZXR1cm4gUShhLnBhcmFtc3x8e30sZnVuY3Rpb24oYSxjKXtiW2NdfHwoYltjXT1uZXcgVS5QYXJhbShjLG51bGwsYSwiY29uZmlnIikpfSksYn0scGFyYW1zOmZ1bmN0aW9uKGEpe3ZhciBiPWwoYS5vd25QYXJhbXMsYS5vd25QYXJhbXMuJCRrZXlzKCkpO3JldHVybiBhLnBhcmVudCYmYS5wYXJlbnQucGFyYW1zP1IoYS5wYXJlbnQucGFyYW1zLiQkbmV3KCksYik6bmV3IFUuUGFyYW1TZXR9LHZpZXdzOmZ1bmN0aW9uKGEpe3ZhciBiPXt9O3JldHVybiBRKEwoYS52aWV3cyk/YS52aWV3czp7IiI6YX0sZnVuY3Rpb24oYyxkKXtkLmluZGV4T2YoIkAiKTwwJiYoZCs9IkAiK2EucGFyZW50Lm5hbWUpLGJbZF09Y30pLGJ9LHBhdGg6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50P2EucGFyZW50LnBhdGguY29uY2F0KGEpOltdfSxpbmNsdWRlczpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudD9SKHt9LGEucGFyZW50LmluY2x1ZGVzKTp7fTtyZXR1cm4gYlthLm5hbWVdPSEwLGJ9LCRkZWxlZ2F0ZXM6e319O3g9cSh7bmFtZToiIix1cmw6Il4iLHZpZXdzOm51bGwsImFic3RyYWN0IjohMH0pLHgubmF2aWdhYmxlPW51bGwsdGhpcy5kZWNvcmF0b3I9dCx0aGlzLnN0YXRlPXUsdGhpcy4kZ2V0PXYsdi4kaW5qZWN0PVsiJHJvb3RTY29wZSIsIiRxIiwiJHZpZXciLCIkaW5qZWN0b3IiLCIkcmVzb2x2ZSIsIiRzdGF0ZVBhcmFtcyIsIiR1cmxSb3V0ZXIiLCIkbG9jYXRpb24iLCIkdXJsTWF0Y2hlckZhY3RvcnkiXX1mdW5jdGlvbiB3KCl7ZnVuY3Rpb24gYShhLGIpe3JldHVybntsb2FkOmZ1bmN0aW9uKGEsYyl7dmFyIGQsZT17dGVtcGxhdGU6bnVsbCxjb250cm9sbGVyOm51bGwsdmlldzpudWxsLGxvY2FsczpudWxsLG5vdGlmeTohMCxhc3luYzohMCxwYXJhbXM6e319O3JldHVybiBjPVIoZSxjKSxjLnZpZXcmJihkPWIuZnJvbUNvbmZpZyhjLnZpZXcsYy5wYXJhbXMsYy5sb2NhbHMpKSxkfX19dGhpcy4kZ2V0PWEsYS4kaW5qZWN0PVsiJHJvb3RTY29wZSIsIiR0ZW1wbGF0ZUZhY3RvcnkiXX1mdW5jdGlvbiB4KCl7dmFyIGE9ITE7dGhpcy51c2VBbmNob3JTY3JvbGw9ZnVuY3Rpb24oKXthPSEwfSx0aGlzLiRnZXQ9WyIkYW5jaG9yU2Nyb2xsIiwiJHRpbWVvdXQiLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGE/YjpmdW5jdGlvbihhKXtyZXR1cm4gYyhmdW5jdGlvbigpe2FbMF0uc2Nyb2xsSW50b1ZpZXcoKX0sMCwhMSl9fV19ZnVuY3Rpb24geShhLGMsZCxlKXtmdW5jdGlvbiBmKCl7cmV0dXJuIGMuaGFzP2Z1bmN0aW9uKGEpe3JldHVybiBjLmhhcyhhKT9jLmdldChhKTpudWxsfTpmdW5jdGlvbihhKXt0cnl7cmV0dXJuIGMuZ2V0KGEpfWNhdGNoKGIpe3JldHVybiBudWxsfX19ZnVuY3Rpb24gZyhhLGMpe2Z1bmN0aW9uIGQoYSl7cmV0dXJuIDE9PT1WJiZXPj00PyEhai5lbmFibGVkKGEpOjE9PT1WJiZXPj0yPyEhai5lbmFibGVkKCk6ISFpfXZhciBlPXtlbnRlcjpmdW5jdGlvbihhLGIsYyl7Yi5hZnRlcihhKSxjKCl9LGxlYXZlOmZ1bmN0aW9uKGEsYil7YS5yZW1vdmUoKSxiKCl9fTtpZihhLm5vYW5pbWF0aW9uKXJldHVybiBlO2lmKGopcmV0dXJue2VudGVyOmZ1bmN0aW9uKGEsYyxmKXtkKGEpP2IudmVyc2lvbi5taW5vcj4yP2ouZW50ZXIoYSxudWxsLGMpLnRoZW4oZik6ai5lbnRlcihhLG51bGwsYyxmKTplLmVudGVyKGEsYyxmKX0sbGVhdmU6ZnVuY3Rpb24oYSxjKXtkKGEpP2IudmVyc2lvbi5taW5vcj4yP2oubGVhdmUoYSkudGhlbihjKTpqLmxlYXZlKGEsYyk6ZS5sZWF2ZShhLGMpfX07aWYoaSl7dmFyIGY9aSYmaShjLGEpO3JldHVybntlbnRlcjpmdW5jdGlvbihhLGIsYyl7Zi5lbnRlcihhLG51bGwsYiksYygpfSxsZWF2ZTpmdW5jdGlvbihhLGIpe2YubGVhdmUoYSksYigpfX19cmV0dXJuIGV9dmFyIGg9ZigpLGk9aCgiJGFuaW1hdG9yIiksaj1oKCIkYW5pbWF0ZSIpLGs9e3Jlc3RyaWN0OiJFQ0EiLHRlcm1pbmFsOiEwLHByaW9yaXR5OjQwMCx0cmFuc2NsdWRlOiJlbGVtZW50Iixjb21waWxlOmZ1bmN0aW9uKGMsZixoKXtyZXR1cm4gZnVuY3Rpb24oYyxmLGkpe2Z1bmN0aW9uIGooKXtmdW5jdGlvbiBhKCl7YiYmYi5yZW1vdmUoKSxjJiZjLiRkZXN0cm95KCl9dmFyIGI9bCxjPW47YyYmKGMuX3dpbGxCZURlc3Ryb3llZD0hMCksbT8oci5sZWF2ZShtLGZ1bmN0aW9uKCl7YSgpLGw9bnVsbH0pLGw9bSk6KGEoKSxsPW51bGwpLG09bnVsbCxuPW51bGx9ZnVuY3Rpb24gayhnKXt2YXIgayxsPUEoYyxpLGYsZSkscz1sJiZhLiRjdXJyZW50JiZhLiRjdXJyZW50LmxvY2Fsc1tsXTtpZigoZ3x8cyE9PW8pJiYhYy5fd2lsbEJlRGVzdHJveWVkKXtrPWMuJG5ldygpLG89YS4kY3VycmVudC5sb2NhbHNbbF0say4kZW1pdCgiJHZpZXdDb250ZW50TG9hZGluZyIsbCk7dmFyIHQ9aChrLGZ1bmN0aW9uKGEpe3IuZW50ZXIoYSxmLGZ1bmN0aW9uKCl7biYmbi4kZW1pdCgiJHZpZXdDb250ZW50QW5pbWF0aW9uRW5kZWQiKSwoYi5pc0RlZmluZWQocSkmJiFxfHxjLiRldmFsKHEpKSYmZChhKX0pLGooKX0pO209dCxuPWssbi4kZW1pdCgiJHZpZXdDb250ZW50TG9hZGVkIixsKSxuLiRldmFsKHApfX12YXIgbCxtLG4sbyxwPWkub25sb2FkfHwiIixxPWkuYXV0b3Njcm9sbCxyPWcoaSxjKTtjLiRvbigiJHN0YXRlQ2hhbmdlU3VjY2VzcyIsZnVuY3Rpb24oKXtrKCExKX0pLGsoITApfX19O3JldHVybiBrfWZ1bmN0aW9uIHooYSxiLGMsZCl7cmV0dXJue3Jlc3RyaWN0OiJFQ0EiLHByaW9yaXR5Oi00MDAsY29tcGlsZTpmdW5jdGlvbihlKXt2YXIgZj1lLmh0bWwoKTtyZXR1cm4gZnVuY3Rpb24oZSxnLGgpe3ZhciBpPWMuJGN1cnJlbnQsaj1BKGUsaCxnLGQpLGs9aSYmaS5sb2NhbHNbal07aWYoayl7Zy5kYXRhKCIkdWlWaWV3Iix7bmFtZTpqLHN0YXRlOmsuJCRzdGF0ZX0pLGcuaHRtbChrLiR0ZW1wbGF0ZT9rLiR0ZW1wbGF0ZTpmKTt2YXIgbD1hKGcuY29udGVudHMoKSk7aWYoay4kJGNvbnRyb2xsZXIpe2suJHNjb3BlPWUsay4kZWxlbWVudD1nO3ZhciBtPWIoay4kJGNvbnRyb2xsZXIsayk7ay4kJGNvbnRyb2xsZXJBcyYmKGVbay4kJGNvbnRyb2xsZXJBc109bSksZy5kYXRhKCIkbmdDb250cm9sbGVyQ29udHJvbGxlciIsbSksZy5jaGlsZHJlbigpLmRhdGEoIiRuZ0NvbnRyb2xsZXJDb250cm9sbGVyIixtKX1sKGUpfX19fX1mdW5jdGlvbiBBKGEsYixjLGQpe3ZhciBlPWQoYi51aVZpZXd8fGIubmFtZXx8IiIpKGEpLGY9Yy5pbmhlcml0ZWREYXRhKCIkdWlWaWV3Iik7cmV0dXJuIGUuaW5kZXhPZigiQCIpPj0wP2U6ZSsiQCIrKGY/Zi5zdGF0ZS5uYW1lOiIiKX1mdW5jdGlvbiBCKGEsYil7dmFyIGMsZD1hLm1hdGNoKC9eXHMqKHtbXn1dKn0pXHMqJC8pO2lmKGQmJihhPWIrIigiK2RbMV0rIikiKSxjPWEucmVwbGFjZSgvXG4vZywiICIpLm1hdGNoKC9eKFteKF0rPylccyooXCgoLiopXCkpPyQvKSwhY3x8NCE9PWMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBzdGF0ZSByZWYgJyIrYSsiJyIpO3JldHVybntzdGF0ZTpjWzFdLHBhcmFtRXhwcjpjWzNdfHxudWxsfX1mdW5jdGlvbiBDKGEpe3ZhciBiPWEucGFyZW50KCkuaW5oZXJpdGVkRGF0YSgiJHVpVmlldyIpO3JldHVybiBiJiZiLnN0YXRlJiZiLnN0YXRlLm5hbWU/Yi5zdGF0ZTp2b2lkIDB9ZnVuY3Rpb24gRChhKXt2YXIgYj0iW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ10iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEucHJvcCgiaHJlZiIpKSxjPSJGT1JNIj09PWFbMF0ubm9kZU5hbWU7cmV0dXJue2F0dHI6Yz8iYWN0aW9uIjpiPyJ4bGluazpocmVmIjoiaHJlZiIsaXNBbmNob3I6IkEiPT09YS5wcm9wKCJ0YWdOYW1lIikudG9VcHBlckNhc2UoKSxjbGlja2FibGU6IWN9fWZ1bmN0aW9uIEUoYSxiLGMsZCxlKXtyZXR1cm4gZnVuY3Rpb24oZil7dmFyIGc9Zi53aGljaHx8Zi5idXR0b24saD1lKCk7aWYoIShnPjF8fGYuY3RybEtleXx8Zi5tZXRhS2V5fHxmLnNoaWZ0S2V5fHxhLmF0dHIoInRhcmdldCIpKSl7dmFyIGk9YyhmdW5jdGlvbigpe2IuZ28oaC5zdGF0ZSxoLnBhcmFtcyxoLm9wdGlvbnMpfSk7Zi5wcmV2ZW50RGVmYXVsdCgpO3ZhciBqPWQuaXNBbmNob3ImJiFoLmhyZWY/MTowO2YucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtqLS08PTAmJmMuY2FuY2VsKGkpfX19fWZ1bmN0aW9uIEYoYSxiKXtyZXR1cm57cmVsYXRpdmU6QyhhKXx8Yi4kY3VycmVudCxpbmhlcml0OiEwfX1mdW5jdGlvbiBHKGEsYyl7cmV0dXJue3Jlc3RyaWN0OiJBIixyZXF1aXJlOlsiP151aVNyZWZBY3RpdmUiLCI/XnVpU3JlZkFjdGl2ZUVxIl0sbGluazpmdW5jdGlvbihkLGUsZixnKXt2YXIgaD1CKGYudWlTcmVmLGEuY3VycmVudC5uYW1lKSxpPXtzdGF0ZTpoLnN0YXRlLGhyZWY6bnVsbCxwYXJhbXM6bnVsbH0saj1EKGUpLGs9Z1sxXXx8Z1swXTtpLm9wdGlvbnM9UihGKGUsYSksZi51aVNyZWZPcHRzP2QuJGV2YWwoZi51aVNyZWZPcHRzKTp7fSk7dmFyIGw9ZnVuY3Rpb24oYyl7YyYmKGkucGFyYW1zPWIuY29weShjKSksaS5ocmVmPWEuaHJlZihoLnN0YXRlLGkucGFyYW1zLGkub3B0aW9ucyksayYmay4kJGFkZFN0YXRlSW5mbyhoLnN0YXRlLGkucGFyYW1zKSxudWxsIT09aS5ocmVmJiZmLiRzZXQoai5hdHRyLGkuaHJlZil9O2gucGFyYW1FeHByJiYoZC4kd2F0Y2goaC5wYXJhbUV4cHIsZnVuY3Rpb24oYSl7YSE9PWkucGFyYW1zJiZsKGEpfSwhMCksaS5wYXJhbXM9Yi5jb3B5KGQuJGV2YWwoaC5wYXJhbUV4cHIpKSksbCgpLGouY2xpY2thYmxlJiZlLmJpbmQoImNsaWNrIixFKGUsYSxjLGosZnVuY3Rpb24oKXtyZXR1cm4gaX0pKX19fWZ1bmN0aW9uIEgoYSxiKXtyZXR1cm57cmVzdHJpY3Q6IkEiLHJlcXVpcmU6WyI/XnVpU3JlZkFjdGl2ZSIsIj9edWlTcmVmQWN0aXZlRXEiXSxsaW5rOmZ1bmN0aW9uKGMsZCxlLGYpe2Z1bmN0aW9uIGcoYil7bC5zdGF0ZT1iWzBdLGwucGFyYW1zPWJbMV0sbC5vcHRpb25zPWJbMl0sbC5ocmVmPWEuaHJlZihsLnN0YXRlLGwucGFyYW1zLGwub3B0aW9ucyksaSYmaS4kJGFkZFN0YXRlSW5mbyhsLnN0YXRlLGwucGFyYW1zKSxsLmhyZWYmJmUuJHNldChoLmF0dHIsbC5ocmVmKX12YXIgaD1EKGQpLGk9ZlsxXXx8ZlswXSxqPVtlLnVpU3RhdGUsZS51aVN0YXRlUGFyYW1zfHxudWxsLGUudWlTdGF0ZU9wdHN8fG51bGxdLGs9IlsiK2oubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhfHwibnVsbCJ9KS5qb2luKCIsICIpKyJdIixsPXtzdGF0ZTpudWxsLHBhcmFtczpudWxsLG9wdGlvbnM6bnVsbCxocmVmOm51bGx9O2MuJHdhdGNoKGssZywhMCksZyhjLiRldmFsKGspKSxoLmNsaWNrYWJsZSYmZC5iaW5kKCJjbGljayIsRShkLGEsYixoLGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSl9fX1mdW5jdGlvbiBJKGEsYixjKXtyZXR1cm57cmVzdHJpY3Q6IkEiLGNvbnRyb2xsZXI6WyIkc2NvcGUiLCIkZWxlbWVudCIsIiRhdHRycyIsIiR0aW1lb3V0IixmdW5jdGlvbihiLGQsZSxmKXtmdW5jdGlvbiBnKGIsYyxlKXt2YXIgZj1hLmdldChiLEMoZCkpLGc9aChiLGMpO3AucHVzaCh7c3RhdGU6Znx8e25hbWU6Yn0scGFyYW1zOmMsaGFzaDpnfSkscVtnXT1lfWZ1bmN0aW9uIGgoYSxjKXtpZighTihhKSl0aHJvdyBuZXcgRXJyb3IoInN0YXRlIHNob3VsZCBiZSBhIHN0cmluZyIpO3JldHVybiBPKGMpP2ErVChjKTooYz1iLiRldmFsKGMpLE8oYyk/YStUKGMpOmEpfWZ1bmN0aW9uIGkoKXtmb3IodmFyIGE9MDthPHAubGVuZ3RoO2ErKylsKHBbYV0uc3RhdGUscFthXS5wYXJhbXMpP2ooZCxxW3BbYV0uaGFzaF0pOmsoZCxxW3BbYV0uaGFzaF0pLG0ocFthXS5zdGF0ZSxwW2FdLnBhcmFtcyk/aihkLG4pOmsoZCxuKX1mdW5jdGlvbiBqKGEsYil7ZihmdW5jdGlvbigpe2EuYWRkQ2xhc3MoYil9KX1mdW5jdGlvbiBrKGEsYil7YS5yZW1vdmVDbGFzcyhiKX1mdW5jdGlvbiBsKGIsYyl7cmV0dXJuIGEuaW5jbHVkZXMoYi5uYW1lLGMpfWZ1bmN0aW9uIG0oYixjKXtyZXR1cm4gYS5pcyhiLm5hbWUsYyl9dmFyIG4sbyxwPVtdLHE9e307bj1jKGUudWlTcmVmQWN0aXZlRXF8fCIiLCExKShiKTt0cnl7bz1iLiRldmFsKGUudWlTcmVmQWN0aXZlKX1jYXRjaChyKXt9bz1vfHxjKGUudWlTcmVmQWN0aXZlfHwiIiwhMSkoYiksTyhvKSYmUShvLGZ1bmN0aW9uKGMsZCl7aWYoTihjKSl7dmFyIGU9QihjLGEuY3VycmVudC5uYW1lKTtnKGUuc3RhdGUsYi4kZXZhbChlLnBhcmFtRXhwciksZCl9fSksdGhpcy4kJGFkZFN0YXRlSW5mbz1mdW5jdGlvbihhLGIpe08obykmJnAubGVuZ3RoPjB8fChnKGEsYixvKSxpKCkpfSxiLiRvbigiJHN0YXRlQ2hhbmdlU3VjY2VzcyIsaSksaSgpfV19fWZ1bmN0aW9uIEooYSl7dmFyIGI9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5pcyhiLGMpfTtyZXR1cm4gYi4kc3RhdGVmdWw9ITAsYn1mdW5jdGlvbiBLKGEpe3ZhciBiPWZ1bmN0aW9uKGIsYyxkKXtyZXR1cm4gYS5pbmNsdWRlcyhiLGMsZCl9O3JldHVybiBiLiRzdGF0ZWZ1bD0hMCxifXZhciBMPWIuaXNEZWZpbmVkLE09Yi5pc0Z1bmN0aW9uLE49Yi5pc1N0cmluZyxPPWIuaXNPYmplY3QsUD1iLmlzQXJyYXksUT1iLmZvckVhY2gsUj1iLmV4dGVuZCxTPWIuY29weSxUPWIudG9Kc29uO2IubW9kdWxlKCJ1aS5yb3V0ZXIudXRpbCIsWyJuZyJdKSxiLm1vZHVsZSgidWkucm91dGVyLnJvdXRlciIsWyJ1aS5yb3V0ZXIudXRpbCJdKSxiLm1vZHVsZSgidWkucm91dGVyLnN0YXRlIixbInVpLnJvdXRlci5yb3V0ZXIiLCJ1aS5yb3V0ZXIudXRpbCJdKSxiLm1vZHVsZSgidWkucm91dGVyIixbInVpLnJvdXRlci5zdGF0ZSJdKSxiLm1vZHVsZSgidWkucm91dGVyLmNvbXBhdCIsWyJ1aS5yb3V0ZXIiXSkscC4kaW5qZWN0PVsiJHEiLCIkaW5qZWN0b3IiXSxiLm1vZHVsZSgidWkucm91dGVyLnV0aWwiKS5zZXJ2aWNlKCIkcmVzb2x2ZSIscCkscS4kaW5qZWN0PVsiJGh0dHAiLCIkdGVtcGxhdGVDYWNoZSIsIiRpbmplY3RvciJdLGIubW9kdWxlKCJ1aS5yb3V0ZXIudXRpbCIpLnNlcnZpY2UoIiR0ZW1wbGF0ZUZhY3RvcnkiLHEpO3ZhciBVO3IucHJvdG90eXBlLmNvbmNhdD1mdW5jdGlvbihhLGIpe3ZhciBjPXtjYXNlSW5zZW5zaXRpdmU6VS5jYXNlSW5zZW5zaXRpdmUoKSxzdHJpY3Q6VS5zdHJpY3RNb2RlKCksc3F1YXNoOlUuZGVmYXVsdFNxdWFzaFBvbGljeSgpfTtyZXR1cm4gbmV3IHIodGhpcy5zb3VyY2VQYXRoK2ErdGhpcy5zb3VyY2VTZWFyY2gsUihjLGIpLHRoaXMpfSxyLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNvdXJjZX0sci5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4gYS5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGEucmVwbGFjZSgvXFwtL2csIi0iKX12YXIgZD1iKGEpLnNwbGl0KC8tKD8hXFwpLyksZT1vKGQsYik7cmV0dXJuIG8oZSxjKS5yZXZlcnNlKCl9dmFyIGQ9dGhpcy5yZWdleHAuZXhlYyhhKTtpZighZClyZXR1cm4gbnVsbDtiPWJ8fHt9O3ZhciBlLGYsZyxoPXRoaXMucGFyYW1ldGVycygpLGk9aC5sZW5ndGgsaj10aGlzLnNlZ21lbnRzLmxlbmd0aC0xLGs9e307aWYoaiE9PWQubGVuZ3RoLTEpdGhyb3cgbmV3IEVycm9yKCJVbmJhbGFuY2VkIGNhcHR1cmUgZ3JvdXAgaW4gcm91dGUgJyIrdGhpcy5zb3VyY2UrIiciKTt2YXIgbCxtO2ZvcihlPTA7aj5lO2UrKyl7Zm9yKGc9aFtlXSxsPXRoaXMucGFyYW1zW2ddLG09ZFtlKzFdLGY9MDtmPGwucmVwbGFjZS5sZW5ndGg7ZisrKWwucmVwbGFjZVtmXS5mcm9tPT09bSYmKG09bC5yZXBsYWNlW2ZdLnRvKTttJiZsLmFycmF5PT09ITAmJihtPWMobSkpLEwobSkmJihtPWwudHlwZS5kZWNvZGUobSkpLGtbZ109bC52YWx1ZShtKX1mb3IoO2k+ZTtlKyspe2ZvcihnPWhbZV0sa1tnXT10aGlzLnBhcmFtc1tnXS52YWx1ZShiW2ddKSxsPXRoaXMucGFyYW1zW2ddLG09YltnXSxmPTA7ZjxsLnJlcGxhY2UubGVuZ3RoO2YrKylsLnJlcGxhY2VbZl0uZnJvbT09PW0mJihtPWwucmVwbGFjZVtmXS50byk7TChtKSYmKG09bC50eXBlLmRlY29kZShtKSksa1tnXT1sLnZhbHVlKG0pfXJldHVybiBrfSxyLnByb3RvdHlwZS5wYXJhbWV0ZXJzPWZ1bmN0aW9uKGEpe3JldHVybiBMKGEpP3RoaXMucGFyYW1zW2FdfHxudWxsOnRoaXMuJCRwYXJhbU5hbWVzfSxyLnByb3RvdHlwZS52YWxpZGF0ZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucGFyYW1zLiQkdmFsaWRhdGVzKGEpfSxyLnByb3RvdHlwZS5mb3JtYXQ9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGEpLnJlcGxhY2UoLy0vZyxmdW5jdGlvbihhKXtyZXR1cm4iJTVDJSIrYS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpfSl9YT1hfHx7fTt2YXIgYz10aGlzLnNlZ21lbnRzLGQ9dGhpcy5wYXJhbWV0ZXJzKCksZT10aGlzLnBhcmFtcztpZighdGhpcy52YWxpZGF0ZXMoYSkpcmV0dXJuIG51bGw7dmFyIGYsZz0hMSxoPWMubGVuZ3RoLTEsaT1kLmxlbmd0aCxqPWNbMF07Zm9yKGY9MDtpPmY7ZisrKXt2YXIgaz1oPmYsbD1kW2ZdLG09ZVtsXSxuPW0udmFsdWUoYVtsXSkscD1tLmlzT3B0aW9uYWwmJm0udHlwZS5lcXVhbHMobS52YWx1ZSgpLG4pLHE9cD9tLnNxdWFzaDohMSxyPW0udHlwZS5lbmNvZGUobik7aWYoayl7dmFyIHM9Y1tmKzFdLHQ9ZisxPT09aDtpZihxPT09ITEpbnVsbCE9ciYmKGorPVAocik/byhyLGIpLmpvaW4oIi0iKTplbmNvZGVVUklDb21wb25lbnQocikpLGorPXM7ZWxzZSBpZihxPT09ITApe3ZhciB1PWoubWF0Y2goL1wvJC8pPy9cLz8oLiopLzovKC4qKS87ais9cy5tYXRjaCh1KVsxXX1lbHNlIE4ocSkmJihqKz1xK3MpO3QmJm0uc3F1YXNoPT09ITAmJiIvIj09PWouc2xpY2UoLTEpJiYoaj1qLnNsaWNlKDAsLTEpKX1lbHNle2lmKG51bGw9PXJ8fHAmJnEhPT0hMSljb250aW51ZTtpZihQKHIpfHwocj1bcl0pLDA9PT1yLmxlbmd0aCljb250aW51ZTtyPW8ocixlbmNvZGVVUklDb21wb25lbnQpLmpvaW4oIiYiK2wrIj0iKSxqKz0oZz8iJiI6Ij8iKSsobCsiPSIrciksZz0hMH19cmV0dXJuIGp9LHMucHJvdG90eXBlLmlzPWZ1bmN0aW9uKGEsYil7cmV0dXJuITB9LHMucHJvdG90eXBlLmVuY29kZT1mdW5jdGlvbihhLGIpe3JldHVybiBhfSxzLnByb3RvdHlwZS5kZWNvZGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYX0scy5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PWJ9LHMucHJvdG90eXBlLiRzdWJQYXR0ZXJuPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wYXR0ZXJuLnRvU3RyaW5nKCk7cmV0dXJuIGEuc3Vic3RyKDEsYS5sZW5ndGgtMil9LHMucHJvdG90eXBlLnBhdHRlcm49Ly4qLyxzLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJ7VHlwZToiK3RoaXMubmFtZSsifSJ9LHMucHJvdG90eXBlLiRub3JtYWxpemU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXMoYSk/YTp0aGlzLmRlY29kZShhKX0scy5wcm90b3R5cGUuJGFzQXJyYXk9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBkKGEsYil7ZnVuY3Rpb24gZChhLGIpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhW2JdLmFwcGx5KGEsYXJndW1lbnRzKX19ZnVuY3Rpb24gZShhKXtyZXR1cm4gUChhKT9hOkwoYSk/W2FdOltdfWZ1bmN0aW9uIGYoYSl7c3dpdGNoKGEubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIGM7Y2FzZSAxOnJldHVybiJhdXRvIj09PWI/YVswXTphO2RlZmF1bHQ6cmV0dXJuIGF9fWZ1bmN0aW9uIGcoYSl7cmV0dXJuIWF9ZnVuY3Rpb24gaChhLGIpe3JldHVybiBmdW5jdGlvbihjKXtpZihQKGMpJiYwPT09Yy5sZW5ndGgpcmV0dXJuIGM7Yz1lKGMpO3ZhciBkPW8oYyxhKTtyZXR1cm4gYj09PSEwPzA9PT1uKGQsZykubGVuZ3RoOmYoZCl9fWZ1bmN0aW9uIGkoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7dmFyIGQ9ZShiKSxmPWUoYyk7aWYoZC5sZW5ndGghPT1mLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGc9MDtnPGQubGVuZ3RoO2crKylpZighYShkW2ddLGZbZ10pKXJldHVybiExO3JldHVybiEwfX10aGlzLmVuY29kZT1oKGQoYSwiZW5jb2RlIikpLHRoaXMuZGVjb2RlPWgoZChhLCJkZWNvZGUiKSksdGhpcy5pcz1oKGQoYSwiaXMiKSwhMCksdGhpcy5lcXVhbHM9aShkKGEsImVxdWFscyIpKSx0aGlzLnBhdHRlcm49YS5wYXR0ZXJuLHRoaXMuJG5vcm1hbGl6ZT1oKGQoYSwiJG5vcm1hbGl6ZSIpKSx0aGlzLm5hbWU9YS5uYW1lLHRoaXMuJGFycmF5TW9kZT1ifWlmKCFhKXJldHVybiB0aGlzO2lmKCJhdXRvIj09PWEmJiFiKXRocm93IG5ldyBFcnJvcigiJ2F1dG8nIGFycmF5IG1vZGUgaXMgZm9yIHF1ZXJ5IHBhcmFtZXRlcnMgb25seSIpO3JldHVybiBuZXcgZCh0aGlzLGEpfSxiLm1vZHVsZSgidWkucm91dGVyLnV0aWwiKS5wcm92aWRlcigiJHVybE1hdGNoZXJGYWN0b3J5Iix0KSxiLm1vZHVsZSgidWkucm91dGVyLnV0aWwiKS5ydW4oWyIkdXJsTWF0Y2hlckZhY3RvcnkiLGZ1bmN0aW9uKGEpe31dKSx1LiRpbmplY3Q9WyIkbG9jYXRpb25Qcm92aWRlciIsIiR1cmxNYXRjaGVyRmFjdG9yeVByb3ZpZGVyIl0sYi5tb2R1bGUoInVpLnJvdXRlci5yb3V0ZXIiKS5wcm92aWRlcigiJHVybFJvdXRlciIsdSksdi4kaW5qZWN0PVsiJHVybFJvdXRlclByb3ZpZGVyIiwiJHVybE1hdGNoZXJGYWN0b3J5UHJvdmlkZXIiXSxiLm1vZHVsZSgidWkucm91dGVyLnN0YXRlIikuZmFjdG9yeSgiJHN0YXRlUGFyYW1zIixmdW5jdGlvbigpe3JldHVybnt9fSkucHJvdmlkZXIoIiRzdGF0ZSIsdiksdy4kaW5qZWN0PVtdLGIubW9kdWxlKCJ1aS5yb3V0ZXIuc3RhdGUiKS5wcm92aWRlcigiJHZpZXciLHcpLGIubW9kdWxlKCJ1aS5yb3V0ZXIuc3RhdGUiKS5wcm92aWRlcigiJHVpVmlld1Njcm9sbCIseCk7dmFyIFY9Yi52ZXJzaW9uLm1ham9yLFc9Yi52ZXJzaW9uLm1pbm9yO3kuJGluamVjdD1bIiRzdGF0ZSIsIiRpbmplY3RvciIsIiR1aVZpZXdTY3JvbGwiLCIkaW50ZXJwb2xhdGUiXSx6LiRpbmplY3Q9WyIkY29tcGlsZSIsIiRjb250cm9sbGVyIiwiJHN0YXRlIiwiJGludGVycG9sYXRlIl0sYi5tb2R1bGUoInVpLnJvdXRlci5zdGF0ZSIpLmRpcmVjdGl2ZSgidWlWaWV3Iix5KSxiLm1vZHVsZSgidWkucm91dGVyLnN0YXRlIikuZGlyZWN0aXZlKCJ1aVZpZXciLHopLEcuJGluamVjdD1bIiRzdGF0ZSIsIiR0aW1lb3V0Il0sSC4kaW5qZWN0PVsiJHN0YXRlIiwiJHRpbWVvdXQiXSxJLiRpbmplY3Q9WyIkc3RhdGUiLCIkc3RhdGVQYXJhbXMiLCIkaW50ZXJwb2xhdGUiXSxiLm1vZHVsZSgidWkucm91dGVyLnN0YXRlIikuZGlyZWN0aXZlKCJ1aVNyZWYiLEcpLmRpcmVjdGl2ZSgidWlTcmVmQWN0aXZlIixJKS5kaXJlY3RpdmUoInVpU3JlZkFjdGl2ZUVxIixJKS5kaXJlY3RpdmUoInVpU3RhdGUiLEgpLApKLiRpbmplY3Q9WyIkc3RhdGUiXSxLLiRpbmplY3Q9WyIkc3RhdGUiXSxiLm1vZHVsZSgidWkucm91dGVyLnN0YXRlIikuZmlsdGVyKCJpc1N0YXRlIixKKS5maWx0ZXIoImluY2x1ZGVkQnlTdGF0ZSIsSyl9KHdpbmRvdyx3aW5kb3cuYW5ndWxhcik7CmRlZmluZSgidWlSb3V0ZXIiLCBbImFuZ3VsYXIiXSwgZnVuY3Rpb24oKXt9KTsKCmFuZ3VsYXIubW9kdWxlKCJpdnB1c2ljLmNvb2tpZSIsWyJpcENvb2tpZSJdKSxhbmd1bGFyLm1vZHVsZSgiaXBDb29raWUiLFsibmciXSkuZmFjdG9yeSgiaXBDb29raWUiLFsiJGRvY3VtZW50IixmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gaShlKXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlKX1jYXRjaChpKXt9fXJldHVybiBmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxuLHIpe3ZhciBvLHMscCx1LGEsYyxkLHgsZjtyPXJ8fHt9O3ZhciBnPXIuZGVjb2RlfHxpLGw9ci5lbmNvZGV8fGVuY29kZVVSSUNvbXBvbmVudDtpZih2b2lkIDAhPT1uKXJldHVybiBuPSJvYmplY3QiPT10eXBlb2Ygbj9KU09OLnN0cmluZ2lmeShuKTpuKyIiLCJudW1iZXIiPT10eXBlb2Ygci5leHBpcmVzJiYoZj1yLmV4cGlyZXMsci5leHBpcmVzPW5ldyBEYXRlLC0xPT09Zj9yLmV4cGlyZXM9bmV3IERhdGUoIlRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDAgR01UIik6dm9pZCAwIT09ci5leHBpcmF0aW9uVW5pdD8iaG91cnMiPT09ci5leHBpcmF0aW9uVW5pdD9yLmV4cGlyZXMuc2V0SG91cnMoci5leHBpcmVzLmdldEhvdXJzKCkrZik6Im1pbnV0ZXMiPT09ci5leHBpcmF0aW9uVW5pdD9yLmV4cGlyZXMuc2V0TWludXRlcyhyLmV4cGlyZXMuZ2V0TWludXRlcygpK2YpOiJzZWNvbmRzIj09PXIuZXhwaXJhdGlvblVuaXQ/ci5leHBpcmVzLnNldFNlY29uZHMoci5leHBpcmVzLmdldFNlY29uZHMoKStmKToibWlsbGlzZWNvbmRzIj09PXIuZXhwaXJhdGlvblVuaXQ/ci5leHBpcmVzLnNldE1pbGxpc2Vjb25kcyhyLmV4cGlyZXMuZ2V0TWlsbGlzZWNvbmRzKCkrZik6ci5leHBpcmVzLnNldERhdGUoci5leHBpcmVzLmdldERhdGUoKStmKTpyLmV4cGlyZXMuc2V0RGF0ZShyLmV4cGlyZXMuZ2V0RGF0ZSgpK2YpKSxlWzBdLmNvb2tpZT1bbCh0KSwiPSIsbChuKSxyLmV4cGlyZXM/IjsgZXhwaXJlcz0iK3IuZXhwaXJlcy50b1VUQ1N0cmluZygpOiIiLHIucGF0aD8iOyBwYXRoPSIrci5wYXRoOiIiLHIuZG9tYWluPyI7IGRvbWFpbj0iK3IuZG9tYWluOiIiLHIuc2VjdXJlPyI7IHNlY3VyZSI6IiJdLmpvaW4oIiIpO2ZvcihzPVtdLHg9ZVswXS5jb29raWUseCYmKHM9eC5zcGxpdCgiOyAiKSksbz17fSxkPSExLHA9MDtzLmxlbmd0aD5wOysrcClpZihzW3BdKXtpZih1PXNbcF0sYT11LmluZGV4T2YoIj0iKSxjPXUuc3Vic3RyaW5nKDAsYSksbj1nKHUuc3Vic3RyaW5nKGErMSkpLGFuZ3VsYXIuaXNVbmRlZmluZWQobikpY29udGludWU7aWYodm9pZCAwPT09dHx8dD09PWMpe3RyeXtvW2NdPUpTT04ucGFyc2Uobil9Y2F0Y2gobSl7b1tjXT1ufWlmKHQ9PT1jKXJldHVybiBvW2NdO2Q9ITB9fXJldHVybiBkJiZ2b2lkIDA9PT10P286dm9pZCAwfXJldHVybiB0LnJlbW92ZT1mdW5jdGlvbihlLGkpe3ZhciBuPXZvaWQgMCE9PXQoZSk7cmV0dXJuIG4mJihpfHwoaT17fSksaS5leHBpcmVzPS0xLHQoZSwiIixpKSksbn0sdH0oKX1dKTsKZGVmaW5lKCJhbmd1bGFyLWNvb2tpZSIsIFsiYW5ndWxhciJdLCBmdW5jdGlvbigpe30pOwoKLyoKIEFuZ3VsYXJKUyB2MS40LjE0CiAoYykgMjAxMC0yMDE1IEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhcmpzLm9yZwogTGljZW5zZTogTUlUCiovCihmdW5jdGlvbihELG4sVmEpeyd1c2Ugc3RyaWN0JztmdW5jdGlvbiB6YShhLGIsYyl7aWYoIWEpdGhyb3cgS2EoImFyZXEiLGJ8fCI/IixjfHwicmVxdWlyZWQiKTtyZXR1cm4gYX1mdW5jdGlvbiBBYShhLGIpe2lmKCFhJiYhYilyZXR1cm4iIjtpZighYSlyZXR1cm4gYjtpZighYilyZXR1cm4gYTtkYShhKSYmKGE9YS5qb2luKCIgIikpO2RhKGIpJiYoYj1iLmpvaW4oIiAiKSk7cmV0dXJuIGErIiAiK2J9ZnVuY3Rpb24gTGEoYSl7dmFyIGI9e307YSYmKGEudG98fGEuZnJvbSkmJihiLnRvPWEudG8sYi5mcm9tPWEuZnJvbSk7cmV0dXJuIGJ9ZnVuY3Rpb24gWChhLGIsYyl7dmFyIGQ9IiI7YT1kYShhKT9hOmEmJkUoYSkmJmEubGVuZ3RoP2Euc3BsaXQoL1xzKy8pOltdO3MoYSxmdW5jdGlvbihhLGYpe2EmJjA8YS5sZW5ndGgmJihkKz0wPGY/IiAiOiIiLGQrPWM/YithOmErYil9KTtyZXR1cm4gZH1mdW5jdGlvbiBNYShhKXtpZihhIGluc3RhbmNlb2YgRylzd2l0Y2goYS5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gYTsKY2FzZSAxOmlmKDE9PT1hWzBdLm5vZGVUeXBlKXJldHVybiBhO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIEcoaGEoYSkpfWlmKDE9PT1hLm5vZGVUeXBlKXJldHVybiBHKGEpfWZ1bmN0aW9uIGhhKGEpe2lmKCFhWzBdKXJldHVybiBhO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz1hW2JdO2lmKDE9PWMubm9kZVR5cGUpcmV0dXJuIGN9fWZ1bmN0aW9uIE5hKGEsYixjKXtzKGIsZnVuY3Rpb24oYil7YS5hZGRDbGFzcyhiLGMpfSl9ZnVuY3Rpb24gT2EoYSxiLGMpe3MoYixmdW5jdGlvbihiKXthLnJlbW92ZUNsYXNzKGIsYyl9KX1mdW5jdGlvbiBRKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe2MuYWRkQ2xhc3MmJihOYShhLGIsYy5hZGRDbGFzcyksYy5hZGRDbGFzcz1udWxsKTtjLnJlbW92ZUNsYXNzJiYoT2EoYSxiLGMucmVtb3ZlQ2xhc3MpLGMucmVtb3ZlQ2xhc3M9bnVsbCl9fWZ1bmN0aW9uIHBhKGEpe2E9YXx8e307aWYoIWEuJCRwcmVwYXJlZCl7dmFyIGI9YS5kb21PcGVyYXRpb258fApPO2EuZG9tT3BlcmF0aW9uPWZ1bmN0aW9uKCl7YS4kJGRvbU9wZXJhdGlvbkZpcmVkPSEwO2IoKTtiPU99O2EuJCRwcmVwYXJlZD0hMH1yZXR1cm4gYX1mdW5jdGlvbiBpYShhLGIpe0JhKGEsYik7Q2EoYSxiKX1mdW5jdGlvbiBCYShhLGIpe2IuZnJvbSYmKGEuY3NzKGIuZnJvbSksYi5mcm9tPW51bGwpfWZ1bmN0aW9uIENhKGEsYil7Yi50byYmKGEuY3NzKGIudG8pLGIudG89bnVsbCl9ZnVuY3Rpb24gVChhLGIsYyl7dmFyIGQ9Yi5vcHRpb25zfHx7fTtjPWMub3B0aW9uc3x8e307dmFyIGU9KGQuYWRkQ2xhc3N8fCIiKSsiICIrKGMuYWRkQ2xhc3N8fCIiKSxmPShkLnJlbW92ZUNsYXNzfHwiIikrIiAiKyhjLnJlbW92ZUNsYXNzfHwiIik7YT1QYShhLmF0dHIoImNsYXNzIiksZSxmKTtjLnByZXBhcmF0aW9uQ2xhc3NlcyYmKGQucHJlcGFyYXRpb25DbGFzc2VzPVkoYy5wcmVwYXJhdGlvbkNsYXNzZXMsZC5wcmVwYXJhdGlvbkNsYXNzZXMpLGRlbGV0ZSBjLnByZXBhcmF0aW9uQ2xhc3Nlcyk7CmU9ZC5kb21PcGVyYXRpb24hPT1PP2QuZG9tT3BlcmF0aW9uOm51bGw7RGEoZCxjKTtlJiYoZC5kb21PcGVyYXRpb249ZSk7ZC5hZGRDbGFzcz1hLmFkZENsYXNzP2EuYWRkQ2xhc3M6bnVsbDtkLnJlbW92ZUNsYXNzPWEucmVtb3ZlQ2xhc3M/YS5yZW1vdmVDbGFzczpudWxsO2IuYWRkQ2xhc3M9ZC5hZGRDbGFzcztiLnJlbW92ZUNsYXNzPWQucmVtb3ZlQ2xhc3M7cmV0dXJuIGR9ZnVuY3Rpb24gUGEoYSxiLGMpe2Z1bmN0aW9uIGQoYSl7RShhKSYmKGE9YS5zcGxpdCgiICIpKTt2YXIgYj17fTtzKGEsZnVuY3Rpb24oYSl7YS5sZW5ndGgmJihiW2FdPSEwKX0pO3JldHVybiBifXZhciBlPXt9O2E9ZChhKTtiPWQoYik7cyhiLGZ1bmN0aW9uKGEsYil7ZVtiXT0xfSk7Yz1kKGMpO3MoYyxmdW5jdGlvbihhLGIpe2VbYl09MT09PWVbYl0/bnVsbDotMX0pO3ZhciBmPXthZGRDbGFzczoiIixyZW1vdmVDbGFzczoiIn07cyhlLGZ1bmN0aW9uKGIsYyl7dmFyIGQsZTsxPT09Yj8oZD0iYWRkQ2xhc3MiLAplPSFhW2NdKTotMT09PWImJihkPSJyZW1vdmVDbGFzcyIsZT1hW2NdKTtlJiYoZltkXS5sZW5ndGgmJihmW2RdKz0iICIpLGZbZF0rPWMpfSk7cmV0dXJuIGZ9ZnVuY3Rpb24geChhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIG4uZWxlbWVudD9hWzBdOmF9ZnVuY3Rpb24gUWEoYSxiLGMpe3ZhciBkPSIiO2ImJihkPVgoYiwibmctIiwhMCkpO2MuYWRkQ2xhc3MmJihkPVkoZCxYKGMuYWRkQ2xhc3MsIi1hZGQiKSkpO2MucmVtb3ZlQ2xhc3MmJihkPVkoZCxYKGMucmVtb3ZlQ2xhc3MsIi1yZW1vdmUiKSkpO2QubGVuZ3RoJiYoYy5wcmVwYXJhdGlvbkNsYXNzZXM9ZCxhLmFkZENsYXNzKGQpKX1mdW5jdGlvbiBxYShhLGIpe3ZhciBjPWI/Ii0iK2IrInMiOiIiO21hKGEsW25hLGNdKTtyZXR1cm5bbmEsY119ZnVuY3Rpb24gc2EoYSxiKXt2YXIgYz1iPyJwYXVzZWQiOiIiLGQ9WisiUGxheVN0YXRlIjttYShhLFtkLGNdKTtyZXR1cm5bZCxjXX1mdW5jdGlvbiBtYShhLGIpe2Euc3R5bGVbYlswXV09CmJbMV19ZnVuY3Rpb24gWShhLGIpe3JldHVybiBhP2I/YSsiICIrYjphOmJ9ZnVuY3Rpb24gRWEoYSxiLGMpe3ZhciBkPU9iamVjdC5jcmVhdGUobnVsbCksZT1hLmdldENvbXB1dGVkU3R5bGUoYil8fHt9O3MoYyxmdW5jdGlvbihhLGIpe3ZhciBjPWVbYV07aWYoYyl7dmFyIEo9Yy5jaGFyQXQoMCk7aWYoIi0iPT09Snx8IisiPT09Snx8MDw9SiljPVJhKGMpOzA9PT1jJiYoYz1udWxsKTtkW2JdPWN9fSk7cmV0dXJuIGR9ZnVuY3Rpb24gUmEoYSl7dmFyIGI9MDthPWEuc3BsaXQoL1xzKixccyovKTtzKGEsZnVuY3Rpb24oYSl7InMiPT1hLmNoYXJBdChhLmxlbmd0aC0xKSYmKGE9YS5zdWJzdHJpbmcoMCxhLmxlbmd0aC0xKSk7YT1wYXJzZUZsb2F0KGEpfHwwO2I9Yj9NYXRoLm1heChhLGIpOmF9KTtyZXR1cm4gYn1mdW5jdGlvbiB0YShhKXtyZXR1cm4gMD09PWF8fG51bGwhPWF9ZnVuY3Rpb24gRmEoYSxiKXt2YXIgYz1SLGQ9YSsicyI7Yj9jKz0iRHVyYXRpb24iOmQrPSIgbGluZWFyIGFsbCI7CnJldHVybltjLGRdfWZ1bmN0aW9uIEdhKCl7dmFyIGE9T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm57Zmx1c2g6ZnVuY3Rpb24oKXthPU9iamVjdC5jcmVhdGUobnVsbCl9LGNvdW50OmZ1bmN0aW9uKGIpe3JldHVybihiPWFbYl0pP2IudG90YWw6MH0sZ2V0OmZ1bmN0aW9uKGIpe3JldHVybihiPWFbYl0pJiZiLnZhbHVlfSxwdXQ6ZnVuY3Rpb24oYixjKXthW2JdP2FbYl0udG90YWwrKzphW2JdPXt0b3RhbDoxLHZhbHVlOmN9fX19ZnVuY3Rpb24gSGEoYSxiLGMpe3MoYyxmdW5jdGlvbihjKXthW2NdPSQoYVtjXSk/YVtjXTpiLnN0eWxlLmdldFByb3BlcnR5VmFsdWUoYyl9KX12YXIgTz1uLm5vb3AsSWE9bi5jb3B5LERhPW4uZXh0ZW5kLEc9bi5lbGVtZW50LHM9bi5mb3JFYWNoLGRhPW4uaXNBcnJheSxFPW4uaXNTdHJpbmcsZWE9bi5pc09iamVjdCxOPW4uaXNVbmRlZmluZWQsJD1uLmlzRGVmaW5lZCxKYT1uLmlzRnVuY3Rpb24sdWE9bi5pc0VsZW1lbnQsUix2YSxaLHdhO04oRC5vbnRyYW5zaXRpb25lbmQpJiYKJChELm9ud2Via2l0dHJhbnNpdGlvbmVuZCk/KFI9IldlYmtpdFRyYW5zaXRpb24iLHZhPSJ3ZWJraXRUcmFuc2l0aW9uRW5kIHRyYW5zaXRpb25lbmQiKTooUj0idHJhbnNpdGlvbiIsdmE9InRyYW5zaXRpb25lbmQiKTtOKEQub25hbmltYXRpb25lbmQpJiYkKEQub253ZWJraXRhbmltYXRpb25lbmQpPyhaPSJXZWJraXRBbmltYXRpb24iLHdhPSJ3ZWJraXRBbmltYXRpb25FbmQgYW5pbWF0aW9uZW5kIik6KFo9ImFuaW1hdGlvbiIsd2E9ImFuaW1hdGlvbmVuZCIpO3ZhciByYT1aKyJEZWxheSIseGE9WisiRHVyYXRpb24iLG5hPVIrIkRlbGF5IjtEPVIrIkR1cmF0aW9uIjt2YXIgS2E9bi4kJG1pbkVycigibmciKSxTYT17dHJhbnNpdGlvbkR1cmF0aW9uOkQsdHJhbnNpdGlvbkRlbGF5Om5hLHRyYW5zaXRpb25Qcm9wZXJ0eTpSKyJQcm9wZXJ0eSIsYW5pbWF0aW9uRHVyYXRpb246eGEsYW5pbWF0aW9uRGVsYXk6cmEsYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6WisiSXRlcmF0aW9uQ291bnQifSwKVGE9e3RyYW5zaXRpb25EdXJhdGlvbjpELHRyYW5zaXRpb25EZWxheTpuYSxhbmltYXRpb25EdXJhdGlvbjp4YSxhbmltYXRpb25EZWxheTpyYX07bi5tb2R1bGUoIm5nQW5pbWF0ZSIsW10pLmRpcmVjdGl2ZSgibmdBbmltYXRlQ2hpbGRyZW4iLFsiJGludGVycG9sYXRlIixmdW5jdGlvbihhKXtyZXR1cm57bGluazpmdW5jdGlvbihiLGMsZCl7ZnVuY3Rpb24gZShhKXtjLmRhdGEoIiQkbmdBbmltYXRlQ2hpbGRyZW4iLCJvbiI9PT1hfHwidHJ1ZSI9PT1hKX12YXIgZj1kLm5nQW5pbWF0ZUNoaWxkcmVuO24uaXNTdHJpbmcoZikmJjA9PT1mLmxlbmd0aD9jLmRhdGEoIiQkbmdBbmltYXRlQ2hpbGRyZW4iLCEwKTooZShhKGYpKGIpKSxkLiRvYnNlcnZlKCJuZ0FuaW1hdGVDaGlsZHJlbiIsZSkpfX19XSkuZmFjdG9yeSgiJCRyQUZTY2hlZHVsZXIiLFsiJCRyQUYiLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7ZD1kLmNvbmNhdChhKTtjKCl9ZnVuY3Rpb24gYygpe2lmKGQubGVuZ3RoKXtmb3IodmFyIGI9CmQuc2hpZnQoKSxMPTA7TDxiLmxlbmd0aDtMKyspYltMXSgpO2V8fGEoZnVuY3Rpb24oKXtlfHxjKCl9KX19dmFyIGQsZTtkPWIucXVldWU9W107Yi53YWl0VW50aWxRdWlldD1mdW5jdGlvbihiKXtlJiZlKCk7ZT1hKGZ1bmN0aW9uKCl7ZT1udWxsO2IoKTtjKCl9KX07cmV0dXJuIGJ9XSkucHJvdmlkZXIoIiQkYW5pbWF0ZVF1ZXVlIixbIiRhbmltYXRlUHJvdmlkZXIiLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7aWYoIWEpcmV0dXJuIG51bGw7YT1hLnNwbGl0KCIgIik7dmFyIGI9T2JqZWN0LmNyZWF0ZShudWxsKTtzKGEsZnVuY3Rpb24oYSl7YlthXT0hMH0pO3JldHVybiBifWZ1bmN0aW9uIGMoYSxjKXtpZihhJiZjKXt2YXIgZD1iKGMpO3JldHVybiBhLnNwbGl0KCIgIikuc29tZShmdW5jdGlvbihhKXtyZXR1cm4gZFthXX0pfX1mdW5jdGlvbiBkKGEsYixjLGQpe3JldHVybiBmW2FdLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEoYixjLGQpfSl9ZnVuY3Rpb24gZShhLGIpe3ZhciBjPQowPChhLmFkZENsYXNzfHwiIikubGVuZ3RoLGQ9MDwoYS5yZW1vdmVDbGFzc3x8IiIpLmxlbmd0aDtyZXR1cm4gYj9jJiZkOmN8fGR9dmFyIGY9dGhpcy5ydWxlcz17c2tpcDpbXSxjYW5jZWw6W10sam9pbjpbXX07Zi5qb2luLnB1c2goZnVuY3Rpb24oYSxiLGMpe3JldHVybiFiLnN0cnVjdHVyYWwmJmUoYil9KTtmLnNraXAucHVzaChmdW5jdGlvbihhLGIsYyl7cmV0dXJuIWIuc3RydWN0dXJhbCYmIWUoYil9KTtmLnNraXAucHVzaChmdW5jdGlvbihhLGIsYyl7cmV0dXJuImxlYXZlIj09Yy5ldmVudCYmYi5zdHJ1Y3R1cmFsfSk7Zi5za2lwLnB1c2goZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjLnN0cnVjdHVyYWwmJjI9PT1jLnN0YXRlJiYhYi5zdHJ1Y3R1cmFsfSk7Zi5jYW5jZWwucHVzaChmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGMuc3RydWN0dXJhbCYmYi5zdHJ1Y3R1cmFsfSk7Zi5jYW5jZWwucHVzaChmdW5jdGlvbihhLGIsYyl7cmV0dXJuIDI9PT1jLnN0YXRlJiZiLnN0cnVjdHVyYWx9KTsKZi5jYW5jZWwucHVzaChmdW5jdGlvbihhLGIsZCl7YT1iLmFkZENsYXNzO2I9Yi5yZW1vdmVDbGFzczt2YXIgZT1kLmFkZENsYXNzO2Q9ZC5yZW1vdmVDbGFzcztyZXR1cm4gTihhKSYmTihiKXx8TihlKSYmTihkKT8hMTpjKGEsZCl8fGMoYixlKX0pO3RoaXMuJGdldD1bIiQkckFGIiwiJHJvb3RTY29wZSIsIiRyb290RWxlbWVudCIsIiRkb2N1bWVudCIsIiQkSGFzaE1hcCIsIiQkYW5pbWF0aW9uIiwiJCRBbmltYXRlUnVubmVyIiwiJHRlbXBsYXRlUmVxdWVzdCIsIiQkanFMaXRlIiwiJCRmb3JjZVJlZmxvdyIsZnVuY3Rpb24oYixjLGYscix2LG4sdCx5LG0sZyl7ZnVuY3Rpb24gUCgpe3ZhciBhPSExO3JldHVybiBmdW5jdGlvbihiKXthP2IoKTpjLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpe2E9ITA7YigpfSl9fWZ1bmN0aW9uIEgoYSxiLGMpe3ZhciBoPXgoYiksZD14KGEpLGs9W107KGE9bFtjXSkmJnMoYSxmdW5jdGlvbihhKXthYS5jYWxsKGEubm9kZSxoKT9rLnB1c2goYS5jYWxsYmFjayk6CiJsZWF2ZSI9PT1jJiZhYS5jYWxsKGEubm9kZSxkKSYmay5wdXNoKGEuY2FsbGJhY2spfSk7cmV0dXJuIGt9ZnVuY3Rpb24gayhhLEssayl7ZnVuY3Rpb24gbChjLGgsZCxrKXtyKGZ1bmN0aW9uKCl7dmFyIGM9SChJLGEsaCk7Yy5sZW5ndGgmJmIoZnVuY3Rpb24oKXtzKGMsZnVuY3Rpb24oYil7YihhLGQsayl9KX0pfSk7Yy5wcm9ncmVzcyhoLGQsayl9ZnVuY3Rpb24gdShiKXt2YXIgYz1hLGg9ZztoLnByZXBhcmF0aW9uQ2xhc3NlcyYmKGMucmVtb3ZlQ2xhc3MoaC5wcmVwYXJhdGlvbkNsYXNzZXMpLGgucHJlcGFyYXRpb25DbGFzc2VzPW51bGwpO2guYWN0aXZlQ2xhc3NlcyYmKGMucmVtb3ZlQ2xhc3MoaC5hY3RpdmVDbGFzc2VzKSxoLmFjdGl2ZUNsYXNzZXM9bnVsbCk7QShhLGcpO2lhKGEsZyk7Zy5kb21PcGVyYXRpb24oKTtmLmNvbXBsZXRlKCFiKX12YXIgZz1JYShrKSxXLEk7aWYoYT1NYShhKSlXPXgoYSksST1hLnBhcmVudCgpO3ZhciBnPXBhKGcpLGY9bmV3IHQscj1QKCk7CmRhKGcuYWRkQ2xhc3MpJiYoZy5hZGRDbGFzcz1nLmFkZENsYXNzLmpvaW4oIiAiKSk7Zy5hZGRDbGFzcyYmIUUoZy5hZGRDbGFzcykmJihnLmFkZENsYXNzPW51bGwpO2RhKGcucmVtb3ZlQ2xhc3MpJiYoZy5yZW1vdmVDbGFzcz1nLnJlbW92ZUNsYXNzLmpvaW4oIiAiKSk7Zy5yZW1vdmVDbGFzcyYmIUUoZy5yZW1vdmVDbGFzcykmJihnLnJlbW92ZUNsYXNzPW51bGwpO2cuZnJvbSYmIWVhKGcuZnJvbSkmJihnLmZyb209bnVsbCk7Zy50byYmIWVhKGcudG8pJiYoZy50bz1udWxsKTtpZighVylyZXR1cm4gdSgpLGY7az1bVy5jbGFzc05hbWUsZy5hZGRDbGFzcyxnLnJlbW92ZUNsYXNzXS5qb2luKCIgIik7aWYoIVVhKGspKXJldHVybiB1KCksZjt2YXIgSj0wPD1bImVudGVyIiwibW92ZSIsImxlYXZlIl0uaW5kZXhPZihLKSxtPWguaGlkZGVuLHY9IUZ8fG18fEIuZ2V0KFcpO2s9IXYmJncuZ2V0KFcpfHx7fTt2YXIgYWE9ISFrLnN0YXRlO3Z8fGFhJiYxPT1rLnN0YXRlfHwodj0hcChhLApJLEspKTtpZih2KXJldHVybiBtJiZsKGYsSywic3RhcnQiKSx1KCksbSYmbChmLEssImNsb3NlIiksZjtKJiZ5YShhKTttPXtzdHJ1Y3R1cmFsOkosZWxlbWVudDphLGV2ZW50OkssYWRkQ2xhc3M6Zy5hZGRDbGFzcyxyZW1vdmVDbGFzczpnLnJlbW92ZUNsYXNzLGNsb3NlOnUsb3B0aW9uczpnLHJ1bm5lcjpmfTtpZihhYSl7aWYoZCgic2tpcCIsYSxtLGspKXtpZigyPT09ay5zdGF0ZSlyZXR1cm4gdSgpLGY7VChhLGssbSk7cmV0dXJuIGsucnVubmVyfWlmKGQoImNhbmNlbCIsYSxtLGspKWlmKDI9PT1rLnN0YXRlKWsucnVubmVyLmVuZCgpO2Vsc2UgaWYoay5zdHJ1Y3R1cmFsKWsuY2xvc2UoKTtlbHNlIHJldHVybiBUKGEsayxtKSxrLnJ1bm5lcjtlbHNlIGlmKGQoImpvaW4iLGEsbSxrKSlpZigyPT09ay5zdGF0ZSlUKGEsbSx7fSk7ZWxzZSByZXR1cm4gUWEoYSxKP0s6bnVsbCxnKSxLPW0uZXZlbnQ9ay5ldmVudCxnPVQoYSxrLG0pLGsucnVubmVyfWVsc2UgVChhLG0se30pOyhhYT0KbS5zdHJ1Y3R1cmFsKXx8KGFhPSJhbmltYXRlIj09PW0uZXZlbnQmJjA8T2JqZWN0LmtleXMobS5vcHRpb25zLnRvfHx7fSkubGVuZ3RofHxlKG0pKTtpZighYWEpcmV0dXJuIHUoKSxsYShhKSxmO3ZhciB5PShrLmNvdW50ZXJ8fDApKzE7bS5jb3VudGVyPXk7QyhhLDEsbSk7Yy4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKXt2YXIgYj13LmdldChXKSxjPSFiLGI9Ynx8e30saD0wPChhLnBhcmVudCgpfHxbXSkubGVuZ3RoJiYoImFuaW1hdGUiPT09Yi5ldmVudHx8Yi5zdHJ1Y3R1cmFsfHxlKGIpKTtpZihjfHxiLmNvdW50ZXIhPT15fHwhaCl7YyYmKEEoYSxnKSxpYShhLGcpKTtpZihjfHxKJiZiLmV2ZW50IT09SylnLmRvbU9wZXJhdGlvbigpLGYuZW5kKCk7aHx8bGEoYSl9ZWxzZSBLPSFiLnN0cnVjdHVyYWwmJmUoYiwhMCk/InNldENsYXNzIjpiLmV2ZW50LEMoYSwyKSxiPW4oYSxLLGIub3B0aW9ucyksZi5zZXRIb3N0KGIpLGwoZixLLCJzdGFydCIse30pLGIuZG9uZShmdW5jdGlvbihiKXt1KCFiKTsKKGI9dy5nZXQoVykpJiZiLmNvdW50ZXI9PT15JiZsYSh4KGEpKTtsKGYsSywiY2xvc2UiLHt9KX0pfSk7cmV0dXJuIGZ9ZnVuY3Rpb24geWEoYSl7YT14KGEpLnF1ZXJ5U2VsZWN0b3JBbGwoIltkYXRhLW5nLWFuaW1hdGVdIik7cyhhLGZ1bmN0aW9uKGEpe3ZhciBiPXBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKCJkYXRhLW5nLWFuaW1hdGUiKSksYz13LmdldChhKTtpZihjKXN3aXRjaChiKXtjYXNlIDI6Yy5ydW5uZXIuZW5kKCk7Y2FzZSAxOncucmVtb3ZlKGEpfX0pfWZ1bmN0aW9uIGxhKGEpe2E9eChhKTthLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1uZy1hbmltYXRlIik7dy5yZW1vdmUoYSl9ZnVuY3Rpb24gSShhLGIpe3JldHVybiB4KGEpPT09eChiKX1mdW5jdGlvbiBwKGEsYixjKXtjPUcoaC5ib2R5KTt2YXIgZD1JKGEsYyl8fCJIVE1MIj09PWFbMF0ubm9kZU5hbWUsaz1JKGEsZiksZz0hMSxsLGU9Qi5nZXQoeChhKSk7KGE9Ry5kYXRhKGFbMF0sIiRuZ0FuaW1hdGVQaW4iKSkmJgooYj1hKTtmb3IoYj14KGIpO2I7KXtrfHwoaz1JKGIsZikpO2lmKDEhPT1iLm5vZGVUeXBlKWJyZWFrO2E9dy5nZXQoYil8fHt9O2lmKCFnKXt2YXIgdT1CLmdldChiKTtpZighMD09PXUmJiExIT09ZSl7ZT0hMDticmVha31lbHNlITE9PT11JiYoZT0hMSk7Zz1hLnN0cnVjdHVyYWx9aWYoTihsKXx8ITA9PT1sKWE9Ry5kYXRhKGIsIiQkbmdBbmltYXRlQ2hpbGRyZW4iKSwkKGEpJiYobD1hKTtpZihnJiYhMT09PWwpYnJlYWs7ZHx8KGQ9SShiLGMpKTtpZihkJiZrKWJyZWFrO2lmKCFrJiYoYT1HLmRhdGEoYiwiJG5nQW5pbWF0ZVBpbiIpKSl7Yj14KGEpO2NvbnRpbnVlfWI9Yi5wYXJlbnROb2RlfXJldHVybighZ3x8bCkmJiEwIT09ZSYmayYmZH1mdW5jdGlvbiBDKGEsYixjKXtjPWN8fHt9O2Muc3RhdGU9YjthPXgoYSk7YS5zZXRBdHRyaWJ1dGUoImRhdGEtbmctYW5pbWF0ZSIsYik7Yz0oYj13LmdldChhKSk/RGEoYixjKTpjO3cucHV0KGEsYyl9dmFyIHc9bmV3IHYsQj1uZXcgdiwKRj1udWxsLGg9clswXXx8e2hpZGRlbjohMH0sVz1jLiR3YXRjaChmdW5jdGlvbigpe3JldHVybiAwPT09eS50b3RhbFBlbmRpbmdSZXF1ZXN0c30sZnVuY3Rpb24oYSl7YSYmKFcoKSxjLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpe2MuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCl7bnVsbD09PUYmJihGPSEwKX0pfSkpfSksbD17fSx1PWEuY2xhc3NOYW1lRmlsdGVyKCksVWE9dT9mdW5jdGlvbihhKXtyZXR1cm4gdS50ZXN0KGEpfTpmdW5jdGlvbigpe3JldHVybiEwfSxBPVEobSksYWE9Tm9kZS5wcm90b3R5cGUuY29udGFpbnN8fGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzPT09YXx8ISEodGhpcy5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhKSYxNil9O3JldHVybntvbjpmdW5jdGlvbihhLGIsYyl7Yj1oYShiKTtsW2FdPWxbYV18fFtdO2xbYV0ucHVzaCh7bm9kZTpiLGNhbGxiYWNrOmN9KX0sb2ZmOmZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBoKGEsYixjKXt2YXIgZD1oYShiKTtyZXR1cm4gYS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIShhLm5vZGU9PT0KZCYmKCFjfHxhLmNhbGxiYWNrPT09YykpfSl9dmFyIGQ9bFthXTtkJiYobFthXT0xPT09YXJndW1lbnRzLmxlbmd0aD9udWxsOmgoZCxiLGMpKX0scGluOmZ1bmN0aW9uKGEsYil7emEodWEoYSksImVsZW1lbnQiLCJub3QgYW4gZWxlbWVudCIpO3phKHVhKGIpLCJwYXJlbnRFbGVtZW50Iiwibm90IGFuIGVsZW1lbnQiKTthLmRhdGEoIiRuZ0FuaW1hdGVQaW4iLGIpfSxwdXNoOmZ1bmN0aW9uKGEsYixjLGgpe2M9Y3x8e307Yy5kb21PcGVyYXRpb249aDtyZXR1cm4gayhhLGIsYyl9LGVuYWJsZWQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hcmd1bWVudHMubGVuZ3RoO2lmKDA9PT1jKWI9ISFGO2Vsc2UgaWYodWEoYSkpe3ZhciBoPXgoYSksZD1CLmdldChoKTsxPT09Yz9iPSFkOkIucHV0KGgsIWIpfWVsc2UgYj1GPSEhYTtyZXR1cm4gYn19fV19XSkucHJvdmlkZXIoIiQkYW5pbWF0aW9uIixbIiRhbmltYXRlUHJvdmlkZXIiLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGEuZGF0YSgiJCRhbmltYXRpb25SdW5uZXIiKX0KdmFyIGM9dGhpcy5kcml2ZXJzPVtdO3RoaXMuJGdldD1bIiQkanFMaXRlIiwiJHJvb3RTY29wZSIsIiRpbmplY3RvciIsIiQkQW5pbWF0ZVJ1bm5lciIsIiQkSGFzaE1hcCIsIiQkckFGU2NoZWR1bGVyIixmdW5jdGlvbihhLGUsZixMLFUsSil7ZnVuY3Rpb24gcihhKXtmdW5jdGlvbiBiKGEpe2lmKGEucHJvY2Vzc2VkKXJldHVybiBhO2EucHJvY2Vzc2VkPSEwO3ZhciBkPWEuZG9tTm9kZSxnPWQucGFyZW50Tm9kZTtlLnB1dChkLGEpO2Zvcih2YXIgZjtnOyl7aWYoZj1lLmdldChnKSl7Zi5wcm9jZXNzZWR8fChmPWIoZikpO2JyZWFrfWc9Zy5wYXJlbnROb2RlfShmfHxjKS5jaGlsZHJlbi5wdXNoKGEpO3JldHVybiBhfXZhciBjPXtjaGlsZHJlbjpbXX0sZCxlPW5ldyBVO2ZvcihkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBmPWFbZF07ZS5wdXQoZi5kb21Ob2RlLGFbZF09e2RvbU5vZGU6Zi5kb21Ob2RlLGZuOmYuZm4sY2hpbGRyZW46W119KX1mb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKWIoYVtkXSk7CnJldHVybiBmdW5jdGlvbihhKXt2YXIgYj1bXSxjPVtdLGQ7Zm9yKGQ9MDtkPGEuY2hpbGRyZW4ubGVuZ3RoO2QrKyljLnB1c2goYS5jaGlsZHJlbltkXSk7YT1jLmxlbmd0aDt2YXIgZz0wLGU9W107Zm9yKGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGY9Y1tkXTswPj1hJiYoYT1nLGc9MCxiLnB1c2goZSksZT1bXSk7ZS5wdXNoKGYuZm4pO2YuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihhKXtnKys7Yy5wdXNoKGEpfSk7YS0tfWUubGVuZ3RoJiZiLnB1c2goZSk7cmV0dXJuIGJ9KGMpfXZhciB2PVtdLG49UShhKTtyZXR1cm4gZnVuY3Rpb24odCx5LG0pe2Z1bmN0aW9uIGcoYSl7YT1hLmhhc0F0dHJpYnV0ZSgibmctYW5pbWF0ZS1yZWYiKT9bYV06YS5xdWVyeVNlbGVjdG9yQWxsKCJbbmctYW5pbWF0ZS1yZWZdIik7dmFyIGI9W107cyhhLGZ1bmN0aW9uKGEpe3ZhciBjPWEuZ2V0QXR0cmlidXRlKCJuZy1hbmltYXRlLXJlZiIpO2MmJmMubGVuZ3RoJiZiLnB1c2goYSl9KTtyZXR1cm4gYn0KZnVuY3Rpb24gUChhKXt2YXIgYj1bXSxjPXt9O3MoYSxmdW5jdGlvbihhLGQpe3ZhciBoPXgoYS5lbGVtZW50KSxrPTA8PVsiZW50ZXIiLCJtb3ZlIl0uaW5kZXhPZihhLmV2ZW50KSxoPWEuc3RydWN0dXJhbD9nKGgpOltdO2lmKGgubGVuZ3RoKXt2YXIgZT1rPyJ0byI6ImZyb20iO3MoaCxmdW5jdGlvbihhKXt2YXIgYj1hLmdldEF0dHJpYnV0ZSgibmctYW5pbWF0ZS1yZWYiKTtjW2JdPWNbYl18fHt9O2NbYl1bZV09e2FuaW1hdGlvbklEOmQsZWxlbWVudDpHKGEpfX0pfWVsc2UgYi5wdXNoKGEpfSk7dmFyIGQ9e30saz17fTtzKGMsZnVuY3Rpb24oYyxnKXt2YXIgZT1jLmZyb20sbD1jLnRvO2lmKGUmJmwpe3ZhciBmPWFbZS5hbmltYXRpb25JRF0sQj1hW2wuYW5pbWF0aW9uSURdLHA9ZS5hbmltYXRpb25JRC50b1N0cmluZygpO2lmKCFrW3BdKXt2YXIgQz1rW3BdPXtzdHJ1Y3R1cmFsOiEwLGJlZm9yZVN0YXJ0OmZ1bmN0aW9uKCl7Zi5iZWZvcmVTdGFydCgpO0IuYmVmb3JlU3RhcnQoKX0sCmNsb3NlOmZ1bmN0aW9uKCl7Zi5jbG9zZSgpO0IuY2xvc2UoKX0sY2xhc3NlczpIKGYuY2xhc3NlcyxCLmNsYXNzZXMpLGZyb206Zix0bzpCLGFuY2hvcnM6W119O0MuY2xhc3Nlcy5sZW5ndGg/Yi5wdXNoKEMpOihiLnB1c2goZiksYi5wdXNoKEIpKX1rW3BdLmFuY2hvcnMucHVzaCh7b3V0OmUuZWxlbWVudCwiaW4iOmwuZWxlbWVudH0pfWVsc2UgZT1lP2UuYW5pbWF0aW9uSUQ6bC5hbmltYXRpb25JRCxsPWUudG9TdHJpbmcoKSxkW2xdfHwoZFtsXT0hMCxiLnB1c2goYVtlXSkpfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gSChhLGIpe2E9YS5zcGxpdCgiICIpO2I9Yi5zcGxpdCgiICIpO2Zvcih2YXIgYz1bXSxkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBrPWFbZF07aWYoIm5nLSIhPT1rLnN1YnN0cmluZygwLDMpKWZvcih2YXIgZz0wO2c8Yi5sZW5ndGg7ZysrKWlmKGs9PT1iW2ddKXtjLnB1c2goayk7YnJlYWt9fXJldHVybiBjLmpvaW4oIiAiKX1mdW5jdGlvbiBrKGEpe2Zvcih2YXIgYj0KYy5sZW5ndGgtMTswPD1iO2ItLSl7dmFyIGQ9Y1tiXTtpZihmLmhhcyhkKSYmKGQ9Zi5nZXQoZCkoYSkpKXJldHVybiBkfX1mdW5jdGlvbiB5YShhLGMpe2EuZnJvbSYmYS50bz8oYihhLmZyb20uZWxlbWVudCkuc2V0SG9zdChjKSxiKGEudG8uZWxlbWVudCkuc2V0SG9zdChjKSk6YihhLmVsZW1lbnQpLnNldEhvc3QoYyl9ZnVuY3Rpb24gbGEoKXt2YXIgYT1iKHQpOyFhfHwibGVhdmUiPT09eSYmbS4kJGRvbU9wZXJhdGlvbkZpcmVkfHxhLmVuZCgpfWZ1bmN0aW9uIEkoYil7dC5vZmYoIiRkZXN0cm95IixsYSk7dC5yZW1vdmVEYXRhKCIkJGFuaW1hdGlvblJ1bm5lciIpO24odCxtKTtpYSh0LG0pO20uZG9tT3BlcmF0aW9uKCk7QiYmYS5yZW1vdmVDbGFzcyh0LEIpO3QucmVtb3ZlQ2xhc3MoIm5nLWFuaW1hdGUiKTtDLmNvbXBsZXRlKCFiKX1tPXBhKG0pO3ZhciBwPTA8PVsiZW50ZXIiLCJtb3ZlIiwibGVhdmUiXS5pbmRleE9mKHkpLEM9bmV3IEwoe2VuZDpmdW5jdGlvbigpe0koKX0sCmNhbmNlbDpmdW5jdGlvbigpe0koITApfX0pO2lmKCFjLmxlbmd0aClyZXR1cm4gSSgpLEM7dC5kYXRhKCIkJGFuaW1hdGlvblJ1bm5lciIsQyk7dmFyIHc9QWEodC5hdHRyKCJjbGFzcyIpLEFhKG0uYWRkQ2xhc3MsbS5yZW1vdmVDbGFzcykpLEI9bS50ZW1wQ2xhc3NlcztCJiYodys9IiAiK0IsbS50ZW1wQ2xhc3Nlcz1udWxsKTt2YXIgRjtwJiYoRj0ibmctIit5KyItcHJlcGFyZSIsYS5hZGRDbGFzcyh0LEYpKTt2LnB1c2goe2VsZW1lbnQ6dCxjbGFzc2VzOncsZXZlbnQ6eSxzdHJ1Y3R1cmFsOnAsb3B0aW9uczptLGJlZm9yZVN0YXJ0OmZ1bmN0aW9uKCl7dC5hZGRDbGFzcygibmctYW5pbWF0ZSIpO0ImJmEuYWRkQ2xhc3ModCxCKTtGJiYoYS5yZW1vdmVDbGFzcyh0LEYpLEY9bnVsbCl9LGNsb3NlOkl9KTt0Lm9uKCIkZGVzdHJveSIsbGEpO2lmKDE8di5sZW5ndGgpcmV0dXJuIEM7ZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKXt2YXIgYT1bXTtzKHYsZnVuY3Rpb24oYyl7YihjLmVsZW1lbnQpPwphLnB1c2goYyk6Yy5jbG9zZSgpfSk7di5sZW5ndGg9MDt2YXIgYz1QKGEpLGQ9W107cyhjLGZ1bmN0aW9uKGEpe2QucHVzaCh7ZG9tTm9kZTp4KGEuZnJvbT9hLmZyb20uZWxlbWVudDphLmVsZW1lbnQpLGZuOmZ1bmN0aW9uKCl7YS5iZWZvcmVTdGFydCgpO3ZhciBjLGQ9YS5jbG9zZTtpZihiKGEuYW5jaG9ycz9hLmZyb20uZWxlbWVudHx8YS50by5lbGVtZW50OmEuZWxlbWVudCkpe3ZhciBoPWsoYSk7aCYmKGM9aC5zdGFydCl9Yz8oYz1jKCksYy5kb25lKGZ1bmN0aW9uKGEpe2QoIWEpfSkseWEoYSxjKSk6ZCgpfX0pfSk7SihyKGQpKX0pO3JldHVybiBDfX1dfV0pLnByb3ZpZGVyKCIkYW5pbWF0ZUNzcyIsWyIkYW5pbWF0ZVByb3ZpZGVyIixmdW5jdGlvbihhKXt2YXIgYj1HYSgpLGM9R2EoKTt0aGlzLiRnZXQ9WyIkd2luZG93IiwiJCRqcUxpdGUiLCIkJEFuaW1hdGVSdW5uZXIiLCIkdGltZW91dCIsIiQkZm9yY2VSZWZsb3ciLCIkc25pZmZlciIsIiQkckFGU2NoZWR1bGVyIiwKIiQkYW5pbWF0ZVF1ZXVlIixmdW5jdGlvbihhLGUsZixMLG4sSixyLHYpe2Z1bmN0aW9uIEcoYSxiKXt2YXIgYz1hLnBhcmVudE5vZGU7cmV0dXJuKGMuJCRuZ0FuaW1hdGVQYXJlbnRLZXl8fChjLiQkbmdBbmltYXRlUGFyZW50S2V5PSsrUCkpKyItIithLmdldEF0dHJpYnV0ZSgiY2xhc3MiKSsiLSIrYn1mdW5jdGlvbiB0KGssZyxmLG0pe3ZhciBwOzA8Yi5jb3VudChmKSYmKHA9Yy5nZXQoZikscHx8KGc9WChnLCItc3RhZ2dlciIpLGUuYWRkQ2xhc3MoayxnKSxwPUVhKGEsayxtKSxwLmFuaW1hdGlvbkR1cmF0aW9uPU1hdGgubWF4KHAuYW5pbWF0aW9uRHVyYXRpb24sMCkscC50cmFuc2l0aW9uRHVyYXRpb249TWF0aC5tYXgocC50cmFuc2l0aW9uRHVyYXRpb24sMCksZS5yZW1vdmVDbGFzcyhrLGcpLGMucHV0KGYscCkpKTtyZXR1cm4gcHx8e319ZnVuY3Rpb24geShhKXtILnB1c2goYSk7ci53YWl0VW50aWxRdWlldChmdW5jdGlvbigpe2IuZmx1c2goKTtjLmZsdXNoKCk7Zm9yKHZhciBhPQpuKCksZD0wO2Q8SC5sZW5ndGg7ZCsrKUhbZF0oYSk7SC5sZW5ndGg9MH0pfWZ1bmN0aW9uIG0oYyxnLGUpe2c9Yi5nZXQoZSk7Z3x8KGc9RWEoYSxjLFNhKSwiaW5maW5pdGUiPT09Zy5hbmltYXRpb25JdGVyYXRpb25Db3VudCYmKGcuYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ9MSkpO2IucHV0KGUsZyk7Yz1nO2U9Yy5hbmltYXRpb25EZWxheTtnPWMudHJhbnNpdGlvbkRlbGF5O2MubWF4RGVsYXk9ZSYmZz9NYXRoLm1heChlLGcpOmV8fGc7Yy5tYXhEdXJhdGlvbj1NYXRoLm1heChjLmFuaW1hdGlvbkR1cmF0aW9uKmMuYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQsYy50cmFuc2l0aW9uRHVyYXRpb24pO3JldHVybiBjfXZhciBnPVEoZSksUD0wLEg9W107cmV0dXJuIGZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gZCgpe3AoKX1mdW5jdGlvbiByKCl7cCghMCl9ZnVuY3Rpb24gcChiKXtpZighKFB8fEsmJlUpKXtQPSEwO1U9ITE7aC4kJHNraXBQcmVwYXJhdGlvbkNsYXNzZXN8fGUucmVtb3ZlQ2xhc3MoYSwKZ2EpO2UucmVtb3ZlQ2xhc3MoYSxoYSk7c2EobCwhMSk7cWEobCwhMSk7cyh1LGZ1bmN0aW9uKGEpe2wuc3R5bGVbYVswXV09IiJ9KTtnKGEsaCk7aWEoYSxoKTtPYmplY3Qua2V5cyhIKS5sZW5ndGgmJnMoSCxmdW5jdGlvbihhLGIpe2E/bC5zdHlsZS5zZXRQcm9wZXJ0eShiLGEpOmwuc3R5bGUucmVtb3ZlUHJvcGVydHkoYil9KTtpZihoLm9uRG9uZSloLm9uRG9uZSgpO2ZhJiZmYS5sZW5ndGgmJmEub2ZmKGZhLmpvaW4oIiAiKSxCKTt2YXIgYz1hLmRhdGEoIiQkYW5pbWF0ZUNzcyIpO2MmJihMLmNhbmNlbChjWzBdLnRpbWVyKSxhLnJlbW92ZURhdGEoIiQkYW5pbWF0ZUNzcyIpKTtEJiZELmNvbXBsZXRlKCFiKX19ZnVuY3Rpb24gQyhhKXtxLmJsb2NrVHJhbnNpdGlvbiYmcWEobCxhKTtxLmJsb2NrS2V5ZnJhbWVBbmltYXRpb24mJnNhKGwsISFhKX1mdW5jdGlvbiB3KCl7RD1uZXcgZih7ZW5kOmQsY2FuY2VsOnJ9KTt5KE8pO3AoKTtyZXR1cm57JCR3aWxsQW5pbWF0ZTohMSxzdGFydDpmdW5jdGlvbigpe3JldHVybiBEfSwKZW5kOmR9fWZ1bmN0aW9uIEIoYSl7YS5zdG9wUHJvcGFnYXRpb24oKTt2YXIgYj1hLm9yaWdpbmFsRXZlbnR8fGE7YT1iLiRtYW51YWxUaW1lU3RhbXB8fERhdGUubm93KCk7Yj1wYXJzZUZsb2F0KGIuZWxhcHNlZFRpbWUudG9GaXhlZCgzKSk7TWF0aC5tYXgoYS1ZLDApPj1RJiZiPj1NJiYoSz0hMCxwKCkpfWZ1bmN0aW9uIEYoKXtmdW5jdGlvbiBiKCl7aWYoIVApe0MoITEpO3ModSxmdW5jdGlvbihhKXtsLnN0eWxlW2FbMF1dPWFbMV19KTtnKGEsaCk7ZS5hZGRDbGFzcyhhLGhhKTtpZihxLnJlY2FsY3VsYXRlVGltaW5nU3R5bGVzKXtvYT1sLmNsYXNzTmFtZSsiICIrZ2E7amE9RyhsLG9hKTt6PW0obCxvYSxqYSk7YmE9ei5tYXhEZWxheTtFPU1hdGgubWF4KGJhLDApO009ei5tYXhEdXJhdGlvbjtpZigwPT09TSl7cCgpO3JldHVybn1xLmhhc1RyYW5zaXRpb25zPTA8ei50cmFuc2l0aW9uRHVyYXRpb247cS5oYXNBbmltYXRpb25zPTA8ei5hbmltYXRpb25EdXJhdGlvbn1xLmFwcGx5QW5pbWF0aW9uRGVsYXkmJgooYmE9ImJvb2xlYW4iIT09dHlwZW9mIGguZGVsYXkmJnRhKGguZGVsYXkpP3BhcnNlRmxvYXQoaC5kZWxheSk6YmEsRT1NYXRoLm1heChiYSwwKSx6LmFuaW1hdGlvbkRlbGF5PWJhLGNhPVtyYSxiYSsicyJdLHUucHVzaChjYSksbC5zdHlsZVtjYVswXV09Y2FbMV0pO1E9MUUzKkU7VD0xRTMqTTtpZihoLmVhc2luZyl7dmFyIGQsZj1oLmVhc2luZztxLmhhc1RyYW5zaXRpb25zJiYoZD1SKyJUaW1pbmdGdW5jdGlvbiIsdS5wdXNoKFtkLGZdKSxsLnN0eWxlW2RdPWYpO3EuaGFzQW5pbWF0aW9ucyYmKGQ9WisiVGltaW5nRnVuY3Rpb24iLHUucHVzaChbZCxmXSksbC5zdHlsZVtkXT1mKX16LnRyYW5zaXRpb25EdXJhdGlvbiYmZmEucHVzaCh2YSk7ei5hbmltYXRpb25EdXJhdGlvbiYmZmEucHVzaCh3YSk7WT1EYXRlLm5vdygpO3ZhciBGPVErMS41KlQ7ZD1ZK0Y7dmFyIGY9YS5kYXRhKCIkJGFuaW1hdGVDc3MiKXx8W10sdz0hMDtpZihmLmxlbmd0aCl7dmFyIHI9ZlswXTsodz1kPnIuZXhwZWN0ZWRFbmRUaW1lKT8KTC5jYW5jZWwoci50aW1lcik6Zi5wdXNoKHApfXcmJihGPUwoYyxGLCExKSxmWzBdPXt0aW1lcjpGLGV4cGVjdGVkRW5kVGltZTpkfSxmLnB1c2gocCksYS5kYXRhKCIkJGFuaW1hdGVDc3MiLGYpKTtpZihmYS5sZW5ndGgpYS5vbihmYS5qb2luKCIgIiksQik7aC50byYmKGguY2xlYW51cFN0eWxlcyYmSGEoSCxsLE9iamVjdC5rZXlzKGgudG8pKSxDYShhLGgpKX19ZnVuY3Rpb24gYygpe3ZhciBiPWEuZGF0YSgiJCRhbmltYXRlQ3NzIik7aWYoYil7Zm9yKHZhciBkPTE7ZDxiLmxlbmd0aDtkKyspYltkXSgpO2EucmVtb3ZlRGF0YSgiJCRhbmltYXRlQ3NzIil9fWlmKCFQKWlmKGwucGFyZW50Tm9kZSl7dmFyIGQ9ZnVuY3Rpb24oYSl7aWYoSylVJiZhJiYoVT0hMSxwKCkpO2Vsc2UgaWYoVT0hYSx6LmFuaW1hdGlvbkR1cmF0aW9uKWlmKGE9c2EobCxVKSxVKXUucHVzaChhKTtlbHNle3ZhciBiPXUsYz1iLmluZGV4T2YoYSk7MDw9YSYmYi5zcGxpY2UoYywxKX19LGY9MDxlYSYmKHoudHJhbnNpdGlvbkR1cmF0aW9uJiYKMD09PVYudHJhbnNpdGlvbkR1cmF0aW9ufHx6LmFuaW1hdGlvbkR1cmF0aW9uJiYwPT09Vi5hbmltYXRpb25EdXJhdGlvbikmJk1hdGgubWF4KFYuYW5pbWF0aW9uRGVsYXksVi50cmFuc2l0aW9uRGVsYXkpO2Y/TChiLE1hdGguZmxvb3IoZiplYSoxRTMpLCExKTpiKCk7Ti5yZXN1bWU9ZnVuY3Rpb24oKXtkKCEwKX07Ti5wYXVzZT1mdW5jdGlvbigpe2QoITEpfX1lbHNlIHAoKX12YXIgaD1jfHx7fTtoLiQkcHJlcGFyZWR8fChoPXBhKElhKGgpKSk7dmFyIEg9e30sbD14KGEpO2lmKCFsfHwhbC5wYXJlbnROb2RlfHwhdi5lbmFibGVkKCkpcmV0dXJuIHcoKTt2YXIgdT1bXSxuPWEuYXR0cigiY2xhc3MiKSxBPUxhKGgpLFAsVSxLLEQsTixFLFEsTSxULFksZmE9W107aWYoMD09PWguZHVyYXRpb258fCFKLmFuaW1hdGlvbnMmJiFKLnRyYW5zaXRpb25zKXJldHVybiB3KCk7dmFyIGthPWguZXZlbnQmJmRhKGguZXZlbnQpP2guZXZlbnQuam9pbigiICIpOmguZXZlbnQsJD0iIixTPSIiOwprYSYmaC5zdHJ1Y3R1cmFsPyQ9WChrYSwibmctIiwhMCk6a2EmJigkPWthKTtoLmFkZENsYXNzJiYoUys9WChoLmFkZENsYXNzLCItYWRkIikpO2gucmVtb3ZlQ2xhc3MmJihTLmxlbmd0aCYmKFMrPSIgIiksUys9WChoLnJlbW92ZUNsYXNzLCItcmVtb3ZlIikpO2guYXBwbHlDbGFzc2VzRWFybHkmJlMubGVuZ3RoJiZnKGEsaCk7dmFyIGdhPVskLFNdLmpvaW4oIiAiKS50cmltKCksb2E9bisiICIrZ2EsaGE9WChnYSwiLWFjdGl2ZSIpLG49QS50byYmMDxPYmplY3Qua2V5cyhBLnRvKS5sZW5ndGg7aWYoISgwPChoLmtleWZyYW1lU3R5bGV8fCIiKS5sZW5ndGh8fG58fGdhKSlyZXR1cm4gdygpO3ZhciBqYSxWOzA8aC5zdGFnZ2VyPyhBPXBhcnNlRmxvYXQoaC5zdGFnZ2VyKSxWPXt0cmFuc2l0aW9uRGVsYXk6QSxhbmltYXRpb25EZWxheTpBLHRyYW5zaXRpb25EdXJhdGlvbjowLGFuaW1hdGlvbkR1cmF0aW9uOjB9KTooamE9RyhsLG9hKSxWPXQobCxnYSxqYSxUYSkpO2guJCRza2lwUHJlcGFyYXRpb25DbGFzc2VzfHwKZS5hZGRDbGFzcyhhLGdhKTtoLnRyYW5zaXRpb25TdHlsZSYmKEE9W1IsaC50cmFuc2l0aW9uU3R5bGVdLG1hKGwsQSksdS5wdXNoKEEpKTswPD1oLmR1cmF0aW9uJiYoQT0wPGwuc3R5bGVbUl0ubGVuZ3RoLEE9RmEoaC5kdXJhdGlvbixBKSxtYShsLEEpLHUucHVzaChBKSk7aC5rZXlmcmFtZVN0eWxlJiYoQT1bWixoLmtleWZyYW1lU3R5bGVdLG1hKGwsQSksdS5wdXNoKEEpKTt2YXIgZWE9Vj8wPD1oLnN0YWdnZXJJbmRleD9oLnN0YWdnZXJJbmRleDpiLmNvdW50KGphKTowOyhrYT0wPT09ZWEpJiYhaC5za2lwQmxvY2tpbmcmJnFhKGwsOTk5OSk7dmFyIHo9bShsLG9hLGphKSxiYT16Lm1heERlbGF5O0U9TWF0aC5tYXgoYmEsMCk7TT16Lm1heER1cmF0aW9uO3ZhciBxPXt9O3EuaGFzVHJhbnNpdGlvbnM9MDx6LnRyYW5zaXRpb25EdXJhdGlvbjtxLmhhc0FuaW1hdGlvbnM9MDx6LmFuaW1hdGlvbkR1cmF0aW9uO3EuaGFzVHJhbnNpdGlvbkFsbD1xLmhhc1RyYW5zaXRpb25zJiYiYWxsIj09CnoudHJhbnNpdGlvblByb3BlcnR5O3EuYXBwbHlUcmFuc2l0aW9uRHVyYXRpb249biYmKHEuaGFzVHJhbnNpdGlvbnMmJiFxLmhhc1RyYW5zaXRpb25BbGx8fHEuaGFzQW5pbWF0aW9ucyYmIXEuaGFzVHJhbnNpdGlvbnMpO3EuYXBwbHlBbmltYXRpb25EdXJhdGlvbj1oLmR1cmF0aW9uJiZxLmhhc0FuaW1hdGlvbnM7cS5hcHBseVRyYW5zaXRpb25EZWxheT10YShoLmRlbGF5KSYmKHEuYXBwbHlUcmFuc2l0aW9uRHVyYXRpb258fHEuaGFzVHJhbnNpdGlvbnMpO3EuYXBwbHlBbmltYXRpb25EZWxheT10YShoLmRlbGF5KSYmcS5oYXNBbmltYXRpb25zO3EucmVjYWxjdWxhdGVUaW1pbmdTdHlsZXM9MDxTLmxlbmd0aDtpZihxLmFwcGx5VHJhbnNpdGlvbkR1cmF0aW9ufHxxLmFwcGx5QW5pbWF0aW9uRHVyYXRpb24pTT1oLmR1cmF0aW9uP3BhcnNlRmxvYXQoaC5kdXJhdGlvbik6TSxxLmFwcGx5VHJhbnNpdGlvbkR1cmF0aW9uJiYocS5oYXNUcmFuc2l0aW9ucz0hMCx6LnRyYW5zaXRpb25EdXJhdGlvbj0KTSxBPTA8bC5zdHlsZVtSKyJQcm9wZXJ0eSJdLmxlbmd0aCx1LnB1c2goRmEoTSxBKSkpLHEuYXBwbHlBbmltYXRpb25EdXJhdGlvbiYmKHEuaGFzQW5pbWF0aW9ucz0hMCx6LmFuaW1hdGlvbkR1cmF0aW9uPU0sdS5wdXNoKFt4YSxNKyJzIl0pKTtpZigwPT09TSYmIXEucmVjYWxjdWxhdGVUaW1pbmdTdHlsZXMpcmV0dXJuIHcoKTtpZihudWxsIT1oLmRlbGF5KXt2YXIgY2E7ImJvb2xlYW4iIT09dHlwZW9mIGguZGVsYXkmJihjYT1wYXJzZUZsb2F0KGguZGVsYXkpLEU9TWF0aC5tYXgoY2EsMCkpO3EuYXBwbHlUcmFuc2l0aW9uRGVsYXkmJnUucHVzaChbbmEsY2ErInMiXSk7cS5hcHBseUFuaW1hdGlvbkRlbGF5JiZ1LnB1c2goW3JhLGNhKyJzIl0pfW51bGw9PWguZHVyYXRpb24mJjA8ei50cmFuc2l0aW9uRHVyYXRpb24mJihxLnJlY2FsY3VsYXRlVGltaW5nU3R5bGVzPXEucmVjYWxjdWxhdGVUaW1pbmdTdHlsZXN8fGthKTtRPTFFMypFO1Q9MUUzKk07aC5za2lwQmxvY2tpbmd8fAoocS5ibG9ja1RyYW5zaXRpb249MDx6LnRyYW5zaXRpb25EdXJhdGlvbixxLmJsb2NrS2V5ZnJhbWVBbmltYXRpb249MDx6LmFuaW1hdGlvbkR1cmF0aW9uJiYwPFYuYW5pbWF0aW9uRGVsYXkmJjA9PT1WLmFuaW1hdGlvbkR1cmF0aW9uKTtoLmZyb20mJihoLmNsZWFudXBTdHlsZXMmJkhhKEgsbCxPYmplY3Qua2V5cyhoLmZyb20pKSxCYShhLGgpKTtxLmJsb2NrVHJhbnNpdGlvbnx8cS5ibG9ja0tleWZyYW1lQW5pbWF0aW9uP0MoTSk6aC5za2lwQmxvY2tpbmd8fHFhKGwsITEpO3JldHVybnskJHdpbGxBbmltYXRlOiEwLGVuZDpkLHN0YXJ0OmZ1bmN0aW9uKCl7aWYoIVApcmV0dXJuIE49e2VuZDpkLGNhbmNlbDpyLHJlc3VtZTpudWxsLHBhdXNlOm51bGx9LEQ9bmV3IGYoTikseShGKSxEfX19fV19XSkucHJvdmlkZXIoIiQkYW5pbWF0ZUNzc0RyaXZlciIsWyIkJGFuaW1hdGlvblByb3ZpZGVyIixmdW5jdGlvbihhKXthLmRyaXZlcnMucHVzaCgiJCRhbmltYXRlQ3NzRHJpdmVyIik7CnRoaXMuJGdldD1bIiRhbmltYXRlQ3NzIiwiJHJvb3RTY29wZSIsIiQkQW5pbWF0ZVJ1bm5lciIsIiRyb290RWxlbWVudCIsIiRzbmlmZmVyIiwiJCRqcUxpdGUiLCIkZG9jdW1lbnQiLGZ1bmN0aW9uKGEsYyxkLGUsZixMLG4pe2Z1bmN0aW9uIEooYSl7cmV0dXJuIGEucmVwbGFjZSgvXGJuZy1cUytcYi9nLCIiKX1mdW5jdGlvbiByKGEsYil7RShhKSYmKGE9YS5zcGxpdCgiICIpKTtFKGIpJiYoYj1iLnNwbGl0KCIgIikpO3JldHVybiBhLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4tMT09PWIuaW5kZXhPZihhKX0pLmpvaW4oIiAiKX1mdW5jdGlvbiB2KGMsZixlKXtmdW5jdGlvbiBrKGEpe3ZhciBiPXt9LGM9eChhKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtzKFsid2lkdGgiLCJoZWlnaHQiLCJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oYSl7dmFyIGQ9Y1thXTtzd2l0Y2goYSl7Y2FzZSAidG9wIjpkKz15LnNjcm9sbFRvcDticmVhaztjYXNlICJsZWZ0IjpkKz15LnNjcm9sbExlZnR9YlthXT0KTWF0aC5mbG9vcihkKSsicHgifSk7cmV0dXJuIGJ9ZnVuY3Rpb24gTCgpe3ZhciBjPUooZS5hdHRyKCJjbGFzcyIpfHwiIiksZD1yKGMscCksYz1yKHAsYyksZD1hKHYse3RvOmsoZSksYWRkQ2xhc3M6Im5nLWFuY2hvci1pbiAiK2QscmVtb3ZlQ2xhc3M6Im5nLWFuY2hvci1vdXQgIitjLGRlbGF5OiEwfSk7cmV0dXJuIGQuJCR3aWxsQW5pbWF0ZT9kOm51bGx9ZnVuY3Rpb24gbigpe3YucmVtb3ZlKCk7Zi5yZW1vdmVDbGFzcygibmctYW5pbWF0ZS1zaGltIik7ZS5yZW1vdmVDbGFzcygibmctYW5pbWF0ZS1zaGltIil9dmFyIHY9Ryh4KGYpLmNsb25lTm9kZSghMCkpLHA9Sih2LmF0dHIoImNsYXNzIil8fCIiKTtmLmFkZENsYXNzKCJuZy1hbmltYXRlLXNoaW0iKTtlLmFkZENsYXNzKCJuZy1hbmltYXRlLXNoaW0iKTt2LmFkZENsYXNzKCJuZy1hbmNob3IiKTttLmFwcGVuZCh2KTt2YXIgQztjPWZ1bmN0aW9uKCl7dmFyIGM9YSh2LHthZGRDbGFzczoibmctYW5jaG9yLW91dCIsZGVsYXk6ITAsCmZyb206ayhmKX0pO3JldHVybiBjLiQkd2lsbEFuaW1hdGU/YzpudWxsfSgpO2lmKCFjJiYoQz1MKCksIUMpKXJldHVybiBuKCk7dmFyIHc9Y3x8QztyZXR1cm57c3RhcnQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7YyYmYy5lbmQoKX12YXIgYixjPXcuc3RhcnQoKTtjLmRvbmUoZnVuY3Rpb24oKXtjPW51bGw7aWYoIUMmJihDPUwoKSkpcmV0dXJuIGM9Qy5zdGFydCgpLGMuZG9uZShmdW5jdGlvbigpe2M9bnVsbDtuKCk7Yi5jb21wbGV0ZSgpfSksYztuKCk7Yi5jb21wbGV0ZSgpfSk7cmV0dXJuIGI9bmV3IGQoe2VuZDphLGNhbmNlbDphfSl9fX1mdW5jdGlvbiBEKGEsYixjLGYpe3ZhciBlPXQoYSxPKSxtPXQoYixPKSxyPVtdO3MoZixmdW5jdGlvbihhKXsoYT12KGMsYS5vdXQsYVsiaW4iXSkpJiZyLnB1c2goYSl9KTtpZihlfHxtfHwwIT09ci5sZW5ndGgpcmV0dXJue3N0YXJ0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3MoYixmdW5jdGlvbihhKXthLmVuZCgpfSl9dmFyIGI9W107CmUmJmIucHVzaChlLnN0YXJ0KCkpO20mJmIucHVzaChtLnN0YXJ0KCkpO3MocixmdW5jdGlvbihhKXtiLnB1c2goYS5zdGFydCgpKX0pO3ZhciBjPW5ldyBkKHtlbmQ6YSxjYW5jZWw6YX0pO2QuYWxsKGIsZnVuY3Rpb24oYSl7Yy5jb21wbGV0ZShhKX0pO3JldHVybiBjfX19ZnVuY3Rpb24gdChjKXt2YXIgZD1jLmVsZW1lbnQsZT1jLm9wdGlvbnN8fHt9O2Muc3RydWN0dXJhbCYmKGUuZXZlbnQ9Yy5ldmVudCxlLnN0cnVjdHVyYWw9ITAsZS5hcHBseUNsYXNzZXNFYXJseT0hMCwibGVhdmUiPT09Yy5ldmVudCYmKGUub25Eb25lPWUuZG9tT3BlcmF0aW9uKSk7ZS5wcmVwYXJhdGlvbkNsYXNzZXMmJihlLmV2ZW50PVkoZS5ldmVudCxlLnByZXBhcmF0aW9uQ2xhc3NlcykpO2M9YShkLGUpO3JldHVybiBjLiQkd2lsbEFuaW1hdGU/YzpudWxsfWlmKCFmLmFuaW1hdGlvbnMmJiFmLnRyYW5zaXRpb25zKXJldHVybiBPO3ZhciB5PW5bMF0uYm9keTtjPXgoZSk7dmFyIG09RyhjLnBhcmVudE5vZGUmJgoxMT09PWMucGFyZW50Tm9kZS5ub2RlVHlwZXx8eS5jb250YWlucyhjKT9jOnkpO1EoTCk7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBhLmZyb20mJmEudG8/RChhLmZyb20sYS50byxhLmNsYXNzZXMsYS5hbmNob3JzKTp0KGEpfX1dfV0pLnByb3ZpZGVyKCIkJGFuaW1hdGVKcyIsWyIkYW5pbWF0ZVByb3ZpZGVyIixmdW5jdGlvbihhKXt0aGlzLiRnZXQ9WyIkaW5qZWN0b3IiLCIkJEFuaW1hdGVSdW5uZXIiLCIkJGpxTGl0ZSIsZnVuY3Rpb24oYixjLGQpe2Z1bmN0aW9uIGUoYyl7Yz1kYShjKT9jOmMuc3BsaXQoIiAiKTtmb3IodmFyIGQ9W10sZT17fSxmPTA7ZjxjLmxlbmd0aDtmKyspe3ZhciB2PWNbZl0sbj1hLiQkcmVnaXN0ZXJlZEFuaW1hdGlvbnNbdl07biYmIWVbdl0mJihkLnB1c2goYi5nZXQobikpLGVbdl09ITApfXJldHVybiBkfXZhciBmPVEoZCk7cmV0dXJuIGZ1bmN0aW9uKGEsYixkLHIpe2Z1bmN0aW9uIG4oKXtyLmRvbU9wZXJhdGlvbigpO2YoYSxyKX1mdW5jdGlvbiB4KGEsCmIsZCxlLGYpe3N3aXRjaChkKXtjYXNlICJhbmltYXRlIjpiPVtiLGUuZnJvbSxlLnRvLGZdO2JyZWFrO2Nhc2UgInNldENsYXNzIjpiPVtiLGcsRCxmXTticmVhaztjYXNlICJhZGRDbGFzcyI6Yj1bYixnLGZdO2JyZWFrO2Nhc2UgInJlbW92ZUNsYXNzIjpiPVtiLEQsZl07YnJlYWs7ZGVmYXVsdDpiPVtiLGZdfWIucHVzaChlKTtpZihhPWEuYXBwbHkoYSxiKSlpZihKYShhLnN0YXJ0KSYmKGE9YS5zdGFydCgpKSxhIGluc3RhbmNlb2YgYylhLmRvbmUoZik7ZWxzZSBpZihKYShhKSlyZXR1cm4gYTtyZXR1cm4gT31mdW5jdGlvbiB0KGEsYixkLGUsZil7dmFyIGc9W107cyhlLGZ1bmN0aW9uKGUpe3ZhciBrPWVbZl07ayYmZy5wdXNoKGZ1bmN0aW9uKCl7dmFyIGUsZixoPSExLGc9ZnVuY3Rpb24oYSl7aHx8KGg9ITAsKGZ8fE8pKGEpLGUuY29tcGxldGUoIWEpKX07ZT1uZXcgYyh7ZW5kOmZ1bmN0aW9uKCl7ZygpfSxjYW5jZWw6ZnVuY3Rpb24oKXtnKCEwKX19KTtmPXgoayxhLGIsZCwKZnVuY3Rpb24oYSl7ZyghMT09PWEpfSk7cmV0dXJuIGV9KX0pO3JldHVybiBnfWZ1bmN0aW9uIHkoYSxiLGQsZSxmKXt2YXIgZz10KGEsYixkLGUsZik7aWYoMD09PWcubGVuZ3RoKXt2YXIgayxtOyJiZWZvcmVTZXRDbGFzcyI9PT1mPyhrPXQoYSwicmVtb3ZlQ2xhc3MiLGQsZSwiYmVmb3JlUmVtb3ZlQ2xhc3MiKSxtPXQoYSwiYWRkQ2xhc3MiLGQsZSwiYmVmb3JlQWRkQ2xhc3MiKSk6InNldENsYXNzIj09PWYmJihrPXQoYSwicmVtb3ZlQ2xhc3MiLGQsZSwicmVtb3ZlQ2xhc3MiKSxtPXQoYSwiYWRkQ2xhc3MiLGQsZSwiYWRkQ2xhc3MiKSk7ayYmKGc9Zy5jb25jYXQoaykpO20mJihnPWcuY29uY2F0KG0pKX1pZigwIT09Zy5sZW5ndGgpcmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBiPVtdO2cubGVuZ3RoJiZzKGcsZnVuY3Rpb24oYSl7Yi5wdXNoKGEoKSl9KTtiLmxlbmd0aD9jLmFsbChiLGEpOmEoKTtyZXR1cm4gZnVuY3Rpb24oYSl7cyhiLGZ1bmN0aW9uKGIpe2E/Yi5jYW5jZWwoKToKYi5lbmQoKX0pfX19dmFyIG09ITE7Mz09PWFyZ3VtZW50cy5sZW5ndGgmJmVhKGQpJiYocj1kLGQ9bnVsbCk7cj1wYShyKTtkfHwoZD1hLmF0dHIoImNsYXNzIil8fCIiLHIuYWRkQ2xhc3MmJihkKz0iICIrci5hZGRDbGFzcyksci5yZW1vdmVDbGFzcyYmKGQrPSIgIityLnJlbW92ZUNsYXNzKSk7dmFyIGc9ci5hZGRDbGFzcyxEPXIucmVtb3ZlQ2xhc3MsSD1lKGQpLGssRTtpZihILmxlbmd0aCl7dmFyIEcsSTsibGVhdmUiPT1iPyhJPSJsZWF2ZSIsRz0iYWZ0ZXJMZWF2ZSIpOihJPSJiZWZvcmUiK2IuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYi5zdWJzdHIoMSksRz1iKTsiZW50ZXIiIT09YiYmIm1vdmUiIT09YiYmKGs9eShhLGIscixILEkpKTtFPXkoYSxiLHIsSCxHKX1pZihrfHxFKXt2YXIgcDtyZXR1cm57JCR3aWxsQW5pbWF0ZTohMCxlbmQ6ZnVuY3Rpb24oKXtwP3AuZW5kKCk6KG09ITAsbigpLGlhKGEscikscD1uZXcgYyxwLmNvbXBsZXRlKCEwKSk7cmV0dXJuIHB9LHN0YXJ0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihjKXttPQohMDtuKCk7aWEoYSxyKTtwLmNvbXBsZXRlKGMpfWlmKHApcmV0dXJuIHA7cD1uZXcgYzt2YXIgZCxlPVtdO2smJmUucHVzaChmdW5jdGlvbihhKXtkPWsoYSl9KTtlLmxlbmd0aD9lLnB1c2goZnVuY3Rpb24oYSl7bigpO2EoITApfSk6bigpO0UmJmUucHVzaChmdW5jdGlvbihhKXtkPUUoYSl9KTtwLnNldEhvc3Qoe2VuZDpmdW5jdGlvbigpe218fCgoZHx8Tykodm9pZCAwKSxiKHZvaWQgMCkpfSxjYW5jZWw6ZnVuY3Rpb24oKXttfHwoKGR8fE8pKCEwKSxiKCEwKSl9fSk7Yy5jaGFpbihlLGIpO3JldHVybiBwfX19fX1dfV0pLnByb3ZpZGVyKCIkJGFuaW1hdGVKc0RyaXZlciIsWyIkJGFuaW1hdGlvblByb3ZpZGVyIixmdW5jdGlvbihhKXthLmRyaXZlcnMucHVzaCgiJCRhbmltYXRlSnNEcml2ZXIiKTt0aGlzLiRnZXQ9WyIkJGFuaW1hdGVKcyIsIiQkQW5pbWF0ZVJ1bm5lciIsZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBkKGMpe3JldHVybiBhKGMuZWxlbWVudCxjLmV2ZW50LGMuY2xhc3NlcywKYy5vcHRpb25zKX1yZXR1cm4gZnVuY3Rpb24oYSl7aWYoYS5mcm9tJiZhLnRvKXt2YXIgYj1kKGEuZnJvbSksbj1kKGEudG8pO2lmKGJ8fG4pcmV0dXJue3N0YXJ0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3JldHVybiBmdW5jdGlvbigpe3MoZCxmdW5jdGlvbihhKXthLmVuZCgpfSl9fXZhciBkPVtdO2ImJmQucHVzaChiLnN0YXJ0KCkpO24mJmQucHVzaChuLnN0YXJ0KCkpO2MuYWxsKGQsZnVuY3Rpb24oYSl7ZS5jb21wbGV0ZShhKX0pO3ZhciBlPW5ldyBjKHtlbmQ6YSgpLGNhbmNlbDphKCl9KTtyZXR1cm4gZX19fWVsc2UgcmV0dXJuIGQoYSl9fV19XSl9KSh3aW5kb3csd2luZG93LmFuZ3VsYXIpOwovLyMgc291cmNlTWFwcGluZ1VSTD1hbmd1bGFyLWFuaW1hdGUubWluLmpzLm1hcAo7CmRlZmluZSgiYW5ndWxhckFuaW1hdGUiLCBbImFuZ3VsYXIiXSwgZnVuY3Rpb24oKXt9KTsKCi8qCiAgICAqIEBsaWNlbnNlCiAgICAqIEFuZ3VsYXJKUyBUb2FzdGVyCiAgICAqIFZlcnNpb246IDMuMC4wCiAgICAqCiAgICAqIENvcHlyaWdodCAyMDEzLTIwMTkgSmlyaSBLYXZ1bGFrLCBTdGFienMuCiAgICAqIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCiAgICAqIFVzZSwgcmVwcm9kdWN0aW9uLCBkaXN0cmlidXRpb24sIGFuZCBtb2RpZmljYXRpb24gb2YgdGhpcyBjb2RlIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIGFuZAogICAgKiBjb25kaXRpb25zIG9mIHRoZSBNSVQgbGljZW5zZSwgYXZhaWxhYmxlIGF0IGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwCiAgICAqCiAgICAqIEF1dGhvcnM6IEppcmkgS2F2dWxhaywgU3RhYnpzCiAgICAqIFJlbGF0ZWQgdG8gcHJvamVjdCBvZiBKb2huIFBhcGEsIEhhbnMgRmrDpGxsZW1hcmsgYW5kIE5ndXnhu4VuIFRoaeG7h24gSMO5bmcgKHRoaWVuaHVuZzE5ODkpCiovCiFmdW5jdGlvbih0LGUpeyJ1c2Ugc3RyaWN0Ijthbmd1bGFyLm1vZHVsZSgidG9hc3RlciIsW10pLmNvbnN0YW50KCJ0b2FzdGVyQ29uZmlnIix7bGltaXQ6MCwidGFwLXRvLWRpc21pc3MiOiEwLCJjbG9zZS1idXR0b24iOiExLCJjbG9zZS1odG1sIjonPGJ1dHRvbiBjbGFzcz0idG9hc3QtY2xvc2UtYnV0dG9uIiB0eXBlPSJidXR0b24iPiZ0aW1lczs8L2J1dHRvbj4nLCJuZXdlc3Qtb24tdG9wIjohMCwidGltZS1vdXQiOjVlMywiaWNvbi1jbGFzc2VzIjp7ZXJyb3I6InRvYXN0LWVycm9yIixpbmZvOiJ0b2FzdC1pbmZvIix3YWl0OiJ0b2FzdC13YWl0IixzdWNjZXNzOiJ0b2FzdC1zdWNjZXNzIix3YXJuaW5nOiJ0b2FzdC13YXJuaW5nIn0sImJvZHktb3V0cHV0LXR5cGUiOiIiLCJib2R5LXRlbXBsYXRlIjoidG9hc3RlckJvZHlUbXBsLmh0bWwiLCJpY29uLWNsYXNzIjoidG9hc3QtaW5mbyIsInBvc2l0aW9uLWNsYXNzIjoidG9hc3QtdG9wLXJpZ2h0IiwidGl0bGUtY2xhc3MiOiJ0b2FzdC10aXRsZSIsIm1lc3NhZ2UtY2xhc3MiOiJ0b2FzdC1tZXNzYWdlIiwicHJldmVudC1kdXBsaWNhdGVzIjohMSwibW91c2VvdmVyLXRpbWVyLXN0b3AiOiEwfSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKHQpe3QucHV0KCJhbmd1bGFyanMtdG9hc3Rlci90b2FzdC5odG1sIiwnPGRpdiBpZD0idG9hc3QtY29udGFpbmVyIiBuZy1jbGFzcz0iW2NvbmZpZy5wb3NpdGlvbiwgY29uZmlnLmFuaW1hdGlvbl0iPjxkaXYgbmctcmVwZWF0PSJ0b2FzdGVyIGluIHRvYXN0ZXJzIiBjbGFzcz0idG9hc3QiIG5nLWNsYXNzPSJ0b2FzdGVyLnR5cGUiIG5nLWNsaWNrPSJjbGljaygkZXZlbnQsIHRvYXN0ZXIpIiBuZy1tb3VzZW92ZXI9InN0b3BUaW1lcih0b2FzdGVyKSIgbmctbW91c2VvdXQ9InJlc3RhcnRUaW1lcih0b2FzdGVyKSI+PGRpdiBuZy1pZj0idG9hc3Rlci5zaG93Q2xvc2VCdXR0b24iIG5nLWNsaWNrPSJjbGljaygkZXZlbnQsIHRvYXN0ZXIsIHRydWUpIiBuZy1iaW5kLWh0bWw9InRvYXN0ZXIuY2xvc2VIdG1sIj48L2Rpdj48ZGl2IG5nLWNsYXNzPSJjb25maWcudGl0bGUiPnt7dG9hc3Rlci50aXRsZX19PC9kaXY+PGRpdiBuZy1jbGFzcz0iY29uZmlnLm1lc3NhZ2UiIG5nLXN3aXRjaCBvbj0idG9hc3Rlci5ib2R5T3V0cHV0VHlwZSI+PGRpdiBuZy1zd2l0Y2gtd2hlbj0iaHRtbCIgbmctYmluZC1odG1sPSJ0b2FzdGVyLmJvZHkiPjwvZGl2PjxkaXYgbmctc3dpdGNoLXdoZW49InRydXN0ZWRIdG1sIiBuZy1iaW5kLWh0bWw9InRvYXN0ZXIuaHRtbCI+PC9kaXY+PGRpdiBuZy1zd2l0Y2gtd2hlbj0idGVtcGxhdGUiPjxkaXYgbmctaW5jbHVkZT0idG9hc3Rlci5ib2R5VGVtcGxhdGUiPjwvZGl2PjwvZGl2PjxkaXYgbmctc3dpdGNoLXdoZW49InRlbXBsYXRlV2l0aERhdGEiPjxkaXYgbmctaW5jbHVkZT0idG9hc3Rlci5ib2R5VGVtcGxhdGUiPjwvZGl2PjwvZGl2PjxkaXYgbmctc3dpdGNoLXdoZW49ImRpcmVjdGl2ZSI+PGRpdiBkaXJlY3RpdmUtdGVtcGxhdGUgZGlyZWN0aXZlLW5hbWU9Int7dG9hc3Rlci5odG1sfX0iIGRpcmVjdGl2ZS1kYXRhPSJ0b2FzdGVyLmRpcmVjdGl2ZURhdGEiPjwvZGl2PjwvZGl2PjxkaXYgbmctc3dpdGNoLWRlZmF1bHQgPnt7dG9hc3Rlci5ib2R5fX08L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj4nKX1dKS5zZXJ2aWNlKCJ0b2FzdGVyIixbIiRyb290U2NvcGUiLCJ0b2FzdGVyQ29uZmlnIixmdW5jdGlvbihkLHQpe3ZhciBtPXtuZXdHdWlkOmZ1bmN0aW9uKCl7cmV0dXJuInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCIucmVwbGFjZSgvW3h5XS9nLGZ1bmN0aW9uKHQpe3ZhciBlPTE2Kk1hdGgucmFuZG9tKCl8MDtyZXR1cm4oIngiPT10P2U6MyZlfDgpLnRvU3RyaW5nKDE2KX0pfX07Zm9yKHZhciBlIGluIHRoaXMucG9wPWZ1bmN0aW9uKHQsZSxvLHMsYSxpLG4scixjLGwpe2lmKGFuZ3VsYXIuaXNPYmplY3QodCkpe3ZhciB1PXQ7dGhpcy50b2FzdD17dHlwZTp1LnR5cGUsdGl0bGU6dS50aXRsZSxib2R5OnUuYm9keSx0aW1lb3V0OnUudGltZW91dCxib2R5T3V0cHV0VHlwZTp1LmJvZHlPdXRwdXRUeXBlLGNsaWNrSGFuZGxlcjp1LmNsaWNrSGFuZGxlcixzaG93Q2xvc2VCdXR0b246dS5zaG93Q2xvc2VCdXR0b24sY2xvc2VIdG1sOnUuY2xvc2VIdG1sLHRvYXN0SWQ6dS50b2FzdElkLG9uU2hvd0NhbGxiYWNrOnUub25TaG93Q2FsbGJhY2ssb25IaWRlQ2FsbGJhY2s6dS5vbkhpZGVDYWxsYmFjayxkaXJlY3RpdmVEYXRhOnUuZGlyZWN0aXZlRGF0YSx0YXBUb0Rpc21pc3M6dS50YXBUb0Rpc21pc3N9LG49dS50b2FzdGVySWR9ZWxzZSB0aGlzLnRvYXN0PXt0eXBlOnQsdGl0bGU6ZSxib2R5Om8sdGltZW91dDpzLGJvZHlPdXRwdXRUeXBlOmEsY2xpY2tIYW5kbGVyOmksc2hvd0Nsb3NlQnV0dG9uOnIsdG9hc3RJZDpjLG9uSGlkZUNhbGxiYWNrOmx9O3JldHVybiB0aGlzLnRvYXN0LnRvYXN0SWQmJnRoaXMudG9hc3QudG9hc3RJZC5sZW5ndGh8fCh0aGlzLnRvYXN0LnRvYXN0SWQ9bS5uZXdHdWlkKCkpLGQuJGVtaXQoInRvYXN0ZXItbmV3VG9hc3QiLG4sdGhpcy50b2FzdC50b2FzdElkKSx7dG9hc3RlcklkOm4sdG9hc3RJZDp0aGlzLnRvYXN0LnRvYXN0SWR9fSx0aGlzLmNsZWFyPWZ1bmN0aW9uKHQsZSl7YW5ndWxhci5pc09iamVjdCh0KT9kLiRlbWl0KCJ0b2FzdGVyLWNsZWFyVG9hc3RzIix0LnRvYXN0ZXJJZCx0LnRvYXN0SWQpOmQuJGVtaXQoInRvYXN0ZXItY2xlYXJUb2FzdHMiLHQsZSl9LHRbImljb24tY2xhc3NlcyJdKXRoaXNbZV09byhlKTtmdW5jdGlvbiBvKGwpe3JldHVybiBmdW5jdGlvbih0LGUsbyxzLGEsaSxuLHIsYyl7cmV0dXJuIGFuZ3VsYXIuaXNTdHJpbmcodCk/dGhpcy5wb3AobCx0LGUsbyxzLGEsaSxuLHIsYyk6dGhpcy5wb3AoYW5ndWxhci5leHRlbmQodCx7dHlwZTpsfSkpfX19XSkuZmFjdG9yeSgidG9hc3RlckV2ZW50UmVnaXN0cnkiLFsiJHJvb3RTY29wZSIsZnVuY3Rpb24odCl7dmFyIGUsbz1udWxsLHM9bnVsbCxpPVtdLG49W107cmV0dXJue3NldHVwOihlPXtzZXR1cDpmdW5jdGlvbigpe298fChvPXQuJG9uKCJ0b2FzdGVyLW5ld1RvYXN0IixmdW5jdGlvbih0LGUsbyl7Zm9yKHZhciBzPTAsYT1pLmxlbmd0aDtzPGE7cysrKWlbc10odCxlLG8pfSkpLHN8fChzPXQuJG9uKCJ0b2FzdGVyLWNsZWFyVG9hc3RzIixmdW5jdGlvbih0LGUsbyl7Zm9yKHZhciBzPTAsYT1uLmxlbmd0aDtzPGE7cysrKW5bc10odCxlLG8pfSkpfSxzdWJzY3JpYmVUb05ld1RvYXN0RXZlbnQ6ZnVuY3Rpb24odCl7aS5wdXNoKHQpfSxzdWJzY3JpYmVUb0NsZWFyVG9hc3RzRXZlbnQ6ZnVuY3Rpb24odCl7bi5wdXNoKHQpfSx1bnN1YnNjcmliZVRvTmV3VG9hc3RFdmVudDpmdW5jdGlvbih0KXt2YXIgZT1pLmluZGV4T2YodCk7MDw9ZSYmaS5zcGxpY2UoZSwxKSwwPT09aS5sZW5ndGgmJihvKCksbz1udWxsKX0sdW5zdWJzY3JpYmVUb0NsZWFyVG9hc3RzRXZlbnQ6ZnVuY3Rpb24odCl7dmFyIGU9bi5pbmRleE9mKHQpOzA8PWUmJm4uc3BsaWNlKGUsMSksMD09PW4ubGVuZ3RoJiYocygpLHM9bnVsbCl9fSkuc2V0dXAsc3Vic2NyaWJlVG9OZXdUb2FzdEV2ZW50OmUuc3Vic2NyaWJlVG9OZXdUb2FzdEV2ZW50LHN1YnNjcmliZVRvQ2xlYXJUb2FzdHNFdmVudDplLnN1YnNjcmliZVRvQ2xlYXJUb2FzdHNFdmVudCx1bnN1YnNjcmliZVRvTmV3VG9hc3RFdmVudDplLnVuc3Vic2NyaWJlVG9OZXdUb2FzdEV2ZW50LHVuc3Vic2NyaWJlVG9DbGVhclRvYXN0c0V2ZW50OmUudW5zdWJzY3JpYmVUb0NsZWFyVG9hc3RzRXZlbnR9fV0pLmRpcmVjdGl2ZSgiZGlyZWN0aXZlVGVtcGxhdGUiLFsiJGNvbXBpbGUiLCIkaW5qZWN0b3IiLGZ1bmN0aW9uKHIsYyl7cmV0dXJue3Jlc3RyaWN0OiJBIixzY29wZTp7ZGlyZWN0aXZlTmFtZToiQGRpcmVjdGl2ZU5hbWUiLGRpcmVjdGl2ZURhdGE6Ij1kaXJlY3RpdmVEYXRhIn0scmVwbGFjZTohMCxsaW5rOmZ1bmN0aW9uKGEsaSxuKXthLiR3YXRjaCgiZGlyZWN0aXZlTmFtZSIsZnVuY3Rpb24oZSl7aWYoYW5ndWxhci5pc1VuZGVmaW5lZChlKXx8ZS5sZW5ndGg8PTApdGhyb3cgbmV3IEVycm9yKCJBIHZhbGlkIGRpcmVjdGl2ZSBuYW1lIG11c3QgYmUgcHJvdmlkZWQgdmlhIHRoZSB0b2FzdCBib2R5IGFyZ3VtZW50IHdoZW4gdXNpbmcgYm9keU91dHB1dFR5cGU6IGRpcmVjdGl2ZSIpO3ZhciB0O3RyeXt0PWMuZ2V0KG4uJG5vcm1hbGl6ZShlKSsiRGlyZWN0aXZlIil9Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKGUrIiBjb3VsZCBub3QgYmUgZm91bmQuIFRoZSBuYW1lIHNob3VsZCBhcHBlYXIgYXMgaXQgZXhpc3RzIGluIHRoZSBtYXJrdXAsIG5vdCBjYW1lbENhc2VkIGFzIGl0IHdvdWxkIGFwcGVhciBpbiB0aGUgZGlyZWN0aXZlIGRlY2xhcmF0aW9uLCBlLmcuIGRpcmVjdGl2ZS1uYW1lIG5vdCBkaXJlY3RpdmVOYW1lLiIpfXZhciBvPXRbMF07aWYoITAhPT1vLnNjb3BlJiZvLnNjb3BlKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IHVzZSBhIGRpcmVjdGl2ZSB3aXRoIGFuIGlzb2xhdGVkIHNjb3BlLiBUaGUgc2NvcGUgbXVzdCBiZSBlaXRoZXIgdHJ1ZSBvciBmYWxzeSAoZS5nLiBmYWxzZS9udWxsL3VuZGVmaW5lZCkuIE9jY3VycmVkIGZvciBkaXJlY3RpdmUgIitlKyIuIik7aWYoby5yZXN0cmljdC5pbmRleE9mKCJBIik8MCl0aHJvdyBuZXcgRXJyb3IoJ0RpcmVjdGl2ZXMgbXVzdCBiZSB1c2FibGUgYXMgYXR0cmlidXRlcy4gQWRkICJBIiB0byB0aGUgcmVzdHJpY3Qgb3B0aW9uIChvciByZW1vdmUgdGhlIG9wdGlvbiBlbnRpcmVseSkuIE9jY3VycmVkIGZvciBkaXJlY3RpdmUgJytlKyIuIik7YS5kaXJlY3RpdmVEYXRhJiYoYS5kaXJlY3RpdmVEYXRhPWFuZ3VsYXIuZnJvbUpzb24oYS5kaXJlY3RpdmVEYXRhKSk7dmFyIHM9cigiPGRpdiAiK2UrIj48L2Rpdj4iKShhKTtpLmFwcGVuZChzKX0pfX19XSkuZGlyZWN0aXZlKCJ0b2FzdGVyQ29udGFpbmVyIixbIiRwYXJzZSIsIiRyb290U2NvcGUiLCIkaW50ZXJ2YWwiLCIkc2NlIiwidG9hc3RlckNvbmZpZyIsInRvYXN0ZXIiLCJ0b2FzdGVyRXZlbnRSZWdpc3RyeSIsZnVuY3Rpb24oZCx0LGksbSxvLGEsbil7cmV0dXJue3JlcGxhY2U6ITAscmVzdHJpY3Q6IkVBIixzY29wZTohMCxsaW5rOmZ1bmN0aW9uKGMsdCxlKXt2YXIgbDtmdW5jdGlvbiB1KHQpe3ZhciBlPWMudG9hc3RlcnNbdF07ZS50aW1lb3V0UHJvbWlzZSYmaS5jYW5jZWwoZS50aW1lb3V0UHJvbWlzZSksYy50b2FzdGVycy5zcGxpY2UodCwxKSxhbmd1bGFyLmlzRnVuY3Rpb24oZS5vbkhpZGVDYWxsYmFjaykmJmUub25IaWRlQ2FsbGJhY2soZSl9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gYW5ndWxhci5pc1VuZGVmaW5lZCh0KXx8bnVsbD09PXR9bD1hbmd1bGFyLmV4dGVuZCh7fSxvLGMuJGV2YWwoZS50b2FzdGVyT3B0aW9ucykpLGMuY29uZmlnPXt0b2FzdGVySWQ6bFsidG9hc3Rlci1pZCJdLHBvc2l0aW9uOmxbInBvc2l0aW9uLWNsYXNzIl0sdGl0bGU6bFsidGl0bGUtY2xhc3MiXSxtZXNzYWdlOmxbIm1lc3NhZ2UtY2xhc3MiXSx0YXA6bFsidGFwLXRvLWRpc21pc3MiXSxjbG9zZUJ1dHRvbjpsWyJjbG9zZS1idXR0b24iXSxjbG9zZUh0bWw6bFsiY2xvc2UtaHRtbCJdLGFuaW1hdGlvbjpsWyJhbmltYXRpb24tY2xhc3MiXSxtb3VzZW92ZXJUaW1lcjpsWyJtb3VzZW92ZXItdGltZXItc3RvcCJdfSxjLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7bi51bnN1YnNjcmliZVRvTmV3VG9hc3RFdmVudChjLl9vbk5ld1RvYXN0KSxuLnVuc3Vic2NyaWJlVG9DbGVhclRvYXN0c0V2ZW50KGMuX29uQ2xlYXJUb2FzdHMpfSksYy5jb25maWd1cmVUaW1lcj1mdW5jdGlvbih0KXt2YXIgZSxvLHM9YW5ndWxhci5pc051bWJlcih0LnRpbWVvdXQpP3QudGltZW91dDpsWyJ0aW1lLW91dCJdOyJvYmplY3QiPT10eXBlb2YgcyYmKHM9c1t0LnR5cGVdKSwwPHMmJihvPXMsKGU9dCkudGltZW91dFByb21pc2U9aShmdW5jdGlvbigpe2MucmVtb3ZlVG9hc3QoZS50b2FzdElkKX0sbywxKSl9LGMucmVtb3ZlVG9hc3Q9ZnVuY3Rpb24odCl7dmFyIGUsbztmb3IoZT0wLG89Yy50b2FzdGVycy5sZW5ndGg7ZTxvO2UrKylpZihjLnRvYXN0ZXJzW2VdLnRvYXN0SWQ9PT10KXt1KGUpO2JyZWFrfX0sYy50b2FzdGVycz1bXSxjLl9vbk5ld1RvYXN0PWZ1bmN0aW9uKHQsZSxvKXsocyhjLmNvbmZpZy50b2FzdGVySWQpJiZzKGUpfHwhcyhjLmNvbmZpZy50b2FzdGVySWQpJiYhcyhlKSYmYy5jb25maWcudG9hc3RlcklkPT1lKSYmZnVuY3Rpb24odCxlKXtpZih0LnR5cGU9bFsiaWNvbi1jbGFzc2VzIl1bdC50eXBlXSx0LnR5cGV8fCh0LnR5cGU9bFsiaWNvbi1jbGFzcyJdKSwhMD09PWxbInByZXZlbnQtZHVwbGljYXRlcyJdJiZjLnRvYXN0ZXJzLmxlbmd0aCl7aWYoYy50b2FzdGVyc1tjLnRvYXN0ZXJzLmxlbmd0aC0xXS5ib2R5PT09dC5ib2R5KXJldHVybjt2YXIgbyxzLGE9ITE7Zm9yKG89MCxzPWMudG9hc3RlcnMubGVuZ3RoO288cztvKyspaWYoYy50b2FzdGVyc1tvXS50b2FzdElkPT09ZSl7YT0hMDticmVha31pZihhKXJldHVybn12YXIgaT1sWyJjbG9zZS1idXR0b24iXTtpZigiYm9vbGVhbiI9PXR5cGVvZiB0LnNob3dDbG9zZUJ1dHRvbik7ZWxzZSBpZigiYm9vbGVhbiI9PXR5cGVvZiBpKXQuc2hvd0Nsb3NlQnV0dG9uPWk7ZWxzZSBpZigib2JqZWN0Ij09dHlwZW9mIGkpe3ZhciBuPWlbdC50eXBlXTtudWxsIT1uJiYodC5zaG93Q2xvc2VCdXR0b249bil9ZWxzZSB0LnNob3dDbG9zZUJ1dHRvbj0hMTtzd2l0Y2godC5zaG93Q2xvc2VCdXR0b24mJih0LmNsb3NlSHRtbD1tLnRydXN0QXNIdG1sKHQuY2xvc2VIdG1sfHxjLmNvbmZpZy5jbG9zZUh0bWwpKSx0LmJvZHlPdXRwdXRUeXBlPXQuYm9keU91dHB1dFR5cGV8fGxbImJvZHktb3V0cHV0LXR5cGUiXSx0LmJvZHlPdXRwdXRUeXBlKXtjYXNlInRydXN0ZWRIdG1sIjp0Lmh0bWw9bS50cnVzdEFzSHRtbCh0LmJvZHkpO2JyZWFrO2Nhc2UidGVtcGxhdGUiOnQuYm9keVRlbXBsYXRlPXQuYm9keXx8bFsiYm9keS10ZW1wbGF0ZSJdO2JyZWFrO2Nhc2UidGVtcGxhdGVXaXRoRGF0YSI6dmFyIHI9ZCh0LmJvZHl8fGxbImJvZHktdGVtcGxhdGUiXSkoYyk7dC5ib2R5VGVtcGxhdGU9ci50ZW1wbGF0ZSx0LmRhdGE9ci5kYXRhO2JyZWFrO2Nhc2UiZGlyZWN0aXZlIjp0Lmh0bWw9dC5ib2R5fWMuY29uZmlndXJlVGltZXIodCksITA9PT1sWyJuZXdlc3Qtb24tdG9wIl0/KGMudG9hc3RlcnMudW5zaGlmdCh0KSwwPGwubGltaXQmJmMudG9hc3RlcnMubGVuZ3RoPmwubGltaXQmJnUoYy50b2FzdGVycy5sZW5ndGgtMSkpOihjLnRvYXN0ZXJzLnB1c2godCksMDxsLmxpbWl0JiZjLnRvYXN0ZXJzLmxlbmd0aD5sLmxpbWl0JiZ1KDApKSxhbmd1bGFyLmlzRnVuY3Rpb24odC5vblNob3dDYWxsYmFjaykmJnQub25TaG93Q2FsbGJhY2sodCl9KGEudG9hc3Qsbyl9LGMuX29uQ2xlYXJUb2FzdHM9ZnVuY3Rpb24odCxlLG8peygiKiI9PWV8fHMoYy5jb25maWcudG9hc3RlcklkKSYmcyhlKXx8IXMoYy5jb25maWcudG9hc3RlcklkKSYmIXMoZSkmJmMuY29uZmlnLnRvYXN0ZXJJZD09ZSkmJmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1jLnRvYXN0ZXJzLmxlbmd0aC0xOzA8PWU7ZS0tKXModCk/dShlKTpjLnRvYXN0ZXJzW2VdLnRvYXN0SWQ9PXQmJnUoZSl9KG8pfSxuLnNldHVwKCksbi5zdWJzY3JpYmVUb05ld1RvYXN0RXZlbnQoYy5fb25OZXdUb2FzdCksbi5zdWJzY3JpYmVUb0NsZWFyVG9hc3RzRXZlbnQoYy5fb25DbGVhclRvYXN0cyl9LGNvbnRyb2xsZXI6WyIkc2NvcGUiLCIkZWxlbWVudCIsIiRhdHRycyIsZnVuY3Rpb24oYSx0LGUpe2Euc3RvcFRpbWVyPWZ1bmN0aW9uKHQpeyEwPT09YS5jb25maWcubW91c2VvdmVyVGltZXImJnQudGltZW91dFByb21pc2UmJihpLmNhbmNlbCh0LnRpbWVvdXRQcm9taXNlKSx0LnRpbWVvdXRQcm9taXNlPW51bGwpfSxhLnJlc3RhcnRUaW1lcj1mdW5jdGlvbih0KXshMD09PWEuY29uZmlnLm1vdXNlb3ZlclRpbWVyP3QudGltZW91dFByb21pc2V8fGEuY29uZmlndXJlVGltZXIodCk6bnVsbD09PXQudGltZW91dFByb21pc2UmJmEucmVtb3ZlVG9hc3QodC50b2FzdElkKX0sYS5jbGljaz1mdW5jdGlvbih0LGUsbyl7aWYodC5zdG9wUHJvcGFnYXRpb24oKSwhMD09PSgiYm9vbGVhbiI9PXR5cGVvZiBlLnRhcFRvRGlzbWlzcz9lLnRhcFRvRGlzbWlzczphLmNvbmZpZy50YXApfHwhMD09PWUuc2hvd0Nsb3NlQnV0dG9uJiYhMD09PW8pe3ZhciBzPSEwO2UuY2xpY2tIYW5kbGVyJiYoYW5ndWxhci5pc0Z1bmN0aW9uKGUuY2xpY2tIYW5kbGVyKT9zPWUuY2xpY2tIYW5kbGVyKGUsbyk6YW5ndWxhci5pc0Z1bmN0aW9uKGEuJHBhcmVudC4kZXZhbChlLmNsaWNrSGFuZGxlcikpP3M9YS4kcGFyZW50LiRldmFsKGUuY2xpY2tIYW5kbGVyKShlLG8pOmNvbnNvbGUubG9nKCJUT0FTVC1OT1RFOiBZb3VyIGNsaWNrIGhhbmRsZXIgaXMgbm90IGluc2lkZSBhIHBhcmVudCBzY29wZSBvZiB0b2FzdGVyLWNvbnRhaW5lci4iKSkscyYmYS5yZW1vdmVUb2FzdChlLnRvYXN0SWQpfX19XSx0ZW1wbGF0ZVVybDoiYW5ndWxhcmpzLXRvYXN0ZXIvdG9hc3QuaHRtbCJ9fV0pfSh3aW5kb3csZG9jdW1lbnQpOwpkZWZpbmUoInRvYXN0ZXIiLCBbImFuZ3VsYXIiLCJhbmd1bGFyQW5pbWF0ZSJdLCBmdW5jdGlvbigpe30pOwoKCgovKioKICogQSBkaXJlY3RpdmUgZm9yIGFkZGluZyBnb29nbGUgcGxhY2VzIGF1dG9jb21wbGV0ZSB0byBhIHRleHQgYm94CiAqIGdvb2dsZSBwbGFjZXMgYXV0b2NvbXBsZXRlIGluZm86IGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL21hcHMvZG9jdW1lbnRhdGlvbi9qYXZhc2NyaXB0L3BsYWNlcwogKgogKiBVc2FnZToKICoKICogPGlucHV0IHR5cGU9InRleHQiICBuZy1hdXRvY29tcGxldGUgbmctbW9kZWw9ImF1dG9jb21wbGV0ZSIgb3B0aW9ucz0ib3B0aW9ucyIgZGV0YWlscz0iZGV0YWlscy8+CiAqCiAqICsgbmctbW9kZWwgLSBhdXRvY29tcGxldGUgdGV4dGJveCB2YWx1ZQogKgogKiArIGRldGFpbHMgLSBtb3JlIGRldGFpbGVkIGF1dG9jb21wbGV0ZSByZXN1bHQsIGluY2x1ZGVzIGFkZHJlc3MgcGFydHMsIGxhdGxuZywgZXRjLiAoT3B0aW9uYWwpCiAqCiAqICsgb3B0aW9ucyAtIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBhdXRvY29tcGxldGUgKE9wdGlvbmFsKQogKgogKiAgICAgICArIHR5cGVzOiB0eXBlLCAgICAgICAgU3RyaW5nLCB2YWx1ZXMgY2FuIGJlICdnZW9jb2RlJywgJ2VzdGFibGlzaG1lbnQnLCAnKHJlZ2lvbnMpJywgb3IgJyhjaXRpZXMpJwogKiAgICAgICArIGJvdW5kczogYm91bmRzLCAgICAgR29vZ2xlIG1hcHMgTGF0TG5nQm91bmRzIE9iamVjdCwgYmlhc2VzIHJlc3VsdHMgdG8gYm91bmRzLCBidXQgbWF5IHJldHVybiByZXN1bHRzIG91dHNpZGUgdGhlc2UgYm91bmRzCiAqICAgICAgICsgY291bnRyeTogY291bnRyeSAgICBTdHJpbmcsIElTTyAzMTY2LTEgQWxwaGEtMiBjb21wYXRpYmxlIGNvdW50cnkgY29kZS4gZXhhbXBsZXM7ICdjYScsICd1cycsICdnYicKICogICAgICAgKyB3YXRjaEVudGVyOiAgICAgICAgIEJvb2xlYW4sIHRydWU7IG9uIEVudGVyIHNlbGVjdCB0b3AgYXV0b2NvbXBsZXRlIHJlc3VsdC4gZmFsc2UoZGVmYXVsdCk7IGVudGVyIGVuZHMgYXV0b2NvbXBsZXRlCiAqCiAqIGV4YW1wbGU6CiAqCiAqICAgIG9wdGlvbnMgPSB7CiAqICAgICAgICB0eXBlczogJyhjaXRpZXMpJywKICogICAgICAgIGNvdW50cnk6ICdjYScKICogICAgfQoqKi8KCmFuZ3VsYXIubW9kdWxlKCAibmdBdXRvY29tcGxldGUiLCBbXSkKICAuZGlyZWN0aXZlKCduZ0F1dG9jb21wbGV0ZScsIGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLAogICAgICBzY29wZTogewogICAgICAgIG5nTW9kZWw6ICc9JywKICAgICAgICBvcHRpb25zOiAnPT8nLAogICAgICAgIGRldGFpbHM6ICc9PycKICAgICAgfSwKCiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY29udHJvbGxlcikgewoKICAgICAgICAvL29wdGlvbnMgZm9yIGF1dG9jb21wbGV0ZQogICAgICAgIHZhciBvcHRzCiAgICAgICAgdmFyIHdhdGNoRW50ZXIgPSBmYWxzZQogICAgICAgIC8vY29udmVydCBvcHRpb25zIHByb3ZpZGVkIHRvIG9wdHMKICAgICAgICB2YXIgaW5pdE9wdHMgPSBmdW5jdGlvbigpIHsKCiAgICAgICAgICBvcHRzID0ge30KICAgICAgICAgIGlmIChzY29wZS5vcHRpb25zKSB7CgogICAgICAgICAgICBpZiAoc2NvcGUub3B0aW9ucy53YXRjaEVudGVyICE9PSB0cnVlKSB7CiAgICAgICAgICAgICAgd2F0Y2hFbnRlciA9IGZhbHNlCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgd2F0Y2hFbnRlciA9IHRydWUKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHNjb3BlLm9wdGlvbnMudHlwZXMpIHsKICAgICAgICAgICAgICBvcHRzLnR5cGVzID0gW10KICAgICAgICAgICAgICBvcHRzLnR5cGVzLnB1c2goc2NvcGUub3B0aW9ucy50eXBlcykKICAgICAgICAgICAgICBzY29wZS5nUGxhY2Uuc2V0VHlwZXMob3B0cy50eXBlcykKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBzY29wZS5nUGxhY2Uuc2V0VHlwZXMoW10pCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChzY29wZS5vcHRpb25zLmJvdW5kcykgewogICAgICAgICAgICAgIG9wdHMuYm91bmRzID0gc2NvcGUub3B0aW9ucy5ib3VuZHMKICAgICAgICAgICAgICBzY29wZS5nUGxhY2Uuc2V0Qm91bmRzKG9wdHMuYm91bmRzKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHNjb3BlLmdQbGFjZS5zZXRCb3VuZHMobnVsbCkKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHNjb3BlLm9wdGlvbnMuY291bnRyeSkgewogICAgICAgICAgICAgIG9wdHMuY29tcG9uZW50UmVzdHJpY3Rpb25zID0gewogICAgICAgICAgICAgICAgY291bnRyeTogc2NvcGUub3B0aW9ucy5jb3VudHJ5CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHNjb3BlLmdQbGFjZS5zZXRDb21wb25lbnRSZXN0cmljdGlvbnMob3B0cy5jb21wb25lbnRSZXN0cmljdGlvbnMpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgc2NvcGUuZ1BsYWNlLnNldENvbXBvbmVudFJlc3RyaWN0aW9ucyhudWxsKQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoc2NvcGUuZ1BsYWNlID09IHVuZGVmaW5lZCkgewogICAgICAgICAgc2NvcGUuZ1BsYWNlID0gbmV3IGdvb2dsZS5tYXBzLnBsYWNlcy5BdXRvY29tcGxldGUoZWxlbWVudFswXSwge30pOwogICAgICAgIH0KICAgICAgICBnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihzY29wZS5nUGxhY2UsICdwbGFjZV9jaGFuZ2VkJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICB2YXIgcmVzdWx0ID0gc2NvcGUuZ1BsYWNlLmdldFBsYWNlKCk7CiAgICAgICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgaWYgKHJlc3VsdC5hZGRyZXNzX2NvbXBvbmVudHMgIT09IHVuZGVmaW5lZCkgewoKICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7CgogICAgICAgICAgICAgICAgc2NvcGUuZGV0YWlscyA9IHJlc3VsdDsKCiAgICAgICAgICAgICAgICBjb250cm9sbGVyLiRzZXRWaWV3VmFsdWUoZWxlbWVudC52YWwoKSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgaWYgKHdhdGNoRW50ZXIpIHsKICAgICAgICAgICAgICAgIGdldFBsYWNlKHJlc3VsdCkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KQoKICAgICAgICAvL2Z1bmN0aW9uIHRvIGdldCByZXRyaWV2ZSB0aGUgYXV0b2NvbXBsZXRlcyBmaXJzdCByZXN1bHQgdXNpbmcgdGhlIEF1dG9jb21wbGV0ZVNlcnZpY2UgCiAgICAgICAgdmFyIGdldFBsYWNlID0gZnVuY3Rpb24ocmVzdWx0KSB7CiAgICAgICAgICB2YXIgYXV0b2NvbXBsZXRlU2VydmljZSA9IG5ldyBnb29nbGUubWFwcy5wbGFjZXMuQXV0b2NvbXBsZXRlU2VydmljZSgpOwogICAgICAgICAgaWYgKHJlc3VsdC5uYW1lLmxlbmd0aCA+IDApewogICAgICAgICAgICBhdXRvY29tcGxldGVTZXJ2aWNlLmdldFBsYWNlUHJlZGljdGlvbnMoCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaW5wdXQ6IHJlc3VsdC5uYW1lLAogICAgICAgICAgICAgICAgb2Zmc2V0OiByZXN1bHQubmFtZS5sZW5ndGgKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGZ1bmN0aW9uIGxpc3RlbnRvcmVzdWx0KGxpc3QsIHN0YXR1cykgewogICAgICAgICAgICAgICAgaWYobGlzdCA9PSBudWxsIHx8IGxpc3QubGVuZ3RoID09IDApIHsKCiAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBzY29wZS5kZXRhaWxzID0gbnVsbDsKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgdmFyIHBsYWNlc1NlcnZpY2UgPSBuZXcgZ29vZ2xlLm1hcHMucGxhY2VzLlBsYWNlc1NlcnZpY2UoZWxlbWVudFswXSk7CiAgICAgICAgICAgICAgICAgIHBsYWNlc1NlcnZpY2UuZ2V0RGV0YWlscygKICAgICAgICAgICAgICAgICAgICB7J3JlZmVyZW5jZSc6IGxpc3RbMF0ucmVmZXJlbmNlfSwKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBkZXRhaWxzcmVzdWx0KGRldGFpbHNSZXN1bHQsIHBsYWNlc1NlcnZpY2VTdGF0dXMpIHsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAocGxhY2VzU2VydmljZVN0YXR1cyA9PSBnb29nbGUubWFwcy5HZW9jb2RlclN0YXR1cy5PSykgewogICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuJHNldFZpZXdWYWx1ZShkZXRhaWxzUmVzdWx0LmZvcm1hdHRlZF9hZGRyZXNzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnZhbChkZXRhaWxzUmVzdWx0LmZvcm1hdHRlZF9hZGRyZXNzKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZGV0YWlscyA9IGRldGFpbHNSZXN1bHQ7CgogICAgICAgICAgICAgICAgICAgICAgICAgIC8vb24gZm9jdXNvdXQgdGhlIHZhbHVlIHJldmVydHMsIG5lZWQgdG8gc2V0IGl0IGFnYWluLgogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3YXRjaEZvY3VzT3V0ID0gZWxlbWVudC5vbignZm9jdXNvdXQnLCBmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC52YWwoZGV0YWlsc1Jlc3VsdC5mb3JtYXR0ZWRfYWRkcmVzcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnVuYmluZCgnZm9jdXNvdXQnKQogICAgICAgICAgICAgICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBjb250cm9sbGVyLiRyZW5kZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgbG9jYXRpb24gPSBjb250cm9sbGVyLiR2aWV3VmFsdWU7CiAgICAgICAgICBlbGVtZW50LnZhbChsb2NhdGlvbik7CiAgICAgICAgfTsKCiAgICAgICAgLy93YXRjaCBvcHRpb25zIHByb3ZpZGVkIHRvIGRpcmVjdGl2ZQogICAgICAgIHNjb3BlLndhdGNoT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBzY29wZS5vcHRpb25zCiAgICAgICAgfTsKICAgICAgICBzY29wZS4kd2F0Y2goc2NvcGUud2F0Y2hPcHRpb25zLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpbml0T3B0cygpCiAgICAgICAgfSwgdHJ1ZSk7CgogICAgICB9CiAgICB9OwogIH0pOwpkZWZpbmUoImFuZ3VsYXJBdXRvY29tcGxldGUiLCBbImFuZ3VsYXIiXSwgZnVuY3Rpb24oKXt9KTsKCi8qCiAqIGFuZ3VsYXItdWktYm9vdHN0cmFwCiAqIGh0dHA6Ly9hbmd1bGFyLXVpLmdpdGh1Yi5pby9ib290c3RyYXAvCgogKiBWZXJzaW9uOiAwLjE0LjMgLSAyMDE1LTEwLTIzCiAqIExpY2Vuc2U6IE1JVAogKi8KYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcCIsWyJ1aS5ib290c3RyYXAudHBscyIsInVpLmJvb3RzdHJhcC5jb2xsYXBzZSIsInVpLmJvb3RzdHJhcC5hY2NvcmRpb24iLCJ1aS5ib290c3RyYXAuYWxlcnQiLCJ1aS5ib290c3RyYXAuYnV0dG9ucyIsInVpLmJvb3RzdHJhcC5jYXJvdXNlbCIsInVpLmJvb3RzdHJhcC5kYXRlcGFyc2VyIiwidWkuYm9vdHN0cmFwLnBvc2l0aW9uIiwidWkuYm9vdHN0cmFwLmRhdGVwaWNrZXIiLCJ1aS5ib290c3RyYXAuZHJvcGRvd24iLCJ1aS5ib290c3RyYXAuc3RhY2tlZE1hcCIsInVpLmJvb3RzdHJhcC5tb2RhbCIsInVpLmJvb3RzdHJhcC5wYWdpbmF0aW9uIiwidWkuYm9vdHN0cmFwLnRvb2x0aXAiLCJ1aS5ib290c3RyYXAucG9wb3ZlciIsInVpLmJvb3RzdHJhcC5wcm9ncmVzc2JhciIsInVpLmJvb3RzdHJhcC5yYXRpbmciLCJ1aS5ib290c3RyYXAudGFicyIsInVpLmJvb3RzdHJhcC50aW1lcGlja2VyIiwidWkuYm9vdHN0cmFwLnR5cGVhaGVhZCJdKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnRwbHMiLFsidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi1ncm91cC5odG1sIiwidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sIiwidGVtcGxhdGUvYWxlcnQvYWxlcnQuaHRtbCIsInRlbXBsYXRlL2Nhcm91c2VsL2Nhcm91c2VsLmh0bWwiLCJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sIiwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWwiLCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sIiwidGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sIiwidGVtcGxhdGUvZGF0ZXBpY2tlci9wb3B1cC5odG1sIiwidGVtcGxhdGUvZGF0ZXBpY2tlci95ZWFyLmh0bWwiLCJ0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sIiwidGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWwiLCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWwiLCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbCIsInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXBvcHVwLmh0bWwiLCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbCIsInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC10ZW1wbGF0ZS1wb3B1cC5odG1sIiwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLWh0bWwuaHRtbCIsInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci10ZW1wbGF0ZS5odG1sIiwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWwiLCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbCIsInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWwiLCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sIiwidGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sIiwidGVtcGxhdGUvdGFicy90YWIuaHRtbCIsInRlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWwiLCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbCIsInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbCIsInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbCJdKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmNvbGxhcHNlIixbXSkuZGlyZWN0aXZlKCJ1aWJDb2xsYXBzZSIsWyIkYW5pbWF0ZSIsIiRpbmplY3RvciIsZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmhhcygiJGFuaW1hdGVDc3MiKT9iLmdldCgiJGFuaW1hdGVDc3MiKTpudWxsO3JldHVybntsaW5rOmZ1bmN0aW9uKGIsZCxlKXtmdW5jdGlvbiBmKCl7ZC5yZW1vdmVDbGFzcygiY29sbGFwc2UiKS5hZGRDbGFzcygiY29sbGFwc2luZyIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCEwKS5hdHRyKCJhcmlhLWhpZGRlbiIsITEpLGM/YyhkLHthZGRDbGFzczoiaW4iLGVhc2luZzoiZWFzZSIsdG86e2hlaWdodDpkWzBdLnNjcm9sbEhlaWdodCsicHgifX0pLnN0YXJ0KClbImZpbmFsbHkiXShnKTphLmFkZENsYXNzKGQsImluIix7dG86e2hlaWdodDpkWzBdLnNjcm9sbEhlaWdodCsicHgifX0pLnRoZW4oZyl9ZnVuY3Rpb24gZygpe2QucmVtb3ZlQ2xhc3MoImNvbGxhcHNpbmciKS5hZGRDbGFzcygiY29sbGFwc2UiKS5jc3Moe2hlaWdodDoiYXV0byJ9KX1mdW5jdGlvbiBoKCl7cmV0dXJuIGQuaGFzQ2xhc3MoImNvbGxhcHNlIil8fGQuaGFzQ2xhc3MoImluIik/KGQuY3NzKHtoZWlnaHQ6ZFswXS5zY3JvbGxIZWlnaHQrInB4In0pLnJlbW92ZUNsYXNzKCJjb2xsYXBzZSIpLmFkZENsYXNzKCJjb2xsYXBzaW5nIikuYXR0cigiYXJpYS1leHBhbmRlZCIsITEpLmF0dHIoImFyaWEtaGlkZGVuIiwhMCksdm9pZChjP2MoZCx7cmVtb3ZlQ2xhc3M6ImluIix0bzp7aGVpZ2h0OiIwIn19KS5zdGFydCgpWyJmaW5hbGx5Il0oaSk6YS5yZW1vdmVDbGFzcyhkLCJpbiIse3RvOntoZWlnaHQ6IjAifX0pLnRoZW4oaSkpKTppKCl9ZnVuY3Rpb24gaSgpe2QuY3NzKHtoZWlnaHQ6IjAifSksZC5yZW1vdmVDbGFzcygiY29sbGFwc2luZyIpLmFkZENsYXNzKCJjb2xsYXBzZSIpfWIuJHdhdGNoKGUudWliQ29sbGFwc2UsZnVuY3Rpb24oYSl7YT9oKCk6ZigpfSl9fX1dKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmNvbGxhcHNlIikudmFsdWUoIiRjb2xsYXBzZVN1cHByZXNzV2FybmluZyIsITEpLmRpcmVjdGl2ZSgiY29sbGFwc2UiLFsiJGFuaW1hdGUiLCIkaW5qZWN0b3IiLCIkbG9nIiwiJGNvbGxhcHNlU3VwcHJlc3NXYXJuaW5nIixmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1iLmhhcygiJGFuaW1hdGVDc3MiKT9iLmdldCgiJGFuaW1hdGVDc3MiKTpudWxsO3JldHVybntsaW5rOmZ1bmN0aW9uKGIsZixnKXtmdW5jdGlvbiBoKCl7Zi5yZW1vdmVDbGFzcygiY29sbGFwc2UiKS5hZGRDbGFzcygiY29sbGFwc2luZyIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCEwKS5hdHRyKCJhcmlhLWhpZGRlbiIsITEpLGU/ZShmLHtlYXNpbmc6ImVhc2UiLHRvOntoZWlnaHQ6ZlswXS5zY3JvbGxIZWlnaHQrInB4In19KS5zdGFydCgpLmRvbmUoaSk6YS5hbmltYXRlKGYse30se2hlaWdodDpmWzBdLnNjcm9sbEhlaWdodCsicHgifSkudGhlbihpKX1mdW5jdGlvbiBpKCl7Zi5yZW1vdmVDbGFzcygiY29sbGFwc2luZyIpLmFkZENsYXNzKCJjb2xsYXBzZSBpbiIpLmNzcyh7aGVpZ2h0OiJhdXRvIn0pfWZ1bmN0aW9uIGooKXtyZXR1cm4gZi5oYXNDbGFzcygiY29sbGFwc2UiKXx8Zi5oYXNDbGFzcygiaW4iKT8oZi5jc3Moe2hlaWdodDpmWzBdLnNjcm9sbEhlaWdodCsicHgifSkucmVtb3ZlQ2xhc3MoImNvbGxhcHNlIGluIikuYWRkQ2xhc3MoImNvbGxhcHNpbmciKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMSkuYXR0cigiYXJpYS1oaWRkZW4iLCEwKSx2b2lkKGU/ZShmLHt0bzp7aGVpZ2h0OiIwIn19KS5zdGFydCgpLmRvbmUoayk6YS5hbmltYXRlKGYse30se2hlaWdodDoiMCJ9KS50aGVuKGspKSk6aygpfWZ1bmN0aW9uIGsoKXtmLmNzcyh7aGVpZ2h0OiIwIn0pLGYucmVtb3ZlQ2xhc3MoImNvbGxhcHNpbmciKS5hZGRDbGFzcygiY29sbGFwc2UiKX1kfHxjLndhcm4oImNvbGxhcHNlIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliLWNvbGxhcHNlIGluc3RlYWQuIiksYi4kd2F0Y2goZy5jb2xsYXBzZSxmdW5jdGlvbihhKXthP2ooKTpoKCl9KX19fV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuYWNjb3JkaW9uIixbInVpLmJvb3RzdHJhcC5jb2xsYXBzZSJdKS5jb25zdGFudCgidWliQWNjb3JkaW9uQ29uZmlnIix7Y2xvc2VPdGhlcnM6ITB9KS5jb250cm9sbGVyKCJVaWJBY2NvcmRpb25Db250cm9sbGVyIixbIiRzY29wZSIsIiRhdHRycyIsInVpYkFjY29yZGlvbkNvbmZpZyIsZnVuY3Rpb24oYSxiLGMpe3RoaXMuZ3JvdXBzPVtdLHRoaXMuY2xvc2VPdGhlcnM9ZnVuY3Rpb24oZCl7dmFyIGU9YW5ndWxhci5pc0RlZmluZWQoYi5jbG9zZU90aGVycyk/YS4kZXZhbChiLmNsb3NlT3RoZXJzKTpjLmNsb3NlT3RoZXJzO2UmJmFuZ3VsYXIuZm9yRWFjaCh0aGlzLmdyb3VwcyxmdW5jdGlvbihhKXthIT09ZCYmKGEuaXNPcGVuPSExKX0pfSx0aGlzLmFkZEdyb3VwPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7dGhpcy5ncm91cHMucHVzaChhKSxhLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKGMpe2IucmVtb3ZlR3JvdXAoYSl9KX0sdGhpcy5yZW1vdmVHcm91cD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyb3Vwcy5pbmRleE9mKGEpOy0xIT09YiYmdGhpcy5ncm91cHMuc3BsaWNlKGIsMSl9fV0pLmRpcmVjdGl2ZSgidWliQWNjb3JkaW9uIixmdW5jdGlvbigpe3JldHVybntjb250cm9sbGVyOiJVaWJBY2NvcmRpb25Db250cm9sbGVyIixjb250cm9sbGVyQXM6ImFjY29yZGlvbiIsdHJhbnNjbHVkZTohMCx0ZW1wbGF0ZVVybDpmdW5jdGlvbihhLGIpe3JldHVybiBiLnRlbXBsYXRlVXJsfHwidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sIn19fSkuZGlyZWN0aXZlKCJ1aWJBY2NvcmRpb25Hcm91cCIsZnVuY3Rpb24oKXtyZXR1cm57cmVxdWlyZToiXnVpYkFjY29yZGlvbiIsdHJhbnNjbHVkZTohMCxyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudGVtcGxhdGVVcmx8fCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWwifSxzY29wZTp7aGVhZGluZzoiQCIsaXNPcGVuOiI9PyIsaXNEaXNhYmxlZDoiPT8ifSxjb250cm9sbGVyOmZ1bmN0aW9uKCl7dGhpcy5zZXRIZWFkaW5nPWZ1bmN0aW9uKGEpe3RoaXMuaGVhZGluZz1hfX0sbGluazpmdW5jdGlvbihhLGIsYyxkKXtkLmFkZEdyb3VwKGEpLGEub3BlbkNsYXNzPWMub3BlbkNsYXNzfHwicGFuZWwtb3BlbiIsYS5wYW5lbENsYXNzPWMucGFuZWxDbGFzcyxhLiR3YXRjaCgiaXNPcGVuIixmdW5jdGlvbihjKXtiLnRvZ2dsZUNsYXNzKGEub3BlbkNsYXNzLCEhYyksYyYmZC5jbG9zZU90aGVycyhhKX0pLGEudG9nZ2xlT3Blbj1mdW5jdGlvbihiKXthLmlzRGlzYWJsZWR8fGImJjMyIT09Yi53aGljaHx8KGEuaXNPcGVuPSFhLmlzT3Blbil9fX19KS5kaXJlY3RpdmUoInVpYkFjY29yZGlvbkhlYWRpbmciLGZ1bmN0aW9uKCl7cmV0dXJue3RyYW5zY2x1ZGU6ITAsdGVtcGxhdGU6IiIscmVwbGFjZTohMCxyZXF1aXJlOiJedWliQWNjb3JkaW9uR3JvdXAiLGxpbms6ZnVuY3Rpb24oYSxiLGMsZCxlKXtkLnNldEhlYWRpbmcoZShhLGFuZ3VsYXIubm9vcCkpfX19KS5kaXJlY3RpdmUoInVpYkFjY29yZGlvblRyYW5zY2x1ZGUiLGZ1bmN0aW9uKCl7cmV0dXJue3JlcXVpcmU6WyI/XnVpYkFjY29yZGlvbkdyb3VwIiwiP15hY2NvcmRpb25Hcm91cCJdLGxpbms6ZnVuY3Rpb24oYSxiLGMsZCl7ZD1kWzBdP2RbMF06ZFsxXSxhLiR3YXRjaChmdW5jdGlvbigpe3JldHVybiBkW2MudWliQWNjb3JkaW9uVHJhbnNjbHVkZV19LGZ1bmN0aW9uKGEpe2EmJihiLmZpbmQoInNwYW4iKS5odG1sKCIiKSxiLmZpbmQoInNwYW4iKS5hcHBlbmQoYSkpfSl9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuYWNjb3JkaW9uIikudmFsdWUoIiRhY2NvcmRpb25TdXBwcmVzc1dhcm5pbmciLCExKS5jb250cm9sbGVyKCJBY2NvcmRpb25Db250cm9sbGVyIixbIiRzY29wZSIsIiRhdHRycyIsIiRjb250cm9sbGVyIiwiJGxvZyIsIiRhY2NvcmRpb25TdXBwcmVzc1dhcm5pbmciLGZ1bmN0aW9uKGEsYixjLGQsZSl7ZXx8ZC53YXJuKCJBY2NvcmRpb25Db250cm9sbGVyIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgVWliQWNjb3JkaW9uQ29udHJvbGxlciBpbnN0ZWFkLiIpLGFuZ3VsYXIuZXh0ZW5kKHRoaXMsYygiVWliQWNjb3JkaW9uQ29udHJvbGxlciIseyRzY29wZTphLCRhdHRyczpifSkpfV0pLmRpcmVjdGl2ZSgiYWNjb3JkaW9uIixbIiRsb2ciLCIkYWNjb3JkaW9uU3VwcHJlc3NXYXJuaW5nIixmdW5jdGlvbihhLGIpe3JldHVybntyZXN0cmljdDoiRUEiLGNvbnRyb2xsZXI6IkFjY29yZGlvbkNvbnRyb2xsZXIiLGNvbnRyb2xsZXJBczoiYWNjb3JkaW9uIix0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITEsdGVtcGxhdGVVcmw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50ZW1wbGF0ZVVybHx8InRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbCJ9LGxpbms6ZnVuY3Rpb24oKXtifHxhLndhcm4oImFjY29yZGlvbiBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIHVpYi1hY2NvcmRpb24gaW5zdGVhZC4iKX19fV0pLmRpcmVjdGl2ZSgiYWNjb3JkaW9uR3JvdXAiLFsiJGxvZyIsIiRhY2NvcmRpb25TdXBwcmVzc1dhcm5pbmciLGZ1bmN0aW9uKGEsYil7cmV0dXJue3JlcXVpcmU6Il5hY2NvcmRpb24iLHJlc3RyaWN0OiJFQSIsdHJhbnNjbHVkZTohMCxyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudGVtcGxhdGVVcmx8fCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWwifSxzY29wZTp7aGVhZGluZzoiQCIsaXNPcGVuOiI9PyIsaXNEaXNhYmxlZDoiPT8ifSxjb250cm9sbGVyOmZ1bmN0aW9uKCl7dGhpcy5zZXRIZWFkaW5nPWZ1bmN0aW9uKGEpe3RoaXMuaGVhZGluZz1hfX0sbGluazpmdW5jdGlvbihjLGQsZSxmKXtifHxhLndhcm4oImFjY29yZGlvbi1ncm91cCBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIHVpYi1hY2NvcmRpb24tZ3JvdXAgaW5zdGVhZC4iKSxmLmFkZEdyb3VwKGMpLGMub3BlbkNsYXNzPWUub3BlbkNsYXNzfHwicGFuZWwtb3BlbiIsYy5wYW5lbENsYXNzPWUucGFuZWxDbGFzcyxjLiR3YXRjaCgiaXNPcGVuIixmdW5jdGlvbihhKXtkLnRvZ2dsZUNsYXNzKGMub3BlbkNsYXNzLCEhYSksYSYmZi5jbG9zZU90aGVycyhjKX0pLGMudG9nZ2xlT3Blbj1mdW5jdGlvbihhKXtjLmlzRGlzYWJsZWR8fGEmJjMyIT09YS53aGljaHx8KGMuaXNPcGVuPSFjLmlzT3Blbil9fX19XSkuZGlyZWN0aXZlKCJhY2NvcmRpb25IZWFkaW5nIixbIiRsb2ciLCIkYWNjb3JkaW9uU3VwcHJlc3NXYXJuaW5nIixmdW5jdGlvbihhLGIpe3JldHVybntyZXN0cmljdDoiRUEiLHRyYW5zY2x1ZGU6ITAsdGVtcGxhdGU6IiIscmVwbGFjZTohMCxyZXF1aXJlOiJeYWNjb3JkaW9uR3JvdXAiLGxpbms6ZnVuY3Rpb24oYyxkLGUsZixnKXtifHxhLndhcm4oImFjY29yZGlvbi1oZWFkaW5nIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliLWFjY29yZGlvbi1oZWFkaW5nIGluc3RlYWQuIiksZi5zZXRIZWFkaW5nKGcoYyxhbmd1bGFyLm5vb3ApKX19fV0pLmRpcmVjdGl2ZSgiYWNjb3JkaW9uVHJhbnNjbHVkZSIsWyIkbG9nIiwiJGFjY29yZGlvblN1cHByZXNzV2FybmluZyIsZnVuY3Rpb24oYSxiKXtyZXR1cm57cmVxdWlyZToiXmFjY29yZGlvbkdyb3VwIixsaW5rOmZ1bmN0aW9uKGMsZCxlLGYpe2J8fGEud2FybigiYWNjb3JkaW9uLXRyYW5zY2x1ZGUgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB1aWItYWNjb3JkaW9uLXRyYW5zY2x1ZGUgaW5zdGVhZC4iKSxjLiR3YXRjaChmdW5jdGlvbigpe3JldHVybiBmW2UuYWNjb3JkaW9uVHJhbnNjbHVkZV19LGZ1bmN0aW9uKGEpe2EmJihkLmZpbmQoInNwYW4iKS5odG1sKCIiKSxkLmZpbmQoInNwYW4iKS5hcHBlbmQoYSkpfSl9fX1dKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmFsZXJ0IixbXSkuY29udHJvbGxlcigiVWliQWxlcnRDb250cm9sbGVyIixbIiRzY29wZSIsIiRhdHRycyIsIiRpbnRlcnBvbGF0ZSIsIiR0aW1lb3V0IixmdW5jdGlvbihhLGIsYyxkKXthLmNsb3NlYWJsZT0hIWIuY2xvc2U7dmFyIGU9YW5ndWxhci5pc0RlZmluZWQoYi5kaXNtaXNzT25UaW1lb3V0KT9jKGIuZGlzbWlzc09uVGltZW91dCkoYS4kcGFyZW50KTpudWxsO2UmJmQoZnVuY3Rpb24oKXthLmNsb3NlKCl9LHBhcnNlSW50KGUsMTApKX1dKS5kaXJlY3RpdmUoInVpYkFsZXJ0IixmdW5jdGlvbigpe3JldHVybntjb250cm9sbGVyOiJVaWJBbGVydENvbnRyb2xsZXIiLGNvbnRyb2xsZXJBczoiYWxlcnQiLHRlbXBsYXRlVXJsOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudGVtcGxhdGVVcmx8fCJ0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sIn0sdHJhbnNjbHVkZTohMCxyZXBsYWNlOiEwLHNjb3BlOnt0eXBlOiJAIixjbG9zZToiJiJ9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuYWxlcnQiKS52YWx1ZSgiJGFsZXJ0U3VwcHJlc3NXYXJuaW5nIiwhMSkuY29udHJvbGxlcigiQWxlcnRDb250cm9sbGVyIixbIiRzY29wZSIsIiRhdHRycyIsIiRjb250cm9sbGVyIiwiJGxvZyIsIiRhbGVydFN1cHByZXNzV2FybmluZyIsZnVuY3Rpb24oYSxiLGMsZCxlKXtlfHxkLndhcm4oIkFsZXJ0Q29udHJvbGxlciBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIFVpYkFsZXJ0Q29udHJvbGxlciBpbnN0ZWFkLiIpLGFuZ3VsYXIuZXh0ZW5kKHRoaXMsYygiVWliQWxlcnRDb250cm9sbGVyIix7JHNjb3BlOmEsJGF0dHJzOmJ9KSl9XSkuZGlyZWN0aXZlKCJhbGVydCIsWyIkbG9nIiwiJGFsZXJ0U3VwcHJlc3NXYXJuaW5nIixmdW5jdGlvbihhLGIpe3JldHVybntjb250cm9sbGVyOiJBbGVydENvbnRyb2xsZXIiLGNvbnRyb2xsZXJBczoiYWxlcnQiLHRlbXBsYXRlVXJsOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudGVtcGxhdGVVcmx8fCJ0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sIn0sdHJhbnNjbHVkZTohMCxyZXBsYWNlOiEwLHNjb3BlOnt0eXBlOiJAIixjbG9zZToiJiJ9LGxpbms6ZnVuY3Rpb24oKXtifHxhLndhcm4oImFsZXJ0IGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliLWFsZXJ0IGluc3RlYWQuIil9fX1dKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmJ1dHRvbnMiLFtdKS5jb25zdGFudCgidWliQnV0dG9uQ29uZmlnIix7YWN0aXZlQ2xhc3M6ImFjdGl2ZSIsdG9nZ2xlRXZlbnQ6ImNsaWNrIn0pLmNvbnRyb2xsZXIoIlVpYkJ1dHRvbnNDb250cm9sbGVyIixbInVpYkJ1dHRvbkNvbmZpZyIsZnVuY3Rpb24oYSl7dGhpcy5hY3RpdmVDbGFzcz1hLmFjdGl2ZUNsYXNzfHwiYWN0aXZlIix0aGlzLnRvZ2dsZUV2ZW50PWEudG9nZ2xlRXZlbnR8fCJjbGljayJ9XSkuZGlyZWN0aXZlKCJ1aWJCdG5SYWRpbyIsZnVuY3Rpb24oKXtyZXR1cm57cmVxdWlyZTpbInVpYkJ0blJhZGlvIiwibmdNb2RlbCJdLGNvbnRyb2xsZXI6IlVpYkJ1dHRvbnNDb250cm9sbGVyIixjb250cm9sbGVyQXM6ImJ1dHRvbnMiLGxpbms6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ZFswXSxmPWRbMV07Yi5maW5kKCJpbnB1dCIpLmNzcyh7ZGlzcGxheToibm9uZSJ9KSxmLiRyZW5kZXI9ZnVuY3Rpb24oKXtiLnRvZ2dsZUNsYXNzKGUuYWN0aXZlQ2xhc3MsYW5ndWxhci5lcXVhbHMoZi4kbW9kZWxWYWx1ZSxhLiRldmFsKGMudWliQnRuUmFkaW8pKSl9LGIub24oZS50b2dnbGVFdmVudCxmdW5jdGlvbigpe2lmKCFjLmRpc2FibGVkKXt2YXIgZD1iLmhhc0NsYXNzKGUuYWN0aXZlQ2xhc3MpOyghZHx8YW5ndWxhci5pc0RlZmluZWQoYy51bmNoZWNrYWJsZSkpJiZhLiRhcHBseShmdW5jdGlvbigpe2YuJHNldFZpZXdWYWx1ZShkP251bGw6YS4kZXZhbChjLnVpYkJ0blJhZGlvKSksZi4kcmVuZGVyKCl9KX19KX19fSkuZGlyZWN0aXZlKCJ1aWJCdG5DaGVja2JveCIsZnVuY3Rpb24oKXtyZXR1cm57cmVxdWlyZTpbInVpYkJ0bkNoZWNrYm94IiwibmdNb2RlbCJdLGNvbnRyb2xsZXI6IlVpYkJ1dHRvbnNDb250cm9sbGVyIixjb250cm9sbGVyQXM6ImJ1dHRvbiIsbGluazpmdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBlKCl7cmV0dXJuIGcoYy5idG5DaGVja2JveFRydWUsITApfWZ1bmN0aW9uIGYoKXtyZXR1cm4gZyhjLmJ0bkNoZWNrYm94RmFsc2UsITEpfWZ1bmN0aW9uIGcoYixjKXtyZXR1cm4gYW5ndWxhci5pc0RlZmluZWQoYik/YS4kZXZhbChiKTpjfXZhciBoPWRbMF0saT1kWzFdO2IuZmluZCgiaW5wdXQiKS5jc3Moe2Rpc3BsYXk6Im5vbmUifSksaS4kcmVuZGVyPWZ1bmN0aW9uKCl7Yi50b2dnbGVDbGFzcyhoLmFjdGl2ZUNsYXNzLGFuZ3VsYXIuZXF1YWxzKGkuJG1vZGVsVmFsdWUsZSgpKSl9LGIub24oaC50b2dnbGVFdmVudCxmdW5jdGlvbigpe2MuZGlzYWJsZWR8fGEuJGFwcGx5KGZ1bmN0aW9uKCl7aS4kc2V0Vmlld1ZhbHVlKGIuaGFzQ2xhc3MoaC5hY3RpdmVDbGFzcyk/ZigpOmUoKSksaS4kcmVuZGVyKCl9KX0pfX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmJ1dHRvbnMiKS52YWx1ZSgiJGJ1dHRvbnNTdXBwcmVzc1dhcm5pbmciLCExKS5jb250cm9sbGVyKCJCdXR0b25zQ29udHJvbGxlciIsWyIkY29udHJvbGxlciIsIiRsb2ciLCIkYnV0dG9uc1N1cHByZXNzV2FybmluZyIsZnVuY3Rpb24oYSxiLGMpe2N8fGIud2FybigiQnV0dG9uc0NvbnRyb2xsZXIgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSBVaWJCdXR0b25zQ29udHJvbGxlciBpbnN0ZWFkLiIpLGFuZ3VsYXIuZXh0ZW5kKHRoaXMsYSgiVWliQnV0dG9uc0NvbnRyb2xsZXIiKSl9XSkuZGlyZWN0aXZlKCJidG5SYWRpbyIsWyIkbG9nIiwiJGJ1dHRvbnNTdXBwcmVzc1dhcm5pbmciLGZ1bmN0aW9uKGEsYil7cmV0dXJue3JlcXVpcmU6WyJidG5SYWRpbyIsIm5nTW9kZWwiXSxjb250cm9sbGVyOiJCdXR0b25zQ29udHJvbGxlciIsY29udHJvbGxlckFzOiJidXR0b25zIixsaW5rOmZ1bmN0aW9uKGMsZCxlLGYpe2J8fGEud2FybigiYnRuLXJhZGlvIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliLWJ0bi1yYWRpbyBpbnN0ZWFkLiIpO3ZhciBnPWZbMF0saD1mWzFdO2QuZmluZCgiaW5wdXQiKS5jc3Moe2Rpc3BsYXk6Im5vbmUifSksaC4kcmVuZGVyPWZ1bmN0aW9uKCl7ZC50b2dnbGVDbGFzcyhnLmFjdGl2ZUNsYXNzLGFuZ3VsYXIuZXF1YWxzKGguJG1vZGVsVmFsdWUsYy4kZXZhbChlLmJ0blJhZGlvKSkpfSxkLmJpbmQoZy50b2dnbGVFdmVudCxmdW5jdGlvbigpe2lmKCFlLmRpc2FibGVkKXt2YXIgYT1kLmhhc0NsYXNzKGcuYWN0aXZlQ2xhc3MpOyghYXx8YW5ndWxhci5pc0RlZmluZWQoZS51bmNoZWNrYWJsZSkpJiZjLiRhcHBseShmdW5jdGlvbigpe2guJHNldFZpZXdWYWx1ZShhP251bGw6Yy4kZXZhbChlLmJ0blJhZGlvKSksaC4kcmVuZGVyKCl9KX19KX19fV0pLmRpcmVjdGl2ZSgiYnRuQ2hlY2tib3giLFsiJGRvY3VtZW50IiwiJGxvZyIsIiRidXR0b25zU3VwcHJlc3NXYXJuaW5nIixmdW5jdGlvbihhLGIsYyl7cmV0dXJue3JlcXVpcmU6WyJidG5DaGVja2JveCIsIm5nTW9kZWwiXSxjb250cm9sbGVyOiJCdXR0b25zQ29udHJvbGxlciIsY29udHJvbGxlckFzOiJidXR0b24iLGxpbms6ZnVuY3Rpb24oZCxlLGYsZyl7ZnVuY3Rpb24gaCgpe3JldHVybiBqKGYuYnRuQ2hlY2tib3hUcnVlLCEwKX1mdW5jdGlvbiBpKCl7cmV0dXJuIGooZi5idG5DaGVja2JveEZhbHNlLCExKX1mdW5jdGlvbiBqKGEsYil7dmFyIGM9ZC4kZXZhbChhKTtyZXR1cm4gYW5ndWxhci5pc0RlZmluZWQoYyk/YzpifWN8fGIud2FybigiYnRuLWNoZWNrYm94IGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliLWJ0bi1jaGVja2JveCBpbnN0ZWFkLiIpO3ZhciBrPWdbMF0sbD1nWzFdO2UuZmluZCgiaW5wdXQiKS5jc3Moe2Rpc3BsYXk6Im5vbmUifSksbC4kcmVuZGVyPWZ1bmN0aW9uKCl7ZS50b2dnbGVDbGFzcyhrLmFjdGl2ZUNsYXNzLGFuZ3VsYXIuZXF1YWxzKGwuJG1vZGVsVmFsdWUsaCgpKSl9LGUuYmluZChrLnRvZ2dsZUV2ZW50LGZ1bmN0aW9uKCl7Zi5kaXNhYmxlZHx8ZC4kYXBwbHkoZnVuY3Rpb24oKXtsLiRzZXRWaWV3VmFsdWUoZS5oYXNDbGFzcyhrLmFjdGl2ZUNsYXNzKT9pKCk6aCgpKSxsLiRyZW5kZXIoKX0pfSksZS5vbigia2V5cHJlc3MiLGZ1bmN0aW9uKGIpe2YuZGlzYWJsZWR8fDMyIT09Yi53aGljaHx8YVswXS5hY3RpdmVFbGVtZW50IT09ZVswXXx8ZC4kYXBwbHkoZnVuY3Rpb24oKXtsLiRzZXRWaWV3VmFsdWUoZS5oYXNDbGFzcyhrLmFjdGl2ZUNsYXNzKT9pKCk6aCgpKSxsLiRyZW5kZXIoKX0pfSl9fX1dKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmNhcm91c2VsIixbXSkuY29udHJvbGxlcigiVWliQ2Fyb3VzZWxDb250cm9sbGVyIixbIiRzY29wZSIsIiRlbGVtZW50IiwiJGludGVydmFsIiwiJGFuaW1hdGUiLGZ1bmN0aW9uKGEsYixjLGQpe2Z1bmN0aW9uIGUoYixjLGUpe3N8fChhbmd1bGFyLmV4dGVuZChiLHtkaXJlY3Rpb246ZSxhY3RpdmU6ITB9KSxhbmd1bGFyLmV4dGVuZChtLmN1cnJlbnRTbGlkZXx8e30se2RpcmVjdGlvbjplLGFjdGl2ZTohMX0pLGQuZW5hYmxlZCgpJiYhYS5ub1RyYW5zaXRpb24mJiFhLiRjdXJyZW50VHJhbnNpdGlvbiYmYi4kZWxlbWVudCYmbS5zbGlkZXMubGVuZ3RoPjEmJihiLiRlbGVtZW50LmRhdGEocSxiLmRpcmVjdGlvbiksbS5jdXJyZW50U2xpZGUmJm0uY3VycmVudFNsaWRlLiRlbGVtZW50JiZtLmN1cnJlbnRTbGlkZS4kZWxlbWVudC5kYXRhKHEsYi5kaXJlY3Rpb24pLGEuJGN1cnJlbnRUcmFuc2l0aW9uPSEwLG8/ZC5vbigiYWRkQ2xhc3MiLGIuJGVsZW1lbnQsZnVuY3Rpb24oYixjKXsiY2xvc2UiPT09YyYmKGEuJGN1cnJlbnRUcmFuc2l0aW9uPW51bGwsZC5vZmYoImFkZENsYXNzIixiKSl9KTpiLiRlbGVtZW50Lm9uZSgiJGFuaW1hdGU6Y2xvc2UiLGZ1bmN0aW9uKCl7YS4kY3VycmVudFRyYW5zaXRpb249bnVsbH0pKSxtLmN1cnJlbnRTbGlkZT1iLHI9YyxnKCkpfWZ1bmN0aW9uIGYoYSl7aWYoYW5ndWxhci5pc1VuZGVmaW5lZChuW2FdLmluZGV4KSlyZXR1cm4gblthXTt2YXIgYjtuLmxlbmd0aDtmb3IoYj0wO2I8bi5sZW5ndGg7KytiKWlmKG5bYl0uaW5kZXg9PWEpcmV0dXJuIG5bYl19ZnVuY3Rpb24gZygpe2goKTt2YXIgYj0rYS5pbnRlcnZhbDshaXNOYU4oYikmJmI+MCYmKGs9YyhpLGIpKX1mdW5jdGlvbiBoKCl7ayYmKGMuY2FuY2VsKGspLGs9bnVsbCl9ZnVuY3Rpb24gaSgpe3ZhciBiPSthLmludGVydmFsO2wmJiFpc05hTihiKSYmYj4wJiZuLmxlbmd0aD9hLm5leHQoKTphLnBhdXNlKCl9ZnVuY3Rpb24gaihiKXtiLmxlbmd0aHx8KGEuJGN1cnJlbnRUcmFuc2l0aW9uPW51bGwpfXZhciBrLGwsbT10aGlzLG49bS5zbGlkZXM9YS5zbGlkZXM9W10sbz1hbmd1bGFyLnZlcnNpb24ubWlub3I+PTQscD0idWliLW5vVHJhbnNpdGlvbiIscT0idWliLXNsaWRlRGlyZWN0aW9uIixyPS0xO20uY3VycmVudFNsaWRlPW51bGw7dmFyIHM9ITE7bS5zZWxlY3Q9YS5zZWxlY3Q9ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmluZGV4T2ZTbGlkZShiKTt2b2lkIDA9PT1jJiYoYz1kPm0uZ2V0Q3VycmVudEluZGV4KCk/Im5leHQiOiJwcmV2IiksYiYmYiE9PW0uY3VycmVudFNsaWRlJiYhYS4kY3VycmVudFRyYW5zaXRpb24mJmUoYixkLGMpfSxhLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7cz0hMH0pLG0uZ2V0Q3VycmVudEluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIG0uY3VycmVudFNsaWRlJiZhbmd1bGFyLmlzRGVmaW5lZChtLmN1cnJlbnRTbGlkZS5pbmRleCk/K20uY3VycmVudFNsaWRlLmluZGV4OnJ9LGEuaW5kZXhPZlNsaWRlPWZ1bmN0aW9uKGEpe3JldHVybiBhbmd1bGFyLmlzRGVmaW5lZChhLmluZGV4KT8rYS5pbmRleDpuLmluZGV4T2YoYSl9LGEubmV4dD1mdW5jdGlvbigpe3ZhciBiPShtLmdldEN1cnJlbnRJbmRleCgpKzEpJW4ubGVuZ3RoO3JldHVybiAwPT09YiYmYS5ub1dyYXAoKT92b2lkIGEucGF1c2UoKTptLnNlbGVjdChmKGIpLCJuZXh0Iil9LGEucHJldj1mdW5jdGlvbigpe3ZhciBiPW0uZ2V0Q3VycmVudEluZGV4KCktMTwwP24ubGVuZ3RoLTE6bS5nZXRDdXJyZW50SW5kZXgoKS0xO3JldHVybiBhLm5vV3JhcCgpJiZiPT09bi5sZW5ndGgtMT92b2lkIGEucGF1c2UoKTptLnNlbGVjdChmKGIpLCJwcmV2Iil9LGEuaXNBY3RpdmU9ZnVuY3Rpb24oYSl7cmV0dXJuIG0uY3VycmVudFNsaWRlPT09YX0sYS4kd2F0Y2goImludGVydmFsIixnKSxhLiR3YXRjaENvbGxlY3Rpb24oInNsaWRlcyIsaiksYS4kb24oIiRkZXN0cm95IixoKSxhLnBsYXk9ZnVuY3Rpb24oKXtsfHwobD0hMCxnKCkpfSxhLnBhdXNlPWZ1bmN0aW9uKCl7YS5ub1BhdXNlfHwobD0hMSxoKCkpfSxtLmFkZFNsaWRlPWZ1bmN0aW9uKGIsYyl7Yi4kZWxlbWVudD1jLG4ucHVzaChiKSwxPT09bi5sZW5ndGh8fGIuYWN0aXZlPyhtLnNlbGVjdChuW24ubGVuZ3RoLTFdKSwxPT09bi5sZW5ndGgmJmEucGxheSgpKTpiLmFjdGl2ZT0hMX0sbS5yZW1vdmVTbGlkZT1mdW5jdGlvbihhKXthbmd1bGFyLmlzRGVmaW5lZChhLmluZGV4KSYmbi5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuK2EuaW5kZXg+K2IuaW5kZXh9KTt2YXIgYj1uLmluZGV4T2YoYSk7bi5zcGxpY2UoYiwxKSxuLmxlbmd0aD4wJiZhLmFjdGl2ZT9iPj1uLmxlbmd0aD9tLnNlbGVjdChuW2ItMV0pOm0uc2VsZWN0KG5bYl0pOnI+YiYmci0tLDA9PT1uLmxlbmd0aCYmKG0uY3VycmVudFNsaWRlPW51bGwpfSxhLiR3YXRjaCgibm9UcmFuc2l0aW9uIixmdW5jdGlvbihhKXtiLmRhdGEocCxhKX0pfV0pLmRpcmVjdGl2ZSgidWliQ2Fyb3VzZWwiLFtmdW5jdGlvbigpe3JldHVybnt0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITAsY29udHJvbGxlcjoiVWliQ2Fyb3VzZWxDb250cm9sbGVyIixjb250cm9sbGVyQXM6ImNhcm91c2VsIixyZXF1aXJlOiJjYXJvdXNlbCIsdGVtcGxhdGVVcmw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50ZW1wbGF0ZVVybHx8InRlbXBsYXRlL2Nhcm91c2VsL2Nhcm91c2VsLmh0bWwifSxzY29wZTp7aW50ZXJ2YWw6Ij0iLG5vVHJhbnNpdGlvbjoiPSIsbm9QYXVzZToiPSIsbm9XcmFwOiImIn19fV0pLmRpcmVjdGl2ZSgidWliU2xpZGUiLGZ1bmN0aW9uKCl7cmV0dXJue3JlcXVpcmU6Il51aWJDYXJvdXNlbCIscmVzdHJpY3Q6IkVBIix0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50ZW1wbGF0ZVVybHx8InRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWwifSxzY29wZTp7YWN0aXZlOiI9PyIsYWN0dWFsOiI9PyIsaW5kZXg6Ij0/In0sbGluazpmdW5jdGlvbihhLGIsYyxkKXtkLmFkZFNsaWRlKGEsYiksYS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe2QucmVtb3ZlU2xpZGUoYSl9KSxhLiR3YXRjaCgiYWN0aXZlIixmdW5jdGlvbihiKXtiJiZkLnNlbGVjdChhKX0pfX19KS5hbmltYXRpb24oIi5pdGVtIixbIiRpbmplY3RvciIsIiRhbmltYXRlIixmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSxiLGMpe2EucmVtb3ZlQ2xhc3MoYiksYyYmYygpfXZhciBkPSJ1aWItbm9UcmFuc2l0aW9uIixlPSJ1aWItc2xpZGVEaXJlY3Rpb24iLGY9bnVsbDtyZXR1cm4gYS5oYXMoIiRhbmltYXRlQ3NzIikmJihmPWEuZ2V0KCIkYW5pbWF0ZUNzcyIpKSx7YmVmb3JlQWRkQ2xhc3M6ZnVuY3Rpb24oYSxnLGgpe2lmKCJhY3RpdmUiPT1nJiZhLnBhcmVudCgpJiZhLnBhcmVudCgpLnBhcmVudCgpJiYhYS5wYXJlbnQoKS5wYXJlbnQoKS5kYXRhKGQpKXt2YXIgaT0hMSxqPWEuZGF0YShlKSxrPSJuZXh0Ij09aj8ibGVmdCI6InJpZ2h0IixsPWMuYmluZCh0aGlzLGEsaysiICIraixoKTtyZXR1cm4gYS5hZGRDbGFzcyhqKSxmP2YoYSx7YWRkQ2xhc3M6a30pLnN0YXJ0KCkuZG9uZShsKTpiLmFkZENsYXNzKGEsaykudGhlbihmdW5jdGlvbigpe2l8fGwoKSxoKCl9KSxmdW5jdGlvbigpe2k9ITB9fWgoKX0sYmVmb3JlUmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSxnLGgpe2lmKCJhY3RpdmUiPT09ZyYmYS5wYXJlbnQoKSYmYS5wYXJlbnQoKS5wYXJlbnQoKSYmIWEucGFyZW50KCkucGFyZW50KCkuZGF0YShkKSl7dmFyIGk9ITEsaj1hLmRhdGEoZSksaz0ibmV4dCI9PWo/ImxlZnQiOiJyaWdodCIsbD1jLmJpbmQodGhpcyxhLGssaCk7cmV0dXJuIGY/ZihhLHthZGRDbGFzczprfSkuc3RhcnQoKS5kb25lKGwpOmIuYWRkQ2xhc3MoYSxrKS50aGVuKGZ1bmN0aW9uKCl7aXx8bCgpLGgoKX0pLGZ1bmN0aW9uKCl7aT0hMH19aCgpfX19XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5jYXJvdXNlbCIpLnZhbHVlKCIkY2Fyb3VzZWxTdXBwcmVzc1dhcm5pbmciLCExKS5jb250cm9sbGVyKCJDYXJvdXNlbENvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGVsZW1lbnQiLCIkY29udHJvbGxlciIsIiRsb2ciLCIkY2Fyb3VzZWxTdXBwcmVzc1dhcm5pbmciLGZ1bmN0aW9uKGEsYixjLGQsZSl7ZXx8ZC53YXJuKCJDYXJvdXNlbENvbnRyb2xsZXIgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSBVaWJDYXJvdXNlbENvbnRyb2xsZXIgaW5zdGVhZC4iKSxhbmd1bGFyLmV4dGVuZCh0aGlzLGMoIlVpYkNhcm91c2VsQ29udHJvbGxlciIseyRzY29wZTphLCRlbGVtZW50OmJ9KSl9XSkuZGlyZWN0aXZlKCJjYXJvdXNlbCIsWyIkbG9nIiwiJGNhcm91c2VsU3VwcHJlc3NXYXJuaW5nIixmdW5jdGlvbihhLGIpe3JldHVybnt0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITAsY29udHJvbGxlcjoiQ2Fyb3VzZWxDb250cm9sbGVyIixjb250cm9sbGVyQXM6ImNhcm91c2VsIixyZXF1aXJlOiJjYXJvdXNlbCIsdGVtcGxhdGVVcmw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50ZW1wbGF0ZVVybHx8InRlbXBsYXRlL2Nhcm91c2VsL2Nhcm91c2VsLmh0bWwifSxzY29wZTp7aW50ZXJ2YWw6Ij0iLG5vVHJhbnNpdGlvbjoiPSIsbm9QYXVzZToiPSIsbm9XcmFwOiImIn0sbGluazpmdW5jdGlvbigpe2J8fGEud2FybigiY2Fyb3VzZWwgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB1aWItY2Fyb3VzZWwgaW5zdGVhZC4iKX19fV0pLmRpcmVjdGl2ZSgic2xpZGUiLFsiJGxvZyIsIiRjYXJvdXNlbFN1cHByZXNzV2FybmluZyIsZnVuY3Rpb24oYSxiKXtyZXR1cm57cmVxdWlyZToiXmNhcm91c2VsIix0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50ZW1wbGF0ZVVybHx8InRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWwifSxzY29wZTp7YWN0aXZlOiI9PyIsYWN0dWFsOiI9PyIsaW5kZXg6Ij0/In0sbGluazpmdW5jdGlvbihjLGQsZSxmKXtifHxhLndhcm4oInNsaWRlIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliLXNsaWRlIGluc3RlYWQuIiksZi5hZGRTbGlkZShjLGQpLGMuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtmLnJlbW92ZVNsaWRlKGMpfSksYy4kd2F0Y2goImFjdGl2ZSIsZnVuY3Rpb24oYSl7YSYmZi5zZWxlY3QoYyl9KX19fV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuZGF0ZXBhcnNlciIsW10pLnNlcnZpY2UoInVpYkRhdGVQYXJzZXIiLFsiJGxvZyIsIiRsb2NhbGUiLCJvcmRlckJ5RmlsdGVyIixmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChhKXt2YXIgYj1bXSxkPWEuc3BsaXQoIiIpO3JldHVybiBhbmd1bGFyLmZvckVhY2goZyxmdW5jdGlvbihjLGUpe3ZhciBmPWEuaW5kZXhPZihlKTtpZihmPi0xKXthPWEuc3BsaXQoIiIpLGRbZl09IigiK2MucmVnZXgrIikiLGFbZl09IiQiO2Zvcih2YXIgZz1mKzEsaD1mK2UubGVuZ3RoO2g+ZztnKyspZFtnXT0iIixhW2ddPSIkIjthPWEuam9pbigiIiksYi5wdXNoKHtpbmRleDpmLGFwcGx5OmMuYXBwbHl9KX19KSx7cmVnZXg6bmV3IFJlZ0V4cCgiXiIrZC5qb2luKCIiKSsiJCIpLG1hcDpjKGIsImluZGV4Iil9fWZ1bmN0aW9uIGUoYSxiLGMpe3JldHVybiAxPmM/ITE6MT09PWImJmM+Mjg/Mjk9PT1jJiYoYSU0PT09MCYmYSUxMDAhPT0wfHxhJTQwMD09PTApOjM9PT1ifHw1PT09Ynx8OD09PWJ8fDEwPT09Yj8zMT5jOiEwfXZhciBmLGcsaD0vW1xcXF5cJFwqXCtcP1x8XFtcXVwoXClcLlx7XH1dL2c7dGhpcy5pbml0PWZ1bmN0aW9uKCl7Zj1iLmlkLHRoaXMucGFyc2Vycz17fSxnPXt5eXl5OntyZWdleDoiXFxkezR9IixhcHBseTpmdW5jdGlvbihhKXt0aGlzLnllYXI9K2F9fSx5eTp7cmVnZXg6IlxcZHsyfSIsYXBwbHk6ZnVuY3Rpb24oYSl7dGhpcy55ZWFyPSthKzJlM319LHk6e3JlZ2V4OiJcXGR7MSw0fSIsYXBwbHk6ZnVuY3Rpb24oYSl7dGhpcy55ZWFyPSthfX0sTU1NTTp7cmVnZXg6Yi5EQVRFVElNRV9GT1JNQVRTLk1PTlRILmpvaW4oInwiKSxhcHBseTpmdW5jdGlvbihhKXt0aGlzLm1vbnRoPWIuREFURVRJTUVfRk9STUFUUy5NT05USC5pbmRleE9mKGEpfX0sTU1NOntyZWdleDpiLkRBVEVUSU1FX0ZPUk1BVFMuU0hPUlRNT05USC5qb2luKCJ8IiksYXBwbHk6ZnVuY3Rpb24oYSl7dGhpcy5tb250aD1iLkRBVEVUSU1FX0ZPUk1BVFMuU0hPUlRNT05USC5pbmRleE9mKGEpfX0sTU06e3JlZ2V4OiIwWzEtOV18MVswLTJdIixhcHBseTpmdW5jdGlvbihhKXt0aGlzLm1vbnRoPWEtMX19LE06e3JlZ2V4OiJbMS05XXwxWzAtMl0iLGFwcGx5OmZ1bmN0aW9uKGEpe3RoaXMubW9udGg9YS0xfX0sZGQ6e3JlZ2V4OiJbMC0yXVswLTldezF9fDNbMC0xXXsxfSIsYXBwbHk6ZnVuY3Rpb24oYSl7dGhpcy5kYXRlPSthfX0sZDp7cmVnZXg6IlsxLTJdP1swLTldezF9fDNbMC0xXXsxfSIsYXBwbHk6ZnVuY3Rpb24oYSl7dGhpcy5kYXRlPSthfX0sRUVFRTp7cmVnZXg6Yi5EQVRFVElNRV9GT1JNQVRTLkRBWS5qb2luKCJ8Iil9LEVFRTp7cmVnZXg6Yi5EQVRFVElNRV9GT1JNQVRTLlNIT1JUREFZLmpvaW4oInwiKX0sSEg6e3JlZ2V4OiIoPzowfDEpWzAtOV18MlswLTNdIixhcHBseTpmdW5jdGlvbihhKXt0aGlzLmhvdXJzPSthfX0saGg6e3JlZ2V4OiIwWzAtOV18MVswLTJdIixhcHBseTpmdW5jdGlvbihhKXt0aGlzLmhvdXJzPSthfX0sSDp7cmVnZXg6IjE/WzAtOV18MlswLTNdIixhcHBseTpmdW5jdGlvbihhKXt0aGlzLmhvdXJzPSthfX0saDp7cmVnZXg6IlswLTldfDFbMC0yXSIsYXBwbHk6ZnVuY3Rpb24oYSl7dGhpcy5ob3Vycz0rYX19LG1tOntyZWdleDoiWzAtNV1bMC05XSIsYXBwbHk6ZnVuY3Rpb24oYSl7dGhpcy5taW51dGVzPSthfX0sbTp7cmVnZXg6IlswLTldfFsxLTVdWzAtOV0iLGFwcGx5OmZ1bmN0aW9uKGEpe3RoaXMubWludXRlcz0rYX19LHNzczp7cmVnZXg6IlswLTldWzAtOV1bMC05XSIsYXBwbHk6ZnVuY3Rpb24oYSl7dGhpcy5taWxsaXNlY29uZHM9K2F9fSxzczp7cmVnZXg6IlswLTVdWzAtOV0iLGFwcGx5OmZ1bmN0aW9uKGEpe3RoaXMuc2Vjb25kcz0rYX19LHM6e3JlZ2V4OiJbMC05XXxbMS01XVswLTldIixhcHBseTpmdW5jdGlvbihhKXt0aGlzLnNlY29uZHM9K2F9fSxhOntyZWdleDpiLkRBVEVUSU1FX0ZPUk1BVFMuQU1QTVMuam9pbigifCIpLGFwcGx5OmZ1bmN0aW9uKGEpezEyPT09dGhpcy5ob3VycyYmKHRoaXMuaG91cnM9MCksIlBNIj09PWEmJih0aGlzLmhvdXJzKz0xMil9fX19LHRoaXMuaW5pdCgpLHRoaXMucGFyc2U9ZnVuY3Rpb24oYyxnLGkpe2lmKCFhbmd1bGFyLmlzU3RyaW5nKGMpfHwhZylyZXR1cm4gYztnPWIuREFURVRJTUVfRk9STUFUU1tnXXx8ZyxnPWcucmVwbGFjZShoLCJcXCQmIiksYi5pZCE9PWYmJnRoaXMuaW5pdCgpLHRoaXMucGFyc2Vyc1tnXXx8KHRoaXMucGFyc2Vyc1tnXT1kKGcpKTt2YXIgaj10aGlzLnBhcnNlcnNbZ10saz1qLnJlZ2V4LGw9ai5tYXAsbT1jLm1hdGNoKGspO2lmKG0mJm0ubGVuZ3RoKXt2YXIgbixvO2FuZ3VsYXIuaXNEYXRlKGkpJiYhaXNOYU4oaS5nZXRUaW1lKCkpP249e3llYXI6aS5nZXRGdWxsWWVhcigpLG1vbnRoOmkuZ2V0TW9udGgoKSxkYXRlOmkuZ2V0RGF0ZSgpLGhvdXJzOmkuZ2V0SG91cnMoKSxtaW51dGVzOmkuZ2V0TWludXRlcygpLHNlY29uZHM6aS5nZXRTZWNvbmRzKCksbWlsbGlzZWNvbmRzOmkuZ2V0TWlsbGlzZWNvbmRzKCl9OihpJiZhLndhcm4oImRhdGVwYXJzZXI6IiwiYmFzZURhdGUgaXMgbm90IGEgdmFsaWQgZGF0ZSIpLG49e3llYXI6MTkwMCxtb250aDowLGRhdGU6MSxob3VyczowLG1pbnV0ZXM6MCxzZWNvbmRzOjAsbWlsbGlzZWNvbmRzOjB9KTtmb3IodmFyIHA9MSxxPW0ubGVuZ3RoO3E+cDtwKyspe3ZhciByPWxbcC0xXTtyLmFwcGx5JiZyLmFwcGx5LmNhbGwobixtW3BdKX1yZXR1cm4gZShuLnllYXIsbi5tb250aCxuLmRhdGUpJiYoYW5ndWxhci5pc0RhdGUoaSkmJiFpc05hTihpLmdldFRpbWUoKSk/KG89bmV3IERhdGUoaSksby5zZXRGdWxsWWVhcihuLnllYXIsbi5tb250aCxuLmRhdGUsbi5ob3VycyxuLm1pbnV0ZXMsbi5zZWNvbmRzLG4ubWlsbGlzZWNvbmRzfHwwKSk6bz1uZXcgRGF0ZShuLnllYXIsbi5tb250aCxuLmRhdGUsbi5ob3VycyxuLm1pbnV0ZXMsbi5zZWNvbmRzLG4ubWlsbGlzZWNvbmRzfHwwKSksb319fV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuZGF0ZXBhcnNlciIpLnZhbHVlKCIkZGF0ZVBhcnNlclN1cHByZXNzV2FybmluZyIsITEpLnNlcnZpY2UoImRhdGVQYXJzZXIiLFsiJGxvZyIsIiRkYXRlUGFyc2VyU3VwcHJlc3NXYXJuaW5nIiwidWliRGF0ZVBhcnNlciIsZnVuY3Rpb24oYSxiLGMpe2J8fGEud2FybigiZGF0ZVBhcnNlciBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIHVpYkRhdGVQYXJzZXIgaW5zdGVhZC4iKSxhbmd1bGFyLmV4dGVuZCh0aGlzLGMpfV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAucG9zaXRpb24iLFtdKS5mYWN0b3J5KCIkdWliUG9zaXRpb24iLFsiJGRvY3VtZW50IiwiJHdpbmRvdyIsZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEsYyl7cmV0dXJuIGEuY3VycmVudFN0eWxlP2EuY3VycmVudFN0eWxlW2NdOmIuZ2V0Q29tcHV0ZWRTdHlsZT9iLmdldENvbXB1dGVkU3R5bGUoYSlbY106YS5zdHlsZVtjXX1mdW5jdGlvbiBkKGEpe3JldHVybiJzdGF0aWMiPT09KGMoYSwicG9zaXRpb24iKXx8InN0YXRpYyIpfXZhciBlPWZ1bmN0aW9uKGIpe2Zvcih2YXIgYz1hWzBdLGU9Yi5vZmZzZXRQYXJlbnR8fGM7ZSYmZSE9PWMmJmQoZSk7KWU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGV8fGN9O3JldHVybntwb3NpdGlvbjpmdW5jdGlvbihiKXt2YXIgYz10aGlzLm9mZnNldChiKSxkPXt0b3A6MCxsZWZ0OjB9LGY9ZShiWzBdKTtmIT1hWzBdJiYoZD10aGlzLm9mZnNldChhbmd1bGFyLmVsZW1lbnQoZikpLGQudG9wKz1mLmNsaWVudFRvcC1mLnNjcm9sbFRvcCxkLmxlZnQrPWYuY2xpZW50TGVmdC1mLnNjcm9sbExlZnQpO3ZhciBnPWJbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJue3dpZHRoOmcud2lkdGh8fGIucHJvcCgib2Zmc2V0V2lkdGgiKSxoZWlnaHQ6Zy5oZWlnaHR8fGIucHJvcCgib2Zmc2V0SGVpZ2h0IiksdG9wOmMudG9wLWQudG9wLGxlZnQ6Yy5sZWZ0LWQubGVmdH19LG9mZnNldDpmdW5jdGlvbihjKXt2YXIgZD1jWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybnt3aWR0aDpkLndpZHRofHxjLnByb3AoIm9mZnNldFdpZHRoIiksaGVpZ2h0OmQuaGVpZ2h0fHxjLnByb3AoIm9mZnNldEhlaWdodCIpLHRvcDpkLnRvcCsoYi5wYWdlWU9mZnNldHx8YVswXS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKSxsZWZ0OmQubGVmdCsoYi5wYWdlWE9mZnNldHx8YVswXS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCl9fSxwb3NpdGlvbkVsZW1lbnRzOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoLGk9Yy5zcGxpdCgiLSIpLGo9aVswXSxrPWlbMV18fCJjZW50ZXIiO2U9ZD90aGlzLm9mZnNldChhKTp0aGlzLnBvc2l0aW9uKGEpLGY9Yi5wcm9wKCJvZmZzZXRXaWR0aCIpLGc9Yi5wcm9wKCJvZmZzZXRIZWlnaHQiKTt2YXIgbD17Y2VudGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGUubGVmdCtlLndpZHRoLzItZi8yfSxsZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIGUubGVmdH0scmlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5sZWZ0K2Uud2lkdGh9fSxtPXtjZW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gZS50b3ArZS5oZWlnaHQvMi1nLzJ9LHRvcDpmdW5jdGlvbigpe3JldHVybiBlLnRvcH0sYm90dG9tOmZ1bmN0aW9uKCl7cmV0dXJuIGUudG9wK2UuaGVpZ2h0fX07c3dpdGNoKGope2Nhc2UicmlnaHQiOmg9e3RvcDptW2tdKCksbGVmdDpsW2pdKCl9O2JyZWFrO2Nhc2UibGVmdCI6aD17dG9wOm1ba10oKSxsZWZ0OmUubGVmdC1mfTticmVhaztjYXNlImJvdHRvbSI6aD17dG9wOm1bal0oKSxsZWZ0Omxba10oKX07YnJlYWs7ZGVmYXVsdDpoPXt0b3A6ZS50b3AtZyxsZWZ0Omxba10oKX19cmV0dXJuIGh9fX1dKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnBvc2l0aW9uIikudmFsdWUoIiRwb3NpdGlvblN1cHByZXNzV2FybmluZyIsITEpLnNlcnZpY2UoIiRwb3NpdGlvbiIsWyIkbG9nIiwiJHBvc2l0aW9uU3VwcHJlc3NXYXJuaW5nIiwiJHVpYlBvc2l0aW9uIixmdW5jdGlvbihhLGIsYyl7Ynx8YS53YXJuKCIkcG9zaXRpb24gaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSAkdWliUG9zaXRpb24gaW5zdGVhZC4iKSxhbmd1bGFyLmV4dGVuZCh0aGlzLGMpfV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuZGF0ZXBpY2tlciIsWyJ1aS5ib290c3RyYXAuZGF0ZXBhcnNlciIsInVpLmJvb3RzdHJhcC5wb3NpdGlvbiJdKS52YWx1ZSgiJGRhdGVwaWNrZXJTdXBwcmVzc0Vycm9yIiwhMSkuY29uc3RhbnQoInVpYkRhdGVwaWNrZXJDb25maWciLHtmb3JtYXREYXk6ImRkIixmb3JtYXRNb250aDoiTU1NTSIsZm9ybWF0WWVhcjoieXl5eSIsZm9ybWF0RGF5SGVhZGVyOiJFRUUiLGZvcm1hdERheVRpdGxlOiJNTU1NIHl5eXkiLGZvcm1hdE1vbnRoVGl0bGU6Inl5eXkiLGRhdGVwaWNrZXJNb2RlOiJkYXkiLG1pbk1vZGU6ImRheSIsbWF4TW9kZToieWVhciIsc2hvd1dlZWtzOiEwLHN0YXJ0aW5nRGF5OjAseWVhclJhbmdlOjIwLG1pbkRhdGU6bnVsbCxtYXhEYXRlOm51bGwsc2hvcnRjdXRQcm9wYWdhdGlvbjohMX0pLmNvbnRyb2xsZXIoIlVpYkRhdGVwaWNrZXJDb250cm9sbGVyIixbIiRzY29wZSIsIiRhdHRycyIsIiRwYXJzZSIsIiRpbnRlcnBvbGF0ZSIsIiRsb2ciLCJkYXRlRmlsdGVyIiwidWliRGF0ZXBpY2tlckNvbmZpZyIsIiRkYXRlcGlja2VyU3VwcHJlc3NFcnJvciIsZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXt2YXIgaT10aGlzLGo9eyRzZXRWaWV3VmFsdWU6YW5ndWxhci5ub29wfTt0aGlzLm1vZGVzPVsiZGF5IiwibW9udGgiLCJ5ZWFyIl0sYW5ndWxhci5mb3JFYWNoKFsiZm9ybWF0RGF5IiwiZm9ybWF0TW9udGgiLCJmb3JtYXRZZWFyIiwiZm9ybWF0RGF5SGVhZGVyIiwiZm9ybWF0RGF5VGl0bGUiLCJmb3JtYXRNb250aFRpdGxlIiwic2hvd1dlZWtzIiwic3RhcnRpbmdEYXkiLCJ5ZWFyUmFuZ2UiLCJzaG9ydGN1dFByb3BhZ2F0aW9uIl0sZnVuY3Rpb24oYyxlKXtpW2NdPWFuZ3VsYXIuaXNEZWZpbmVkKGJbY10pPzY+ZT9kKGJbY10pKGEuJHBhcmVudCk6YS4kcGFyZW50LiRldmFsKGJbY10pOmdbY119KSxhbmd1bGFyLmZvckVhY2goWyJtaW5EYXRlIiwibWF4RGF0ZSJdLGZ1bmN0aW9uKGQpe2JbZF0/YS4kcGFyZW50LiR3YXRjaChjKGJbZF0pLGZ1bmN0aW9uKGEpe2lbZF09YT9uZXcgRGF0ZShhKTpudWxsLGkucmVmcmVzaFZpZXcoKX0pOmlbZF09Z1tkXT9uZXcgRGF0ZShnW2RdKTpudWxsfSksYW5ndWxhci5mb3JFYWNoKFsibWluTW9kZSIsIm1heE1vZGUiXSxmdW5jdGlvbihkKXtiW2RdP2EuJHBhcmVudC4kd2F0Y2goYyhiW2RdKSxmdW5jdGlvbihjKXtpW2RdPWFuZ3VsYXIuaXNEZWZpbmVkKGMpP2M6YltkXSxhW2RdPWlbZF0sKCJtaW5Nb2RlIj09ZCYmaS5tb2Rlcy5pbmRleE9mKGEuZGF0ZXBpY2tlck1vZGUpPGkubW9kZXMuaW5kZXhPZihpW2RdKXx8Im1heE1vZGUiPT1kJiZpLm1vZGVzLmluZGV4T2YoYS5kYXRlcGlja2VyTW9kZSk+aS5tb2Rlcy5pbmRleE9mKGlbZF0pKSYmKGEuZGF0ZXBpY2tlck1vZGU9aVtkXSl9KTooaVtkXT1nW2RdfHxudWxsLGFbZF09aVtkXSl9KSxhLmRhdGVwaWNrZXJNb2RlPWEuZGF0ZXBpY2tlck1vZGV8fGcuZGF0ZXBpY2tlck1vZGUsYS51bmlxdWVJZD0iZGF0ZXBpY2tlci0iK2EuJGlkKyItIitNYXRoLmZsb29yKDFlNCpNYXRoLnJhbmRvbSgpKSxhbmd1bGFyLmlzRGVmaW5lZChiLmluaXREYXRlKT8odGhpcy5hY3RpdmVEYXRlPWEuJHBhcmVudC4kZXZhbChiLmluaXREYXRlKXx8bmV3IERhdGUsYS4kcGFyZW50LiR3YXRjaChiLmluaXREYXRlLGZ1bmN0aW9uKGEpe2EmJihqLiRpc0VtcHR5KGouJG1vZGVsVmFsdWUpfHxqLiRpbnZhbGlkKSYmKGkuYWN0aXZlRGF0ZT1hLGkucmVmcmVzaFZpZXcoKSl9KSk6dGhpcy5hY3RpdmVEYXRlPW5ldyBEYXRlLGEuaXNBY3RpdmU9ZnVuY3Rpb24oYil7cmV0dXJuIDA9PT1pLmNvbXBhcmUoYi5kYXRlLGkuYWN0aXZlRGF0ZSk/KGEuYWN0aXZlRGF0ZUlkPWIudWlkLCEwKTohMX0sdGhpcy5pbml0PWZ1bmN0aW9uKGEpe2o9YSxqLiRyZW5kZXI9ZnVuY3Rpb24oKXtpLnJlbmRlcigpfX0sdGhpcy5yZW5kZXI9ZnVuY3Rpb24oKXtpZihqLiR2aWV3VmFsdWUpe3ZhciBhPW5ldyBEYXRlKGouJHZpZXdWYWx1ZSksYj0haXNOYU4oYSk7Yj90aGlzLmFjdGl2ZURhdGU9YTpofHxlLmVycm9yKCdEYXRlcGlja2VyIGRpcmVjdGl2ZTogIm5nLW1vZGVsIiB2YWx1ZSBtdXN0IGJlIGEgRGF0ZSBvYmplY3QsIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSAwMS4wMS4xOTcwIG9yIGEgc3RyaW5nIHJlcHJlc2VudGluZyBhbiBSRkMyODIyIG9yIElTTyA4NjAxIGRhdGUuJyl9dGhpcy5yZWZyZXNoVmlldygpfSx0aGlzLnJlZnJlc2hWaWV3PWZ1bmN0aW9uKCl7aWYodGhpcy5lbGVtZW50KXt0aGlzLl9yZWZyZXNoVmlldygpO3ZhciBhPWouJHZpZXdWYWx1ZT9uZXcgRGF0ZShqLiR2aWV3VmFsdWUpOm51bGw7ai4kc2V0VmFsaWRpdHkoImRhdGVEaXNhYmxlZCIsIWF8fHRoaXMuZWxlbWVudCYmIXRoaXMuaXNEaXNhYmxlZChhKSl9fSx0aGlzLmNyZWF0ZURhdGVPYmplY3Q9ZnVuY3Rpb24oYSxiKXt2YXIgYz1qLiR2aWV3VmFsdWU/bmV3IERhdGUoai4kdmlld1ZhbHVlKTpudWxsO3JldHVybntkYXRlOmEsbGFiZWw6ZihhLGIpLHNlbGVjdGVkOmMmJjA9PT10aGlzLmNvbXBhcmUoYSxjKSxkaXNhYmxlZDp0aGlzLmlzRGlzYWJsZWQoYSksY3VycmVudDowPT09dGhpcy5jb21wYXJlKGEsbmV3IERhdGUpLGN1c3RvbUNsYXNzOnRoaXMuY3VzdG9tQ2xhc3MoYSl9fSx0aGlzLmlzRGlzYWJsZWQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMubWluRGF0ZSYmdGhpcy5jb21wYXJlKGMsdGhpcy5taW5EYXRlKTwwfHx0aGlzLm1heERhdGUmJnRoaXMuY29tcGFyZShjLHRoaXMubWF4RGF0ZSk+MHx8Yi5kYXRlRGlzYWJsZWQmJmEuZGF0ZURpc2FibGVkKHtkYXRlOmMsbW9kZTphLmRhdGVwaWNrZXJNb2RlfSl9LHRoaXMuY3VzdG9tQ2xhc3M9ZnVuY3Rpb24oYil7cmV0dXJuIGEuY3VzdG9tQ2xhc3Moe2RhdGU6Yixtb2RlOmEuZGF0ZXBpY2tlck1vZGV9KX0sdGhpcy5zcGxpdD1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXTthLmxlbmd0aD4wOyljLnB1c2goYS5zcGxpY2UoMCxiKSk7cmV0dXJuIGN9LGEuc2VsZWN0PWZ1bmN0aW9uKGIpe2lmKGEuZGF0ZXBpY2tlck1vZGU9PT1pLm1pbk1vZGUpe3ZhciBjPWouJHZpZXdWYWx1ZT9uZXcgRGF0ZShqLiR2aWV3VmFsdWUpOm5ldyBEYXRlKDAsMCwwLDAsMCwwLDApO2Muc2V0RnVsbFllYXIoYi5nZXRGdWxsWWVhcigpLGIuZ2V0TW9udGgoKSxiLmdldERhdGUoKSksai4kc2V0Vmlld1ZhbHVlKGMpLGouJHJlbmRlcigpfWVsc2UgaS5hY3RpdmVEYXRlPWIsYS5kYXRlcGlja2VyTW9kZT1pLm1vZGVzW2kubW9kZXMuaW5kZXhPZihhLmRhdGVwaWNrZXJNb2RlKS0xXX0sYS5tb3ZlPWZ1bmN0aW9uKGEpe3ZhciBiPWkuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpK2EqKGkuc3RlcC55ZWFyc3x8MCksYz1pLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSthKihpLnN0ZXAubW9udGhzfHwwKTtpLmFjdGl2ZURhdGUuc2V0RnVsbFllYXIoYixjLDEpLGkucmVmcmVzaFZpZXcoKX0sYS50b2dnbGVNb2RlPWZ1bmN0aW9uKGIpe2I9Ynx8MSxhLmRhdGVwaWNrZXJNb2RlPT09aS5tYXhNb2RlJiYxPT09Ynx8YS5kYXRlcGlja2VyTW9kZT09PWkubWluTW9kZSYmLTE9PT1ifHwoYS5kYXRlcGlja2VyTW9kZT1pLm1vZGVzW2kubW9kZXMuaW5kZXhPZihhLmRhdGVwaWNrZXJNb2RlKStiXSl9LGEua2V5cz17MTM6ImVudGVyIiwzMjoic3BhY2UiLDMzOiJwYWdldXAiLDM0OiJwYWdlZG93biIsMzU6ImVuZCIsMzY6ImhvbWUiLDM3OiJsZWZ0IiwzODoidXAiLDM5OiJyaWdodCIsNDA6ImRvd24ifTt2YXIgaz1mdW5jdGlvbigpe2kuZWxlbWVudFswXS5mb2N1cygpfTthLiRvbigidWliOmRhdGVwaWNrZXIuZm9jdXMiLGspLGEua2V5ZG93bj1mdW5jdGlvbihiKXt2YXIgYz1hLmtleXNbYi53aGljaF07aWYoYyYmIWIuc2hpZnRLZXkmJiFiLmFsdEtleSlpZihiLnByZXZlbnREZWZhdWx0KCksaS5zaG9ydGN1dFByb3BhZ2F0aW9ufHxiLnN0b3BQcm9wYWdhdGlvbigpLCJlbnRlciI9PT1jfHwic3BhY2UiPT09Yyl7aWYoaS5pc0Rpc2FibGVkKGkuYWN0aXZlRGF0ZSkpcmV0dXJuO2Euc2VsZWN0KGkuYWN0aXZlRGF0ZSl9ZWxzZSFiLmN0cmxLZXl8fCJ1cCIhPT1jJiYiZG93biIhPT1jPyhpLmhhbmRsZUtleURvd24oYyxiKSxpLnJlZnJlc2hWaWV3KCkpOmEudG9nZ2xlTW9kZSgidXAiPT09Yz8xOi0xKX19XSkuY29udHJvbGxlcigiVWliRGF5cGlja2VyQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkZWxlbWVudCIsImRhdGVGaWx0ZXIiLGZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGEsYil7cmV0dXJuIDEhPT1ifHxhJTQhPT0wfHxhJTEwMD09PTAmJmElNDAwIT09MD9mW2JdOjI5fWZ1bmN0aW9uIGUoYSl7dmFyIGI9bmV3IERhdGUoYSk7Yi5zZXREYXRlKGIuZ2V0RGF0ZSgpKzQtKGIuZ2V0RGF5KCl8fDcpKTt2YXIgYz1iLmdldFRpbWUoKTtyZXR1cm4gYi5zZXRNb250aCgwKSxiLnNldERhdGUoMSksTWF0aC5mbG9vcihNYXRoLnJvdW5kKChjLWIpLzg2NGU1KS83KSsxfXZhciBmPVszMSwyOCwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV07dGhpcy5zdGVwPXttb250aHM6MX0sdGhpcy5lbGVtZW50PWIsdGhpcy5pbml0PWZ1bmN0aW9uKGIpe2FuZ3VsYXIuZXh0ZW5kKGIsdGhpcyksYS5zaG93V2Vla3M9Yi5zaG93V2Vla3MsYi5yZWZyZXNoVmlldygpfSx0aGlzLmdldERhdGVzPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9bmV3IEFycmF5KGIpLGU9bmV3IERhdGUoYSksZj0wO2I+ZjspYz1uZXcgRGF0ZShlKSxkW2YrK109YyxlLnNldERhdGUoZS5nZXREYXRlKCkrMSk7cmV0dXJuIGR9LHRoaXMuX3JlZnJlc2hWaWV3PWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksZD10aGlzLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSxmPW5ldyBEYXRlKHRoaXMuYWN0aXZlRGF0ZSk7Zi5zZXRGdWxsWWVhcihiLGQsMSk7dmFyIGc9dGhpcy5zdGFydGluZ0RheS1mLmdldERheSgpLGg9Zz4wPzctZzotZyxpPW5ldyBEYXRlKGYpO2g+MCYmaS5zZXREYXRlKC1oKzEpO2Zvcih2YXIgaj10aGlzLmdldERhdGVzKGksNDIpLGs9MDs0Mj5rO2srKylqW2tdPWFuZ3VsYXIuZXh0ZW5kKHRoaXMuY3JlYXRlRGF0ZU9iamVjdChqW2tdLHRoaXMuZm9ybWF0RGF5KSx7c2Vjb25kYXJ5Ompba10uZ2V0TW9udGgoKSE9PWQsdWlkOmEudW5pcXVlSWQrIi0iK2t9KTthLmxhYmVscz1uZXcgQXJyYXkoNyk7Zm9yKHZhciBsPTA7Nz5sO2wrKylhLmxhYmVsc1tsXT17YWJicjpjKGpbbF0uZGF0ZSx0aGlzLmZvcm1hdERheUhlYWRlciksZnVsbDpjKGpbbF0uZGF0ZSwiRUVFRSIpfTtpZihhLnRpdGxlPWModGhpcy5hY3RpdmVEYXRlLHRoaXMuZm9ybWF0RGF5VGl0bGUpLGEucm93cz10aGlzLnNwbGl0KGosNyksYS5zaG93V2Vla3Mpe2Eud2Vla051bWJlcnM9W107Zm9yKHZhciBtPSgxMS10aGlzLnN0YXJ0aW5nRGF5KSU3LG49YS5yb3dzLmxlbmd0aCxvPTA7bj5vO28rKylhLndlZWtOdW1iZXJzLnB1c2goZShhLnJvd3Nbb11bbV0uZGF0ZSkpfX0sdGhpcy5jb21wYXJlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBEYXRlKGEuZ2V0RnVsbFllYXIoKSxhLmdldE1vbnRoKCksYS5nZXREYXRlKCkpLW5ldyBEYXRlKGIuZ2V0RnVsbFllYXIoKSxiLmdldE1vbnRoKCksYi5nZXREYXRlKCkpfSx0aGlzLmhhbmRsZUtleURvd249ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmFjdGl2ZURhdGUuZ2V0RGF0ZSgpO2lmKCJsZWZ0Ij09PWEpYy09MTtlbHNlIGlmKCJ1cCI9PT1hKWMtPTc7ZWxzZSBpZigicmlnaHQiPT09YSljKz0xO2Vsc2UgaWYoImRvd24iPT09YSljKz03O2Vsc2UgaWYoInBhZ2V1cCI9PT1hfHwicGFnZWRvd24iPT09YSl7dmFyIGU9dGhpcy5hY3RpdmVEYXRlLmdldE1vbnRoKCkrKCJwYWdldXAiPT09YT8tMToxKTt0aGlzLmFjdGl2ZURhdGUuc2V0TW9udGgoZSwxKSxjPU1hdGgubWluKGQodGhpcy5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksdGhpcy5hY3RpdmVEYXRlLmdldE1vbnRoKCkpLGMpfWVsc2UiaG9tZSI9PT1hP2M9MToiZW5kIj09PWEmJihjPWQodGhpcy5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksdGhpcy5hY3RpdmVEYXRlLmdldE1vbnRoKCkpKTt0aGlzLmFjdGl2ZURhdGUuc2V0RGF0ZShjKX19XSkuY29udHJvbGxlcigiVWliTW9udGhwaWNrZXJDb250cm9sbGVyIixbIiRzY29wZSIsIiRlbGVtZW50IiwiZGF0ZUZpbHRlciIsZnVuY3Rpb24oYSxiLGMpe3RoaXMuc3RlcD17eWVhcnM6MX0sdGhpcy5lbGVtZW50PWIsdGhpcy5pbml0PWZ1bmN0aW9uKGEpe2FuZ3VsYXIuZXh0ZW5kKGEsdGhpcyksYS5yZWZyZXNoVmlldygpfSx0aGlzLl9yZWZyZXNoVmlldz1mdW5jdGlvbigpe2Zvcih2YXIgYixkPW5ldyBBcnJheSgxMiksZT10aGlzLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSxmPTA7MTI+ZjtmKyspYj1uZXcgRGF0ZSh0aGlzLmFjdGl2ZURhdGUpLGIuc2V0RnVsbFllYXIoZSxmLDEpLGRbZl09YW5ndWxhci5leHRlbmQodGhpcy5jcmVhdGVEYXRlT2JqZWN0KGIsdGhpcy5mb3JtYXRNb250aCkse3VpZDphLnVuaXF1ZUlkKyItIitmfSk7YS50aXRsZT1jKHRoaXMuYWN0aXZlRGF0ZSx0aGlzLmZvcm1hdE1vbnRoVGl0bGUpLGEucm93cz10aGlzLnNwbGl0KGQsMyl9LHRoaXMuY29tcGFyZT1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgRGF0ZShhLmdldEZ1bGxZZWFyKCksYS5nZXRNb250aCgpKS1uZXcgRGF0ZShiLmdldEZ1bGxZZWFyKCksYi5nZXRNb250aCgpKX0sdGhpcy5oYW5kbGVLZXlEb3duPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5hY3RpdmVEYXRlLmdldE1vbnRoKCk7aWYoImxlZnQiPT09YSljLT0xO2Vsc2UgaWYoInVwIj09PWEpYy09MztlbHNlIGlmKCJyaWdodCI9PT1hKWMrPTE7ZWxzZSBpZigiZG93biI9PT1hKWMrPTM7ZWxzZSBpZigicGFnZXVwIj09PWF8fCJwYWdlZG93biI9PT1hKXt2YXIgZD10aGlzLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSsoInBhZ2V1cCI9PT1hPy0xOjEpO3RoaXMuYWN0aXZlRGF0ZS5zZXRGdWxsWWVhcihkKX1lbHNlImhvbWUiPT09YT9jPTA6ImVuZCI9PT1hJiYoYz0xMSk7dGhpcy5hY3RpdmVEYXRlLnNldE1vbnRoKGMpfX1dKS5jb250cm9sbGVyKCJVaWJZZWFycGlja2VyQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkZWxlbWVudCIsImRhdGVGaWx0ZXIiLGZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGEpe3JldHVybiBwYXJzZUludCgoYS0xKS9lLDEwKSplKzF9dmFyIGU7dGhpcy5lbGVtZW50PWIsdGhpcy55ZWFycGlja2VySW5pdD1mdW5jdGlvbigpe2U9dGhpcy55ZWFyUmFuZ2UsdGhpcy5zdGVwPXt5ZWFyczplfX0sdGhpcy5fcmVmcmVzaFZpZXc9ZnVuY3Rpb24oKXtmb3IodmFyIGIsYz1uZXcgQXJyYXkoZSksZj0wLGc9ZCh0aGlzLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSk7ZT5mO2YrKyliPW5ldyBEYXRlKHRoaXMuYWN0aXZlRGF0ZSksYi5zZXRGdWxsWWVhcihnK2YsMCwxKSxjW2ZdPWFuZ3VsYXIuZXh0ZW5kKHRoaXMuY3JlYXRlRGF0ZU9iamVjdChiLHRoaXMuZm9ybWF0WWVhcikse3VpZDphLnVuaXF1ZUlkKyItIitmfSk7YS50aXRsZT1bY1swXS5sYWJlbCxjW2UtMV0ubGFiZWxdLmpvaW4oIiAtICIpLGEucm93cz10aGlzLnNwbGl0KGMsNSl9LHRoaXMuY29tcGFyZT1mdW5jdGlvbihhLGIpe3JldHVybiBhLmdldEZ1bGxZZWFyKCktYi5nZXRGdWxsWWVhcigpfSx0aGlzLmhhbmRsZUtleURvd249ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKTsibGVmdCI9PT1hP2MtPTE6InVwIj09PWE/Yy09NToicmlnaHQiPT09YT9jKz0xOiJkb3duIj09PWE/Yys9NToicGFnZXVwIj09PWF8fCJwYWdlZG93biI9PT1hP2MrPSgicGFnZXVwIj09PWE/LTE6MSkqdGhpcy5zdGVwLnllYXJzOiJob21lIj09PWE/Yz1kKHRoaXMuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpKToiZW5kIj09PWEmJihjPWQodGhpcy5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkpK2UtMSksdGhpcy5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKGMpfX1dKS5kaXJlY3RpdmUoInVpYkRhdGVwaWNrZXIiLGZ1bmN0aW9uKCl7cmV0dXJue3JlcGxhY2U6ITAsdGVtcGxhdGVVcmw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50ZW1wbGF0ZVVybHx8InRlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sIn0sc2NvcGU6e2RhdGVwaWNrZXJNb2RlOiI9PyIsZGF0ZURpc2FibGVkOiImIixjdXN0b21DbGFzczoiJiIsc2hvcnRjdXRQcm9wYWdhdGlvbjoiJj8ifSxyZXF1aXJlOlsidWliRGF0ZXBpY2tlciIsIl5uZ01vZGVsIl0sY29udHJvbGxlcjoiVWliRGF0ZXBpY2tlckNvbnRyb2xsZXIiLGNvbnRyb2xsZXJBczoiZGF0ZXBpY2tlciIsbGluazpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1kWzBdLGY9ZFsxXTtlLmluaXQoZil9fX0pLmRpcmVjdGl2ZSgidWliRGF5cGlja2VyIixmdW5jdGlvbigpe3JldHVybntyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudGVtcGxhdGVVcmx8fCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sIn0scmVxdWlyZTpbIl4/dWliRGF0ZXBpY2tlciIsInVpYkRheXBpY2tlciIsIl4/ZGF0ZXBpY2tlciJdLGNvbnRyb2xsZXI6IlVpYkRheXBpY2tlckNvbnRyb2xsZXIiLGxpbms6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ZFswXXx8ZFsyXSxmPWRbMV07Zi5pbml0KGUpfX19KS5kaXJlY3RpdmUoInVpYk1vbnRocGlja2VyIixmdW5jdGlvbigpe3JldHVybntyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudGVtcGxhdGVVcmx8fCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWwifSxyZXF1aXJlOlsiXj91aWJEYXRlcGlja2VyIiwidWliTW9udGhwaWNrZXIiLCJeP2RhdGVwaWNrZXIiXSxjb250cm9sbGVyOiJVaWJNb250aHBpY2tlckNvbnRyb2xsZXIiLGxpbms6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ZFswXXx8ZFsyXSxmPWRbMV07Zi5pbml0KGUpfX19KS5kaXJlY3RpdmUoInVpYlllYXJwaWNrZXIiLGZ1bmN0aW9uKCl7cmV0dXJue3JlcGxhY2U6ITAsdGVtcGxhdGVVcmw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50ZW1wbGF0ZVVybHx8InRlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sIn0scmVxdWlyZTpbIl4/dWliRGF0ZXBpY2tlciIsInVpYlllYXJwaWNrZXIiLCJeP2RhdGVwaWNrZXIiXSxjb250cm9sbGVyOiJVaWJZZWFycGlja2VyQ29udHJvbGxlciIsbGluazpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1kWzBdfHxkWzJdO2FuZ3VsYXIuZXh0ZW5kKGUsZFsxXSksZS55ZWFycGlja2VySW5pdCgpLGUucmVmcmVzaFZpZXcoKX19fSkuY29uc3RhbnQoInVpYkRhdGVwaWNrZXJQb3B1cENvbmZpZyIse2RhdGVwaWNrZXJQb3B1cDoieXl5eS1NTS1kZCIsZGF0ZXBpY2tlclBvcHVwVGVtcGxhdGVVcmw6InRlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbCIsZGF0ZXBpY2tlclRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbCIsaHRtbDVUeXBlczp7ZGF0ZToieXl5eS1NTS1kZCIsImRhdGV0aW1lLWxvY2FsIjoieXl5eS1NTS1kZFRISDptbTpzcy5zc3MiLG1vbnRoOiJ5eXl5LU1NIn0sY3VycmVudFRleHQ6IlRvZGF5IixjbGVhclRleHQ6IkNsZWFyIixjbG9zZVRleHQ6IkRvbmUiLGNsb3NlT25EYXRlU2VsZWN0aW9uOiEwLGFwcGVuZFRvQm9keTohMSxzaG93QnV0dG9uQmFyOiEwLG9uT3BlbkZvY3VzOiEwfSkuY29udHJvbGxlcigiVWliRGF0ZXBpY2tlclBvcHVwQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkZWxlbWVudCIsIiRhdHRycyIsIiRjb21waWxlIiwiJHBhcnNlIiwiJGRvY3VtZW50IiwiJHJvb3RTY29wZSIsIiR1aWJQb3NpdGlvbiIsImRhdGVGaWx0ZXIiLCJ1aWJEYXRlUGFyc2VyIiwidWliRGF0ZXBpY2tlclBvcHVwQ29uZmlnIiwiJHRpbWVvdXQiLGZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCxpLGosayxsKXsKZnVuY3Rpb24gbShhKXtyZXR1cm4gYS5yZXBsYWNlKC8oW0EtWl0pL2csZnVuY3Rpb24oYSl7cmV0dXJuIi0iK2EudG9Mb3dlckNhc2UoKX0pfWZ1bmN0aW9uIG4oYil7aWYoYW5ndWxhci5pc051bWJlcihiKSYmKGI9bmV3IERhdGUoYikpLGIpe2lmKGFuZ3VsYXIuaXNEYXRlKGIpJiYhaXNOYU4oYikpcmV0dXJuIGI7aWYoYW5ndWxhci5pc1N0cmluZyhiKSl7dmFyIGM9ai5wYXJzZShiLHIsYS5kYXRlKTtyZXR1cm4gaXNOYU4oYyk/dm9pZCAwOmN9cmV0dXJuIHZvaWQgMH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBvKGEsYil7dmFyIGQ9YXx8YjtpZighYy5uZ1JlcXVpcmVkJiYhZClyZXR1cm4hMDtpZihhbmd1bGFyLmlzTnVtYmVyKGQpJiYoZD1uZXcgRGF0ZShkKSksZCl7aWYoYW5ndWxhci5pc0RhdGUoZCkmJiFpc05hTihkKSlyZXR1cm4hMDtpZihhbmd1bGFyLmlzU3RyaW5nKGQpKXt2YXIgZT1qLnBhcnNlKGQscik7cmV0dXJuIWlzTmFOKGUpfXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIHAoYyl7dmFyIGQ9QVswXSxlPWJbMF0uY29udGFpbnMoYy50YXJnZXQpLGY9dm9pZCAwIT09ZC5jb250YWlucyYmZC5jb250YWlucyhjLnRhcmdldCk7IWEuaXNPcGVufHxlfHxmfHxhLiRhcHBseShmdW5jdGlvbigpe2EuaXNPcGVuPSExfSl9ZnVuY3Rpb24gcShjKXsyNz09PWMud2hpY2gmJmEuaXNPcGVuPyhjLnByZXZlbnREZWZhdWx0KCksYy5zdG9wUHJvcGFnYXRpb24oKSxhLiRhcHBseShmdW5jdGlvbigpe2EuaXNPcGVuPSExfSksYlswXS5mb2N1cygpKTo0MCE9PWMud2hpY2h8fGEuaXNPcGVufHwoYy5wcmV2ZW50RGVmYXVsdCgpLGMuc3RvcFByb3BhZ2F0aW9uKCksYS4kYXBwbHkoZnVuY3Rpb24oKXthLmlzT3Blbj0hMH0pKX12YXIgcixzLHQsdSx2LHcseCx5LHosQSxCPXt9LEM9ITE7YS53YXRjaERhdGE9e30sdGhpcy5pbml0PWZ1bmN0aW9uKGgpe2lmKHo9aCxzPWFuZ3VsYXIuaXNEZWZpbmVkKGMuY2xvc2VPbkRhdGVTZWxlY3Rpb24pP2EuJHBhcmVudC4kZXZhbChjLmNsb3NlT25EYXRlU2VsZWN0aW9uKTprLmNsb3NlT25EYXRlU2VsZWN0aW9uLHQ9YW5ndWxhci5pc0RlZmluZWQoYy5kYXRlcGlja2VyQXBwZW5kVG9Cb2R5KT9hLiRwYXJlbnQuJGV2YWwoYy5kYXRlcGlja2VyQXBwZW5kVG9Cb2R5KTprLmFwcGVuZFRvQm9keSx1PWFuZ3VsYXIuaXNEZWZpbmVkKGMub25PcGVuRm9jdXMpP2EuJHBhcmVudC4kZXZhbChjLm9uT3BlbkZvY3VzKTprLm9uT3BlbkZvY3VzLHY9YW5ndWxhci5pc0RlZmluZWQoYy5kYXRlcGlja2VyUG9wdXBUZW1wbGF0ZVVybCk/Yy5kYXRlcGlja2VyUG9wdXBUZW1wbGF0ZVVybDprLmRhdGVwaWNrZXJQb3B1cFRlbXBsYXRlVXJsLHc9YW5ndWxhci5pc0RlZmluZWQoYy5kYXRlcGlja2VyVGVtcGxhdGVVcmwpP2MuZGF0ZXBpY2tlclRlbXBsYXRlVXJsOmsuZGF0ZXBpY2tlclRlbXBsYXRlVXJsLGEuc2hvd0J1dHRvbkJhcj1hbmd1bGFyLmlzRGVmaW5lZChjLnNob3dCdXR0b25CYXIpP2EuJHBhcmVudC4kZXZhbChjLnNob3dCdXR0b25CYXIpOmsuc2hvd0J1dHRvbkJhcixrLmh0bWw1VHlwZXNbYy50eXBlXT8ocj1rLmh0bWw1VHlwZXNbYy50eXBlXSxDPSEwKToocj1jLmRhdGVwaWNrZXJQb3B1cHx8Yy51aWJEYXRlcGlja2VyUG9wdXB8fGsuZGF0ZXBpY2tlclBvcHVwLGMuJG9ic2VydmUoInVpYkRhdGVwaWNrZXJQb3B1cCIsZnVuY3Rpb24oYSxiKXt2YXIgYz1hfHxrLmRhdGVwaWNrZXJQb3B1cDtpZihjIT09ciYmKHI9Yyx6LiRtb2RlbFZhbHVlPW51bGwsIXIpKXRocm93IG5ldyBFcnJvcigidWliRGF0ZXBpY2tlclBvcHVwIG11c3QgaGF2ZSBhIGRhdGUgZm9ybWF0IHNwZWNpZmllZC4iKX0pKSwhcil0aHJvdyBuZXcgRXJyb3IoInVpYkRhdGVwaWNrZXJQb3B1cCBtdXN0IGhhdmUgYSBkYXRlIGZvcm1hdCBzcGVjaWZpZWQuIik7aWYoQyYmYy5kYXRlcGlja2VyUG9wdXApdGhyb3cgbmV3IEVycm9yKCJIVE1MNSBkYXRlIGlucHV0IHR5cGVzIGRvIG5vdCBzdXBwb3J0IGN1c3RvbSBmb3JtYXRzLiIpO2lmKHg9YW5ndWxhci5lbGVtZW50KCI8ZGl2IHVpYi1kYXRlcGlja2VyLXBvcHVwLXdyYXA+PGRpdiB1aWItZGF0ZXBpY2tlcj48L2Rpdj48L2Rpdj4iKSx4LmF0dHIoeyJuZy1tb2RlbCI6ImRhdGUiLCJuZy1jaGFuZ2UiOiJkYXRlU2VsZWN0aW9uKGRhdGUpIiwidGVtcGxhdGUtdXJsIjp2fSkseT1hbmd1bGFyLmVsZW1lbnQoeC5jaGlsZHJlbigpWzBdKSx5LmF0dHIoInRlbXBsYXRlLXVybCIsdyksQyYmIm1vbnRoIj09PWMudHlwZSYmKHkuYXR0cigiZGF0ZXBpY2tlci1tb2RlIiwnIm1vbnRoIicpLHkuYXR0cigibWluLW1vZGUiLCJtb250aCIpKSxjLmRhdGVwaWNrZXJPcHRpb25zKXt2YXIgbD1hLiRwYXJlbnQuJGV2YWwoYy5kYXRlcGlja2VyT3B0aW9ucyk7bCYmbC5pbml0RGF0ZSYmKGEuaW5pdERhdGU9bC5pbml0RGF0ZSx5LmF0dHIoImluaXQtZGF0ZSIsImluaXREYXRlIiksZGVsZXRlIGwuaW5pdERhdGUpLGFuZ3VsYXIuZm9yRWFjaChsLGZ1bmN0aW9uKGEsYil7eS5hdHRyKG0oYiksYSl9KX1hbmd1bGFyLmZvckVhY2goWyJtaW5Nb2RlIiwibWF4TW9kZSIsIm1pbkRhdGUiLCJtYXhEYXRlIiwiZGF0ZXBpY2tlck1vZGUiLCJpbml0RGF0ZSIsInNob3J0Y3V0UHJvcGFnYXRpb24iXSxmdW5jdGlvbihiKXtpZihjW2JdKXt2YXIgZD1lKGNbYl0pO2lmKGEuJHBhcmVudC4kd2F0Y2goZCxmdW5jdGlvbihjKXthLndhdGNoRGF0YVtiXT1jLCgibWluRGF0ZSI9PT1ifHwibWF4RGF0ZSI9PT1iKSYmKEJbYl09bmV3IERhdGUoYykpfSkseS5hdHRyKG0oYiksIndhdGNoRGF0YS4iK2IpLCJkYXRlcGlja2VyTW9kZSI9PT1iKXt2YXIgZj1kLmFzc2lnbjthLiR3YXRjaCgid2F0Y2hEYXRhLiIrYixmdW5jdGlvbihiLGMpe2FuZ3VsYXIuaXNGdW5jdGlvbihmKSYmYiE9PWMmJmYoYS4kcGFyZW50LGIpfSl9fX0pLGMuZGF0ZURpc2FibGVkJiZ5LmF0dHIoImRhdGUtZGlzYWJsZWQiLCJkYXRlRGlzYWJsZWQoeyBkYXRlOiBkYXRlLCBtb2RlOiBtb2RlIH0pIiksYy5zaG93V2Vla3MmJnkuYXR0cigic2hvdy13ZWVrcyIsYy5zaG93V2Vla3MpLGMuY3VzdG9tQ2xhc3MmJnkuYXR0cigiY3VzdG9tLWNsYXNzIiwiY3VzdG9tQ2xhc3MoeyBkYXRlOiBkYXRlLCBtb2RlOiBtb2RlIH0pIiksQz96LiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24oYil7cmV0dXJuIGEuZGF0ZT1iLGJ9KTooei4kJHBhcnNlck5hbWU9ImRhdGUiLHouJHZhbGlkYXRvcnMuZGF0ZT1vLHouJHBhcnNlcnMudW5zaGlmdChuKSx6LiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24oYil7cmV0dXJuIGEuZGF0ZT1iLHouJGlzRW1wdHkoYik/YjppKGIscil9KSksei4kdmlld0NoYW5nZUxpc3RlbmVycy5wdXNoKGZ1bmN0aW9uKCl7YS5kYXRlPWoucGFyc2Uoei4kdmlld1ZhbHVlLHIsYS5kYXRlKX0pLGIuYmluZCgia2V5ZG93biIscSksQT1kKHgpKGEpLHgucmVtb3ZlKCksdD9mLmZpbmQoImJvZHkiKS5hcHBlbmQoQSk6Yi5hZnRlcihBKSxhLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7YS5pc09wZW49PT0hMCYmKGcuJCRwaGFzZXx8YS4kYXBwbHkoZnVuY3Rpb24oKXthLmlzT3Blbj0hMX0pKSxBLnJlbW92ZSgpLGIudW5iaW5kKCJrZXlkb3duIixxKSxmLnVuYmluZCgiY2xpY2siLHApfSl9LGEuZ2V0VGV4dD1mdW5jdGlvbihiKXtyZXR1cm4gYVtiKyJUZXh0Il18fGtbYisiVGV4dCJdfSxhLmlzRGlzYWJsZWQ9ZnVuY3Rpb24oYil7cmV0dXJuInRvZGF5Ij09PWImJihiPW5ldyBEYXRlKSxhLndhdGNoRGF0YS5taW5EYXRlJiZhLmNvbXBhcmUoYixCLm1pbkRhdGUpPDB8fGEud2F0Y2hEYXRhLm1heERhdGUmJmEuY29tcGFyZShiLEIubWF4RGF0ZSk+MH0sYS5jb21wYXJlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBEYXRlKGEuZ2V0RnVsbFllYXIoKSxhLmdldE1vbnRoKCksYS5nZXREYXRlKCkpLW5ldyBEYXRlKGIuZ2V0RnVsbFllYXIoKSxiLmdldE1vbnRoKCksYi5nZXREYXRlKCkpfSxhLmRhdGVTZWxlY3Rpb249ZnVuY3Rpb24oYyl7YW5ndWxhci5pc0RlZmluZWQoYykmJihhLmRhdGU9Yyk7dmFyIGQ9YS5kYXRlP2koYS5kYXRlLHIpOm51bGw7Yi52YWwoZCksei4kc2V0Vmlld1ZhbHVlKGQpLHMmJihhLmlzT3Blbj0hMSxiWzBdLmZvY3VzKCkpfSxhLmtleWRvd249ZnVuY3Rpb24oYyl7Mjc9PT1jLndoaWNoJiYoYS5pc09wZW49ITEsYlswXS5mb2N1cygpKX0sYS5zZWxlY3Q9ZnVuY3Rpb24oYil7aWYoInRvZGF5Ij09PWIpe3ZhciBjPW5ldyBEYXRlO2FuZ3VsYXIuaXNEYXRlKGEuZGF0ZSk/KGI9bmV3IERhdGUoYS5kYXRlKSxiLnNldEZ1bGxZZWFyKGMuZ2V0RnVsbFllYXIoKSxjLmdldE1vbnRoKCksYy5nZXREYXRlKCkpKTpiPW5ldyBEYXRlKGMuc2V0SG91cnMoMCwwLDAsMCkpfWEuZGF0ZVNlbGVjdGlvbihiKX0sYS5jbG9zZT1mdW5jdGlvbigpe2EuaXNPcGVuPSExLGJbMF0uZm9jdXMoKX0sYS4kd2F0Y2goImlzT3BlbiIsZnVuY3Rpb24oYyl7Yz8oYS5wb3NpdGlvbj10P2gub2Zmc2V0KGIpOmgucG9zaXRpb24oYiksYS5wb3NpdGlvbi50b3A9YS5wb3NpdGlvbi50b3ArYi5wcm9wKCJvZmZzZXRIZWlnaHQiKSxsKGZ1bmN0aW9uKCl7dSYmYS4kYnJvYWRjYXN0KCJ1aWI6ZGF0ZXBpY2tlci5mb2N1cyIpLGYuYmluZCgiY2xpY2siLHApfSwwLCExKSk6Zi51bmJpbmQoImNsaWNrIixwKX0pfV0pLmRpcmVjdGl2ZSgidWliRGF0ZXBpY2tlclBvcHVwIixmdW5jdGlvbigpe3JldHVybntyZXF1aXJlOlsibmdNb2RlbCIsInVpYkRhdGVwaWNrZXJQb3B1cCJdLGNvbnRyb2xsZXI6IlVpYkRhdGVwaWNrZXJQb3B1cENvbnRyb2xsZXIiLHNjb3BlOntpc09wZW46Ij0/IixjdXJyZW50VGV4dDoiQCIsY2xlYXJUZXh0OiJAIixjbG9zZVRleHQ6IkAiLGRhdGVEaXNhYmxlZDoiJiIsY3VzdG9tQ2xhc3M6IiYifSxsaW5rOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWRbMF0sZj1kWzFdO2YuaW5pdChlKX19fSkuZGlyZWN0aXZlKCJ1aWJEYXRlcGlja2VyUG9wdXBXcmFwIixmdW5jdGlvbigpe3JldHVybntyZXBsYWNlOiEwLHRyYW5zY2x1ZGU6ITAsdGVtcGxhdGVVcmw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50ZW1wbGF0ZVVybHx8InRlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbCJ9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuZGF0ZXBpY2tlciIpLnZhbHVlKCIkZGF0ZXBpY2tlclN1cHByZXNzV2FybmluZyIsITEpLmNvbnRyb2xsZXIoIkRhdGVwaWNrZXJDb250cm9sbGVyIixbIiRzY29wZSIsIiRhdHRycyIsIiRwYXJzZSIsIiRpbnRlcnBvbGF0ZSIsIiRsb2ciLCJkYXRlRmlsdGVyIiwidWliRGF0ZXBpY2tlckNvbmZpZyIsIiRkYXRlcGlja2VyU3VwcHJlc3NFcnJvciIsIiRkYXRlcGlja2VyU3VwcHJlc3NXYXJuaW5nIixmdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsaSl7aXx8ZS53YXJuKCJEYXRlcGlja2VyQ29udHJvbGxlciBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIFVpYkRhdGVwaWNrZXJDb250cm9sbGVyIGluc3RlYWQuIik7dmFyIGo9dGhpcyxrPXskc2V0Vmlld1ZhbHVlOmFuZ3VsYXIubm9vcH07dGhpcy5tb2Rlcz1bImRheSIsIm1vbnRoIiwieWVhciJdLGFuZ3VsYXIuZm9yRWFjaChbImZvcm1hdERheSIsImZvcm1hdE1vbnRoIiwiZm9ybWF0WWVhciIsImZvcm1hdERheUhlYWRlciIsImZvcm1hdERheVRpdGxlIiwiZm9ybWF0TW9udGhUaXRsZSIsInNob3dXZWVrcyIsInN0YXJ0aW5nRGF5IiwieWVhclJhbmdlIiwic2hvcnRjdXRQcm9wYWdhdGlvbiJdLGZ1bmN0aW9uKGMsZSl7altjXT1hbmd1bGFyLmlzRGVmaW5lZChiW2NdKT82PmU/ZChiW2NdKShhLiRwYXJlbnQpOmEuJHBhcmVudC4kZXZhbChiW2NdKTpnW2NdfSksYW5ndWxhci5mb3JFYWNoKFsibWluRGF0ZSIsIm1heERhdGUiXSxmdW5jdGlvbihkKXtiW2RdP2EuJHBhcmVudC4kd2F0Y2goYyhiW2RdKSxmdW5jdGlvbihhKXtqW2RdPWE/bmV3IERhdGUoYSk6bnVsbCxqLnJlZnJlc2hWaWV3KCl9KTpqW2RdPWdbZF0/bmV3IERhdGUoZ1tkXSk6bnVsbH0pLGFuZ3VsYXIuZm9yRWFjaChbIm1pbk1vZGUiLCJtYXhNb2RlIl0sZnVuY3Rpb24oZCl7YltkXT9hLiRwYXJlbnQuJHdhdGNoKGMoYltkXSksZnVuY3Rpb24oYyl7altkXT1hbmd1bGFyLmlzRGVmaW5lZChjKT9jOmJbZF0sYVtkXT1qW2RdLCgibWluTW9kZSI9PWQmJmoubW9kZXMuaW5kZXhPZihhLmRhdGVwaWNrZXJNb2RlKTxqLm1vZGVzLmluZGV4T2YoaltkXSl8fCJtYXhNb2RlIj09ZCYmai5tb2Rlcy5pbmRleE9mKGEuZGF0ZXBpY2tlck1vZGUpPmoubW9kZXMuaW5kZXhPZihqW2RdKSkmJihhLmRhdGVwaWNrZXJNb2RlPWpbZF0pfSk6KGpbZF09Z1tkXXx8bnVsbCxhW2RdPWpbZF0pfSksYS5kYXRlcGlja2VyTW9kZT1hLmRhdGVwaWNrZXJNb2RlfHxnLmRhdGVwaWNrZXJNb2RlLGEudW5pcXVlSWQ9ImRhdGVwaWNrZXItIithLiRpZCsiLSIrTWF0aC5mbG9vcigxZTQqTWF0aC5yYW5kb20oKSksYW5ndWxhci5pc0RlZmluZWQoYi5pbml0RGF0ZSk/KHRoaXMuYWN0aXZlRGF0ZT1hLiRwYXJlbnQuJGV2YWwoYi5pbml0RGF0ZSl8fG5ldyBEYXRlLGEuJHBhcmVudC4kd2F0Y2goYi5pbml0RGF0ZSxmdW5jdGlvbihhKXthJiYoay4kaXNFbXB0eShrLiRtb2RlbFZhbHVlKXx8ay4kaW52YWxpZCkmJihqLmFjdGl2ZURhdGU9YSxqLnJlZnJlc2hWaWV3KCkpfSkpOnRoaXMuYWN0aXZlRGF0ZT1uZXcgRGF0ZSxhLmlzQWN0aXZlPWZ1bmN0aW9uKGIpe3JldHVybiAwPT09ai5jb21wYXJlKGIuZGF0ZSxqLmFjdGl2ZURhdGUpPyhhLmFjdGl2ZURhdGVJZD1iLnVpZCwhMCk6ITF9LHRoaXMuaW5pdD1mdW5jdGlvbihhKXtrPWEsay4kcmVuZGVyPWZ1bmN0aW9uKCl7ai5yZW5kZXIoKX19LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7aWYoay4kdmlld1ZhbHVlKXt2YXIgYT1uZXcgRGF0ZShrLiR2aWV3VmFsdWUpLGI9IWlzTmFOKGEpO2I/dGhpcy5hY3RpdmVEYXRlPWE6aHx8ZS5lcnJvcignRGF0ZXBpY2tlciBkaXJlY3RpdmU6ICJuZy1tb2RlbCIgdmFsdWUgbXVzdCBiZSBhIERhdGUgb2JqZWN0LCBhIG51bWJlciBvZiBtaWxsaXNlY29uZHMgc2luY2UgMDEuMDEuMTk3MCBvciBhIHN0cmluZyByZXByZXNlbnRpbmcgYW4gUkZDMjgyMiBvciBJU08gODYwMSBkYXRlLicpfXRoaXMucmVmcmVzaFZpZXcoKX0sdGhpcy5yZWZyZXNoVmlldz1mdW5jdGlvbigpe2lmKHRoaXMuZWxlbWVudCl7dGhpcy5fcmVmcmVzaFZpZXcoKTt2YXIgYT1rLiR2aWV3VmFsdWU/bmV3IERhdGUoay4kdmlld1ZhbHVlKTpudWxsO2suJHNldFZhbGlkaXR5KCJkYXRlRGlzYWJsZWQiLCFhfHx0aGlzLmVsZW1lbnQmJiF0aGlzLmlzRGlzYWJsZWQoYSkpfX0sdGhpcy5jcmVhdGVEYXRlT2JqZWN0PWZ1bmN0aW9uKGEsYil7dmFyIGM9ay4kdmlld1ZhbHVlP25ldyBEYXRlKGsuJHZpZXdWYWx1ZSk6bnVsbDtyZXR1cm57ZGF0ZTphLGxhYmVsOmYoYSxiKSxzZWxlY3RlZDpjJiYwPT09dGhpcy5jb21wYXJlKGEsYyksZGlzYWJsZWQ6dGhpcy5pc0Rpc2FibGVkKGEpLGN1cnJlbnQ6MD09PXRoaXMuY29tcGFyZShhLG5ldyBEYXRlKSxjdXN0b21DbGFzczp0aGlzLmN1c3RvbUNsYXNzKGEpfX0sdGhpcy5pc0Rpc2FibGVkPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLm1pbkRhdGUmJnRoaXMuY29tcGFyZShjLHRoaXMubWluRGF0ZSk8MHx8dGhpcy5tYXhEYXRlJiZ0aGlzLmNvbXBhcmUoYyx0aGlzLm1heERhdGUpPjB8fGIuZGF0ZURpc2FibGVkJiZhLmRhdGVEaXNhYmxlZCh7ZGF0ZTpjLG1vZGU6YS5kYXRlcGlja2VyTW9kZX0pfSx0aGlzLmN1c3RvbUNsYXNzPWZ1bmN0aW9uKGIpe3JldHVybiBhLmN1c3RvbUNsYXNzKHtkYXRlOmIsbW9kZTphLmRhdGVwaWNrZXJNb2RlfSl9LHRoaXMuc3BsaXQ9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9W107YS5sZW5ndGg+MDspYy5wdXNoKGEuc3BsaWNlKDAsYikpO3JldHVybiBjfSx0aGlzLmZpeFRpbWVab25lPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0SG91cnMoKTthLnNldEhvdXJzKDIzPT09Yj9iKzI6MCl9LGEuc2VsZWN0PWZ1bmN0aW9uKGIpe2lmKGEuZGF0ZXBpY2tlck1vZGU9PT1qLm1pbk1vZGUpe3ZhciBjPWsuJHZpZXdWYWx1ZT9uZXcgRGF0ZShrLiR2aWV3VmFsdWUpOm5ldyBEYXRlKDAsMCwwLDAsMCwwLDApO2Muc2V0RnVsbFllYXIoYi5nZXRGdWxsWWVhcigpLGIuZ2V0TW9udGgoKSxiLmdldERhdGUoKSksay4kc2V0Vmlld1ZhbHVlKGMpLGsuJHJlbmRlcigpfWVsc2Ugai5hY3RpdmVEYXRlPWIsYS5kYXRlcGlja2VyTW9kZT1qLm1vZGVzW2oubW9kZXMuaW5kZXhPZihhLmRhdGVwaWNrZXJNb2RlKS0xXX0sYS5tb3ZlPWZ1bmN0aW9uKGEpe3ZhciBiPWouYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpK2EqKGouc3RlcC55ZWFyc3x8MCksYz1qLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSthKihqLnN0ZXAubW9udGhzfHwwKTtqLmFjdGl2ZURhdGUuc2V0RnVsbFllYXIoYixjLDEpLGoucmVmcmVzaFZpZXcoKX0sYS50b2dnbGVNb2RlPWZ1bmN0aW9uKGIpe2I9Ynx8MSxhLmRhdGVwaWNrZXJNb2RlPT09ai5tYXhNb2RlJiYxPT09Ynx8YS5kYXRlcGlja2VyTW9kZT09PWoubWluTW9kZSYmLTE9PT1ifHwoYS5kYXRlcGlja2VyTW9kZT1qLm1vZGVzW2oubW9kZXMuaW5kZXhPZihhLmRhdGVwaWNrZXJNb2RlKStiXSl9LGEua2V5cz17MTM6ImVudGVyIiwzMjoic3BhY2UiLDMzOiJwYWdldXAiLDM0OiJwYWdlZG93biIsMzU6ImVuZCIsMzY6ImhvbWUiLDM3OiJsZWZ0IiwzODoidXAiLDM5OiJyaWdodCIsNDA6ImRvd24ifTt2YXIgbD1mdW5jdGlvbigpe2ouZWxlbWVudFswXS5mb2N1cygpfTthLiRvbigidWliOmRhdGVwaWNrZXIuZm9jdXMiLGwpLGEua2V5ZG93bj1mdW5jdGlvbihiKXt2YXIgYz1hLmtleXNbYi53aGljaF07aWYoYyYmIWIuc2hpZnRLZXkmJiFiLmFsdEtleSlpZihiLnByZXZlbnREZWZhdWx0KCksai5zaG9ydGN1dFByb3BhZ2F0aW9ufHxiLnN0b3BQcm9wYWdhdGlvbigpLCJlbnRlciI9PT1jfHwic3BhY2UiPT09Yyl7aWYoai5pc0Rpc2FibGVkKGouYWN0aXZlRGF0ZSkpcmV0dXJuO2Euc2VsZWN0KGouYWN0aXZlRGF0ZSl9ZWxzZSFiLmN0cmxLZXl8fCJ1cCIhPT1jJiYiZG93biIhPT1jPyhqLmhhbmRsZUtleURvd24oYyxiKSxqLnJlZnJlc2hWaWV3KCkpOmEudG9nZ2xlTW9kZSgidXAiPT09Yz8xOi0xKX19XSkuZGlyZWN0aXZlKCJkYXRlcGlja2VyIixbIiRsb2ciLCIkZGF0ZXBpY2tlclN1cHByZXNzV2FybmluZyIsZnVuY3Rpb24oYSxiKXtyZXR1cm57cmVwbGFjZTohMCx0ZW1wbGF0ZVVybDpmdW5jdGlvbihhLGIpe3JldHVybiBiLnRlbXBsYXRlVXJsfHwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWwifSxzY29wZTp7ZGF0ZXBpY2tlck1vZGU6Ij0/IixkYXRlRGlzYWJsZWQ6IiYiLGN1c3RvbUNsYXNzOiImIixzaG9ydGN1dFByb3BhZ2F0aW9uOiImPyJ9LHJlcXVpcmU6WyJkYXRlcGlja2VyIiwiXm5nTW9kZWwiXSxjb250cm9sbGVyOiJEYXRlcGlja2VyQ29udHJvbGxlciIsY29udHJvbGxlckFzOiJkYXRlcGlja2VyIixsaW5rOmZ1bmN0aW9uKGMsZCxlLGYpe2J8fGEud2FybigiZGF0ZXBpY2tlciBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIHVpYi1kYXRlcGlja2VyIGluc3RlYWQuIik7dmFyIGc9ZlswXSxoPWZbMV07Zy5pbml0KGgpfX19XSkuZGlyZWN0aXZlKCJkYXlwaWNrZXIiLFsiJGxvZyIsIiRkYXRlcGlja2VyU3VwcHJlc3NXYXJuaW5nIixmdW5jdGlvbihhLGIpe3JldHVybntyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sIixyZXF1aXJlOlsiXmRhdGVwaWNrZXIiLCJkYXlwaWNrZXIiXSxjb250cm9sbGVyOiJVaWJEYXlwaWNrZXJDb250cm9sbGVyIixsaW5rOmZ1bmN0aW9uKGMsZCxlLGYpe2J8fGEud2FybigiZGF5cGlja2VyIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliLWRheXBpY2tlciBpbnN0ZWFkLiIpO3ZhciBnPWZbMF0saD1mWzFdO2guaW5pdChnKX19fV0pLmRpcmVjdGl2ZSgibW9udGhwaWNrZXIiLFsiJGxvZyIsIiRkYXRlcGlja2VyU3VwcHJlc3NXYXJuaW5nIixmdW5jdGlvbihhLGIpe3JldHVybntyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWwiLHJlcXVpcmU6WyJeZGF0ZXBpY2tlciIsIm1vbnRocGlja2VyIl0sY29udHJvbGxlcjoiVWliTW9udGhwaWNrZXJDb250cm9sbGVyIixsaW5rOmZ1bmN0aW9uKGMsZCxlLGYpe2J8fGEud2FybigibW9udGhwaWNrZXIgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB1aWItbW9udGhwaWNrZXIgaW5zdGVhZC4iKTt2YXIgZz1mWzBdLGg9ZlsxXTtoLmluaXQoZyl9fX1dKS5kaXJlY3RpdmUoInllYXJwaWNrZXIiLFsiJGxvZyIsIiRkYXRlcGlja2VyU3VwcHJlc3NXYXJuaW5nIixmdW5jdGlvbihhLGIpe3JldHVybntyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbCIscmVxdWlyZTpbIl5kYXRlcGlja2VyIiwieWVhcnBpY2tlciJdLGNvbnRyb2xsZXI6IlVpYlllYXJwaWNrZXJDb250cm9sbGVyIixsaW5rOmZ1bmN0aW9uKGMsZCxlLGYpe2J8fGEud2FybigieWVhcnBpY2tlciBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIHVpYi15ZWFycGlja2VyIGluc3RlYWQuIik7dmFyIGc9ZlswXTthbmd1bGFyLmV4dGVuZChnLGZbMV0pLGcueWVhcnBpY2tlckluaXQoKSxnLnJlZnJlc2hWaWV3KCl9fX1dKS5kaXJlY3RpdmUoImRhdGVwaWNrZXJQb3B1cCIsWyIkbG9nIiwiJGRhdGVwaWNrZXJTdXBwcmVzc1dhcm5pbmciLGZ1bmN0aW9uKGEsYil7cmV0dXJue3JlcXVpcmU6WyJuZ01vZGVsIiwiZGF0ZXBpY2tlclBvcHVwIl0sY29udHJvbGxlcjoiVWliRGF0ZXBpY2tlclBvcHVwQ29udHJvbGxlciIsc2NvcGU6e2lzT3BlbjoiPT8iLGN1cnJlbnRUZXh0OiJAIixjbGVhclRleHQ6IkAiLGNsb3NlVGV4dDoiQCIsZGF0ZURpc2FibGVkOiImIixjdXN0b21DbGFzczoiJiJ9LGxpbms6ZnVuY3Rpb24oYyxkLGUsZil7Ynx8YS53YXJuKCJkYXRlcGlja2VyLXBvcHVwIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliLWRhdGVwaWNrZXItcG9wdXAgaW5zdGVhZC4iKTt2YXIgZz1mWzBdLGg9ZlsxXTtoLmluaXQoZyl9fX1dKS5kaXJlY3RpdmUoImRhdGVwaWNrZXJQb3B1cFdyYXAiLFsiJGxvZyIsIiRkYXRlcGlja2VyU3VwcHJlc3NXYXJuaW5nIixmdW5jdGlvbihhLGIpe3JldHVybntyZXBsYWNlOiEwLHRyYW5zY2x1ZGU6ITAsdGVtcGxhdGVVcmw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50ZW1wbGF0ZVVybHx8InRlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbCJ9LGxpbms6ZnVuY3Rpb24oKXtifHxhLndhcm4oImRhdGVwaWNrZXItcG9wdXAtd3JhcCBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIHVpYi1kYXRlcGlja2VyLXBvcHVwLXdyYXAgaW5zdGVhZC4iKX19fV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuZHJvcGRvd24iLFsidWkuYm9vdHN0cmFwLnBvc2l0aW9uIl0pLmNvbnN0YW50KCJ1aWJEcm9wZG93bkNvbmZpZyIse29wZW5DbGFzczoib3BlbiJ9KS5zZXJ2aWNlKCJ1aWJEcm9wZG93blNlcnZpY2UiLFsiJGRvY3VtZW50IiwiJHJvb3RTY29wZSIsZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsO3RoaXMub3Blbj1mdW5jdGlvbihiKXtjfHwoYS5iaW5kKCJjbGljayIsZCksYS5iaW5kKCJrZXlkb3duIixlKSksYyYmYyE9PWImJihjLmlzT3Blbj0hMSksYz1ifSx0aGlzLmNsb3NlPWZ1bmN0aW9uKGIpe2M9PT1iJiYoYz1udWxsLGEudW5iaW5kKCJjbGljayIsZCksYS51bmJpbmQoImtleWRvd24iLGUpKX07dmFyIGQ9ZnVuY3Rpb24oYSl7aWYoYyYmKCFhfHwiZGlzYWJsZWQiIT09Yy5nZXRBdXRvQ2xvc2UoKSkpe3ZhciBkPWMuZ2V0VG9nZ2xlRWxlbWVudCgpO2lmKCEoYSYmZCYmZFswXS5jb250YWlucyhhLnRhcmdldCkpKXt2YXIgZT1jLmdldERyb3Bkb3duRWxlbWVudCgpO2EmJiJvdXRzaWRlQ2xpY2siPT09Yy5nZXRBdXRvQ2xvc2UoKSYmZSYmZVswXS5jb250YWlucyhhLnRhcmdldCl8fChjLmlzT3Blbj0hMSxiLiQkcGhhc2V8fGMuJGFwcGx5KCkpfX19LGU9ZnVuY3Rpb24oYSl7Mjc9PT1hLndoaWNoPyhjLmZvY3VzVG9nZ2xlRWxlbWVudCgpLGQoKSk6Yy5pc0tleW5hdkVuYWJsZWQoKSYmLygzOHw0MCkvLnRlc3QoYS53aGljaCkmJmMuaXNPcGVuJiYoYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCksYy5mb2N1c0Ryb3Bkb3duRW50cnkoYS53aGljaCkpfX1dKS5jb250cm9sbGVyKCJVaWJEcm9wZG93bkNvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGVsZW1lbnQiLCIkYXR0cnMiLCIkcGFyc2UiLCJ1aWJEcm9wZG93bkNvbmZpZyIsInVpYkRyb3Bkb3duU2VydmljZSIsIiRhbmltYXRlIiwiJHVpYlBvc2l0aW9uIiwiJGRvY3VtZW50IiwiJGNvbXBpbGUiLCIkdGVtcGxhdGVSZXF1ZXN0IixmdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsaSxqLGspe3ZhciBsLG0sbj10aGlzLG89YS4kbmV3KCkscD1lLm9wZW5DbGFzcyxxPWFuZ3VsYXIubm9vcCxyPWMub25Ub2dnbGU/ZChjLm9uVG9nZ2xlKTphbmd1bGFyLm5vb3Ascz0hMSx0PSExO2IuYWRkQ2xhc3MoImRyb3Bkb3duIiksdGhpcy5pbml0PWZ1bmN0aW9uKCl7Yy5pc09wZW4mJihtPWQoYy5pc09wZW4pLHE9bS5hc3NpZ24sYS4kd2F0Y2gobSxmdW5jdGlvbihhKXtvLmlzT3Blbj0hIWF9KSkscz1hbmd1bGFyLmlzRGVmaW5lZChjLmRyb3Bkb3duQXBwZW5kVG9Cb2R5KSx0PWFuZ3VsYXIuaXNEZWZpbmVkKGMudWliS2V5Ym9hcmROYXYpLHMmJm4uZHJvcGRvd25NZW51JiYoaS5maW5kKCJib2R5IikuYXBwZW5kKG4uZHJvcGRvd25NZW51KSxiLm9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtuLmRyb3Bkb3duTWVudS5yZW1vdmUoKX0pKX0sdGhpcy50b2dnbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG8uaXNPcGVuPWFyZ3VtZW50cy5sZW5ndGg/ISFhOiFvLmlzT3Blbn0sdGhpcy5pc09wZW49ZnVuY3Rpb24oKXtyZXR1cm4gby5pc09wZW59LG8uZ2V0VG9nZ2xlRWxlbWVudD1mdW5jdGlvbigpe3JldHVybiBuLnRvZ2dsZUVsZW1lbnR9LG8uZ2V0QXV0b0Nsb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIGMuYXV0b0Nsb3NlfHwiYWx3YXlzIn0sby5nZXRFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIGJ9LG8uaXNLZXluYXZFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHR9LG8uZm9jdXNEcm9wZG93bkVudHJ5PWZ1bmN0aW9uKGEpe3ZhciBjPW4uZHJvcGRvd25NZW51P2FuZ3VsYXIuZWxlbWVudChuLmRyb3Bkb3duTWVudSkuZmluZCgiYSIpOmFuZ3VsYXIuZWxlbWVudChiKS5maW5kKCJ1bCIpLmVxKDApLmZpbmQoImEiKTtzd2l0Y2goYSl7Y2FzZSA0MDphbmd1bGFyLmlzTnVtYmVyKG4uc2VsZWN0ZWRPcHRpb24pP24uc2VsZWN0ZWRPcHRpb249bi5zZWxlY3RlZE9wdGlvbj09PWMubGVuZ3RoLTE/bi5zZWxlY3RlZE9wdGlvbjpuLnNlbGVjdGVkT3B0aW9uKzE6bi5zZWxlY3RlZE9wdGlvbj0wO2JyZWFrO2Nhc2UgMzg6YW5ndWxhci5pc051bWJlcihuLnNlbGVjdGVkT3B0aW9uKT9uLnNlbGVjdGVkT3B0aW9uPTA9PT1uLnNlbGVjdGVkT3B0aW9uPzA6bi5zZWxlY3RlZE9wdGlvbi0xOm4uc2VsZWN0ZWRPcHRpb249Yy5sZW5ndGgtMX1jW24uc2VsZWN0ZWRPcHRpb25dLmZvY3VzKCl9LG8uZ2V0RHJvcGRvd25FbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIG4uZHJvcGRvd25NZW51fSxvLmZvY3VzVG9nZ2xlRWxlbWVudD1mdW5jdGlvbigpe24udG9nZ2xlRWxlbWVudCYmbi50b2dnbGVFbGVtZW50WzBdLmZvY3VzKCl9LG8uJHdhdGNoKCJpc09wZW4iLGZ1bmN0aW9uKGMsZCl7aWYocyYmbi5kcm9wZG93bk1lbnUpe3ZhciBlPWgucG9zaXRpb25FbGVtZW50cyhiLG4uZHJvcGRvd25NZW51LCJib3R0b20tbGVmdCIsITApLGk9e3RvcDplLnRvcCsicHgiLGRpc3BsYXk6Yz8iYmxvY2siOiJub25lIn0sbT1uLmRyb3Bkb3duTWVudS5oYXNDbGFzcygiZHJvcGRvd24tbWVudS1yaWdodCIpO20/KGkubGVmdD0iYXV0byIsaS5yaWdodD13aW5kb3cuaW5uZXJXaWR0aC0oZS5sZWZ0K2IucHJvcCgib2Zmc2V0V2lkdGgiKSkrInB4Iik6KGkubGVmdD1lLmxlZnQrInB4IixpLnJpZ2h0PSJhdXRvIiksbi5kcm9wZG93bk1lbnUuY3NzKGkpfWlmKGdbYz8iYWRkQ2xhc3MiOiJyZW1vdmVDbGFzcyJdKGIscCkudGhlbihmdW5jdGlvbigpe2FuZ3VsYXIuaXNEZWZpbmVkKGMpJiZjIT09ZCYmcihhLHtvcGVuOiEhY30pfSksYyluLmRyb3Bkb3duTWVudVRlbXBsYXRlVXJsJiZrKG4uZHJvcGRvd25NZW51VGVtcGxhdGVVcmwpLnRoZW4oZnVuY3Rpb24oYSl7bD1vLiRuZXcoKSxqKGEudHJpbSgpKShsLGZ1bmN0aW9uKGEpe3ZhciBiPWE7bi5kcm9wZG93bk1lbnUucmVwbGFjZVdpdGgoYiksbi5kcm9wZG93bk1lbnU9Yn0pfSksby5mb2N1c1RvZ2dsZUVsZW1lbnQoKSxmLm9wZW4obyk7ZWxzZXtpZihuLmRyb3Bkb3duTWVudVRlbXBsYXRlVXJsKXtsJiZsLiRkZXN0cm95KCk7dmFyIHQ9YW5ndWxhci5lbGVtZW50KCc8dWwgY2xhc3M9ImRyb3Bkb3duLW1lbnUiPjwvdWw+Jyk7bi5kcm9wZG93bk1lbnUucmVwbGFjZVdpdGgodCksbi5kcm9wZG93bk1lbnU9dH1mLmNsb3NlKG8pLG4uc2VsZWN0ZWRPcHRpb249bnVsbH1hbmd1bGFyLmlzRnVuY3Rpb24ocSkmJnEoYSxjKX0pLGEuJG9uKCIkbG9jYXRpb25DaGFuZ2VTdWNjZXNzIixmdW5jdGlvbigpeyJkaXNhYmxlZCIhPT1vLmdldEF1dG9DbG9zZSgpJiYoby5pc09wZW49ITEpfSk7dmFyIHU9YS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe28uJGRlc3Ryb3koKX0pO28uJG9uKCIkZGVzdHJveSIsdSl9XSkuZGlyZWN0aXZlKCJ1aWJEcm9wZG93biIsZnVuY3Rpb24oKXtyZXR1cm57Y29udHJvbGxlcjoiVWliRHJvcGRvd25Db250cm9sbGVyIixsaW5rOmZ1bmN0aW9uKGEsYixjLGQpe2QuaW5pdCgpfX19KS5kaXJlY3RpdmUoInVpYkRyb3Bkb3duTWVudSIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkFDIixyZXF1aXJlOiI/XnVpYkRyb3Bkb3duIixsaW5rOmZ1bmN0aW9uKGEsYixjLGQpe2lmKGQmJiFhbmd1bGFyLmlzRGVmaW5lZChjLmRyb3Bkb3duTmVzdGVkKSl7Yi5hZGRDbGFzcygiZHJvcGRvd24tbWVudSIpO3ZhciBlPWMudGVtcGxhdGVVcmw7ZSYmKGQuZHJvcGRvd25NZW51VGVtcGxhdGVVcmw9ZSksZC5kcm9wZG93bk1lbnV8fChkLmRyb3Bkb3duTWVudT1iKX19fX0pLmRpcmVjdGl2ZSgidWliS2V5Ym9hcmROYXYiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJBIixyZXF1aXJlOiI/XnVpYkRyb3Bkb3duIixsaW5rOmZ1bmN0aW9uKGEsYixjLGQpe2IuYmluZCgia2V5ZG93biIsZnVuY3Rpb24oYSl7aWYoLTEhPT1bMzgsNDBdLmluZGV4T2YoYS53aGljaCkpe2EucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpO3ZhciBiPWQuZHJvcGRvd25NZW51LmZpbmQoImEiKTtzd2l0Y2goYS53aGljaCl7Y2FzZSA0MDphbmd1bGFyLmlzTnVtYmVyKGQuc2VsZWN0ZWRPcHRpb24pP2Quc2VsZWN0ZWRPcHRpb249ZC5zZWxlY3RlZE9wdGlvbj09PWIubGVuZ3RoLTE/ZC5zZWxlY3RlZE9wdGlvbjpkLnNlbGVjdGVkT3B0aW9uKzE6ZC5zZWxlY3RlZE9wdGlvbj0wO2JyZWFrO2Nhc2UgMzg6YW5ndWxhci5pc051bWJlcihkLnNlbGVjdGVkT3B0aW9uKT9kLnNlbGVjdGVkT3B0aW9uPTA9PT1kLnNlbGVjdGVkT3B0aW9uPzA6ZC5zZWxlY3RlZE9wdGlvbi0xOmQuc2VsZWN0ZWRPcHRpb249Yi5sZW5ndGgtMX1iW2Quc2VsZWN0ZWRPcHRpb25dLmZvY3VzKCl9fSl9fX0pLmRpcmVjdGl2ZSgidWliRHJvcGRvd25Ub2dnbGUiLGZ1bmN0aW9uKCl7cmV0dXJue3JlcXVpcmU6Ij9edWliRHJvcGRvd24iLGxpbms6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoZCl7Yi5hZGRDbGFzcygiZHJvcGRvd24tdG9nZ2xlIiksZC50b2dnbGVFbGVtZW50PWI7dmFyIGU9ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGIuaGFzQ2xhc3MoImRpc2FibGVkIil8fGMuZGlzYWJsZWR8fGEuJGFwcGx5KGZ1bmN0aW9uKCl7ZC50b2dnbGUoKX0pfTtiLmJpbmQoImNsaWNrIixlKSxiLmF0dHIoeyJhcmlhLWhhc3BvcHVwIjohMCwiYXJpYS1leHBhbmRlZCI6ITF9KSxhLiR3YXRjaChkLmlzT3BlbixmdW5jdGlvbihhKXtiLmF0dHIoImFyaWEtZXhwYW5kZWQiLCEhYSl9KSxhLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7Yi51bmJpbmQoImNsaWNrIixlKX0pfX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5kcm9wZG93biIpLnZhbHVlKCIkZHJvcGRvd25TdXBwcmVzc1dhcm5pbmciLCExKS5zZXJ2aWNlKCJkcm9wZG93blNlcnZpY2UiLFsiJGxvZyIsIiRkcm9wZG93blN1cHByZXNzV2FybmluZyIsInVpYkRyb3Bkb3duU2VydmljZSIsZnVuY3Rpb24oYSxiLGMpe2J8fGEud2FybigiZHJvcGRvd25TZXJ2aWNlIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliRHJvcGRvd25TZXJ2aWNlIGluc3RlYWQuIiksYW5ndWxhci5leHRlbmQodGhpcyxjKX1dKS5jb250cm9sbGVyKCJEcm9wZG93bkNvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGVsZW1lbnQiLCIkYXR0cnMiLCIkcGFyc2UiLCJ1aWJEcm9wZG93bkNvbmZpZyIsInVpYkRyb3Bkb3duU2VydmljZSIsIiRhbmltYXRlIiwiJHVpYlBvc2l0aW9uIiwiJGRvY3VtZW50IiwiJGNvbXBpbGUiLCIkdGVtcGxhdGVSZXF1ZXN0IiwiJGxvZyIsIiRkcm9wZG93blN1cHByZXNzV2FybmluZyIsZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGksaixrLGwsbSl7bXx8bC53YXJuKCJEcm9wZG93bkNvbnRyb2xsZXIgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSBVaWJEcm9wZG93bkNvbnRyb2xsZXIgaW5zdGVhZC4iKTt2YXIgbixvLHA9dGhpcyxxPWEuJG5ldygpLHI9ZS5vcGVuQ2xhc3Mscz1hbmd1bGFyLm5vb3AsdD1jLm9uVG9nZ2xlP2QoYy5vblRvZ2dsZSk6YW5ndWxhci5ub29wLHU9ITEsdj0hMTtiLmFkZENsYXNzKCJkcm9wZG93biIpLHRoaXMuaW5pdD1mdW5jdGlvbigpe2MuaXNPcGVuJiYobz1kKGMuaXNPcGVuKSxzPW8uYXNzaWduLGEuJHdhdGNoKG8sZnVuY3Rpb24oYSl7cS5pc09wZW49ISFhfSkpLHU9YW5ndWxhci5pc0RlZmluZWQoYy5kcm9wZG93bkFwcGVuZFRvQm9keSksdj1hbmd1bGFyLmlzRGVmaW5lZChjLnVpYktleWJvYXJkTmF2KSx1JiZwLmRyb3Bkb3duTWVudSYmKGkuZmluZCgiYm9keSIpLmFwcGVuZChwLmRyb3Bkb3duTWVudSksYi5vbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7cC5kcm9wZG93bk1lbnUucmVtb3ZlKCl9KSl9LHRoaXMudG9nZ2xlPWZ1bmN0aW9uKGEpe3JldHVybiBxLmlzT3Blbj1hcmd1bWVudHMubGVuZ3RoPyEhYTohcS5pc09wZW59LHRoaXMuaXNPcGVuPWZ1bmN0aW9uKCl7cmV0dXJuIHEuaXNPcGVufSxxLmdldFRvZ2dsZUVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gcC50b2dnbGVFbGVtZW50fSxxLmdldEF1dG9DbG9zZT1mdW5jdGlvbigpe3JldHVybiBjLmF1dG9DbG9zZXx8ImFsd2F5cyJ9LHEuZ2V0RWxlbWVudD1mdW5jdGlvbigpe3JldHVybiBifSxxLmlzS2V5bmF2RW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB2fSxxLmZvY3VzRHJvcGRvd25FbnRyeT1mdW5jdGlvbihhKXt2YXIgYz1wLmRyb3Bkb3duTWVudT9hbmd1bGFyLmVsZW1lbnQocC5kcm9wZG93bk1lbnUpLmZpbmQoImEiKTphbmd1bGFyLmVsZW1lbnQoYikuZmluZCgidWwiKS5lcSgwKS5maW5kKCJhIik7c3dpdGNoKGEpe2Nhc2UgNDA6YW5ndWxhci5pc051bWJlcihwLnNlbGVjdGVkT3B0aW9uKT9wLnNlbGVjdGVkT3B0aW9uPXAuc2VsZWN0ZWRPcHRpb249PT1jLmxlbmd0aC0xP3Auc2VsZWN0ZWRPcHRpb246cC5zZWxlY3RlZE9wdGlvbisxOnAuc2VsZWN0ZWRPcHRpb249MDticmVhaztjYXNlIDM4OmFuZ3VsYXIuaXNOdW1iZXIocC5zZWxlY3RlZE9wdGlvbik/cC5zZWxlY3RlZE9wdGlvbj0wPT09cC5zZWxlY3RlZE9wdGlvbj8wOnAuc2VsZWN0ZWRPcHRpb24tMTpwLnNlbGVjdGVkT3B0aW9uPWMubGVuZ3RoLTF9Y1twLnNlbGVjdGVkT3B0aW9uXS5mb2N1cygpfSxxLmdldERyb3Bkb3duRWxlbWVudD1mdW5jdGlvbigpe3JldHVybiBwLmRyb3Bkb3duTWVudX0scS5mb2N1c1RvZ2dsZUVsZW1lbnQ9ZnVuY3Rpb24oKXtwLnRvZ2dsZUVsZW1lbnQmJnAudG9nZ2xlRWxlbWVudFswXS5mb2N1cygpfSxxLiR3YXRjaCgiaXNPcGVuIixmdW5jdGlvbihjLGQpe2lmKHUmJnAuZHJvcGRvd25NZW51KXt2YXIgZT1oLnBvc2l0aW9uRWxlbWVudHMoYixwLmRyb3Bkb3duTWVudSwiYm90dG9tLWxlZnQiLCEwKSxpPXt0b3A6ZS50b3ArInB4IixkaXNwbGF5OmM/ImJsb2NrIjoibm9uZSJ9LGw9cC5kcm9wZG93bk1lbnUuaGFzQ2xhc3MoImRyb3Bkb3duLW1lbnUtcmlnaHQiKTtsPyhpLmxlZnQ9ImF1dG8iLGkucmlnaHQ9d2luZG93LmlubmVyV2lkdGgtKGUubGVmdCtiLnByb3AoIm9mZnNldFdpZHRoIikpKyJweCIpOihpLmxlZnQ9ZS5sZWZ0KyJweCIsaS5yaWdodD0iYXV0byIpLHAuZHJvcGRvd25NZW51LmNzcyhpKX1pZihnW2M/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXShiLHIpLnRoZW4oZnVuY3Rpb24oKXthbmd1bGFyLmlzRGVmaW5lZChjKSYmYyE9PWQmJnQoYSx7b3BlbjohIWN9KX0pLGMpcC5kcm9wZG93bk1lbnVUZW1wbGF0ZVVybCYmayhwLmRyb3Bkb3duTWVudVRlbXBsYXRlVXJsKS50aGVuKGZ1bmN0aW9uKGEpe249cS4kbmV3KCksaihhLnRyaW0oKSkobixmdW5jdGlvbihhKXt2YXIgYj1hO3AuZHJvcGRvd25NZW51LnJlcGxhY2VXaXRoKGIpLHAuZHJvcGRvd25NZW51PWJ9KX0pLHEuZm9jdXNUb2dnbGVFbGVtZW50KCksZi5vcGVuKHEpO2Vsc2V7aWYocC5kcm9wZG93bk1lbnVUZW1wbGF0ZVVybCl7biYmbi4kZGVzdHJveSgpO3ZhciBtPWFuZ3VsYXIuZWxlbWVudCgnPHVsIGNsYXNzPSJkcm9wZG93bi1tZW51Ij48L3VsPicpO3AuZHJvcGRvd25NZW51LnJlcGxhY2VXaXRoKG0pLHAuZHJvcGRvd25NZW51PW19Zi5jbG9zZShxKSxwLnNlbGVjdGVkT3B0aW9uPW51bGx9YW5ndWxhci5pc0Z1bmN0aW9uKHMpJiZzKGEsYyl9KSxhLiRvbigiJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcyIsZnVuY3Rpb24oKXsiZGlzYWJsZWQiIT09cS5nZXRBdXRvQ2xvc2UoKSYmKHEuaXNPcGVuPSExKX0pO3ZhciB3PWEuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtxLiRkZXN0cm95KCl9KTtxLiRvbigiJGRlc3Ryb3kiLHcpfV0pLmRpcmVjdGl2ZSgiZHJvcGRvd24iLFsiJGxvZyIsIiRkcm9wZG93blN1cHByZXNzV2FybmluZyIsZnVuY3Rpb24oYSxiKXtyZXR1cm57Y29udHJvbGxlcjoiRHJvcGRvd25Db250cm9sbGVyIixsaW5rOmZ1bmN0aW9uKGMsZCxlLGYpe2J8fGEud2FybigiZHJvcGRvd24gaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB1aWItZHJvcGRvd24gaW5zdGVhZC4iKSxmLmluaXQoKX19fV0pLmRpcmVjdGl2ZSgiZHJvcGRvd25NZW51IixbIiRsb2ciLCIkZHJvcGRvd25TdXBwcmVzc1dhcm5pbmciLGZ1bmN0aW9uKGEsYil7cmV0dXJue3Jlc3RyaWN0OiJBQyIscmVxdWlyZToiP15kcm9wZG93biIsbGluazpmdW5jdGlvbihjLGQsZSxmKXtpZihmJiYhYW5ndWxhci5pc0RlZmluZWQoZS5kcm9wZG93bk5lc3RlZCkpe2J8fGEud2FybigiZHJvcGRvd24tbWVudSBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIHVpYi1kcm9wZG93bi1tZW51IGluc3RlYWQuIiksZC5hZGRDbGFzcygiZHJvcGRvd24tbWVudSIpO3ZhciBnPWUudGVtcGxhdGVVcmw7ZyYmKGYuZHJvcGRvd25NZW51VGVtcGxhdGVVcmw9ZyksZi5kcm9wZG93bk1lbnV8fChmLmRyb3Bkb3duTWVudT1kKX19fX1dKS5kaXJlY3RpdmUoImtleWJvYXJkTmF2IixbIiRsb2ciLCIkZHJvcGRvd25TdXBwcmVzc1dhcm5pbmciLGZ1bmN0aW9uKGEsYil7cmV0dXJue3Jlc3RyaWN0OiJBIixyZXF1aXJlOiI/XmRyb3Bkb3duIixsaW5rOmZ1bmN0aW9uKGMsZCxlLGYpe2J8fGEud2Fybigia2V5Ym9hcmQtbmF2IGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliLWtleWJvYXJkLW5hdiBpbnN0ZWFkLiIpLGQuYmluZCgia2V5ZG93biIsZnVuY3Rpb24oYSl7aWYoLTEhPT1bMzgsNDBdLmluZGV4T2YoYS53aGljaCkpe2EucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpO3ZhciBiPWYuZHJvcGRvd25NZW51LmZpbmQoImEiKTtzd2l0Y2goYS53aGljaCl7Y2FzZSA0MDphbmd1bGFyLmlzTnVtYmVyKGYuc2VsZWN0ZWRPcHRpb24pP2Yuc2VsZWN0ZWRPcHRpb249Zi5zZWxlY3RlZE9wdGlvbj09PWIubGVuZ3RoLTE/Zi5zZWxlY3RlZE9wdGlvbjpmLnNlbGVjdGVkT3B0aW9uKzE6Zi5zZWxlY3RlZE9wdGlvbj0wO2JyZWFrO2Nhc2UgMzg6YW5ndWxhci5pc051bWJlcihmLnNlbGVjdGVkT3B0aW9uKT9mLnNlbGVjdGVkT3B0aW9uPTA9PT1mLnNlbGVjdGVkT3B0aW9uPzA6Zi5zZWxlY3RlZE9wdGlvbi0xOmYuc2VsZWN0ZWRPcHRpb249Yi5sZW5ndGgtMX1iW2Yuc2VsZWN0ZWRPcHRpb25dLmZvY3VzKCl9fSl9fX1dKS5kaXJlY3RpdmUoImRyb3Bkb3duVG9nZ2xlIixbIiRsb2ciLCIkZHJvcGRvd25TdXBwcmVzc1dhcm5pbmciLGZ1bmN0aW9uKGEsYil7cmV0dXJue3JlcXVpcmU6Ij9eZHJvcGRvd24iLGxpbms6ZnVuY3Rpb24oYyxkLGUsZil7aWYoYnx8YS53YXJuKCJkcm9wZG93bi10b2dnbGUgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB1aWItZHJvcGRvd24tdG9nZ2xlIGluc3RlYWQuIiksZil7ZC5hZGRDbGFzcygiZHJvcGRvd24tdG9nZ2xlIiksZi50b2dnbGVFbGVtZW50PWQ7dmFyIGc9ZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLGQuaGFzQ2xhc3MoImRpc2FibGVkIil8fGUuZGlzYWJsZWR8fGMuJGFwcGx5KGZ1bmN0aW9uKCl7Zi50b2dnbGUoKX0pfTtkLmJpbmQoImNsaWNrIixnKSxkLmF0dHIoeyJhcmlhLWhhc3BvcHVwIjohMCwiYXJpYS1leHBhbmRlZCI6ITF9KSxjLiR3YXRjaChmLmlzT3BlbixmdW5jdGlvbihhKXtkLmF0dHIoImFyaWEtZXhwYW5kZWQiLCEhYSl9KSxjLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7ZC51bmJpbmQoImNsaWNrIixnKX0pfX19fV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuc3RhY2tlZE1hcCIsW10pLmZhY3RvcnkoIiQkc3RhY2tlZE1hcCIsZnVuY3Rpb24oKXtyZXR1cm57Y3JlYXRlTmV3OmZ1bmN0aW9uKCl7dmFyIGE9W107cmV0dXJue2FkZDpmdW5jdGlvbihiLGMpe2EucHVzaCh7a2V5OmIsdmFsdWU6Y30pfSxnZXQ6ZnVuY3Rpb24oYil7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspaWYoYj09YVtjXS5rZXkpcmV0dXJuIGFbY119LGtleXM6ZnVuY3Rpb24oKXtmb3IodmFyIGI9W10sYz0wO2M8YS5sZW5ndGg7YysrKWIucHVzaChhW2NdLmtleSk7cmV0dXJuIGJ9LHRvcDpmdW5jdGlvbigpe3JldHVybiBhW2EubGVuZ3RoLTFdfSxyZW1vdmU6ZnVuY3Rpb24oYil7Zm9yKHZhciBjPS0xLGQ9MDtkPGEubGVuZ3RoO2QrKylpZihiPT1hW2RdLmtleSl7Yz1kO2JyZWFrfXJldHVybiBhLnNwbGljZShjLDEpWzBdfSxyZW1vdmVUb3A6ZnVuY3Rpb24oKXtyZXR1cm4gYS5zcGxpY2UoYS5sZW5ndGgtMSwxKVswXX0sbGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIGEubGVuZ3RofX19fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAubW9kYWwiLFsidWkuYm9vdHN0cmFwLnN0YWNrZWRNYXAiXSkuZmFjdG9yeSgiJCRtdWx0aU1hcCIsZnVuY3Rpb24oKXtyZXR1cm57Y3JlYXRlTmV3OmZ1bmN0aW9uKCl7dmFyIGE9e307cmV0dXJue2VudHJpZXM6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmtleXMoYSkubWFwKGZ1bmN0aW9uKGIpe3JldHVybntrZXk6Yix2YWx1ZTphW2JdfX0pfSxnZXQ6ZnVuY3Rpb24oYil7cmV0dXJuIGFbYl19LGhhc0tleTpmdW5jdGlvbihiKXtyZXR1cm4hIWFbYl19LGtleXM6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmtleXMoYSl9LHB1dDpmdW5jdGlvbihiLGMpe2FbYl18fChhW2JdPVtdKSxhW2JdLnB1c2goYyl9LHJlbW92ZTpmdW5jdGlvbihiLGMpe3ZhciBkPWFbYl07aWYoZCl7dmFyIGU9ZC5pbmRleE9mKGMpOy0xIT09ZSYmZC5zcGxpY2UoZSwxKSxkLmxlbmd0aHx8ZGVsZXRlIGFbYl19fX19fX0pLmRpcmVjdGl2ZSgidWliTW9kYWxCYWNrZHJvcCIsWyIkYW5pbWF0ZSIsIiRpbmplY3RvciIsIiR1aWJNb2RhbFN0YWNrIixmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChiLGQsZil7ZC5hZGRDbGFzcygibW9kYWwtYmFja2Ryb3AiKSxmLm1vZGFsSW5DbGFzcyYmKGU/ZShkLHthZGRDbGFzczpmLm1vZGFsSW5DbGFzc30pLnN0YXJ0KCk6YS5hZGRDbGFzcyhkLGYubW9kYWxJbkNsYXNzKSxiLiRvbihjLk5PV19DTE9TSU5HX0VWRU5ULGZ1bmN0aW9uKGIsYyl7dmFyIGc9YygpO2U/ZShkLHtyZW1vdmVDbGFzczpmLm1vZGFsSW5DbGFzc30pLnN0YXJ0KCkudGhlbihnKTphLnJlbW92ZUNsYXNzKGQsZi5tb2RhbEluQ2xhc3MpLnRoZW4oZyl9KSl9dmFyIGU9bnVsbDtyZXR1cm4gYi5oYXMoIiRhbmltYXRlQ3NzIikmJihlPWIuZ2V0KCIkYW5pbWF0ZUNzcyIpKSx7cmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbCIsY29tcGlsZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLmFkZENsYXNzKGIuYmFja2Ryb3BDbGFzcyksZH19fV0pLmRpcmVjdGl2ZSgidWliTW9kYWxXaW5kb3ciLFsiJHVpYk1vZGFsU3RhY2siLCIkcSIsIiRhbmltYXRlIiwiJGluamVjdG9yIixmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1udWxsO3JldHVybiBkLmhhcygiJGFuaW1hdGVDc3MiKSYmKGU9ZC5nZXQoIiRhbmltYXRlQ3NzIikpLHtzY29wZTp7aW5kZXg6IkAifSxyZXBsYWNlOiEwLHRyYW5zY2x1ZGU6ITAsdGVtcGxhdGVVcmw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50ZW1wbGF0ZVVybHx8InRlbXBsYXRlL21vZGFsL3dpbmRvdy5odG1sIn0sbGluazpmdW5jdGlvbihkLGYsZyl7Zi5hZGRDbGFzcyhnLndpbmRvd0NsYXNzfHwiIiksZi5hZGRDbGFzcyhnLndpbmRvd1RvcENsYXNzfHwiIiksZC5zaXplPWcuc2l6ZSxkLmNsb3NlPWZ1bmN0aW9uKGIpe3ZhciBjPWEuZ2V0VG9wKCk7YyYmYy52YWx1ZS5iYWNrZHJvcCYmInN0YXRpYyIhPT1jLnZhbHVlLmJhY2tkcm9wJiZiLnRhcmdldD09PWIuY3VycmVudFRhcmdldCYmKGIucHJldmVudERlZmF1bHQoKSxiLnN0b3BQcm9wYWdhdGlvbigpLGEuZGlzbWlzcyhjLmtleSwiYmFja2Ryb3AgY2xpY2siKSl9LGYub24oImNsaWNrIixkLmNsb3NlKSxkLiRpc1JlbmRlcmVkPSEwO3ZhciBoPWIuZGVmZXIoKTtnLiRvYnNlcnZlKCJtb2RhbFJlbmRlciIsZnVuY3Rpb24oYSl7InRydWUiPT1hJiZoLnJlc29sdmUoKX0pLGgucHJvbWlzZS50aGVuKGZ1bmN0aW9uKCl7dmFyIGg9bnVsbDtnLm1vZGFsSW5DbGFzcyYmKGg9ZT9lKGYse2FkZENsYXNzOmcubW9kYWxJbkNsYXNzfSkuc3RhcnQoKTpjLmFkZENsYXNzKGYsZy5tb2RhbEluQ2xhc3MpLGQuJG9uKGEuTk9XX0NMT1NJTkdfRVZFTlQsZnVuY3Rpb24oYSxiKXt2YXIgZD1iKCk7ZT9lKGYse3JlbW92ZUNsYXNzOmcubW9kYWxJbkNsYXNzfSkuc3RhcnQoKS50aGVuKGQpOmMucmVtb3ZlQ2xhc3MoZixnLm1vZGFsSW5DbGFzcykudGhlbihkKX0pKSxiLndoZW4oaCkudGhlbihmdW5jdGlvbigpe3ZhciBhPWZbMF0ucXVlcnlTZWxlY3RvcigiW2F1dG9mb2N1c10iKTthP2EuZm9jdXMoKTpmWzBdLmZvY3VzKCl9KTt2YXIgaT1hLmdldFRvcCgpO2kmJmEubW9kYWxSZW5kZXJlZChpLmtleSl9KX19fV0pLmRpcmVjdGl2ZSgidWliTW9kYWxBbmltYXRpb25DbGFzcyIsZnVuY3Rpb24oKXtyZXR1cm57Y29tcGlsZTpmdW5jdGlvbihhLGIpe2IubW9kYWxBbmltYXRpb24mJmEuYWRkQ2xhc3MoYi51aWJNb2RhbEFuaW1hdGlvbkNsYXNzKX19fSkuZGlyZWN0aXZlKCJ1aWJNb2RhbFRyYW5zY2x1ZGUiLGZ1bmN0aW9uKCl7cmV0dXJue2xpbms6ZnVuY3Rpb24oYSxiLGMsZCxlKXtlKGEuJHBhcmVudCxmdW5jdGlvbihhKXtiLmVtcHR5KCksYi5hcHBlbmQoYSl9KX19fSkuZmFjdG9yeSgiJHVpYk1vZGFsU3RhY2siLFsiJGFuaW1hdGUiLCIkdGltZW91dCIsIiRkb2N1bWVudCIsIiRjb21waWxlIiwiJHJvb3RTY29wZSIsIiRxIiwiJGluamVjdG9yIiwiJCRtdWx0aU1hcCIsIiQkc3RhY2tlZE1hcCIsZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGkpe2Z1bmN0aW9uIGooKXtmb3IodmFyIGE9LTEsYj11LmtleXMoKSxjPTA7YzxiLmxlbmd0aDtjKyspdS5nZXQoYltjXSkudmFsdWUuYmFja2Ryb3AmJihhPWMpO3JldHVybiBhfWZ1bmN0aW9uIGsoYSxiKXt2YXIgZD1jLmZpbmQoImJvZHkiKS5lcSgwKSxlPXUuZ2V0KGEpLnZhbHVlO3UucmVtb3ZlKGEpLG4oZS5tb2RhbERvbUVsLGUubW9kYWxTY29wZSxmdW5jdGlvbigpe3ZhciBiPWUub3BlbmVkQ2xhc3N8fHQ7di5yZW1vdmUoYixhKSxkLnRvZ2dsZUNsYXNzKGIsdi5oYXNLZXkoYikpLGwoITApfSksbSgpLGImJmIuZm9jdXM/Yi5mb2N1cygpOmQuZm9jdXMoKX1mdW5jdGlvbiBsKGEpe3ZhciBiO3UubGVuZ3RoKCk+MCYmKGI9dS50b3AoKS52YWx1ZSxiLm1vZGFsRG9tRWwudG9nZ2xlQ2xhc3MoYi53aW5kb3dUb3BDbGFzc3x8IiIsYSkpfWZ1bmN0aW9uIG0oKXtpZihxJiYtMT09aigpKXt2YXIgYT1yO24ocSxyLGZ1bmN0aW9uKCl7YT1udWxsfSkscT12b2lkIDAscj12b2lkIDB9fWZ1bmN0aW9uIG4oYixjLGQpe2Z1bmN0aW9uIGUoKXtlLmRvbmV8fChlLmRvbmU9ITAscD9wKGIse2V2ZW50OiJsZWF2ZSJ9KS5zdGFydCgpLnRoZW4oZnVuY3Rpb24oKXtiLnJlbW92ZSgpfSk6YS5sZWF2ZShiKSxjLiRkZXN0cm95KCksZCYmZCgpKX12YXIgZyxoPW51bGwsaT1mdW5jdGlvbigpe3JldHVybiBnfHwoZz1mLmRlZmVyKCksaD1nLnByb21pc2UpLGZ1bmN0aW9uKCl7Zy5yZXNvbHZlKCl9fTtyZXR1cm4gYy4kYnJvYWRjYXN0KHcuTk9XX0NMT1NJTkdfRVZFTlQsaSksZi53aGVuKGgpLnRoZW4oZSl9ZnVuY3Rpb24gbyhhLGIsYyl7cmV0dXJuIWEudmFsdWUubW9kYWxTY29wZS4kYnJvYWRjYXN0KCJtb2RhbC5jbG9zaW5nIixiLGMpLmRlZmF1bHRQcmV2ZW50ZWR9dmFyIHA9bnVsbDtnLmhhcygiJGFuaW1hdGVDc3MiKSYmKHA9Zy5nZXQoIiRhbmltYXRlQ3NzIikpO3ZhciBxLHIscyx0PSJtb2RhbC1vcGVuIix1PWkuY3JlYXRlTmV3KCksdj1oLmNyZWF0ZU5ldygpLHc9e05PV19DTE9TSU5HX0VWRU5UOiJtb2RhbC5zdGFjay5ub3ctY2xvc2luZyJ9LHg9MCx5PSJhW2hyZWZdLCBhcmVhW2hyZWZdLCBpbnB1dDpub3QoW2Rpc2FibGVkXSksIGJ1dHRvbjpub3QoW2Rpc2FibGVkXSksc2VsZWN0Om5vdChbZGlzYWJsZWRdKSwgdGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pLCBpZnJhbWUsIG9iamVjdCwgZW1iZWQsICpbdGFiaW5kZXhdLCAqW2NvbnRlbnRlZGl0YWJsZT10cnVlXSI7cmV0dXJuIGUuJHdhdGNoKGosZnVuY3Rpb24oYSl7ciYmKHIuaW5kZXg9YSl9KSxjLmJpbmQoImtleWRvd24iLGZ1bmN0aW9uKGEpe2lmKGEuaXNEZWZhdWx0UHJldmVudGVkKCkpcmV0dXJuIGE7dmFyIGI9dS50b3AoKTtpZihiJiZiLnZhbHVlLmtleWJvYXJkKXN3aXRjaChhLndoaWNoKXtjYXNlIDI3OmEucHJldmVudERlZmF1bHQoKSxlLiRhcHBseShmdW5jdGlvbigpe3cuZGlzbWlzcyhiLmtleSwiZXNjYXBlIGtleSBwcmVzcyIpfSk7YnJlYWs7Y2FzZSA5OncubG9hZEZvY3VzRWxlbWVudExpc3QoYik7dmFyIGM9ITE7YS5zaGlmdEtleT93LmlzRm9jdXNJbkZpcnN0SXRlbShhKSYmKGM9dy5mb2N1c0xhc3RGb2N1c2FibGVFbGVtZW50KCkpOncuaXNGb2N1c0luTGFzdEl0ZW0oYSkmJihjPXcuZm9jdXNGaXJzdEZvY3VzYWJsZUVsZW1lbnQoKSksYyYmKGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpKX19KSx3Lm9wZW49ZnVuY3Rpb24oYSxiKXt2YXIgZj1jWzBdLmFjdGl2ZUVsZW1lbnQsZz1iLm9wZW5lZENsYXNzfHx0O2woITEpLHUuYWRkKGEse2RlZmVycmVkOmIuZGVmZXJyZWQscmVuZGVyRGVmZXJyZWQ6Yi5yZW5kZXJEZWZlcnJlZCxtb2RhbFNjb3BlOmIuc2NvcGUsYmFja2Ryb3A6Yi5iYWNrZHJvcCxrZXlib2FyZDpiLmtleWJvYXJkLG9wZW5lZENsYXNzOmIub3BlbmVkQ2xhc3Msd2luZG93VG9wQ2xhc3M6Yi53aW5kb3dUb3BDbGFzc30pLHYucHV0KGcsYSk7dmFyIGg9Yy5maW5kKCJib2R5IikuZXEoMCksaT1qKCk7aWYoaT49MCYmIXEpe3I9ZS4kbmV3KCEwKSxyLmluZGV4PWk7dmFyIGs9YW5ndWxhci5lbGVtZW50KCc8ZGl2IHVpYi1tb2RhbC1iYWNrZHJvcD0ibW9kYWwtYmFja2Ryb3AiPjwvZGl2PicpO2suYXR0cigiYmFja2Ryb3AtY2xhc3MiLGIuYmFja2Ryb3BDbGFzcyksYi5hbmltYXRpb24mJmsuYXR0cigibW9kYWwtYW5pbWF0aW9uIiwidHJ1ZSIpLHE9ZChrKShyKSxoLmFwcGVuZChxKX12YXIgbT1hbmd1bGFyLmVsZW1lbnQoJzxkaXYgdWliLW1vZGFsLXdpbmRvdz0ibW9kYWwtd2luZG93Ij48L2Rpdj4nKTttLmF0dHIoeyJ0ZW1wbGF0ZS11cmwiOmIud2luZG93VGVtcGxhdGVVcmwsIndpbmRvdy1jbGFzcyI6Yi53aW5kb3dDbGFzcywid2luZG93LXRvcC1jbGFzcyI6Yi53aW5kb3dUb3BDbGFzcyxzaXplOmIuc2l6ZSxpbmRleDp1Lmxlbmd0aCgpLTEsYW5pbWF0ZToiYW5pbWF0ZSJ9KS5odG1sKGIuY29udGVudCksYi5hbmltYXRpb24mJm0uYXR0cigibW9kYWwtYW5pbWF0aW9uIiwidHJ1ZSIpO3ZhciBuPWQobSkoYi5zY29wZSk7dS50b3AoKS52YWx1ZS5tb2RhbERvbUVsPW4sdS50b3AoKS52YWx1ZS5tb2RhbE9wZW5lcj1mLGguYXBwZW5kKG4pLGguYWRkQ2xhc3MoZyksdy5jbGVhckZvY3VzTGlzdENhY2hlKCl9LHcuY2xvc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz11LmdldChhKTtyZXR1cm4gYyYmbyhjLGIsITApPyhjLnZhbHVlLm1vZGFsU2NvcGUuJCR1aWJEZXN0cnVjdGlvblNjaGVkdWxlZD0hMCxjLnZhbHVlLmRlZmVycmVkLnJlc29sdmUoYiksayhhLGMudmFsdWUubW9kYWxPcGVuZXIpLCEwKTohY30sdy5kaXNtaXNzPWZ1bmN0aW9uKGEsYil7dmFyIGM9dS5nZXQoYSk7cmV0dXJuIGMmJm8oYyxiLCExKT8oYy52YWx1ZS5tb2RhbFNjb3BlLiQkdWliRGVzdHJ1Y3Rpb25TY2hlZHVsZWQ9ITAsYy52YWx1ZS5kZWZlcnJlZC5yZWplY3QoYiksayhhLGMudmFsdWUubW9kYWxPcGVuZXIpLCEwKTohY30sdy5kaXNtaXNzQWxsPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmdldFRvcCgpO2ImJnRoaXMuZGlzbWlzcyhiLmtleSxhKTspYj10aGlzLmdldFRvcCgpfSx3LmdldFRvcD1mdW5jdGlvbigpe3JldHVybiB1LnRvcCgpfSx3Lm1vZGFsUmVuZGVyZWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dS5nZXQoYSk7YiYmYi52YWx1ZS5yZW5kZXJEZWZlcnJlZC5yZXNvbHZlKCl9LHcuZm9jdXNGaXJzdEZvY3VzYWJsZUVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gcy5sZW5ndGg+MD8oc1swXS5mb2N1cygpLCEwKTohMX0sdy5mb2N1c0xhc3RGb2N1c2FibGVFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHMubGVuZ3RoPjA/KHNbcy5sZW5ndGgtMV0uZm9jdXMoKSwhMCk6ITF9LHcuaXNGb2N1c0luRmlyc3RJdGVtPWZ1bmN0aW9uKGEpe3JldHVybiBzLmxlbmd0aD4wPyhhLnRhcmdldHx8YS5zcmNFbGVtZW50KT09c1swXTohMX0sdy5pc0ZvY3VzSW5MYXN0SXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gcy5sZW5ndGg+MD8oYS50YXJnZXR8fGEuc3JjRWxlbWVudCk9PXNbcy5sZW5ndGgtMV06ITF9LHcuY2xlYXJGb2N1c0xpc3RDYWNoZT1mdW5jdGlvbigpe3M9W10seD0wfSx3LmxvYWRGb2N1c0VsZW1lbnRMaXN0PWZ1bmN0aW9uKGEpe2lmKCh2b2lkIDA9PT1zfHwhcy5sZW5ndGgpJiZhKXt2YXIgYj1hLnZhbHVlLm1vZGFsRG9tRWw7YiYmYi5sZW5ndGgmJihzPWJbMF0ucXVlcnlTZWxlY3RvckFsbCh5KSl9fSx3fV0pLnByb3ZpZGVyKCIkdWliTW9kYWwiLGZ1bmN0aW9uKCl7dmFyIGE9e29wdGlvbnM6e2FuaW1hdGlvbjohMCxiYWNrZHJvcDohMCxrZXlib2FyZDohMH0sJGdldDpbIiRpbmplY3RvciIsIiRyb290U2NvcGUiLCIkcSIsIiR0ZW1wbGF0ZVJlcXVlc3QiLCIkY29udHJvbGxlciIsIiR1aWJNb2RhbFN0YWNrIiwiJG1vZGFsU3VwcHJlc3NXYXJuaW5nIiwiJGxvZyIsZnVuY3Rpb24oYixjLGQsZSxmLGcsaCxpKXtmdW5jdGlvbiBqKGEpe3JldHVybiBhLnRlbXBsYXRlP2Qud2hlbihhLnRlbXBsYXRlKTplKGFuZ3VsYXIuaXNGdW5jdGlvbihhLnRlbXBsYXRlVXJsKT9hLnRlbXBsYXRlVXJsKCk6YS50ZW1wbGF0ZVVybCl9ZnVuY3Rpb24gayhhKXt2YXIgYz1bXTtyZXR1cm4gYW5ndWxhci5mb3JFYWNoKGEsZnVuY3Rpb24oYSl7YW5ndWxhci5pc0Z1bmN0aW9uKGEpfHxhbmd1bGFyLmlzQXJyYXkoYSk/Yy5wdXNoKGQud2hlbihiLmludm9rZShhKSkpOmFuZ3VsYXIuaXNTdHJpbmcoYSk/Yy5wdXNoKGQud2hlbihiLmdldChhKSkpOmMucHVzaChkLndoZW4oYSkpfSksY312YXIgbD17fSxtPW51bGw7cmV0dXJuIGwuZ2V0UHJvbWlzZUNoYWluPWZ1bmN0aW9uKCl7cmV0dXJuIG19LGwub3Blbj1mdW5jdGlvbihiKXtmdW5jdGlvbiBlKCl7cmV0dXJuIHJ9dmFyIGw9ZC5kZWZlcigpLG49ZC5kZWZlcigpLG89ZC5kZWZlcigpLHA9e3Jlc3VsdDpsLnByb21pc2Usb3BlbmVkOm4ucHJvbWlzZSxyZW5kZXJlZDpvLnByb21pc2UsY2xvc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGcuY2xvc2UocCxhKX0sZGlzbWlzczpmdW5jdGlvbihhKXtyZXR1cm4gZy5kaXNtaXNzKHAsYSl9fTtpZihiPWFuZ3VsYXIuZXh0ZW5kKHt9LGEub3B0aW9ucyxiKSxiLnJlc29sdmU9Yi5yZXNvbHZlfHx7fSwhYi50ZW1wbGF0ZSYmIWIudGVtcGxhdGVVcmwpdGhyb3cgbmV3IEVycm9yKCJPbmUgb2YgdGVtcGxhdGUgb3IgdGVtcGxhdGVVcmwgb3B0aW9ucyBpcyByZXF1aXJlZC4iKTt2YXIgcSxyPWQuYWxsKFtqKGIpXS5jb25jYXQoayhiLnJlc29sdmUpKSk7cmV0dXJuIHE9bT1kLmFsbChbbV0pLnRoZW4oZSxlKS50aGVuKGZ1bmN0aW9uKGEpe3ZhciBkPShiLnNjb3BlfHxjKS4kbmV3KCk7ZC4kY2xvc2U9cC5jbG9zZSxkLiRkaXNtaXNzPXAuZGlzbWlzcyxkLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7ZC4kJHVpYkRlc3RydWN0aW9uU2NoZWR1bGVkfHxkLiRkaXNtaXNzKCIkdWliVW5zY2hlZHVsZWREZXN0cnVjdGlvbiIpfSk7dmFyIGUsaj17fSxrPTE7Yi5jb250cm9sbGVyJiYoai4kc2NvcGU9ZCxqLiR1aWJNb2RhbEluc3RhbmNlPXAsT2JqZWN0LmRlZmluZVByb3BlcnR5KGosIiRtb2RhbEluc3RhbmNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGh8fGkud2FybigiJG1vZGFsSW5zdGFuY2UgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSAkdWliTW9kYWxJbnN0YW5jZSBpbnN0ZWFkLiIpLHB9fSksYW5ndWxhci5mb3JFYWNoKGIucmVzb2x2ZSxmdW5jdGlvbihiLGMpe2pbY109YVtrKytdfSksZT1mKGIuY29udHJvbGxlcixqKSxiLmNvbnRyb2xsZXJBcyYmKGIuYmluZFRvQ29udHJvbGxlciYmYW5ndWxhci5leHRlbmQoZSxkKSxkW2IuY29udHJvbGxlckFzXT1lKSksZy5vcGVuKHAse3Njb3BlOmQsZGVmZXJyZWQ6bCxyZW5kZXJEZWZlcnJlZDpvLGNvbnRlbnQ6YVswXSxhbmltYXRpb246Yi5hbmltYXRpb24sYmFja2Ryb3A6Yi5iYWNrZHJvcCxrZXlib2FyZDpiLmtleWJvYXJkLGJhY2tkcm9wQ2xhc3M6Yi5iYWNrZHJvcENsYXNzLHdpbmRvd1RvcENsYXNzOmIud2luZG93VG9wQ2xhc3Msd2luZG93Q2xhc3M6Yi53aW5kb3dDbGFzcyx3aW5kb3dUZW1wbGF0ZVVybDpiLndpbmRvd1RlbXBsYXRlVXJsLHNpemU6Yi5zaXplLG9wZW5lZENsYXNzOmIub3BlbmVkQ2xhc3N9KSxuLnJlc29sdmUoITApfSxmdW5jdGlvbihhKXtuLnJlamVjdChhKSxsLnJlamVjdChhKX0pWyJmaW5hbGx5Il0oZnVuY3Rpb24oKXttPT09cSYmKG09bnVsbCl9KSxwfSxsfV19O3JldHVybiBhfSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5tb2RhbCIpLnZhbHVlKCIkbW9kYWxTdXBwcmVzc1dhcm5pbmciLCExKS5kaXJlY3RpdmUoIm1vZGFsQmFja2Ryb3AiLFsiJGFuaW1hdGUiLCIkaW5qZWN0b3IiLCIkbW9kYWxTdGFjayIsIiRsb2ciLCIkbW9kYWxTdXBwcmVzc1dhcm5pbmciLGZ1bmN0aW9uKGEsYixjLGQsZSl7ZnVuY3Rpb24gZihiLGYsaCl7ZXx8ZC53YXJuKCJtb2RhbC1iYWNrZHJvcCBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIHVpYi1tb2RhbC1iYWNrZHJvcCBpbnN0ZWFkLiIpLGYuYWRkQ2xhc3MoIm1vZGFsLWJhY2tkcm9wIiksaC5tb2RhbEluQ2xhc3MmJihnP2coZix7YWRkQ2xhc3M6aC5tb2RhbEluQ2xhc3N9KS5zdGFydCgpOmEuYWRkQ2xhc3MoZixoLm1vZGFsSW5DbGFzcyksYi4kb24oYy5OT1dfQ0xPU0lOR19FVkVOVCxmdW5jdGlvbihiLGMpe3ZhciBkPWMoKTtnP2coZix7cmVtb3ZlQ2xhc3M6aC5tb2RhbEluQ2xhc3N9KS5zdGFydCgpLnRoZW4oZCk6YS5yZW1vdmVDbGFzcyhmLGgubW9kYWxJbkNsYXNzKS50aGVuKGQpfSkpfXZhciBnPW51bGw7cmV0dXJuIGIuaGFzKCIkYW5pbWF0ZUNzcyIpJiYoZz1iLmdldCgiJGFuaW1hdGVDc3MiKSkse3JlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWwiLGNvbXBpbGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5hZGRDbGFzcyhiLmJhY2tkcm9wQ2xhc3MpLGZ9fX1dKS5kaXJlY3RpdmUoIm1vZGFsV2luZG93IixbIiRtb2RhbFN0YWNrIiwiJHEiLCIkYW5pbWF0ZSIsIiRpbmplY3RvciIsIiRsb2ciLCIkbW9kYWxTdXBwcmVzc1dhcm5pbmciLGZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz1udWxsO3JldHVybiBkLmhhcygiJGFuaW1hdGVDc3MiKSYmKGc9ZC5nZXQoIiRhbmltYXRlQ3NzIikpLHtzY29wZTp7aW5kZXg6IkAifSxyZXBsYWNlOiEwLHRyYW5zY2x1ZGU6ITAsdGVtcGxhdGVVcmw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50ZW1wbGF0ZVVybHx8InRlbXBsYXRlL21vZGFsL3dpbmRvdy5odG1sIn0sbGluazpmdW5jdGlvbihkLGgsaSl7Znx8ZS53YXJuKCJtb2RhbC13aW5kb3cgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB1aWItbW9kYWwtd2luZG93IGluc3RlYWQuIiksaC5hZGRDbGFzcyhpLndpbmRvd0NsYXNzfHwiIiksaC5hZGRDbGFzcyhpLndpbmRvd1RvcENsYXNzfHwiIiksZC5zaXplPWkuc2l6ZSxkLmNsb3NlPWZ1bmN0aW9uKGIpe3ZhciBjPWEuZ2V0VG9wKCk7YyYmYy52YWx1ZS5iYWNrZHJvcCYmInN0YXRpYyIhPT1jLnZhbHVlLmJhY2tkcm9wJiZiLnRhcmdldD09PWIuY3VycmVudFRhcmdldCYmKGIucHJldmVudERlZmF1bHQoKSxiLnN0b3BQcm9wYWdhdGlvbigpLGEuZGlzbWlzcyhjLmtleSwiYmFja2Ryb3AgY2xpY2siKSl9LGgub24oImNsaWNrIixkLmNsb3NlKSxkLiRpc1JlbmRlcmVkPSEwO3ZhciBqPWIuZGVmZXIoKTtpLiRvYnNlcnZlKCJtb2RhbFJlbmRlciIsZnVuY3Rpb24oYSl7InRydWUiPT1hJiZqLnJlc29sdmUoKX0pLGoucHJvbWlzZS50aGVuKGZ1bmN0aW9uKCl7dmFyIGU9bnVsbDtpLm1vZGFsSW5DbGFzcyYmKGU9Zz9nKGgse2FkZENsYXNzOmkubW9kYWxJbkNsYXNzfSkuc3RhcnQoKTpjLmFkZENsYXNzKGgsaS5tb2RhbEluQ2xhc3MpLGQuJG9uKGEuTk9XX0NMT1NJTkdfRVZFTlQsZnVuY3Rpb24oYSxiKXt2YXIgZD1iKCk7Zz9nKGgse3JlbW92ZUNsYXNzOmkubW9kYWxJbkNsYXNzfSkuc3RhcnQoKS50aGVuKGQpOmMucmVtb3ZlQ2xhc3MoaCxpLm1vZGFsSW5DbGFzcykudGhlbihkKX0pKSxiLndoZW4oZSkudGhlbihmdW5jdGlvbigpe3ZhciBhPWhbMF0ucXVlcnlTZWxlY3RvcigiW2F1dG9mb2N1c10iKTthP2EuZm9jdXMoKTpoWzBdLmZvY3VzKCl9KTt2YXIgZj1hLmdldFRvcCgpO2YmJmEubW9kYWxSZW5kZXJlZChmLmtleSl9KX19fV0pLmRpcmVjdGl2ZSgibW9kYWxBbmltYXRpb25DbGFzcyIsWyIkbG9nIiwiJG1vZGFsU3VwcHJlc3NXYXJuaW5nIixmdW5jdGlvbihhLGIpe3JldHVybntjb21waWxlOmZ1bmN0aW9uKGMsZCl7Ynx8YS53YXJuKCJtb2RhbC1hbmltYXRpb24tY2xhc3MgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB1aWItbW9kYWwtYW5pbWF0aW9uLWNsYXNzIGluc3RlYWQuIiksZC5tb2RhbEFuaW1hdGlvbiYmYy5hZGRDbGFzcyhkLm1vZGFsQW5pbWF0aW9uQ2xhc3MpfX19XSkuZGlyZWN0aXZlKCJtb2RhbFRyYW5zY2x1ZGUiLFsiJGxvZyIsIiRtb2RhbFN1cHByZXNzV2FybmluZyIsZnVuY3Rpb24oYSxiKXtyZXR1cm57bGluazpmdW5jdGlvbihjLGQsZSxmLGcpewpifHxhLndhcm4oIm1vZGFsLXRyYW5zY2x1ZGUgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB1aWItbW9kYWwtdHJhbnNjbHVkZSBpbnN0ZWFkLiIpLGcoYy4kcGFyZW50LGZ1bmN0aW9uKGEpe2QuZW1wdHkoKSxkLmFwcGVuZChhKX0pfX19XSkuc2VydmljZSgiJG1vZGFsU3RhY2siLFsiJGFuaW1hdGUiLCIkdGltZW91dCIsIiRkb2N1bWVudCIsIiRjb21waWxlIiwiJHJvb3RTY29wZSIsIiRxIiwiJGluamVjdG9yIiwiJCRtdWx0aU1hcCIsIiQkc3RhY2tlZE1hcCIsIiR1aWJNb2RhbFN0YWNrIiwiJGxvZyIsIiRtb2RhbFN1cHByZXNzV2FybmluZyIsZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGksaixrLGwpe2x8fGsud2FybigiJG1vZGFsU3RhY2sgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSAkdWliTW9kYWxTdGFjayBpbnN0ZWFkLiIpLGFuZ3VsYXIuZXh0ZW5kKHRoaXMsail9XSkucHJvdmlkZXIoIiRtb2RhbCIsWyIkdWliTW9kYWxQcm92aWRlciIsZnVuY3Rpb24oYSl7YW5ndWxhci5leHRlbmQodGhpcyxhKSx0aGlzLiRnZXQ9WyIkaW5qZWN0b3IiLCIkbG9nIiwiJG1vZGFsU3VwcHJlc3NXYXJuaW5nIixmdW5jdGlvbihiLGMsZCl7cmV0dXJuIGR8fGMud2FybigiJG1vZGFsIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgJHVpYk1vZGFsIGluc3RlYWQuIiksYi5pbnZva2UoYS4kZ2V0KX1dfV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAucGFnaW5hdGlvbiIsW10pLmNvbnRyb2xsZXIoIlVpYlBhZ2luYXRpb25Db250cm9sbGVyIixbIiRzY29wZSIsIiRhdHRycyIsIiRwYXJzZSIsZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMsZT17JHNldFZpZXdWYWx1ZTphbmd1bGFyLm5vb3B9LGY9Yi5udW1QYWdlcz9jKGIubnVtUGFnZXMpLmFzc2lnbjphbmd1bGFyLm5vb3A7dGhpcy5pbml0PWZ1bmN0aW9uKGcsaCl7ZT1nLHRoaXMuY29uZmlnPWgsZS4kcmVuZGVyPWZ1bmN0aW9uKCl7ZC5yZW5kZXIoKX0sYi5pdGVtc1BlclBhZ2U/YS4kcGFyZW50LiR3YXRjaChjKGIuaXRlbXNQZXJQYWdlKSxmdW5jdGlvbihiKXtkLml0ZW1zUGVyUGFnZT1wYXJzZUludChiLDEwKSxhLnRvdGFsUGFnZXM9ZC5jYWxjdWxhdGVUb3RhbFBhZ2VzKCl9KTp0aGlzLml0ZW1zUGVyUGFnZT1oLml0ZW1zUGVyUGFnZSxhLiR3YXRjaCgidG90YWxJdGVtcyIsZnVuY3Rpb24oKXthLnRvdGFsUGFnZXM9ZC5jYWxjdWxhdGVUb3RhbFBhZ2VzKCl9KSxhLiR3YXRjaCgidG90YWxQYWdlcyIsZnVuY3Rpb24oYil7ZihhLiRwYXJlbnQsYiksYS5wYWdlPmI/YS5zZWxlY3RQYWdlKGIpOmUuJHJlbmRlcigpfSl9LHRoaXMuY2FsY3VsYXRlVG90YWxQYWdlcz1mdW5jdGlvbigpe3ZhciBiPXRoaXMuaXRlbXNQZXJQYWdlPDE/MTpNYXRoLmNlaWwoYS50b3RhbEl0ZW1zL3RoaXMuaXRlbXNQZXJQYWdlKTtyZXR1cm4gTWF0aC5tYXgoYnx8MCwxKX0sdGhpcy5yZW5kZXI9ZnVuY3Rpb24oKXthLnBhZ2U9cGFyc2VJbnQoZS4kdmlld1ZhbHVlLDEwKXx8MX0sYS5zZWxlY3RQYWdlPWZ1bmN0aW9uKGIsYyl7YyYmYy5wcmV2ZW50RGVmYXVsdCgpO3ZhciBkPSFhLm5nRGlzYWJsZWR8fCFjO2QmJmEucGFnZSE9PWImJmI+MCYmYjw9YS50b3RhbFBhZ2VzJiYoYyYmYy50YXJnZXQmJmMudGFyZ2V0LmJsdXIoKSxlLiRzZXRWaWV3VmFsdWUoYiksZS4kcmVuZGVyKCkpfSxhLmdldFRleHQ9ZnVuY3Rpb24oYil7cmV0dXJuIGFbYisiVGV4dCJdfHxkLmNvbmZpZ1tiKyJUZXh0Il19LGEubm9QcmV2aW91cz1mdW5jdGlvbigpe3JldHVybiAxPT09YS5wYWdlfSxhLm5vTmV4dD1mdW5jdGlvbigpe3JldHVybiBhLnBhZ2U9PT1hLnRvdGFsUGFnZXN9fV0pLmNvbnN0YW50KCJ1aWJQYWdpbmF0aW9uQ29uZmlnIix7aXRlbXNQZXJQYWdlOjEwLGJvdW5kYXJ5TGlua3M6ITEsZGlyZWN0aW9uTGlua3M6ITAsZmlyc3RUZXh0OiJGaXJzdCIscHJldmlvdXNUZXh0OiJQcmV2aW91cyIsbmV4dFRleHQ6Ik5leHQiLGxhc3RUZXh0OiJMYXN0Iixyb3RhdGU6ITB9KS5kaXJlY3RpdmUoInVpYlBhZ2luYXRpb24iLFsiJHBhcnNlIiwidWliUGFnaW5hdGlvbkNvbmZpZyIsZnVuY3Rpb24oYSxiKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixzY29wZTp7dG90YWxJdGVtczoiPSIsZmlyc3RUZXh0OiJAIixwcmV2aW91c1RleHQ6IkAiLG5leHRUZXh0OiJAIixsYXN0VGV4dDoiQCIsbmdEaXNhYmxlZDoiPSJ9LHJlcXVpcmU6WyJ1aWJQYWdpbmF0aW9uIiwiP25nTW9kZWwiXSxjb250cm9sbGVyOiJVaWJQYWdpbmF0aW9uQ29udHJvbGxlciIsY29udHJvbGxlckFzOiJwYWdpbmF0aW9uIix0ZW1wbGF0ZVVybDpmdW5jdGlvbihhLGIpe3JldHVybiBiLnRlbXBsYXRlVXJsfHwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmh0bWwifSxyZXBsYWNlOiEwLGxpbms6ZnVuY3Rpb24oYyxkLGUsZil7ZnVuY3Rpb24gZyhhLGIsYyl7cmV0dXJue251bWJlcjphLHRleHQ6YixhY3RpdmU6Y319ZnVuY3Rpb24gaChhLGIpe3ZhciBjPVtdLGQ9MSxlPWIsZj1hbmd1bGFyLmlzRGVmaW5lZChrKSYmYj5rO2YmJihsPyhkPU1hdGgubWF4KGEtTWF0aC5mbG9vcihrLzIpLDEpLGU9ZCtrLTEsZT5iJiYoZT1iLGQ9ZS1rKzEpKTooZD0oTWF0aC5jZWlsKGEvayktMSkqaysxLGU9TWF0aC5taW4oZCtrLTEsYikpKTtmb3IodmFyIGg9ZDtlPj1oO2grKyl7dmFyIGk9ZyhoLGgsaD09PWEpO2MucHVzaChpKX1pZihmJiYhbCl7aWYoZD4xKXt2YXIgaj1nKGQtMSwiLi4uIiwhMSk7Yy51bnNoaWZ0KGopfWlmKGI+ZSl7dmFyIG09ZyhlKzEsIi4uLiIsITEpO2MucHVzaChtKX19cmV0dXJuIGN9dmFyIGk9ZlswXSxqPWZbMV07aWYoail7dmFyIGs9YW5ndWxhci5pc0RlZmluZWQoZS5tYXhTaXplKT9jLiRwYXJlbnQuJGV2YWwoZS5tYXhTaXplKTpiLm1heFNpemUsbD1hbmd1bGFyLmlzRGVmaW5lZChlLnJvdGF0ZSk/Yy4kcGFyZW50LiRldmFsKGUucm90YXRlKTpiLnJvdGF0ZTtjLmJvdW5kYXJ5TGlua3M9YW5ndWxhci5pc0RlZmluZWQoZS5ib3VuZGFyeUxpbmtzKT9jLiRwYXJlbnQuJGV2YWwoZS5ib3VuZGFyeUxpbmtzKTpiLmJvdW5kYXJ5TGlua3MsYy5kaXJlY3Rpb25MaW5rcz1hbmd1bGFyLmlzRGVmaW5lZChlLmRpcmVjdGlvbkxpbmtzKT9jLiRwYXJlbnQuJGV2YWwoZS5kaXJlY3Rpb25MaW5rcyk6Yi5kaXJlY3Rpb25MaW5rcyxpLmluaXQoaixiKSxlLm1heFNpemUmJmMuJHBhcmVudC4kd2F0Y2goYShlLm1heFNpemUpLGZ1bmN0aW9uKGEpe2s9cGFyc2VJbnQoYSwxMCksaS5yZW5kZXIoKX0pO3ZhciBtPWkucmVuZGVyO2kucmVuZGVyPWZ1bmN0aW9uKCl7bSgpLGMucGFnZT4wJiZjLnBhZ2U8PWMudG90YWxQYWdlcyYmKGMucGFnZXM9aChjLnBhZ2UsYy50b3RhbFBhZ2VzKSl9fX19fV0pLmNvbnN0YW50KCJ1aWJQYWdlckNvbmZpZyIse2l0ZW1zUGVyUGFnZToxMCxwcmV2aW91c1RleHQ6IsKrIFByZXZpb3VzIixuZXh0VGV4dDoiTmV4dCDCuyIsYWxpZ246ITB9KS5kaXJlY3RpdmUoInVpYlBhZ2VyIixbInVpYlBhZ2VyQ29uZmlnIixmdW5jdGlvbihhKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixzY29wZTp7dG90YWxJdGVtczoiPSIscHJldmlvdXNUZXh0OiJAIixuZXh0VGV4dDoiQCIsbmdEaXNhYmxlZDoiPSJ9LHJlcXVpcmU6WyJ1aWJQYWdlciIsIj9uZ01vZGVsIl0sY29udHJvbGxlcjoiVWliUGFnaW5hdGlvbkNvbnRyb2xsZXIiLGNvbnRyb2xsZXJBczoicGFnaW5hdGlvbiIsdGVtcGxhdGVVcmw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50ZW1wbGF0ZVVybHx8InRlbXBsYXRlL3BhZ2luYXRpb24vcGFnZXIuaHRtbCJ9LHJlcGxhY2U6ITAsbGluazpmdW5jdGlvbihiLGMsZCxlKXt2YXIgZj1lWzBdLGc9ZVsxXTtnJiYoYi5hbGlnbj1hbmd1bGFyLmlzRGVmaW5lZChkLmFsaWduKT9iLiRwYXJlbnQuJGV2YWwoZC5hbGlnbik6YS5hbGlnbixmLmluaXQoZyxhKSl9fX1dKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnBhZ2luYXRpb24iKS52YWx1ZSgiJHBhZ2luYXRpb25TdXBwcmVzc1dhcm5pbmciLCExKS5jb250cm9sbGVyKCJQYWdpbmF0aW9uQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCIkcGFyc2UiLCIkbG9nIiwiJHBhZ2luYXRpb25TdXBwcmVzc1dhcm5pbmciLGZ1bmN0aW9uKGEsYixjLGQsZSl7ZXx8ZC53YXJuKCJQYWdpbmF0aW9uQ29udHJvbGxlciBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIFVpYlBhZ2luYXRpb25Db250cm9sbGVyIGluc3RlYWQuIik7dmFyIGY9dGhpcyxnPXskc2V0Vmlld1ZhbHVlOmFuZ3VsYXIubm9vcH0saD1iLm51bVBhZ2VzP2MoYi5udW1QYWdlcykuYXNzaWduOmFuZ3VsYXIubm9vcDt0aGlzLmluaXQ9ZnVuY3Rpb24oZCxlKXtnPWQsdGhpcy5jb25maWc9ZSxnLiRyZW5kZXI9ZnVuY3Rpb24oKXtmLnJlbmRlcigpfSxiLml0ZW1zUGVyUGFnZT9hLiRwYXJlbnQuJHdhdGNoKGMoYi5pdGVtc1BlclBhZ2UpLGZ1bmN0aW9uKGIpe2YuaXRlbXNQZXJQYWdlPXBhcnNlSW50KGIsMTApLGEudG90YWxQYWdlcz1mLmNhbGN1bGF0ZVRvdGFsUGFnZXMoKX0pOnRoaXMuaXRlbXNQZXJQYWdlPWUuaXRlbXNQZXJQYWdlLGEuJHdhdGNoKCJ0b3RhbEl0ZW1zIixmdW5jdGlvbigpe2EudG90YWxQYWdlcz1mLmNhbGN1bGF0ZVRvdGFsUGFnZXMoKX0pLGEuJHdhdGNoKCJ0b3RhbFBhZ2VzIixmdW5jdGlvbihiKXtoKGEuJHBhcmVudCxiKSxhLnBhZ2U+Yj9hLnNlbGVjdFBhZ2UoYik6Zy4kcmVuZGVyKCl9KX0sdGhpcy5jYWxjdWxhdGVUb3RhbFBhZ2VzPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5pdGVtc1BlclBhZ2U8MT8xOk1hdGguY2VpbChhLnRvdGFsSXRlbXMvdGhpcy5pdGVtc1BlclBhZ2UpO3JldHVybiBNYXRoLm1heChifHwwLDEpfSx0aGlzLnJlbmRlcj1mdW5jdGlvbigpe2EucGFnZT1wYXJzZUludChnLiR2aWV3VmFsdWUsMTApfHwxfSxhLnNlbGVjdFBhZ2U9ZnVuY3Rpb24oYixjKXtjJiZjLnByZXZlbnREZWZhdWx0KCk7dmFyIGQ9IWEubmdEaXNhYmxlZHx8IWM7ZCYmYS5wYWdlIT09YiYmYj4wJiZiPD1hLnRvdGFsUGFnZXMmJihjJiZjLnRhcmdldCYmYy50YXJnZXQuYmx1cigpLGcuJHNldFZpZXdWYWx1ZShiKSxnLiRyZW5kZXIoKSl9LGEuZ2V0VGV4dD1mdW5jdGlvbihiKXtyZXR1cm4gYVtiKyJUZXh0Il18fGYuY29uZmlnW2IrIlRleHQiXX0sYS5ub1ByZXZpb3VzPWZ1bmN0aW9uKCl7cmV0dXJuIDE9PT1hLnBhZ2V9LGEubm9OZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIGEucGFnZT09PWEudG90YWxQYWdlc319XSkuZGlyZWN0aXZlKCJwYWdpbmF0aW9uIixbIiRwYXJzZSIsInVpYlBhZ2luYXRpb25Db25maWciLCIkbG9nIiwiJHBhZ2luYXRpb25TdXBwcmVzc1dhcm5pbmciLGZ1bmN0aW9uKGEsYixjLGQpe3JldHVybntyZXN0cmljdDoiRUEiLHNjb3BlOnt0b3RhbEl0ZW1zOiI9IixmaXJzdFRleHQ6IkAiLHByZXZpb3VzVGV4dDoiQCIsbmV4dFRleHQ6IkAiLGxhc3RUZXh0OiJAIixuZ0Rpc2FibGVkOiI9In0scmVxdWlyZTpbInBhZ2luYXRpb24iLCI/bmdNb2RlbCJdLGNvbnRyb2xsZXI6IlBhZ2luYXRpb25Db250cm9sbGVyIixjb250cm9sbGVyQXM6InBhZ2luYXRpb24iLHRlbXBsYXRlVXJsOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudGVtcGxhdGVVcmx8fCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbCJ9LHJlcGxhY2U6ITAsbGluazpmdW5jdGlvbihlLGYsZyxoKXtmdW5jdGlvbiBpKGEsYixjKXtyZXR1cm57bnVtYmVyOmEsdGV4dDpiLGFjdGl2ZTpjfX1mdW5jdGlvbiBqKGEsYil7dmFyIGM9W10sZD0xLGU9YixmPWFuZ3VsYXIuaXNEZWZpbmVkKG0pJiZiPm07ZiYmKG4/KGQ9TWF0aC5tYXgoYS1NYXRoLmZsb29yKG0vMiksMSksZT1kK20tMSxlPmImJihlPWIsZD1lLW0rMSkpOihkPShNYXRoLmNlaWwoYS9tKS0xKSptKzEsZT1NYXRoLm1pbihkK20tMSxiKSkpO2Zvcih2YXIgZz1kO2U+PWc7ZysrKXt2YXIgaD1pKGcsZyxnPT09YSk7Yy5wdXNoKGgpfWlmKGYmJiFuKXtpZihkPjEpe3ZhciBqPWkoZC0xLCIuLi4iLCExKTtjLnVuc2hpZnQoail9aWYoYj5lKXt2YXIgaz1pKGUrMSwiLi4uIiwhMSk7Yy5wdXNoKGspfX1yZXR1cm4gY31kfHxjLndhcm4oInBhZ2luYXRpb24gaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB1aWItcGFnaW5hdGlvbiBpbnN0ZWFkLiIpO3ZhciBrPWhbMF0sbD1oWzFdO2lmKGwpe3ZhciBtPWFuZ3VsYXIuaXNEZWZpbmVkKGcubWF4U2l6ZSk/ZS4kcGFyZW50LiRldmFsKGcubWF4U2l6ZSk6Yi5tYXhTaXplLG49YW5ndWxhci5pc0RlZmluZWQoZy5yb3RhdGUpP2UuJHBhcmVudC4kZXZhbChnLnJvdGF0ZSk6Yi5yb3RhdGU7ZS5ib3VuZGFyeUxpbmtzPWFuZ3VsYXIuaXNEZWZpbmVkKGcuYm91bmRhcnlMaW5rcyk/ZS4kcGFyZW50LiRldmFsKGcuYm91bmRhcnlMaW5rcyk6Yi5ib3VuZGFyeUxpbmtzLGUuZGlyZWN0aW9uTGlua3M9YW5ndWxhci5pc0RlZmluZWQoZy5kaXJlY3Rpb25MaW5rcyk/ZS4kcGFyZW50LiRldmFsKGcuZGlyZWN0aW9uTGlua3MpOmIuZGlyZWN0aW9uTGlua3Msay5pbml0KGwsYiksZy5tYXhTaXplJiZlLiRwYXJlbnQuJHdhdGNoKGEoZy5tYXhTaXplKSxmdW5jdGlvbihhKXttPXBhcnNlSW50KGEsMTApLGsucmVuZGVyKCl9KTt2YXIgbz1rLnJlbmRlcjtrLnJlbmRlcj1mdW5jdGlvbigpe28oKSxlLnBhZ2U+MCYmZS5wYWdlPD1lLnRvdGFsUGFnZXMmJihlLnBhZ2VzPWooZS5wYWdlLGUudG90YWxQYWdlcykpfX19fX1dKS5kaXJlY3RpdmUoInBhZ2VyIixbInVpYlBhZ2VyQ29uZmlnIiwiJGxvZyIsIiRwYWdpbmF0aW9uU3VwcHJlc3NXYXJuaW5nIixmdW5jdGlvbihhLGIsYyl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsc2NvcGU6e3RvdGFsSXRlbXM6Ij0iLHByZXZpb3VzVGV4dDoiQCIsbmV4dFRleHQ6IkAiLG5nRGlzYWJsZWQ6Ij0ifSxyZXF1aXJlOlsicGFnZXIiLCI/bmdNb2RlbCJdLGNvbnRyb2xsZXI6IlBhZ2luYXRpb25Db250cm9sbGVyIixjb250cm9sbGVyQXM6InBhZ2luYXRpb24iLHRlbXBsYXRlVXJsOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudGVtcGxhdGVVcmx8fCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWwifSxyZXBsYWNlOiEwLGxpbms6ZnVuY3Rpb24oZCxlLGYsZyl7Y3x8Yi53YXJuKCJwYWdlciBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIHVpYi1wYWdlciBpbnN0ZWFkLiIpO3ZhciBoPWdbMF0saT1nWzFdO2kmJihkLmFsaWduPWFuZ3VsYXIuaXNEZWZpbmVkKGYuYWxpZ24pP2QuJHBhcmVudC4kZXZhbChmLmFsaWduKTphLmFsaWduLGguaW5pdChpLGEpKX19fV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAudG9vbHRpcCIsWyJ1aS5ib290c3RyYXAucG9zaXRpb24iLCJ1aS5ib290c3RyYXAuc3RhY2tlZE1hcCJdKS5wcm92aWRlcigiJHVpYlRvb2x0aXAiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXt2YXIgYj0vW0EtWl0vZyxjPSItIjtyZXR1cm4gYS5yZXBsYWNlKGIsZnVuY3Rpb24oYSxiKXtyZXR1cm4oYj9jOiIiKSthLnRvTG93ZXJDYXNlKCl9KX12YXIgYj17cGxhY2VtZW50OiJ0b3AiLGFuaW1hdGlvbjohMCxwb3B1cERlbGF5OjAscG9wdXBDbG9zZURlbGF5OjAsdXNlQ29udGVudEV4cDohMX0sYz17bW91c2VlbnRlcjoibW91c2VsZWF2ZSIsY2xpY2s6ImNsaWNrIixmb2N1czoiYmx1ciIsbm9uZToiIn0sZD17fTt0aGlzLm9wdGlvbnM9ZnVuY3Rpb24oYSl7YW5ndWxhci5leHRlbmQoZCxhKX0sdGhpcy5zZXRUcmlnZ2Vycz1mdW5jdGlvbihhKXthbmd1bGFyLmV4dGVuZChjLGEpfSx0aGlzLiRnZXQ9WyIkd2luZG93IiwiJGNvbXBpbGUiLCIkdGltZW91dCIsIiRkb2N1bWVudCIsIiR1aWJQb3NpdGlvbiIsIiRpbnRlcnBvbGF0ZSIsIiRyb290U2NvcGUiLCIkcGFyc2UiLCIkJHN0YWNrZWRNYXAiLGZ1bmN0aW9uKGUsZixnLGgsaSxqLGssbCxtKXt2YXIgbj1tLmNyZWF0ZU5ldygpO3JldHVybiBoLm9uKCJrZXlwcmVzcyIsZnVuY3Rpb24oYSl7aWYoMjc9PT1hLndoaWNoKXt2YXIgYj1uLnRvcCgpO2ImJihiLnZhbHVlLmNsb3NlKCksbi5yZW1vdmVUb3AoKSxiPW51bGwpfX0pLGZ1bmN0aW9uKGUsayxtLG8pe2Z1bmN0aW9uIHAoYSl7dmFyIGI9KGF8fG8udHJpZ2dlcnx8bSkuc3BsaXQoIiAiKSxkPWIubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBjW2FdfHxhfSk7cmV0dXJue3Nob3c6YixoaWRlOmR9fW89YW5ndWxhci5leHRlbmQoe30sYixkLG8pO3ZhciBxPWEoZSkscj1qLnN0YXJ0U3ltYm9sKCkscz1qLmVuZFN5bWJvbCgpLHQ9IjxkaXYgIitxKyctcG9wdXAgdGl0bGU9IicrcisidGl0bGUiK3MrJyIgJysoby51c2VDb250ZW50RXhwPydjb250ZW50LWV4cD0iY29udGVudEV4cCgpIiAnOidjb250ZW50PSInK3IrImNvbnRlbnQiK3MrJyIgJykrJ3BsYWNlbWVudD0iJytyKyJwbGFjZW1lbnQiK3MrJyIgcG9wdXAtY2xhc3M9IicrcisicG9wdXBDbGFzcyIrcysnIiBhbmltYXRpb249ImFuaW1hdGlvbiIgaXMtb3Blbj0iaXNPcGVuIm9yaWdpbi1zY29wZT0ib3JpZ1Njb3BlIiBzdHlsZT0idmlzaWJpbGl0eTogaGlkZGVuOyBkaXNwbGF5OiBibG9jazsgdG9wOiAtOTk5OXB4OyBsZWZ0OiAtOTk5OXB4OyI+PC9kaXY+JztyZXR1cm57Y29tcGlsZTpmdW5jdGlvbihhLGIpe3ZhciBjPWYodCk7cmV0dXJuIGZ1bmN0aW9uKGEsYixkLGYpe2Z1bmN0aW9uIGooKXtMLmlzT3Blbj9xKCk6bSgpfWZ1bmN0aW9uIG0oKXsoIUt8fGEuJGV2YWwoZFtrKyJFbmFibGUiXSkpJiYodSgpLHgoKSxMLnBvcHVwRGVsYXk/Rnx8KEY9ZyhyLEwucG9wdXBEZWxheSwhMSkpOnIoKSl9ZnVuY3Rpb24gcSgpe3MoKSxMLnBvcHVwQ2xvc2VEZWxheT9HfHwoRz1nKHQsTC5wb3B1cENsb3NlRGVsYXksITEpKTp0KCl9ZnVuY3Rpb24gcigpe3JldHVybiBzKCksdSgpLEwuY29udGVudD8odigpLHZvaWQgTC4kZXZhbEFzeW5jKGZ1bmN0aW9uKCl7TC5pc09wZW49ITAseSghMCksUSgpfSkpOmFuZ3VsYXIubm9vcH1mdW5jdGlvbiBzKCl7RiYmKGcuY2FuY2VsKEYpLEY9bnVsbCksSCYmKGcuY2FuY2VsKEgpLEg9bnVsbCl9ZnVuY3Rpb24gdCgpe3MoKSx1KCksTCYmTC4kZXZhbEFzeW5jKGZ1bmN0aW9uKCl7TC5pc09wZW49ITEseSghMSksTC5hbmltYXRpb24/RXx8KEU9Zyh3LDE1MCwhMSkpOncoKX0pfWZ1bmN0aW9uIHUoKXtHJiYoZy5jYW5jZWwoRyksRz1udWxsKSxFJiYoZy5jYW5jZWwoRSksRT1udWxsKX1mdW5jdGlvbiB2KCl7Q3x8KEQ9TC4kbmV3KCksQz1jKEQsZnVuY3Rpb24oYSl7ST9oLmZpbmQoImJvZHkiKS5hcHBlbmQoYSk6Yi5hZnRlcihhKX0pLHooKSl9ZnVuY3Rpb24gdygpe0EoKSxFPW51bGwsQyYmKEMucmVtb3ZlKCksQz1udWxsKSxEJiYoRC4kZGVzdHJveSgpLEQ9bnVsbCl9ZnVuY3Rpb24geCgpe0wudGl0bGU9ZFtrKyJUaXRsZSJdLE8/TC5jb250ZW50PU8oYSk6TC5jb250ZW50PWRbZV0sTC5wb3B1cENsYXNzPWRbaysiQ2xhc3MiXSxMLnBsYWNlbWVudD1hbmd1bGFyLmlzRGVmaW5lZChkW2srIlBsYWNlbWVudCJdKT9kW2srIlBsYWNlbWVudCJdOm8ucGxhY2VtZW50O3ZhciBiPXBhcnNlSW50KGRbaysiUG9wdXBEZWxheSJdLDEwKSxjPXBhcnNlSW50KGRbaysiUG9wdXBDbG9zZURlbGF5Il0sMTApO0wucG9wdXBEZWxheT1pc05hTihiKT9vLnBvcHVwRGVsYXk6YixMLnBvcHVwQ2xvc2VEZWxheT1pc05hTihjKT9vLnBvcHVwQ2xvc2VEZWxheTpjfWZ1bmN0aW9uIHkoYil7TiYmYW5ndWxhci5pc0Z1bmN0aW9uKE4uYXNzaWduKSYmTi5hc3NpZ24oYSxiKX1mdW5jdGlvbiB6KCl7UC5sZW5ndGg9MCxPPyhQLnB1c2goYS4kd2F0Y2goTyxmdW5jdGlvbihhKXtMLmNvbnRlbnQ9YSwhYSYmTC5pc09wZW4mJnQoKX0pKSxQLnB1c2goRC4kd2F0Y2goZnVuY3Rpb24oKXtNfHwoTT0hMCxELiQkcG9zdERpZ2VzdChmdW5jdGlvbigpe009ITEsTCYmTC5pc09wZW4mJlEoKX0pKX0pKSk6UC5wdXNoKGQuJG9ic2VydmUoZSxmdW5jdGlvbihhKXtMLmNvbnRlbnQ9YSwhYSYmTC5pc09wZW4/dCgpOlEoKX0pKSxQLnB1c2goZC4kb2JzZXJ2ZShrKyJUaXRsZSIsZnVuY3Rpb24oYSl7TC50aXRsZT1hLEwuaXNPcGVuJiZRKCl9KSksUC5wdXNoKGQuJG9ic2VydmUoaysiUGxhY2VtZW50IixmdW5jdGlvbihhKXtMLnBsYWNlbWVudD1hP2E6by5wbGFjZW1lbnQsTC5pc09wZW4mJlEoKX0pKX1mdW5jdGlvbiBBKCl7UC5sZW5ndGgmJihhbmd1bGFyLmZvckVhY2goUCxmdW5jdGlvbihhKXthKCl9KSxQLmxlbmd0aD0wKX1mdW5jdGlvbiBCKCl7dmFyIGE9ZFtrKyJUcmlnZ2VyIl07UigpLEo9cChhKSwibm9uZSIhPT1KLnNob3cmJkouc2hvdy5mb3JFYWNoKGZ1bmN0aW9uKGEsYyl7YT09PUouaGlkZVtjXT9iWzBdLmFkZEV2ZW50TGlzdGVuZXIoYSxqKTphJiYoYlswXS5hZGRFdmVudExpc3RlbmVyKGEsbSksSi5oaWRlW2NdLnNwbGl0KCIgIikuZm9yRWFjaChmdW5jdGlvbihhKXtiWzBdLmFkZEV2ZW50TGlzdGVuZXIoYSxxKX0pKSxiLm9uKCJrZXlwcmVzcyIsZnVuY3Rpb24oYSl7Mjc9PT1hLndoaWNoJiZxKCl9KX0pfXZhciBDLEQsRSxGLEcsSCxJPWFuZ3VsYXIuaXNEZWZpbmVkKG8uYXBwZW5kVG9Cb2R5KT9vLmFwcGVuZFRvQm9keTohMSxKPXAodm9pZCAwKSxLPWFuZ3VsYXIuaXNEZWZpbmVkKGRbaysiRW5hYmxlIl0pLEw9YS4kbmV3KCEwKSxNPSExLE49YW5ndWxhci5pc0RlZmluZWQoZFtrKyJJc09wZW4iXSk/bChkW2srIklzT3BlbiJdKTohMSxPPW8udXNlQ29udGVudEV4cD9sKGRbZV0pOiExLFA9W10sUT1mdW5jdGlvbigpe0MmJkMuaHRtbCgpJiYoSHx8KEg9ZyhmdW5jdGlvbigpe0MuY3NzKHt0b3A6MCxsZWZ0OjB9KTt2YXIgYT1pLnBvc2l0aW9uRWxlbWVudHMoYixDLEwucGxhY2VtZW50LEkpO2EudG9wKz0icHgiLGEubGVmdCs9InB4IixhLnZpc2liaWxpdHk9InZpc2libGUiLEMuY3NzKGEpLEg9bnVsbH0sMCwhMSkpKX07TC5vcmlnU2NvcGU9YSxMLmlzT3Blbj0hMSxuLmFkZChMLHtjbG9zZTp0fSksTC5jb250ZW50RXhwPWZ1bmN0aW9uKCl7cmV0dXJuIEwuY29udGVudH0sZC4kb2JzZXJ2ZSgiZGlzYWJsZWQiLGZ1bmN0aW9uKGEpe2EmJnMoKSxhJiZMLmlzT3BlbiYmdCgpfSksTiYmYS4kd2F0Y2goTixmdW5jdGlvbihhKXtMJiYhYT09PUwuaXNPcGVuJiZqKCl9KTt2YXIgUj1mdW5jdGlvbigpe0ouc2hvdy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2IudW5iaW5kKGEsbSl9KSxKLmhpZGUuZm9yRWFjaChmdW5jdGlvbihhKXthLnNwbGl0KCIgIikuZm9yRWFjaChmdW5jdGlvbihhKXtiWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxxKX0pfSl9O0IoKTt2YXIgUz1hLiRldmFsKGRbaysiQW5pbWF0aW9uIl0pO0wuYW5pbWF0aW9uPWFuZ3VsYXIuaXNEZWZpbmVkKFMpPyEhUzpvLmFuaW1hdGlvbjt2YXIgVD1hLiRldmFsKGRbaysiQXBwZW5kVG9Cb2R5Il0pO0k9YW5ndWxhci5pc0RlZmluZWQoVCk/VDpJLEkmJmEuJG9uKCIkbG9jYXRpb25DaGFuZ2VTdWNjZXNzIixmdW5jdGlvbigpe0wuaXNPcGVuJiZ0KCl9KSxhLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7cygpLHUoKSxSKCksdygpLG4ucmVtb3ZlKEwpLEw9bnVsbH0pfX19fX1dfSkuZGlyZWN0aXZlKCJ1aWJUb29sdGlwVGVtcGxhdGVUcmFuc2NsdWRlIixbIiRhbmltYXRlIiwiJHNjZSIsIiRjb21waWxlIiwiJHRlbXBsYXRlUmVxdWVzdCIsZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJue2xpbms6ZnVuY3Rpb24oZSxmLGcpe3ZhciBoLGksaixrPWUuJGV2YWwoZy50b29sdGlwVGVtcGxhdGVUcmFuc2NsdWRlU2NvcGUpLGw9MCxtPWZ1bmN0aW9uKCl7aSYmKGkucmVtb3ZlKCksaT1udWxsKSxoJiYoaC4kZGVzdHJveSgpLGg9bnVsbCksaiYmKGEubGVhdmUoaikudGhlbihmdW5jdGlvbigpe2k9bnVsbH0pLGk9aixqPW51bGwpfTtlLiR3YXRjaChiLnBhcnNlQXNSZXNvdXJjZVVybChnLnVpYlRvb2x0aXBUZW1wbGF0ZVRyYW5zY2x1ZGUpLGZ1bmN0aW9uKGIpe3ZhciBnPSsrbDtiPyhkKGIsITApLnRoZW4oZnVuY3Rpb24oZCl7aWYoZz09PWwpe3ZhciBlPWsuJG5ldygpLGk9ZCxuPWMoaSkoZSxmdW5jdGlvbihiKXttKCksYS5lbnRlcihiLGYpfSk7aD1lLGo9bixoLiRlbWl0KCIkaW5jbHVkZUNvbnRlbnRMb2FkZWQiLGIpfX0sZnVuY3Rpb24oKXtnPT09bCYmKG0oKSxlLiRlbWl0KCIkaW5jbHVkZUNvbnRlbnRFcnJvciIsYikpfSksZS4kZW1pdCgiJGluY2x1ZGVDb250ZW50UmVxdWVzdGVkIixiKSk6bSgpfSksZS4kb24oIiRkZXN0cm95IixtKX19fV0pLmRpcmVjdGl2ZSgidWliVG9vbHRpcENsYXNzZXMiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJBIixsaW5rOmZ1bmN0aW9uKGEsYixjKXthLnBsYWNlbWVudCYmYi5hZGRDbGFzcyhhLnBsYWNlbWVudCksYS5wb3B1cENsYXNzJiZiLmFkZENsYXNzKGEucG9wdXBDbGFzcyksYS5hbmltYXRpb24oKSYmYi5hZGRDbGFzcyhjLnRvb2x0aXBBbmltYXRpb25DbGFzcyl9fX0pLmRpcmVjdGl2ZSgidWliVG9vbHRpcFBvcHVwIixmdW5jdGlvbigpe3JldHVybntyZXBsYWNlOiEwLHNjb3BlOntjb250ZW50OiJAIixwbGFjZW1lbnQ6IkAiLHBvcHVwQ2xhc3M6IkAiLGFuaW1hdGlvbjoiJiIsaXNPcGVuOiImIn0sdGVtcGxhdGVVcmw6InRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sIixsaW5rOmZ1bmN0aW9uKGEsYil7Yi5hZGRDbGFzcygidG9vbHRpcCIpfX19KS5kaXJlY3RpdmUoInVpYlRvb2x0aXAiLFsiJHVpYlRvb2x0aXAiLGZ1bmN0aW9uKGEpe3JldHVybiBhKCJ1aWJUb29sdGlwIiwidG9vbHRpcCIsIm1vdXNlZW50ZXIiKX1dKS5kaXJlY3RpdmUoInVpYlRvb2x0aXBUZW1wbGF0ZVBvcHVwIixmdW5jdGlvbigpe3JldHVybntyZXBsYWNlOiEwLHNjb3BlOntjb250ZW50RXhwOiImIixwbGFjZW1lbnQ6IkAiLHBvcHVwQ2xhc3M6IkAiLGFuaW1hdGlvbjoiJiIsaXNPcGVuOiImIixvcmlnaW5TY29wZToiJiJ9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtdGVtcGxhdGUtcG9wdXAuaHRtbCIsbGluazpmdW5jdGlvbihhLGIpe2IuYWRkQ2xhc3MoInRvb2x0aXAiKX19fSkuZGlyZWN0aXZlKCJ1aWJUb29sdGlwVGVtcGxhdGUiLFsiJHVpYlRvb2x0aXAiLGZ1bmN0aW9uKGEpe3JldHVybiBhKCJ1aWJUb29sdGlwVGVtcGxhdGUiLCJ0b29sdGlwIiwibW91c2VlbnRlciIse3VzZUNvbnRlbnRFeHA6ITB9KX1dKS5kaXJlY3RpdmUoInVpYlRvb2x0aXBIdG1sUG9wdXAiLGZ1bmN0aW9uKCl7cmV0dXJue3JlcGxhY2U6ITAsc2NvcGU6e2NvbnRlbnRFeHA6IiYiLHBsYWNlbWVudDoiQCIscG9wdXBDbGFzczoiQCIsYW5pbWF0aW9uOiImIixpc09wZW46IiYifSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtcG9wdXAuaHRtbCIsbGluazpmdW5jdGlvbihhLGIpe2IuYWRkQ2xhc3MoInRvb2x0aXAiKX19fSkuZGlyZWN0aXZlKCJ1aWJUb29sdGlwSHRtbCIsWyIkdWliVG9vbHRpcCIsZnVuY3Rpb24oYSl7cmV0dXJuIGEoInVpYlRvb2x0aXBIdG1sIiwidG9vbHRpcCIsIm1vdXNlZW50ZXIiLHt1c2VDb250ZW50RXhwOiEwfSl9XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC50b29sdGlwIikudmFsdWUoIiR0b29sdGlwU3VwcHJlc3NXYXJuaW5nIiwhMSkucHJvdmlkZXIoIiR0b29sdGlwIixbIiR1aWJUb29sdGlwUHJvdmlkZXIiLGZ1bmN0aW9uKGEpe2FuZ3VsYXIuZXh0ZW5kKHRoaXMsYSksdGhpcy4kZ2V0PVsiJGxvZyIsIiR0b29sdGlwU3VwcHJlc3NXYXJuaW5nIiwiJGluamVjdG9yIixmdW5jdGlvbihiLGMsZCl7cmV0dXJuIGN8fGIud2FybigiJHRvb2x0aXAgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSAkdWliVG9vbHRpcCBpbnN0ZWFkLiIpLGQuaW52b2tlKGEuJGdldCl9XX1dKS5kaXJlY3RpdmUoInRvb2x0aXBUZW1wbGF0ZVRyYW5zY2x1ZGUiLFsiJGFuaW1hdGUiLCIkc2NlIiwiJGNvbXBpbGUiLCIkdGVtcGxhdGVSZXF1ZXN0IiwiJGxvZyIsIiR0b29sdGlwU3VwcHJlc3NXYXJuaW5nIixmdW5jdGlvbihhLGIsYyxkLGUsZil7cmV0dXJue2xpbms6ZnVuY3Rpb24oZyxoLGkpe2Z8fGUud2FybigidG9vbHRpcC10ZW1wbGF0ZS10cmFuc2NsdWRlIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliLXRvb2x0aXAtdGVtcGxhdGUtdHJhbnNjbHVkZSBpbnN0ZWFkLiIpO3ZhciBqLGssbCxtPWcuJGV2YWwoaS50b29sdGlwVGVtcGxhdGVUcmFuc2NsdWRlU2NvcGUpLG49MCxvPWZ1bmN0aW9uKCl7ayYmKGsucmVtb3ZlKCksaz1udWxsKSxqJiYoai4kZGVzdHJveSgpLGo9bnVsbCksbCYmKGEubGVhdmUobCkudGhlbihmdW5jdGlvbigpe2s9bnVsbH0pLGs9bCxsPW51bGwpfTtnLiR3YXRjaChiLnBhcnNlQXNSZXNvdXJjZVVybChpLnRvb2x0aXBUZW1wbGF0ZVRyYW5zY2x1ZGUpLGZ1bmN0aW9uKGIpe3ZhciBlPSsrbjtiPyhkKGIsITApLnRoZW4oZnVuY3Rpb24oZCl7aWYoZT09PW4pe3ZhciBmPW0uJG5ldygpLGc9ZCxpPWMoZykoZixmdW5jdGlvbihiKXtvKCksYS5lbnRlcihiLGgpfSk7aj1mLGw9aSxqLiRlbWl0KCIkaW5jbHVkZUNvbnRlbnRMb2FkZWQiLGIpfX0sZnVuY3Rpb24oKXtlPT09biYmKG8oKSxnLiRlbWl0KCIkaW5jbHVkZUNvbnRlbnRFcnJvciIsYikpfSksZy4kZW1pdCgiJGluY2x1ZGVDb250ZW50UmVxdWVzdGVkIixiKSk6bygpfSksZy4kb24oIiRkZXN0cm95IixvKX19fV0pLmRpcmVjdGl2ZSgidG9vbHRpcENsYXNzZXMiLFsiJGxvZyIsIiR0b29sdGlwU3VwcHJlc3NXYXJuaW5nIixmdW5jdGlvbihhLGIpe3JldHVybntyZXN0cmljdDoiQSIsbGluazpmdW5jdGlvbihjLGQsZSl7Ynx8YS53YXJuKCJ0b29sdGlwLWNsYXNzZXMgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB1aWItdG9vbHRpcC1jbGFzc2VzIGluc3RlYWQuIiksYy5wbGFjZW1lbnQmJmQuYWRkQ2xhc3MoYy5wbGFjZW1lbnQpLGMucG9wdXBDbGFzcyYmZC5hZGRDbGFzcyhjLnBvcHVwQ2xhc3MpLGMuYW5pbWF0aW9uKCkmJmQuYWRkQ2xhc3MoZS50b29sdGlwQW5pbWF0aW9uQ2xhc3MpfX19XSkuZGlyZWN0aXZlKCJ0b29sdGlwUG9wdXAiLFsiJGxvZyIsIiR0b29sdGlwU3VwcHJlc3NXYXJuaW5nIixmdW5jdGlvbihhLGIpe3JldHVybntyZXBsYWNlOiEwLHNjb3BlOntjb250ZW50OiJAIixwbGFjZW1lbnQ6IkAiLHBvcHVwQ2xhc3M6IkAiLGFuaW1hdGlvbjoiJiIsaXNPcGVuOiImIn0sdGVtcGxhdGVVcmw6InRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sIixsaW5rOmZ1bmN0aW9uKGMsZCl7Ynx8YS53YXJuKCJ0b29sdGlwLXBvcHVwIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliLXRvb2x0aXAtcG9wdXAgaW5zdGVhZC4iKSxkLmFkZENsYXNzKCJ0b29sdGlwIil9fX1dKS5kaXJlY3RpdmUoInRvb2x0aXAiLFsiJHRvb2x0aXAiLGZ1bmN0aW9uKGEpe3JldHVybiBhKCJ0b29sdGlwIiwidG9vbHRpcCIsIm1vdXNlZW50ZXIiKX1dKS5kaXJlY3RpdmUoInRvb2x0aXBUZW1wbGF0ZVBvcHVwIixbIiRsb2ciLCIkdG9vbHRpcFN1cHByZXNzV2FybmluZyIsZnVuY3Rpb24oYSxiKXtyZXR1cm57cmVwbGFjZTohMCxzY29wZTp7Y29udGVudEV4cDoiJiIscGxhY2VtZW50OiJAIixwb3B1cENsYXNzOiJAIixhbmltYXRpb246IiYiLGlzT3BlbjoiJiIsb3JpZ2luU2NvcGU6IiYifSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXRlbXBsYXRlLXBvcHVwLmh0bWwiLGxpbms6ZnVuY3Rpb24oYyxkKXtifHxhLndhcm4oInRvb2x0aXAtdGVtcGxhdGUtcG9wdXAgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB1aWItdG9vbHRpcC10ZW1wbGF0ZS1wb3B1cCBpbnN0ZWFkLiIpLGQuYWRkQ2xhc3MoInRvb2x0aXAiKX19fV0pLmRpcmVjdGl2ZSgidG9vbHRpcFRlbXBsYXRlIixbIiR0b29sdGlwIixmdW5jdGlvbihhKXtyZXR1cm4gYSgidG9vbHRpcFRlbXBsYXRlIiwidG9vbHRpcCIsIm1vdXNlZW50ZXIiLHt1c2VDb250ZW50RXhwOiEwfSl9XSkuZGlyZWN0aXZlKCJ0b29sdGlwSHRtbFBvcHVwIixbIiRsb2ciLCIkdG9vbHRpcFN1cHByZXNzV2FybmluZyIsZnVuY3Rpb24oYSxiKXtyZXR1cm57cmVwbGFjZTohMCxzY29wZTp7Y29udGVudEV4cDoiJiIscGxhY2VtZW50OiJAIixwb3B1cENsYXNzOiJAIixhbmltYXRpb246IiYiLGlzT3BlbjoiJiJ9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC1wb3B1cC5odG1sIixsaW5rOmZ1bmN0aW9uKGMsZCl7Ynx8YS53YXJuKCJ0b29sdGlwLWh0bWwtcG9wdXAgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB1aWItdG9vbHRpcC1odG1sLXBvcHVwIGluc3RlYWQuIiksZC5hZGRDbGFzcygidG9vbHRpcCIpfX19XSkuZGlyZWN0aXZlKCJ0b29sdGlwSHRtbCIsWyIkdG9vbHRpcCIsZnVuY3Rpb24oYSl7cmV0dXJuIGEoInRvb2x0aXBIdG1sIiwidG9vbHRpcCIsIm1vdXNlZW50ZXIiLHt1c2VDb250ZW50RXhwOiEwfSl9XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5wb3BvdmVyIixbInVpLmJvb3RzdHJhcC50b29sdGlwIl0pLmRpcmVjdGl2ZSgidWliUG9wb3ZlclRlbXBsYXRlUG9wdXAiLGZ1bmN0aW9uKCl7cmV0dXJue3JlcGxhY2U6ITAsc2NvcGU6e3RpdGxlOiJAIixjb250ZW50RXhwOiImIixwbGFjZW1lbnQ6IkAiLHBvcHVwQ2xhc3M6IkAiLGFuaW1hdGlvbjoiJiIsaXNPcGVuOiImIixvcmlnaW5TY29wZToiJiJ9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItdGVtcGxhdGUuaHRtbCIsbGluazpmdW5jdGlvbihhLGIpe2IuYWRkQ2xhc3MoInBvcG92ZXIiKX19fSkuZGlyZWN0aXZlKCJ1aWJQb3BvdmVyVGVtcGxhdGUiLFsiJHVpYlRvb2x0aXAiLGZ1bmN0aW9uKGEpe3JldHVybiBhKCJ1aWJQb3BvdmVyVGVtcGxhdGUiLCJwb3BvdmVyIiwiY2xpY2siLHt1c2VDb250ZW50RXhwOiEwfSl9XSkuZGlyZWN0aXZlKCJ1aWJQb3BvdmVySHRtbFBvcHVwIixmdW5jdGlvbigpe3JldHVybntyZXBsYWNlOiEwLHNjb3BlOntjb250ZW50RXhwOiImIix0aXRsZToiQCIscGxhY2VtZW50OiJAIixwb3B1cENsYXNzOiJAIixhbmltYXRpb246IiYiLGlzT3BlbjoiJiJ9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItaHRtbC5odG1sIixsaW5rOmZ1bmN0aW9uKGEsYil7Yi5hZGRDbGFzcygicG9wb3ZlciIpfX19KS5kaXJlY3RpdmUoInVpYlBvcG92ZXJIdG1sIixbIiR1aWJUb29sdGlwIixmdW5jdGlvbihhKXtyZXR1cm4gYSgidWliUG9wb3Zlckh0bWwiLCJwb3BvdmVyIiwiY2xpY2siLHt1c2VDb250ZW50RXhwOiEwfSl9XSkuZGlyZWN0aXZlKCJ1aWJQb3BvdmVyUG9wdXAiLGZ1bmN0aW9uKCl7cmV0dXJue3JlcGxhY2U6ITAsc2NvcGU6e3RpdGxlOiJAIixjb250ZW50OiJAIixwbGFjZW1lbnQ6IkAiLHBvcHVwQ2xhc3M6IkAiLGFuaW1hdGlvbjoiJiIsaXNPcGVuOiImIn0sdGVtcGxhdGVVcmw6InRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sIixsaW5rOmZ1bmN0aW9uKGEsYil7Yi5hZGRDbGFzcygicG9wb3ZlciIpfX19KS5kaXJlY3RpdmUoInVpYlBvcG92ZXIiLFsiJHVpYlRvb2x0aXAiLGZ1bmN0aW9uKGEpe3JldHVybiBhKCJ1aWJQb3BvdmVyIiwicG9wb3ZlciIsImNsaWNrIil9XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5wb3BvdmVyIikudmFsdWUoIiRwb3BvdmVyU3VwcHJlc3NXYXJuaW5nIiwhMSkuZGlyZWN0aXZlKCJwb3BvdmVyVGVtcGxhdGVQb3B1cCIsWyIkbG9nIiwiJHBvcG92ZXJTdXBwcmVzc1dhcm5pbmciLGZ1bmN0aW9uKGEsYil7cmV0dXJue3JlcGxhY2U6ITAsc2NvcGU6e3RpdGxlOiJAIixjb250ZW50RXhwOiImIixwbGFjZW1lbnQ6IkAiLHBvcHVwQ2xhc3M6IkAiLGFuaW1hdGlvbjoiJiIsaXNPcGVuOiImIixvcmlnaW5TY29wZToiJiJ9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItdGVtcGxhdGUuaHRtbCIsbGluazpmdW5jdGlvbihjLGQpe2J8fGEud2FybigicG9wb3Zlci10ZW1wbGF0ZS1wb3B1cCBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIHVpYi1wb3BvdmVyLXRlbXBsYXRlLXBvcHVwIGluc3RlYWQuIiksZC5hZGRDbGFzcygicG9wb3ZlciIpfX19XSkuZGlyZWN0aXZlKCJwb3BvdmVyVGVtcGxhdGUiLFsiJHRvb2x0aXAiLGZ1bmN0aW9uKGEpe3JldHVybiBhKCJwb3BvdmVyVGVtcGxhdGUiLCJwb3BvdmVyIiwiY2xpY2siLHt1c2VDb250ZW50RXhwOiEwfSl9XSkuZGlyZWN0aXZlKCJwb3BvdmVySHRtbFBvcHVwIixbIiRsb2ciLCIkcG9wb3ZlclN1cHByZXNzV2FybmluZyIsZnVuY3Rpb24oYSxiKXtyZXR1cm57cmVwbGFjZTohMCxzY29wZTp7Y29udGVudEV4cDoiJiIsdGl0bGU6IkAiLHBsYWNlbWVudDoiQCIscG9wdXBDbGFzczoiQCIsYW5pbWF0aW9uOiImIixpc09wZW46IiYifSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLWh0bWwuaHRtbCIsbGluazpmdW5jdGlvbihjLGQpe2J8fGEud2FybigicG9wb3Zlci1odG1sLXBvcHVwIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliLXBvcG92ZXItaHRtbC1wb3B1cCBpbnN0ZWFkLiIpLGQuYWRkQ2xhc3MoInBvcG92ZXIiKX19fV0pLmRpcmVjdGl2ZSgicG9wb3Zlckh0bWwiLFsiJHRvb2x0aXAiLGZ1bmN0aW9uKGEpe3JldHVybiBhKCJwb3BvdmVySHRtbCIsInBvcG92ZXIiLCJjbGljayIse3VzZUNvbnRlbnRFeHA6ITB9KX1dKS5kaXJlY3RpdmUoInBvcG92ZXJQb3B1cCIsWyIkbG9nIiwiJHBvcG92ZXJTdXBwcmVzc1dhcm5pbmciLGZ1bmN0aW9uKGEsYil7cmV0dXJue3JlcGxhY2U6ITAsc2NvcGU6e3RpdGxlOiJAIixjb250ZW50OiJAIixwbGFjZW1lbnQ6IkAiLHBvcHVwQ2xhc3M6IkAiLGFuaW1hdGlvbjoiJiIsaXNPcGVuOiImIn0sdGVtcGxhdGVVcmw6InRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sIixsaW5rOmZ1bmN0aW9uKGMsZCl7Ynx8YS53YXJuKCJwb3BvdmVyLXBvcHVwIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliLXBvcG92ZXItcG9wdXAgaW5zdGVhZC4iKSxkLmFkZENsYXNzKCJwb3BvdmVyIil9fX1dKS5kaXJlY3RpdmUoInBvcG92ZXIiLFsiJHRvb2x0aXAiLGZ1bmN0aW9uKGEpe3JldHVybiBhKCJwb3BvdmVyIiwicG9wb3ZlciIsImNsaWNrIil9XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5wcm9ncmVzc2JhciIsW10pLmNvbnN0YW50KCJ1aWJQcm9ncmVzc0NvbmZpZyIse2FuaW1hdGU6ITAsbWF4OjEwMH0pLmNvbnRyb2xsZXIoIlVpYlByb2dyZXNzQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCJ1aWJQcm9ncmVzc0NvbmZpZyIsZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMsZT1hbmd1bGFyLmlzRGVmaW5lZChiLmFuaW1hdGUpP2EuJHBhcmVudC4kZXZhbChiLmFuaW1hdGUpOmMuYW5pbWF0ZTt0aGlzLmJhcnM9W10sYS5tYXg9YW5ndWxhci5pc0RlZmluZWQoYS5tYXgpP2EubWF4OmMubWF4LHRoaXMuYWRkQmFyPWZ1bmN0aW9uKGIsYyxmKXtlfHxjLmNzcyh7dHJhbnNpdGlvbjoibm9uZSJ9KSx0aGlzLmJhcnMucHVzaChiKSxiLm1heD1hLm1heCxiLnRpdGxlPWYmJmFuZ3VsYXIuaXNEZWZpbmVkKGYudGl0bGUpP2YudGl0bGU6InByb2dyZXNzYmFyIixiLiR3YXRjaCgidmFsdWUiLGZ1bmN0aW9uKGEpe2IucmVjYWxjdWxhdGVQZXJjZW50YWdlKCl9KSxiLnJlY2FsY3VsYXRlUGVyY2VudGFnZT1mdW5jdGlvbigpe3ZhciBhPWQuYmFycy5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5wZXJjZW50PSsoMTAwKmIudmFsdWUvYi5tYXgpLnRvRml4ZWQoMiksYStiLnBlcmNlbnR9LDApO2E+MTAwJiYoYi5wZXJjZW50LT1hLTEwMCl9LGIuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtjPW51bGwsZC5yZW1vdmVCYXIoYil9KX0sdGhpcy5yZW1vdmVCYXI9ZnVuY3Rpb24oYSl7dGhpcy5iYXJzLnNwbGljZSh0aGlzLmJhcnMuaW5kZXhPZihhKSwxKSx0aGlzLmJhcnMuZm9yRWFjaChmdW5jdGlvbihhKXthLnJlY2FsY3VsYXRlUGVyY2VudGFnZSgpfSl9LGEuJHdhdGNoKCJtYXgiLGZ1bmN0aW9uKGIpe2QuYmFycy5mb3JFYWNoKGZ1bmN0aW9uKGIpe2IubWF4PWEubWF4LGIucmVjYWxjdWxhdGVQZXJjZW50YWdlKCl9KX0pfV0pLmRpcmVjdGl2ZSgidWliUHJvZ3Jlc3MiLGZ1bmN0aW9uKCl7cmV0dXJue3JlcGxhY2U6ITAsdHJhbnNjbHVkZTohMCxjb250cm9sbGVyOiJVaWJQcm9ncmVzc0NvbnRyb2xsZXIiLHJlcXVpcmU6InVpYlByb2dyZXNzIixzY29wZTp7bWF4OiI9PyJ9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sIn19KS5kaXJlY3RpdmUoInVpYkJhciIsZnVuY3Rpb24oKXtyZXR1cm57cmVwbGFjZTohMCx0cmFuc2NsdWRlOiEwLHJlcXVpcmU6Il51aWJQcm9ncmVzcyIsc2NvcGU6e3ZhbHVlOiI9Iix0eXBlOiJAIn0sdGVtcGxhdGVVcmw6InRlbXBsYXRlL3Byb2dyZXNzYmFyL2Jhci5odG1sIixsaW5rOmZ1bmN0aW9uKGEsYixjLGQpe2QuYWRkQmFyKGEsYixjKX19fSkuZGlyZWN0aXZlKCJ1aWJQcm9ncmVzc2JhciIsZnVuY3Rpb24oKXtyZXR1cm57cmVwbGFjZTohMCx0cmFuc2NsdWRlOiEwLGNvbnRyb2xsZXI6IlVpYlByb2dyZXNzQ29udHJvbGxlciIsc2NvcGU6e3ZhbHVlOiI9IixtYXg6Ij0/Iix0eXBlOiJAIn0sdGVtcGxhdGVVcmw6InRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmh0bWwiLGxpbms6ZnVuY3Rpb24oYSxiLGMsZCl7ZC5hZGRCYXIoYSxhbmd1bGFyLmVsZW1lbnQoYi5jaGlsZHJlbigpWzBdKSx7dGl0bGU6Yy50aXRsZX0pfX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnByb2dyZXNzYmFyIikudmFsdWUoIiRwcm9ncmVzc1N1cHByZXNzV2FybmluZyIsITEpLmNvbnRyb2xsZXIoIlByb2dyZXNzQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCJ1aWJQcm9ncmVzc0NvbmZpZyIsIiRsb2ciLCIkcHJvZ3Jlc3NTdXBwcmVzc1dhcm5pbmciLGZ1bmN0aW9uKGEsYixjLGQsZSl7ZXx8ZC53YXJuKCJQcm9ncmVzc0NvbnRyb2xsZXIgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSBVaWJQcm9ncmVzc0NvbnRyb2xsZXIgaW5zdGVhZC4iKTt2YXIgZj10aGlzLGc9YW5ndWxhci5pc0RlZmluZWQoYi5hbmltYXRlKT9hLiRwYXJlbnQuJGV2YWwoYi5hbmltYXRlKTpjLmFuaW1hdGU7dGhpcy5iYXJzPVtdLGEubWF4PWFuZ3VsYXIuaXNEZWZpbmVkKGEubWF4KT9hLm1heDpjLm1heCx0aGlzLmFkZEJhcj1mdW5jdGlvbihiLGMsZCl7Z3x8Yy5jc3Moe3RyYW5zaXRpb246Im5vbmUifSksdGhpcy5iYXJzLnB1c2goYiksYi5tYXg9YS5tYXgsYi50aXRsZT1kJiZhbmd1bGFyLmlzRGVmaW5lZChkLnRpdGxlKT9kLnRpdGxlOiJwcm9ncmVzc2JhciIsYi4kd2F0Y2goInZhbHVlIixmdW5jdGlvbihhKXtiLnJlY2FsY3VsYXRlUGVyY2VudGFnZSgpfSksYi5yZWNhbGN1bGF0ZVBlcmNlbnRhZ2U9ZnVuY3Rpb24oKXtiLnBlcmNlbnQ9KygxMDAqYi52YWx1ZS9iLm1heCkudG9GaXhlZCgyKTt2YXIgYT1mLmJhcnMucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGErYi5wZXJjZW50fSwwKTthPjEwMCYmKGIucGVyY2VudC09YS0xMDApfSxiLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7Yz1udWxsLGYucmVtb3ZlQmFyKGIpfSl9LHRoaXMucmVtb3ZlQmFyPWZ1bmN0aW9uKGEpe3RoaXMuYmFycy5zcGxpY2UodGhpcy5iYXJzLmluZGV4T2YoYSksMSl9LGEuJHdhdGNoKCJtYXgiLGZ1bmN0aW9uKGIpe2YuYmFycy5mb3JFYWNoKGZ1bmN0aW9uKGIpe2IubWF4PWEubWF4LGIucmVjYWxjdWxhdGVQZXJjZW50YWdlKCl9KX0pfV0pLmRpcmVjdGl2ZSgicHJvZ3Jlc3MiLFsiJGxvZyIsIiRwcm9ncmVzc1N1cHByZXNzV2FybmluZyIsZnVuY3Rpb24oYSxiKXtyZXR1cm57cmVwbGFjZTohMCx0cmFuc2NsdWRlOiEwLGNvbnRyb2xsZXI6IlByb2dyZXNzQ29udHJvbGxlciIscmVxdWlyZToicHJvZ3Jlc3MiLHNjb3BlOnttYXg6Ij0/Iix0aXRsZToiQD8ifSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbCIsbGluazpmdW5jdGlvbigpe2J8fGEud2FybigicHJvZ3Jlc3MgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB1aWItcHJvZ3Jlc3MgaW5zdGVhZC4iKX19fV0pLmRpcmVjdGl2ZSgiYmFyIixbIiRsb2ciLCIkcHJvZ3Jlc3NTdXBwcmVzc1dhcm5pbmciLGZ1bmN0aW9uKGEsYil7cmV0dXJue3JlcGxhY2U6ITAsdHJhbnNjbHVkZTohMCxyZXF1aXJlOiJecHJvZ3Jlc3MiLHNjb3BlOnt2YWx1ZToiPSIsdHlwZToiQCJ9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbCIsbGluazpmdW5jdGlvbihjLGQsZSxmKXtifHxhLndhcm4oImJhciBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIHVpYi1iYXIgaW5zdGVhZC4iKSxmLmFkZEJhcihjLGQpfX19XSkuZGlyZWN0aXZlKCJwcm9ncmVzc2JhciIsWyIkbG9nIiwiJHByb2dyZXNzU3VwcHJlc3NXYXJuaW5nIixmdW5jdGlvbihhLGIpe3JldHVybntyZXBsYWNlOiEwLHRyYW5zY2x1ZGU6ITAsY29udHJvbGxlcjoiUHJvZ3Jlc3NDb250cm9sbGVyIixzY29wZTp7dmFsdWU6Ij0iLG1heDoiPT8iLHR5cGU6IkAifSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbCIsbGluazpmdW5jdGlvbihjLGQsZSxmKXtifHxhLndhcm4oInByb2dyZXNzYmFyIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliLXByb2dyZXNzYmFyIGluc3RlYWQuIiksZi5hZGRCYXIoYyxhbmd1bGFyLmVsZW1lbnQoZC5jaGlsZHJlbigpWzBdKSx7dGl0bGU6ZS50aXRsZX0pfX19XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5yYXRpbmciLFtdKS5jb25zdGFudCgidWliUmF0aW5nQ29uZmlnIix7bWF4OjUsc3RhdGVPbjpudWxsLHN0YXRlT2ZmOm51bGwsdGl0bGVzOlsib25lIiwidHdvIiwidGhyZWUiLCJmb3VyIiwiZml2ZSJdfSkuY29udHJvbGxlcigiVWliUmF0aW5nQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCJ1aWJSYXRpbmdDb25maWciLGZ1bmN0aW9uKGEsYixjKXt2YXIgZD17JHNldFZpZXdWYWx1ZTphbmd1bGFyLm5vb3B9O3RoaXMuaW5pdD1mdW5jdGlvbihlKXtkPWUsZC4kcmVuZGVyPXRoaXMucmVuZGVyLGQuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihhKXtyZXR1cm4gYW5ndWxhci5pc051bWJlcihhKSYmYTw8MCE9PWEmJihhPU1hdGgucm91bmQoYSkpLGF9KSx0aGlzLnN0YXRlT249YW5ndWxhci5pc0RlZmluZWQoYi5zdGF0ZU9uKT9hLiRwYXJlbnQuJGV2YWwoYi5zdGF0ZU9uKTpjLnN0YXRlT24sdGhpcy5zdGF0ZU9mZj1hbmd1bGFyLmlzRGVmaW5lZChiLnN0YXRlT2ZmKT9hLiRwYXJlbnQuJGV2YWwoYi5zdGF0ZU9mZik6Yy5zdGF0ZU9mZjt2YXIgZj1hbmd1bGFyLmlzRGVmaW5lZChiLnRpdGxlcyk/YS4kcGFyZW50LiRldmFsKGIudGl0bGVzKTpjLnRpdGxlczt0aGlzLnRpdGxlcz1hbmd1bGFyLmlzQXJyYXkoZikmJmYubGVuZ3RoPjA/ZjpjLnRpdGxlczt2YXIgZz1hbmd1bGFyLmlzRGVmaW5lZChiLnJhdGluZ1N0YXRlcyk/YS4kcGFyZW50LiRldmFsKGIucmF0aW5nU3RhdGVzKTpuZXcgQXJyYXkoYW5ndWxhci5pc0RlZmluZWQoYi5tYXgpP2EuJHBhcmVudC4kZXZhbChiLm1heCk6Yy5tYXgpO2EucmFuZ2U9dGhpcy5idWlsZFRlbXBsYXRlT2JqZWN0cyhnKX0sdGhpcy5idWlsZFRlbXBsYXRlT2JqZWN0cz1mdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoO2M+YjtiKyspYVtiXT1hbmd1bGFyLmV4dGVuZCh7aW5kZXg6Yn0se3N0YXRlT246dGhpcy5zdGF0ZU9uLHN0YXRlT2ZmOnRoaXMuc3RhdGVPZmYsdGl0bGU6dGhpcy5nZXRUaXRsZShiKX0sYVtiXSk7cmV0dXJuIGF9LHRoaXMuZ2V0VGl0bGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGE+PXRoaXMudGl0bGVzLmxlbmd0aD9hKzE6dGhpcy50aXRsZXNbYV19LGEucmF0ZT1mdW5jdGlvbihiKXshYS5yZWFkb25seSYmYj49MCYmYjw9YS5yYW5nZS5sZW5ndGgmJihkLiRzZXRWaWV3VmFsdWUoZC4kdmlld1ZhbHVlPT09Yj8wOmIpLGQuJHJlbmRlcigpKX0sYS5lbnRlcj1mdW5jdGlvbihiKXthLnJlYWRvbmx5fHwoYS52YWx1ZT1iKSxhLm9uSG92ZXIoe3ZhbHVlOmJ9KX0sYS5yZXNldD1mdW5jdGlvbigpe2EudmFsdWU9ZC4kdmlld1ZhbHVlLGEub25MZWF2ZSgpfSxhLm9uS2V5ZG93bj1mdW5jdGlvbihiKXsvKDM3fDM4fDM5fDQwKS8udGVzdChiLndoaWNoKSYmKGIucHJldmVudERlZmF1bHQoKSxiLnN0b3BQcm9wYWdhdGlvbigpLGEucmF0ZShhLnZhbHVlKygzOD09PWIud2hpY2h8fDM5PT09Yi53aGljaD8xOi0xKSkpfSx0aGlzLnJlbmRlcj1mdW5jdGlvbigpe2EudmFsdWU9ZC4kdmlld1ZhbHVlfX1dKS5kaXJlY3RpdmUoInVpYlJhdGluZyIsZnVuY3Rpb24oKXtyZXR1cm57cmVxdWlyZTpbInVpYlJhdGluZyIsIm5nTW9kZWwiXSxzY29wZTp7cmVhZG9ubHk6Ij0/IixvbkhvdmVyOiImIixvbkxlYXZlOiImIn0sY29udHJvbGxlcjoiVWliUmF0aW5nQ29udHJvbGxlciIsdGVtcGxhdGVVcmw6InRlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbCIscmVwbGFjZTohMCxsaW5rOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWRbMF0sZj1kWzFdO2UuaW5pdChmKX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5yYXRpbmciKS52YWx1ZSgiJHJhdGluZ1N1cHByZXNzV2FybmluZyIsITEpLmNvbnRyb2xsZXIoIlJhdGluZ0NvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGF0dHJzIiwiJGNvbnRyb2xsZXIiLCIkbG9nIiwiJHJhdGluZ1N1cHByZXNzV2FybmluZyIsZnVuY3Rpb24oYSxiLGMsZCxlKXtlfHxkLndhcm4oIlJhdGluZ0NvbnRyb2xsZXIgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSBVaWJSYXRpbmdDb250cm9sbGVyIGluc3RlYWQuIiksYW5ndWxhci5leHRlbmQodGhpcyxjKCJVaWJSYXRpbmdDb250cm9sbGVyIix7JHNjb3BlOmEsJGF0dHJzOmJ9KSl9XSkuZGlyZWN0aXZlKCJyYXRpbmciLFsiJGxvZyIsIiRyYXRpbmdTdXBwcmVzc1dhcm5pbmciLGZ1bmN0aW9uKGEsYil7cmV0dXJue3JlcXVpcmU6WyJyYXRpbmciLCJuZ01vZGVsIl0sc2NvcGU6e3JlYWRvbmx5OiI9PyIsb25Ib3ZlcjoiJiIsb25MZWF2ZToiJiJ9LGNvbnRyb2xsZXI6IlJhdGluZ0NvbnRyb2xsZXIiLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9yYXRpbmcvcmF0aW5nLmh0bWwiLHJlcGxhY2U6ITAsbGluazpmdW5jdGlvbihjLGQsZSxmKXtifHxhLndhcm4oInJhdGluZyBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIHVpYi1yYXRpbmcgaW5zdGVhZC4iKTt2YXIgZz1mWzBdLGg9ZlsxXTtnLmluaXQoaCl9fX1dKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnRhYnMiLFtdKS5jb250cm9sbGVyKCJVaWJUYWJzZXRDb250cm9sbGVyIixbIiRzY29wZSIsZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIudGFicz1hLnRhYnM9W107Yi5zZWxlY3Q9ZnVuY3Rpb24oYSl7YW5ndWxhci5mb3JFYWNoKGMsZnVuY3Rpb24oYil7Yi5hY3RpdmUmJmIhPT1hJiYoYi5hY3RpdmU9ITEsYi5vbkRlc2VsZWN0KCksYS5zZWxlY3RDYWxsZWQ9ITEpfSksYS5hY3RpdmU9ITAsYS5zZWxlY3RDYWxsZWR8fChhLm9uU2VsZWN0KCksYS5zZWxlY3RDYWxsZWQ9ITApfSxiLmFkZFRhYj1mdW5jdGlvbihhKXtjLnB1c2goYSksMT09PWMubGVuZ3RoJiZhLmFjdGl2ZSE9PSExP2EuYWN0aXZlPSEwOmEuYWN0aXZlP2Iuc2VsZWN0KGEpOmEuYWN0aXZlPSExfSxiLnJlbW92ZVRhYj1mdW5jdGlvbihhKXt2YXIgZT1jLmluZGV4T2YoYSk7aWYoYS5hY3RpdmUmJmMubGVuZ3RoPjEmJiFkKXt2YXIgZj1lPT1jLmxlbmd0aC0xP2UtMTplKzE7Yi5zZWxlY3QoY1tmXSl9Yy5zcGxpY2UoZSwxKX07dmFyIGQ7YS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe2Q9ITB9KX1dKS5kaXJlY3RpdmUoInVpYlRhYnNldCIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIix0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITAsc2NvcGU6e3R5cGU6IkAifSxjb250cm9sbGVyOiJVaWJUYWJzZXRDb250cm9sbGVyIix0ZW1wbGF0ZVVybDoidGVtcGxhdGUvdGFicy90YWJzZXQuaHRtbCIsbGluazpmdW5jdGlvbihhLGIsYyl7YS52ZXJ0aWNhbD1hbmd1bGFyLmlzRGVmaW5lZChjLnZlcnRpY2FsKT9hLiRwYXJlbnQuJGV2YWwoYy52ZXJ0aWNhbCk6ITEsYS5qdXN0aWZpZWQ9YW5ndWxhci5pc0RlZmluZWQoYy5qdXN0aWZpZWQpP2EuJHBhcmVudC4kZXZhbChjLmp1c3RpZmllZCk6ITF9fX0pLmRpcmVjdGl2ZSgidWliVGFiIixbIiRwYXJzZSIsZnVuY3Rpb24oYSl7cmV0dXJue3JlcXVpcmU6Il51aWJUYWJzZXQiLHJlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvdGFicy90YWIuaHRtbCIsdHJhbnNjbHVkZTohMCxzY29wZTp7YWN0aXZlOiI9PyIsaGVhZGluZzoiQCIsb25TZWxlY3Q6IiZzZWxlY3QiLG9uRGVzZWxlY3Q6IiZkZXNlbGVjdCJ9LGNvbnRyb2xsZXI6ZnVuY3Rpb24oKXt9LGxpbms6ZnVuY3Rpb24oYixjLGQsZSxmKXtiLiR3YXRjaCgiYWN0aXZlIixmdW5jdGlvbihhKXthJiZlLnNlbGVjdChiKX0pLGIuZGlzYWJsZWQ9ITEsZC5kaXNhYmxlJiZiLiRwYXJlbnQuJHdhdGNoKGEoZC5kaXNhYmxlKSxmdW5jdGlvbihhKXtiLmRpc2FibGVkPSEhYX0pLGIuc2VsZWN0PWZ1bmN0aW9uKCl7Yi5kaXNhYmxlZHx8KGIuYWN0aXZlPSEwKX0sZS5hZGRUYWIoYiksYi4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe2UucmVtb3ZlVGFiKGIpfSksYi4kdHJhbnNjbHVkZUZuPWZ9fX1dKS5kaXJlY3RpdmUoInVpYlRhYkhlYWRpbmdUcmFuc2NsdWRlIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiQSIscmVxdWlyZTpbIj9edWliVGFiIiwiP150YWIiXSxsaW5rOmZ1bmN0aW9uKGEsYil7YS4kd2F0Y2goImhlYWRpbmdFbGVtZW50IixmdW5jdGlvbihhKXthJiYoYi5odG1sKCIiKSxiLmFwcGVuZChhKSl9KX19fSkuZGlyZWN0aXZlKCJ1aWJUYWJDb250ZW50VHJhbnNjbHVkZSIsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybiBhLnRhZ05hbWUmJihhLmhhc0F0dHJpYnV0ZSgidGFiLWhlYWRpbmciKXx8YS5oYXNBdHRyaWJ1dGUoImRhdGEtdGFiLWhlYWRpbmciKXx8YS5oYXNBdHRyaWJ1dGUoIngtdGFiLWhlYWRpbmciKXx8YS5oYXNBdHRyaWJ1dGUoInVpYi10YWItaGVhZGluZyIpfHxhLmhhc0F0dHJpYnV0ZSgiZGF0YS11aWItdGFiLWhlYWRpbmciKXx8YS5oYXNBdHRyaWJ1dGUoIngtdWliLXRhYi1oZWFkaW5nIil8fCJ0YWItaGVhZGluZyI9PT1hLnRhZ05hbWUudG9Mb3dlckNhc2UoKXx8ImRhdGEtdGFiLWhlYWRpbmciPT09YS50YWdOYW1lLnRvTG93ZXJDYXNlKCl8fCJ4LXRhYi1oZWFkaW5nIj09PWEudGFnTmFtZS50b0xvd2VyQ2FzZSgpfHwidWliLXRhYi1oZWFkaW5nIj09PWEudGFnTmFtZS50b0xvd2VyQ2FzZSgpfHwiZGF0YS11aWItdGFiLWhlYWRpbmciPT09YS50YWdOYW1lLnRvTG93ZXJDYXNlKCl8fCJ4LXVpYi10YWItaGVhZGluZyI9PT1hLnRhZ05hbWUudG9Mb3dlckNhc2UoKSl9cmV0dXJue3Jlc3RyaWN0OiJBIixyZXF1aXJlOlsiP151aWJUYWJzZXQiLCI/XnRhYnNldCJdLGxpbms6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWIuJGV2YWwoZC51aWJUYWJDb250ZW50VHJhbnNjbHVkZSk7ZS4kdHJhbnNjbHVkZUZuKGUuJHBhcmVudCxmdW5jdGlvbihiKXthbmd1bGFyLmZvckVhY2goYixmdW5jdGlvbihiKXthKGIpP2UuaGVhZGluZ0VsZW1lbnQ9YjpjLmFwcGVuZChiKX0pfSl9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAudGFicyIpLnZhbHVlKCIkdGFic1N1cHByZXNzV2FybmluZyIsITEpLmNvbnRyb2xsZXIoIlRhYnNldENvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGNvbnRyb2xsZXIiLCIkbG9nIiwiJHRhYnNTdXBwcmVzc1dhcm5pbmciLGZ1bmN0aW9uKGEsYixjLGQpe2R8fGMud2FybigiVGFic2V0Q29udHJvbGxlciBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIFVpYlRhYnNldENvbnRyb2xsZXIgaW5zdGVhZC4iKSxhbmd1bGFyLmV4dGVuZCh0aGlzLGIoIlVpYlRhYnNldENvbnRyb2xsZXIiLHskc2NvcGU6YX0pKX1dKS5kaXJlY3RpdmUoInRhYnNldCIsWyIkbG9nIiwiJHRhYnNTdXBwcmVzc1dhcm5pbmciLGZ1bmN0aW9uKGEsYil7cmV0dXJue3Jlc3RyaWN0OiJFQSIsdHJhbnNjbHVkZTohMCxyZXBsYWNlOiEwLHNjb3BlOnt0eXBlOiJAIn0sY29udHJvbGxlcjoiVGFic2V0Q29udHJvbGxlciIsdGVtcGxhdGVVcmw6InRlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWwiLGxpbms6ZnVuY3Rpb24oYyxkLGUpe2J8fGEud2FybigidGFic2V0IGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliLXRhYnNldCBpbnN0ZWFkLiIpLGMudmVydGljYWw9YW5ndWxhci5pc0RlZmluZWQoZS52ZXJ0aWNhbCk/Yy4kcGFyZW50LiRldmFsKGUudmVydGljYWwpOiExLGMuanVzdGlmaWVkPWFuZ3VsYXIuaXNEZWZpbmVkKGUuanVzdGlmaWVkKT9jLiRwYXJlbnQuJGV2YWwoZS5qdXN0aWZpZWQpOiExfX19XSkuZGlyZWN0aXZlKCJ0YWIiLFsiJHBhcnNlIiwiJGxvZyIsIiR0YWJzU3VwcHJlc3NXYXJuaW5nIixmdW5jdGlvbihhLGIsYyl7cmV0dXJue3JlcXVpcmU6Il50YWJzZXQiLHJlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvdGFicy90YWIuaHRtbCIsdHJhbnNjbHVkZTohMCxzY29wZTp7YWN0aXZlOiI9PyIsaGVhZGluZzoiQCIsb25TZWxlY3Q6IiZzZWxlY3QiLG9uRGVzZWxlY3Q6IiZkZXNlbGVjdCJ9LGNvbnRyb2xsZXI6ZnVuY3Rpb24oKXt9LGxpbms6ZnVuY3Rpb24oZCxlLGYsZyxoKXtjfHxiLndhcm4oInRhYiBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIHVpYi10YWIgaW5zdGVhZC4iKSxkLiR3YXRjaCgiYWN0aXZlIixmdW5jdGlvbihhKXthJiZnLnNlbGVjdChkKX0pLGQuZGlzYWJsZWQ9ITEsZi5kaXNhYmxlJiZkLiRwYXJlbnQuJHdhdGNoKGEoZi5kaXNhYmxlKSxmdW5jdGlvbihhKXtkLmRpc2FibGVkPSEhYX0pLGQuc2VsZWN0PWZ1bmN0aW9uKCl7ZC5kaXNhYmxlZHx8KGQuYWN0aXZlPSEwKX0sZy5hZGRUYWIoZCksZC4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe2cucmVtb3ZlVGFiKGQpfSksZC4kdHJhbnNjbHVkZUZuPWh9fX1dKS5kaXJlY3RpdmUoInRhYkhlYWRpbmdUcmFuc2NsdWRlIixbIiRsb2ciLCIkdGFic1N1cHByZXNzV2FybmluZyIsZnVuY3Rpb24oYSxiKXtyZXR1cm57cmVzdHJpY3Q6IkEiLHJlcXVpcmU6Il50YWIiLGxpbms6ZnVuY3Rpb24oYyxkKXtifHxhLndhcm4oInRhYi1oZWFkaW5nLXRyYW5zY2x1ZGUgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB1aWItdGFiLWhlYWRpbmctdHJhbnNjbHVkZSBpbnN0ZWFkLiIpLGMuJHdhdGNoKCJoZWFkaW5nRWxlbWVudCIsZnVuY3Rpb24oYSl7YSYmKGQuaHRtbCgiIiksZC5hcHBlbmQoYSkpfSl9fX1dKS5kaXJlY3RpdmUoInRhYkNvbnRlbnRUcmFuc2NsdWRlIixbIiRsb2ciLCIkdGFic1N1cHByZXNzV2FybmluZyIsZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe3JldHVybiBhLnRhZ05hbWUmJihhLmhhc0F0dHJpYnV0ZSgidGFiLWhlYWRpbmciKXx8YS5oYXNBdHRyaWJ1dGUoImRhdGEtdGFiLWhlYWRpbmciKXx8YS5oYXNBdHRyaWJ1dGUoIngtdGFiLWhlYWRpbmciKXx8InRhYi1oZWFkaW5nIj09PWEudGFnTmFtZS50b0xvd2VyQ2FzZSgpfHwiZGF0YS10YWItaGVhZGluZyI9PT1hLnRhZ05hbWUudG9Mb3dlckNhc2UoKXx8IngtdGFiLWhlYWRpbmciPT09YS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpfXJldHVybntyZXN0cmljdDoiQSIscmVxdWlyZToiXnRhYnNldCIsbGluazpmdW5jdGlvbihkLGUsZil7Ynx8YS53YXJuKCJ0YWItY29udGVudC10cmFuc2NsdWRlIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliLXRhYi1jb250ZW50LXRyYW5zY2x1ZGUgaW5zdGVhZC4iKTt2YXIgZz1kLiRldmFsKGYudGFiQ29udGVudFRyYW5zY2x1ZGUpO2cuJHRyYW5zY2x1ZGVGbihnLiRwYXJlbnQsZnVuY3Rpb24oYSl7YW5ndWxhci5mb3JFYWNoKGEsZnVuY3Rpb24oYSl7YyhhKT9nLmhlYWRpbmdFbGVtZW50PWE6ZS5hcHBlbmQoYSl9KX0pfX19XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC50aW1lcGlja2VyIixbXSkuY29uc3RhbnQoInVpYlRpbWVwaWNrZXJDb25maWciLHtob3VyU3RlcDoxLG1pbnV0ZVN0ZXA6MSxzaG93TWVyaWRpYW46ITAsbWVyaWRpYW5zOm51bGwscmVhZG9ubHlJbnB1dDohMSxtb3VzZXdoZWVsOiEwLGFycm93a2V5czohMCxzaG93U3Bpbm5lcnM6ITB9KS5jb250cm9sbGVyKCJVaWJUaW1lcGlja2VyQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkZWxlbWVudCIsIiRhdHRycyIsIiRwYXJzZSIsIiRsb2ciLCIkbG9jYWxlIiwidWliVGltZXBpY2tlckNvbmZpZyIsZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7ZnVuY3Rpb24gaCgpe3ZhciBiPXBhcnNlSW50KGEuaG91cnMsMTApLGM9YS5zaG93TWVyaWRpYW4/Yj4wJiYxMz5iOmI+PTAmJjI0PmI7cmV0dXJuIGM/KGEuc2hvd01lcmlkaWFuJiYoMTI9PT1iJiYoYj0wKSxhLm1lcmlkaWFuPT09clsxXSYmKGIrPTEyKSksYik6dm9pZCAwfWZ1bmN0aW9uIGkoKXt2YXIgYj1wYXJzZUludChhLm1pbnV0ZXMsMTApO3JldHVybiBiPj0wJiY2MD5iP2I6dm9pZCAwfWZ1bmN0aW9uIGooYSl7cmV0dXJuIGFuZ3VsYXIuaXNEZWZpbmVkKGEpJiZhLnRvU3RyaW5nKCkubGVuZ3RoPDI/IjAiK2E6YS50b1N0cmluZygpfWZ1bmN0aW9uIGsoYSl7bCgpLHEuJHNldFZpZXdWYWx1ZShuZXcgRGF0ZShwKSksbShhKX1mdW5jdGlvbiBsKCl7cS4kc2V0VmFsaWRpdHkoInRpbWUiLCEwKSxhLmludmFsaWRIb3Vycz0hMSxhLmludmFsaWRNaW51dGVzPSExfWZ1bmN0aW9uIG0oYil7dmFyIGM9cC5nZXRIb3VycygpLGQ9cC5nZXRNaW51dGVzKCk7YS5zaG93TWVyaWRpYW4mJihjPTA9PT1jfHwxMj09PWM/MTI6YyUxMiksYS5ob3Vycz0iaCI9PT1iP2M6aihjKSwibSIhPT1iJiYoYS5taW51dGVzPWooZCkpLGEubWVyaWRpYW49cC5nZXRIb3VycygpPDEyP3JbMF06clsxXX1mdW5jdGlvbiBuKGEsYil7dmFyIGM9bmV3IERhdGUoYS5nZXRUaW1lKCkrNmU0KmIpLGQ9bmV3IERhdGUoYSk7cmV0dXJuIGQuc2V0SG91cnMoYy5nZXRIb3VycygpLGMuZ2V0TWludXRlcygpKSxkfWZ1bmN0aW9uIG8oYSl7cD1uKHAsYSksaygpfXZhciBwPW5ldyBEYXRlLHE9eyRzZXRWaWV3VmFsdWU6YW5ndWxhci5ub29wfSxyPWFuZ3VsYXIuaXNEZWZpbmVkKGMubWVyaWRpYW5zKT9hLiRwYXJlbnQuJGV2YWwoYy5tZXJpZGlhbnMpOmcubWVyaWRpYW5zfHxmLkRBVEVUSU1FX0ZPUk1BVFMuQU1QTVM7YS50YWJpbmRleD1hbmd1bGFyLmlzRGVmaW5lZChjLnRhYmluZGV4KT9jLnRhYmluZGV4OjAsYi5yZW1vdmVBdHRyKCJ0YWJpbmRleCIpLHRoaXMuaW5pdD1mdW5jdGlvbihiLGQpe3E9YixxLiRyZW5kZXI9dGhpcy5yZW5kZXIscS4kZm9ybWF0dGVycy51bnNoaWZ0KGZ1bmN0aW9uKGEpe3JldHVybiBhP25ldyBEYXRlKGEpOm51bGx9KTt2YXIgZT1kLmVxKDApLGY9ZC5lcSgxKSxoPWFuZ3VsYXIuaXNEZWZpbmVkKGMubW91c2V3aGVlbCk/YS4kcGFyZW50LiRldmFsKGMubW91c2V3aGVlbCk6Zy5tb3VzZXdoZWVsO2gmJnRoaXMuc2V0dXBNb3VzZXdoZWVsRXZlbnRzKGUsZik7dmFyIGk9YW5ndWxhci5pc0RlZmluZWQoYy5hcnJvd2tleXMpP2EuJHBhcmVudC4kZXZhbChjLmFycm93a2V5cyk6Zy5hcnJvd2tleXM7aSYmdGhpcy5zZXR1cEFycm93a2V5RXZlbnRzKGUsZiksYS5yZWFkb25seUlucHV0PWFuZ3VsYXIuaXNEZWZpbmVkKGMucmVhZG9ubHlJbnB1dCk/YS4kcGFyZW50LiRldmFsKGMucmVhZG9ubHlJbnB1dCk6Zy5yZWFkb25seUlucHV0LHRoaXMuc2V0dXBJbnB1dEV2ZW50cyhlLGYpfTt2YXIgcz1nLmhvdXJTdGVwO2MuaG91clN0ZXAmJmEuJHBhcmVudC4kd2F0Y2goZChjLmhvdXJTdGVwKSxmdW5jdGlvbihhKXtzPXBhcnNlSW50KGEsMTApfSk7dmFyIHQ9Zy5taW51dGVTdGVwO2MubWludXRlU3RlcCYmYS4kcGFyZW50LiR3YXRjaChkKGMubWludXRlU3RlcCksZnVuY3Rpb24oYSl7dD1wYXJzZUludChhLDEwKX0pO3ZhciB1O2EuJHBhcmVudC4kd2F0Y2goZChjLm1pbiksZnVuY3Rpb24oYSl7dmFyIGI9bmV3IERhdGUoYSk7dT1pc05hTihiKT92b2lkIDA6Yn0pO3ZhciB2O2EuJHBhcmVudC4kd2F0Y2goZChjLm1heCksZnVuY3Rpb24oYSl7dmFyIGI9bmV3IERhdGUoYSk7dj1pc05hTihiKT92b2lkIDA6Yn0pLGEubm9JbmNyZW1lbnRIb3Vycz1mdW5jdGlvbigpe3ZhciBhPW4ocCw2MCpzKTsKcmV0dXJuIGE+dnx8cD5hJiZ1PmF9LGEubm9EZWNyZW1lbnRIb3Vycz1mdW5jdGlvbigpe3ZhciBhPW4ocCw2MCotcyk7cmV0dXJuIHU+YXx8YT5wJiZhPnZ9LGEubm9JbmNyZW1lbnRNaW51dGVzPWZ1bmN0aW9uKCl7dmFyIGE9bihwLHQpO3JldHVybiBhPnZ8fHA+YSYmdT5hfSxhLm5vRGVjcmVtZW50TWludXRlcz1mdW5jdGlvbigpe3ZhciBhPW4ocCwtdCk7cmV0dXJuIHU+YXx8YT5wJiZhPnZ9LGEubm9Ub2dnbGVNZXJpZGlhbj1mdW5jdGlvbigpe3JldHVybiBwLmdldEhvdXJzKCk8MTM/bihwLDcyMCk+djpuKHAsLTcyMCk8dX0sYS5zaG93TWVyaWRpYW49Zy5zaG93TWVyaWRpYW4sYy5zaG93TWVyaWRpYW4mJmEuJHBhcmVudC4kd2F0Y2goZChjLnNob3dNZXJpZGlhbiksZnVuY3Rpb24oYil7aWYoYS5zaG93TWVyaWRpYW49ISFiLHEuJGVycm9yLnRpbWUpe3ZhciBjPWgoKSxkPWkoKTthbmd1bGFyLmlzRGVmaW5lZChjKSYmYW5ndWxhci5pc0RlZmluZWQoZCkmJihwLnNldEhvdXJzKGMpLGsoKSl9ZWxzZSBtKCl9KSx0aGlzLnNldHVwTW91c2V3aGVlbEV2ZW50cz1mdW5jdGlvbihiLGMpe3ZhciBkPWZ1bmN0aW9uKGEpe2Eub3JpZ2luYWxFdmVudCYmKGE9YS5vcmlnaW5hbEV2ZW50KTt2YXIgYj1hLndoZWVsRGVsdGE/YS53aGVlbERlbHRhOi1hLmRlbHRhWTtyZXR1cm4gYS5kZXRhaWx8fGI+MH07Yi5iaW5kKCJtb3VzZXdoZWVsIHdoZWVsIixmdW5jdGlvbihiKXthLiRhcHBseShkKGIpP2EuaW5jcmVtZW50SG91cnMoKTphLmRlY3JlbWVudEhvdXJzKCkpLGIucHJldmVudERlZmF1bHQoKX0pLGMuYmluZCgibW91c2V3aGVlbCB3aGVlbCIsZnVuY3Rpb24oYil7YS4kYXBwbHkoZChiKT9hLmluY3JlbWVudE1pbnV0ZXMoKTphLmRlY3JlbWVudE1pbnV0ZXMoKSksYi5wcmV2ZW50RGVmYXVsdCgpfSl9LHRoaXMuc2V0dXBBcnJvd2tleUV2ZW50cz1mdW5jdGlvbihiLGMpe2IuYmluZCgia2V5ZG93biIsZnVuY3Rpb24oYil7Mzg9PT1iLndoaWNoPyhiLnByZXZlbnREZWZhdWx0KCksYS5pbmNyZW1lbnRIb3VycygpLGEuJGFwcGx5KCkpOjQwPT09Yi53aGljaCYmKGIucHJldmVudERlZmF1bHQoKSxhLmRlY3JlbWVudEhvdXJzKCksYS4kYXBwbHkoKSl9KSxjLmJpbmQoImtleWRvd24iLGZ1bmN0aW9uKGIpezM4PT09Yi53aGljaD8oYi5wcmV2ZW50RGVmYXVsdCgpLGEuaW5jcmVtZW50TWludXRlcygpLGEuJGFwcGx5KCkpOjQwPT09Yi53aGljaCYmKGIucHJldmVudERlZmF1bHQoKSxhLmRlY3JlbWVudE1pbnV0ZXMoKSxhLiRhcHBseSgpKX0pfSx0aGlzLnNldHVwSW5wdXRFdmVudHM9ZnVuY3Rpb24oYixjKXtpZihhLnJlYWRvbmx5SW5wdXQpcmV0dXJuIGEudXBkYXRlSG91cnM9YW5ndWxhci5ub29wLHZvaWQoYS51cGRhdGVNaW51dGVzPWFuZ3VsYXIubm9vcCk7dmFyIGQ9ZnVuY3Rpb24oYixjKXtxLiRzZXRWaWV3VmFsdWUobnVsbCkscS4kc2V0VmFsaWRpdHkoInRpbWUiLCExKSxhbmd1bGFyLmlzRGVmaW5lZChiKSYmKGEuaW52YWxpZEhvdXJzPWIpLGFuZ3VsYXIuaXNEZWZpbmVkKGMpJiYoYS5pbnZhbGlkTWludXRlcz1jKX07YS51cGRhdGVIb3Vycz1mdW5jdGlvbigpe3ZhciBhPWgoKSxiPWkoKTthbmd1bGFyLmlzRGVmaW5lZChhKSYmYW5ndWxhci5pc0RlZmluZWQoYik/KHAuc2V0SG91cnMoYSksdT5wfHxwPnY/ZCghMCk6aygiaCIpKTpkKCEwKX0sYi5iaW5kKCJibHVyIixmdW5jdGlvbihiKXshYS5pbnZhbGlkSG91cnMmJmEuaG91cnM8MTAmJmEuJGFwcGx5KGZ1bmN0aW9uKCl7YS5ob3Vycz1qKGEuaG91cnMpfSl9KSxhLnVwZGF0ZU1pbnV0ZXM9ZnVuY3Rpb24oKXt2YXIgYT1pKCksYj1oKCk7YW5ndWxhci5pc0RlZmluZWQoYSkmJmFuZ3VsYXIuaXNEZWZpbmVkKGIpPyhwLnNldE1pbnV0ZXMoYSksdT5wfHxwPnY/ZCh2b2lkIDAsITApOmsoIm0iKSk6ZCh2b2lkIDAsITApfSxjLmJpbmQoImJsdXIiLGZ1bmN0aW9uKGIpeyFhLmludmFsaWRNaW51dGVzJiZhLm1pbnV0ZXM8MTAmJmEuJGFwcGx5KGZ1bmN0aW9uKCl7YS5taW51dGVzPWooYS5taW51dGVzKX0pfSl9LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGI9cS4kdmlld1ZhbHVlO2lzTmFOKGIpPyhxLiRzZXRWYWxpZGl0eSgidGltZSIsITEpLGUuZXJyb3IoJ1RpbWVwaWNrZXIgZGlyZWN0aXZlOiAibmctbW9kZWwiIHZhbHVlIG11c3QgYmUgYSBEYXRlIG9iamVjdCwgYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIDAxLjAxLjE5NzAgb3IgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIFJGQzI4MjIgb3IgSVNPIDg2MDEgZGF0ZS4nKSk6KGImJihwPWIpLHU+cHx8cD52PyhxLiRzZXRWYWxpZGl0eSgidGltZSIsITEpLGEuaW52YWxpZEhvdXJzPSEwLGEuaW52YWxpZE1pbnV0ZXM9ITApOmwoKSxtKCkpfSxhLnNob3dTcGlubmVycz1hbmd1bGFyLmlzRGVmaW5lZChjLnNob3dTcGlubmVycyk/YS4kcGFyZW50LiRldmFsKGMuc2hvd1NwaW5uZXJzKTpnLnNob3dTcGlubmVycyxhLmluY3JlbWVudEhvdXJzPWZ1bmN0aW9uKCl7YS5ub0luY3JlbWVudEhvdXJzKCl8fG8oNjAqcyl9LGEuZGVjcmVtZW50SG91cnM9ZnVuY3Rpb24oKXthLm5vRGVjcmVtZW50SG91cnMoKXx8byg2MCotcyl9LGEuaW5jcmVtZW50TWludXRlcz1mdW5jdGlvbigpe2Eubm9JbmNyZW1lbnRNaW51dGVzKCl8fG8odCl9LGEuZGVjcmVtZW50TWludXRlcz1mdW5jdGlvbigpe2Eubm9EZWNyZW1lbnRNaW51dGVzKCl8fG8oLXQpfSxhLnRvZ2dsZU1lcmlkaWFuPWZ1bmN0aW9uKCl7YS5ub1RvZ2dsZU1lcmlkaWFuKCl8fG8oNzIwKihwLmdldEhvdXJzKCk8MTI/MTotMSkpfX1dKS5kaXJlY3RpdmUoInVpYlRpbWVwaWNrZXIiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVxdWlyZTpbInVpYlRpbWVwaWNrZXIiLCI/Xm5nTW9kZWwiXSxjb250cm9sbGVyOiJVaWJUaW1lcGlja2VyQ29udHJvbGxlciIsY29udHJvbGxlckFzOiJ0aW1lcGlja2VyIixyZXBsYWNlOiEwLHNjb3BlOnt9LHRlbXBsYXRlVXJsOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudGVtcGxhdGVVcmx8fCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbCJ9LGxpbms6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ZFswXSxmPWRbMV07ZiYmZS5pbml0KGYsYi5maW5kKCJpbnB1dCIpKX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC50aW1lcGlja2VyIikudmFsdWUoIiR0aW1lcGlja2VyU3VwcHJlc3NXYXJuaW5nIiwhMSkuY29udHJvbGxlcigiVGltZXBpY2tlckNvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGVsZW1lbnQiLCIkYXR0cnMiLCIkY29udHJvbGxlciIsIiRsb2ciLCIkdGltZXBpY2tlclN1cHByZXNzV2FybmluZyIsZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2Z8fGUud2FybigiVGltZXBpY2tlckNvbnRyb2xsZXIgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSBVaWJUaW1lcGlja2VyQ29udHJvbGxlciBpbnN0ZWFkLiIpLGFuZ3VsYXIuZXh0ZW5kKHRoaXMsZCgiVWliVGltZXBpY2tlckNvbnRyb2xsZXIiLHskc2NvcGU6YSwkZWxlbWVudDpiLCRhdHRyczpjfSkpfV0pLmRpcmVjdGl2ZSgidGltZXBpY2tlciIsWyIkbG9nIiwiJHRpbWVwaWNrZXJTdXBwcmVzc1dhcm5pbmciLGZ1bmN0aW9uKGEsYil7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVxdWlyZTpbInRpbWVwaWNrZXIiLCI/Xm5nTW9kZWwiXSxjb250cm9sbGVyOiJUaW1lcGlja2VyQ29udHJvbGxlciIsY29udHJvbGxlckFzOiJ0aW1lcGlja2VyIixyZXBsYWNlOiEwLHNjb3BlOnt9LHRlbXBsYXRlVXJsOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudGVtcGxhdGVVcmx8fCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbCJ9LGxpbms6ZnVuY3Rpb24oYyxkLGUsZil7Ynx8YS53YXJuKCJ0aW1lcGlja2VyIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliLXRpbWVwaWNrZXIgaW5zdGVhZC4iKTt2YXIgZz1mWzBdLGg9ZlsxXTtoJiZnLmluaXQoaCxkLmZpbmQoImlucHV0IikpfX19XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC50eXBlYWhlYWQiLFsidWkuYm9vdHN0cmFwLnBvc2l0aW9uIl0pLmZhY3RvcnkoInVpYlR5cGVhaGVhZFBhcnNlciIsWyIkcGFyc2UiLGZ1bmN0aW9uKGEpe3ZhciBiPS9eXHMqKFtcc1xTXSs/KSg/OlxzK2FzXHMrKFtcc1xTXSs/KSk/XHMrZm9yXHMrKD86KFtcJFx3XVtcJFx3XGRdKikpXHMraW5ccysoW1xzXFNdKz8pJC87cmV0dXJue3BhcnNlOmZ1bmN0aW9uKGMpe3ZhciBkPWMubWF0Y2goYik7aWYoIWQpdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0eXBlYWhlYWQgc3BlY2lmaWNhdGlvbiBpbiBmb3JtIG9mICJfbW9kZWxWYWx1ZV8gKGFzIF9sYWJlbF8pPyBmb3IgX2l0ZW1fIGluIF9jb2xsZWN0aW9uXyIgYnV0IGdvdCAiJytjKyciLicpO3JldHVybntpdGVtTmFtZTpkWzNdLHNvdXJjZTphKGRbNF0pLHZpZXdNYXBwZXI6YShkWzJdfHxkWzFdKSxtb2RlbE1hcHBlcjphKGRbMV0pfX19fV0pLmNvbnRyb2xsZXIoIlVpYlR5cGVhaGVhZENvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGVsZW1lbnQiLCIkYXR0cnMiLCIkY29tcGlsZSIsIiRwYXJzZSIsIiRxIiwiJHRpbWVvdXQiLCIkZG9jdW1lbnQiLCIkd2luZG93IiwiJHJvb3RTY29wZSIsIiR1aWJQb3NpdGlvbiIsInVpYlR5cGVhaGVhZFBhcnNlciIsZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGksaixrLGwpe2Z1bmN0aW9uIG0oKXtLLm1vdmVJblByb2dyZXNzfHwoSy5tb3ZlSW5Qcm9ncmVzcz0hMCxLLiRkaWdlc3QoKSksUyYmZy5jYW5jZWwoUyksUz1nKGZ1bmN0aW9uKCl7Sy5tYXRjaGVzLmxlbmd0aCYmbigpLEsubW92ZUluUHJvZ3Jlc3M9ITF9LHIpfWZ1bmN0aW9uIG4oKXtLLnBvc2l0aW9uPUM/ay5vZmZzZXQoYik6ay5wb3NpdGlvbihiKSxLLnBvc2l0aW9uLnRvcCs9Yi5wcm9wKCJvZmZzZXRIZWlnaHQiKX12YXIgbyxwLHE9WzksMTMsMjcsMzgsNDBdLHI9MjAwLHM9YS4kZXZhbChjLnR5cGVhaGVhZE1pbkxlbmd0aCk7c3x8MD09PXN8fChzPTEpO3ZhciB0LHUsdj1hLiRldmFsKGMudHlwZWFoZWFkV2FpdE1zKXx8MCx3PWEuJGV2YWwoYy50eXBlYWhlYWRFZGl0YWJsZSkhPT0hMSx4PWUoYy50eXBlYWhlYWRMb2FkaW5nKS5hc3NpZ258fGFuZ3VsYXIubm9vcCx5PWUoYy50eXBlYWhlYWRPblNlbGVjdCksej1hbmd1bGFyLmlzRGVmaW5lZChjLnR5cGVhaGVhZFNlbGVjdE9uQmx1cik/YS4kZXZhbChjLnR5cGVhaGVhZFNlbGVjdE9uQmx1cik6ITEsQT1lKGMudHlwZWFoZWFkTm9SZXN1bHRzKS5hc3NpZ258fGFuZ3VsYXIubm9vcCxCPWMudHlwZWFoZWFkSW5wdXRGb3JtYXR0ZXI/ZShjLnR5cGVhaGVhZElucHV0Rm9ybWF0dGVyKTp2b2lkIDAsQz1jLnR5cGVhaGVhZEFwcGVuZFRvQm9keT9hLiRldmFsKGMudHlwZWFoZWFkQXBwZW5kVG9Cb2R5KTohMSxEPWMudHlwZWFoZWFkQXBwZW5kVG9FbGVtZW50SWR8fCExLEU9YS4kZXZhbChjLnR5cGVhaGVhZEZvY3VzRmlyc3QpIT09ITEsRj1jLnR5cGVhaGVhZFNlbGVjdE9uRXhhY3Q/YS4kZXZhbChjLnR5cGVhaGVhZFNlbGVjdE9uRXhhY3QpOiExLEc9ZShjLm5nTW9kZWwpLEg9ZShjLm5nTW9kZWwrIigkJCRwKSIpLEk9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYW5ndWxhci5pc0Z1bmN0aW9uKEcoYSkpJiZwJiZwLiRvcHRpb25zJiZwLiRvcHRpb25zLmdldHRlclNldHRlcj9IKGIseyQkJHA6Y30pOkcuYXNzaWduKGIsYyl9LEo9bC5wYXJzZShjLnVpYlR5cGVhaGVhZCksSz1hLiRuZXcoKSxMPWEuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtLLiRkZXN0cm95KCl9KTtLLiRvbigiJGRlc3Ryb3kiLEwpO3ZhciBNPSJ0eXBlYWhlYWQtIitLLiRpZCsiLSIrTWF0aC5mbG9vcigxZTQqTWF0aC5yYW5kb20oKSk7Yi5hdHRyKHsiYXJpYS1hdXRvY29tcGxldGUiOiJsaXN0IiwiYXJpYS1leHBhbmRlZCI6ITEsImFyaWEtb3ducyI6TX0pO3ZhciBOPWFuZ3VsYXIuZWxlbWVudCgiPGRpdiB1aWItdHlwZWFoZWFkLXBvcHVwPjwvZGl2PiIpO04uYXR0cih7aWQ6TSxtYXRjaGVzOiJtYXRjaGVzIixhY3RpdmU6ImFjdGl2ZUlkeCIsc2VsZWN0OiJzZWxlY3QoYWN0aXZlSWR4KSIsIm1vdmUtaW4tcHJvZ3Jlc3MiOiJtb3ZlSW5Qcm9ncmVzcyIscXVlcnk6InF1ZXJ5Iixwb3NpdGlvbjoicG9zaXRpb24ifSksYW5ndWxhci5pc0RlZmluZWQoYy50eXBlYWhlYWRUZW1wbGF0ZVVybCkmJk4uYXR0cigidGVtcGxhdGUtdXJsIixjLnR5cGVhaGVhZFRlbXBsYXRlVXJsKSxhbmd1bGFyLmlzRGVmaW5lZChjLnR5cGVhaGVhZFBvcHVwVGVtcGxhdGVVcmwpJiZOLmF0dHIoInBvcHVwLXRlbXBsYXRlLXVybCIsYy50eXBlYWhlYWRQb3B1cFRlbXBsYXRlVXJsKTt2YXIgTz1mdW5jdGlvbigpe0subWF0Y2hlcz1bXSxLLmFjdGl2ZUlkeD0tMSxiLmF0dHIoImFyaWEtZXhwYW5kZWQiLCExKX0sUD1mdW5jdGlvbihhKXtyZXR1cm4gTSsiLW9wdGlvbi0iK2F9O0suJHdhdGNoKCJhY3RpdmVJZHgiLGZ1bmN0aW9uKGEpezA+YT9iLnJlbW92ZUF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIpOmIuYXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50IixQKGEpKX0pO3ZhciBRPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEsubWF0Y2hlcy5sZW5ndGg+YiYmYT9hLnRvVXBwZXJDYXNlKCk9PT1LLm1hdGNoZXNbYl0ubGFiZWwudG9VcHBlckNhc2UoKTohMX0sUj1mdW5jdGlvbihjKXt2YXIgZD17JHZpZXdWYWx1ZTpjfTt4KGEsITApLEEoYSwhMSksZi53aGVuKEouc291cmNlKGEsZCkpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIGY9Yz09PW8uJHZpZXdWYWx1ZTtpZihmJiZ0KWlmKGUmJmUubGVuZ3RoPjApe0suYWN0aXZlSWR4PUU/MDotMSxBKGEsITEpLEsubWF0Y2hlcy5sZW5ndGg9MDtmb3IodmFyIGc9MDtnPGUubGVuZ3RoO2crKylkW0ouaXRlbU5hbWVdPWVbZ10sSy5tYXRjaGVzLnB1c2goe2lkOlAoZyksbGFiZWw6Si52aWV3TWFwcGVyKEssZCksbW9kZWw6ZVtnXX0pO0sucXVlcnk9YyxuKCksYi5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMCksRiYmMT09PUsubWF0Y2hlcy5sZW5ndGgmJlEoYywwKSYmSy5zZWxlY3QoMCl9ZWxzZSBPKCksQShhLCEwKTtmJiZ4KGEsITEpfSxmdW5jdGlvbigpe08oKSx4KGEsITEpLEEoYSwhMCl9KX07QyYmKGFuZ3VsYXIuZWxlbWVudChpKS5iaW5kKCJyZXNpemUiLG0pLGguZmluZCgiYm9keSIpLmJpbmQoInNjcm9sbCIsbSkpO3ZhciBTO0subW92ZUluUHJvZ3Jlc3M9ITEsSy5xdWVyeT12b2lkIDA7dmFyIFQsVT1mdW5jdGlvbihhKXtUPWcoZnVuY3Rpb24oKXtSKGEpfSx2KX0sVj1mdW5jdGlvbigpe1QmJmcuY2FuY2VsKFQpfTtPKCksSy5zZWxlY3Q9ZnVuY3Rpb24oZCl7dmFyIGUsZixoPXt9O3U9ITAsaFtKLml0ZW1OYW1lXT1mPUsubWF0Y2hlc1tkXS5tb2RlbCxlPUoubW9kZWxNYXBwZXIoYSxoKSxJKGEsZSksby4kc2V0VmFsaWRpdHkoImVkaXRhYmxlIiwhMCksby4kc2V0VmFsaWRpdHkoInBhcnNlIiwhMCkseShhLHskaXRlbTpmLCRtb2RlbDplLCRsYWJlbDpKLnZpZXdNYXBwZXIoYSxoKX0pLE8oKSxLLiRldmFsKGMudHlwZWFoZWFkRm9jdXNPblNlbGVjdCkhPT0hMSYmZyhmdW5jdGlvbigpe2JbMF0uZm9jdXMoKX0sMCwhMSl9LGIuYmluZCgia2V5ZG93biIsZnVuY3Rpb24oYSl7aWYoMCE9PUsubWF0Y2hlcy5sZW5ndGgmJi0xIT09cS5pbmRleE9mKGEud2hpY2gpKXtpZigtMT09PUsuYWN0aXZlSWR4JiYoOT09PWEud2hpY2h8fDEzPT09YS53aGljaCkpcmV0dXJuIE8oKSx2b2lkIEsuJGRpZ2VzdCgpO2EucHJldmVudERlZmF1bHQoKSw0MD09PWEud2hpY2g/KEsuYWN0aXZlSWR4PShLLmFjdGl2ZUlkeCsxKSVLLm1hdGNoZXMubGVuZ3RoLEsuJGRpZ2VzdCgpKTozOD09PWEud2hpY2g/KEsuYWN0aXZlSWR4PShLLmFjdGl2ZUlkeD4wP0suYWN0aXZlSWR4OksubWF0Y2hlcy5sZW5ndGgpLTEsSy4kZGlnZXN0KCkpOjEzPT09YS53aGljaHx8OT09PWEud2hpY2g/Sy4kYXBwbHkoZnVuY3Rpb24oKXtLLnNlbGVjdChLLmFjdGl2ZUlkeCl9KToyNz09PWEud2hpY2gmJihhLnN0b3BQcm9wYWdhdGlvbigpLE8oKSxLLiRkaWdlc3QoKSl9fSksYi5iaW5kKCJibHVyIixmdW5jdGlvbigpe3omJksubWF0Y2hlcy5sZW5ndGgmJi0xIT09Sy5hY3RpdmVJZHgmJiF1JiYodT0hMCxLLiRhcHBseShmdW5jdGlvbigpe0suc2VsZWN0KEsuYWN0aXZlSWR4KX0pKSx0PSExLHU9ITF9KTt2YXIgVz1mdW5jdGlvbihhKXtiWzBdIT09YS50YXJnZXQmJjMhPT1hLndoaWNoJiYwIT09Sy5tYXRjaGVzLmxlbmd0aCYmKE8oKSxqLiQkcGhhc2V8fEsuJGRpZ2VzdCgpKX07aC5iaW5kKCJjbGljayIsVyksYS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe2gudW5iaW5kKCJjbGljayIsVyksKEN8fEQpJiZYLnJlbW92ZSgpLEMmJihhbmd1bGFyLmVsZW1lbnQoaSkudW5iaW5kKCJyZXNpemUiLG0pLGguZmluZCgiYm9keSIpLnVuYmluZCgic2Nyb2xsIixtKSksTi5yZW1vdmUoKX0pO3ZhciBYPWQoTikoSyk7Qz9oLmZpbmQoImJvZHkiKS5hcHBlbmQoWCk6RCE9PSExP2FuZ3VsYXIuZWxlbWVudChoWzBdLmdldEVsZW1lbnRCeUlkKEQpKS5hcHBlbmQoWCk6Yi5hZnRlcihYKSx0aGlzLmluaXQ9ZnVuY3Rpb24oYixjKXtvPWIscD1jLG8uJHBhcnNlcnMudW5zaGlmdChmdW5jdGlvbihiKXtyZXR1cm4gdD0hMCwwPT09c3x8YiYmYi5sZW5ndGg+PXM/dj4wPyhWKCksVShiKSk6UihiKTooeChhLCExKSxWKCksTygpKSx3P2I6Yj92b2lkIG8uJHNldFZhbGlkaXR5KCJlZGl0YWJsZSIsITEpOihvLiRzZXRWYWxpZGl0eSgiZWRpdGFibGUiLCEwKSxudWxsKX0pLG8uJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihiKXt2YXIgYyxkLGU9e307cmV0dXJuIHd8fG8uJHNldFZhbGlkaXR5KCJlZGl0YWJsZSIsITApLEI/KGUuJG1vZGVsPWIsQihhLGUpKTooZVtKLml0ZW1OYW1lXT1iLGM9Si52aWV3TWFwcGVyKGEsZSksZVtKLml0ZW1OYW1lXT12b2lkIDAsZD1KLnZpZXdNYXBwZXIoYSxlKSxjIT09ZD9jOmIpfSl9fV0pLmRpcmVjdGl2ZSgidWliVHlwZWFoZWFkIixmdW5jdGlvbigpe3JldHVybntjb250cm9sbGVyOiJVaWJUeXBlYWhlYWRDb250cm9sbGVyIixyZXF1aXJlOlsibmdNb2RlbCIsIl4/bmdNb2RlbE9wdGlvbnMiLCJ1aWJUeXBlYWhlYWQiXSxsaW5rOmZ1bmN0aW9uKGEsYixjLGQpe2RbMl0uaW5pdChkWzBdLGRbMV0pfX19KS5kaXJlY3RpdmUoInVpYlR5cGVhaGVhZFBvcHVwIixmdW5jdGlvbigpe3JldHVybntzY29wZTp7bWF0Y2hlczoiPSIscXVlcnk6Ij0iLGFjdGl2ZToiPSIscG9zaXRpb246IiYiLG1vdmVJblByb2dyZXNzOiI9IixzZWxlY3Q6IiYifSxyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGIucG9wdXBUZW1wbGF0ZVVybHx8InRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbCJ9LGxpbms6ZnVuY3Rpb24oYSxiLGMpe2EudGVtcGxhdGVVcmw9Yy50ZW1wbGF0ZVVybCxhLmlzT3Blbj1mdW5jdGlvbigpe3JldHVybiBhLm1hdGNoZXMubGVuZ3RoPjB9LGEuaXNBY3RpdmU9ZnVuY3Rpb24oYil7cmV0dXJuIGEuYWN0aXZlPT1ifSxhLnNlbGVjdEFjdGl2ZT1mdW5jdGlvbihiKXthLmFjdGl2ZT1ifSxhLnNlbGVjdE1hdGNoPWZ1bmN0aW9uKGIpe2Euc2VsZWN0KHthY3RpdmVJZHg6Yn0pfX19fSkuZGlyZWN0aXZlKCJ1aWJUeXBlYWhlYWRNYXRjaCIsWyIkdGVtcGxhdGVSZXF1ZXN0IiwiJGNvbXBpbGUiLCIkcGFyc2UiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm57c2NvcGU6e2luZGV4OiI9IixtYXRjaDoiPSIscXVlcnk6Ij0ifSxsaW5rOmZ1bmN0aW9uKGQsZSxmKXt2YXIgZz1jKGYudGVtcGxhdGVVcmwpKGQuJHBhcmVudCl8fCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWwiO2EoZykudGhlbihmdW5jdGlvbihhKXtiKGEudHJpbSgpKShkLGZ1bmN0aW9uKGEpe2UucmVwbGFjZVdpdGgoYSl9KX0pfX19XSkuZmlsdGVyKCJ1aWJUeXBlYWhlYWRIaWdobGlnaHQiLFsiJHNjZSIsIiRpbmplY3RvciIsIiRsb2ciLGZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGEpe3JldHVybiBhLnJlcGxhY2UoLyhbLj8qK14kW1xdXFwoKXt9fC1dKS9nLCJcXCQxIil9ZnVuY3Rpb24gZShhKXtyZXR1cm4vPC4qPi9nLnRlc3QoYSl9dmFyIGY7cmV0dXJuIGY9Yi5oYXMoIiRzYW5pdGl6ZSIpLGZ1bmN0aW9uKGIsZyl7cmV0dXJuIWYmJmUoYikmJmMud2FybigiVW5zYWZlIHVzZSBvZiB0eXBlYWhlYWQgcGxlYXNlIHVzZSBuZ1Nhbml0aXplIiksYj1nPygiIitiKS5yZXBsYWNlKG5ldyBSZWdFeHAoZChnKSwiZ2kiKSwiPHN0cm9uZz4kJjwvc3Ryb25nPiIpOmIsZnx8KGI9YS50cnVzdEFzSHRtbChiKSksYn19XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC50eXBlYWhlYWQiKS52YWx1ZSgiJHR5cGVhaGVhZFN1cHByZXNzV2FybmluZyIsITEpLnNlcnZpY2UoInR5cGVhaGVhZFBhcnNlciIsWyIkcGFyc2UiLCJ1aWJUeXBlYWhlYWRQYXJzZXIiLCIkbG9nIiwiJHR5cGVhaGVhZFN1cHByZXNzV2FybmluZyIsZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGR8fGMud2FybigidHlwZWFoZWFkUGFyc2VyIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliVHlwZWFoZWFkUGFyc2VyIGluc3RlYWQuIiksYn1dKS5kaXJlY3RpdmUoInR5cGVhaGVhZCIsWyIkY29tcGlsZSIsIiRwYXJzZSIsIiRxIiwiJHRpbWVvdXQiLCIkZG9jdW1lbnQiLCIkd2luZG93IiwiJHJvb3RTY29wZSIsIiR1aWJQb3NpdGlvbiIsInR5cGVhaGVhZFBhcnNlciIsIiRsb2ciLCIkdHlwZWFoZWFkU3VwcHJlc3NXYXJuaW5nIixmdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsaSxqLGspe3ZhciBsPVs5LDEzLDI3LDM4LDQwXSxtPTIwMDtyZXR1cm57cmVxdWlyZTpbIm5nTW9kZWwiLCJeP25nTW9kZWxPcHRpb25zIl0sbGluazpmdW5jdGlvbihuLG8scCxxKXtmdW5jdGlvbiByKCl7Ti5tb3ZlSW5Qcm9ncmVzc3x8KE4ubW92ZUluUHJvZ3Jlc3M9ITAsTi4kZGlnZXN0KCkpLFYmJmQuY2FuY2VsKFYpLFY9ZChmdW5jdGlvbigpe04ubWF0Y2hlcy5sZW5ndGgmJnMoKSxOLm1vdmVJblByb2dyZXNzPSExfSxtKX1mdW5jdGlvbiBzKCl7Ti5wb3NpdGlvbj1GP2gub2Zmc2V0KG8pOmgucG9zaXRpb24obyksTi5wb3NpdGlvbi50b3ArPW8ucHJvcCgib2Zmc2V0SGVpZ2h0Iil9a3x8ai53YXJuKCJ0eXBlYWhlYWQgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB1aWItdHlwZWFoZWFkIGluc3RlYWQuIik7dmFyIHQ9cVswXSx1PXFbMV0sdj1uLiRldmFsKHAudHlwZWFoZWFkTWluTGVuZ3RoKTt2fHwwPT09dnx8KHY9MSk7dmFyIHcseCx5PW4uJGV2YWwocC50eXBlYWhlYWRXYWl0TXMpfHwwLHo9bi4kZXZhbChwLnR5cGVhaGVhZEVkaXRhYmxlKSE9PSExLEE9YihwLnR5cGVhaGVhZExvYWRpbmcpLmFzc2lnbnx8YW5ndWxhci5ub29wLEI9YihwLnR5cGVhaGVhZE9uU2VsZWN0KSxDPWFuZ3VsYXIuaXNEZWZpbmVkKHAudHlwZWFoZWFkU2VsZWN0T25CbHVyKT9uLiRldmFsKHAudHlwZWFoZWFkU2VsZWN0T25CbHVyKTohMSxEPWIocC50eXBlYWhlYWROb1Jlc3VsdHMpLmFzc2lnbnx8YW5ndWxhci5ub29wLEU9cC50eXBlYWhlYWRJbnB1dEZvcm1hdHRlcj9iKHAudHlwZWFoZWFkSW5wdXRGb3JtYXR0ZXIpOnZvaWQgMCxGPXAudHlwZWFoZWFkQXBwZW5kVG9Cb2R5P24uJGV2YWwocC50eXBlYWhlYWRBcHBlbmRUb0JvZHkpOiExLEc9cC50eXBlYWhlYWRBcHBlbmRUb0VsZW1lbnRJZHx8ITEsSD1uLiRldmFsKHAudHlwZWFoZWFkRm9jdXNGaXJzdCkhPT0hMSxJPXAudHlwZWFoZWFkU2VsZWN0T25FeGFjdD9uLiRldmFsKHAudHlwZWFoZWFkU2VsZWN0T25FeGFjdCk6ITEsSj1iKHAubmdNb2RlbCksSz1iKHAubmdNb2RlbCsiKCQkJHApIiksTD1mdW5jdGlvbihhLGIpe3JldHVybiBhbmd1bGFyLmlzRnVuY3Rpb24oSihuKSkmJnUmJnUuJG9wdGlvbnMmJnUuJG9wdGlvbnMuZ2V0dGVyU2V0dGVyP0soYSx7JCQkcDpifSk6Si5hc3NpZ24oYSxiKX0sTT1pLnBhcnNlKHAudHlwZWFoZWFkKSxOPW4uJG5ldygpLE89bi4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe04uJGRlc3Ryb3koKX0pO04uJG9uKCIkZGVzdHJveSIsTyk7dmFyIFA9InR5cGVhaGVhZC0iK04uJGlkKyItIitNYXRoLmZsb29yKDFlNCpNYXRoLnJhbmRvbSgpKTtvLmF0dHIoeyJhcmlhLWF1dG9jb21wbGV0ZSI6Imxpc3QiLCJhcmlhLWV4cGFuZGVkIjohMSwiYXJpYS1vd25zIjpQfSk7dmFyIFE9YW5ndWxhci5lbGVtZW50KCI8ZGl2IHR5cGVhaGVhZC1wb3B1cD48L2Rpdj4iKTtRLmF0dHIoe2lkOlAsbWF0Y2hlczoibWF0Y2hlcyIsYWN0aXZlOiJhY3RpdmVJZHgiLHNlbGVjdDoic2VsZWN0KGFjdGl2ZUlkeCkiLCJtb3ZlLWluLXByb2dyZXNzIjoibW92ZUluUHJvZ3Jlc3MiLHF1ZXJ5OiJxdWVyeSIscG9zaXRpb246InBvc2l0aW9uIn0pLGFuZ3VsYXIuaXNEZWZpbmVkKHAudHlwZWFoZWFkVGVtcGxhdGVVcmwpJiZRLmF0dHIoInRlbXBsYXRlLXVybCIscC50eXBlYWhlYWRUZW1wbGF0ZVVybCksYW5ndWxhci5pc0RlZmluZWQocC50eXBlYWhlYWRQb3B1cFRlbXBsYXRlVXJsKSYmUS5hdHRyKCJwb3B1cC10ZW1wbGF0ZS11cmwiLHAudHlwZWFoZWFkUG9wdXBUZW1wbGF0ZVVybCk7dmFyIFI9ZnVuY3Rpb24oKXtOLm1hdGNoZXM9W10sTi5hY3RpdmVJZHg9LTEsby5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMSl9LFM9ZnVuY3Rpb24oYSl7cmV0dXJuIFArIi1vcHRpb24tIithfTtOLiR3YXRjaCgiYWN0aXZlSWR4IixmdW5jdGlvbihhKXswPmE/by5yZW1vdmVBdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiKTpvLmF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIsUyhhKSl9KTt2YXIgVD1mdW5jdGlvbihhLGIpe3JldHVybiBOLm1hdGNoZXMubGVuZ3RoPmImJmE/YS50b1VwcGVyQ2FzZSgpPT09Ti5tYXRjaGVzW2JdLmxhYmVsLnRvVXBwZXJDYXNlKCk6ITF9LFU9ZnVuY3Rpb24oYSl7dmFyIGI9eyR2aWV3VmFsdWU6YX07QShuLCEwKSxEKG4sITEpLGMud2hlbihNLnNvdXJjZShuLGIpKS50aGVuKGZ1bmN0aW9uKGMpe3ZhciBkPWE9PT10LiR2aWV3VmFsdWU7aWYoZCYmdylpZihjJiZjLmxlbmd0aD4wKXtOLmFjdGl2ZUlkeD1IPzA6LTEsRChuLCExKSxOLm1hdGNoZXMubGVuZ3RoPTA7Zm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspYltNLml0ZW1OYW1lXT1jW2VdLE4ubWF0Y2hlcy5wdXNoKHtpZDpTKGUpLGxhYmVsOk0udmlld01hcHBlcihOLGIpLG1vZGVsOmNbZV19KTtOLnF1ZXJ5PWEscygpLG8uYXR0cigiYXJpYS1leHBhbmRlZCIsITApLEkmJjE9PT1OLm1hdGNoZXMubGVuZ3RoJiZUKGEsMCkmJk4uc2VsZWN0KDApfWVsc2UgUigpLEQobiwhMCk7ZCYmQShuLCExKX0sZnVuY3Rpb24oKXtSKCksQShuLCExKSxEKG4sITApfSl9O0YmJihhbmd1bGFyLmVsZW1lbnQoZikuYmluZCgicmVzaXplIixyKSxlLmZpbmQoImJvZHkiKS5iaW5kKCJzY3JvbGwiLHIpKTt2YXIgVjtOLm1vdmVJblByb2dyZXNzPSExLFIoKSxOLnF1ZXJ5PXZvaWQgMDt2YXIgVyxYPWZ1bmN0aW9uKGEpe1c9ZChmdW5jdGlvbigpe1UoYSl9LHkpfSxZPWZ1bmN0aW9uKCl7VyYmZC5jYW5jZWwoVyl9O3QuJHBhcnNlcnMudW5zaGlmdChmdW5jdGlvbihhKXtyZXR1cm4gdz0hMCwwPT09dnx8YSYmYS5sZW5ndGg+PXY/eT4wPyhZKCksWChhKSk6VShhKTooQShuLCExKSxZKCksUigpKSx6P2E6YT92b2lkIHQuJHNldFZhbGlkaXR5KCJlZGl0YWJsZSIsITEpOih0LiRzZXRWYWxpZGl0eSgiZWRpdGFibGUiLCEwKSxudWxsKX0pLHQuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihhKXt2YXIgYixjLGQ9e307cmV0dXJuIHp8fHQuJHNldFZhbGlkaXR5KCJlZGl0YWJsZSIsITApLEU/KGQuJG1vZGVsPWEsRShuLGQpKTooZFtNLml0ZW1OYW1lXT1hLGI9TS52aWV3TWFwcGVyKG4sZCksZFtNLml0ZW1OYW1lXT12b2lkIDAsYz1NLnZpZXdNYXBwZXIobixkKSxiIT09Yz9iOmEpfSksTi5zZWxlY3Q9ZnVuY3Rpb24oYSl7dmFyIGIsYyxlPXt9O3g9ITAsZVtNLml0ZW1OYW1lXT1jPU4ubWF0Y2hlc1thXS5tb2RlbCxiPU0ubW9kZWxNYXBwZXIobixlKSxMKG4sYiksdC4kc2V0VmFsaWRpdHkoImVkaXRhYmxlIiwhMCksdC4kc2V0VmFsaWRpdHkoInBhcnNlIiwhMCksQihuLHskaXRlbTpjLCRtb2RlbDpiLCRsYWJlbDpNLnZpZXdNYXBwZXIobixlKX0pLFIoKSxOLiRldmFsKHAudHlwZWFoZWFkRm9jdXNPblNlbGVjdCkhPT0hMSYmZChmdW5jdGlvbigpe29bMF0uZm9jdXMoKX0sMCwhMSl9LG8uYmluZCgia2V5ZG93biIsZnVuY3Rpb24oYSl7aWYoMCE9PU4ubWF0Y2hlcy5sZW5ndGgmJi0xIT09bC5pbmRleE9mKGEud2hpY2gpKXtpZigtMT09PU4uYWN0aXZlSWR4JiYoOT09PWEud2hpY2h8fDEzPT09YS53aGljaCkpcmV0dXJuIFIoKSx2b2lkIE4uJGRpZ2VzdCgpO2EucHJldmVudERlZmF1bHQoKSw0MD09PWEud2hpY2g/KE4uYWN0aXZlSWR4PShOLmFjdGl2ZUlkeCsxKSVOLm1hdGNoZXMubGVuZ3RoLE4uJGRpZ2VzdCgpKTozOD09PWEud2hpY2g/KE4uYWN0aXZlSWR4PShOLmFjdGl2ZUlkeD4wP04uYWN0aXZlSWR4Ok4ubWF0Y2hlcy5sZW5ndGgpLTEsTi4kZGlnZXN0KCkpOjEzPT09YS53aGljaHx8OT09PWEud2hpY2g/Ti4kYXBwbHkoZnVuY3Rpb24oKXtOLnNlbGVjdChOLmFjdGl2ZUlkeCl9KToyNz09PWEud2hpY2gmJihhLnN0b3BQcm9wYWdhdGlvbigpLFIoKSxOLiRkaWdlc3QoKSl9fSksby5iaW5kKCJibHVyIixmdW5jdGlvbigpe0MmJk4ubWF0Y2hlcy5sZW5ndGgmJi0xIT09Ti5hY3RpdmVJZHgmJiF4JiYoeD0hMCxOLiRhcHBseShmdW5jdGlvbigpe04uc2VsZWN0KE4uYWN0aXZlSWR4KX0pKSx3PSExLHg9ITF9KTt2YXIgWj1mdW5jdGlvbihhKXtvWzBdIT09YS50YXJnZXQmJjMhPT1hLndoaWNoJiYwIT09Ti5tYXRjaGVzLmxlbmd0aCYmKFIoKSxnLiQkcGhhc2V8fE4uJGRpZ2VzdCgpKX07ZS5iaW5kKCJjbGljayIsWiksbi4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe2UudW5iaW5kKCJjbGljayIsWiksKEZ8fEcpJiYkLnJlbW92ZSgpLEYmJihhbmd1bGFyLmVsZW1lbnQoZikudW5iaW5kKCJyZXNpemUiLHIpLGUuZmluZCgiYm9keSIpLnVuYmluZCgic2Nyb2xsIixyKSksUS5yZW1vdmUoKX0pO3ZhciAkPWEoUSkoTik7Rj9lLmZpbmQoImJvZHkiKS5hcHBlbmQoJCk6RyE9PSExP2FuZ3VsYXIuZWxlbWVudChlWzBdLmdldEVsZW1lbnRCeUlkKEcpKS5hcHBlbmQoJCk6by5hZnRlcigkKX19fV0pLmRpcmVjdGl2ZSgidHlwZWFoZWFkUG9wdXAiLFsiJHR5cGVhaGVhZFN1cHByZXNzV2FybmluZyIsIiRsb2ciLGZ1bmN0aW9uKGEsYil7cmV0dXJue3Njb3BlOnttYXRjaGVzOiI9IixxdWVyeToiPSIsYWN0aXZlOiI9Iixwb3NpdGlvbjoiJiIsbW92ZUluUHJvZ3Jlc3M6Ij0iLHNlbGVjdDoiJiJ9LHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5wb3B1cFRlbXBsYXRlVXJsfHwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sIn0sbGluazpmdW5jdGlvbihjLGQsZSl7YXx8Yi53YXJuKCJ0eXBlYWhlYWQtcG9wdXAgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB1aWItdHlwZWFoZWFkLXBvcHVwIGluc3RlYWQuIiksYy50ZW1wbGF0ZVVybD1lLnRlbXBsYXRlVXJsLGMuaXNPcGVuPWZ1bmN0aW9uKCl7cmV0dXJuIGMubWF0Y2hlcy5sZW5ndGg+MH0sYy5pc0FjdGl2ZT1mdW5jdGlvbihhKXtyZXR1cm4gYy5hY3RpdmU9PWF9LGMuc2VsZWN0QWN0aXZlPWZ1bmN0aW9uKGEpe2MuYWN0aXZlPWF9LGMuc2VsZWN0TWF0Y2g9ZnVuY3Rpb24oYSl7Yy5zZWxlY3Qoe2FjdGl2ZUlkeDphfSl9fX19XSkuZGlyZWN0aXZlKCJ0eXBlYWhlYWRNYXRjaCIsWyIkdGVtcGxhdGVSZXF1ZXN0IiwiJGNvbXBpbGUiLCIkcGFyc2UiLCIkdHlwZWFoZWFkU3VwcHJlc3NXYXJuaW5nIiwiJGxvZyIsZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixzY29wZTp7aW5kZXg6Ij0iLG1hdGNoOiI9IixxdWVyeToiPSJ9LGxpbms6ZnVuY3Rpb24oZixnLGgpe2R8fGUud2FybigidHlwZWFoZWFkLW1hdGNoIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliLXR5cGVhaGVhZC1tYXRjaCBpbnN0ZWFkLiIpO3ZhciBpPWMoaC50ZW1wbGF0ZVVybCkoZi4kcGFyZW50KXx8InRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbCI7YShpKS50aGVuKGZ1bmN0aW9uKGEpe2IoYS50cmltKCkpKGYsZnVuY3Rpb24oYSl7Zy5yZXBsYWNlV2l0aChhKX0pfSl9fX1dKS5maWx0ZXIoInR5cGVhaGVhZEhpZ2hsaWdodCIsWyIkc2NlIiwiJGluamVjdG9yIiwiJGxvZyIsIiR0eXBlYWhlYWRTdXBwcmVzc1dhcm5pbmciLGZ1bmN0aW9uKGEsYixjLGQpe2Z1bmN0aW9uIGUoYSl7cmV0dXJuIGEucmVwbGFjZSgvKFsuPyorXiRbXF1cXCgpe318LV0pL2csIlxcJDEiKX1mdW5jdGlvbiBmKGEpe3JldHVybi88Lio+L2cudGVzdChhKX12YXIgZztyZXR1cm4gZz1iLmhhcygiJHNhbml0aXplIiksZnVuY3Rpb24oYixoKXtyZXR1cm4gZHx8Yy53YXJuKCJ0eXBlYWhlYWRIaWdobGlnaHQgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB1aWJUeXBlYWhlYWRIaWdobGlnaHQgaW5zdGVhZC4iKSwhZyYmZihiKSYmYy53YXJuKCJVbnNhZmUgdXNlIG9mIHR5cGVhaGVhZCBwbGVhc2UgdXNlIG5nU2FuaXRpemUiKSxiPWg/KCIiK2IpLnJlcGxhY2UobmV3IFJlZ0V4cChlKGgpLCJnaSIpLCI8c3Ryb25nPiQmPC9zdHJvbmc+Iik6YixnfHwoYj1hLnRydXN0QXNIdG1sKGIpKSxifX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi1ncm91cC5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKGEpe2EucHV0KCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWwiLCc8ZGl2IGNsYXNzPSJwYW5lbCB7e3BhbmVsQ2xhc3MgfHwgXCdwYW5lbC1kZWZhdWx0XCd9fSI+XG4gIDxkaXYgY2xhc3M9InBhbmVsLWhlYWRpbmciIG5nLWtleXByZXNzPSJ0b2dnbGVPcGVuKCRldmVudCkiPlxuICAgIDxoNCBjbGFzcz0icGFuZWwtdGl0bGUiPlxuICAgICAgPGEgaHJlZiB0YWJpbmRleD0iMCIgY2xhc3M9ImFjY29yZGlvbi10b2dnbGUiIG5nLWNsaWNrPSJ0b2dnbGVPcGVuKCkiIHVpYi1hY2NvcmRpb24tdHJhbnNjbHVkZT0iaGVhZGluZyI+PHNwYW4gbmctY2xhc3M9IntcJ3RleHQtbXV0ZWRcJzogaXNEaXNhYmxlZH0iPnt7aGVhZGluZ319PC9zcGFuPjwvYT5cbiAgICA8L2g0PlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0icGFuZWwtY29sbGFwc2UgY29sbGFwc2UiIHVpYi1jb2xsYXBzZT0iIWlzT3BlbiI+XG4JICA8ZGl2IGNsYXNzPSJwYW5lbC1ib2R5IiBuZy10cmFuc2NsdWRlPjwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PlxuJyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbihhKXthLnB1dCgidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sIiwnPGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+Jyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oYSl7YS5wdXQoInRlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWwiLCc8ZGl2IGNsYXNzPSJhbGVydCIgbmctY2xhc3M9IltcJ2FsZXJ0LVwnICsgKHR5cGUgfHwgXCd3YXJuaW5nXCcpLCBjbG9zZWFibGUgPyBcJ2FsZXJ0LWRpc21pc3NpYmxlXCcgOiBudWxsXSIgcm9sZT0iYWxlcnQiPlxuICAgIDxidXR0b24gbmctc2hvdz0iY2xvc2VhYmxlIiB0eXBlPSJidXR0b24iIGNsYXNzPSJjbG9zZSIgbmctY2xpY2s9ImNsb3NlKHskZXZlbnQ6ICRldmVudH0pIj5cbiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49InRydWUiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJzci1vbmx5Ij5DbG9zZTwvc3Bhbj5cbiAgICA8L2J1dHRvbj5cbiAgICA8ZGl2IG5nLXRyYW5zY2x1ZGU+PC9kaXY+XG48L2Rpdj5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKGEpe2EucHV0KCJ0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sIiwnPGRpdiBuZy1tb3VzZWVudGVyPSJwYXVzZSgpIiBuZy1tb3VzZWxlYXZlPSJwbGF5KCkiIGNsYXNzPSJjYXJvdXNlbCIgbmctc3dpcGUtcmlnaHQ9InByZXYoKSIgbmctc3dpcGUtbGVmdD0ibmV4dCgpIj5cbiAgPGRpdiBjbGFzcz0iY2Fyb3VzZWwtaW5uZXIiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XG4gIDxhIHJvbGU9ImJ1dHRvbiIgaHJlZiBjbGFzcz0ibGVmdCBjYXJvdXNlbC1jb250cm9sIiBuZy1jbGljaz0icHJldigpIiBuZy1zaG93PSJzbGlkZXMubGVuZ3RoID4gMSI+XG4gICAgPHNwYW4gYXJpYS1oaWRkZW49InRydWUiIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdCI+PC9zcGFuPlxuICAgIDxzcGFuIGNsYXNzPSJzci1vbmx5Ij5wcmV2aW91czwvc3Bhbj5cbiAgPC9hPlxuICA8YSByb2xlPSJidXR0b24iIGhyZWYgY2xhc3M9InJpZ2h0IGNhcm91c2VsLWNvbnRyb2wiIG5nLWNsaWNrPSJuZXh0KCkiIG5nLXNob3c9InNsaWRlcy5sZW5ndGggPiAxIj5cbiAgICA8c3BhbiBhcmlhLWhpZGRlbj0idHJ1ZSIgY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodCI+PC9zcGFuPlxuICAgIDxzcGFuIGNsYXNzPSJzci1vbmx5Ij5uZXh0PC9zcGFuPlxuICA8L2E+XG4gIDxvbCBjbGFzcz0iY2Fyb3VzZWwtaW5kaWNhdG9ycyIgbmctc2hvdz0ic2xpZGVzLmxlbmd0aCA+IDEiPlxuICAgIDxsaSBuZy1yZXBlYXQ9InNsaWRlIGluIHNsaWRlcyB8IG9yZGVyQnk6aW5kZXhPZlNsaWRlIHRyYWNrIGJ5ICRpbmRleCIgbmctY2xhc3M9InsgYWN0aXZlOiBpc0FjdGl2ZShzbGlkZSkgfSIgbmctY2xpY2s9InNlbGVjdChzbGlkZSkiPlxuICAgICAgPHNwYW4gY2xhc3M9InNyLW9ubHkiPnNsaWRlIHt7ICRpbmRleCArIDEgfX0gb2Yge3sgc2xpZGVzLmxlbmd0aCB9fTxzcGFuIG5nLWlmPSJpc0FjdGl2ZShzbGlkZSkiPiwgY3VycmVudGx5IGFjdGl2ZTwvc3Bhbj48L3NwYW4+XG4gICAgPC9saT5cbiAgPC9vbD5cbjwvZGl2PicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKGEpe2EucHV0KCJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sIiwnPGRpdiBuZy1jbGFzcz0ie1xuICAgIFwnYWN0aXZlXCc6IGFjdGl2ZVxuICB9IiBjbGFzcz0iaXRlbSB0ZXh0LWNlbnRlciIgbmctdHJhbnNjbHVkZT48L2Rpdj5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbihhKXthLnB1dCgidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWwiLCc8ZGl2IG5nLXN3aXRjaD0iZGF0ZXBpY2tlck1vZGUiIHJvbGU9ImFwcGxpY2F0aW9uIiBuZy1rZXlkb3duPSJrZXlkb3duKCRldmVudCkiPlxuICA8dWliLWRheXBpY2tlciBuZy1zd2l0Y2gtd2hlbj0iZGF5IiB0YWJpbmRleD0iMCI+PC91aWItZGF5cGlja2VyPlxuICA8dWliLW1vbnRocGlja2VyIG5nLXN3aXRjaC13aGVuPSJtb250aCIgdGFiaW5kZXg9IjAiPjwvdWliLW1vbnRocGlja2VyPlxuICA8dWliLXllYXJwaWNrZXIgbmctc3dpdGNoLXdoZW49InllYXIiIHRhYmluZGV4PSIwIj48L3VpYi15ZWFycGlja2VyPlxuPC9kaXY+Jyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oYSl7YS5wdXQoInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWwiLCc8dGFibGUgcm9sZT0iZ3JpZCIgYXJpYS1sYWJlbGxlZGJ5PSJ7ezo6dW5pcXVlSWR9fS10aXRsZSIgYXJpYS1hY3RpdmVkZXNjZW5kYW50PSJ7e2FjdGl2ZURhdGVJZH19Ij5cbiAgPHRoZWFkPlxuICAgIDx0cj5cbiAgICAgIDx0aD48YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0IiBuZy1jbGljaz0ibW92ZSgtMSkiIHRhYmluZGV4PSItMSI+PGkgY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0Ij48L2k+PC9idXR0b24+PC90aD5cbiAgICAgIDx0aCBjb2xzcGFuPSJ7ezo6NSArIHNob3dXZWVrc319Ij48YnV0dG9uIGlkPSJ7ezo6dW5pcXVlSWR9fS10aXRsZSIgcm9sZT0iaGVhZGluZyIgYXJpYS1saXZlPSJhc3NlcnRpdmUiIGFyaWEtYXRvbWljPSJ0cnVlIiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIiBuZy1jbGljaz0idG9nZ2xlTW9kZSgpIiBuZy1kaXNhYmxlZD0iZGF0ZXBpY2tlck1vZGUgPT09IG1heE1vZGUiIHRhYmluZGV4PSItMSIgc3R5bGU9IndpZHRoOjEwMCU7Ij48c3Ryb25nPnt7dGl0bGV9fTwvc3Ryb25nPjwvYnV0dG9uPjwvdGg+XG4gICAgICA8dGg+PGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHQiIG5nLWNsaWNrPSJtb3ZlKDEpIiB0YWJpbmRleD0iLTEiPjxpIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHQiPjwvaT48L2J1dHRvbj48L3RoPlxuICAgIDwvdHI+XG4gICAgPHRyPlxuICAgICAgPHRoIG5nLWlmPSJzaG93V2Vla3MiIGNsYXNzPSJ0ZXh0LWNlbnRlciI+PC90aD5cbiAgICAgIDx0aCBuZy1yZXBlYXQ9ImxhYmVsIGluIDo6bGFiZWxzIHRyYWNrIGJ5ICRpbmRleCIgY2xhc3M9InRleHQtY2VudGVyIj48c21hbGwgYXJpYS1sYWJlbD0ie3s6OmxhYmVsLmZ1bGx9fSI+e3s6OmxhYmVsLmFiYnJ9fTwvc21hbGw+PC90aD5cbiAgICA8L3RyPlxuICA8L3RoZWFkPlxuICA8dGJvZHk+XG4gICAgPHRyIG5nLXJlcGVhdD0icm93IGluIHJvd3MgdHJhY2sgYnkgJGluZGV4Ij5cbiAgICAgIDx0ZCBuZy1pZj0ic2hvd1dlZWtzIiBjbGFzcz0idGV4dC1jZW50ZXIgaDYiPjxlbT57eyB3ZWVrTnVtYmVyc1skaW5kZXhdIH19PC9lbT48L3RkPlxuICAgICAgPHRkIG5nLXJlcGVhdD0iZHQgaW4gcm93IHRyYWNrIGJ5IGR0LmRhdGUiIGNsYXNzPSJ0ZXh0LWNlbnRlciIgcm9sZT0iZ3JpZGNlbGwiIGlkPSJ7ezo6ZHQudWlkfX0iIG5nLWNsYXNzPSI6OmR0LmN1c3RvbUNsYXNzIj5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIHN0eWxlPSJtaW4td2lkdGg6MTAwJTsiIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIiBuZy1jbGFzcz0ie1wnYnRuLWluZm9cJzogZHQuc2VsZWN0ZWQsIGFjdGl2ZTogaXNBY3RpdmUoZHQpfSIgbmctY2xpY2s9InNlbGVjdChkdC5kYXRlKSIgbmctZGlzYWJsZWQ9ImR0LmRpc2FibGVkIiB0YWJpbmRleD0iLTEiPjxzcGFuIG5nLWNsYXNzPSI6OntcJ3RleHQtbXV0ZWRcJzogZHQuc2Vjb25kYXJ5LCBcJ3RleHQtaW5mb1wnOiBkdC5jdXJyZW50fSI+e3s6OmR0LmxhYmVsfX08L3NwYW4+PC9idXR0b24+XG4gICAgICA8L3RkPlxuICAgIDwvdHI+XG4gIDwvdGJvZHk+XG48L3RhYmxlPlxuJyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2RhdGVwaWNrZXIvbW9udGguaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbihhKXthLnB1dCgidGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sIiwnPHRhYmxlIHJvbGU9ImdyaWQiIGFyaWEtbGFiZWxsZWRieT0ie3s6OnVuaXF1ZUlkfX0tdGl0bGUiIGFyaWEtYWN0aXZlZGVzY2VuZGFudD0ie3thY3RpdmVEYXRlSWR9fSI+XG4gIDx0aGVhZD5cbiAgICA8dHI+XG4gICAgICA8dGg+PGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdCIgbmctY2xpY2s9Im1vdmUoLTEpIiB0YWJpbmRleD0iLTEiPjxpIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdCI+PC9pPjwvYnV0dG9uPjwvdGg+XG4gICAgICA8dGg+PGJ1dHRvbiBpZD0ie3s6OnVuaXF1ZUlkfX0tdGl0bGUiIHJvbGU9ImhlYWRpbmciIGFyaWEtbGl2ZT0iYXNzZXJ0aXZlIiBhcmlhLWF0b21pYz0idHJ1ZSIgdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSIgbmctY2xpY2s9InRvZ2dsZU1vZGUoKSIgbmctZGlzYWJsZWQ9ImRhdGVwaWNrZXJNb2RlID09PSBtYXhNb2RlIiB0YWJpbmRleD0iLTEiIHN0eWxlPSJ3aWR0aDoxMDAlOyI+PHN0cm9uZz57e3RpdGxlfX08L3N0cm9uZz48L2J1dHRvbj48L3RoPlxuICAgICAgPHRoPjxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLXJpZ2h0IiBuZy1jbGljaz0ibW92ZSgxKSIgdGFiaW5kZXg9Ii0xIj48aSBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXJpZ2h0Ij48L2k+PC9idXR0b24+PC90aD5cbiAgICA8L3RyPlxuICA8L3RoZWFkPlxuICA8dGJvZHk+XG4gICAgPHRyIG5nLXJlcGVhdD0icm93IGluIHJvd3MgdHJhY2sgYnkgJGluZGV4Ij5cbiAgICAgIDx0ZCBuZy1yZXBlYXQ9ImR0IGluIHJvdyB0cmFjayBieSBkdC5kYXRlIiBjbGFzcz0idGV4dC1jZW50ZXIiIHJvbGU9ImdyaWRjZWxsIiBpZD0ie3s6OmR0LnVpZH19IiBuZy1jbGFzcz0iOjpkdC5jdXN0b21DbGFzcyI+XG4gICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBzdHlsZT0ibWluLXdpZHRoOjEwMCU7IiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IiBuZy1jbGFzcz0ie1wnYnRuLWluZm9cJzogZHQuc2VsZWN0ZWQsIGFjdGl2ZTogaXNBY3RpdmUoZHQpfSIgbmctY2xpY2s9InNlbGVjdChkdC5kYXRlKSIgbmctZGlzYWJsZWQ9ImR0LmRpc2FibGVkIiB0YWJpbmRleD0iLTEiPjxzcGFuIG5nLWNsYXNzPSI6OntcJ3RleHQtaW5mb1wnOiBkdC5jdXJyZW50fSI+e3s6OmR0LmxhYmVsfX08L3NwYW4+PC9idXR0b24+XG4gICAgICA8L3RkPlxuICAgIDwvdHI+XG4gIDwvdGJvZHk+XG48L3RhYmxlPlxuJyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbihhKXthLnB1dCgidGVtcGxhdGUvZGF0ZXBpY2tlci9wb3B1cC5odG1sIiwnPHVsIGNsYXNzPSJkcm9wZG93bi1tZW51IiBkcm9wZG93bi1uZXN0ZWQgbmctaWY9ImlzT3BlbiIgc3R5bGU9ImRpc3BsYXk6IGJsb2NrIiBuZy1zdHlsZT0ie3RvcDogcG9zaXRpb24udG9wK1wncHhcJywgbGVmdDogcG9zaXRpb24ubGVmdCtcJ3B4XCd9IiBuZy1rZXlkb3duPSJrZXlkb3duKCRldmVudCkiIG5nLWNsaWNrPSIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCkiPlxuCTxsaSBuZy10cmFuc2NsdWRlPjwvbGk+XG4JPGxpIG5nLWlmPSJzaG93QnV0dG9uQmFyIiBzdHlsZT0icGFkZGluZzoxMHB4IDlweCAycHgiPlxuCQk8c3BhbiBjbGFzcz0iYnRuLWdyb3VwIHB1bGwtbGVmdCI+XG4JCQk8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tc20gYnRuLWluZm8iIG5nLWNsaWNrPSJzZWxlY3QoXCd0b2RheVwnKSIgbmctZGlzYWJsZWQ9ImlzRGlzYWJsZWQoXCd0b2RheVwnKSI+e3sgZ2V0VGV4dChcJ2N1cnJlbnRcJykgfX08L2J1dHRvbj5cbgkJCTxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tZGFuZ2VyIiBuZy1jbGljaz0ic2VsZWN0KG51bGwpIj57eyBnZXRUZXh0KFwnY2xlYXJcJykgfX08L2J1dHRvbj5cbgkJPC9zcGFuPlxuCQk8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tc20gYnRuLXN1Y2Nlc3MgcHVsbC1yaWdodCIgbmctY2xpY2s9ImNsb3NlKCkiPnt7IGdldFRleHQoXCdjbG9zZVwnKSB9fTwvYnV0dG9uPlxuCTwvbGk+XG48L3VsPlxuJyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKGEpe2EucHV0KCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbCIsJzx0YWJsZSByb2xlPSJncmlkIiBhcmlhLWxhYmVsbGVkYnk9Int7Ojp1bmlxdWVJZH19LXRpdGxlIiBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9Int7YWN0aXZlRGF0ZUlkfX0iPlxuICA8dGhlYWQ+XG4gICAgPHRyPlxuICAgICAgPHRoPjxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnQiIG5nLWNsaWNrPSJtb3ZlKC0xKSIgdGFiaW5kZXg9Ii0xIj48aSBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnQiPjwvaT48L2J1dHRvbj48L3RoPlxuICAgICAgPHRoIGNvbHNwYW49IjMiPjxidXR0b24gaWQ9Int7Ojp1bmlxdWVJZH19LXRpdGxlIiByb2xlPSJoZWFkaW5nIiBhcmlhLWxpdmU9ImFzc2VydGl2ZSIgYXJpYS1hdG9taWM9InRydWUiIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBidG4tc20iIG5nLWNsaWNrPSJ0b2dnbGVNb2RlKCkiIG5nLWRpc2FibGVkPSJkYXRlcGlja2VyTW9kZSA9PT0gbWF4TW9kZSIgdGFiaW5kZXg9Ii0xIiBzdHlsZT0id2lkdGg6MTAwJTsiPjxzdHJvbmc+e3t0aXRsZX19PC9zdHJvbmc+PC9idXR0b24+PC90aD5cbiAgICAgIDx0aD48YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodCIgbmctY2xpY2s9Im1vdmUoMSkiIHRhYmluZGV4PSItMSI+PGkgY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodCI+PC9pPjwvYnV0dG9uPjwvdGg+XG4gICAgPC90cj5cbiAgPC90aGVhZD5cbiAgPHRib2R5PlxuICAgIDx0ciBuZy1yZXBlYXQ9InJvdyBpbiByb3dzIHRyYWNrIGJ5ICRpbmRleCI+XG4gICAgICA8dGQgbmctcmVwZWF0PSJkdCBpbiByb3cgdHJhY2sgYnkgZHQuZGF0ZSIgY2xhc3M9InRleHQtY2VudGVyIiByb2xlPSJncmlkY2VsbCIgaWQ9Int7OjpkdC51aWR9fSIgbmctY2xhc3M9Ijo6ZHQuY3VzdG9tQ2xhc3MiPlxuICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgc3R5bGU9Im1pbi13aWR0aDoxMDAlOyIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCIgbmctY2xhc3M9IntcJ2J0bi1pbmZvXCc6IGR0LnNlbGVjdGVkLCBhY3RpdmU6IGlzQWN0aXZlKGR0KX0iIG5nLWNsaWNrPSJzZWxlY3QoZHQuZGF0ZSkiIG5nLWRpc2FibGVkPSJkdC5kaXNhYmxlZCIgdGFiaW5kZXg9Ii0xIj48c3BhbiBuZy1jbGFzcz0iOjp7XCd0ZXh0LWluZm9cJzogZHQuY3VycmVudH0iPnt7OjpkdC5sYWJlbH19PC9zcGFuPjwvYnV0dG9uPlxuICAgICAgPC90ZD5cbiAgICA8L3RyPlxuICA8L3Rib2R5PlxuPC90YWJsZT5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKGEpe2EucHV0KCJ0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sIiwnPGRpdiB1aWItbW9kYWwtYW5pbWF0aW9uLWNsYXNzPSJmYWRlIlxuICAgICBtb2RhbC1pbi1jbGFzcz0iaW4iXG4gICAgIG5nLXN0eWxlPSJ7XCd6LWluZGV4XCc6IDEwNDAgKyAoaW5kZXggJiYgMSB8fCAwKSArIGluZGV4KjEwfSJcbj48L2Rpdj5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbihhKXthLnB1dCgidGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWwiLCc8ZGl2IG1vZGFsLXJlbmRlcj0ie3skaXNSZW5kZXJlZH19IiB0YWJpbmRleD0iLTEiIHJvbGU9ImRpYWxvZyIgY2xhc3M9Im1vZGFsIlxuICAgIHVpYi1tb2RhbC1hbmltYXRpb24tY2xhc3M9ImZhZGUiXG4gICAgbW9kYWwtaW4tY2xhc3M9ImluIlxuICAgIG5nLXN0eWxlPSJ7XCd6LWluZGV4XCc6IDEwNTAgKyBpbmRleCoxMCwgZGlzcGxheTogXCdibG9ja1wnfSI+XG4gICAgPGRpdiBjbGFzcz0ibW9kYWwtZGlhbG9nIiBuZy1jbGFzcz0ic2l6ZSA/IFwnbW9kYWwtXCcgKyBzaXplIDogXCdcJyI+PGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCIgdWliLW1vZGFsLXRyYW5zY2x1ZGU+PC9kaXY+PC9kaXY+XG48L2Rpdj5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oYSl7YS5wdXQoInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnZXIuaHRtbCIsJzx1bCBjbGFzcz0icGFnZXIiPlxuICA8bGkgbmctY2xhc3M9IntkaXNhYmxlZDogbm9QcmV2aW91cygpfHxuZ0Rpc2FibGVkLCBwcmV2aW91czogYWxpZ259Ij48YSBocmVmIG5nLWNsaWNrPSJzZWxlY3RQYWdlKHBhZ2UgLSAxLCAkZXZlbnQpIj57ezo6Z2V0VGV4dChcJ3ByZXZpb3VzXCcpfX08L2E+PC9saT5cbiAgPGxpIG5nLWNsYXNzPSJ7ZGlzYWJsZWQ6IG5vTmV4dCgpfHxuZ0Rpc2FibGVkLCBuZXh0OiBhbGlnbn0iPjxhIGhyZWYgbmctY2xpY2s9InNlbGVjdFBhZ2UocGFnZSArIDEsICRldmVudCkiPnt7OjpnZXRUZXh0KFwnbmV4dFwnKX19PC9hPjwvbGk+XG48L3VsPlxuJyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKGEpe2EucHV0KCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbCIsJzx1bCBjbGFzcz0icGFnaW5hdGlvbiI+XG4gIDxsaSBuZy1pZj0iOjpib3VuZGFyeUxpbmtzIiBuZy1jbGFzcz0ie2Rpc2FibGVkOiBub1ByZXZpb3VzKCl8fG5nRGlzYWJsZWR9IiBjbGFzcz0icGFnaW5hdGlvbi1maXJzdCI+PGEgaHJlZiBuZy1jbGljaz0ic2VsZWN0UGFnZSgxLCAkZXZlbnQpIj57ezo6Z2V0VGV4dChcJ2ZpcnN0XCcpfX08L2E+PC9saT5cbiAgPGxpIG5nLWlmPSI6OmRpcmVjdGlvbkxpbmtzIiBuZy1jbGFzcz0ie2Rpc2FibGVkOiBub1ByZXZpb3VzKCl8fG5nRGlzYWJsZWR9IiBjbGFzcz0icGFnaW5hdGlvbi1wcmV2Ij48YSBocmVmIG5nLWNsaWNrPSJzZWxlY3RQYWdlKHBhZ2UgLSAxLCAkZXZlbnQpIj57ezo6Z2V0VGV4dChcJ3ByZXZpb3VzXCcpfX08L2E+PC9saT5cbiAgPGxpIG5nLXJlcGVhdD0icGFnZSBpbiBwYWdlcyB0cmFjayBieSAkaW5kZXgiIG5nLWNsYXNzPSJ7YWN0aXZlOiBwYWdlLmFjdGl2ZSxkaXNhYmxlZDogbmdEaXNhYmxlZCYmIXBhZ2UuYWN0aXZlfSIgY2xhc3M9InBhZ2luYXRpb24tcGFnZSI+PGEgaHJlZiBuZy1jbGljaz0ic2VsZWN0UGFnZShwYWdlLm51bWJlciwgJGV2ZW50KSI+e3twYWdlLnRleHR9fTwvYT48L2xpPlxuICA8bGkgbmctaWY9Ijo6ZGlyZWN0aW9uTGlua3MiIG5nLWNsYXNzPSJ7ZGlzYWJsZWQ6IG5vTmV4dCgpfHxuZ0Rpc2FibGVkfSIgY2xhc3M9InBhZ2luYXRpb24tbmV4dCI+PGEgaHJlZiBuZy1jbGljaz0ic2VsZWN0UGFnZShwYWdlICsgMSwgJGV2ZW50KSI+e3s6OmdldFRleHQoXCduZXh0XCcpfX08L2E+PC9saT5cbiAgPGxpIG5nLWlmPSI6OmJvdW5kYXJ5TGlua3MiIG5nLWNsYXNzPSJ7ZGlzYWJsZWQ6IG5vTmV4dCgpfHxuZ0Rpc2FibGVkfSIgY2xhc3M9InBhZ2luYXRpb24tbGFzdCI+PGEgaHJlZiBuZy1jbGljaz0ic2VsZWN0UGFnZSh0b3RhbFBhZ2VzLCAkZXZlbnQpIj57ezo6Z2V0VGV4dChcJ2xhc3RcJyl9fTwvYT48L2xpPlxuPC91bD5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC1wb3B1cC5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKGEpe2EucHV0KCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC1wb3B1cC5odG1sIiwnPGRpdlxuICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz0iZmFkZSJcbiAgdWliLXRvb2x0aXAtY2xhc3Nlc1xuICBuZy1jbGFzcz0ieyBpbjogaXNPcGVuKCkgfSI+XG4gIDxkaXYgY2xhc3M9InRvb2x0aXAtYXJyb3ciPjwvZGl2PlxuICA8ZGl2IGNsYXNzPSJ0b29sdGlwLWlubmVyIiBuZy1iaW5kLWh0bWw9ImNvbnRlbnRFeHAoKSI+PC9kaXY+XG48L2Rpdj5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbihhKXthLnB1dCgidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXBvcHVwLmh0bWwiLCc8ZGl2XG4gIHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPSJmYWRlIlxuICB1aWItdG9vbHRpcC1jbGFzc2VzXG4gIG5nLWNsYXNzPSJ7IGluOiBpc09wZW4oKSB9Ij5cbiAgPGRpdiBjbGFzcz0idG9vbHRpcC1hcnJvdyI+PC9kaXY+XG4gIDxkaXYgY2xhc3M9InRvb2x0aXAtaW5uZXIiIG5nLWJpbmQ9ImNvbnRlbnQiPjwvZGl2PlxuPC9kaXY+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXRlbXBsYXRlLXBvcHVwLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oYSl7YS5wdXQoInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC10ZW1wbGF0ZS1wb3B1cC5odG1sIiwnPGRpdlxuICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz0iZmFkZSJcbiAgdWliLXRvb2x0aXAtY2xhc3Nlc1xuICBuZy1jbGFzcz0ieyBpbjogaXNPcGVuKCkgfSI+XG4gIDxkaXYgY2xhc3M9InRvb2x0aXAtYXJyb3ciPjwvZGl2PlxuICA8ZGl2IGNsYXNzPSJ0b29sdGlwLWlubmVyIlxuICAgIHVpYi10b29sdGlwLXRlbXBsYXRlLXRyYW5zY2x1ZGU9ImNvbnRlbnRFeHAoKSJcbiAgICB0b29sdGlwLXRlbXBsYXRlLXRyYW5zY2x1ZGUtc2NvcGU9Im9yaWdpblNjb3BlKCkiPjwvZGl2PlxuPC9kaXY+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLWh0bWwuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbihhKXthLnB1dCgidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLWh0bWwuaHRtbCIsJzxkaXYgdG9vbHRpcC1hbmltYXRpb24tY2xhc3M9ImZhZGUiXG4gIHVpYi10b29sdGlwLWNsYXNzZXNcbiAgbmctY2xhc3M9InsgaW46IGlzT3BlbigpIH0iPlxuICA8ZGl2IGNsYXNzPSJhcnJvdyI+PC9kaXY+XG5cbiAgPGRpdiBjbGFzcz0icG9wb3Zlci1pbm5lciI+XG4gICAgICA8aDMgY2xhc3M9InBvcG92ZXItdGl0bGUiIG5nLWJpbmQ9InRpdGxlIiBuZy1pZj0idGl0bGUiPjwvaDM+XG4gICAgICA8ZGl2IGNsYXNzPSJwb3BvdmVyLWNvbnRlbnQiIG5nLWJpbmQtaHRtbD0iY29udGVudEV4cCgpIj48L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItdGVtcGxhdGUuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbihhKXthLnB1dCgidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLXRlbXBsYXRlLmh0bWwiLCc8ZGl2IHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPSJmYWRlIlxuICB1aWItdG9vbHRpcC1jbGFzc2VzXG4gIG5nLWNsYXNzPSJ7IGluOiBpc09wZW4oKSB9Ij5cbiAgPGRpdiBjbGFzcz0iYXJyb3ciPjwvZGl2PlxuXG4gIDxkaXYgY2xhc3M9InBvcG92ZXItaW5uZXIiPlxuICAgICAgPGgzIGNsYXNzPSJwb3BvdmVyLXRpdGxlIiBuZy1iaW5kPSJ0aXRsZSIgbmctaWY9InRpdGxlIj48L2gzPlxuICAgICAgPGRpdiBjbGFzcz0icG9wb3Zlci1jb250ZW50IlxuICAgICAgICB1aWItdG9vbHRpcC10ZW1wbGF0ZS10cmFuc2NsdWRlPSJjb250ZW50RXhwKCkiXG4gICAgICAgIHRvb2x0aXAtdGVtcGxhdGUtdHJhbnNjbHVkZS1zY29wZT0ib3JpZ2luU2NvcGUoKSI+PC9kaXY+XG4gIDwvZGl2PlxuPC9kaXY+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oYSl7YS5wdXQoInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sIiwnPGRpdiB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz0iZmFkZSJcbiAgdWliLXRvb2x0aXAtY2xhc3Nlc1xuICBuZy1jbGFzcz0ieyBpbjogaXNPcGVuKCkgfSI+XG4gIDxkaXYgY2xhc3M9ImFycm93Ij48L2Rpdj5cblxuICA8ZGl2IGNsYXNzPSJwb3BvdmVyLWlubmVyIj5cbiAgICAgIDxoMyBjbGFzcz0icG9wb3Zlci10aXRsZSIgbmctYmluZD0idGl0bGUiIG5nLWlmPSJ0aXRsZSI+PC9oMz5cbiAgICAgIDxkaXYgY2xhc3M9InBvcG92ZXItY29udGVudCIgbmctYmluZD0iY29udGVudCI+PC9kaXY+XG4gIDwvZGl2PlxuPC9kaXY+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oYSl7YS5wdXQoInRlbXBsYXRlL3Byb2dyZXNzYmFyL2Jhci5odG1sIiwnPGRpdiBjbGFzcz0icHJvZ3Jlc3MtYmFyIiBuZy1jbGFzcz0idHlwZSAmJiBcJ3Byb2dyZXNzLWJhci1cJyArIHR5cGUiIHJvbGU9InByb2dyZXNzYmFyIiBhcmlhLXZhbHVlbm93PSJ7e3ZhbHVlfX0iIGFyaWEtdmFsdWVtaW49IjAiIGFyaWEtdmFsdWVtYXg9Int7bWF4fX0iIG5nLXN0eWxlPSJ7d2lkdGg6IChwZXJjZW50IDwgMTAwID8gcGVyY2VudCA6IDEwMCkgKyBcJyVcJ30iIGFyaWEtdmFsdWV0ZXh0PSJ7e3BlcmNlbnQgfCBudW1iZXI6MH19JSIgYXJpYS1sYWJlbGxlZGJ5PSJ7ezo6dGl0bGV9fSIgc3R5bGU9Im1pbi13aWR0aDogMDsiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbihhKXthLnB1dCgidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbCIsJzxkaXYgY2xhc3M9InByb2dyZXNzIiBuZy10cmFuc2NsdWRlIGFyaWEtbGFiZWxsZWRieT0ie3s6OnRpdGxlfX0iPjwvZGl2PicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKGEpe2EucHV0KCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sIiwnPGRpdiBjbGFzcz0icHJvZ3Jlc3MiPlxuICA8ZGl2IGNsYXNzPSJwcm9ncmVzcy1iYXIiIG5nLWNsYXNzPSJ0eXBlICYmIFwncHJvZ3Jlc3MtYmFyLVwnICsgdHlwZSIgcm9sZT0icHJvZ3Jlc3NiYXIiIGFyaWEtdmFsdWVub3c9Int7dmFsdWV9fSIgYXJpYS12YWx1ZW1pbj0iMCIgYXJpYS12YWx1ZW1heD0ie3ttYXh9fSIgbmctc3R5bGU9Int3aWR0aDogKHBlcmNlbnQgPCAxMDAgPyBwZXJjZW50IDogMTAwKSArIFwnJVwnfSIgYXJpYS12YWx1ZXRleHQ9Int7cGVyY2VudCB8IG51bWJlcjowfX0lIiBhcmlhLWxhYmVsbGVkYnk9Int7Ojp0aXRsZX19IiBzdHlsZT0ibWluLXdpZHRoOiAwOyIgbmctdHJhbnNjbHVkZT48L2Rpdj5cbjwvZGl2PlxuJyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbihhKXthLnB1dCgidGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sIiwnPHNwYW4gbmctbW91c2VsZWF2ZT0icmVzZXQoKSIgbmcta2V5ZG93bj0ib25LZXlkb3duKCRldmVudCkiIHRhYmluZGV4PSIwIiByb2xlPSJzbGlkZXIiIGFyaWEtdmFsdWVtaW49IjAiIGFyaWEtdmFsdWVtYXg9Int7cmFuZ2UubGVuZ3RofX0iIGFyaWEtdmFsdWVub3c9Int7dmFsdWV9fSI+XG4gICAgPHNwYW4gbmctcmVwZWF0LXN0YXJ0PSJyIGluIHJhbmdlIHRyYWNrIGJ5ICRpbmRleCIgY2xhc3M9InNyLW9ubHkiPih7eyAkaW5kZXggPCB2YWx1ZSA/IFwnKlwnIDogXCcgXCcgfX0pPC9zcGFuPlxuICAgIDxpIG5nLXJlcGVhdC1lbmQgbmctbW91c2VlbnRlcj0iZW50ZXIoJGluZGV4ICsgMSkiIG5nLWNsaWNrPSJyYXRlKCRpbmRleCArIDEpIiBjbGFzcz0iZ2x5cGhpY29uIiBuZy1jbGFzcz0iJGluZGV4IDwgdmFsdWUgJiYgKHIuc3RhdGVPbiB8fCBcJ2dseXBoaWNvbi1zdGFyXCcpIHx8IChyLnN0YXRlT2ZmIHx8IFwnZ2x5cGhpY29uLXN0YXItZW1wdHlcJykiIG5nLWF0dHItdGl0bGU9Int7ci50aXRsZX19IiBhcmlhLXZhbHVldGV4dD0ie3tyLnRpdGxlfX0iPjwvaT5cbjwvc3Bhbj5cbicpOwp9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3RhYnMvdGFiLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oYSl7YS5wdXQoInRlbXBsYXRlL3RhYnMvdGFiLmh0bWwiLCc8bGkgbmctY2xhc3M9InthY3RpdmU6IGFjdGl2ZSwgZGlzYWJsZWQ6IGRpc2FibGVkfSI+XG4gIDxhIGhyZWYgbmctY2xpY2s9InNlbGVjdCgpIiB1aWItdGFiLWhlYWRpbmctdHJhbnNjbHVkZT57e2hlYWRpbmd9fTwvYT5cbjwvbGk+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvdGFicy90YWJzZXQuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbihhKXthLnB1dCgidGVtcGxhdGUvdGFicy90YWJzZXQuaHRtbCIsJzxkaXY+XG4gIDx1bCBjbGFzcz0ibmF2IG5hdi17e3R5cGUgfHwgXCd0YWJzXCd9fSIgbmctY2xhc3M9IntcJ25hdi1zdGFja2VkXCc6IHZlcnRpY2FsLCBcJ25hdi1qdXN0aWZpZWRcJzoganVzdGlmaWVkfSIgbmctdHJhbnNjbHVkZT48L3VsPlxuICA8ZGl2IGNsYXNzPSJ0YWItY29udGVudCI+XG4gICAgPGRpdiBjbGFzcz0idGFiLXBhbmUiIFxuICAgICAgICAgbmctcmVwZWF0PSJ0YWIgaW4gdGFicyIgXG4gICAgICAgICBuZy1jbGFzcz0ie2FjdGl2ZTogdGFiLmFjdGl2ZX0iXG4gICAgICAgICB1aWItdGFiLWNvbnRlbnQtdHJhbnNjbHVkZT0idGFiIj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbihhKXthLnB1dCgidGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWwiLCc8dGFibGU+XG4gIDx0Ym9keT5cbiAgICA8dHIgY2xhc3M9InRleHQtY2VudGVyIiBuZy1zaG93PSI6OnNob3dTcGlubmVycyI+XG4gICAgICA8dGQ+PGEgbmctY2xpY2s9ImluY3JlbWVudEhvdXJzKCkiIG5nLWNsYXNzPSJ7ZGlzYWJsZWQ6IG5vSW5jcmVtZW50SG91cnMoKX0iIGNsYXNzPSJidG4gYnRuLWxpbmsiIG5nLWRpc2FibGVkPSJub0luY3JlbWVudEhvdXJzKCkiIHRhYmluZGV4PSJ7ezo6dGFiaW5kZXh9fSI+PHNwYW4gY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi11cCI+PC9zcGFuPjwvYT48L3RkPlxuICAgICAgPHRkPiZuYnNwOzwvdGQ+XG4gICAgICA8dGQ+PGEgbmctY2xpY2s9ImluY3JlbWVudE1pbnV0ZXMoKSIgbmctY2xhc3M9IntkaXNhYmxlZDogbm9JbmNyZW1lbnRNaW51dGVzKCl9IiBjbGFzcz0iYnRuIGJ0bi1saW5rIiBuZy1kaXNhYmxlZD0ibm9JbmNyZW1lbnRNaW51dGVzKCkiIHRhYmluZGV4PSJ7ezo6dGFiaW5kZXh9fSI+PHNwYW4gY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi11cCI+PC9zcGFuPjwvYT48L3RkPlxuICAgICAgPHRkIG5nLXNob3c9InNob3dNZXJpZGlhbiI+PC90ZD5cbiAgICA8L3RyPlxuICAgIDx0cj5cbiAgICAgIDx0ZCBjbGFzcz0iZm9ybS1ncm91cCIgbmctY2xhc3M9IntcJ2hhcy1lcnJvclwnOiBpbnZhbGlkSG91cnN9Ij5cbiAgICAgICAgPGlucHV0IHN0eWxlPSJ3aWR0aDo1MHB4OyIgdHlwZT0idGV4dCIgbmctbW9kZWw9ImhvdXJzIiBuZy1jaGFuZ2U9InVwZGF0ZUhvdXJzKCkiIGNsYXNzPSJmb3JtLWNvbnRyb2wgdGV4dC1jZW50ZXIiIG5nLXJlYWRvbmx5PSI6OnJlYWRvbmx5SW5wdXQiIG1heGxlbmd0aD0iMiIgdGFiaW5kZXg9Int7Ojp0YWJpbmRleH19Ij5cbiAgICAgIDwvdGQ+XG4gICAgICA8dGQ+OjwvdGQ+XG4gICAgICA8dGQgY2xhc3M9ImZvcm0tZ3JvdXAiIG5nLWNsYXNzPSJ7XCdoYXMtZXJyb3JcJzogaW52YWxpZE1pbnV0ZXN9Ij5cbiAgICAgICAgPGlucHV0IHN0eWxlPSJ3aWR0aDo1MHB4OyIgdHlwZT0idGV4dCIgbmctbW9kZWw9Im1pbnV0ZXMiIG5nLWNoYW5nZT0idXBkYXRlTWludXRlcygpIiBjbGFzcz0iZm9ybS1jb250cm9sIHRleHQtY2VudGVyIiBuZy1yZWFkb25seT0iOjpyZWFkb25seUlucHV0IiBtYXhsZW5ndGg9IjIiIHRhYmluZGV4PSJ7ezo6dGFiaW5kZXh9fSI+XG4gICAgICA8L3RkPlxuICAgICAgPHRkIG5nLXNob3c9InNob3dNZXJpZGlhbiI+PGJ1dHRvbiB0eXBlPSJidXR0b24iIG5nLWNsYXNzPSJ7ZGlzYWJsZWQ6IG5vVG9nZ2xlTWVyaWRpYW4oKX0iIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgdGV4dC1jZW50ZXIiIG5nLWNsaWNrPSJ0b2dnbGVNZXJpZGlhbigpIiBuZy1kaXNhYmxlZD0ibm9Ub2dnbGVNZXJpZGlhbigpIiB0YWJpbmRleD0ie3s6OnRhYmluZGV4fX0iPnt7bWVyaWRpYW59fTwvYnV0dG9uPjwvdGQ+XG4gICAgPC90cj5cbiAgICA8dHIgY2xhc3M9InRleHQtY2VudGVyIiBuZy1zaG93PSI6OnNob3dTcGlubmVycyI+XG4gICAgICA8dGQ+PGEgbmctY2xpY2s9ImRlY3JlbWVudEhvdXJzKCkiIG5nLWNsYXNzPSJ7ZGlzYWJsZWQ6IG5vRGVjcmVtZW50SG91cnMoKX0iIGNsYXNzPSJidG4gYnRuLWxpbmsiIG5nLWRpc2FibGVkPSJub0RlY3JlbWVudEhvdXJzKCkiIHRhYmluZGV4PSJ7ezo6dGFiaW5kZXh9fSI+PHNwYW4gY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1kb3duIj48L3NwYW4+PC9hPjwvdGQ+XG4gICAgICA8dGQ+Jm5ic3A7PC90ZD5cbiAgICAgIDx0ZD48YSBuZy1jbGljaz0iZGVjcmVtZW50TWludXRlcygpIiBuZy1jbGFzcz0ie2Rpc2FibGVkOiBub0RlY3JlbWVudE1pbnV0ZXMoKX0iIGNsYXNzPSJidG4gYnRuLWxpbmsiIG5nLWRpc2FibGVkPSJub0RlY3JlbWVudE1pbnV0ZXMoKSIgdGFiaW5kZXg9Int7Ojp0YWJpbmRleH19Ij48c3BhbiBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWRvd24iPjwvc3Bhbj48L2E+PC90ZD5cbiAgICAgIDx0ZCBuZy1zaG93PSJzaG93TWVyaWRpYW4iPjwvdGQ+XG4gICAgPC90cj5cbiAgPC90Ym9keT5cbjwvdGFibGU+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1tYXRjaC5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKGEpe2EucHV0KCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWwiLCc8YSBocmVmIHRhYmluZGV4PSItMSIgbmctYmluZC1odG1sPSJtYXRjaC5sYWJlbCB8IHVpYlR5cGVhaGVhZEhpZ2hsaWdodDpxdWVyeSI+PC9hPlxuJyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbihhKXthLnB1dCgidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sIiwnPHVsIGNsYXNzPSJkcm9wZG93bi1tZW51IiBuZy1zaG93PSJpc09wZW4oKSAmJiAhbW92ZUluUHJvZ3Jlc3MiIG5nLXN0eWxlPSJ7dG9wOiBwb3NpdGlvbigpLnRvcCtcJ3B4XCcsIGxlZnQ6IHBvc2l0aW9uKCkubGVmdCtcJ3B4XCd9IiBzdHlsZT0iZGlzcGxheTogYmxvY2s7IiByb2xlPSJsaXN0Ym94IiBhcmlhLWhpZGRlbj0ie3shaXNPcGVuKCl9fSI+XG4gICAgPGxpIG5nLXJlcGVhdD0ibWF0Y2ggaW4gbWF0Y2hlcyB0cmFjayBieSAkaW5kZXgiIG5nLWNsYXNzPSJ7YWN0aXZlOiBpc0FjdGl2ZSgkaW5kZXgpIH0iIG5nLW1vdXNlZW50ZXI9InNlbGVjdEFjdGl2ZSgkaW5kZXgpIiBuZy1jbGljaz0ic2VsZWN0TWF0Y2goJGluZGV4KSIgcm9sZT0ib3B0aW9uIiBpZD0ie3s6Om1hdGNoLmlkfX0iPlxuICAgICAgICA8ZGl2IHVpYi10eXBlYWhlYWQtbWF0Y2ggaW5kZXg9IiRpbmRleCIgbWF0Y2g9Im1hdGNoIiBxdWVyeT0icXVlcnkiIHRlbXBsYXRlLXVybD0idGVtcGxhdGVVcmwiPjwvZGl2PlxuICAgIDwvbGk+XG48L3VsPlxuJyl9XSksIWFuZ3VsYXIuJCRjc3AoKSYmYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5maW5kKCJoZWFkIikucHJlcGVuZCgnPHN0eWxlIHR5cGU9InRleHQvY3NzIj4ubmctYW5pbWF0ZS5pdGVtOm5vdCgubGVmdCk6bm90KC5yaWdodCl7LXdlYmtpdC10cmFuc2l0aW9uOjBzIGVhc2UtaW4tb3V0IGxlZnQ7dHJhbnNpdGlvbjowcyBlYXNlLWluLW91dCBsZWZ0fTwvc3R5bGU+Jyk7CmRlZmluZSgidWktYm9vdHN0cmFwIiwgWyJhbmd1bGFyIl0sIGZ1bmN0aW9uKCl7fSk7CgovKioKICogQ3JlYXRlZCBieSBjb3JyZW50aSBvbiAyOS8wNi8yMDE2LgogKi8KCgovKj09PT09PT09PT09PT09PT09PT09PT09PT09CiBqcXVlcnkuc29hcC5qcyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9kb2VkamUvanF1ZXJ5LnNvYXAKIHZlcnNpb246IDEuNi44CgogalF1ZXJ5IHBsdWdpbiBmb3IgY29tbXVuaWNhdGluZyB3aXRoIGEgd2ViIHNlcnZpY2UgdXNpbmcgU09BUC4KCiBPbmUgZnVuY3Rpb24gdG8gc2VuZCBhIFNPQVBFbnZlbG9wZSB0aGF0IHRha2VzIGEgY29tcGxleCBvYmplY3QgYXMgYSBkYXRhCgogTGljZW5zZSBHTlUvR1BMdjMKIC0tLS0tLS0tLS0tLS0tLS0tCgogQ29weXJpZ2h0IChDKSAyMDA5LTIwMTUgLSBSZW15IEJsb20sIHRoZSBOZXRoZXJsYW5kcwoKIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgogVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uCgogV2hlbiBHUEwgaXMgbm90IGFuIG9wdGlvbiBmb3IgeW91LCBjb250YWN0IG1lIGZvciBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY29tbWVyY2lhbCBsaWNlbnNlLgoKIEluZm9ybWF0aW9uCiAtLS0tLS0tLS0tLQoKIEZvciBpbmZvcm1hdGlvbiBhYm91dCBob3cgdG8gdXNlIGpRdWVyeS5zb2FwLCBhdXRob3JzLCBjaGFuZ2Vsb2csIHRoZSBsYXRlc3QgdmVyc2lvbiwgZXRjLi4uCiBWaXNpdDogaHR0cHM6Ly9naXRodWIuY29tL2RvZWRqZS9qcXVlcnkuc29hcAoKIERvY3VtZW50YXRpb24gYWJvdXQgVEhJUyB2ZXJzaW9uIGlzIGZvdW5kIGhlcmU6CiBodHRwczovL2dpdGh1Yi5jb20vZG9lZGplL2pxdWVyeS5zb2FwL2Jsb2IvMS42LjgvUkVBRE1FLm1kCgogPT09PT09PT09PT09PT09PT09PT09PSovCgooZnVuY3Rpb24oZmFjdG9yeSkgewogICAgaWYodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAnb2JqZWN0JykgewogICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdqcXVlcnknKSk7CiAgICB9IGVsc2UgewogICAgICAgIGZhY3RvcnkoalF1ZXJ5KTsKICAgIH0KfSkoZnVuY3Rpb24oalF1ZXJ5KSB7CiAgICB2YXIgJCA9IGpRdWVyeTsKICAgIHZhciBlbmFibGVMb2dnaW5nOwogICAgdmFyIGdsb2JhbENvbmZpZyA9IHsgLy8gdGhpcyBzZXR1cCBvbmNlLCBkZWZhdWx0cyBnbyBoZXJlCiAgICAgICAgYXBwZW5kTWV0aG9kVG9VUkw6IHRydWUsCiAgICAgICAgYXN5bmM6IHRydWUsCiAgICAgICAgZW5hYmxlTG9nZ2luZzogZmFsc2UsCiAgICAgICAgbm9QcmVmaXg6IGZhbHNlLAogICAgICAgIHNvYXAxMjogZmFsc2UKICAgIH07CiAgICBmdW5jdGlvbiBzb2FwKG9wdGlvbnMpIHsKICAgICAgICB2YXIgY29uZmlnID0ge307CiAgICAgICAgLy8gYSBjb25maWd1cmF0aW9uIGNhbGwgd2lsbCBub3QgaGF2ZSAnZGF0YScgc3BlY2lmaWVkICgncGFyYW1zJyBpcyB1c2VkIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSkKICAgICAgICBpZiAob3B0aW9ucyAmJiAhb3B0aW9ucy5wYXJhbXMgJiYgIW9wdGlvbnMuZGF0YSkgewogICAgICAgICAgICAkLmV4dGVuZChnbG9iYWxDb25maWcsIG9wdGlvbnMpOyAvLyB1cGRhdGUgZ2xvYmFsIGNvbmZpZwogICAgICAgICAgICBlbmFibGVMb2dnaW5nID0gb3B0aW9ucy5lbmFibGVMb2dnaW5nOwogICAgICAgICAgICBsb2coJ2pRdWVyeS5zb2FwIC0gZ2xvYmFsQ29uZmlnIHVwZGF0ZWQ6JywgZ2xvYmFsQ29uZmlnKTsKICAgICAgICAgICAgcmV0dXJuIGdsb2JhbENvbmZpZzsKICAgICAgICB9CiAgICAgICAgJC5leHRlbmQoY29uZmlnLCBnbG9iYWxDb25maWcsIG9wdGlvbnMpOwogICAgICAgIC8vIGZ1bmN0aW9uIGxvZyB3aWxsIG9ubHkgd29yayBiZWxvdyB0aGlzIGxpbmUhCiAgICAgICAgZW5hYmxlTG9nZ2luZyA9IGNvbmZpZy5lbmFibGVMb2dnaW5nOwoKICAgICAgICBsb2coJ2pxdWVyeS5zb2FwIC0gY29uZmlnOicsIGNvbmZpZyk7CgogICAgICAgIC8vIGZhbGxiYWNrcyBmb3IgY2hhbmdlZCBwcm9wZXJ0aWVzCiAgICAgICAgU09BUFRvb2wuZmFsbGJhY2tEZXByZWNhdGVkKGNvbmZpZyk7CgogICAgICAgIHZhciBzb2FwT2JqZWN0ID0gU09BUFRvb2wucHJvY2Vzc0RhdGEoewogICAgICAgICAgICBkYXRhOiBjb25maWcuZGF0YSwKICAgICAgICAgICAgbmFtZTogKCEhY29uZmlnLmVsZW1lbnROYW1lKSA/IGNvbmZpZy5lbGVtZW50TmFtZSA6IGNvbmZpZy5tZXRob2QsCiAgICAgICAgICAgIGNvbnRleHQ6IGNvbmZpZy5jb250ZXh0LAogICAgICAgICAgICBwcmVmaXg6ICghIWNvbmZpZy5uYW1lc3BhY2VRdWFsaWZpZXIgJiYgIWNvbmZpZy5ub1ByZWZpeCkgPyBjb25maWcubmFtZXNwYWNlUXVhbGlmaWVyKyc6JyA6ICcnCiAgICAgICAgfSk7CgogICAgICAgIGlmICghIWNvbmZpZy5uYW1lc3BhY2VRdWFsaWZpZXIgJiYgISFjb25maWcubmFtZXNwYWNlVVJMKSB7CiAgICAgICAgICAgIHNvYXBPYmplY3QuYWRkTmFtZXNwYWNlKGNvbmZpZy5uYW1lc3BhY2VRdWFsaWZpZXIsIGNvbmZpZy5uYW1lc3BhY2VVUkwpOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmICghIWNvbmZpZy5uYW1lc3BhY2VVUkwpIHsKICAgICAgICAgICAgc29hcE9iamVjdC5hdHRyKCd4bWxucycsIGNvbmZpZy5uYW1lc3BhY2VVUkwpOwogICAgICAgIH0KCiAgICAgICAgaWYgKCEhc29hcE9iamVjdCAmJiAhIWNvbmZpZy51cmwpIHsgLy8gd2UgaGF2ZSBhIHJlcXVlc3QgYW5kIHNvbWV3aGVyZSB0byBzZW5kIGl0CiAgICAgICAgICAgIC8vIENyZWF0ZSBhIFNPQVBFbnZlbG9wZSB3aXRoIHRoZSBzb2FwT2JqZWN0CiAgICAgICAgICAgIHZhciBzb2FwRW52ZWxvcGUgPSBuZXcgU09BUEVudmVsb3BlKHNvYXBPYmplY3QpOwogICAgICAgICAgICAvLyBBZGRpdGlvbmFsIGF0dHJpYnV0ZXMgYW5kIG5hbWVzcGFjZXMgZm9yIHRoZSBFbnZlbG9wZQogICAgICAgICAgICBpZiAoY29uZmlnLmVudkF0dHJpYnV0ZXMpIHsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gY29uZmlnLmVudkF0dHJpYnV0ZXMpIHsKICAgICAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUuYWRkQXR0cmlidXRlKGksIGNvbmZpZy5lbnZBdHRyaWJ1dGVzW2ldKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBTT0FQSGVhZGVyCiAgICAgICAgICAgIGlmICghIWNvbmZpZy5TT0FQSGVhZGVyKSB7CiAgICAgICAgICAgICAgICB2YXIgc29hcEhlYWRlciA9IFNPQVBUb29sLnByb2Nlc3NEYXRhKHsKICAgICAgICAgICAgICAgICAgICBkYXRhOiBjb25maWcuU09BUEhlYWRlciwKICAgICAgICAgICAgICAgICAgICBuYW1lOiAndGVtcCcsCiAgICAgICAgICAgICAgICAgICAgcHJlZml4OiAnJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAoISFzb2FwSGVhZGVyKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHNvYXBIZWFkZXIuaGFzQ2hpbGRyZW4oKSkgewogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqIGluIHNvYXBIZWFkZXIuY2hpbGRyZW4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5hZGRIZWFkZXIoc29hcEhlYWRlci5jaGlsZHJlbltqXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUuYWRkSGVhZGVyKHNvYXBIZWFkZXIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBXU1MKICAgICAgICAgICAgaWYgKCEhY29uZmlnLndzcykgewogICAgICAgICAgICAgICAgdmFyIHdzc09iaiA9IFNPQVBUb29sLmNyZWF0ZVdTUyhjb25maWcud3NzKTsKICAgICAgICAgICAgICAgIC8vIGFkZCB0byBXU1MgU2VjdXJpdHkgaGVhZGVyIHRvIHNvYXBFbnZlbG9wZQogICAgICAgICAgICAgICAgaWYgKCEhd3NzT2JqKSB7CiAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLmFkZEhlYWRlcih3c3NPYmopOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIGFwcGVuZCBNZXRob2Q/CiAgICAgICAgICAgIGlmKCEhY29uZmlnLmFwcGVuZE1ldGhvZFRvVVJMICYmICEhY29uZmlnLm1ldGhvZCl7CiAgICAgICAgICAgICAgICBjb25maWcudXJsICs9IGNvbmZpZy5tZXRob2Q7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHNvYXBFbnZlbG9wZS5zZW5kKHsKICAgICAgICAgICAgICAgIHVybDogY29uZmlnLnVybCwKICAgICAgICAgICAgICAgIGNvbnRleHQ6IGNvbmZpZy5jb250ZXh0LAogICAgICAgICAgICAgICAgYXN5bmM6IGNvbmZpZy5hc3luYywKICAgICAgICAgICAgICAgIGhlYWRlcnM6IChjb25maWcuSFRUUEhlYWRlcnMpID8gY29uZmlnLkhUVFBIZWFkZXJzIDoge30sCiAgICAgICAgICAgICAgICBhY3Rpb246ICghIWNvbmZpZy5TT0FQQWN0aW9uKSA/IGNvbmZpZy5TT0FQQWN0aW9uIDogY29uZmlnLm1ldGhvZCwKICAgICAgICAgICAgICAgIHNvYXAxMjogY29uZmlnLnNvYXAxMiwKICAgICAgICAgICAgICAgIGJlZm9yZVNlbmQ6IGNvbmZpZy5iZWZvcmVTZW5kLAogICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogY29uZmlnLnN0YXR1c0NvZGUsCiAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cywganFYSFIpIHsKICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IG5ldyBTT0FQUmVzcG9uc2UodGV4dFN0YXR1cywganFYSFIpOwogICAgICAgICAgICAgICAgbG9nKCdqcXVlcnkuc29hcCAtIHJlY2VpdmU6JywgcmVzcG9uc2UudG9TdHJpbmcoKSk7CiAgICAgICAgICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKGNvbmZpZy5zdWNjZXNzKSkgewogICAgICAgICAgICAgICAgICAgIGNvbmZpZy5zdWNjZXNzLmNhbGwodGhpcywgcmVzcG9uc2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgewogICAgICAgICAgICAgICAgbG9nKCdqcXVlcnkuc29hcCAtIGVycm9yOicsIGVycm9yVGhyb3duKTsKICAgICAgICAgICAgICAgIGlmICgkLmlzRnVuY3Rpb24oY29uZmlnLmVycm9yKSkgewogICAgICAgICAgICAgICAgICAgIGNvbmZpZy5lcnJvci5jYWxsKHRoaXMsIG5ldyBTT0FQUmVzcG9uc2UodGV4dFN0YXR1cywganFYSFIpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFyIGVyckRlZmVycmVkID0gbmV3ICQuRGVmZXJyZWQoKSwKICAgICAgICAgICAgICAgIGVycm1zZzsKCiAgICAgICAgICAgIGlmICghc29hcE9iamVjdCkgewogICAgICAgICAgICAgICAgZXJybXNnID0gJ2pxdWVyeS5zb2FwIC0gbm8gc29hcE9iamVjdCc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFjb25maWcudXJsKSB7CiAgICAgICAgICAgICAgICBlcnJtc2cgPSAnanF1ZXJ5LnNvYXAgLSBubyB1cmwnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghIWVycm1zZykgewogICAgICAgICAgICAgICAgd2FybihlcnJtc2cpOwogICAgICAgICAgICAgICAgZXJyRGVmZXJyZWQucmVqZWN0KGVycm1zZyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGVyckRlZmVycmVkLnByb21pc2UoKTsKICAgICAgICB9CiAgICB9OwoKICAgIC8vU29hcCByZXF1ZXN0IC0gdGhpcyBpcyB3aGF0IGJlaW5nIHNlbnQKICAgIGZ1bmN0aW9uIFNPQVBFbnZlbG9wZSAoc29hcE9iamVjdCkgewogICAgICAgIHRoaXMudHlwZU9mID0gIlNPQVBFbnZlbG9wZSI7CiAgICAgICAgdGhpcy5wcmVmaXggPSAnc29hcCc7CiAgICAgICAgdGhpcy5zb2FwQ29uZmlnID0gbnVsbDsKICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7fTsKICAgICAgICB0aGlzLmhlYWRlcnMgPSBbXTsKICAgICAgICB0aGlzLmJvZGllcyA9IFtdOwoKICAgICAgICAvLyBsZXQncyBnZXQgdGhlIHNvYXAgbmFtZXNwYWNlIHByZWZpeAogICAgICAgIHZhciBwYXJ0cyA9IHNvYXBPYmplY3QubmFtZS5zcGxpdCgnOicpOwogICAgICAgIGlmIChwYXJ0c1sxXSA9PT0gJ0VudmVsb3BlJyB8fCBwYXJ0c1sxXSA9PT0gJ0JvZHknKSB7CiAgICAgICAgICAgIHRoaXMucHJlZml4ID0gcGFydHNbMF07CiAgICAgICAgICAgIGlmIChzb2FwT2JqZWN0LmF0dHIoJ3htbG5zOicgKyB0aGlzLnByZWZpeCkgPT09IFNPQVBUb29sLlNPQVAxMS5uYW1lc3BhY2VVUkwpIHsKICAgICAgICAgICAgICAgIHRoaXMuc29hcENvbmZpZyA9IHRoaXMuU09BUDExOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChzb2FwT2JqZWN0LmF0dHIoJ3htbG5zOicgKyB0aGlzLnByZWZpeCkgPT09IFNPQVBUb29sLlNPQVAxMi5uYW1lc3BhY2VVUkwpIHsKICAgICAgICAgICAgICAgIHRoaXMuc29hcENvbmZpZyA9IHRoaXMuU09BUDEyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIEVudmVsb3BlCiAgICAgICAgICAgIHZhciBlbnYgPSBzb2FwT2JqZWN0LmZpbmQodGhpcy5wcmVmaXggKyAnOkVudmVsb3BlJyk7CiAgICAgICAgICAgIGlmIChlbnYgJiYgZW52LmF0dHJpYnV0ZXMpIHsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gZW52LmF0dHJpYnV0ZXMpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEF0dHJpYnV0ZShpLCBlbnYuYXR0cmlidXRlc1tpXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gaGVhZGVycwogICAgICAgICAgICBoZWFkZXIgPSBzb2FwT2JqZWN0LmZpbmQodGhpcy5wcmVmaXggKyAnOkhlYWRlcicpOwogICAgICAgICAgICBpZiAoaGVhZGVyICYmIGhlYWRlci5jaGlsZHJlbikgewogICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBoZWFkZXIuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEhlYWRlcihoZWFkZXIuY2hpbGRyZW5bal0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIGJvZHkKICAgICAgICAgICAgYm9keSA9IHNvYXBPYmplY3QuZmluZCh0aGlzLnByZWZpeCArICc6Qm9keScpOwogICAgICAgICAgICBpZiAoYm9keSAmJiBib2R5LmNoaWxkcmVuKSB7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGJvZHkuY2hpbGRyZW4ubGVuZ3RoOyBrKyspIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEJvZHkoYm9keS5jaGlsZHJlbltrXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8IHNvYXBPYmplY3QuY2hpbGRyZW4ubGVuZ3RoOyBsKyspIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEJvZHkoc29hcE9iamVjdC5jaGlsZHJlbltsXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBhIHNvYXBPYmplY3Qgd2l0aCBub3RoaW5nLCBtZXJlIGRhdGEKICAgICAgICAgICAgdGhpcy5hZGRCb2R5KHNvYXBPYmplY3QpOwogICAgICAgIH0KICAgIH0KCiAgICBTT0FQRW52ZWxvcGUucHJvdG90eXBlID0gewogICAgICAgIGFkZEF0dHJpYnV0ZTogZnVuY3Rpb24obmFtZSwgdmFsdWUpIHsKICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzW25hbWVdID0gdmFsdWU7CiAgICAgICAgfSwKICAgICAgICBhZGROYW1lc3BhY2U6IGZ1bmN0aW9uKG5hbWUsIHVyaSkgewogICAgICAgICAgICB0aGlzLmFkZEF0dHJpYnV0ZSgneG1sbnM6JyArIG5hbWUsIHVyaSk7CiAgICAgICAgfSwKICAgICAgICBhZGRIZWFkZXI6IGZ1bmN0aW9uKHNvYXBPYmplY3QpIHsKICAgICAgICAgICAgdGhpcy5oZWFkZXJzLnB1c2goc29hcE9iamVjdCk7CiAgICAgICAgfSwKICAgICAgICBhZGRCb2R5OiBmdW5jdGlvbihzb2FwT2JqZWN0KSB7CiAgICAgICAgICAgIHRoaXMuYm9kaWVzLnB1c2goc29hcE9iamVjdCk7CiAgICAgICAgfSwKICAgICAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBzb2FwRW52ID0gbmV3IFNPQVBPYmplY3QodGhpcy5wcmVmaXggKyAnOkVudmVsb3BlJyk7CiAgICAgICAgICAgIC8vQWRkIGF0dHJpYnV0ZXMKICAgICAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLmF0dHJpYnV0ZXMpIHsKICAgICAgICAgICAgICAgIHNvYXBFbnYuYXR0cihuYW1lLCB0aGlzLmF0dHJpYnV0ZXNbbmFtZV0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vQWRkIEhlYWRlcnMKICAgICAgICAgICAgaWYgKHRoaXMuaGVhZGVycy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICB2YXIgc29hcEhlYWRlciA9IHNvYXBFbnYubmV3Q2hpbGQodGhpcy5wcmVmaXggKyAnOkhlYWRlcicpOwogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmhlYWRlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBzb2FwSGVhZGVyLmFwcGVuZENoaWxkKHRoaXMuaGVhZGVyc1tpXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy9BZGQgQm9kaWVzCiAgICAgICAgICAgIGlmICh0aGlzLmJvZGllcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICB2YXIgc29hcEJvZHkgPSBzb2FwRW52Lm5ld0NoaWxkKHRoaXMucHJlZml4ICsgJzpCb2R5Jyk7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMuYm9kaWVzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgc29hcEJvZHkuYXBwZW5kQ2hpbGQodGhpcy5ib2RpZXNbal0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIENoZWNrIGZvciBtYWluIE5TIG92ZXIgaGVyZS4uLgogICAgICAgICAgICBpZiAoIXNvYXBFbnYuYXR0cigneG1sbnM6JyArIHRoaXMucHJlZml4KSkgewogICAgICAgICAgICAgICAgc29hcEVudi5hZGROYW1lc3BhY2UodGhpcy5wcmVmaXgsIHRoaXMuc29hcENvbmZpZy5uYW1lc3BhY2VVUkwpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghc29hcEVudi5hdHRyKCd4bWxuczp4c2knKSkgewogICAgICAgICAgICAgICAgc29hcEVudi5hZGROYW1lc3BhY2UoJ3hzaScsICdodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZScpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghc29hcEVudi5hdHRyKCd4bWxuczp4c2QnKSkgewogICAgICAgICAgICAgICAgc29hcEVudi5hZGROYW1lc3BhY2UoJ3hzZCcsICdodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYScpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAnPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4nICsgc29hcEVudi50b1N0cmluZygpOwogICAgICAgIH0sCiAgICAgICAgc2VuZDogZnVuY3Rpb24ob3B0aW9ucykgewogICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgICAgICAgIGlmICghdGhpcy5zb2FwQ29uZmlnKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNvYXBDb25maWcgPSAob3B0aW9ucy5zb2FwMTIpID8gU09BUFRvb2wuU09BUDEyIDogU09BUFRvb2wuU09BUDExOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBjb250ZW50VHlwZSA9IHRoaXMuc29hcENvbmZpZy50eXBlOwogICAgICAgICAgICBpZiAoY29udGVudFR5cGUgPT09IFNPQVBUb29sLlNPQVAxMS50eXBlICYmICEhb3B0aW9ucy5hY3Rpb24pIHsKICAgICAgICAgICAgICAgIG9wdGlvbnMuaGVhZGVycy5TT0FQQWN0aW9uID0gb3B0aW9ucy5hY3Rpb247CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbG9nKCdqcXVlcnkuc29hcCAtIGJlZm9yZVNlbmQ6JywgdGhpcy50b1N0cmluZygpKTsKICAgICAgICAgICAgcmV0dXJuICQuYWpheCh7CiAgICAgICAgICAgICAgICB0eXBlOiAiUE9TVCIsCiAgICAgICAgICAgICAgICBjb250ZXh0OiBvcHRpb25zLmNvbnRleHQsCiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiBvcHRpb25zLnN0YXR1c0NvZGUsCiAgICAgICAgICAgICAgICB1cmw6IG9wdGlvbnMudXJsLAogICAgICAgICAgICAgICAgYXN5bmM6IG9wdGlvbnMuYXN5bmMsCiAgICAgICAgICAgICAgICBoZWFkZXJzOiBvcHRpb25zLmhlYWRlcnMsCiAgICAgICAgICAgICAgICAvLwljcm9zc0RvbWFpbjogdHJ1ZSwKICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAieG1sIiwKICAgICAgICAgICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSwKICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMudG9TdHJpbmcoKSwKICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBjb250ZW50VHlwZSArICI7IGNoYXJzZXQ9VVRGLTgiLAogICAgICAgICAgICAgICAgLy8gc2Vjb25kIGF0dGVtcHQgdG8gZ2V0IHNvbWUgcHJvZ3JlcyBpbmZvIChidXQgc3RpbGwgYSBubyBnbykKICAgICAgICAgICAgICAgIC8vIEkgc3RpbGwga2VlcCB0aGlzIGluIHRobywgd2UgbWlnaHQgc2VlIGl0IHdvcmtpbmcgb25lIGRheSB3aGVuIGJyb3dzZXJzIG1hdHVyZS4uLgogICAgICAgICAgICAgICAgLyoKICAgICAgICAgICAgICAgICAvL1dSVCBpc3N1ZSAjODAgKGh0dHBzOi8vZ2l0aHViLmNvbS9kb2VkamUvanF1ZXJ5LnNvYXAvaXNzdWVzLzgwKSBjb21tZW50aW5nIG91dCB0aGUgeGhyIGZ1bmN0aW9uIGJlbG93IGZvciBJRTggYW5kIElFOSBjb21wYXRhYmlsaXR5LiBJc3N1ZSBleGlzdHMgd2hlbiB1c2VkIGFsb25nc2lkZSBhbnkgc2NyaXB0IHRoYXQgbW9kaWZpZXMgdGhlIFhNTEh0dHBSZXF1ZXN0IG9iamVjdCBsaWtlLCBmb3IgZXhhbXBsZSwgdGhlIHhkb21haW4gb3IgeGhvb2sgbGlicmFyaWVzLiBUaGlzIGNvdWxkIGJlIGV4cGxpY2l0bHkgZW5hYmxlZCBieSB1c2VycyBvbiBhIHBlci1jYXNlIGJhc2lzIGlmIGl0IGlzIG1lbnRpb25lZCBzb21ld2hlcmUgaW4gdGhlIHJlYWRtZS5tZCBmaWxlLgogICAgICAgICAgICAgICAgIHhocjogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgdmFyIHhociA9IG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgICAgICAgICAgICB4aHIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoInByb2dyZXNzIiwgZnVuY3Rpb24oZXZ0KSB7CiAgICAgICAgICAgICAgICAgaWYgKGV2dC5sZW5ndGhDb21wdXRhYmxlKSB7CiAgICAgICAgICAgICAgICAgdmFyIHByb2dyZXNzID0gZXZ0LmxvYWRlZCAvIGV2dC50b3RhbDsKICAgICAgICAgICAgICAgICBsb2coImpxdWVyeS5zb2FwIC0gcHJvZ3Jlc3MgdXA6ICIsIChwcm9ncmVzcyAqIDEwMCkgKyAnJSB0b3RhbDogJyArIGV2dC50b3RhbCk7CiAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgIH0sIGZhbHNlKTsKICAgICAgICAgICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLCBmdW5jdGlvbihldnQpIHsKICAgICAgICAgICAgICAgICBpZiAoZXZ0Lmxlbmd0aENvbXB1dGFibGUpIHsKICAgICAgICAgICAgICAgICB2YXIgcHJvZ3Jlc3MgPSBldnQubG9hZGVkIC8gZXZ0LnRvdGFsOwogICAgICAgICAgICAgICAgIGxvZygianF1ZXJ5LnNvYXAgLSBwcm9ncmVzcyBkb3duOiAiLCAocHJvZ3Jlc3MgKiAxMDApICsgJyUgdG90YWw6ICcgKyBldnQudG90YWwpOwogICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICB9LCBmYWxzZSk7CgogICAgICAgICAgICAgICAgIHJldHVybiB4aHI7CiAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAqLwogICAgICAgICAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCQuaXNGdW5jdGlvbihvcHRpb25zLmJlZm9yZVNlbmQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmJlZm9yZVNlbmQuY2FsbChvcHRpb25zLmNvbnRleHQsIHNlbGYpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfTsKCiAgICAvLyBTT0FQT2JqZWN0IC0gYW4gYWJzdHJhY3Rpb24gbGF5ZXIgdG8gYnVpbGQgU09BUCBPYmplY3RzLgogICAgdmFyIFNPQVBPYmplY3QgPSBmdW5jdGlvbihuYW1lKSB7CiAgICAgICAgdGhpcy50eXBlT2YgPSAnU09BUE9iamVjdCc7CiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTsKICAgICAgICB0aGlzLm5zID0ge307CiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0ge307CiAgICAgICAgdGhpcy5fcGFyZW50ID0gbnVsbDsKICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107CiAgICAgICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBTT0FQT2JqZWN0LnByb3RvdHlwZSA9IHsKICAgICAgICBhdHRyOiBmdW5jdGlvbihuYW1lLCB2YWx1ZSkgewogICAgICAgICAgICBpZiAoISFuYW1lICYmICEhdmFsdWUgfHwgISFuYW1lICYmIHZhbHVlID09PSAiIikgewogICAgICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzW25hbWVdID0gdmFsdWU7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgICAgfSBlbHNlIGlmICghIW5hbWUpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZXNbbmFtZV07CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVzOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB2YWw6IGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdHRyKCd4c2k6bmlsJykgPT09ICd0cnVlJykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gbnVsbCkgewogICAgICAgICAgICAgICAgdGhpcy5hdHRyKCJ4c2k6bmlsIiwidHJ1ZSIpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYWRkTmFtZXNwYWNlOiBmdW5jdGlvbihuYW1lLCB1cmwpIHsKICAgICAgICAgICAgdGhpcy5uc1tuYW1lXSA9IHVybDsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfSwKICAgICAgICBhcHBlbmRDaGlsZDogZnVuY3Rpb24ob2JqKSB7CiAgICAgICAgICAgIG9iai5fcGFyZW50ID0gdGhpczsKICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKG9iaik7CiAgICAgICAgICAgIHJldHVybiBvYmo7CiAgICAgICAgfSwKICAgICAgICBuZXdDaGlsZDogZnVuY3Rpb24obmFtZSkgewogICAgICAgICAgICB2YXIgb2JqID0gbmV3IFNPQVBPYmplY3QobmFtZSk7CiAgICAgICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQob2JqKTsKICAgICAgICAgICAgcmV0dXJuIG9iajsKICAgICAgICB9LAogICAgICAgIGFkZFBhcmFtZXRlcjogZnVuY3Rpb24obmFtZSwgdmFsdWUpIHsKICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyBTT0FQT2JqZWN0KG5hbWUpOwogICAgICAgICAgICBvYmoudmFsKHZhbHVlKTsKICAgICAgICAgICAgdGhpcy5hcHBlbmRDaGlsZChvYmopOwogICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICB9LAogICAgICAgIGhhc0NoaWxkcmVuOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA+IDApID8gdHJ1ZSA6IGZhbHNlOwogICAgICAgIH0sCiAgICAgICAgZmluZDogZnVuY3Rpb24obmFtZSkgewogICAgICAgICAgICBpZiAodGhpcy5uYW1lID09PSBuYW1lKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmNoaWxkcmVuW2ldLmZpbmQobmFtZSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZW5kOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50KCk7CiAgICAgICAgfSwKICAgICAgICBwYXJlbnQ6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50OwogICAgICAgIH0sCiAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgb3V0ID0gW10sCiAgICAgICAgICAgICAgICB4bWxDaGFyTWFwID0gewogICAgICAgICAgICAgICAgICAgICc8JzogJyZsdDsnLAogICAgICAgICAgICAgICAgICAgICc+JzogJyZndDsnLAogICAgICAgICAgICAgICAgICAgICcmJzogJyZhbXA7JywKICAgICAgICAgICAgICAgICAgICAnIic6ICcmcXVvdDsnLAogICAgICAgICAgICAgICAgICAgICInIjogJyZhcG9zOycKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBlbmNvZGVkVmFsdWU7CiAgICAgICAgICAgIG91dC5wdXNoKCc8Jyt0aGlzLm5hbWUpOwogICAgICAgICAgICAvL05hbWVzcGFjZXMKICAgICAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLm5zKSB7CiAgICAgICAgICAgICAgICBvdXQucHVzaCgnIHhtbG5zOicgKyBuYW1lICsgJz0iJyArIHRoaXMubnNbbmFtZV0gKyAnIicpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vTm9kZSBBdHRyaWJ1dGVzCiAgICAgICAgICAgIGZvciAodmFyIGF0dHIgaW4gdGhpcy5hdHRyaWJ1dGVzKSB7CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHRoaXMuYXR0cmlidXRlc1thdHRyXSkgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goJyAnICsgYXR0ciArICc9IicgKyB0aGlzLmF0dHJpYnV0ZXNbYXR0cl0gKyAnIicpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIG91dC5wdXNoKCc+Jyk7CiAgICAgICAgICAgIC8vTm9kZSBjaGlsZHJlbgogICAgICAgICAgICBpZih0aGlzLmhhc0NoaWxkcmVuKCkpIHsKICAgICAgICAgICAgICAgIGZvcih2YXIgY1BvcyBpbiB0aGlzLmNoaWxkcmVuKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGNPYmogPSB0aGlzLmNoaWxkcmVuW2NQb3NdOwogICAgICAgICAgICAgICAgICAgIGlmICgodHlwZW9mKGNPYmopID09PSAnb2JqZWN0JykgJiYgKGNPYmoudHlwZU9mID09PSAnU09BUE9iamVjdCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKGNPYmoudG9TdHJpbmcoKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vTm9kZSBWYWx1ZQogICAgICAgICAgICBpZiAodGhpcy52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHRoaXMudmFsdWUpID09PSAnc3RyaW5nJykgewogICAgICAgICAgICAgICAgICAgIC8vCWVuY29kZWRWYWx1ZSA9IHRoaXMudmFsdWUubWF0Y2goLzwhXFtDREFUQVxbLio/XF1cXT4vKSA/CiAgICAgICAgICAgICAgICAgICAgZW5jb2RlZFZhbHVlID0gdGhpcy52YWx1ZS5tYXRjaCgvPCFcW0NEQVRBXFtcc1xTXF0qXF0+LykgPwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlIDoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZS5yZXBsYWNlKC9bPD4mIiddL2csIGZ1bmN0aW9uIChjaCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHhtbENoYXJNYXBbY2hdOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKHRoaXMudmFsdWUpID09PSAnbnVtYmVyJykgewogICAgICAgICAgICAgICAgICAgIGVuY29kZWRWYWx1ZSA9IHRoaXMudmFsdWUudG9TdHJpbmcoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIG91dC5wdXNoKGVuY29kZWRWYWx1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy9DbG9zZSBUYWcKICAgICAgICAgICAgb3V0LnB1c2goJzwvJyArIHRoaXMubmFtZSArICc+Jyk7CiAgICAgICAgICAgIHJldHVybiBvdXQuam9pbignJyk7CiAgICAgICAgfQogICAgfTsKCiAgICAvL1NvYXAgcmVzcG9uc2UgLSB0aGlzIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBjYWxsYmFjayBmcm9tIFNPQVBFbnZlbG9wZS5zZW5kCiAgICB2YXIgU09BUFJlc3BvbnNlID0gZnVuY3Rpb24oc3RhdHVzLCB4aHIpIHsKICAgICAgICB0aGlzLnR5cGVPZiA9ICJTT0FQUmVzcG9uc2UiOwogICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzOwogICAgICAgIHRoaXMuaGVhZGVycyA9IHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKS5zcGxpdCgnXG4nKTsKICAgICAgICB0aGlzLmh0dHBDb2RlID0geGhyLnN0YXR1czsKICAgICAgICB0aGlzLmh0dHBUZXh0ID0geGhyLnN0YXR1c1RleHQ7CiAgICAgICAgdGhpcy5jb250ZW50ID0gKHhoci5yZXNwb25zZVhNTCA9PT0gdW5kZWZpbmVkKSA/IHhoci5yZXNwb25zZVRleHQgOiB4aHIucmVzcG9uc2VYTUw7CiAgICAgICAgdGhpcy50b1N0cmluZyA9IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5jb250ZW50ID09PSAnc3RyaW5nJykgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udGVudDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJC5pc1hNTERvYyh0aGlzLmNvbnRlbnQpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gU09BUFRvb2wuZG9tMnN0cmluZyh0aGlzLmNvbnRlbnQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiVW5leHBlY3RlZCBDb250ZW50OiAiICsgJC50eXBlKHRoaXMuY29udGVudCkpOwogICAgICAgIH07CiAgICAgICAgdGhpcy50b1hNTCA9IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGlmICgkLmlzWE1MRG9jKHRoaXMuY29udGVudCkpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuICQucGFyc2VYTUwodGhpcy5jb250ZW50KTsKICAgICAgICB9OwogICAgICAgIHRoaXMudG9KU09OID0gZnVuY3Rpb24gKG5vZGVSb290KSB7CiAgICAgICAgICAgIGlmICgkLnhtbDJqc29uKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJC54bWwyanNvbih0aGlzLmNvbnRlbnQsIG5vZGVSb290KTsKICAgICAgICAgICAgfQogICAgICAgICAgICB3YXJuKCJqUXVlcnkuc29hcCAtIE1pc3NpbmcgSlF1ZXJ5IFBsdWdpbiAneG1sMmpzb24nLCBpbmZvIGF0OiBodHRwczovL2dpdGh1Yi5jb20vZG9lZGplL2pxdWVyeS5zb2FwI2RlcGVuZGVuY2llcyIpOwogICAgICAgIH07CiAgICB9OwoKICAgIC8vU2luZ2xldG9uIFNPQVAgVG9vbAogICAgdmFyIFNPQVBUb29sID0gewogICAgICAgIFNPQVAxMTogewogICAgICAgICAgICB0eXBlOiAndGV4dC94bWwnLAogICAgICAgICAgICBuYW1lc3BhY2VVUkw6ICdodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy9zb2FwL2VudmVsb3BlLycKICAgICAgICB9LAogICAgICAgIFNPQVAxMjogewogICAgICAgICAgICB0eXBlOiAnYXBwbGljYXRpb24vc29hcCt4bWwnLAogICAgICAgICAgICBuYW1lc3BhY2VVUkw6ICdodHRwOi8vd3d3LnczLm9yZy8yMDAzLzA1L3NvYXAtZW52ZWxvcGUnCiAgICAgICAgfSwKICAgICAgICBwcm9jZXNzRGF0YTogZnVuY3Rpb24ob3B0aW9ucykgewogICAgICAgICAgICB2YXIgc29hcE9iamVjdDsKICAgICAgICAgICAgaWYgKCQudHlwZShvcHRpb25zLmRhdGEpID09PSAic3RyaW5nIikgewogICAgICAgICAgICAgICAgLy8gaWYgZGF0YSBpcyBYTUwgc3RyaW5nLCBwYXJzZSB0byBYTUwgRE9NCiAgICAgICAgICAgICAgICAvLyBlbnN1cmUgdGhhdCBzdHJpbmcgaXMgbm90IGVtcHR5IGFuZCBjb250YWlucyBtb3JlIHRoYW4gd2hpdGVzcGFjZQogICAgICAgICAgICAgICAgaWYgKC9cUy8udGVzdChvcHRpb25zLmRhdGEpKSB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gJC5wYXJzZVhNTChvcHRpb25zLmRhdGEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkLmlzWE1MRG9jKG9wdGlvbnMuZGF0YSkpIHsKICAgICAgICAgICAgICAgIC8vIGlmIGRhdGEgaXMgWE1MIERPTSwgcGFyc2UgdG8gU09BUE9iamVjdAogICAgICAgICAgICAgICAgc29hcE9iamVjdCA9IFNPQVBUb29sLmRvbTJzb2FwKG9wdGlvbnMuZGF0YS5maXJzdENoaWxkKTsKICAgICAgICAgICAgfSBlbHNlIGlmICgkLmlzQXJyYXkob3B0aW9ucy5kYXRhKSkgewogICAgICAgICAgICAgICAgLy8gaWYgZGF0YSBpcyBhbiBBcnJheSwgYXN1bWUgU09BUDo6TGl0ZQogICAgICAgICAgICAgICAgc29hcE9iamVjdCA9IFNPQVBUb29sLmFycmF5MnNvYXAob3B0aW9ucyk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoJC5pc1BsYWluT2JqZWN0KG9wdGlvbnMuZGF0YSkpIHsKICAgICAgICAgICAgICAgIC8vIGlmIGRhdGEgaXMgSlNPTiwgcGFyc2UgdG8gU09BUE9iamVjdAogICAgICAgICAgICAgICAgc29hcE9iamVjdCA9IFNPQVBUb29sLmpzb24yc29hcChvcHRpb25zLm5hbWUsIG9wdGlvbnMuZGF0YSwgb3B0aW9ucy5wcmVmaXgpOwogICAgICAgICAgICB9IGVsc2UgaWYgKCQuaXNGdW5jdGlvbihvcHRpb25zLmRhdGEpKSB7CiAgICAgICAgICAgICAgICAvLyBpZiBkYXRhIGlzIGZ1bmN0aW9uLCB0aGUgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhIFNPQVBPYmplY3QKICAgICAgICAgICAgICAgIHNvYXBPYmplY3QgPSBvcHRpb25zLmRhdGEuY2FsbChvcHRpb25zLmNvbnRleHQsIFNPQVBPYmplY3QpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBzb2FwT2JqZWN0OwogICAgICAgIH0sCiAgICAgICAganNvbjJzb2FwOiBmdW5jdGlvbiAobmFtZSwgcGFyYW1zLCBwcmVmaXgsIHBhcmVudE5vZGUpIHsKICAgICAgICAgICAgdmFyIHNvYXBPYmplY3Q7CiAgICAgICAgICAgIHZhciBjaGlsZE9iamVjdDsKICAgICAgICAgICAgaWYgKHBhcmFtcyA9PT0gbnVsbCkgewogICAgICAgICAgICAgICAgc29hcE9iamVjdCA9IG5ldyBTT0FQT2JqZWN0KHByZWZpeCtuYW1lKTsKICAgICAgICAgICAgICAgIHNvYXBPYmplY3QuYXR0cigneHNpOm5pbCcsICd0cnVlJyk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhcmFtcyA9PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgLy8gYWRkZWQgYnkgRFQgLSBjaGVjayBpZiBvYmplY3QgaXMgaW4gZmFjdCBhbiBBcnJheSBhbmQgdHJlYXQgYWNjb3JkaW5nbHkKICAgICAgICAgICAgICAgIGlmKHBhcmFtcy5jb25zdHJ1Y3Rvci50b1N0cmluZygpLmluZGV4T2YoIkFycmF5IikgPiAtMSkgeyAvLyB0eXBlIGlzIGFycmF5CiAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICBjaGlsZE9iamVjdCA9IHRoaXMuanNvbjJzb2FwKG5hbWUsIHBhcmFtc1tpXSwgcHJlZml4LCBwYXJlbnROb2RlKTsKICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZChjaGlsZE9iamVjdCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJhbXMuY29uc3RydWN0b3IudG9TdHJpbmcoKS5pbmRleE9mKCJTdHJpbmciKSA+IC0xKSB7IC8vIHR5cGUgaXMgc3RyaW5nCiAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlIFN0cmluZyBvYmplY3RzIGFzIHN0cmluZyBwcmltaXRpdmUgdmFsdWUKICAgICAgICAgICAgICAgICAgICBzb2FwT2JqZWN0ID0gbmV3IFNPQVBPYmplY3QocHJlZml4K25hbWUpOwogICAgICAgICAgICAgICAgICAgIHNvYXBPYmplY3QudmFsKHBhcmFtcyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcmFtcy5jb25zdHJ1Y3Rvci50b1N0cmluZygpLmluZGV4T2YoIkRhdGUiKSA+IC0xKSB7IC8vIHR5cGUgaXMgRGF0ZQogICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBEYXRlIG9iamVjdHMgYXMgSVNPODYwMSBmb3JtYXRlZCB2YWx1ZQogICAgICAgICAgICAgICAgICAgIHNvYXBPYmplY3QgPSBuZXcgU09BUE9iamVjdChwcmVmaXgrbmFtZSk7CiAgICAgICAgICAgICAgICAgICAgc29hcE9iamVjdC52YWwocGFyYW1zLnRvSVNPU3RyaW5nKCkpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBzb2FwT2JqZWN0ID0gbmV3IFNPQVBPYmplY3QocHJlZml4K25hbWUpOwogICAgICAgICAgICAgICAgICAgIGZvcih2YXIgeSBpbiBwYXJhbXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRPYmplY3QgPSB0aGlzLmpzb24yc29hcCh5LCBwYXJhbXNbeV0sIHByZWZpeCwgc29hcE9iamVjdCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZE9iamVjdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc29hcE9iamVjdC5hcHBlbmRDaGlsZChjaGlsZE9iamVjdCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhcmFtcyA9PSAnYm9vbGVhbicpIHsKICAgICAgICAgICAgICAgIHNvYXBPYmplY3QgPSBuZXcgU09BUE9iamVjdChwcmVmaXgrbmFtZSk7CiAgICAgICAgICAgICAgICBzb2FwT2JqZWN0LnZhbChwYXJhbXMgPyAndHJ1ZScgOiAnZmFsc2UnKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNvYXBPYmplY3QgPSBuZXcgU09BUE9iamVjdChwcmVmaXgrbmFtZSk7CiAgICAgICAgICAgICAgICBzb2FwT2JqZWN0LnZhbChwYXJhbXMpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBzb2FwT2JqZWN0OwogICAgICAgIH0sCiAgICAgICAgZG9tMnNvYXA6IGZ1bmN0aW9uICh4bWxkb20pIHsKICAgICAgICAgICAgdmFyIHdoaXRlc3BhY2UgPSAvXlxzKyQvOwogICAgICAgICAgICB2YXIgc29hcE9iamVjdCA9IG5ldyBTT0FQT2JqZWN0KHhtbGRvbS5ub2RlTmFtZSk7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeG1sZG9tLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGUgPSB4bWxkb20uYXR0cmlidXRlc1tpXTsKICAgICAgICAgICAgICAgIHNvYXBPYmplY3QuYXR0cihhdHRyaWJ1dGUubmFtZSwgYXR0cmlidXRlLnZhbHVlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHhtbGRvbS5jaGlsZE5vZGVzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSB4bWxkb20uY2hpbGROb2Rlc1tqXTsKICAgICAgICAgICAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PT0gMSkgewogICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZE9iamVjdCA9IFNPQVBUb29sLmRvbTJzb2FwKGNoaWxkKTsKICAgICAgICAgICAgICAgICAgICBzb2FwT2JqZWN0LmFwcGVuZENoaWxkKGNoaWxkT2JqZWN0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PT0gMyAmJiAhd2hpdGVzcGFjZS50ZXN0KGNoaWxkLm5vZGVWYWx1ZSkpIHsKICAgICAgICAgICAgICAgICAgICBzb2FwT2JqZWN0LnZhbChjaGlsZC5ub2RlVmFsdWUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09PSA0KXsKICAgICAgICAgICAgICAgICAgICBzb2FwT2JqZWN0LnZhbCgnPCFbQ0RBVEFbJyArIGNoaWxkLm5vZGVWYWx1ZSArICddXT4nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gc29hcE9iamVjdDsKICAgICAgICB9LAogICAgICAgIGFycmF5MnNvYXA6IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgICAgICAgICAgc29hcE9iamVjdCA9IG5ldyBTT0FQT2JqZWN0KG9wdGlvbnMubmFtZSk7CiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBvcHRpb25zLmRhdGEubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgICAgICAgICBpZiAoJC5pc0FycmF5KG9wdGlvbnMuZGF0YVtpbmRleF0pKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld19pdGVtID0gc29hcE9iamVjdC5uZXdDaGlsZCgnc29hcGVuYzpBcnJheScpOwogICAgICAgICAgICAgICAgICAgIG5ld19pdGVtLmF0dHIoJ3NvYXBlbmM6YXJyYXlUeXBlJywgJ3hzZDpzdHJpbmdbJyArIChvcHRpb25zLmRhdGFbaW5kZXhdLmxlbmd0aCkgKyAnXScpOwogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGl0ZW0gPSAwOyBpdGVtIDwgb3B0aW9ucy5kYXRhW2luZGV4XS5sZW5ndGg7IGl0ZW0rKykgewogICAgICAgICAgICAgICAgICAgICAgICBuZXdfaXRlbS5uZXdDaGlsZCgnaXRlbScpLmF0dHIoJ3R5cGUnLCAneHNkOnN0cmluZycpLnZhbChvcHRpb25zLmRhdGFbaW5kZXhdW2l0ZW1dKS5lbmQoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHNvYXBPYmplY3QubmV3Q2hpbGQoJ2MtZ2Vuc3ltJyArIGluZGV4KS5hdHRyKCd0eXBlJywgJ3hzZDpzdHJpbmcnKS52YWwob3B0aW9ucy5kYXRhW2luZGV4XSkuZW5kKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHNvYXBPYmplY3Q7CiAgICAgICAgfSwKICAgICAgICBkb20yc3RyaW5nOiBmdW5jdGlvbihkb20pIHsKICAgICAgICAgICAgaWYgKHR5cGVvZiBYTUxTZXJpYWxpemVyIT09InVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd2luZG93LlhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyhkb20pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGRvbS54bWw7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNyZWF0ZVdTUzogZnVuY3Rpb24od3NzVmFsdWVzKSB7CiAgICAgICAgICAgIGlmICAoISF3c3NWYWx1ZXMudXNlcm5hbWUgJiYgISF3c3NWYWx1ZXMucGFzc3dvcmQpIHsKICAgICAgICAgICAgICAgIHZhciB3c3NDb25zdCA9IHsKICAgICAgICAgICAgICAgICAgICBzZWN1cml0eTogIndzc2U6U2VjdXJpdHkiLAogICAgICAgICAgICAgICAgICAgIHNlY3VyaXR5TlM6ICJodHRwOi8vZG9jcy5vYXNpcy1vcGVuLm9yZy93c3MvMjAwNC8wMS9vYXNpcy0yMDA0MDEtd3NzLXdzc2VjdXJpdHktc2VjZXh0LTEuMC54c2QiLAogICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lVG9rZW46ICJ3c3NlOlVzZXJuYW1lVG9rZW4iLAogICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lVG9rZW5OUzogImh0dHA6Ly9kb2NzLm9hc2lzLW9wZW4ub3JnL3dzcy8yMDA0LzAxL29hc2lzLTIwMDQwMS13c3Mtd3NzZWN1cml0eS11dGlsaXR5LTEuMC54c2QiLAogICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAid3NzZTpVc2VybmFtZSIsCiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWVUeXBlOiAiaHR0cDovL2RvY3Mub2FzaXMtb3Blbi5vcmcvd3NzLzIwMDQvMDEvb2FzaXMtMjAwNDAxLXdzcy13c3NlY3VyaXR5LXNlY2V4dC0xLjAueHNkIiwKICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogIndzc2U6UGFzc3dvcmQiLAogICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkVHlwZTogImh0dHA6Ly9kb2NzLm9hc2lzLW9wZW4ub3JnL3dzcy8yMDA0LzAxL29hc2lzLTIwMDQwMS13c3MtdXNlcm5hbWUtdG9rZW4tcHJvZmlsZS0xLjAjUGFzc3dvcmRUZXh0IiwKICAgICAgICAgICAgICAgICAgICBub25jZTogIndzc2U6Tm9uY2UiLAogICAgICAgICAgICAgICAgICAgIG5vbmNlVHlwZTogImh0dHA6Ly9kb2NzLm9hc2lzLW9wZW4ub3JnL3dzcy8yMDA0LzAxL29hc2lzLTIwMDQwMS13c3Mtd3NzZWN1cml0eS1zZWNleHQtMS4wLnhzZCIsCiAgICAgICAgICAgICAgICAgICAgd3N1Q3JlYXRlZDogIndzdTpDcmVhdGVkIiwKICAgICAgICAgICAgICAgICAgICB3c3VDcmVhdGVkVHlwZTogImh0dHA6Ly9kb2NzLm9hc2lzLW9wZW4ub3JnL3dzcy8yMDA0LzAxL29hc2lzLTIwMDQwMS13c3Mtd3NzZWN1cml0eS11dGlsaXR5LTEuMC54c2QiCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdmFyIFdTU09iaiA9IG5ldyBTT0FQT2JqZWN0KHdzc0NvbnN0LnNlY3VyaXR5KQogICAgICAgICAgICAgICAgICAgIC5hZGROYW1lc3BhY2UoJ3dzc2UnLCB3c3NDb25zdC5zZWN1cml0eU5TKQogICAgICAgICAgICAgICAgICAgIC5hZGROYW1lc3BhY2UoJ3dzdScsIHdzc0NvbnN0LnVzZXJuYW1lVG9rZW5OUykKICAgICAgICAgICAgICAgICAgICAubmV3Q2hpbGQod3NzQ29uc3QudXNlcm5hbWVUb2tlbikKICAgICAgICAgICAgICAgICAgICAubmV3Q2hpbGQod3NzQ29uc3QudXNlcm5hbWUpCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ1R5cGUnLCB3c3NDb25zdC51c2VybmFtZVR5cGUpCiAgICAgICAgICAgICAgICAgICAgLnZhbCh3c3NWYWx1ZXMudXNlcm5hbWUpCiAgICAgICAgICAgICAgICAgICAgLmVuZCgpCiAgICAgICAgICAgICAgICAgICAgLm5ld0NoaWxkKHdzc0NvbnN0LnBhc3N3b3JkKQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCdUeXBlJywgd3NzQ29uc3QucGFzc3dvcmRUeXBlKQogICAgICAgICAgICAgICAgICAgIC52YWwod3NzVmFsdWVzLnBhc3N3b3JkKQogICAgICAgICAgICAgICAgICAgIC5lbmQoKQogICAgICAgICAgICAgICAgICAgIC5lbmQoKTsKICAgICAgICAgICAgICAgIHZhciB1c2VyVG9rZW5PYmogPSBXU1NPYmouZmluZCh3c3NDb25zdC51c2VybmFtZVRva2VuKTsKICAgICAgICAgICAgICAgIGlmICghIXdzc1ZhbHVlcy5ub25jZSkgewogICAgICAgICAgICAgICAgICAgIHVzZXJUb2tlbk9iagogICAgICAgICAgICAgICAgICAgICAgICAubmV3Q2hpbGQod3NzQ29uc3Qubm9uY2UpCiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdUeXBlJywgd3NzQ29uc3Qubm9uY2VUeXBlKQogICAgICAgICAgICAgICAgICAgICAgICAudmFsKHdzc1ZhbHVlcy5ub25jZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoISF3c3NWYWx1ZXMuY3JlYXRlZCkgewogICAgICAgICAgICAgICAgICAgIHVzZXJUb2tlbk9iagogICAgICAgICAgICAgICAgICAgICAgICAubmV3Q2hpbGQod3NzQ29uc3Qud3N1Q3JlYXRlZCkKICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ1R5cGUnLCB3c3NDb25zdC53c3VDcmVhdGVkVHlwZSkKICAgICAgICAgICAgICAgICAgICAgICAgLnZhbCh3c3NWYWx1ZXMuY3JlYXRlZCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gV1NTT2JqOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBmYWxsYmFja0RlcHJlY2F0ZWQ6IGZ1bmN0aW9uKGNvbmZpZykgewogICAgICAgICAgICAvLyBmYWxsYmFja3MgZm9yIGNoYW5nZWQgcHJvcGVydGllczogKHRoZSBvbGQgbmFtZXMgd2lsbCBkZXByZWNhdGUgYXQgdmVyc2lvbiAyLjAuMCEpCiAgICAgICAgICAgIHZhciBkZXByZWNhdGVkID0gewogICAgICAgICAgICAgICAgLy8gdXNhZ2UgLT4gb2xkUGFyYW06ICduZXdQYXJhbScKICAgICAgICAgICAgICAgIG5hbWVzcGFjZVVybDogJ25hbWVzcGFjZVVSTCcsCiAgICAgICAgICAgICAgICByZXF1ZXN0OiAnYmVmb3JlU2VuZCcsCiAgICAgICAgICAgICAgICBwYXJhbXM6ICdkYXRhJwogICAgICAgICAgICB9OwogICAgICAgICAgICBmb3IgKHZhciBvbGRQYXJhbSBpbiBkZXByZWNhdGVkKSB7CiAgICAgICAgICAgICAgICB2YXIgbmV3UGFyYW0gPSBkZXByZWNhdGVkW29sZFBhcmFtXTsKICAgICAgICAgICAgICAgIGlmICghY29uZmlnW25ld1BhcmFtXSAmJiAhIWNvbmZpZ1tvbGRQYXJhbV0pIHsKICAgICAgICAgICAgICAgICAgICB3YXJuKCdqcXVlcnkuc29hcDogJyArIG9sZFBhcmFtICsgJyBpcyBkZXByZWNhdGVkLCB1c2UgJyArIG5ld1BhcmFtICsgJyBpbnN0ZWFkIScpOwogICAgICAgICAgICAgICAgICAgIGNvbmZpZ1tuZXdQYXJhbV0gPSBjb25maWdbb2xkUGFyYW1dOwogICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBjb25maWdbb2xkUGFyYW1dOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKICAgIGZ1bmN0aW9uIGxvZygpIHsKICAgICAgICBpZiAoZW5hYmxlTG9nZ2luZyAmJiB0eXBlb2YoY29uc29sZSk9PT0nb2JqZWN0JykgewogICAgICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKGNvbnNvbGUubG9nKSkgewogICAgICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFyZ3VtZW50c1swXSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiB3YXJuKCkgewogICAgICAgIGlmICh0eXBlb2YoY29uc29sZSk9PT0nb2JqZWN0JykgewogICAgICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKGNvbnNvbGUud2FybikpIHsKICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYXJndW1lbnRzWzBdKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gJC5zb2FwID0gc29hcDsKfSk7CgoKCgoKCgoKCgoKCgoKCgoKCi8qKgogKiBqUXVlcnkgcGx1Z2luIHRvIGNvbnZlcnQgYSBnaXZlbiAkLmFqYXggcmVzcG9uc2UgeG1sIG9iamVjdCB0byBqc29uLgogKgogKiBAZXhhbXBsZSB2YXIganNvbiA9ICQueG1sMmpzb24ocmVzcG9uc2UpOwogKi8KKGZ1bmN0aW9uICgpIHsKCiAgICAvLyBkZWZhdWx0IG9wdGlvbnMgYmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL0xlb25pZGFzLWZyb20tWElWL25vZGUteG1sMmpzCiAgICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7CiAgICAgICAgYXR0cmtleTogJyQnLAogICAgICAgIGNoYXJrZXk6ICdfJywKICAgICAgICBub3JtYWxpemU6IGZhbHNlLAogICAgICAgIGV4cGxpY2l0QXJyYXk6IGZhbHNlCiAgICB9OwoKICAgIC8vIGV4dHJhY3RlZCBmcm9tIGpxdWVyeQogICAgZnVuY3Rpb24gcGFyc2VYTUwoZGF0YSkgewogICAgICAgIHZhciB4bWwsIHRtcDsKICAgICAgICBpZiAoIWRhdGEgfHwgdHlwZW9mIGRhdGEgIT09ICJzdHJpbmciKSB7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAod2luZG93LkRPTVBhcnNlcikgeyAvLyBTdGFuZGFyZAogICAgICAgICAgICAgICAgdG1wID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgICAgICAgeG1sID0gdG1wLnBhcnNlRnJvbVN0cmluZyhkYXRhLCAidGV4dC94bWwiKTsKICAgICAgICAgICAgfSBlbHNlIHsgLy8gSUUKICAgICAgICAgICAgICAgIHhtbCA9IG5ldyBBY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIik7CiAgICAgICAgICAgICAgICB4bWwuYXN5bmMgPSAiZmFsc2UiOwogICAgICAgICAgICAgICAgeG1sLmxvYWRYTUwoZGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIHhtbCA9IHVuZGVmaW5lZDsKICAgICAgICB9CiAgICAgICAgaWYgKCF4bWwgfHwgIXhtbC5kb2N1bWVudEVsZW1lbnQgfHwgeG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpLmxlbmd0aCkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgWE1MOiAiICsgZGF0YSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB4bWw7CiAgICB9CgogICAgZnVuY3Rpb24gbm9ybWFsaXplKHZhbHVlLCBvcHRpb25zKSB7CiAgICAgICAgaWYgKCEhb3B0aW9ucy5ub3JtYWxpemUpIHsKICAgICAgICAgICAgcmV0dXJuICh2YWx1ZSB8fCAnJykudHJpbSgpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdmFsdWU7CiAgICB9CgogICAgdmFyIGpzb25SZXN1bHQ7CiAgICB2YXIganNvblN0cmluZzsKICAgIGZ1bmN0aW9uIHhtbDJqc29uSW1wbCh4bWwsIHJvb3ROb2RlKSB7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeG1sLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIG5vZGUgPSB4bWwuY2hpbGROb2Rlc1tpXTsKICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEpIHsKCiAgICAgICAgICAgICAgICBpZiAoIShub2RlLmF0dHJpYnV0ZXMubGVuZ3RoID09PSAwICYmIG5vZGUuY2hpbGRFbGVtZW50Q291bnQgPT09IDApKSB7CiAgICAgICAgICAgICAgICAgICAgeG1sMmpzb25JbXBsKG5vZGUsIHJvb3ROb2RlKTsKICAgICAgICAgICAgICAgICAgICBpZihqc29uUmVzdWx0KXsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHZhciBuYW1lID0gbm9kZS5ub2RlTmFtZTsKICAgICAgICAgICAgICAgIGlmIChuYW1lLnRvTG93ZXJDYXNlKCkgIT0gKG5vZGUucHJlZml4ICsgIjoiICsgcm9vdE5vZGUpLnRvTG93ZXJDYXNlKCkpIHsKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGpzb25TdHJpbmcgPSAiIgogICAgICAgICAgICAgICAgaWYobm9kZS5jaGlsZE5vZGVzICYmIG5vZGUuY2hpbGROb2Rlcy5sZW5ndGggPiAwKXsKICAgICAgICAgICAgICAgICAgICBidWlsZEpzb24obm9kZS5jaGlsZE5vZGVzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGpzb25SZXN1bHQgPSBKU09OLnBhcnNlKCJ7IiArIGpzb25TdHJpbmcrICJ9Iik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgoKICAgIGZ1bmN0aW9uIGdldE9iamVjdEpzb24oaHRtbE5vZGVzKSB7CiAgICAgICAgdmFyIHRlbXAgPSAiIjsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGh0bWxOb2Rlcy5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBub2RlID0gaHRtbE5vZGVzLmNoaWxkTm9kZXNbaV07CiAgICAgICAgICAgIGlmICh0ZW1wICE9ICIiKSB7CiAgICAgICAgICAgICAgICB0ZW1wICs9ICIsICIKICAgICAgICAgICAgfQogICAgICAgICAgICB0ZW1wICs9IGFwcGVuZFRvSnNvblN0cmluZyhub2RlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICJ7IiArIHRlbXAgKyAifSIKICAgIH0KCiAgICBmdW5jdGlvbiBhcHBlbmRUb0pzb25TdHJpbmcobm9kZSl7CgogICAgICAgIHZhciB0ZXh0Q29udGVudCA9IGdldFR5cGUobm9kZS50ZXh0Q29udGVudCk7CiAgICAgICAgcmV0dXJuICJcIiIgKyBub2RlLmxvY2FsTmFtZSArICJcIjoiICsgdGV4dENvbnRlbnQ7CgogICAgfQoKICAgIGZ1bmN0aW9uIGdldFR5cGUodGV4dENvbnRlbnQpewogICAgICAgIGlmKCF0ZXh0Q29udGVudCl7CiAgICAgICAgICAgIHJldHVybiAiXCJcIiI7CiAgICAgICAgfQogICAgICAgIGlmICh0ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpID09ICJ0cnVlIiB8fAogICAgICAgICAgICB0ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpID09ICJmYWxzZSIpIHsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAobmV3IFJlZ0V4cCgnXlswLTldezAsMTB9JCcpLnRlc3QodGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKSkKICAgICAgICAgICAgJiYgdGV4dENvbnRlbnRbMF0gKyAiIiAhPSAiMCIpIHsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHRleHRDb250ZW50ID0gIlwiIiArIHRleHRDb250ZW50ICsgIlwiIgogICAgICAgIH0KICAgICAgICByZXR1cm4gdGV4dENvbnRlbnQ7CiAgICB9CgogICAgZnVuY3Rpb24gYnVpbGRKc29uKHNlYXJjaE5vZGVzKXsKCiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzZWFyY2hOb2Rlcy5sZW5ndGg7IGorKykgewoKICAgICAgICAgICAgdmFyIG5vZGUgPSBzZWFyY2hOb2Rlc1tqXTsKICAgICAgICAgICAgdmFyIHZhbHVlSXNPYmplY3Q7CgogICAgICAgICAgICBpZiAoIShub2RlLmF0dHJpYnV0ZXMubGVuZ3RoID09PSAwICYmIG5vZGUuY2hpbGRFbGVtZW50Q291bnQgPT09IDApKSB7CiAgICAgICAgICAgICAgICB2YWx1ZUlzT2JqZWN0ID0gZ2V0T2JqZWN0SnNvbihzZWFyY2hOb2Rlc1tqXSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChqc29uU3RyaW5nICE9ICIiKSB7CiAgICAgICAgICAgICAgICBqc29uU3RyaW5nICs9ICIsICIKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYodmFsdWVJc09iamVjdCl7CiAgICAgICAgICAgICAgICBpZihzZWFyY2hOb2Rlcy5sZW5ndGggPiAxKXsKICAgICAgICAgICAgICAgICAgICBpZihqc29uU3RyaW5nLmluZGV4T2YoIlsiKSA9PSAtMSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGpzb25TdHJpbmcgKz0gIlwiIiArIG5vZGUubG9jYWxOYW1lICsgIlwiOlsiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGpzb25TdHJpbmcgKz0gdmFsdWVJc09iamVjdDsKICAgICAgICAgICAgICAgICAgICBpZihqICsgMSA+PSBzZWFyY2hOb2Rlcy5sZW5ndGgpewogICAgICAgICAgICAgICAgICAgICAgICBqc29uU3RyaW5nICs9ICJdIjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgICAgIGpzb25TdHJpbmcgKz0gIlwiIiArIG5vZGUubG9jYWxOYW1lICsgIlwiOiIgKyB2YWx1ZUlzT2JqZWN0OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgdmFyIHRleHRDb250ZW50ID0gZ2V0VHlwZShub2RlLnRleHRDb250ZW50KTsKICAgICAgICAgICAgICAgIGpzb25TdHJpbmcgKz0gIlwiIiArIG5vZGUubG9jYWxOYW1lICsgIlwiOiIgKyB0ZXh0Q29udGVudDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy9pZiAocmVzdWx0Lmhhc093blByb3BlcnR5KG5hbWUpKSB7CiAgICAgICAgICAgIC8vICAgIC8vIEZvciByZXBlYXRpbmcgZWxlbWVudHMsIGNhc3QvcHJvbW90ZSB0aGUgbm9kZSB0byBhcnJheQogICAgICAgICAgICAvLyAgICB2YXIgdmFsID0gcmVzdWx0W25hbWVdOwogICAgICAgICAgICAvLyAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsKSkgewogICAgICAgICAgICAvLyAgICAgICAgdmFsID0gW3ZhbF07CiAgICAgICAgICAgIC8vICAgICAgICByZXN1bHRbbmFtZV0gPSB2YWw7CiAgICAgICAgICAgIC8vICAgIH0KICAgICAgICAgICAgLy8gICAgdmFsLnB1c2goY2hpbGQpOwogICAgICAgICAgICAvL30gZWxzZSB7CiAgICAgICAgICAgIC8vICAgIHJlc3VsdFtuYW1lXSA9IGNoaWxkOwogICAgICAgICAgICAvL30KICAgICAgICB9CiAgICB9CgoKICAgIGZ1bmN0aW9uIHhtbDJqc29uKHhtbCwgcm9vdE5vZGUpIHsKICAgICAgICBqc29uUmVzdWx0ID0gbnVsbDsKICAgICAgICBpZiAoIXhtbCkgewogICAgICAgICAgICByZXR1cm4geG1sOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZW9mIHhtbCA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgeG1sID0gcGFyc2VYTUwoeG1sKS5kb2N1bWVudEVsZW1lbnQ7CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlb2YgeG1sLmF0dHJpYnV0ZXMgPT09ICd1bmRlZmluZWQnIHx8IHhtbC5hdHRyaWJ1dGVzID09PSBudWxsKSB7CiAgICAgICAgICAgIHhtbDJqc29uSW1wbCh4bWwsIHJvb3ROb2RlKTsKICAgICAgICB9IGVsc2UgaWYgKHhtbC5hdHRyaWJ1dGVzICYmIHhtbC5hdHRyaWJ1dGVzLmxlbmd0aCA9PT0gMCAmJiB4bWwuY2hpbGRFbGVtZW50Q291bnQgPT09IDApIHsKICAgICAgICAgICAgbm9ybWFsaXplKHhtbC50ZXh0Q29udGVudCwgcm9vdE5vZGUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbDJqc29uSW1wbCh4bWwsIHJvb3ROb2RlKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBpc0VtcHR5T2JqKGpzb25SZXN1bHQpOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzRW1wdHlPYmoob2JqKSB7CiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHsKICAgICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSkKICAgICAgICAgICAgICAgIHJldHVybiBvYmo7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0cnVlICYmIEpTT04uc3RyaW5naWZ5KG9iaikgPT09IEpTT04uc3RyaW5naWZ5KHt9KSA/IG51bGwgOiBvYmo7CiAgICB9CgogICAgaWYgKHR5cGVvZiBqUXVlcnkgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgalF1ZXJ5LmV4dGVuZCh7IHhtbDJqc29uOiB4bWwyanNvbiB9KTsKICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IHhtbDJqc29uOwogICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgewogICAgICAgIHdpbmRvdy54bWwyanNvbiA9IHhtbDJqc29uOwogICAgfQoKCn0pKCk7CgoKCmRlZmluZSgianF1ZXJ5LXNvYXAiLCBbImpxdWVyeSJdLCBmdW5jdGlvbigpe30pOwoKLy8gICAgIFVuZGVyc2NvcmUuanMgMS44LjMKLy8gICAgIGh0dHA6Ly91bmRlcnNjb3JlanMub3JnCi8vICAgICAoYykgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzCi8vICAgICBVbmRlcnNjb3JlIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLgooZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4pe2Z1bmN0aW9uIHQodCxyLGUsdSxpLG8pe2Zvcig7aT49MCYmbz5pO2krPW4pe3ZhciBhPXU/dVtpXTppO2U9cihlLHRbYV0sYSx0KX1yZXR1cm4gZX1yZXR1cm4gZnVuY3Rpb24ocixlLHUsaSl7ZT1iKGUsaSw0KTt2YXIgbz0hayhyKSYmbS5rZXlzKHIpLGE9KG98fHIpLmxlbmd0aCxjPW4+MD8wOmEtMTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwzJiYodT1yW28/b1tjXTpjXSxjKz1uKSx0KHIsZSx1LG8sYyxhKX19ZnVuY3Rpb24gdChuKXtyZXR1cm4gZnVuY3Rpb24odCxyLGUpe3I9eChyLGUpO2Zvcih2YXIgdT1PKHQpLGk9bj4wPzA6dS0xO2k+PTAmJnU+aTtpKz1uKWlmKHIodFtpXSxpLHQpKXJldHVybiBpO3JldHVybi0xfX1mdW5jdGlvbiByKG4sdCxyKXtyZXR1cm4gZnVuY3Rpb24oZSx1LGkpe3ZhciBvPTAsYT1PKGUpO2lmKCJudW1iZXIiPT10eXBlb2YgaSluPjA/bz1pPj0wP2k6TWF0aC5tYXgoaSthLG8pOmE9aT49MD9NYXRoLm1pbihpKzEsYSk6aSthKzE7ZWxzZSBpZihyJiZpJiZhKXJldHVybiBpPXIoZSx1KSxlW2ldPT09dT9pOi0xO2lmKHUhPT11KXJldHVybiBpPXQobC5jYWxsKGUsbyxhKSxtLmlzTmFOKSxpPj0wP2krbzotMTtmb3IoaT1uPjA/bzphLTE7aT49MCYmYT5pO2krPW4paWYoZVtpXT09PXUpcmV0dXJuIGk7cmV0dXJuLTF9fWZ1bmN0aW9uIGUobix0KXt2YXIgcj1JLmxlbmd0aCxlPW4uY29uc3RydWN0b3IsdT1tLmlzRnVuY3Rpb24oZSkmJmUucHJvdG90eXBlfHxhLGk9ImNvbnN0cnVjdG9yIjtmb3IobS5oYXMobixpKSYmIW0uY29udGFpbnModCxpKSYmdC5wdXNoKGkpO3ItLTspaT1JW3JdLGkgaW4gbiYmbltpXSE9PXVbaV0mJiFtLmNvbnRhaW5zKHQsaSkmJnQucHVzaChpKX12YXIgdT10aGlzLGk9dS5fLG89QXJyYXkucHJvdG90eXBlLGE9T2JqZWN0LnByb3RvdHlwZSxjPUZ1bmN0aW9uLnByb3RvdHlwZSxmPW8ucHVzaCxsPW8uc2xpY2Uscz1hLnRvU3RyaW5nLHA9YS5oYXNPd25Qcm9wZXJ0eSxoPUFycmF5LmlzQXJyYXksdj1PYmplY3Qua2V5cyxnPWMuYmluZCx5PU9iamVjdC5jcmVhdGUsZD1mdW5jdGlvbigpe30sbT1mdW5jdGlvbihuKXtyZXR1cm4gbiBpbnN0YW5jZW9mIG0/bjp0aGlzIGluc3RhbmNlb2YgbT92b2lkKHRoaXMuX3dyYXBwZWQ9bik6bmV3IG0obil9OyJ1bmRlZmluZWQiIT10eXBlb2YgZXhwb3J0cz8oInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiYoZXhwb3J0cz1tb2R1bGUuZXhwb3J0cz1tKSxleHBvcnRzLl89bSk6dS5fPW0sbS5WRVJTSU9OPSIxLjguMyI7dmFyIGI9ZnVuY3Rpb24obix0LHIpe2lmKHQ9PT12b2lkIDApcmV0dXJuIG47c3dpdGNoKG51bGw9PXI/MzpyKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBuLmNhbGwodCxyKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihyLGUpe3JldHVybiBuLmNhbGwodCxyLGUpfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHIsZSx1KXtyZXR1cm4gbi5jYWxsKHQscixlLHUpfTtjYXNlIDQ6cmV0dXJuIGZ1bmN0aW9uKHIsZSx1LGkpe3JldHVybiBuLmNhbGwodCxyLGUsdSxpKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG4uYXBwbHkodCxhcmd1bWVudHMpfX0seD1mdW5jdGlvbihuLHQscil7cmV0dXJuIG51bGw9PW4/bS5pZGVudGl0eTptLmlzRnVuY3Rpb24obik/YihuLHQscik6bS5pc09iamVjdChuKT9tLm1hdGNoZXIobik6bS5wcm9wZXJ0eShuKX07bS5pdGVyYXRlZT1mdW5jdGlvbihuLHQpe3JldHVybiB4KG4sdCwxLzApfTt2YXIgXz1mdW5jdGlvbihuLHQpe3JldHVybiBmdW5jdGlvbihyKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoO2lmKDI+ZXx8bnVsbD09cilyZXR1cm4gcjtmb3IodmFyIHU9MTtlPnU7dSsrKWZvcih2YXIgaT1hcmd1bWVudHNbdV0sbz1uKGkpLGE9by5sZW5ndGgsYz0wO2E+YztjKyspe3ZhciBmPW9bY107dCYmcltmXSE9PXZvaWQgMHx8KHJbZl09aVtmXSl9cmV0dXJuIHJ9fSxqPWZ1bmN0aW9uKG4pe2lmKCFtLmlzT2JqZWN0KG4pKXJldHVybnt9O2lmKHkpcmV0dXJuIHkobik7ZC5wcm90b3R5cGU9bjt2YXIgdD1uZXcgZDtyZXR1cm4gZC5wcm90b3R5cGU9bnVsbCx0fSx3PWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD92b2lkIDA6dFtuXX19LEE9TWF0aC5wb3coMiw1MyktMSxPPXcoImxlbmd0aCIpLGs9ZnVuY3Rpb24obil7dmFyIHQ9TyhuKTtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIHQmJnQ+PTAmJkE+PXR9O20uZWFjaD1tLmZvckVhY2g9ZnVuY3Rpb24obix0LHIpe3Q9Yih0LHIpO3ZhciBlLHU7aWYoayhuKSlmb3IoZT0wLHU9bi5sZW5ndGg7dT5lO2UrKyl0KG5bZV0sZSxuKTtlbHNle3ZhciBpPW0ua2V5cyhuKTtmb3IoZT0wLHU9aS5sZW5ndGg7dT5lO2UrKyl0KG5baVtlXV0saVtlXSxuKX1yZXR1cm4gbn0sbS5tYXA9bS5jb2xsZWN0PWZ1bmN0aW9uKG4sdCxyKXt0PXgodCxyKTtmb3IodmFyIGU9IWsobikmJm0ua2V5cyhuKSx1PShlfHxuKS5sZW5ndGgsaT1BcnJheSh1KSxvPTA7dT5vO28rKyl7dmFyIGE9ZT9lW29dOm87aVtvXT10KG5bYV0sYSxuKX1yZXR1cm4gaX0sbS5yZWR1Y2U9bS5mb2xkbD1tLmluamVjdD1uKDEpLG0ucmVkdWNlUmlnaHQ9bS5mb2xkcj1uKC0xKSxtLmZpbmQ9bS5kZXRlY3Q9ZnVuY3Rpb24obix0LHIpe3ZhciBlO3JldHVybiBlPWsobik/bS5maW5kSW5kZXgobix0LHIpOm0uZmluZEtleShuLHQsciksZSE9PXZvaWQgMCYmZSE9PS0xP25bZV06dm9pZCAwfSxtLmZpbHRlcj1tLnNlbGVjdD1mdW5jdGlvbihuLHQscil7dmFyIGU9W107cmV0dXJuIHQ9eCh0LHIpLG0uZWFjaChuLGZ1bmN0aW9uKG4scix1KXt0KG4scix1KSYmZS5wdXNoKG4pfSksZX0sbS5yZWplY3Q9ZnVuY3Rpb24obix0LHIpe3JldHVybiBtLmZpbHRlcihuLG0ubmVnYXRlKHgodCkpLHIpfSxtLmV2ZXJ5PW0uYWxsPWZ1bmN0aW9uKG4sdCxyKXt0PXgodCxyKTtmb3IodmFyIGU9IWsobikmJm0ua2V5cyhuKSx1PShlfHxuKS5sZW5ndGgsaT0wO3U+aTtpKyspe3ZhciBvPWU/ZVtpXTppO2lmKCF0KG5bb10sbyxuKSlyZXR1cm4hMX1yZXR1cm4hMH0sbS5zb21lPW0uYW55PWZ1bmN0aW9uKG4sdCxyKXt0PXgodCxyKTtmb3IodmFyIGU9IWsobikmJm0ua2V5cyhuKSx1PShlfHxuKS5sZW5ndGgsaT0wO3U+aTtpKyspe3ZhciBvPWU/ZVtpXTppO2lmKHQobltvXSxvLG4pKXJldHVybiEwfXJldHVybiExfSxtLmNvbnRhaW5zPW0uaW5jbHVkZXM9bS5pbmNsdWRlPWZ1bmN0aW9uKG4sdCxyLGUpe3JldHVybiBrKG4pfHwobj1tLnZhbHVlcyhuKSksKCJudW1iZXIiIT10eXBlb2Ygcnx8ZSkmJihyPTApLG0uaW5kZXhPZihuLHQscik+PTB9LG0uaW52b2tlPWZ1bmN0aW9uKG4sdCl7dmFyIHI9bC5jYWxsKGFyZ3VtZW50cywyKSxlPW0uaXNGdW5jdGlvbih0KTtyZXR1cm4gbS5tYXAobixmdW5jdGlvbihuKXt2YXIgdT1lP3Q6blt0XTtyZXR1cm4gbnVsbD09dT91OnUuYXBwbHkobixyKX0pfSxtLnBsdWNrPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIG0ubWFwKG4sbS5wcm9wZXJ0eSh0KSl9LG0ud2hlcmU9ZnVuY3Rpb24obix0KXtyZXR1cm4gbS5maWx0ZXIobixtLm1hdGNoZXIodCkpfSxtLmZpbmRXaGVyZT1mdW5jdGlvbihuLHQpe3JldHVybiBtLmZpbmQobixtLm1hdGNoZXIodCkpfSxtLm1heD1mdW5jdGlvbihuLHQscil7dmFyIGUsdSxpPS0xLzAsbz0tMS8wO2lmKG51bGw9PXQmJm51bGwhPW4pe249ayhuKT9uOm0udmFsdWVzKG4pO2Zvcih2YXIgYT0wLGM9bi5sZW5ndGg7Yz5hO2ErKyllPW5bYV0sZT5pJiYoaT1lKX1lbHNlIHQ9eCh0LHIpLG0uZWFjaChuLGZ1bmN0aW9uKG4scixlKXt1PXQobixyLGUpLCh1Pm98fHU9PT0tMS8wJiZpPT09LTEvMCkmJihpPW4sbz11KX0pO3JldHVybiBpfSxtLm1pbj1mdW5jdGlvbihuLHQscil7dmFyIGUsdSxpPTEvMCxvPTEvMDtpZihudWxsPT10JiZudWxsIT1uKXtuPWsobik/bjptLnZhbHVlcyhuKTtmb3IodmFyIGE9MCxjPW4ubGVuZ3RoO2M+YTthKyspZT1uW2FdLGk+ZSYmKGk9ZSl9ZWxzZSB0PXgodCxyKSxtLmVhY2gobixmdW5jdGlvbihuLHIsZSl7dT10KG4scixlKSwobz51fHwxLzA9PT11JiYxLzA9PT1pKSYmKGk9bixvPXUpfSk7cmV0dXJuIGl9LG0uc2h1ZmZsZT1mdW5jdGlvbihuKXtmb3IodmFyIHQscj1rKG4pP246bS52YWx1ZXMobiksZT1yLmxlbmd0aCx1PUFycmF5KGUpLGk9MDtlPmk7aSsrKXQ9bS5yYW5kb20oMCxpKSx0IT09aSYmKHVbaV09dVt0XSksdVt0XT1yW2ldO3JldHVybiB1fSxtLnNhbXBsZT1mdW5jdGlvbihuLHQscil7cmV0dXJuIG51bGw9PXR8fHI/KGsobil8fChuPW0udmFsdWVzKG4pKSxuW20ucmFuZG9tKG4ubGVuZ3RoLTEpXSk6bS5zaHVmZmxlKG4pLnNsaWNlKDAsTWF0aC5tYXgoMCx0KSl9LG0uc29ydEJ5PWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gdD14KHQsciksbS5wbHVjayhtLm1hcChuLGZ1bmN0aW9uKG4scixlKXtyZXR1cm57dmFsdWU6bixpbmRleDpyLGNyaXRlcmlhOnQobixyLGUpfX0pLnNvcnQoZnVuY3Rpb24obix0KXt2YXIgcj1uLmNyaXRlcmlhLGU9dC5jcml0ZXJpYTtpZihyIT09ZSl7aWYocj5lfHxyPT09dm9pZCAwKXJldHVybiAxO2lmKGU+cnx8ZT09PXZvaWQgMClyZXR1cm4tMX1yZXR1cm4gbi5pbmRleC10LmluZGV4fSksInZhbHVlIil9O3ZhciBGPWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0LHIsZSl7dmFyIHU9e307cmV0dXJuIHI9eChyLGUpLG0uZWFjaCh0LGZ1bmN0aW9uKGUsaSl7dmFyIG89cihlLGksdCk7bih1LGUsbyl9KSx1fX07bS5ncm91cEJ5PUYoZnVuY3Rpb24obix0LHIpe20uaGFzKG4scik/bltyXS5wdXNoKHQpOm5bcl09W3RdfSksbS5pbmRleEJ5PUYoZnVuY3Rpb24obix0LHIpe25bcl09dH0pLG0uY291bnRCeT1GKGZ1bmN0aW9uKG4sdCxyKXttLmhhcyhuLHIpP25bcl0rKzpuW3JdPTF9KSxtLnRvQXJyYXk9ZnVuY3Rpb24obil7cmV0dXJuIG4/bS5pc0FycmF5KG4pP2wuY2FsbChuKTprKG4pP20ubWFwKG4sbS5pZGVudGl0eSk6bS52YWx1ZXMobik6W119LG0uc2l6ZT1mdW5jdGlvbihuKXtyZXR1cm4gbnVsbD09bj8wOmsobik/bi5sZW5ndGg6bS5rZXlzKG4pLmxlbmd0aH0sbS5wYXJ0aXRpb249ZnVuY3Rpb24obix0LHIpe3Q9eCh0LHIpO3ZhciBlPVtdLHU9W107cmV0dXJuIG0uZWFjaChuLGZ1bmN0aW9uKG4scixpKXsodChuLHIsaSk/ZTp1KS5wdXNoKG4pfSksW2UsdV19LG0uZmlyc3Q9bS5oZWFkPW0udGFrZT1mdW5jdGlvbihuLHQscil7cmV0dXJuIG51bGw9PW4/dm9pZCAwOm51bGw9PXR8fHI/blswXTptLmluaXRpYWwobixuLmxlbmd0aC10KX0sbS5pbml0aWFsPWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gbC5jYWxsKG4sMCxNYXRoLm1heCgwLG4ubGVuZ3RoLShudWxsPT10fHxyPzE6dCkpKX0sbS5sYXN0PWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gbnVsbD09bj92b2lkIDA6bnVsbD09dHx8cj9uW24ubGVuZ3RoLTFdOm0ucmVzdChuLE1hdGgubWF4KDAsbi5sZW5ndGgtdCkpfSxtLnJlc3Q9bS50YWlsPW0uZHJvcD1mdW5jdGlvbihuLHQscil7cmV0dXJuIGwuY2FsbChuLG51bGw9PXR8fHI/MTp0KX0sbS5jb21wYWN0PWZ1bmN0aW9uKG4pe3JldHVybiBtLmZpbHRlcihuLG0uaWRlbnRpdHkpfTt2YXIgUz1mdW5jdGlvbihuLHQscixlKXtmb3IodmFyIHU9W10saT0wLG89ZXx8MCxhPU8obik7YT5vO28rKyl7dmFyIGM9bltvXTtpZihrKGMpJiYobS5pc0FycmF5KGMpfHxtLmlzQXJndW1lbnRzKGMpKSl7dHx8KGM9UyhjLHQscikpO3ZhciBmPTAsbD1jLmxlbmd0aDtmb3IodS5sZW5ndGgrPWw7bD5mOyl1W2krK109Y1tmKytdfWVsc2Ugcnx8KHVbaSsrXT1jKX1yZXR1cm4gdX07bS5mbGF0dGVuPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIFMobix0LCExKX0sbS53aXRob3V0PWZ1bmN0aW9uKG4pe3JldHVybiBtLmRpZmZlcmVuY2UobixsLmNhbGwoYXJndW1lbnRzLDEpKX0sbS51bmlxPW0udW5pcXVlPWZ1bmN0aW9uKG4sdCxyLGUpe20uaXNCb29sZWFuKHQpfHwoZT1yLHI9dCx0PSExKSxudWxsIT1yJiYocj14KHIsZSkpO2Zvcih2YXIgdT1bXSxpPVtdLG89MCxhPU8obik7YT5vO28rKyl7dmFyIGM9bltvXSxmPXI/cihjLG8sbik6Yzt0PyhvJiZpPT09Znx8dS5wdXNoKGMpLGk9Zik6cj9tLmNvbnRhaW5zKGksZil8fChpLnB1c2goZiksdS5wdXNoKGMpKTptLmNvbnRhaW5zKHUsYyl8fHUucHVzaChjKX1yZXR1cm4gdX0sbS51bmlvbj1mdW5jdGlvbigpe3JldHVybiBtLnVuaXEoUyhhcmd1bWVudHMsITAsITApKX0sbS5pbnRlcnNlY3Rpb249ZnVuY3Rpb24obil7Zm9yKHZhciB0PVtdLHI9YXJndW1lbnRzLmxlbmd0aCxlPTAsdT1PKG4pO3U+ZTtlKyspe3ZhciBpPW5bZV07aWYoIW0uY29udGFpbnModCxpKSl7Zm9yKHZhciBvPTE7cj5vJiZtLmNvbnRhaW5zKGFyZ3VtZW50c1tvXSxpKTtvKyspO289PT1yJiZ0LnB1c2goaSl9fXJldHVybiB0fSxtLmRpZmZlcmVuY2U9ZnVuY3Rpb24obil7dmFyIHQ9Uyhhcmd1bWVudHMsITAsITAsMSk7cmV0dXJuIG0uZmlsdGVyKG4sZnVuY3Rpb24obil7cmV0dXJuIW0uY29udGFpbnModCxuKX0pfSxtLnppcD1mdW5jdGlvbigpe3JldHVybiBtLnVuemlwKGFyZ3VtZW50cyl9LG0udW56aXA9ZnVuY3Rpb24obil7Zm9yKHZhciB0PW4mJm0ubWF4KG4sTykubGVuZ3RofHwwLHI9QXJyYXkodCksZT0wO3Q+ZTtlKyspcltlXT1tLnBsdWNrKG4sZSk7cmV0dXJuIHJ9LG0ub2JqZWN0PWZ1bmN0aW9uKG4sdCl7Zm9yKHZhciByPXt9LGU9MCx1PU8obik7dT5lO2UrKyl0P3JbbltlXV09dFtlXTpyW25bZV1bMF1dPW5bZV1bMV07cmV0dXJuIHJ9LG0uZmluZEluZGV4PXQoMSksbS5maW5kTGFzdEluZGV4PXQoLTEpLG0uc29ydGVkSW5kZXg9ZnVuY3Rpb24obix0LHIsZSl7cj14KHIsZSwxKTtmb3IodmFyIHU9cih0KSxpPTAsbz1PKG4pO28+aTspe3ZhciBhPU1hdGguZmxvb3IoKGkrbykvMik7cihuW2FdKTx1P2k9YSsxOm89YX1yZXR1cm4gaX0sbS5pbmRleE9mPXIoMSxtLmZpbmRJbmRleCxtLnNvcnRlZEluZGV4KSxtLmxhc3RJbmRleE9mPXIoLTEsbS5maW5kTGFzdEluZGV4KSxtLnJhbmdlPWZ1bmN0aW9uKG4sdCxyKXtudWxsPT10JiYodD1ufHwwLG49MCkscj1yfHwxO2Zvcih2YXIgZT1NYXRoLm1heChNYXRoLmNlaWwoKHQtbikvciksMCksdT1BcnJheShlKSxpPTA7ZT5pO2krKyxuKz1yKXVbaV09bjtyZXR1cm4gdX07dmFyIEU9ZnVuY3Rpb24obix0LHIsZSx1KXtpZighKGUgaW5zdGFuY2VvZiB0KSlyZXR1cm4gbi5hcHBseShyLHUpO3ZhciBpPWoobi5wcm90b3R5cGUpLG89bi5hcHBseShpLHUpO3JldHVybiBtLmlzT2JqZWN0KG8pP286aX07bS5iaW5kPWZ1bmN0aW9uKG4sdCl7aWYoZyYmbi5iaW5kPT09ZylyZXR1cm4gZy5hcHBseShuLGwuY2FsbChhcmd1bWVudHMsMSkpO2lmKCFtLmlzRnVuY3Rpb24obikpdGhyb3cgbmV3IFR5cGVFcnJvcigiQmluZCBtdXN0IGJlIGNhbGxlZCBvbiBhIGZ1bmN0aW9uIik7dmFyIHI9bC5jYWxsKGFyZ3VtZW50cywyKSxlPWZ1bmN0aW9uKCl7cmV0dXJuIEUobixlLHQsdGhpcyxyLmNvbmNhdChsLmNhbGwoYXJndW1lbnRzKSkpfTtyZXR1cm4gZX0sbS5wYXJ0aWFsPWZ1bmN0aW9uKG4pe3ZhciB0PWwuY2FsbChhcmd1bWVudHMsMSkscj1mdW5jdGlvbigpe2Zvcih2YXIgZT0wLHU9dC5sZW5ndGgsaT1BcnJheSh1KSxvPTA7dT5vO28rKylpW29dPXRbb109PT1tP2FyZ3VtZW50c1tlKytdOnRbb107Zm9yKDtlPGFyZ3VtZW50cy5sZW5ndGg7KWkucHVzaChhcmd1bWVudHNbZSsrXSk7cmV0dXJuIEUobixyLHRoaXMsdGhpcyxpKX07cmV0dXJuIHJ9LG0uYmluZEFsbD1mdW5jdGlvbihuKXt2YXIgdCxyLGU9YXJndW1lbnRzLmxlbmd0aDtpZigxPj1lKXRocm93IG5ldyBFcnJvcigiYmluZEFsbCBtdXN0IGJlIHBhc3NlZCBmdW5jdGlvbiBuYW1lcyIpO2Zvcih0PTE7ZT50O3QrKylyPWFyZ3VtZW50c1t0XSxuW3JdPW0uYmluZChuW3JdLG4pO3JldHVybiBufSxtLm1lbW9pemU9ZnVuY3Rpb24obix0KXt2YXIgcj1mdW5jdGlvbihlKXt2YXIgdT1yLmNhY2hlLGk9IiIrKHQ/dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6ZSk7cmV0dXJuIG0uaGFzKHUsaSl8fCh1W2ldPW4uYXBwbHkodGhpcyxhcmd1bWVudHMpKSx1W2ldfTtyZXR1cm4gci5jYWNoZT17fSxyfSxtLmRlbGF5PWZ1bmN0aW9uKG4sdCl7dmFyIHI9bC5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBuLmFwcGx5KG51bGwscil9LHQpfSxtLmRlZmVyPW0ucGFydGlhbChtLmRlbGF5LG0sMSksbS50aHJvdHRsZT1mdW5jdGlvbihuLHQscil7dmFyIGUsdSxpLG89bnVsbCxhPTA7cnx8KHI9e30pO3ZhciBjPWZ1bmN0aW9uKCl7YT1yLmxlYWRpbmc9PT0hMT8wOm0ubm93KCksbz1udWxsLGk9bi5hcHBseShlLHUpLG98fChlPXU9bnVsbCl9O3JldHVybiBmdW5jdGlvbigpe3ZhciBmPW0ubm93KCk7YXx8ci5sZWFkaW5nIT09ITF8fChhPWYpO3ZhciBsPXQtKGYtYSk7cmV0dXJuIGU9dGhpcyx1PWFyZ3VtZW50cywwPj1sfHxsPnQ/KG8mJihjbGVhclRpbWVvdXQobyksbz1udWxsKSxhPWYsaT1uLmFwcGx5KGUsdSksb3x8KGU9dT1udWxsKSk6b3x8ci50cmFpbGluZz09PSExfHwobz1zZXRUaW1lb3V0KGMsbCkpLGl9fSxtLmRlYm91bmNlPWZ1bmN0aW9uKG4sdCxyKXt2YXIgZSx1LGksbyxhLGM9ZnVuY3Rpb24oKXt2YXIgZj1tLm5vdygpLW87dD5mJiZmPj0wP2U9c2V0VGltZW91dChjLHQtZik6KGU9bnVsbCxyfHwoYT1uLmFwcGx5KGksdSksZXx8KGk9dT1udWxsKSkpfTtyZXR1cm4gZnVuY3Rpb24oKXtpPXRoaXMsdT1hcmd1bWVudHMsbz1tLm5vdygpO3ZhciBmPXImJiFlO3JldHVybiBlfHwoZT1zZXRUaW1lb3V0KGMsdCkpLGYmJihhPW4uYXBwbHkoaSx1KSxpPXU9bnVsbCksYX19LG0ud3JhcD1mdW5jdGlvbihuLHQpe3JldHVybiBtLnBhcnRpYWwodCxuKX0sbS5uZWdhdGU9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIW4uYXBwbHkodGhpcyxhcmd1bWVudHMpfX0sbS5jb21wb3NlPWZ1bmN0aW9uKCl7dmFyIG49YXJndW1lbnRzLHQ9bi5sZW5ndGgtMTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHI9dCxlPW5bdF0uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ItLTspZT1uW3JdLmNhbGwodGhpcyxlKTtyZXR1cm4gZX19LG0uYWZ0ZXI9ZnVuY3Rpb24obix0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4tLW48MT90LmFwcGx5KHRoaXMsYXJndW1lbnRzKTp2b2lkIDB9fSxtLmJlZm9yZT1mdW5jdGlvbihuLHQpe3ZhciByO3JldHVybiBmdW5jdGlvbigpe3JldHVybi0tbj4wJiYocj10LmFwcGx5KHRoaXMsYXJndW1lbnRzKSksMT49biYmKHQ9bnVsbCkscn19LG0ub25jZT1tLnBhcnRpYWwobS5iZWZvcmUsMik7dmFyIE09IXt0b1N0cmluZzpudWxsfS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgidG9TdHJpbmciKSxJPVsidmFsdWVPZiIsImlzUHJvdG90eXBlT2YiLCJ0b1N0cmluZyIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiaGFzT3duUHJvcGVydHkiLCJ0b0xvY2FsZVN0cmluZyJdO20ua2V5cz1mdW5jdGlvbihuKXtpZighbS5pc09iamVjdChuKSlyZXR1cm5bXTtpZih2KXJldHVybiB2KG4pO3ZhciB0PVtdO2Zvcih2YXIgciBpbiBuKW0uaGFzKG4scikmJnQucHVzaChyKTtyZXR1cm4gTSYmZShuLHQpLHR9LG0uYWxsS2V5cz1mdW5jdGlvbihuKXtpZighbS5pc09iamVjdChuKSlyZXR1cm5bXTt2YXIgdD1bXTtmb3IodmFyIHIgaW4gbil0LnB1c2gocik7cmV0dXJuIE0mJmUobix0KSx0fSxtLnZhbHVlcz1mdW5jdGlvbihuKXtmb3IodmFyIHQ9bS5rZXlzKG4pLHI9dC5sZW5ndGgsZT1BcnJheShyKSx1PTA7cj51O3UrKyllW3VdPW5bdFt1XV07cmV0dXJuIGV9LG0ubWFwT2JqZWN0PWZ1bmN0aW9uKG4sdCxyKXt0PXgodCxyKTtmb3IodmFyIGUsdT1tLmtleXMobiksaT11Lmxlbmd0aCxvPXt9LGE9MDtpPmE7YSsrKWU9dVthXSxvW2VdPXQobltlXSxlLG4pO3JldHVybiBvfSxtLnBhaXJzPWZ1bmN0aW9uKG4pe2Zvcih2YXIgdD1tLmtleXMobikscj10Lmxlbmd0aCxlPUFycmF5KHIpLHU9MDtyPnU7dSsrKWVbdV09W3RbdV0sblt0W3VdXV07cmV0dXJuIGV9LG0uaW52ZXJ0PWZ1bmN0aW9uKG4pe2Zvcih2YXIgdD17fSxyPW0ua2V5cyhuKSxlPTAsdT1yLmxlbmd0aDt1PmU7ZSsrKXRbbltyW2VdXV09cltlXTtyZXR1cm4gdH0sbS5mdW5jdGlvbnM9bS5tZXRob2RzPWZ1bmN0aW9uKG4pe3ZhciB0PVtdO2Zvcih2YXIgciBpbiBuKW0uaXNGdW5jdGlvbihuW3JdKSYmdC5wdXNoKHIpO3JldHVybiB0LnNvcnQoKX0sbS5leHRlbmQ9XyhtLmFsbEtleXMpLG0uZXh0ZW5kT3duPW0uYXNzaWduPV8obS5rZXlzKSxtLmZpbmRLZXk9ZnVuY3Rpb24obix0LHIpe3Q9eCh0LHIpO2Zvcih2YXIgZSx1PW0ua2V5cyhuKSxpPTAsbz11Lmxlbmd0aDtvPmk7aSsrKWlmKGU9dVtpXSx0KG5bZV0sZSxuKSlyZXR1cm4gZX0sbS5waWNrPWZ1bmN0aW9uKG4sdCxyKXt2YXIgZSx1LGk9e30sbz1uO2lmKG51bGw9PW8pcmV0dXJuIGk7bS5pc0Z1bmN0aW9uKHQpPyh1PW0uYWxsS2V5cyhvKSxlPWIodCxyKSk6KHU9Uyhhcmd1bWVudHMsITEsITEsMSksZT1mdW5jdGlvbihuLHQscil7cmV0dXJuIHQgaW4gcn0sbz1PYmplY3QobykpO2Zvcih2YXIgYT0wLGM9dS5sZW5ndGg7Yz5hO2ErKyl7dmFyIGY9dVthXSxsPW9bZl07ZShsLGYsbykmJihpW2ZdPWwpfXJldHVybiBpfSxtLm9taXQ9ZnVuY3Rpb24obix0LHIpe2lmKG0uaXNGdW5jdGlvbih0KSl0PW0ubmVnYXRlKHQpO2Vsc2V7dmFyIGU9bS5tYXAoUyhhcmd1bWVudHMsITEsITEsMSksU3RyaW5nKTt0PWZ1bmN0aW9uKG4sdCl7cmV0dXJuIW0uY29udGFpbnMoZSx0KX19cmV0dXJuIG0ucGljayhuLHQscil9LG0uZGVmYXVsdHM9XyhtLmFsbEtleXMsITApLG0uY3JlYXRlPWZ1bmN0aW9uKG4sdCl7dmFyIHI9aihuKTtyZXR1cm4gdCYmbS5leHRlbmRPd24ocix0KSxyfSxtLmNsb25lPWZ1bmN0aW9uKG4pe3JldHVybiBtLmlzT2JqZWN0KG4pP20uaXNBcnJheShuKT9uLnNsaWNlKCk6bS5leHRlbmQoe30sbik6bn0sbS50YXA9ZnVuY3Rpb24obix0KXtyZXR1cm4gdChuKSxufSxtLmlzTWF0Y2g9ZnVuY3Rpb24obix0KXt2YXIgcj1tLmtleXModCksZT1yLmxlbmd0aDtpZihudWxsPT1uKXJldHVybiFlO2Zvcih2YXIgdT1PYmplY3QobiksaT0wO2U+aTtpKyspe3ZhciBvPXJbaV07aWYodFtvXSE9PXVbb118fCEobyBpbiB1KSlyZXR1cm4hMX1yZXR1cm4hMH07dmFyIE49ZnVuY3Rpb24obix0LHIsZSl7aWYobj09PXQpcmV0dXJuIDAhPT1ufHwxL249PT0xL3Q7aWYobnVsbD09bnx8bnVsbD09dClyZXR1cm4gbj09PXQ7biBpbnN0YW5jZW9mIG0mJihuPW4uX3dyYXBwZWQpLHQgaW5zdGFuY2VvZiBtJiYodD10Ll93cmFwcGVkKTt2YXIgdT1zLmNhbGwobik7aWYodSE9PXMuY2FsbCh0KSlyZXR1cm4hMTtzd2l0Y2godSl7Y2FzZSJbb2JqZWN0IFJlZ0V4cF0iOmNhc2UiW29iamVjdCBTdHJpbmddIjpyZXR1cm4iIituPT0iIit0O2Nhc2UiW29iamVjdCBOdW1iZXJdIjpyZXR1cm4rbiE9PStuPyt0IT09K3Q6MD09PStuPzEvK249PT0xL3Q6K249PT0rdDtjYXNlIltvYmplY3QgRGF0ZV0iOmNhc2UiW29iamVjdCBCb29sZWFuXSI6cmV0dXJuK249PT0rdH12YXIgaT0iW29iamVjdCBBcnJheV0iPT09dTtpZighaSl7aWYoIm9iamVjdCIhPXR5cGVvZiBufHwib2JqZWN0IiE9dHlwZW9mIHQpcmV0dXJuITE7dmFyIG89bi5jb25zdHJ1Y3RvcixhPXQuY29uc3RydWN0b3I7aWYobyE9PWEmJiEobS5pc0Z1bmN0aW9uKG8pJiZvIGluc3RhbmNlb2YgbyYmbS5pc0Z1bmN0aW9uKGEpJiZhIGluc3RhbmNlb2YgYSkmJiJjb25zdHJ1Y3RvciJpbiBuJiYiY29uc3RydWN0b3IiaW4gdClyZXR1cm4hMX1yPXJ8fFtdLGU9ZXx8W107Zm9yKHZhciBjPXIubGVuZ3RoO2MtLTspaWYocltjXT09PW4pcmV0dXJuIGVbY109PT10O2lmKHIucHVzaChuKSxlLnB1c2godCksaSl7aWYoYz1uLmxlbmd0aCxjIT09dC5sZW5ndGgpcmV0dXJuITE7Zm9yKDtjLS07KWlmKCFOKG5bY10sdFtjXSxyLGUpKXJldHVybiExfWVsc2V7dmFyIGYsbD1tLmtleXMobik7aWYoYz1sLmxlbmd0aCxtLmtleXModCkubGVuZ3RoIT09YylyZXR1cm4hMTtmb3IoO2MtLTspaWYoZj1sW2NdLCFtLmhhcyh0LGYpfHwhTihuW2ZdLHRbZl0scixlKSlyZXR1cm4hMX1yZXR1cm4gci5wb3AoKSxlLnBvcCgpLCEwfTttLmlzRXF1YWw9ZnVuY3Rpb24obix0KXtyZXR1cm4gTihuLHQpfSxtLmlzRW1wdHk9ZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PW4/ITA6ayhuKSYmKG0uaXNBcnJheShuKXx8bS5pc1N0cmluZyhuKXx8bS5pc0FyZ3VtZW50cyhuKSk/MD09PW4ubGVuZ3RoOjA9PT1tLmtleXMobikubGVuZ3RofSxtLmlzRWxlbWVudD1mdW5jdGlvbihuKXtyZXR1cm4hKCFufHwxIT09bi5ub2RlVHlwZSl9LG0uaXNBcnJheT1ofHxmdW5jdGlvbihuKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09cy5jYWxsKG4pfSxtLmlzT2JqZWN0PWZ1bmN0aW9uKG4pe3ZhciB0PXR5cGVvZiBuO3JldHVybiJmdW5jdGlvbiI9PT10fHwib2JqZWN0Ij09PXQmJiEhbn0sbS5lYWNoKFsiQXJndW1lbnRzIiwiRnVuY3Rpb24iLCJTdHJpbmciLCJOdW1iZXIiLCJEYXRlIiwiUmVnRXhwIiwiRXJyb3IiXSxmdW5jdGlvbihuKXttWyJpcyIrbl09ZnVuY3Rpb24odCl7cmV0dXJuIHMuY2FsbCh0KT09PSJbb2JqZWN0ICIrbisiXSJ9fSksbS5pc0FyZ3VtZW50cyhhcmd1bWVudHMpfHwobS5pc0FyZ3VtZW50cz1mdW5jdGlvbihuKXtyZXR1cm4gbS5oYXMobiwiY2FsbGVlIil9KSwiZnVuY3Rpb24iIT10eXBlb2YvLi8mJiJvYmplY3QiIT10eXBlb2YgSW50OEFycmF5JiYobS5pc0Z1bmN0aW9uPWZ1bmN0aW9uKG4pe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBufHwhMX0pLG0uaXNGaW5pdGU9ZnVuY3Rpb24obil7cmV0dXJuIGlzRmluaXRlKG4pJiYhaXNOYU4ocGFyc2VGbG9hdChuKSl9LG0uaXNOYU49ZnVuY3Rpb24obil7cmV0dXJuIG0uaXNOdW1iZXIobikmJm4hPT0rbn0sbS5pc0Jvb2xlYW49ZnVuY3Rpb24obil7cmV0dXJuIG49PT0hMHx8bj09PSExfHwiW29iamVjdCBCb29sZWFuXSI9PT1zLmNhbGwobil9LG0uaXNOdWxsPWZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT09bn0sbS5pc1VuZGVmaW5lZD1mdW5jdGlvbihuKXtyZXR1cm4gbj09PXZvaWQgMH0sbS5oYXM9ZnVuY3Rpb24obix0KXtyZXR1cm4gbnVsbCE9biYmcC5jYWxsKG4sdCl9LG0ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiB1Ll89aSx0aGlzfSxtLmlkZW50aXR5PWZ1bmN0aW9uKG4pe3JldHVybiBufSxtLmNvbnN0YW50PWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBufX0sbS5ub29wPWZ1bmN0aW9uKCl7fSxtLnByb3BlcnR5PXcsbS5wcm9wZXJ0eU9mPWZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uP2Z1bmN0aW9uKCl7fTpmdW5jdGlvbih0KXtyZXR1cm4gblt0XX19LG0ubWF0Y2hlcj1tLm1hdGNoZXM9ZnVuY3Rpb24obil7cmV0dXJuIG49bS5leHRlbmRPd24oe30sbiksZnVuY3Rpb24odCl7cmV0dXJuIG0uaXNNYXRjaCh0LG4pfX0sbS50aW1lcz1mdW5jdGlvbihuLHQscil7dmFyIGU9QXJyYXkoTWF0aC5tYXgoMCxuKSk7dD1iKHQsciwxKTtmb3IodmFyIHU9MDtuPnU7dSsrKWVbdV09dCh1KTtyZXR1cm4gZX0sbS5yYW5kb209ZnVuY3Rpb24obix0KXtyZXR1cm4gbnVsbD09dCYmKHQ9bixuPTApLG4rTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKih0LW4rMSkpfSxtLm5vdz1EYXRlLm5vd3x8ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX07dmFyIEI9eyImIjoiJmFtcDsiLCI8IjoiJmx0OyIsIj4iOiImZ3Q7IiwnIic6IiZxdW90OyIsIiciOiImI3gyNzsiLCJgIjoiJiN4NjA7In0sVD1tLmludmVydChCKSxSPWZ1bmN0aW9uKG4pe3ZhciB0PWZ1bmN0aW9uKHQpe3JldHVybiBuW3RdfSxyPSIoPzoiK20ua2V5cyhuKS5qb2luKCJ8IikrIikiLGU9UmVnRXhwKHIpLHU9UmVnRXhwKHIsImciKTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIG49bnVsbD09bj8iIjoiIituLGUudGVzdChuKT9uLnJlcGxhY2UodSx0KTpufX07bS5lc2NhcGU9UihCKSxtLnVuZXNjYXBlPVIoVCksbS5yZXN1bHQ9ZnVuY3Rpb24obix0LHIpe3ZhciBlPW51bGw9PW4/dm9pZCAwOm5bdF07cmV0dXJuIGU9PT12b2lkIDAmJihlPXIpLG0uaXNGdW5jdGlvbihlKT9lLmNhbGwobik6ZX07dmFyIHE9MDttLnVuaXF1ZUlkPWZ1bmN0aW9uKG4pe3ZhciB0PSsrcSsiIjtyZXR1cm4gbj9uK3Q6dH0sbS50ZW1wbGF0ZVNldHRpbmdzPXtldmFsdWF0ZTovPCUoW1xzXFNdKz8pJT4vZyxpbnRlcnBvbGF0ZTovPCU9KFtcc1xTXSs/KSU+L2csZXNjYXBlOi88JS0oW1xzXFNdKz8pJT4vZ307dmFyIEs9LyguKV4vLHo9eyInIjoiJyIsIlxcIjoiXFwiLCJcciI6InIiLCJcbiI6Im4iLCJcdTIwMjgiOiJ1MjAyOCIsIlx1MjAyOSI6InUyMDI5In0sRD0vXFx8J3xccnxcbnxcdTIwMjh8XHUyMDI5L2csTD1mdW5jdGlvbihuKXtyZXR1cm4iXFwiK3pbbl19O20udGVtcGxhdGU9ZnVuY3Rpb24obix0LHIpeyF0JiZyJiYodD1yKSx0PW0uZGVmYXVsdHMoe30sdCxtLnRlbXBsYXRlU2V0dGluZ3MpO3ZhciBlPVJlZ0V4cChbKHQuZXNjYXBlfHxLKS5zb3VyY2UsKHQuaW50ZXJwb2xhdGV8fEspLnNvdXJjZSwodC5ldmFsdWF0ZXx8Sykuc291cmNlXS5qb2luKCJ8IikrInwkIiwiZyIpLHU9MCxpPSJfX3ArPSciO24ucmVwbGFjZShlLGZ1bmN0aW9uKHQscixlLG8sYSl7cmV0dXJuIGkrPW4uc2xpY2UodSxhKS5yZXBsYWNlKEQsTCksdT1hK3QubGVuZ3RoLHI/aSs9IicrXG4oKF9fdD0oIityKyIpKT09bnVsbD8nJzpfLmVzY2FwZShfX3QpKStcbiciOmU/aSs9IicrXG4oKF9fdD0oIitlKyIpKT09bnVsbD8nJzpfX3QpK1xuJyI6byYmKGkrPSInO1xuIitvKyJcbl9fcCs9JyIpLHR9KSxpKz0iJztcbiIsdC52YXJpYWJsZXx8KGk9IndpdGgob2JqfHx7fSl7XG4iK2krIn1cbiIpLGk9InZhciBfX3QsX19wPScnLF9faj1BcnJheS5wcm90b3R5cGUuam9pbiwiKyJwcmludD1mdW5jdGlvbigpe19fcCs9X19qLmNhbGwoYXJndW1lbnRzLCcnKTt9O1xuIitpKyJyZXR1cm4gX19wO1xuIjt0cnl7dmFyIG89bmV3IEZ1bmN0aW9uKHQudmFyaWFibGV8fCJvYmoiLCJfIixpKX1jYXRjaChhKXt0aHJvdyBhLnNvdXJjZT1pLGF9dmFyIGM9ZnVuY3Rpb24obil7cmV0dXJuIG8uY2FsbCh0aGlzLG4sbSl9LGY9dC52YXJpYWJsZXx8Im9iaiI7cmV0dXJuIGMuc291cmNlPSJmdW5jdGlvbigiK2YrIil7XG4iK2krIn0iLGN9LG0uY2hhaW49ZnVuY3Rpb24obil7dmFyIHQ9bShuKTtyZXR1cm4gdC5fY2hhaW49ITAsdH07dmFyIFA9ZnVuY3Rpb24obix0KXtyZXR1cm4gbi5fY2hhaW4/bSh0KS5jaGFpbigpOnR9O20ubWl4aW49ZnVuY3Rpb24obil7bS5lYWNoKG0uZnVuY3Rpb25zKG4pLGZ1bmN0aW9uKHQpe3ZhciByPW1bdF09blt0XTttLnByb3RvdHlwZVt0XT1mdW5jdGlvbigpe3ZhciBuPVt0aGlzLl93cmFwcGVkXTtyZXR1cm4gZi5hcHBseShuLGFyZ3VtZW50cyksUCh0aGlzLHIuYXBwbHkobSxuKSl9fSl9LG0ubWl4aW4obSksbS5lYWNoKFsicG9wIiwicHVzaCIsInJldmVyc2UiLCJzaGlmdCIsInNvcnQiLCJzcGxpY2UiLCJ1bnNoaWZ0Il0sZnVuY3Rpb24obil7dmFyIHQ9b1tuXTttLnByb3RvdHlwZVtuXT1mdW5jdGlvbigpe3ZhciByPXRoaXMuX3dyYXBwZWQ7cmV0dXJuIHQuYXBwbHkocixhcmd1bWVudHMpLCJzaGlmdCIhPT1uJiYic3BsaWNlIiE9PW58fDAhPT1yLmxlbmd0aHx8ZGVsZXRlIHJbMF0sUCh0aGlzLHIpfX0pLG0uZWFjaChbImNvbmNhdCIsImpvaW4iLCJzbGljZSJdLGZ1bmN0aW9uKG4pe3ZhciB0PW9bbl07bS5wcm90b3R5cGVbbl09ZnVuY3Rpb24oKXtyZXR1cm4gUCh0aGlzLHQuYXBwbHkodGhpcy5fd3JhcHBlZCxhcmd1bWVudHMpKX19KSxtLnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl93cmFwcGVkfSxtLnByb3RvdHlwZS52YWx1ZU9mPW0ucHJvdG90eXBlLnRvSlNPTj1tLnByb3RvdHlwZS52YWx1ZSxtLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiIiK3RoaXMuX3dyYXBwZWR9LCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZSgidW5kZXJzY29yZSIsW10sZnVuY3Rpb24oKXtyZXR1cm4gbX0pfSkuY2FsbCh0aGlzKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9dW5kZXJzY29yZS1taW4ubWFwOwovKioKICogQW5ndWxhciBHb29nbGUgQW5hbHl0aWNzIC0gRWFzeSB0cmFja2luZyBmb3IgeW91ciBBbmd1bGFySlMgYXBwbGljYXRpb24KICogQHZlcnNpb24gdjEuMS44IC0gMjAxNi0xMi0zMAogKiBAbGluayBodHRwOi8vZ2l0aHViLmNvbS9yZXZvbHVuZXQvYW5ndWxhci1nb29nbGUtYW5hbHl0aWNzCiAqIEBhdXRob3IgSnVsaWVuIEJvdXF1aWxsb24gPGp1bGllbkByZXZvbHVuZXQuY29tPiAoaHR0cHM6Ly9naXRodWIuY29tL3Jldm9sdW5ldCkKICogQGNvbnRyaWJ1dG9ycyBKdWxpZW4gQm91cXVpbGxvbiAoaHR0cHM6Ly9naXRodWIuY29tL3Jldm9sdW5ldCksSnVzdGluIFNhdW5kZXJzIChodHRwczovL2dpdGh1Yi5jb20vanVzdGluc2EpLENocmlzIEVzcGxpbiAoaHR0cHM6Ly9naXRodWIuY29tL2RlbHRhZXBzaWxvbiksQWRhbSBNaXNpb3JueSAoaHR0cHM6Ly9naXRodWIuY29tL2FkYW0xODcpCiAqIEBsaWNlbnNlIE1JVCBMaWNlbnNlLCBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVAogKi8KLyogZ2xvYmFscyBkZWZpbmUgKi8KKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7CiAgJ3VzZSBzdHJpY3QnOwogIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykgewogICAgaWYgKHR5cGVvZiBhbmd1bGFyID09PSAndW5kZWZpbmVkJykgewogICAgICBmYWN0b3J5KHJlcXVpcmUoJ2FuZ3VsYXInKSk7CiAgICB9IGVsc2UgewogICAgICBmYWN0b3J5KGFuZ3VsYXIpOwogICAgfQogICAgbW9kdWxlLmV4cG9ydHMgPSAnYW5ndWxhci1nb29nbGUtYW5hbHl0aWNzJzsKICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgewogICAgZGVmaW5lKCdhbmd1bGFyLWdvb2dsZS1hbmFseXRpY3MnLFsnYW5ndWxhciddLCBmYWN0b3J5KTsKICB9IGVsc2UgewogICAgZmFjdG9yeShyb290LmFuZ3VsYXIpOwogIH0KfSh0aGlzLCBmdW5jdGlvbiAoYW5ndWxhciwgdW5kZWZpbmVkKSB7CiAgJ3VzZSBzdHJpY3QnOwogIGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyLWdvb2dsZS1hbmFseXRpY3MnLCBbXSkKICAgIC5wcm92aWRlcignQW5hbHl0aWNzJywgZnVuY3Rpb24gKCkgewogICAgICB2YXIgYWNjb3VudHMsCiAgICAgICAgICBhbmFseXRpY3NKUyA9IHRydWUsCiAgICAgICAgICBjb29raWVDb25maWcgPSAnYXV0bycsIC8vIERFUFJFQ0FURUQKICAgICAgICAgIGNyZWF0ZWQgPSBmYWxzZSwKICAgICAgICAgIGNyb3NzRG9tYWluTGlua2VyID0gZmFsc2UsCiAgICAgICAgICBjcm9zc0xpbmtEb21haW5zLAogICAgICAgICAgY3VycmVuY3kgPSAnVVNEJywKICAgICAgICAgIGRlYnVnTW9kZSA9IGZhbHNlLAogICAgICAgICAgZGVsYXlTY3JpcHRUYWcgPSBmYWxzZSwKICAgICAgICAgIGRpc3BsYXlGZWF0dXJlcyA9IGZhbHNlLAogICAgICAgICAgZGlzYWJsZUFuYWx5dGljcyA9IGZhbHNlLAogICAgICAgICAgZG9tYWluTmFtZSwKICAgICAgICAgIGVjb21tZXJjZSA9IGZhbHNlLAogICAgICAgICAgZW5oYW5jZWRFY29tbWVyY2UgPSBmYWxzZSwKICAgICAgICAgIGVuaGFuY2VkTGlua0F0dHJpYnV0aW9uID0gZmFsc2UsCiAgICAgICAgICBleHBlcmltZW50SWQsCiAgICAgICAgICBpZ25vcmVGaXJzdFBhZ2VMb2FkID0gZmFsc2UsCiAgICAgICAgICBsb2dBbGxDYWxscyA9IGZhbHNlLAogICAgICAgICAgaHlicmlkTW9iaWxlU3VwcG9ydCA9IGZhbHNlLAogICAgICAgICAgb2ZmbGluZU1vZGUgPSBmYWxzZSwKICAgICAgICAgIHBhZ2VFdmVudCA9ICckcm91dGVDaGFuZ2VTdWNjZXNzJywKICAgICAgICAgIHJlYWRGcm9tUm91dGUgPSBmYWxzZSwKICAgICAgICAgIHJlbW92ZVJlZ0V4cCwKICAgICAgICAgIHRlc3RNb2RlID0gZmFsc2UsCiAgICAgICAgICB0cmFjZURlYnVnZ2luZ01vZGUgPSBmYWxzZSwKICAgICAgICAgIHRyYWNrUHJlZml4ID0gJycsCiAgICAgICAgICB0cmFja1JvdXRlcyA9IHRydWUsCiAgICAgICAgICB0cmFja1VybFBhcmFtcyA9IGZhbHNlOwoKICAgICAgdGhpcy5sb2cgPSBbXTsKICAgICAgdGhpcy5vZmZsaW5lUXVldWUgPSBbXTsKCiAgICAgIC8qKgogICAgICAgKiBDb25maWd1cmF0aW9uIE1ldGhvZHMKICAgICAgICoqLwoKICAgICAgdGhpcy5zZXRBY2NvdW50ID0gZnVuY3Rpb24gKHRyYWNrZXIpIHsKICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZCh0cmFja2VyKSB8fCB0cmFja2VyID09PSBmYWxzZSkgewogICAgICAgICAgYWNjb3VudHMgPSB1bmRlZmluZWQ7CiAgICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzQXJyYXkodHJhY2tlcikpIHsKICAgICAgICAgIGFjY291bnRzID0gdHJhY2tlcjsKICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNPYmplY3QodHJhY2tlcikpIHsKICAgICAgICAgIGFjY291bnRzID0gW3RyYWNrZXJdOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBJbiBvcmRlciB0byBwcmVzZXJ2ZSBhbiBleGlzdGluZyBiZWhhdmlvciB3aXRoIGhvdyB0aGUgX3RyYWNrRXZlbnQgZnVuY3Rpb24gd29ya3MsCiAgICAgICAgICAvLyB0aGUgdHJhY2tFdmVudCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byB0cnVlIHdoZW4gdGhlcmUgaXMgb25seSBhIHNpbmdsZSB0cmFja2VyLgogICAgICAgICAgYWNjb3VudHMgPSBbeyB0cmFja2VyOiB0cmFja2VyLCB0cmFja0V2ZW50OiB0cnVlIH1dOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfTsKCiAgICAgIHRoaXMudHJhY2tQYWdlcyA9IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICB0cmFja1JvdXRlcyA9ICEhdmFsOwogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9OwoKICAgICAgdGhpcy50cmFja1ByZWZpeCA9IGZ1bmN0aW9uIChwcmVmaXgpIHsKICAgICAgICB0cmFja1ByZWZpeCA9IHByZWZpeDsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfTsKCiAgICAgIHRoaXMuc2V0RG9tYWluTmFtZSA9IGZ1bmN0aW9uIChkb21haW4pIHsKICAgICAgICBkb21haW5OYW1lID0gZG9tYWluOwogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9OwoKICAgICAgdGhpcy51c2VEaXNwbGF5RmVhdHVyZXMgPSBmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgZGlzcGxheUZlYXR1cmVzID0gISF2YWw7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH07CgogICAgICB0aGlzLnVzZUFuYWx5dGljcyA9IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICBhbmFseXRpY3NKUyA9ICEhdmFsOwogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9OwoKICAgICAgdGhpcy51c2VFbmhhbmNlZExpbmtBdHRyaWJ1dGlvbiA9IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICBlbmhhbmNlZExpbmtBdHRyaWJ1dGlvbiA9ICEhdmFsOwogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9OwoKICAgICAgdGhpcy51c2VDcm9zc0RvbWFpbkxpbmtlciA9IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICBjcm9zc0RvbWFpbkxpbmtlciA9ICEhdmFsOwogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9OwoKICAgICAgdGhpcy5zZXRDcm9zc0xpbmtEb21haW5zID0gZnVuY3Rpb24gKGRvbWFpbnMpIHsKICAgICAgICBjcm9zc0xpbmtEb21haW5zID0gZG9tYWluczsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfTsKCiAgICAgIHRoaXMuc2V0UGFnZUV2ZW50ID0gZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICBwYWdlRXZlbnQgPSBuYW1lOwogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9OwoKICAgICAgLyogREVQUkVDQVRFRCAqLwogICAgICB0aGlzLnNldENvb2tpZUNvbmZpZyA9IGZ1bmN0aW9uIChjb25maWcpIHsKICAgICAgICBjb29raWVDb25maWcgPSBjb25maWc7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH07CgogICAgICB0aGlzLnVzZUVDb21tZXJjZSA9IGZ1bmN0aW9uICh2YWwsIGVuaGFuY2VkKSB7CiAgICAgICAgZWNvbW1lcmNlID0gISF2YWw7CiAgICAgICAgZW5oYW5jZWRFY29tbWVyY2UgPSAhIWVuaGFuY2VkOwogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9OwoKICAgICAgdGhpcy5zZXRDdXJyZW5jeSA9IGZ1bmN0aW9uIChjdXJyZW5jeUNvZGUpIHsKICAgICAgICBjdXJyZW5jeSA9IGN1cnJlbmN5Q29kZTsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfTsKCiAgICAgIHRoaXMuc2V0UmVtb3ZlUmVnRXhwID0gZnVuY3Rpb24gKHJlZ2V4KSB7CiAgICAgICAgaWYgKHJlZ2V4IGluc3RhbmNlb2YgUmVnRXhwKSB7CiAgICAgICAgICByZW1vdmVSZWdFeHAgPSByZWdleDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH07CgogICAgICB0aGlzLnNldEV4cGVyaW1lbnRJZCA9IGZ1bmN0aW9uIChpZCkgewogICAgICAgIGV4cGVyaW1lbnRJZCA9IGlkOwogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9OwoKICAgICAgdGhpcy5pZ25vcmVGaXJzdFBhZ2VMb2FkID0gZnVuY3Rpb24gKHZhbCkgewogICAgICAgIGlnbm9yZUZpcnN0UGFnZUxvYWQgPSAhIXZhbDsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfTsKCiAgICAgIHRoaXMudHJhY2tVcmxQYXJhbXMgPSBmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgdHJhY2tVcmxQYXJhbXMgPSAhIXZhbDsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfTsKCiAgICAgIHRoaXMuZGlzYWJsZUFuYWx5dGljcyA9IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICBkaXNhYmxlQW5hbHl0aWNzID0gISF2YWw7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH07CgogICAgICB0aGlzLnNldEh5YnJpZE1vYmlsZVN1cHBvcnQgPSBmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgaHlicmlkTW9iaWxlU3VwcG9ydCA9ICEhdmFsOwogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9OwoKICAgICAgdGhpcy5zdGFydE9mZmxpbmUgPSBmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgb2ZmbGluZU1vZGUgPSAhIXZhbDsKICAgICAgICBpZiAob2ZmbGluZU1vZGUgPT09IHRydWUpIHsKICAgICAgICAgIHRoaXMuZGVsYXlTY3JpcHRUYWcodHJ1ZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9OwoKICAgICAgdGhpcy5kZWxheVNjcmlwdFRhZyA9IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICBkZWxheVNjcmlwdFRhZyA9ICEhdmFsOwogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9OwoKICAgICAgdGhpcy5sb2dBbGxDYWxscyA9IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICBsb2dBbGxDYWxscyA9ICEhdmFsOwogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9OwoKICAgICAgdGhpcy5lbnRlclRlc3RNb2RlID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRlc3RNb2RlID0gdHJ1ZTsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfTsKCiAgICAgIHRoaXMuZW50ZXJEZWJ1Z01vZGUgPSBmdW5jdGlvbiAoZW5hYmxlVHJhY2VEZWJ1Z2dpbmcpIHsKICAgICAgICBkZWJ1Z01vZGUgPSB0cnVlOwogICAgICAgIHRyYWNlRGVidWdnaW5nTW9kZSA9ICEhZW5hYmxlVHJhY2VEZWJ1Z2dpbmc7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH07CiAgICAgIAogICAgICAvLyBFbmFibGUgcmVhZGluZyBwYWdlIHVybCBmcm9tIHJvdXRlIG9iamVjdAogICAgICB0aGlzLnJlYWRGcm9tUm91dGUgPSBmdW5jdGlvbih2YWwpIHsKICAgICAgICByZWFkRnJvbVJvdXRlID0gISF2YWw7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogUHVibGljIFNlcnZpY2UKICAgICAgICovCiAgICAgIHRoaXMuJGdldCA9IFsnJGRvY3VtZW50JywgLy8gVG8gcmVhZCBwYWdlIHRpdGxlIAogICAgICAgICAgICAgICAgICAgJyRsb2NhdGlvbicsIC8vCiAgICAgICAgICAgICAgICAgICAnJGxvZycsICAgICAgLy8KICAgICAgICAgICAgICAgICAgICckcm9vdFNjb3BlJywvLwogICAgICAgICAgICAgICAgICAgJyR3aW5kb3cnLCAgIC8vCiAgICAgICAgICAgICAgICAgICAnJGluamVjdG9yJywgLy8gVG8gYWNjZXNzIG5nUm91dGUgbW9kdWxlIHdpdGhvdXQgZGVjbGFyaW5nIGEgZml4ZWQgZGVwZW5kZW5jeQogICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCRkb2N1bWVudCwgJGxvY2F0aW9uLCAkbG9nLCAkcm9vdFNjb3BlLCAkd2luZG93LCAkaW5qZWN0b3IpIHsKICAgICAgICB2YXIgdGhhdCA9IHRoaXM7CgogICAgICAgIC8qKgogICAgICAgICAqIFNpZGUtZWZmZWN0IEZyZWUgSGVscGVyIE1ldGhvZHMKICAgICAgICAgKiovCgogICAgICAgIHZhciBpc1Byb3BlcnR5RGVmaW5lZCA9IGZ1bmN0aW9uIChrZXksIGNvbmZpZykgewogICAgICAgICAgcmV0dXJuIGFuZ3VsYXIuaXNPYmplY3QoY29uZmlnKSAmJiBhbmd1bGFyLmlzRGVmaW5lZChjb25maWdba2V5XSk7CiAgICAgICAgfTsKCiAgICAgICAgdmFyIGlzUHJvcGVydHlTZXRUbyA9IGZ1bmN0aW9uIChrZXksIGNvbmZpZywgdmFsdWUpIHsKICAgICAgICAgIHJldHVybiBpc1Byb3BlcnR5RGVmaW5lZChrZXksIGNvbmZpZykgJiYgY29uZmlnW2tleV0gPT09IHZhbHVlOwogICAgICAgIH07CgogICAgICAgIHZhciBnZW5lcmF0ZUNvbW1hbmROYW1lID0gZnVuY3Rpb24gKGNvbW1hbmROYW1lLCBjb25maWcpIHsKICAgICAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKGNvbmZpZykpIHsKICAgICAgICAgICAgcmV0dXJuIGNvbmZpZyArICcuJyArIGNvbW1hbmROYW1lOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGlzUHJvcGVydHlEZWZpbmVkKCduYW1lJywgY29uZmlnKSA/IChjb25maWcubmFtZSArICcuJyArIGNvbW1hbmROYW1lKSA6IGNvbW1hbmROYW1lOwogICAgICAgIH07CiAgICAgICAgCiAgICAgICAgLy8gVHJ5IHRvIHJlYWQgcm91dGUgY29uZmlndXJhdGlvbiBhbmQgbG9nIHdhcm5pbmcgaWYgbm90IHBvc3NpYmxlCiAgICAgICAgdmFyICRyb3V0ZSA9IHt9OwogICAgICAgIGlmIChyZWFkRnJvbVJvdXRlKSB7CiAgICAgICAgICBpZiAoISRpbmplY3Rvci5oYXMoJyRyb3V0ZScpKSB7CiAgICAgICAgICAgICRsb2cud2FybignJHJvdXRlIHNlcnZpY2UgaXMgbm90IGF2YWlsYWJsZS4gTWFrZSBzdXJlIHlvdSBoYXZlIGluY2x1ZGVkIG5nLXJvdXRlIGluIHlvdXIgYXBwbGljYXRpb24gZGVwZW5kZW5jaWVzLicpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJHJvdXRlID0gJGluamVjdG9yLmdldCgnJHJvdXRlJyk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBHZXQgdXJsIGZvciBjdXJyZW50IHBhZ2UgCiAgICAgICAgdmFyIGdldFVybCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIFVzaW5nIG5nUm91dGUgcHJvdmlkZWQgdHJhY2tpbmcgdXJscwogICAgICAgICAgaWYgKHJlYWRGcm9tUm91dGUgJiYgJHJvdXRlLmN1cnJlbnQgJiYgKCdwYWdlVHJhY2snIGluICRyb3V0ZS5jdXJyZW50KSkgewogICAgICAgICAgICByZXR1cm4gJHJvdXRlLmN1cnJlbnQucGFnZVRyYWNrOwogICAgICAgICAgfQogICAgICAgICAgIAogICAgICAgICAgLy8gT3RoZXJ3aXNlIGdvIHRoZSBvbGQgd2F5CiAgICAgICAgICB2YXIgdXJsID0gdHJhY2tVcmxQYXJhbXMgPyAkbG9jYXRpb24udXJsKCkgOiAkbG9jYXRpb24ucGF0aCgpOyAKICAgICAgICAgIHJldHVybiByZW1vdmVSZWdFeHAgPyB1cmwucmVwbGFjZShyZW1vdmVSZWdFeHAsICcnKSA6IHVybDsKICAgICAgICB9OwoKICAgICAgICB2YXIgZ2V0VXRtUGFyYW1zID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHV0bVRvQ2FtcGFpZ25WYXIgPSB7CiAgICAgICAgICAgIHV0bV9zb3VyY2U6ICdjYW1wYWlnblNvdXJjZScsCiAgICAgICAgICAgIHV0bV9tZWRpdW06ICdjYW1wYWlnbk1lZGl1bScsCiAgICAgICAgICAgIHV0bV90ZXJtOiAnY2FtcGFpZ25UZXJtJywKICAgICAgICAgICAgdXRtX2NvbnRlbnQ6ICdjYW1wYWlnbkNvbnRlbnQnLAogICAgICAgICAgICB1dG1fY2FtcGFpZ246ICdjYW1wYWlnbk5hbWUnCiAgICAgICAgICB9OwogICAgICAgICAgdmFyIG9iamVjdCA9IHt9OwoKICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkbG9jYXRpb24uc2VhcmNoKCksIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7CiAgICAgICAgICAgIHZhciBjYW1wYWlnblZhciA9IHV0bVRvQ2FtcGFpZ25WYXJba2V5XTsKCiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChjYW1wYWlnblZhcikpIHsKICAgICAgICAgICAgICBvYmplY3RbY2FtcGFpZ25WYXJdID0gdmFsdWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwoKICAgICAgICAgIHJldHVybiBvYmplY3Q7CiAgICAgICAgfTsKCiAgICAgICAgLyoqCiAgICAgICAgICogZ2V0IEFjdGlvbkZpZWxkT2JqZWN0CiAgICAgICAgICogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vYW5hbHl0aWNzL2Rldmd1aWRlcy9jb2xsZWN0aW9uL2FuYWx5dGljc2pzL2VuaGFuY2VkLWVjb21tZXJjZSNhY3Rpb24tZGF0YQogICAgICAgICAqIEBwYXJhbSBpZAogICAgICAgICAqIEBwYXJhbSBhZmZsaWF0aW9uCiAgICAgICAgICogQHBhcmFtIHJldmVudWUKICAgICAgICAgKiBAcGFyYW0gdGF4CiAgICAgICAgICogQHBhcmFtIHNoaXBwaW5nCiAgICAgICAgICogQHBhcmFtIGNvdXBvbgogICAgICAgICAqIEBwYXJhbSBsaXN0CiAgICAgICAgICogQHBhcmFtIHN0ZXAKICAgICAgICAgKiBAcGFyYW0gb3B0aW9uCiAgICAgICAgICovCiAgICAgICAgdmFyIGdldEFjdGlvbkZpZWxkT2JqZWN0ID0gZnVuY3Rpb24gKGlkLCBhZmZpbGlhdGlvbiwgcmV2ZW51ZSwgdGF4LCBzaGlwcGluZywgY291cG9uLCBsaXN0LCBzdGVwLCBvcHRpb24pIHsKICAgICAgICAgIHZhciBvYmogPSB7fTsKICAgICAgICAgIGlmIChpZCkgeyBvYmouaWQgPSBpZDsgfQogICAgICAgICAgaWYgKGFmZmlsaWF0aW9uKSB7IG9iai5hZmZpbGlhdGlvbiA9IGFmZmlsaWF0aW9uOyB9CiAgICAgICAgICBpZiAocmV2ZW51ZSkgeyBvYmoucmV2ZW51ZSA9IHJldmVudWU7IH0KICAgICAgICAgIGlmICh0YXgpIHsgb2JqLnRheCA9IHRheDsgfQogICAgICAgICAgaWYgKHNoaXBwaW5nKSB7IG9iai5zaGlwcGluZyA9IHNoaXBwaW5nOyB9CiAgICAgICAgICBpZiAoY291cG9uKSB7IG9iai5jb3Vwb24gPSBjb3Vwb247IH0KICAgICAgICAgIGlmIChsaXN0KSB7IG9iai5saXN0ID0gbGlzdDsgfQogICAgICAgICAgaWYgKHN0ZXApIHsgb2JqLnN0ZXAgPSBzdGVwOyB9CiAgICAgICAgICBpZiAob3B0aW9uKSB7IG9iai5vcHRpb24gPSBvcHRpb247IH0KICAgICAgICAgIHJldHVybiBvYmo7CiAgICAgICAgfTsKCiAgICAgICAgLyoqCiAgICAgICAgICogUHJpdmF0ZSBNZXRob2RzCiAgICAgICAgICovCgogICAgICAgIHZhciBfZ2V0UHJvdG9jb2wgPSBmdW5jdGlvbiAoaHR0cFBvc3RmaXgsIGh0dHBzUG9zdGZpeCkgewogICAgICAgICAgdmFyIHByb3RvY29sID0gJycsCiAgICAgICAgICAgICAgaXNTc2xFbmFibGVkID0gZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonLAogICAgICAgICAgICAgIGlzQ2hyb21lRXh0ZW5zaW9uID0gZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wgPT09ICdjaHJvbWUtZXh0ZW5zaW9uOicsCiAgICAgICAgICAgICAgaXNIeWJyaWRBcHBsaWNhdGlvbiA9IGFuYWx5dGljc0pTID09PSB0cnVlICYmIGh5YnJpZE1vYmlsZVN1cHBvcnQgPT09IHRydWU7CiAgICAgICAgICBodHRwUG9zdGZpeCA9IGFuZ3VsYXIuaXNTdHJpbmcoaHR0cFBvc3RmaXgpID8gaHR0cFBvc3RmaXggOiAnJzsKICAgICAgICAgIGh0dHBzUG9zdGZpeCA9IGFuZ3VsYXIuaXNTdHJpbmcoaHR0cHNQb3N0Zml4KSA/IGh0dHBzUG9zdGZpeCA6ICcnOwogICAgICAgICAgaWYgKGh0dHBQb3N0Zml4ICE9PSAnJykgewogICAgICAgICAgICBwcm90b2NvbCA9ICdodHRwOicgKyBodHRwUG9zdGZpeDsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChpc0Nocm9tZUV4dGVuc2lvbiB8fCBpc0h5YnJpZEFwcGxpY2F0aW9uIHx8IChpc1NzbEVuYWJsZWQgJiYgaHR0cHNQb3N0Zml4ICE9PSAnJykpIHsKICAgICAgICAgICAgcHJvdG9jb2wgPSAnaHR0cHM6JyArIGh0dHBzUG9zdGZpeDsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBwcm90b2NvbDsKICAgICAgICB9OwoKICAgICAgICB2YXIgX2dhSnMgPSBmdW5jdGlvbiAoZm4pIHsKICAgICAgICAgIGlmICghYW5hbHl0aWNzSlMgJiYgJHdpbmRvdy5fZ2FxICYmIHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgICBmbigpOwogICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIHZhciBfZ2FxID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpOwogICAgICAgICAgaWYgKG9mZmxpbmVNb2RlID09PSB0cnVlKSB7CiAgICAgICAgICAgIHRoYXQub2ZmbGluZVF1ZXVlLnB1c2goW19nYXEsIGFyZ3NdKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgaWYgKCEkd2luZG93Ll9nYXEpIHsKICAgICAgICAgICAgJHdpbmRvdy5fZ2FxID0gW107CiAgICAgICAgICB9CiAgICAgICAgICBpZiAobG9nQWxsQ2FsbHMgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhhdC5fbG9nLmFwcGx5KHRoYXQsIGFyZ3MpOwogICAgICAgICAgfQogICAgICAgICAgJHdpbmRvdy5fZ2FxLnB1c2goYXJncyk7CiAgICAgICAgfTsKCiAgICAgICAgdmFyIF9hbmFseXRpY3NKcyA9IGZ1bmN0aW9uIChmbikgewogICAgICAgICAgaWYgKGFuYWx5dGljc0pTICYmICR3aW5kb3cuZ2EgJiYgdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgIGZuKCk7CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgdmFyIF9nYSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTsKICAgICAgICAgIGlmIChvZmZsaW5lTW9kZSA9PT0gdHJ1ZSkgewogICAgICAgICAgICB0aGF0Lm9mZmxpbmVRdWV1ZS5wdXNoKFtfZ2EsIGFyZ3NdKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHR5cGVvZiAkd2luZG93LmdhICE9PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgIHRoYXQuX2xvZygnd2FybicsICdnYSBmdW5jdGlvbiBub3Qgc2V0IG9uIHdpbmRvdycpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICBpZiAobG9nQWxsQ2FsbHMgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhhdC5fbG9nLmFwcGx5KHRoYXQsIGFyZ3MpOwogICAgICAgICAgfQogICAgICAgICAgJHdpbmRvdy5nYS5hcHBseShudWxsLCBhcmdzKTsKICAgICAgICB9OwoKICAgICAgICB2YXIgX2dhTXVsdGlwbGVUcmFja2VycyA9IGZ1bmN0aW9uIChpbmNsdWRlRm4pIHsKICAgICAgICAgIC8vIERyb3AgdGhlIGluY2x1ZGVGbiBmcm9tIHRoZSBhcmd1bWVudHMgYW5kIHByZXNlcnZlIHRoZSBvcmlnaW5hbCBjb21tYW5kIG5hbWUKICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwKICAgICAgICAgICAgICBjb21tYW5kTmFtZSA9IGFyZ3NbMF0sCiAgICAgICAgICAgICAgdHJhY2tlcnMgPSBbXTsKICAgICAgICAgIGlmICh0eXBlb2YgaW5jbHVkZUZuID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgIGFjY291bnRzLmZvckVhY2goZnVuY3Rpb24gKGFjY291bnQpIHsKICAgICAgICAgICAgICBpZiAoaW5jbHVkZUZuKGFjY291bnQpKSB7CiAgICAgICAgICAgICAgICB0cmFja2Vycy5wdXNoKGFjY291bnQpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBObyBpbmNsdWRlIGZ1bmN0aW9uIGluZGljYXRlcyB0aGF0IGFsbCBhY2NvdW50cyBhcmUgdG8gYmUgdXNlZAogICAgICAgICAgICB0cmFja2VycyA9IGFjY291bnRzOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIFRvIHByZXNlcnZlIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGZhbGxiYWNrIHRvIF9nYSBtZXRob2QgaWYgbm8gYWNjb3VudAogICAgICAgICAgLy8gbWF0Y2hlcyB0aGUgc3BlY2lmaWVkIGluY2x1ZGVGbi4gVGhpcyBwcmVzZXJ2ZXMgZXhpc3RpbmcgYmVoYXZpb3JzIGJ5CiAgICAgICAgICAvLyBwZXJmb3JtaW5nIHRoZSBzaW5nbGUgdHJhY2tlciBvcGVyYXRpb24uCiAgICAgICAgICBpZiAodHJhY2tlcnMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgIF9nYS5hcHBseSh0aGF0LCBhcmdzKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIHRyYWNrZXJzLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrZXIpIHsKICAgICAgICAgICAgLy8gQ2hlY2sgdHJhY2tlciAnc2VsZWN0JyBmdW5jdGlvbiwgaWYgaXQgZXhpc3RzLCBmb3Igd2hldGhlciB0aGUgdHJhY2tlciBzaG91bGQgYmUgdXNlZCB3aXRoIHRoZSBjdXJyZW50IGNvbW1hbmQuCiAgICAgICAgICAgIC8vIElmIHRoZSAnc2VsZWN0JyBmdW5jdGlvbiByZXR1cm5zIGZhbHNlIHRoZW4gdGhlIHRyYWNrZXIgd2lsbCBub3QgYmUgdXNlZCB3aXRoIHRoZSBjdXJyZW50IGNvbW1hbmQuCiAgICAgICAgICAgIGlmIChpc1Byb3BlcnR5RGVmaW5lZCgnc2VsZWN0JywgdHJhY2tlcikgJiYgdHlwZW9mIHRyYWNrZXIuc2VsZWN0ID09PSAnZnVuY3Rpb24nICYmICF0cmFja2VyLnNlbGVjdChhcmdzKSkgewogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBhcmdzWzBdID0gZ2VuZXJhdGVDb21tYW5kTmFtZShjb21tYW5kTmFtZSwgdHJhY2tlcik7CiAgICAgICAgICAgIF9nYS5hcHBseSh0aGF0LCBhcmdzKTsKICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIHRoaXMuX2xvZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTsKICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoYXJnc1swXSkgewogICAgICAgICAgICAgICAgY2FzZSAnZGVidWcnOgogICAgICAgICAgICAgICAgY2FzZSAnZXJyb3InOgogICAgICAgICAgICAgICAgY2FzZSAnaW5mbyc6CiAgICAgICAgICAgICAgICBjYXNlICdsb2cnOgogICAgICAgICAgICAgICAgY2FzZSAnd2Fybic6CiAgICAgICAgICAgICAgICAgICRsb2dbYXJnc1swXV0oYXJncy5zbGljZSgxKSk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICB0aGF0LmxvZy5wdXNoKGFyZ3MpOwogICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIC8qIERFUFJFQ0FURUQgKi8KICAgICAgICB0aGlzLl9jcmVhdGVTY3JpcHRUYWcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB0aGF0Ll9yZWdpc3RlclNjcmlwdFRhZ3MoKTsKICAgICAgICAgIHRoYXQuX3JlZ2lzdGVyVHJhY2tlcnMoKTsKICAgICAgICB9OwoKICAgICAgICAvKiBERVBSRUNBVEVEICovCiAgICAgICAgdGhpcy5fY3JlYXRlQW5hbHl0aWNzU2NyaXB0VGFnID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgdGhhdC5fcmVnaXN0ZXJTY3JpcHRUYWdzKCk7CiAgICAgICAgICB0aGF0Ll9yZWdpc3RlclRyYWNrZXJzKCk7CiAgICAgICAgfTsKCiAgICAgICAgdGhpcy5fcmVnaXN0ZXJTY3JpcHRUYWdzID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGRvY3VtZW50ID0gJGRvY3VtZW50WzBdLAogICAgICAgICAgICAgIHByb3RvY29sID0gX2dldFByb3RvY29sKCksCiAgICAgICAgICAgICAgc2NyaXB0U291cmNlOwoKICAgICAgICAgIGlmIChjcmVhdGVkID09PSB0cnVlKSB7CiAgICAgICAgICAgIHRoYXQuX2xvZygnd2FybicsICdTY3JpcHQgdGFncyBhbHJlYWR5IGNyZWF0ZWQnKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChkaXNhYmxlQW5hbHl0aWNzID09PSB0cnVlKSB7CiAgICAgICAgICAgIGFjY291bnRzLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrZXJPYmopIHsKICAgICAgICAgICAgICB0aGF0Ll9sb2coJ2luZm8nLCAnQW5hbHl0aWNzIGRpc2FibGVkOiAnICsgdHJhY2tlck9iai50cmFja2VyKTsKICAgICAgICAgICAgICAkd2luZG93WydnYS1kaXNhYmxlLScgKyB0cmFja2VyT2JqLnRyYWNrZXJdID0gdHJ1ZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8KICAgICAgICAgIC8vIFVuaXZlcnNhbCBBbmFseXRpY3MKICAgICAgICAgIC8vCiAgICAgICAgICBpZiAoYW5hbHl0aWNzSlMgPT09IHRydWUpIHsKICAgICAgICAgICAgc2NyaXB0U291cmNlID0gcHJvdG9jb2wgKyAnLy93d3cuZ29vZ2xlLWFuYWx5dGljcy5jb20vJyArIChkZWJ1Z01vZGUgPyAnYW5hbHl0aWNzX2RlYnVnLmpzJyA6ICdhbmFseXRpY3MuanMnKTsKICAgICAgICAgICAgaWYgKHRlc3RNb2RlICE9PSB0cnVlKSB7CiAgICAgICAgICAgICAgLy8gSWYgbm90IGluIHRlc3QgbW9kZSBpbmplY3QgdGhlIEdvb2dsZSBBbmFseXRpY3MgdGFnCiAgICAgICAgICAgICAgKGZ1bmN0aW9uIChpLHMsbyxnLHIsYSxtKXtpWydHb29nbGVBbmFseXRpY3NPYmplY3QnXT1yO2lbcl09aVtyXXx8ZnVuY3Rpb24gKCl7CiAgICAgICAgICAgICAgICAoaVtyXS5xPWlbcl0ucXx8W10pLnB1c2goYXJndW1lbnRzKTt9LGlbcl0ubD0xKm5ldyBEYXRlKCk7YT1zLmNyZWF0ZUVsZW1lbnQobyksCiAgICAgICAgICAgICAgICBtPXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUobylbMF07YS5hc3luYz0xO2Euc3JjPWc7bS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLG0pOwogICAgICAgICAgICAgIH0pKHdpbmRvdyxkb2N1bWVudCwnc2NyaXB0JyxzY3JpcHRTb3VyY2UsJ2dhJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaWYgKHR5cGVvZiAkd2luZG93LmdhICE9PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgICAgICAvLyBJbiB0ZXN0IG1vZGUgY3JlYXRlIGEgZ2EgZnVuY3Rpb24gaWYgbm9uZSBleGlzdHMgdGhhdCBpcyBhIG5vb3Agc2luay4KICAgICAgICAgICAgICAgICR3aW5kb3cuZ2EgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gTG9nIHNjcmlwdCBpbmplY3Rpb24uCiAgICAgICAgICAgICAgdGhhdC5fbG9nKCdpbmplY3QnLCBzY3JpcHRTb3VyY2UpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAodHJhY2VEZWJ1Z2dpbmdNb2RlKSB7CiAgICAgICAgICAgICAgJHdpbmRvdy5nYV9kZWJ1ZyA9IHsgdHJhY2U6IHRydWUgfTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGV4cGVyaW1lbnRJZCkgewogICAgICAgICAgICAgIHZhciBleHBTY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKSwKICAgICAgICAgICAgICAgICAgcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTsKICAgICAgICAgICAgICBleHBTY3JpcHQuc3JjID0gcHJvdG9jb2wgKyAnLy93d3cuZ29vZ2xlLWFuYWx5dGljcy5jb20vY3gvYXBpLmpzP2V4cGVyaW1lbnQ9JyArIGV4cGVyaW1lbnRJZDsKICAgICAgICAgICAgICBzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGV4cFNjcmlwdCwgcyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIC8vCiAgICAgICAgICAvLyBDbGFzc2ljIEFuYWx5dGljcwogICAgICAgICAgLy8KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNjcmlwdFNvdXJjZSA9IF9nZXRQcm90b2NvbCgnLy93d3cnLCAnLy9zc2wnKSArICcuZ29vZ2xlLWFuYWx5dGljcy5jb20vZ2EuanMnOwogICAgICAgICAgICBpZiAoZGlzcGxheUZlYXR1cmVzID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgc2NyaXB0U291cmNlID0gcHJvdG9jb2wgKyAnLy9zdGF0cy5nLmRvdWJsZWNsaWNrLm5ldC9kYy5qcyc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICh0ZXN0TW9kZSAhPT0gdHJ1ZSkgewogICAgICAgICAgICAgIC8vIElmIG5vdCBpbiB0ZXN0IG1vZGUgaW5qZWN0IHRoZSBHb29nbGUgQW5hbHl0aWNzIHRhZwogICAgICAgICAgICAgIChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgZ2EgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsgZ2EudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnOyBnYS5hc3luYyA9IHRydWU7CiAgICAgICAgICAgICAgICBnYS5zcmMgPSBzY3JpcHRTb3VyY2U7CiAgICAgICAgICAgICAgICB2YXIgcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTsgcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShnYSwgcyk7CiAgICAgICAgICAgICAgfSkoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvLyBMb2cgdGhlIHNvdXJjZSBsb2NhdGlvbiBmb3IgdmFsaWRhdGlvbgogICAgICAgICAgICAgIHRoYXQuX2xvZygnaW5qZWN0Jywgc2NyaXB0U291cmNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGNyZWF0ZWQgPSB0cnVlOwogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfTsKCiAgICAgICAgdGhpcy5fcmVnaXN0ZXJUcmFja2VycyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmICghYWNjb3VudHMgfHwgYWNjb3VudHMubGVuZ3RoIDwgMSkgewogICAgICAgICAgICB0aGF0Ll9sb2coJ3dhcm4nLCAnTm8gYWNjb3VudHMgdG8gcmVnaXN0ZXInKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIC8vCiAgICAgICAgICAvLyBVbml2ZXJzYWwgQW5hbHl0aWNzCiAgICAgICAgICAvLwogICAgICAgICAgaWYgKGFuYWx5dGljc0pTID09PSB0cnVlKSB7CiAgICAgICAgICAgIGFjY291bnRzLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrZXJPYmopIHsKICAgICAgICAgICAgICB0cmFja2VyT2JqLmNyb3NzRG9tYWluTGlua2VyID0gaXNQcm9wZXJ0eURlZmluZWQoJ2Nyb3NzRG9tYWluTGlua2VyJywgdHJhY2tlck9iaikgPyB0cmFja2VyT2JqLmNyb3NzRG9tYWluTGlua2VyIDogY3Jvc3NEb21haW5MaW5rZXI7CiAgICAgICAgICAgICAgdHJhY2tlck9iai5jcm9zc0xpbmtEb21haW5zID0gaXNQcm9wZXJ0eURlZmluZWQoJ2Nyb3NzTGlua0RvbWFpbnMnLCB0cmFja2VyT2JqKSA/IHRyYWNrZXJPYmouY3Jvc3NMaW5rRG9tYWlucyA6IGNyb3NzTGlua0RvbWFpbnM7CiAgICAgICAgICAgICAgdHJhY2tlck9iai5kaXNwbGF5RmVhdHVyZXMgPSBpc1Byb3BlcnR5RGVmaW5lZCgnZGlzcGxheUZlYXR1cmVzJywgdHJhY2tlck9iaikgPyB0cmFja2VyT2JqLmRpc3BsYXlGZWF0dXJlcyA6IGRpc3BsYXlGZWF0dXJlczsKICAgICAgICAgICAgICB0cmFja2VyT2JqLmVuaGFuY2VkTGlua0F0dHJpYnV0aW9uID0gaXNQcm9wZXJ0eURlZmluZWQoJ2VuaGFuY2VkTGlua0F0dHJpYnV0aW9uJywgdHJhY2tlck9iaikgPyB0cmFja2VyT2JqLmVuaGFuY2VkTGlua0F0dHJpYnV0aW9uIDogZW5oYW5jZWRMaW5rQXR0cmlidXRpb247CiAgICAgICAgICAgICAgdHJhY2tlck9iai5zZXQgPSBpc1Byb3BlcnR5RGVmaW5lZCgnc2V0JywgdHJhY2tlck9iaikgPyB0cmFja2VyT2JqLnNldCA6IHt9OwogICAgICAgICAgICAgIHRyYWNrZXJPYmoudHJhY2tFY29tbWVyY2UgPSBpc1Byb3BlcnR5RGVmaW5lZCgndHJhY2tFY29tbWVyY2UnLCB0cmFja2VyT2JqKSA/IHRyYWNrZXJPYmoudHJhY2tFY29tbWVyY2UgOiBlY29tbWVyY2U7CiAgICAgICAgICAgICAgdHJhY2tlck9iai50cmFja0V2ZW50ID0gaXNQcm9wZXJ0eURlZmluZWQoJ3RyYWNrRXZlbnQnLCB0cmFja2VyT2JqKSA/IHRyYWNrZXJPYmoudHJhY2tFdmVudCA6IGZhbHNlOwoKICAgICAgICAgICAgICAvLyBMb2dpYyB0byBjaG9vc2UgdGhlIGFjY291bnQgZmllbGRzIHRvIGJlIHVzZWQuCiAgICAgICAgICAgICAgLy8gY29va2llQ29uZmlnIGlzIGJlaW5nIGRlcHJlY2F0ZWQgZm9yIGEgdHJhY2tlciBzcGVjaWZpYyBwcm9wZXJ0eTogZmllbGRzLgogICAgICAgICAgICAgIHZhciBmaWVsZHMgPSB7fTsKICAgICAgICAgICAgICBpZiAoaXNQcm9wZXJ0eURlZmluZWQoJ2ZpZWxkcycsIHRyYWNrZXJPYmopKSB7CiAgICAgICAgICAgICAgICBmaWVsZHMgPSB0cmFja2VyT2JqLmZpZWxkczsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzUHJvcGVydHlEZWZpbmVkKCdjb29raWVDb25maWcnLCB0cmFja2VyT2JqKSkgewogICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcodHJhY2tlck9iai5jb29raWVDb25maWcpKSB7CiAgICAgICAgICAgICAgICAgIGZpZWxkcy5jb29raWVEb21haW4gPSB0cmFja2VyT2JqLmNvb2tpZUNvbmZpZzsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGZpZWxkcyA9IHRyYWNrZXJPYmouY29va2llQ29uZmlnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc1N0cmluZyhjb29raWVDb25maWcpKSB7CiAgICAgICAgICAgICAgICBmaWVsZHMuY29va2llRG9tYWluID0gY29va2llQ29uZmlnOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29va2llQ29uZmlnKSB7CiAgICAgICAgICAgICAgICBmaWVsZHMgPSBjb29raWVDb25maWc7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmICh0cmFja2VyT2JqLmNyb3NzRG9tYWluTGlua2VyID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICBmaWVsZHMuYWxsb3dMaW5rZXIgPSB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAoaXNQcm9wZXJ0eURlZmluZWQoJ25hbWUnLCB0cmFja2VyT2JqKSkgewogICAgICAgICAgICAgICAgZmllbGRzLm5hbWUgPSB0cmFja2VyT2JqLm5hbWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRyYWNrZXJPYmouZmllbGRzID0gZmllbGRzOwoKICAgICAgICAgICAgICBfZ2EoJ2NyZWF0ZScsIHRyYWNrZXJPYmoudHJhY2tlciwgdHJhY2tlck9iai5maWVsZHMpOwoKICAgICAgICAgICAgICAvLyBIeWJyaWQgbW9iaWxlIGFwcGxpY2F0aW9uIHN1cHBvcnQKICAgICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9hbmFseXRpY3MvZGV2Z3VpZGVzL2NvbGxlY3Rpb24vYW5hbHl0aWNzanMvdGFza3MKICAgICAgICAgICAgICBpZiAoaHlicmlkTW9iaWxlU3VwcG9ydCA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgX2dhKGdlbmVyYXRlQ29tbWFuZE5hbWUoJ3NldCcsIHRyYWNrZXJPYmopLCAnY2hlY2tQcm90b2NvbFRhc2snLCBudWxsKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIC8vIFNlbmQgYWxsIGN1c3RvbSBzZXQgY29tbWFuZHMgZnJvbSB0aGUgdHJhY2tlck9iai5zZXQgcHJvcGVydHkKICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdHJhY2tlck9iai5zZXQpIHsKICAgICAgICAgICAgICAgIGlmICh0cmFja2VyT2JqLnNldC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7CiAgICAgICAgICAgICAgICAgIF9nYShnZW5lcmF0ZUNvbW1hbmROYW1lKCdzZXQnLCB0cmFja2VyT2JqKSwga2V5LCB0cmFja2VyT2JqLnNldFtrZXldKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmICh0cmFja2VyT2JqLmNyb3NzRG9tYWluTGlua2VyID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICBfZ2EoZ2VuZXJhdGVDb21tYW5kTmFtZSgncmVxdWlyZScsIHRyYWNrZXJPYmopLCAnbGlua2VyJyk7CiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQodHJhY2tlck9iai5jcm9zc0xpbmtEb21haW5zKSkgewogICAgICAgICAgICAgICAgICBfZ2EoZ2VuZXJhdGVDb21tYW5kTmFtZSgnbGlua2VyOmF1dG9MaW5rJywgdHJhY2tlck9iaiksIHRyYWNrZXJPYmouY3Jvc3NMaW5rRG9tYWlucyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAodHJhY2tlck9iai5kaXNwbGF5RmVhdHVyZXMpIHsKICAgICAgICAgICAgICAgIF9nYShnZW5lcmF0ZUNvbW1hbmROYW1lKCdyZXF1aXJlJywgdHJhY2tlck9iaiksICdkaXNwbGF5ZmVhdHVyZXMnKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmICh0cmFja2VyT2JqLnRyYWNrRWNvbW1lcmNlKSB7CiAgICAgICAgICAgICAgICBpZiAoIWVuaGFuY2VkRWNvbW1lcmNlKSB7CiAgICAgICAgICAgICAgICAgIF9nYShnZW5lcmF0ZUNvbW1hbmROYW1lKCdyZXF1aXJlJywgdHJhY2tlck9iaiksICdlY29tbWVyY2UnKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF9nYShnZW5lcmF0ZUNvbW1hbmROYW1lKCdyZXF1aXJlJywgdHJhY2tlck9iaiksICdlYycpOwogICAgICAgICAgICAgICAgICBfZ2EoZ2VuZXJhdGVDb21tYW5kTmFtZSgnc2V0JywgdHJhY2tlck9iaiksICcmY3UnLCBjdXJyZW5jeSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAodHJhY2tlck9iai5lbmhhbmNlZExpbmtBdHRyaWJ1dGlvbikgewogICAgICAgICAgICAgICAgX2dhKGdlbmVyYXRlQ29tbWFuZE5hbWUoJ3JlcXVpcmUnLCB0cmFja2VyT2JqKSwgJ2xpbmtpZCcpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKHRyYWNrUm91dGVzICYmICFpZ25vcmVGaXJzdFBhZ2VMb2FkKSB7CiAgICAgICAgICAgICAgICBfZ2EoZ2VuZXJhdGVDb21tYW5kTmFtZSgnc2VuZCcsIHRyYWNrZXJPYmopLCAncGFnZXZpZXcnLCB0cmFja1ByZWZpeCArIGdldFVybCgpKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgLy8KICAgICAgICAgIC8vIENsYXNzaWMgQW5hbHl0aWNzCiAgICAgICAgICAvLwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKGFjY291bnRzLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICB0aGF0Ll9sb2coJ3dhcm4nLCAnTXVsdGlwbGUgdHJhY2tlcnMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBnYS5qcy4gVXNpbmcgZmlyc3QgdHJhY2tlciBvbmx5Jyk7CiAgICAgICAgICAgICAgYWNjb3VudHMgPSBhY2NvdW50cy5zbGljZSgwLCAxKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2dhcSgnX3NldEFjY291bnQnLCBhY2NvdW50c1swXS50cmFja2VyKTsKICAgICAgICAgICAgaWYoZG9tYWluTmFtZSkgewogICAgICAgICAgICAgIF9nYXEoJ19zZXREb21haW5OYW1lJywgZG9tYWluTmFtZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGVuaGFuY2VkTGlua0F0dHJpYnV0aW9uKSB7CiAgICAgICAgICAgICAgX2dhcSgnX3JlcXVpcmUnLCAnaW5wYWdlX2xpbmtpZCcsICcvL3d3dy5nb29nbGUtYW5hbHl0aWNzLmNvbS9wbHVnaW5zL2dhL2lucGFnZV9saW5raWQuanMnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodHJhY2tSb3V0ZXMgJiYgIWlnbm9yZUZpcnN0UGFnZUxvYWQpIHsKICAgICAgICAgICAgICBpZiAocmVtb3ZlUmVnRXhwKSB7CiAgICAgICAgICAgICAgICBfZ2FxKCdfdHJhY2tQYWdldmlldycsIGdldFVybCgpKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX2dhcSgnX3RyYWNrUGFnZXZpZXcnKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9OwoKICAgICAgICB0aGlzLl9lY29tbWVyY2VFbmFibGVkID0gZnVuY3Rpb24gKHdhcm4sIGNvbW1hbmQpIHsKICAgICAgICAgIHZhciByZXN1bHQgPSBlY29tbWVyY2UgJiYgIWVuaGFuY2VkRWNvbW1lcmNlOwogICAgICAgICAgaWYgKHdhcm4gPT09IHRydWUgJiYgcmVzdWx0ID09PSBmYWxzZSkgewogICAgICAgICAgICBpZiAoZWNvbW1lcmNlICYmIGVuaGFuY2VkRWNvbW1lcmNlKSB7CiAgICAgICAgICAgICAgdGhhdC5fbG9nKCd3YXJuJywgY29tbWFuZCArICcgaXMgbm90IGF2YWlsYWJsZSB3aGVuIEVuaGFuY2VkIEVjb21tZXJjZSBpcyBlbmFibGVkIHdpdGggYW5hbHl0aWNzLmpzJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhhdC5fbG9nKCd3YXJuJywgJ0Vjb21tZXJjZSBtdXN0IGJlIGVuYWJsZWQgdG8gdXNlICcgKyBjb21tYW5kICsgJyB3aXRoIGFuYWx5dGljcy5qcycpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIH07CgogICAgICAgIHRoaXMuX2VuaGFuY2VkRWNvbW1lcmNlRW5hYmxlZCA9IGZ1bmN0aW9uICh3YXJuLCBjb21tYW5kKSB7CiAgICAgICAgICB2YXIgcmVzdWx0ID0gZWNvbW1lcmNlICYmIGVuaGFuY2VkRWNvbW1lcmNlOwogICAgICAgICAgaWYgKHdhcm4gPT09IHRydWUgJiYgcmVzdWx0ID09PSBmYWxzZSkgewogICAgICAgICAgICB0aGF0Ll9sb2coJ3dhcm4nLCAnRW5oYW5jZWQgRWNvbW1lcmNlIG11c3QgYmUgZW5hYmxlZCB0byB1c2UgJyArIGNvbW1hbmQgKyAnIHdpdGggYW5hbHl0aWNzLmpzJyk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIH07CgogICAgICAgIC8qKgogICAgICAgICAqIFRyYWNrIHBhZ2UKICAgICAgICAgaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vYW5hbHl0aWNzL2Rldmd1aWRlcy9jb2xsZWN0aW9uL2dhanMvCiAgICAgICAgIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2FuYWx5dGljcy9kZXZndWlkZXMvY29sbGVjdGlvbi9hbmFseXRpY3Nqcy9wYWdlcwogICAgICAgICAqIEBwYXJhbSB1cmwKICAgICAgICAgKiBAcGFyYW0gdGl0bGUKICAgICAgICAgKiBAcGFyYW0gY3VzdG9tCiAgICAgICAgICogQHByaXZhdGUKICAgICAgICAgKi8KICAgICAgICB0aGlzLl90cmFja1BhZ2UgPSBmdW5jdGlvbiAodXJsLCB0aXRsZSwgY3VzdG9tKSB7CiAgICAgICAgICB1cmwgPSB1cmwgPyB1cmwgOiBnZXRVcmwoKTsKICAgICAgICAgIHRpdGxlID0gdGl0bGUgPyB0aXRsZSA6ICRkb2N1bWVudFswXS50aXRsZTsKICAgICAgICAgIF9nYUpzKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83MzIyMjg4L2hvdy1jYW4taS1zZXQtYS1wYWdlLXRpdGxlLXdpdGgtZ29vZ2xlLWFuYWx5dGljcwogICAgICAgICAgICBfZ2FxKCdfc2V0JywgJ3RpdGxlJywgdGl0bGUpOwogICAgICAgICAgICBfZ2FxKCdfdHJhY2tQYWdldmlldycsICh0cmFja1ByZWZpeCArIHVybCkpOwogICAgICAgICAgfSk7CiAgICAgICAgICBfYW5hbHl0aWNzSnMoZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgb3B0X2ZpZWxkT2JqZWN0ID0gewogICAgICAgICAgICAgICdwYWdlJzogdHJhY2tQcmVmaXggKyB1cmwsCiAgICAgICAgICAgICAgJ3RpdGxlJzogdGl0bGUKICAgICAgICAgICAgfTsKICAgICAgICAgICAgYW5ndWxhci5leHRlbmQob3B0X2ZpZWxkT2JqZWN0LCBnZXRVdG1QYXJhbXMoKSk7CiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzT2JqZWN0KGN1c3RvbSkpIHsKICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZChvcHRfZmllbGRPYmplY3QsIGN1c3RvbSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX2dhTXVsdGlwbGVUcmFja2Vycyh1bmRlZmluZWQsICdzZW5kJywgJ3BhZ2V2aWV3Jywgb3B0X2ZpZWxkT2JqZWN0KTsKICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIC8qKgogICAgICAgICAqIFRyYWNrIGV2ZW50CiAgICAgICAgIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2FuYWx5dGljcy9kZXZndWlkZXMvY29sbGVjdGlvbi9nYWpzL2V2ZW50VHJhY2tlckd1aWRlCiAgICAgICAgIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2FuYWx5dGljcy9kZXZndWlkZXMvY29sbGVjdGlvbi9hbmFseXRpY3Nqcy9ldmVudHMKICAgICAgICAgKiBAcGFyYW0gY2F0ZWdvcnkKICAgICAgICAgKiBAcGFyYW0gYWN0aW9uCiAgICAgICAgICogQHBhcmFtIGxhYmVsCiAgICAgICAgICogQHBhcmFtIHZhbHVlCiAgICAgICAgICogQHBhcmFtIG5vbmludGVyYWN0aW9uCiAgICAgICAgICogQHBhcmFtIGN1c3RvbQogICAgICAgICAqIEBwcml2YXRlCiAgICAgICAgICovCiAgICAgICAgdGhpcy5fdHJhY2tFdmVudCA9IGZ1bmN0aW9uIChjYXRlZ29yeSwgYWN0aW9uLCBsYWJlbCwgdmFsdWUsIG5vbmludGVyYWN0aW9uLCBjdXN0b20pIHsKICAgICAgICAgIF9nYUpzKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX2dhcSgnX3RyYWNrRXZlbnQnLCBjYXRlZ29yeSwgYWN0aW9uLCBsYWJlbCwgdmFsdWUsICEhbm9uaW50ZXJhY3Rpb24pOwogICAgICAgICAgfSk7CiAgICAgICAgICBfYW5hbHl0aWNzSnMoZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgb3B0X2ZpZWxkT2JqZWN0ID0ge307CiAgICAgICAgICAgIHZhciBpbmNsdWRlRm4gPSBmdW5jdGlvbiAodHJhY2tlck9iaikgewogICAgICAgICAgICAgIHJldHVybiBpc1Byb3BlcnR5U2V0VG8oJ3RyYWNrRXZlbnQnLCB0cmFja2VyT2JqLCB0cnVlKTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChub25pbnRlcmFjdGlvbikpIHsKICAgICAgICAgICAgICBvcHRfZmllbGRPYmplY3Qubm9uSW50ZXJhY3Rpb24gPSAhIW5vbmludGVyYWN0aW9uOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzT2JqZWN0KGN1c3RvbSkpIHsKICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZChvcHRfZmllbGRPYmplY3QsIGN1c3RvbSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmlzRGVmaW5lZChvcHRfZmllbGRPYmplY3QucGFnZSkpIHsKICAgICAgICAgICAgICBvcHRfZmllbGRPYmplY3QucGFnZSA9IGdldFVybCgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF9nYU11bHRpcGxlVHJhY2tlcnMoaW5jbHVkZUZuLCAnc2VuZCcsICdldmVudCcsIGNhdGVnb3J5LCBhY3Rpb24sIGxhYmVsLCB2YWx1ZSwgb3B0X2ZpZWxkT2JqZWN0KTsKICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIC8qKgogICAgICAgICAqIEFkZCB0cmFuc2FjdGlvbgogICAgICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2FuYWx5dGljcy9kZXZndWlkZXMvY29sbGVjdGlvbi9nYWpzL21ldGhvZHMvZ2FKU0FwaUVjb21tZXJjZSNfZ2F0LkdBX1RyYWNrZXJfLl9hZGRUcmFucwogICAgICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2FuYWx5dGljcy9kZXZndWlkZXMvY29sbGVjdGlvbi9hbmFseXRpY3Nqcy9lY29tbWVyY2UjYWRkVHJhbnMKICAgICAgICAgKiBAcGFyYW0gdHJhbnNhY3Rpb25JZAogICAgICAgICAqIEBwYXJhbSBhZmZpbGlhdGlvbgogICAgICAgICAqIEBwYXJhbSB0b3RhbAogICAgICAgICAqIEBwYXJhbSB0YXgKICAgICAgICAgKiBAcGFyYW0gc2hpcHBpbmcKICAgICAgICAgKiBAcGFyYW0gY2l0eQogICAgICAgICAqIEBwYXJhbSBzdGF0ZQogICAgICAgICAqIEBwYXJhbSBjb3VudHJ5CiAgICAgICAgICogQHByaXZhdGUKICAgICAgICAgKi8KICAgICAgICB0aGlzLl9hZGRUcmFucyA9IGZ1bmN0aW9uICh0cmFuc2FjdGlvbklkLCBhZmZpbGlhdGlvbiwgdG90YWwsIHRheCwgc2hpcHBpbmcsIGNpdHksIHN0YXRlLCBjb3VudHJ5LCBjdXJyZW5jeSkgewogICAgICAgICAgX2dhSnMoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfZ2FxKCdfYWRkVHJhbnMnLCB0cmFuc2FjdGlvbklkLCBhZmZpbGlhdGlvbiwgdG90YWwsIHRheCwgc2hpcHBpbmcsIGNpdHksIHN0YXRlLCBjb3VudHJ5KTsKICAgICAgICAgIH0pOwogICAgICAgICAgX2FuYWx5dGljc0pzKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKHRoYXQuX2Vjb21tZXJjZUVuYWJsZWQodHJ1ZSwgJ2FkZFRyYW5zJykpIHsKICAgICAgICAgICAgICB2YXIgaW5jbHVkZUZuID0gZnVuY3Rpb24gKHRyYWNrZXJPYmopIHsKICAgICAgICAgICAgICAgIHJldHVybiBpc1Byb3BlcnR5U2V0VG8oJ3RyYWNrRWNvbW1lcmNlJywgdHJhY2tlck9iaiwgdHJ1ZSk7CiAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgX2dhTXVsdGlwbGVUcmFja2VycygKICAgICAgICAgICAgICAgIGluY2x1ZGVGbiwKICAgICAgICAgICAgICAgICdlY29tbWVyY2U6YWRkVHJhbnNhY3Rpb24nLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBpZDogdHJhbnNhY3Rpb25JZCwKICAgICAgICAgICAgICAgICAgYWZmaWxpYXRpb246IGFmZmlsaWF0aW9uLAogICAgICAgICAgICAgICAgICByZXZlbnVlOiB0b3RhbCwKICAgICAgICAgICAgICAgICAgdGF4OiB0YXgsCiAgICAgICAgICAgICAgICAgIHNoaXBwaW5nOiBzaGlwcGluZywKICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5IHx8ICdVU0QnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgLyoqCiAgICAgICAgICogQWRkIGl0ZW0gdG8gdHJhbnNhY3Rpb24KICAgICAgICAgKiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9hbmFseXRpY3MvZGV2Z3VpZGVzL2NvbGxlY3Rpb24vZ2Fqcy9tZXRob2RzL2dhSlNBcGlFY29tbWVyY2UjX2dhdC5HQV9UcmFja2VyXy5fYWRkSXRlbQogICAgICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2FuYWx5dGljcy9kZXZndWlkZXMvY29sbGVjdGlvbi9hbmFseXRpY3Nqcy9lY29tbWVyY2UjYWRkSXRlbQogICAgICAgICAqIEBwYXJhbSB0cmFuc2FjdGlvbklkCiAgICAgICAgICogQHBhcmFtIHNrdQogICAgICAgICAqIEBwYXJhbSBuYW1lCiAgICAgICAgICogQHBhcmFtIGNhdGVnb3J5CiAgICAgICAgICogQHBhcmFtIHByaWNlCiAgICAgICAgICogQHBhcmFtIHF1YW50aXR5CiAgICAgICAgICogQHByaXZhdGUKICAgICAgICAgKi8KICAgICAgICB0aGlzLl9hZGRJdGVtID0gZnVuY3Rpb24gKHRyYW5zYWN0aW9uSWQsIHNrdSwgbmFtZSwgY2F0ZWdvcnksIHByaWNlLCBxdWFudGl0eSkgewogICAgICAgICAgX2dhSnMoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfZ2FxKCdfYWRkSXRlbScsIHRyYW5zYWN0aW9uSWQsIHNrdSwgbmFtZSwgY2F0ZWdvcnksIHByaWNlLCBxdWFudGl0eSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIF9hbmFseXRpY3NKcyhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICh0aGF0Ll9lY29tbWVyY2VFbmFibGVkKHRydWUsICdhZGRJdGVtJykpIHsKICAgICAgICAgICAgICB2YXIgaW5jbHVkZUZuID0gZnVuY3Rpb24gKHRyYWNrZXJPYmopIHsKICAgICAgICAgICAgICAgIHJldHVybiBpc1Byb3BlcnR5U2V0VG8oJ3RyYWNrRWNvbW1lcmNlJywgdHJhY2tlck9iaiwgdHJ1ZSk7CiAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgX2dhTXVsdGlwbGVUcmFja2VycygKICAgICAgICAgICAgICAgIGluY2x1ZGVGbiwKICAgICAgICAgICAgICAgICdlY29tbWVyY2U6YWRkSXRlbScsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIGlkOiB0cmFuc2FjdGlvbklkLAogICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgICAgICAgICBza3U6IHNrdSwKICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LAogICAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UsCiAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiBxdWFudGl0eQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIC8qKgogICAgICAgICAqIFRyYWNrIHRyYW5zYWN0aW9uCiAgICAgICAgICogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vYW5hbHl0aWNzL2Rldmd1aWRlcy9jb2xsZWN0aW9uL2dhanMvbWV0aG9kcy9nYUpTQXBpRWNvbW1lcmNlI19nYXQuR0FfVHJhY2tlcl8uX3RyYWNrVHJhbnMKICAgICAgICAgKiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9hbmFseXRpY3MvZGV2Z3VpZGVzL2NvbGxlY3Rpb24vYW5hbHl0aWNzanMvZWNvbW1lcmNlI3NlbmRpbmdEYXRhCiAgICAgICAgICogQHByaXZhdGUKICAgICAgICAgKi8KICAgICAgICB0aGlzLl90cmFja1RyYW5zID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgX2dhSnMoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfZ2FxKCdfdHJhY2tUcmFucycpOwogICAgICAgICAgfSk7CiAgICAgICAgICBfYW5hbHl0aWNzSnMoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAodGhhdC5fZWNvbW1lcmNlRW5hYmxlZCh0cnVlLCAndHJhY2tUcmFucycpKSB7CiAgICAgICAgICAgICAgdmFyIGluY2x1ZGVGbiA9IGZ1bmN0aW9uICh0cmFja2VyT2JqKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gaXNQcm9wZXJ0eVNldFRvKCd0cmFja0Vjb21tZXJjZScsIHRyYWNrZXJPYmosIHRydWUpOwogICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgIF9nYU11bHRpcGxlVHJhY2tlcnMoaW5jbHVkZUZuLCAnZWNvbW1lcmNlOnNlbmQnKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgLyoqCiAgICAgICAgICogQ2xlYXIgdHJhbnNhY3Rpb24KICAgICAgICAgKiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9hbmFseXRpY3MvZGV2Z3VpZGVzL2NvbGxlY3Rpb24vYW5hbHl0aWNzanMvZWNvbW1lcmNlI2NsZWFyaW5nRGF0YQogICAgICAgICAqIEBwcml2YXRlCiAgICAgICAgICovCiAgICAgICAgdGhpcy5fY2xlYXJUcmFucyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF9hbmFseXRpY3NKcyhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICh0aGF0Ll9lY29tbWVyY2VFbmFibGVkKHRydWUsICdjbGVhclRyYW5zJykpIHsKICAgICAgICAgICAgICB2YXIgaW5jbHVkZUZuID0gZnVuY3Rpb24gKHRyYWNrZXJPYmopIHsKICAgICAgICAgICAgICAgIHJldHVybiBpc1Byb3BlcnR5U2V0VG8oJ3RyYWNrRWNvbW1lcmNlJywgdHJhY2tlck9iaiwgdHJ1ZSk7CiAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgX2dhTXVsdGlwbGVUcmFja2VycyhpbmNsdWRlRm4sICdlY29tbWVyY2U6Y2xlYXInKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgLyoqCiAgICAgICAgICogRW5oYW5jZWQgRWNvbW1lcmNlCiAgICAgICAgICovCgogICAgICAgIC8qKgogICAgICAgICAqIEFkZCBQcm9kdWN0CiAgICAgICAgICogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vYW5hbHl0aWNzL2Rldmd1aWRlcy9jb2xsZWN0aW9uL2FuYWx5dGljc2pzL2VuaGFuY2VkLWVjb21tZXJjZSNwcm9kdWN0LWRhdGEKICAgICAgICAgKiBAcGFyYW0gcHJvZHVjdElkCiAgICAgICAgICogQHBhcmFtIG5hbWUKICAgICAgICAgKiBAcGFyYW0gY2F0ZWdvcnkKICAgICAgICAgKiBAcGFyYW0gYnJhbmQKICAgICAgICAgKiBAcGFyYW0gdmFyaWFudAogICAgICAgICAqIEBwYXJhbSBwcmljZQogICAgICAgICAqIEBwYXJhbSBxdWFudGl0eQogICAgICAgICAqIEBwYXJhbSBjb3Vwb24KICAgICAgICAgKiBAcGFyYW0gcG9zaXRpb24KICAgICAgICAgKiBAcGFyYW0gY3VzdG9tCiAgICAgICAgICogQHByaXZhdGUKICAgICAgICAgKi8KICAgICAgICB0aGlzLl9hZGRQcm9kdWN0ID0gZnVuY3Rpb24gKHByb2R1Y3RJZCwgbmFtZSwgY2F0ZWdvcnksIGJyYW5kLCB2YXJpYW50LCBwcmljZSwgcXVhbnRpdHksIGNvdXBvbiwgcG9zaXRpb24sIGN1c3RvbSkgewogICAgICAgICAgX2dhSnMoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfZ2FxKCdfYWRkUHJvZHVjdCcsIHByb2R1Y3RJZCwgbmFtZSwgY2F0ZWdvcnksIGJyYW5kLCB2YXJpYW50LCBwcmljZSwgcXVhbnRpdHksIGNvdXBvbiwgcG9zaXRpb24pOwogICAgICAgICAgfSk7CiAgICAgICAgICBfYW5hbHl0aWNzSnMoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAodGhhdC5fZW5oYW5jZWRFY29tbWVyY2VFbmFibGVkKHRydWUsICdhZGRQcm9kdWN0JykpIHsKICAgICAgICAgICAgICB2YXIgaW5jbHVkZUZuID0gZnVuY3Rpb24gKHRyYWNrZXJPYmopIHsKICAgICAgICAgICAgICAgIHJldHVybiBpc1Byb3BlcnR5U2V0VG8oJ3RyYWNrRWNvbW1lcmNlJywgdHJhY2tlck9iaiwgdHJ1ZSk7CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB2YXIgZGV0YWlscyA9IHsKICAgICAgICAgICAgICAgIGlkOiBwcm9kdWN0SWQsCiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LAogICAgICAgICAgICAgICAgYnJhbmQ6IGJyYW5kLAogICAgICAgICAgICAgICAgdmFyaWFudDogdmFyaWFudCwKICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSwKICAgICAgICAgICAgICAgIHF1YW50aXR5OiBxdWFudGl0eSwKICAgICAgICAgICAgICAgIGNvdXBvbjogY291cG9uLAogICAgICAgICAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc09iamVjdChjdXN0b20pKSB7CiAgICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZChkZXRhaWxzLCBjdXN0b20pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfZ2FNdWx0aXBsZVRyYWNrZXJzKGluY2x1ZGVGbiwgJ2VjOmFkZFByb2R1Y3QnLCBkZXRhaWxzKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgLyoqCiAgICAgICAgICogQWRkIEltcHJlc3Npb24KICAgICAgICAgKiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9hbmFseXRpY3MvZGV2Z3VpZGVzL2NvbGxlY3Rpb24vYW5hbHl0aWNzanMvZW5oYW5jZWQtZWNvbW1lcmNlI2ltcHJlc3Npb24tZGF0YQogICAgICAgICAqIEBwYXJhbSBpZAogICAgICAgICAqIEBwYXJhbSBuYW1lCiAgICAgICAgICogQHBhcmFtIGxpc3QKICAgICAgICAgKiBAcGFyYW0gYnJhbmQKICAgICAgICAgKiBAcGFyYW0gY2F0ZWdvcnkKICAgICAgICAgKiBAcGFyYW0gdmFyaWFudAogICAgICAgICAqIEBwYXJhbSBwb3NpdGlvbgogICAgICAgICAqIEBwYXJhbSBwcmljZQogICAgICAgICAqIEBwcml2YXRlCiAgICAgICAgICovCiAgICAgICAgdGhpcy5fYWRkSW1wcmVzc2lvbiA9IGZ1bmN0aW9uIChpZCwgbmFtZSwgbGlzdCwgYnJhbmQsIGNhdGVnb3J5LCB2YXJpYW50LCBwb3NpdGlvbiwgcHJpY2UpewogICAgICAgICAgX2dhSnMoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfZ2FxKCdfYWRkSW1wcmVzc2lvbicsIGlkLCBuYW1lLCBsaXN0LCBicmFuZCwgY2F0ZWdvcnksIHZhcmlhbnQsIHBvc2l0aW9uLCBwcmljZSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIF9hbmFseXRpY3NKcyhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICh0aGF0Ll9lbmhhbmNlZEVjb21tZXJjZUVuYWJsZWQodHJ1ZSwgJ2FkZEltcHJlc3Npb24nKSkgewogICAgICAgICAgICAgIHZhciBpbmNsdWRlRm4gPSBmdW5jdGlvbiAodHJhY2tlck9iaikgewogICAgICAgICAgICAgICAgcmV0dXJuIGlzUHJvcGVydHlTZXRUbygndHJhY2tFY29tbWVyY2UnLCB0cmFja2VyT2JqLCB0cnVlKTsKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICBfZ2FNdWx0aXBsZVRyYWNrZXJzKAogICAgICAgICAgICAgICAgaW5jbHVkZUZuLAogICAgICAgICAgICAgICAgJ2VjOmFkZEltcHJlc3Npb24nLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBpZDogaWQsCiAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSwKICAgICAgICAgICAgICAgICAgYnJhbmQ6IGJyYW5kLAogICAgICAgICAgICAgICAgICB2YXJpYW50OiB2YXJpYW50LAogICAgICAgICAgICAgICAgICBsaXN0OiBsaXN0LAogICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24sCiAgICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIC8qKgogICAgICAgICAqIEFkZCBQcm9tbwogICAgICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2FuYWx5dGljcy9kZXZndWlkZXMvY29sbGVjdGlvbi9hbmFseXRpY3Nqcy9lbmhhbmNlZC1lY29tbWVyY2UKICAgICAgICAgKiBAcGFyYW0gcHJvZHVjdElkCiAgICAgICAgICogQHBhcmFtIG5hbWUKICAgICAgICAgKiBAcGFyYW0gY3JlYXRpdmUKICAgICAgICAgKiBAcGFyYW0gcG9zaXRpb24KICAgICAgICAgKiBAcHJpdmF0ZQogICAgICAgICAqLwogICAgICAgIHRoaXMuX2FkZFByb21vID0gZnVuY3Rpb24gKHByb2R1Y3RJZCwgbmFtZSwgY3JlYXRpdmUsIHBvc2l0aW9uKSB7CiAgICAgICAgICBfZ2FKcyhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF9nYXEoJ19hZGRQcm9tbycsIHByb2R1Y3RJZCwgbmFtZSwgY3JlYXRpdmUsIHBvc2l0aW9uKTsKICAgICAgICAgIH0pOwogICAgICAgICAgX2FuYWx5dGljc0pzKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKHRoYXQuX2VuaGFuY2VkRWNvbW1lcmNlRW5hYmxlZCh0cnVlLCAnYWRkUHJvbW8nKSkgewogICAgICAgICAgICAgIHZhciBpbmNsdWRlRm4gPSBmdW5jdGlvbiAodHJhY2tlck9iaikgewogICAgICAgICAgICAgICAgcmV0dXJuIGlzUHJvcGVydHlTZXRUbygndHJhY2tFY29tbWVyY2UnLCB0cmFja2VyT2JqLCB0cnVlKTsKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICBfZ2FNdWx0aXBsZVRyYWNrZXJzKAogICAgICAgICAgICAgICAgaW5jbHVkZUZuLAogICAgICAgICAgICAgICAgJ2VjOmFkZFByb21vJywKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgaWQ6IHByb2R1Y3RJZCwKICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgICAgICAgY3JlYXRpdmU6IGNyZWF0aXZlLAogICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICAvKioKICAgICAgICAgKiBTZXQgQWN0aW9uCiAgICAgICAgICogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vYW5hbHl0aWNzL2Rldmd1aWRlcy9jb2xsZWN0aW9uL2FuYWx5dGljc2pzL2VuaGFuY2VkLWVjb21tZXJjZSNtZWFzdXJpbmctYWN0aW9ucwogICAgICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2FuYWx5dGljcy9kZXZndWlkZXMvY29sbGVjdGlvbi9hbmFseXRpY3Nqcy9lbmhhbmNlZC1lY29tbWVyY2UjYWN0aW9uLXR5cGVzCiAgICAgICAgICogQHBhcmFtIGFjdGlvbgogICAgICAgICAqIEBwYXJhbSBvYmoKICAgICAgICAgKiBAcHJpdmF0ZQogICAgICAgICAqLwogICAgICAgIHRoaXMuX3NldEFjdGlvbiA9IGZ1bmN0aW9uIChhY3Rpb24sIG9iail7CiAgICAgICAgICBfZ2FKcyhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF9nYXEoJ19zZXRBY3Rpb24nLCBhY3Rpb24sIG9iaik7CiAgICAgICAgICB9KTsKICAgICAgICAgIF9hbmFseXRpY3NKcyhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICh0aGF0Ll9lbmhhbmNlZEVjb21tZXJjZUVuYWJsZWQodHJ1ZSwgJ3NldEFjdGlvbicpKSB7CiAgICAgICAgICAgICAgdmFyIGluY2x1ZGVGbiA9IGZ1bmN0aW9uICh0cmFja2VyT2JqKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gaXNQcm9wZXJ0eVNldFRvKCd0cmFja0Vjb21tZXJjZScsIHRyYWNrZXJPYmosIHRydWUpOwogICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgIF9nYU11bHRpcGxlVHJhY2tlcnMoaW5jbHVkZUZuLCAnZWM6c2V0QWN0aW9uJywgYWN0aW9uLCBvYmopOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICAvKioKICAgICAgICAgKiBUcmFjayBUcmFuc2FjdGlvbgogICAgICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2FuYWx5dGljcy9kZXZndWlkZXMvY29sbGVjdGlvbi9hbmFseXRpY3Nqcy9lbmhhbmNlZC1lY29tbWVyY2UjbWVhc3VyaW5nLXRyYW5zYWN0aW9ucwogICAgICAgICAqIEBwYXJhbSB0cmFuc2FjdGlvbklkCiAgICAgICAgICogQHBhcmFtIGFmZmlsaWF0aW9uCiAgICAgICAgICogQHBhcmFtIHJldmVudWUKICAgICAgICAgKiBAcGFyYW0gdGF4CiAgICAgICAgICogQHBhcmFtIHNoaXBwaW5nCiAgICAgICAgICogQHBhcmFtIGNvdXBvbgogICAgICAgICAqIEBwYXJhbSBsaXN0CiAgICAgICAgICogQHBhcmFtIHN0ZXAKICAgICAgICAgKiBAcGFyYW0gb3B0aW9uCiAgICAgICAgICogQHByaXZhdGUKICAgICAgICAgKi8KICAgICAgICB0aGlzLl90cmFja1RyYW5zYWN0aW9uID0gZnVuY3Rpb24gKHRyYW5zYWN0aW9uSWQsIGFmZmlsaWF0aW9uLCByZXZlbnVlLCB0YXgsIHNoaXBwaW5nLCBjb3Vwb24sIGxpc3QsIHN0ZXAsIG9wdGlvbikgewogICAgICAgICAgdGhpcy5fc2V0QWN0aW9uKCdwdXJjaGFzZScsIGdldEFjdGlvbkZpZWxkT2JqZWN0KHRyYW5zYWN0aW9uSWQsIGFmZmlsaWF0aW9uLCByZXZlbnVlLCB0YXgsIHNoaXBwaW5nLCBjb3Vwb24sIGxpc3QsIHN0ZXAsIG9wdGlvbikpOwogICAgICAgIH07CgogICAgICAgIC8qKgogICAgICAgICAqIFRyYWNrIFJlZnVuZAogICAgICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2FuYWx5dGljcy9kZXZndWlkZXMvY29sbGVjdGlvbi9hbmFseXRpY3Nqcy9lbmhhbmNlZC1lY29tbWVyY2UjbWVhc3VyaW5nLXJlZnVuZHMKICAgICAgICAgKiBAcGFyYW0gdHJhbnNhY3Rpb25JZAogICAgICAgICAqIEBwcml2YXRlCiAgICAgICAgICovCiAgICAgICAgdGhpcy5fdHJhY2tSZWZ1bmQgPSBmdW5jdGlvbiAodHJhbnNhY3Rpb25JZCkgewogICAgICAgICAgdGhpcy5fc2V0QWN0aW9uKCdyZWZ1bmQnLCBnZXRBY3Rpb25GaWVsZE9iamVjdCh0cmFuc2FjdGlvbklkKSk7CiAgICAgICAgfTsKCiAgICAgICAgLyoqCiAgICAgICAgICogVHJhY2sgQ2hlY2tvdXQKICAgICAgICAgKiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9hbmFseXRpY3MvZGV2Z3VpZGVzL2NvbGxlY3Rpb24vYW5hbHl0aWNzanMvZW5oYW5jZWQtZWNvbW1lcmNlI21lYXN1cmluZy1jaGVja291dAogICAgICAgICAqIEBwYXJhbSBzdGVwCiAgICAgICAgICogQHBhcmFtIG9wdGlvbgogICAgICAgICAqIEBwcml2YXRlCiAgICAgICAgICovCiAgICAgICAgdGhpcy5fdHJhY2tDaGVja091dCA9IGZ1bmN0aW9uIChzdGVwLCBvcHRpb24pIHsKICAgICAgICAgIHRoaXMuX3NldEFjdGlvbignY2hlY2tvdXQnLCBnZXRBY3Rpb25GaWVsZE9iamVjdChudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBzdGVwLCBvcHRpb24pKTsKICAgICAgICB9OwoKICAgICAgICAvKioKICAgICAgICAgKiBUcmFjayBkZXRhaWwKICAgICAgICAgKiBAcHJpdmF0ZQogICAgICAgICAqLwogICAgICAgIHRoaXMuX3RyYWNrRGV0YWlsID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgdGhpcy5fc2V0QWN0aW9uKCdkZXRhaWwnKTsKICAgICAgICAgIHRoaXMuX3BhZ2VWaWV3KCk7CiAgICAgICAgfTsKCiAgICAgICAgLyoqCiAgICAgICAgICogVHJhY2sgYWRkL3JlbW92ZSB0byBjYXJ0CiAgICAgICAgICogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vYW5hbHl0aWNzL2Rldmd1aWRlcy9jb2xsZWN0aW9uL2FuYWx5dGljc2pzL2VuaGFuY2VkLWVjb21tZXJjZSNhZGQtcmVtb3ZlLWNhcnQKICAgICAgICAgKiBAcGFyYW0gYWN0aW9uCiAgICAgICAgICogQHBhcmFtIGxpc3QKICAgICAgICAgKiBAcHJpdmF0ZQogICAgICAgICAqLwogICAgICAgIHRoaXMuX3RyYWNrQ2FydCA9IGZ1bmN0aW9uIChhY3Rpb24sIGxpc3ROYW1lKSB7CiAgICAgICAgICBpZiAoWydhZGQnLCAncmVtb3ZlJ10uaW5kZXhPZihhY3Rpb24pICE9PSAtMSkgewogICAgICAgICAgICB0aGlzLl9zZXRBY3Rpb24oYWN0aW9uLCB7IGxpc3Q6IGxpc3ROYW1lIH0pOwogICAgICAgICAgICB0aGlzLl90cmFja0V2ZW50KCdVWCcsICdjbGljaycsIGFjdGlvbiArIChhY3Rpb24gPT09ICdhZGQnID8gJyB0byBjYXJ0JyA6ICcgZnJvbSBjYXJ0JykpOwogICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIC8qKgogICAgICAgICAqIFRyYWNrIHByb21vIGNsaWNrCiAgICAgICAgICogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vYW5hbHl0aWNzL2Rldmd1aWRlcy9jb2xsZWN0aW9uL2FuYWx5dGljc2pzL2VuaGFuY2VkLWVjb21tZXJjZSNtZWFzdXJpbmctcHJvbW8tY2xpY2tzCiAgICAgICAgICogQHBhcmFtIHByb21vdGlvbk5hbWUKICAgICAgICAgKiBAcHJpdmF0ZQogICAgICAgICAqLwogICAgICAgIHRoaXMuX3Byb21vQ2xpY2sgPSBmdW5jdGlvbiAocHJvbW90aW9uTmFtZSkgewogICAgICAgICAgdGhpcy5fc2V0QWN0aW9uKCdwcm9tb19jbGljaycpOwogICAgICAgICAgdGhpcy5fdHJhY2tFdmVudCgnSW50ZXJuYWwgUHJvbW90aW9ucycsICdjbGljaycsIHByb21vdGlvbk5hbWUpOwogICAgICAgIH07CgogICAgICAgIC8qKgogICAgICAgICAqIFRyYWNrIHByb2R1Y3QgY2xpY2sKICAgICAgICAgKiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9hbmFseXRpY3MvZGV2Z3VpZGVzL2NvbGxlY3Rpb24vYW5hbHl0aWNzanMvZW5oYW5jZWQtZWNvbW1lcmNlI21lYXN1cmluZy1wcm9tby1jbGlja3MKICAgICAgICAgKiBAcGFyYW0gcHJvbW90aW9uTmFtZQogICAgICAgICAqIEBwcml2YXRlCiAgICAgICAgICovCiAgICAgICAgdGhpcy5fcHJvZHVjdENsaWNrID0gZnVuY3Rpb24gKGxpc3ROYW1lKSB7CiAgICAgICAgICB0aGlzLl9zZXRBY3Rpb24oJ2NsaWNrJywgZ2V0QWN0aW9uRmllbGRPYmplY3QobnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbGlzdE5hbWUsIG51bGwsIG51bGwpKTsKICAgICAgICAgIHRoaXMuX3RyYWNrRXZlbnQoJ1VYJywgJ2NsaWNrJywgbGlzdE5hbWUpOwogICAgICAgIH07CgogICAgICAgIC8qKgogICAgICAgICAqIFNlbmQgcGFnZSB2aWV3CiAgICAgICAgICogQHBhcmFtIHRyYWNrZXJOYW1lCiAgICAgICAgICogQHByaXZhdGUKICAgICAgICAgKi8KICAgICAgICB0aGlzLl9wYWdlVmlldyA9IGZ1bmN0aW9uICh0cmFja2VyTmFtZSkgewogICAgICAgICAgX2FuYWx5dGljc0pzKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX2dhKGdlbmVyYXRlQ29tbWFuZE5hbWUoJ3NlbmQnLCB0cmFja2VyTmFtZSksICdwYWdldmlldycpOwogICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgLyoqCiAgICAgICAgICogU2VuZCBjdXN0b20gZXZlbnRzCiAgICAgICAgICogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vYW5hbHl0aWNzL2Rldmd1aWRlcy9jb2xsZWN0aW9uL2FuYWx5dGljc2pzL3VzZXItdGltaW5ncyNpbXBsZW1lbnRhdGlvbgogICAgICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2FuYWx5dGljcy9kZXZndWlkZXMvY29sbGVjdGlvbi9hbmFseXRpY3Nqcy9zb2NpYWwtaW50ZXJhY3Rpb25zI2ltcGxlbWVudGF0aW9uCiAgICAgICAgICogQHByaXZhdGUKICAgICAgICAgKi8KICAgICAgICB0aGlzLl9zZW5kID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpOwogICAgICAgICAgYXJncy51bnNoaWZ0KCdzZW5kJyk7CiAgICAgICAgICBfYW5hbHl0aWNzSnMoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfZ2EuYXBwbHkodGhhdCwgYXJncyk7CiAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICAvKioKICAgICAgICAgKiBTZXQgY3VzdG9tIGRpbWVuc2lvbnMsIG1ldHJpY3Mgb3IgZXhwZXJpbWVudAogICAgICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2FuYWx5dGljcy9kZXZndWlkZXMvY29sbGVjdGlvbi9hbmFseXRpY3Nqcy9jdXN0b20tZGltcy1tZXRzCiAgICAgICAgICogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vYW5hbHl0aWNzL2Rldmd1aWRlcy9jb2xsZWN0aW9uL2FuYWx5dGljc2pzL2ZpZWxkLXJlZmVyZW5jZSNjdXN0b21zCiAgICAgICAgICogQHBhcmFtIG5hbWUgKFJlcXVpcmVkKQogICAgICAgICAqIEBwYXJhbSB2YWx1ZSAoUmVxdWlyZWQpCiAgICAgICAgICogQHBhcmFtIHRyYWNrZXJOYW1lIChPcHRpb25hbCkKICAgICAgICAgKiBAcHJpdmF0ZQogICAgICAgICAqLwogICAgICAgIHRoaXMuX3NldCA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSwgdHJhY2tlck5hbWUpIHsKICAgICAgICAgIF9hbmFseXRpY3NKcyhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF9nYShnZW5lcmF0ZUNvbW1hbmROYW1lKCdzZXQnLCB0cmFja2VyTmFtZSksIG5hbWUsIHZhbHVlKTsKICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIC8qKgogICAgICAgICAqIFRyYWNrIHVzZXIgdGltaW5ncwogICAgICAgICAqIEBwYXJhbSB0aW1pbmdDYXRlZ29yeSAoUmVxdWlyZWQpOiBBIHN0cmluZyBmb3IgY2F0ZWdvcml6aW5nIGFsbCB1c2VyIHRpbWluZyB2YXJpYWJsZXMgaW50byBsb2dpY2FsIGdyb3VwcyhlLmcgalF1ZXJ5KS4KICAgICAgICAgKiBAcGFyYW0gdGltaW5nVmFyIChSZXF1aXJlZCk6IEEgc3RyaW5nIHRvIGlkZW50aWZ5IHRoZSB2YXJpYWJsZSBiZWluZyByZWNvcmRlZChlLmcuIEphdmFTY3JpcHQgTG9hZCkuCiAgICAgICAgICogQHBhcmFtIHRpbWluZ1ZhbHVlIChSZXF1aXJlZCk6IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGluIGVsYXBzZWQgdGltZSB0byByZXBvcnQgdG8gR29vZ2xlIEFuYWx5dGljcyhlLmcuIDIwKS4KICAgICAgICAgKiBAcGFyYW0gdGltaW5nTGFiZWwgKE9wdGlvbmFsKTogQSBzdHJpbmcgdGhhdCBjYW4gYmUgdXNlZCB0byBhZGQgZmxleGliaWxpdHkgaW4gdmlzdWFsaXppbmcgdXNlciB0aW1pbmdzIGluIHRoZSByZXBvcnRzKGUuZy4gR29vZ2xlIENETikuCiAgICAgICAgICogQHByaXZhdGUKICAgICAgICAgKi8KICAgICAgICB0aGlzLl90cmFja1RpbWluZ3MgPSBmdW5jdGlvbiAodGltaW5nQ2F0ZWdvcnksIHRpbWluZ1ZhciwgdGltaW5nVmFsdWUsIHRpbWluZ0xhYmVsKSB7CiAgICAgICAgICBfYW5hbHl0aWNzSnMoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfZ2FNdWx0aXBsZVRyYWNrZXJzKHVuZGVmaW5lZCwgJ3NlbmQnLCAndGltaW5nJywgdGltaW5nQ2F0ZWdvcnksIHRpbWluZ1ZhciwgdGltaW5nVmFsdWUsIHRpbWluZ0xhYmVsKTsKICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIC8qKgogICAgICAgICAqIEV4Y2VwdGlvbiB0cmFja2luZwogICAgICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2FuYWx5dGljcy9kZXZndWlkZXMvY29sbGVjdGlvbi9hbmFseXRpY3Nqcy9leGNlcHRpb25zCiAgICAgICAgICogQHBhcmFtIGRlc2NyaXB0aW9uIChPcHRpb25hbCk6IEEgZGVzY3JpcHRpb24gb2YgdGhlIGV4Y2VwdGlvbi4KICAgICAgICAgKiBAcGFyYW0gaXNGYXRhbCAoT3B0aW9uYWwpOiB0cnVlIGlmIHRoZSBleGNlcHRpb24gd2FzIGZhdGFsLCBmYWxzZSBvdGhlcndpc2UuCiAgICAgICAgICogQHByaXZhdGUKICAgICAgICAgKi8KICAgICAgICB0aGlzLl90cmFja0V4Y2VwdGlvbiA9IGZ1bmN0aW9uIChkZXNjcmlwdGlvbiwgaXNGYXRhbCkgewogICAgICAgICAgX2FuYWx5dGljc0pzKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX2dhTXVsdGlwbGVUcmFja2Vycyh1bmRlZmluZWQsICdzZW5kJywgJ2V4Y2VwdGlvbicsIHsgZXhEZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sIGV4RmF0YWw6ICEhaXNGYXRhbH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgLy8gY3JlYXRlcyB0aGUgR29vZ2xlIEFuYWx5dGljcyB0cmFja2VyCiAgICAgICAgaWYgKCFkZWxheVNjcmlwdFRhZykgewogICAgICAgICAgdGhpcy5fcmVnaXN0ZXJTY3JpcHRUYWdzKCk7CiAgICAgICAgICB0aGlzLl9yZWdpc3RlclRyYWNrZXJzKCk7CiAgICAgICAgfQoKICAgICAgICAvLyBhY3RpdmF0ZXMgcGFnZSB0cmFja2luZwogICAgICAgIGlmICh0cmFja1JvdXRlcykgewogICAgICAgICAgJHJvb3RTY29wZS4kb24ocGFnZUV2ZW50LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vIEFwcGx5ICRyb3V0ZSBiYXNlZCBmaWx0ZXJpbmcgaWYgY29uZmlndXJlZAogICAgICAgICAgICBpZiAocmVhZEZyb21Sb3V0ZSkgewogICAgICAgICAgICAgIC8vIEF2b2lkIHRyYWNraW5nIHVuZGVmaW5lZCByb3V0ZXMsIHJvdXRlcyB3aXRob3V0IHRlbXBsYXRlIChlLmcuIHJlZGlyZWN0IHJvdXRlcykKICAgICAgICAgICAgICAvLyBhbmQgdGhvc2UgZXhwbGljaXRseSBtYXJrZWQgYXMgJ2RvIG5vdCB0cmFjaycKICAgICAgICAgICAgICBpZiAoISRyb3V0ZS5jdXJyZW50IHx8ICEkcm91dGUuY3VycmVudC50ZW1wbGF0ZVVybCB8fCAkcm91dGUuY3VycmVudC5kb05vdFRyYWNrKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICB0aGF0Ll90cmFja1BhZ2UoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGxvZzogdGhhdC5sb2csCiAgICAgICAgICBvZmZsaW5lUXVldWU6IHRoYXQub2ZmbGluZVF1ZXVlLAogICAgICAgICAgY29uZmlndXJhdGlvbjogewogICAgICAgICAgICBhY2NvdW50czogYWNjb3VudHMsCiAgICAgICAgICAgIHVuaXZlcnNhbEFuYWx5dGljczogYW5hbHl0aWNzSlMsCiAgICAgICAgICAgIGNyb3NzRG9tYWluTGlua2VyOiBjcm9zc0RvbWFpbkxpbmtlciwKICAgICAgICAgICAgY3Jvc3NMaW5rRG9tYWluczogY3Jvc3NMaW5rRG9tYWlucywKICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5LAogICAgICAgICAgICBkZWJ1Z01vZGU6IGRlYnVnTW9kZSwKICAgICAgICAgICAgZGVsYXlTY3JpcHRUYWc6IGRlbGF5U2NyaXB0VGFnLAogICAgICAgICAgICBkaXNhYmxlQW5hbHl0aWNzOiBkaXNhYmxlQW5hbHl0aWNzLAogICAgICAgICAgICBkaXNwbGF5RmVhdHVyZXM6IGRpc3BsYXlGZWF0dXJlcywKICAgICAgICAgICAgZG9tYWluTmFtZTogZG9tYWluTmFtZSwKICAgICAgICAgICAgZWNvbW1lcmNlOiB0aGF0Ll9lY29tbWVyY2VFbmFibGVkKCksCiAgICAgICAgICAgIGVuaGFuY2VkRWNvbW1lcmNlOiB0aGF0Ll9lbmhhbmNlZEVjb21tZXJjZUVuYWJsZWQoKSwKICAgICAgICAgICAgZW5oYW5jZWRMaW5rQXR0cmlidXRpb246IGVuaGFuY2VkTGlua0F0dHJpYnV0aW9uLAogICAgICAgICAgICBleHBlcmltZW50SWQ6IGV4cGVyaW1lbnRJZCwKICAgICAgICAgICAgaHlicmlkTW9iaWxlU3VwcG9ydDogaHlicmlkTW9iaWxlU3VwcG9ydCwKICAgICAgICAgICAgaWdub3JlRmlyc3RQYWdlTG9hZDogaWdub3JlRmlyc3RQYWdlTG9hZCwKICAgICAgICAgICAgbG9nQWxsQ2FsbHM6IGxvZ0FsbENhbGxzLAogICAgICAgICAgICBwYWdlRXZlbnQ6IHBhZ2VFdmVudCwKICAgICAgICAgICAgcmVhZEZyb21Sb3V0ZTogcmVhZEZyb21Sb3V0ZSwKICAgICAgICAgICAgcmVtb3ZlUmVnRXhwOiByZW1vdmVSZWdFeHAsCiAgICAgICAgICAgIHRlc3RNb2RlOiB0ZXN0TW9kZSwKICAgICAgICAgICAgdHJhY2VEZWJ1Z2dpbmdNb2RlOiB0cmFjZURlYnVnZ2luZ01vZGUsCiAgICAgICAgICAgIHRyYWNrUHJlZml4OiB0cmFja1ByZWZpeCwKICAgICAgICAgICAgdHJhY2tSb3V0ZXM6IHRyYWNrUm91dGVzLAogICAgICAgICAgICB0cmFja1VybFBhcmFtczogdHJhY2tVcmxQYXJhbXMKICAgICAgICAgIH0sCiAgICAgICAgICBnZXRVcmw6IGdldFVybCwKICAgICAgICAgIC8qIERFUFJFQ0FURUQgKi8KICAgICAgICAgIHNldENvb2tpZUNvbmZpZzogZnVuY3Rpb24gKGNvbmZpZykgewogICAgICAgICAgICB0aGF0Ll9sb2coJ3dhcm4nLCAnREVQUkVDQVRJT04gV0FSTklORzogc2V0Q29va2llQ29uZmlnIG1ldGhvZCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHRyYWNrZXIgZmllbGRzIGluc3RlYWQuJyk7CiAgICAgICAgICAgIHJldHVybiB0aGF0Ll9zZXRDb29raWVDb25maWcuYXBwbHkodGhhdCwgYXJndW1lbnRzKTsKICAgICAgICAgIH0sCiAgICAgICAgICAvKiBERVBSRUNBVEVEICovCiAgICAgICAgICBnZXRDb29raWVDb25maWc6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhhdC5fbG9nKCd3YXJuJywgJ0RFUFJFQ0FUSU9OIFdBUk5JTkc6IGdldENvb2tpZUNvbmZpZyBtZXRob2QgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0cmFja2VyIGZpZWxkcyBpbnN0ZWFkLicpOwogICAgICAgICAgICByZXR1cm4gY29va2llQ29uZmlnOwogICAgICAgICAgfSwKICAgICAgICAgIC8qIERFUFJFQ0FURUQgKi8KICAgICAgICAgIGNyZWF0ZUFuYWx5dGljc1NjcmlwdFRhZzogZnVuY3Rpb24gKGNvbmZpZykgewogICAgICAgICAgICB0aGF0Ll9sb2coJ3dhcm4nLCAnREVQUkVDQVRJT04gV0FSTklORzogY3JlYXRlQW5hbHl0aWNzU2NyaXB0VGFnIG1ldGhvZCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHJlZ2lzdGVyU2NyaXB0VGFncyBhbmQgcmVnaXN0ZXJUcmFja2VycyBtZXRob2RzIGluc3RlYWQuJyk7CiAgICAgICAgICAgIGlmIChjb25maWcpIHsKICAgICAgICAgICAgICBjb29raWVDb25maWcgPSBjb25maWc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRoYXQuX2NyZWF0ZUFuYWx5dGljc1NjcmlwdFRhZygpOwogICAgICAgICAgfSwKICAgICAgICAgIC8qIERFUFJFQ0FURUQgKi8KICAgICAgICAgIGNyZWF0ZVNjcmlwdFRhZzogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aGF0Ll9sb2coJ3dhcm4nLCAnREVQUkVDQVRJT04gV0FSTklORzogY3JlYXRlU2NyaXB0VGFnIG1ldGhvZCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHJlZ2lzdGVyU2NyaXB0VGFncyBhbmQgcmVnaXN0ZXJUcmFja2VycyBtZXRob2RzIGluc3RlYWQuJyk7CiAgICAgICAgICAgIHJldHVybiB0aGF0Ll9jcmVhdGVTY3JpcHRUYWcoKTsKICAgICAgICAgIH0sCiAgICAgICAgICByZWdpc3RlclNjcmlwdFRhZ3M6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoYXQuX3JlZ2lzdGVyU2NyaXB0VGFncygpOwogICAgICAgICAgfSwKICAgICAgICAgIHJlZ2lzdGVyVHJhY2tlcnM6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoYXQuX3JlZ2lzdGVyVHJhY2tlcnMoKTsKICAgICAgICAgIH0sCiAgICAgICAgICBvZmZsaW5lOiBmdW5jdGlvbiAobW9kZSkgewogICAgICAgICAgICBpZiAobW9kZSA9PT0gdHJ1ZSAmJiBvZmZsaW5lTW9kZSA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICAvLyBHbyB0byBvZmZsaW5lIG1vZGUKICAgICAgICAgICAgICBvZmZsaW5lTW9kZSA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG1vZGUgPT09IGZhbHNlICYmIG9mZmxpbmVNb2RlID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgLy8gR28gdG8gb25saW5lIG1vZGUgYW5kIHByb2Nlc3MgdGhlIG9mZmxpbmUgcXVldWUKICAgICAgICAgICAgICBvZmZsaW5lTW9kZSA9IGZhbHNlOwogICAgICAgICAgICAgIHdoaWxlICh0aGF0Lm9mZmxpbmVRdWV1ZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICB2YXIgb2JqID0gdGhhdC5vZmZsaW5lUXVldWUuc2hpZnQoKTsKICAgICAgICAgICAgICAgIG9ialswXS5hcHBseSh0aGF0LCBvYmpbMV0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gb2ZmbGluZU1vZGU7CiAgICAgICAgICB9LAogICAgICAgICAgdHJhY2tQYWdlOiBmdW5jdGlvbiAodXJsLCB0aXRsZSwgY3VzdG9tKSB7CiAgICAgICAgICAgIHRoYXQuX3RyYWNrUGFnZS5hcHBseSh0aGF0LCBhcmd1bWVudHMpOwogICAgICAgICAgfSwKICAgICAgICAgIHRyYWNrRXZlbnQ6IGZ1bmN0aW9uIChjYXRlZ29yeSwgYWN0aW9uLCBsYWJlbCwgdmFsdWUsIG5vbmludGVyYWN0aW9uLCBjdXN0b20pIHsKICAgICAgICAgICAgdGhhdC5fdHJhY2tFdmVudC5hcHBseSh0aGF0LCBhcmd1bWVudHMpOwogICAgICAgICAgfSwKICAgICAgICAgIGFkZFRyYW5zOiBmdW5jdGlvbiAodHJhbnNhY3Rpb25JZCwgYWZmaWxpYXRpb24sIHRvdGFsLCB0YXgsIHNoaXBwaW5nLCBjaXR5LCBzdGF0ZSwgY291bnRyeSwgY3VycmVuY3kpIHsKICAgICAgICAgICAgdGhhdC5fYWRkVHJhbnMuYXBwbHkodGhhdCwgYXJndW1lbnRzKTsKICAgICAgICAgIH0sCiAgICAgICAgICBhZGRJdGVtOiBmdW5jdGlvbiAodHJhbnNhY3Rpb25JZCwgc2t1LCBuYW1lLCBjYXRlZ29yeSwgcHJpY2UsIHF1YW50aXR5KSB7CiAgICAgICAgICAgIHRoYXQuX2FkZEl0ZW0uYXBwbHkodGhhdCwgYXJndW1lbnRzKTsKICAgICAgICAgIH0sCiAgICAgICAgICB0cmFja1RyYW5zOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoYXQuX3RyYWNrVHJhbnMuYXBwbHkodGhhdCwgYXJndW1lbnRzKTsKICAgICAgICAgIH0sCiAgICAgICAgICBjbGVhclRyYW5zOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoYXQuX2NsZWFyVHJhbnMuYXBwbHkodGhhdCwgYXJndW1lbnRzKTsKICAgICAgICAgIH0sCiAgICAgICAgICBhZGRQcm9kdWN0OiBmdW5jdGlvbiAocHJvZHVjdElkLCBuYW1lLCBjYXRlZ29yeSwgYnJhbmQsIHZhcmlhbnQsIHByaWNlLCBxdWFudGl0eSwgY291cG9uLCBwb3NpdGlvbiwgY3VzdG9tKSB7CiAgICAgICAgICAgIHRoYXQuX2FkZFByb2R1Y3QuYXBwbHkodGhhdCwgYXJndW1lbnRzKTsKICAgICAgICAgIH0sCiAgICAgICAgICBhZGRQcm9tbzogZnVuY3Rpb24gKHByb2R1Y3RJZCwgbmFtZSwgY3JlYXRpdmUsIHBvc2l0aW9uKSB7CiAgICAgICAgICAgIHRoYXQuX2FkZFByb21vLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7CiAgICAgICAgICB9LAogICAgICAgICAgYWRkSW1wcmVzc2lvbjogZnVuY3Rpb24gKHByb2R1Y3RJZCwgbmFtZSwgbGlzdCwgYnJhbmQsIGNhdGVnb3J5LCB2YXJpYW50LCBwb3NpdGlvbiwgcHJpY2UpIHsKICAgICAgICAgICAgdGhhdC5fYWRkSW1wcmVzc2lvbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpOwogICAgICAgICAgfSwKICAgICAgICAgIHByb2R1Y3RDbGljazogZnVuY3Rpb24gKGxpc3ROYW1lKSB7CiAgICAgICAgICAgIHRoYXQuX3Byb2R1Y3RDbGljay5hcHBseSh0aGF0LCBhcmd1bWVudHMpOwogICAgICAgICAgfSwKICAgICAgICAgIHByb21vQ2xpY2sgOiBmdW5jdGlvbiAocHJvbW90aW9uTmFtZSkgewogICAgICAgICAgICB0aGF0Ll9wcm9tb0NsaWNrLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7CiAgICAgICAgICB9LAogICAgICAgICAgdHJhY2tEZXRhaWw6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhhdC5fdHJhY2tEZXRhaWwuYXBwbHkodGhhdCwgYXJndW1lbnRzKTsKICAgICAgICAgIH0sCiAgICAgICAgICB0cmFja0NhcnQ6IGZ1bmN0aW9uIChhY3Rpb24sIGxpc3QpIHsKICAgICAgICAgICAgdGhhdC5fdHJhY2tDYXJ0LmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7CiAgICAgICAgICB9LAogICAgICAgICAgdHJhY2tDaGVja291dDogZnVuY3Rpb24gKHN0ZXAsIG9wdGlvbikgewogICAgICAgICAgICB0aGF0Ll90cmFja0NoZWNrT3V0LmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7CiAgICAgICAgICB9LAogICAgICAgICAgdHJhY2tUaW1pbmdzOiBmdW5jdGlvbiAodGltaW5nQ2F0ZWdvcnksIHRpbWluZ1ZhciwgdGltaW5nVmFsdWUsIHRpbWluZ0xhYmVsKSB7CiAgICAgICAgICAgIHRoYXQuX3RyYWNrVGltaW5ncy5hcHBseSh0aGF0LCBhcmd1bWVudHMpOwogICAgICAgICAgfSwKICAgICAgICAgIHRyYWNrVHJhbnNhY3Rpb246IGZ1bmN0aW9uICh0cmFuc2FjdGlvbklkLCBhZmZpbGlhdGlvbiwgcmV2ZW51ZSwgdGF4LCBzaGlwcGluZywgY291cG9uLCBsaXN0LCBzdGVwLCBvcHRpb24pIHsKICAgICAgICAgICAgdGhhdC5fdHJhY2tUcmFuc2FjdGlvbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpOwogICAgICAgICAgfSwKICAgICAgICAgIHRyYWNrRXhjZXB0aW9uOiBmdW5jdGlvbiAoZGVzY3JpcHRpb24sIGlzRmF0YWwpIHsKICAgICAgICAgICAgdGhhdC5fdHJhY2tFeGNlcHRpb24uYXBwbHkodGhhdCwgYXJndW1lbnRzKTsKICAgICAgICAgIH0sCiAgICAgICAgICBzZXRBY3Rpb246IGZ1bmN0aW9uIChhY3Rpb24sIG9iaikgewogICAgICAgICAgICB0aGF0Ll9zZXRBY3Rpb24uYXBwbHkodGhhdCwgYXJndW1lbnRzKTsKICAgICAgICAgIH0sCiAgICAgICAgICBwYWdlVmlldzogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aGF0Ll9wYWdlVmlldy5hcHBseSh0aGF0LCBhcmd1bWVudHMpOwogICAgICAgICAgfSwKICAgICAgICAgIHNlbmQ6IGZ1bmN0aW9uIChvYmopIHsKICAgICAgICAgICAgdGhhdC5fc2VuZC5hcHBseSh0aGF0LCBhcmd1bWVudHMpOwogICAgICAgICAgfSwKICAgICAgICAgIHNldDogZnVuY3Rpb24gKG5hbWUsIHZhbHVlLCB0cmFja2VyTmFtZSkgewogICAgICAgICAgICB0aGF0Ll9zZXQuYXBwbHkodGhhdCwgYXJndW1lbnRzKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9XTsKICAgIH0pCgogICAgLmRpcmVjdGl2ZSgnZ2FUcmFja0V2ZW50JywgWydBbmFseXRpY3MnLCAnJHBhcnNlJywgZnVuY3Rpb24gKEFuYWx5dGljcywgJHBhcnNlKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgcmVzdHJpY3Q6ICdBJywKICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7CiAgICAgICAgICB2YXIgb3B0aW9ucyA9ICRwYXJzZShhdHRycy5nYVRyYWNrRXZlbnQpOwogICAgICAgICAgZWxlbWVudC5iaW5kKCdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYoYXR0cnMuZ2FUcmFja0V2ZW50SWYpewogICAgICAgICAgICAgIGlmKCFzY29wZS4kZXZhbChhdHRycy5nYVRyYWNrRXZlbnRJZikpewogICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBDYW5jZWwgdGhpcyBldmVudCBpZiB3ZSBkb24ndCBwYXNzIHRoZSBnYS10cmFjay1ldmVudC1pZiBjb25kaXRpb24KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG9wdGlvbnMubGVuZ3RoID4gMSkgewogICAgICAgICAgICAgIEFuYWx5dGljcy50cmFja0V2ZW50LmFwcGx5KEFuYWx5dGljcywgb3B0aW9ucyhzY29wZSkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH07CiAgICB9XSk7CiAgcmV0dXJuIGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyLWdvb2dsZS1hbmFseXRpY3MnKTsKfSkpOwoKLyoqCiAqIENyZWF0ZWQgYnkga3ViYW55IG9uIDEwLzEyLzIwMTUuCiAqLwpyZXF1aXJlLmNvbmZpZyh7CiAgICAid2FpdFNlY29uZHMiOiA2MDAsCiAgICBwYXRoczogewoKICAgICAgICAnanF1ZXJ5JzogJ3ZlbmRvci9qcXVlcnkvZGlzdC9qcXVlcnkubWluJywKICAgICAgICAnanF1ZXJ5LWJleic6ICd2ZW5kb3IvanF1ZXJ5LWJlei9qcXVlcnkuYmV6Lm1pbicsCiAgICAgICAgJ2pxdWVyeS5hbmltYXRlLWNvbG9ycyc6ICd2ZW5kb3IvanF1ZXJ5LWNvbG9yLWFuaW1hdGlvbi9qcXVlcnkuYW5pbWF0ZS1jb2xvcnMtbWluJywKCgogICAgICAgICdhbmd1bGFyJzogJ3ZlbmRvci9hbmd1bGFyL2FuZ3VsYXIubWluJywKICAgICAgICAnYW5ndWxhci1jb29raWUnOiAndmVuZG9yL2FuZ3VsYXItY29va2llL2FuZ3VsYXItY29va2llLm1pbicsCiAgICAgICAgJ3RvYXN0ZXInOiAndmVuZG9yL0FuZ3VsYXJKUy1Ub2FzdGVyL3RvYXN0ZXIubWluJywKICAgICAgICAnYW5ndWxhci10cmFuc2xhdGUnOiAndmVuZG9yL2FuZ3VsYXItdHJhbnNsYXRlL2FuZ3VsYXItdHJhbnNsYXRlLm1pbicsCiAgICAgICAgInVpUm91dGVyIjogJ3ZlbmRvci9hbmd1bGFyLXVpLXJvdXRlci9yZWxlYXNlL2FuZ3VsYXItdWktcm91dGVyLm1pbicsCiAgICAgICAgJ2FuZ3VsYXJBbmltYXRlJzogJ3ZlbmRvci9hbmd1bGFyLWFuaW1hdGUvYW5ndWxhci1hbmltYXRlLm1pbicsCiAgICAgICAgJ2FuZ3VsYXJBdXRvY29tcGxldGUnOiAndmVuZG9yL25nQXV0b2NvbXBsZXRlL3NyYy9uZ0F1dG9jb21wbGV0ZScsCiAgICAgICAgJ3VuZGVyc2NvcmUnIDogJ3ZlbmRvci91bmRlcnNjb3JlL3VuZGVyc2NvcmUtbWluJywKCiAgICAgICAgJ2Jvb3RzdHJhcCc6ICd2ZW5kb3IvYm9vdHN0cmFwL2Rpc3QvanMvYm9vdHN0cmFwLm1pbicsCiAgICAgICAgJ3VpLWJvb3RzdHJhcCc6ICd2ZW5kb3IvYW5ndWxhci1ib290c3RyYXAvdWktYm9vdHN0cmFwLXRwbHMubWluJywKICAgICAgICAnYW5ndWxhci1nb29nbGUtYW5hbHl0aWNzJzogJ3ZlbmRvci9hbmd1bGFyLWdvb2dsZS1hbmFseXRpY3MvZGlzdC9hbmd1bGFyLWdvb2dsZS1hbmFseXRpY3MnLAoKCiAgICAgICAgJ2pQdXNoTWVudSc6ICd1dGlscy9qUHVzaE1lbnUnLAogICAgICAgICdtYWluU2NyaXB0JzogJ3V0aWxzL21haW4nLAogICAgICAgICdhY2NvcmRpb24nOiAndXRpbHMvYWNjb3JkaW9uJywKICAgICAgICAnc2VydmVyJzogJ3V0aWxzL3NlcnZlcicsCiAgICAgICAgJ25vdWlzbGlkZXInOiAndXRpbHMvbm9VaVNsaWRlci44LjIuMS9ub3Vpc2xpZGVyJywKICAgICAgICAnd3JvbmdEaXJlY3Rpb24nOiAndXRpbHMvd3JvbmdEaXJlY3Rpb24nLAogICAgICAgICdVc2VyQ29va2llJzogJ3V0aWxzL01vZGVscy9Vc2VyQ29va2llJywKICAgICAgICAnc2xpZGVyJzogJ3V0aWxzL3NsaWRlcicsCiAgICAgICAgJ2pxdWVyeS1zb2FwJzogJ3V0aWxzL2pxdWVyeS5zb2FwJywKCiAgICAgICAgJ2VuZ2xpc2hMYW5ndWFnZSc6ICdsYW5ndWFnZXMvZW5nbGlzaCcsCgoKCiAgICB9LAogICAgc2hpbTogewoKCiAgICAgICAgJ2FuZ3VsYXInOiB7CiAgICAgICAgICAgICdleHBvcnRzJzogJ2FuZ3VsYXInCiAgICAgICAgfSwKICAgICAgICAnYXBwJzogewogICAgICAgICAgICBkZXBzOiBbJ2FuZ3VsYXInXQogICAgICAgIH0sCiAgICAgICAgJ2FuZ3VsYXItY29va2llJzogewogICAgICAgICAgICBkZXBzOiBbJ2FuZ3VsYXInXQogICAgICAgIH0sCiAgICAgICAgJ3RvYXN0ZXInOiB7CiAgICAgICAgICAgIGRlcHM6IFsnYW5ndWxhcicsICdhbmd1bGFyQW5pbWF0ZSddCiAgICAgICAgfSwKICAgICAgICAnYW5ndWxhci10cmFuc2xhdGUnOiB7CiAgICAgICAgICAgIGRlcHM6IFsnYW5ndWxhciddCiAgICAgICAgfSwKICAgICAgICAnbm91aXNsaWRlcic6IHt9LAogICAgICAgICdlbmdsaXNoTGFuZ3VhZ2UnOiB7fSwKICAgICAgICAnYW5ndWxhckF1dG9jb21wbGV0ZSc6IHsKICAgICAgICAgICAgZGVwczogWydhbmd1bGFyJ10KICAgICAgICB9LAogICAgICAgICd1aS1ib290c3RyYXAnOiBbJ2FuZ3VsYXInXSwKICAgICAgICAnYW5ndWxhckFuaW1hdGUnOiBbJ2FuZ3VsYXInXSwKICAgICAgICAnanF1ZXJ5LWJleic6IHsKICAgICAgICAgICAgZGVwczogWydqcXVlcnknXQogICAgICAgIH0sCiAgICAgICAgJ2pxdWVyeS1zb2FwJzogewogICAgICAgICAgICAnZGVwcyc6IFsnanF1ZXJ5J10KICAgICAgICB9LAogICAgICAgICdqcXVlcnkuYW5pbWF0ZS1jb2xvcnMnOiB7CiAgICAgICAgICAgIGRlcHM6IFsnanF1ZXJ5J10KICAgICAgICB9LAogICAgICAgICdib290c3RyYXAnOiB7CiAgICAgICAgICAgIGRlcHM6IFsnanF1ZXJ5J10KICAgICAgICB9LAogICAgICAgICdqUHVzaE1lbnUnOiB7CiAgICAgICAgICAgIGRlcHM6IFsnanF1ZXJ5J10KICAgICAgICB9LAogICAgICAgICdtYWluU2NyaXB0JzogewogICAgICAgICAgICBkZXBzOiBbJ2pxdWVyeSddCiAgICAgICAgfSwKICAgICAgICAnYWNjb3JkaW9uJzogewogICAgICAgICAgICBkZXBzOiBbJ2pxdWVyeSddCiAgICAgICAgfSwKICAgICAgICAnc2xpZGVyJzogewogICAgICAgICAgICBkZXBzOiBbJ2pxdWVyeSddCiAgICAgICAgfSwKICAgICAgICAnd3JvbmdEaXJlY3Rpb24nOiB7CiAgICAgICAgICAgIGRlcHM6IFsnanF1ZXJ5J10KICAgICAgICB9LAogICAgICAgICd1aVJvdXRlcic6IHsKICAgICAgICAgICAgZGVwczogWydhbmd1bGFyJ10KICAgICAgICB9CiAgICB9Cn0pOwoKd2luZG93Lm5hbWUgPSAiTkdfREVGRVJfQk9PVFNUUkFQISI7CgpyZXF1aXJlKFsnYW5ndWxhcicsICdhcHAnLCAnYW5ndWxhci10cmFuc2xhdGUnLCAnYm9vdHN0cmFwJywgJ2VuZ2xpc2hMYW5ndWFnZScsCiAgICAgICAgJ2pxdWVyeScsICdqcXVlcnktYmV6JywgJ2pxdWVyeS5hbmltYXRlLWNvbG9ycycsICdqUHVzaE1lbnUnLCAnbWFpblNjcmlwdCcsICdzZXJ2ZXInLAogICAgICAgICdub3Vpc2xpZGVyJywgJ2FjY29yZGlvbicsICd3cm9uZ0RpcmVjdGlvbicsICdVc2VyQ29va2llJywKICAgICAgICAnc2xpZGVyJywgJ3VpUm91dGVyJywgJ2FuZ3VsYXItY29va2llJywgJ3RvYXN0ZXInLCAnYW5ndWxhckF1dG9jb21wbGV0ZScsCiAgICAgICAgJ2FuZ3VsYXJBbmltYXRlJywgJ3VpLWJvb3RzdHJhcCcsICdqcXVlcnktc29hcCcsICd1bmRlcnNjb3JlJywgJ2FuZ3VsYXItZ29vZ2xlLWFuYWx5dGljcycsCiAgICBdLCBmdW5jdGlvbiAoYW5ndWxhciwgYXBwKSB7CiAgICAgICAgICAgIGFuZ3VsYXIuYm9vdHN0cmFwKGRvY3VtZW50LCBbJ2FvcyddKTsKICAgICAgICAgICAgYW5ndWxhci5yZXN1bWVCb290c3RyYXAoKTsKICAgIH0KKTsKCgoKCmRlZmluZSgibWFpbiIsIGZ1bmN0aW9uKCl7fSk7Cgo=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <HTTPPropertySet>
        <HTTPProperty name="StreamID">9</HTTPProperty>
        <HTTPProperty name="TotalHeadersSize">274</HTTPProperty>
      </HTTPPropertySet>
    </HTTPResponse>
  </HTTPTask>
  <HTTPTask id="6" hostname="www.advantageonlineshopping.com" path="/services.properties" url="https://www.advantageonlineshopping.com/services.properties" ip="54.227.55.203" port="443" client_ip="192.168.0.11" client_port="21440" connectionId="2288" origin="ExtraRes" encodingType="ANSI" ordinal="2" startDateTime="2023-05-24T16:05:41.976+03:00" startTime="852" endTime="1153" blockedTime="-1" dnsTime="-1" connectTime="-2" sendTime="4294967295" waitTime="4294967295" receiveTime="1153" sslNegotiateTime="-1" responseBodySize="1234">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name=":method" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VU</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name=":scheme" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name=":path" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>L3NlcnZpY2VzLnByb3BlcnRpZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name=":authority" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>d3d3LmFkdmFudGFnZW9ubGluZXNob3BwaW5nLmNvbQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly93d3cuYWR2YW50YWdlb25saW5lc2hvcHBpbmcuY29tLw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Site" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm9uZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Mode" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bmF2aWdhdGU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Dest" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZG9jdW1lbnQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-User" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>PzE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Upgrade-Insecure-Requests" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="sec-ch-ua" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ikdvb2dsZSBDaHJvbWUiO3Y9IjExMyIsICJDaHJvbWl1bSI7dj0iMTEzIiwgIk5vdC1BLkJyYW5kIjt2PSIyNCI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="sec-ch-ua-mobile" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>PzA=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="sec-ch-ua-platform" index="12">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IldpbmRvd3Mi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="13">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzExMy4wLjAuMCBTYWZhcmkvNTM3LjM2</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="14">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZSwgYnI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="15">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cnUtUlUscnU7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjc=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="16">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="cookie" index="17">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>X2dhPUdBMS4yLjUxODEzNzM3OC4xNjg0NzQyNjEwOyBfZ2lkPUdBMS4yLjE3NzgxMzUwMDMuMTY4NDc0MjYxMDsgdXNlckNhcnQ9JTdCJTIydXNlcklkJTIyJTNBLTElMkMlMjJwcm9kdWN0c0luQ2FydCUyMiUzQSU1QiU1RCU3RA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Om1ldGhvZDogR0VUDQo6c2NoZW1lOiBodHRwcw0KOnBhdGg6IC9zZXJ2aWNlcy5wcm9wZXJ0aWVzDQo6YXV0aG9yaXR5OiB3d3cuYWR2YW50YWdlb25saW5lc2hvcHBpbmcuY29tDQpSZWZlcmVyOiBodHRwczovL3d3dy5hZHZhbnRhZ2VvbmxpbmVzaG9wcGluZy5jb20vDQpTZWMtRmV0Y2gtU2l0ZTogbm9uZQ0KU2VjLUZldGNoLU1vZGU6IG5hdmlnYXRlDQpTZWMtRmV0Y2gtRGVzdDogZG9jdW1lbnQNClNlYy1GZXRjaC1Vc2VyOiA/MQ0KVXBncmFkZS1JbnNlY3VyZS1SZXF1ZXN0czogMQ0Kc2VjLWNoLXVhOiAiR29vZ2xlIENocm9tZSI7dj0iMTEzIiwgIkNocm9taXVtIjt2PSIxMTMiLCAiTm90LUEuQnJhbmQiO3Y9IjI0Ig0Kc2VjLWNoLXVhLW1vYmlsZTogPzANCnNlYy1jaC11YS1wbGF0Zm9ybTogIldpbmRvd3MiDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTEzLjAuMC4wIFNhZmFyaS81MzcuMzYNCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZSwgYnINCkFjY2VwdC1MYW5ndWFnZTogcnUtUlUscnU7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcNCkFjY2VwdDogKi8qDQpjb29raWU6IF9nYT1HQTEuMi41MTgxMzczNzguMTY4NDc0MjYxMDsgX2dpZD1HQTEuMi4xNzc4MTM1MDAzLjE2ODQ3NDI2MTA7IHVzZXJDYXJ0PSU3QiUyMnVzZXJJZCUyMiUzQS0xJTJDJTIycHJvZHVjdHNJbkNhcnQlMjIlM0ElNUIlNUQlN0QNCg0K</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="_ga" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0ExLjIuNTE4MTM3Mzc4LjE2ODQ3NDI2MTA=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="_gid" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0ExLjIuMTc3ODEzNTAwMy4xNjg0NzQyNjEw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="userCart" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>JTdCJTIydXNlcklkJTIyJTNBLTElMkMlMjJwcm9kdWN0c0luQ2FydCUyMiUzQSU1QiU1RCU3RA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
      <HTTPPropertySet>
        <HTTPProperty name="StreamID">11</HTTPProperty>
        <HTTPProperty name="TotalHeadersSize">38</HTTPProperty>
      </HTTPPropertySet>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>1010</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Status" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MjAw</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="server" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bmdpbngvMS4xOC4wIChVYnVudHUp</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="date" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>V2VkLCAyNCBNYXkgMjAyMyAxMzowNTo0MyBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="content-length" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MTAxMA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="accept-ranges" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="etag" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Vy8iMTAxMC0xNjg0NzM3NTU1MTEzIg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="last-modified" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW9uLCAyMiBNYXkgMjAyMyAwNjozOToxNSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="cache-control" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0w</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="expires" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>V2VkLCAyNCBNYXkgMjAyMyAxMzowNTo0MyBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="strict-transport-security" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0zMTUzNjAwMDsgaW5jbHVkZVN1YkRvbWFpbnM7IHByZWxvYWQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8yLjAgMjAwDQpTdGF0dXM6IDIwMA0Kc2VydmVyOiBuZ2lueC8xLjE4LjAgKFVidW50dSkNCmRhdGU6IFdlZCwgMjQgTWF5IDIwMjMgMTM6MDU6NDMgR01UDQpjb250ZW50LWxlbmd0aDogMTAxMA0KYWNjZXB0LXJhbmdlczogYnl0ZXMNCmV0YWc6IFcvIjEwMTAtMTY4NDczNzU1NTExMyINCmxhc3QtbW9kaWZpZWQ6IE1vbiwgMjIgTWF5IDIwMjMgMDY6Mzk6MTUgR01UDQpjYWNoZS1jb250cm9sOiBtYXgtYWdlPTANCmV4cGlyZXM6IFdlZCwgMjQgTWF5IDIwMjMgMTM6MDU6NDMgR01UDQpzdHJpY3QtdHJhbnNwb3J0LXNlY3VyaXR5OiBtYXgtYWdlPTMxNTM2MDAwOyBpbmNsdWRlU3ViRG9tYWluczsgcHJlbG9hZA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>YWNjb3VudC5zb2Fwc2VydmljZS51cmwuaG9zdD0xNzIuMzEuNDMuNzMKYWNjb3VudC5zb2Fwc2VydmljZS51cmwucG9ydD04MDgyCmFjY291bnQuc29hcHNlcnZpY2UudXJsLnN1ZmZpeD0vYWNjb3VudHNlcnZpY2Uvd3MKYWNjb3VudC5zb2Fwc2VydmljZS51cmwud3NkbD0vYWNjb3VudHNlcnZpY2Uud3NkbAoKY2F0YWxvZy5zZXJ2aWNlLnVybC5ob3N0PTE3Mi4zMS40NC44NApjYXRhbG9nLnNlcnZpY2UudXJsLnBvcnQ9ODA4MApjYXRhbG9nLnNlcnZpY2UudXJsLnN1ZmZpeD1jYXRhbG9nL2FwaS92MQoKb3JkZXIuc2VydmljZS51cmwuaG9zdD0xNzIuMzEuNDQuODQKb3JkZXIuc2VydmljZS51cmwucG9ydD04MDgwCm9yZGVyLnNlcnZpY2UudXJsLnN1ZmZpeD1vcmRlci9hcGkvdjEKCm1hc3RlcmNyZWRpdC5zZXJ2aWNlLnVybC5ob3N0PTE3Mi4zMS40NC44NAptYXN0ZXJjcmVkaXQuc2VydmljZS51cmwucG9ydD04MDgwCm1hc3RlcmNyZWRpdC5zZXJ2aWNlLnVybC5zdWZmaXg9TWFzdGVyQ3JlZGl0L2FwaS92MQoKc2FmZXBheS5zZXJ2aWNlLnVybC5ob3N0PTE3Mi4zMS40NC44NApzYWZlcGF5LnNlcnZpY2UudXJsLnBvcnQ9ODA4MApzYWZlcGF5LnNlcnZpY2UudXJsLnN1ZmZpeD1TYWZlUGF5L2FwaS92MQoKc2hpcGV4LnNvYXBzZXJ2aWNlLnVybC5ob3N0PTE3Mi4zMS40NC44NApzaGlwZXguc29hcHNlcnZpY2UudXJsLnBvcnQ9ODA4MApzaGlwZXguc29hcHNlcnZpY2UudXJsLnN1ZmZpeD1TaGlwRXgKc2hpcGV4LnNvYXBzZXJ2aWNlLnVybC53c2RsPS9zaGlwZXgud3NkbAoKc2luZ2xlLm1hY2hpbmUuZGVwbG95bWVudD1mYWxzZQpyZXZlcnNlLnByb3h5PXRydWUKYW9zLmRlbW8udmVyc2lvbj0yLjEgZm9yIHByb2R1Y3Rpb24KCiNleGFtcGxlIG9yZGVyLmhpYmVybmF0ZS5kYi51cmw9amRiYzpwb3N0Z3Jlc3FsOi8vbG9jYWxob3N0OjU0MzIvYWR2LXJvb3Q/bG9nbGV2ZWw9MAojZXhhbXBsZSBvcmRlci5zZXJ2aWNlLnVybD0xNzIuMzEuNDQuODQ6ODA4MC9vcmRlcgo=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <HTTPPropertySet>
        <HTTPProperty name="StreamID">11</HTTPProperty>
        <HTTPProperty name="TotalHeadersSize">224</HTTPProperty>
      </HTTPPropertySet>
    </HTTPResponse>
  </HTTPTask>
  <HTTPTask id="7" hostname="www.advantageonlineshopping.com" path="/app/tempFiles/popularProducts.json" url="https://www.advantageonlineshopping.com/app/tempFiles/popularProducts.json" ip="54.227.55.203" port="443" client_ip="192.168.0.11" client_port="21440" connectionId="2288" origin="ExtraRes" encodingType="ANSI" ordinal="3" startDateTime="2023-05-24T16:05:41.977+03:00" startTime="852" endTime="1150" blockedTime="-1" dnsTime="-1" connectTime="-2" sendTime="4294967295" waitTime="4294967295" receiveTime="0" sslNegotiateTime="-1" responseBodySize="766">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name=":method" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VU</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name=":scheme" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name=":path" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>L2FwcC90ZW1wRmlsZXMvcG9wdWxhclByb2R1Y3RzLmpzb24=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name=":authority" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>d3d3LmFkdmFudGFnZW9ubGluZXNob3BwaW5nLmNvbQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly93d3cuYWR2YW50YWdlb25saW5lc2hvcHBpbmcuY29tLw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Site" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm9uZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Mode" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bmF2aWdhdGU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Dest" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZG9jdW1lbnQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-User" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>PzE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Upgrade-Insecure-Requests" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="sec-ch-ua" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ikdvb2dsZSBDaHJvbWUiO3Y9IjExMyIsICJDaHJvbWl1bSI7dj0iMTEzIiwgIk5vdC1BLkJyYW5kIjt2PSIyNCI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="sec-ch-ua-mobile" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>PzA=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="sec-ch-ua-platform" index="12">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IldpbmRvd3Mi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="13">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzExMy4wLjAuMCBTYWZhcmkvNTM3LjM2</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="14">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZSwgYnI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="15">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cnUtUlUscnU7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjc=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="16">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="cookie" index="17">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>X2dhPUdBMS4yLjUxODEzNzM3OC4xNjg0NzQyNjEwOyBfZ2lkPUdBMS4yLjE3NzgxMzUwMDMuMTY4NDc0MjYxMDsgdXNlckNhcnQ9JTdCJTIydXNlcklkJTIyJTNBLTElMkMlMjJwcm9kdWN0c0luQ2FydCUyMiUzQSU1QiU1RCU3RA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Om1ldGhvZDogR0VUDQo6c2NoZW1lOiBodHRwcw0KOnBhdGg6IC9hcHAvdGVtcEZpbGVzL3BvcHVsYXJQcm9kdWN0cy5qc29uDQo6YXV0aG9yaXR5OiB3d3cuYWR2YW50YWdlb25saW5lc2hvcHBpbmcuY29tDQpSZWZlcmVyOiBodHRwczovL3d3dy5hZHZhbnRhZ2VvbmxpbmVzaG9wcGluZy5jb20vDQpTZWMtRmV0Y2gtU2l0ZTogbm9uZQ0KU2VjLUZldGNoLU1vZGU6IG5hdmlnYXRlDQpTZWMtRmV0Y2gtRGVzdDogZG9jdW1lbnQNClNlYy1GZXRjaC1Vc2VyOiA/MQ0KVXBncmFkZS1JbnNlY3VyZS1SZXF1ZXN0czogMQ0Kc2VjLWNoLXVhOiAiR29vZ2xlIENocm9tZSI7dj0iMTEzIiwgIkNocm9taXVtIjt2PSIxMTMiLCAiTm90LUEuQnJhbmQiO3Y9IjI0Ig0Kc2VjLWNoLXVhLW1vYmlsZTogPzANCnNlYy1jaC11YS1wbGF0Zm9ybTogIldpbmRvd3MiDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTEzLjAuMC4wIFNhZmFyaS81MzcuMzYNCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZSwgYnINCkFjY2VwdC1MYW5ndWFnZTogcnUtUlUscnU7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcNCkFjY2VwdDogKi8qDQpjb29raWU6IF9nYT1HQTEuMi41MTgxMzczNzguMTY4NDc0MjYxMDsgX2dpZD1HQTEuMi4xNzc4MTM1MDAzLjE2ODQ3NDI2MTA7IHVzZXJDYXJ0PSU3QiUyMnVzZXJJZCUyMiUzQS0xJTJDJTIycHJvZHVjdHNJbkNhcnQlMjIlM0ElNUIlNUQlN0QNCg0K</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="_ga" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0ExLjIuNTE4MTM3Mzc4LjE2ODQ3NDI2MTA=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="_gid" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0ExLjIuMTc3ODEzNTAwMy4xNjg0NzQyNjEw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="userCart" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>JTdCJTIydXNlcklkJTIyJTNBLTElMkMlMjJwcm9kdWN0c0luQ2FydCUyMiUzQSU1QiU1RCU3RA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
      <HTTPPropertySet>
        <HTTPProperty name="StreamID">13</HTTPProperty>
        <HTTPProperty name="TotalHeadersSize">49</HTTPProperty>
      </HTTPPropertySet>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>0</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Status" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MjAw</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="server" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bmdpbngvMS4xOC4wIChVYnVudHUp</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="date" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>V2VkLCAyNCBNYXkgMjAyMyAxMzowNTo0MyBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="content-type" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vanNvbg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="accept-ranges" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="etag" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Vy8iMjMyMy0xNjQxODEwNTEyMDAwIg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="last-modified" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW9uLCAxMCBKYW4gMjAyMiAxMDoyODozMiBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="cache-control" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0w</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="expires" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>V2VkLCAyNCBNYXkgMjAyMyAxMzowNTo0MyBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="vary" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YWNjZXB0LWVuY29kaW5n</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="content-encoding" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="strict-transport-security" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0zMTUzNjAwMDsgaW5jbHVkZVN1YkRvbWFpbnM7IHByZWxvYWQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8yLjAgMjAwDQpTdGF0dXM6IDIwMA0Kc2VydmVyOiBuZ2lueC8xLjE4LjAgKFVidW50dSkNCmRhdGU6IFdlZCwgMjQgTWF5IDIwMjMgMTM6MDU6NDMgR01UDQpjb250ZW50LXR5cGU6IGFwcGxpY2F0aW9uL2pzb24NCmFjY2VwdC1yYW5nZXM6IGJ5dGVzDQpldGFnOiBXLyIyMzIzLTE2NDE4MTA1MTIwMDAiDQpsYXN0LW1vZGlmaWVkOiBNb24sIDEwIEphbiAyMDIyIDEwOjI4OjMyIEdNVA0KY2FjaGUtY29udHJvbDogbWF4LWFnZT0wDQpleHBpcmVzOiBXZWQsIDI0IE1heSAyMDIzIDEzOjA1OjQzIEdNVA0KdmFyeTogYWNjZXB0LWVuY29kaW5nDQpjb250ZW50LWVuY29kaW5nOiBnemlwDQpzdHJpY3QtdHJhbnNwb3J0LXNlY3VyaXR5OiBtYXgtYWdlPTMxNTM2MDAwOyBpbmNsdWRlU3ViRG9tYWluczsgcHJlbG9hZA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>W3siaWQiOiAxNiwKICAicHJvZHVjdE5hbWUiOiAiSFAgRUxJVEVQQUQgMTAwMCBHMiBUQUJMRVQiLAogICJwcmljZSI6IDU1MCwKICAiZGVzY3JpcHRpb24iOiAiTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdCIsCiAgImltYWdlVXJsIiA6ICJjc3MvaW1hZ2VzL1BvcHVsYXItaXRlbTMuanBnIiwKICAiYXR0cmlidXRlcyIgOiBbCiAgICB7ImF0dHJpYnV0ZU5hbWUiIDogIlBSSUNFIiwgImF0dHJpYnV0ZVZhbHVlIiA6IDQwMH0sCiAgICB7ImF0dHJpYnV0ZU5hbWUiIDogIkNPTE9SIiwgImF0dHJpYnV0ZVZhbHVlIiA6ICJGRkZGRkYifSwKICAgIHsiYXR0cmlidXRlTmFtZSIgOiAiT1BFUkFUSU5HIFNZU1RFTSIsICJhdHRyaWJ1dGVWYWx1ZSIgOiAiQ2hyb21lIn0sCiAgICB7ImF0dHJpYnV0ZU5hbWUiIDogIkNVU1RPTUlaQVRJT04iLCAiYXR0cmlidXRlVmFsdWUiIDogIkdhbWluZyJ9LAogICAgeyJhdHRyaWJ1dGVOYW1lIiA6ICJQUk9DRVNTT1IiLCAiYXR0cmlidXRlVmFsdWUiIDogImludGVsKFIpIENvcmUoVE0pIGk1LTYzMDBIUSJ9LAogICAgeyJhdHRyaWJ1dGVOYW1lIiA6ICJESVNQTEFZIiwgImF0dHJpYnV0ZVZhbHVlIiA6ICIxNS42LWluY2ggZGlhZ29uYWwgSEQgQnJpZ2h0VmlldyBXTEVELWJhY2tsaXQgRGlzcGxheSAoMTM2Nng3NjgpIn0sCiAgICB7ImF0dHJpYnV0ZU5hbWUiIDogIk1FTU9SWSIsICJhdHRyaWJ1dGVWYWx1ZSIgOiAiMTZHQiBERFIzIC0gMiBESU1NIn0KICBdfSx7ImlkIjogMTAsCiAgInByb2R1Y3ROYW1lIjogIkhQIEVsaXRlQm9vayBGb2xpbyIsCiAgInByaWNlIjogNTUwLAogICJkZXNjcmlwdGlvbiI6ICJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0IiwKICAiaW1hZ2VVcmwiIDogImNzcy9pbWFnZXMvUG9wdWxhci1pdGVtMi5qcGciLAogICJhdHRyaWJ1dGVzIiA6IFsKICAgIHsiYXR0cmlidXRlTmFtZSIgOiAiUFJJQ0UiLCAiYXR0cmlidXRlVmFsdWUiIDogNDAwfSwKICAgIHsiYXR0cmlidXRlTmFtZSIgOiAiQ09MT1IiLCAiYXR0cmlidXRlVmFsdWUiIDogIkZGRkZGRiJ9LAogICAgeyJhdHRyaWJ1dGVOYW1lIiA6ICJPUEVSQVRJTkcgU1lTVEVNIiwgImF0dHJpYnV0ZVZhbHVlIiA6ICJDaHJvbWUifSwKICAgIHsiYXR0cmlidXRlTmFtZSIgOiAiQ1VTVE9NSVpBVElPTiIsICJhdHRyaWJ1dGVWYWx1ZSIgOiAiR2FtaW5nIn0sCiAgICB7ImF0dHJpYnV0ZU5hbWUiIDogIlBST0NFU1NPUiIsICJhdHRyaWJ1dGVWYWx1ZSIgOiAiaW50ZWwoUikgQ29yZShUTSkgaTUtNjMwMEhRIn0sCiAgICB7ImF0dHJpYnV0ZU5hbWUiIDogIkRJU1BMQVkiLCAiYXR0cmlidXRlVmFsdWUiIDogIjE1LjYtaW5jaCBkaWFnb25hbCBIRCBCcmlnaHRWaWV3IFdMRUQtYmFja2xpdCBEaXNwbGF5ICgxMzY2eDc2OCkifSwKICAgIHsiYXR0cmlidXRlTmFtZSIgOiAiTUVNT1JZIiwgImF0dHJpYnV0ZVZhbHVlIiA6ICIxNkdCIEREUjMgLSAyIERJTU0ifQogIF19LAogIHsiaWQiOiAyMSwKICAgICJwcm9kdWN0TmFtZSI6ICJIUCBST0FSIFBMVVMgV0lSRUxFU1MgU1BFQUtFUiIsCiAgICAicHJpY2UiOiA1NTAsCiAgICAiZGVzY3JpcHRpb24iOiAiTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdCIsCiAgICAiaW1hZ2VVcmwiIDogImNzcy9pbWFnZXMvUG9wdWxhci1pdGVtMS5qcGciLAogICAgImF0dHJpYnV0ZXMiIDogWwogICAgICB7ImF0dHJpYnV0ZU5hbWUiIDogIlBSSUNFIiwgImF0dHJpYnV0ZVZhbHVlIiA6IDQwMH0sCiAgICAgIHsiYXR0cmlidXRlTmFtZSIgOiAiQ09MT1IiLCAiYXR0cmlidXRlVmFsdWUiIDogIkZGRkZGRiJ9LAogICAgICB7ImF0dHJpYnV0ZU5hbWUiIDogIk9QRVJBVElORyBTWVNURU0iLCAiYXR0cmlidXRlVmFsdWUiIDogIkNocm9tZSJ9LAogICAgICB7ImF0dHJpYnV0ZU5hbWUiIDogIkNVU1RPTUlaQVRJT04iLCAiYXR0cmlidXRlVmFsdWUiIDogIkdhbWluZyJ9LAogICAgICB7ImF0dHJpYnV0ZU5hbWUiIDogIlBST0NFU1NPUiIsICJhdHRyaWJ1dGVWYWx1ZSIgOiAiaW50ZWwoUikgQ29yZShUTSkgaTUtNjMwMEhRIn0sCiAgICAgIHsiYXR0cmlidXRlTmFtZSIgOiAiRElTUExBWSIsICJhdHRyaWJ1dGVWYWx1ZSIgOiAiMTUuNi1pbmNoIGRpYWdvbmFsIEhEIEJyaWdodFZpZXcgV0xFRC1iYWNrbGl0IERpc3BsYXkgKDEzNjZ4NzY4KSJ9LAogICAgICB7ImF0dHJpYnV0ZU5hbWUiIDogIk1FTU9SWSIsICJhdHRyaWJ1dGVWYWx1ZSIgOiAiMTZHQiBERFIzIC0gMiBESU1NIn0KICAgIF19XQ==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <HTTPPropertySet>
        <HTTPProperty name="StreamID">13</HTTPProperty>
        <HTTPProperty name="TotalHeadersSize">266</HTTPProperty>
      </HTTPPropertySet>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>